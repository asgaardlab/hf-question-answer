!!python/object:huggingface_hub.community.DiscussionWithDetails
author: shiyu-wangbyte
conflicting_files: null
created_at: 2023-06-27 05:16:06+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/649a7d47342f1414835ddbc0/dkJx3rX8gTQ5glOqG3WIj.jpeg?w=200&h=200&f=face
      fullname: Shiyu Wang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shiyu-wangbyte
      type: user
    createdAt: '2023-06-27T06:16:06.000Z'
    data:
      edited: false
      editors:
      - shiyu-wangbyte
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8607908487319946
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/649a7d47342f1414835ddbc0/dkJx3rX8gTQ5glOqG3WIj.jpeg?w=200&h=200&f=face
          fullname: Shiyu Wang
          isHf: false
          isPro: false
          name: shiyu-wangbyte
          type: user
        html: '<p>The model weights are not tied. Please use the <code>tie_weights</code>
          method before using the <code>infer_auto_device</code> function.</p>

          <p>Anyone know the meaning of this warning?</p>

          '
        raw: "The model weights are not tied. Please use the `tie_weights` method\
          \ before using the `infer_auto_device` function.\r\n\r\nAnyone know the\
          \ meaning of this warning?"
        updatedAt: '2023-06-27T06:16:06.775Z'
      numEdits: 0
      reactions: []
    id: 649a7ea620a3399ff5c092cf
    type: comment
  author: shiyu-wangbyte
  content: "The model weights are not tied. Please use the `tie_weights` method before\
    \ using the `infer_auto_device` function.\r\n\r\nAnyone know the meaning of this\
    \ warning?"
  created_at: 2023-06-27 05:16:06+00:00
  edited: false
  hidden: false
  id: 649a7ea620a3399ff5c092cf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/251ff81f0ddcc0a57e663438b481aeff.svg
      fullname: Anuj Gautam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gtmanuj
      type: user
    createdAt: '2023-06-27T07:24:17.000Z'
    data:
      edited: false
      editors:
      - gtmanuj
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9715828895568848
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/251ff81f0ddcc0a57e663438b481aeff.svg
          fullname: Anuj Gautam
          isHf: false
          isPro: false
          name: gtmanuj
          type: user
        html: '<p>I also got the same error.</p>

          '
        raw: 'I also got the same error.

          '
        updatedAt: '2023-06-27T07:24:17.404Z'
      numEdits: 0
      reactions: []
    id: 649a8ea1f542acd297a9e5eb
    type: comment
  author: gtmanuj
  content: 'I also got the same error.

    '
  created_at: 2023-06-27 06:24:17+00:00
  edited: false
  hidden: false
  id: 649a8ea1f542acd297a9e5eb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d0176199a0b65a8c6654d985cb31e17.svg
      fullname: Marc Casals i Salvador
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: marccasals
      type: user
    createdAt: '2023-07-03T13:37:05.000Z'
    data:
      edited: true
      editors:
      - marccasals
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7362762689590454
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d0176199a0b65a8c6654d985cb31e17.svg
          fullname: Marc Casals i Salvador
          isHf: false
          isPro: false
          name: marccasals
          type: user
        html: "<p>I have the same problem. I tried to do:</p>\n<pre><code class=\"\
          language-python\">model = LlamaForCausalLM.from_pretrained(\n    model_path,\
          \ torch_dtype=torch.float16, device_map=<span class=\"hljs-string\">'auto'</span>,\
          \ \n)\nmodel.tie_weights()\n</code></pre>\n<p>But it did persist.</p>\n"
        raw: "I have the same problem. I tried to do:\n\n```python\nmodel = LlamaForCausalLM.from_pretrained(\n\
          \    model_path, torch_dtype=torch.float16, device_map='auto', \n)\nmodel.tie_weights()\n\
          ```\n\nBut it did persist."
        updatedAt: '2023-07-03T13:37:19.761Z'
      numEdits: 1
      reactions: []
    id: 64a2cf0169c6683d9f9e0ce5
    type: comment
  author: marccasals
  content: "I have the same problem. I tried to do:\n\n```python\nmodel = LlamaForCausalLM.from_pretrained(\n\
    \    model_path, torch_dtype=torch.float16, device_map='auto', \n)\nmodel.tie_weights()\n\
    ```\n\nBut it did persist."
  created_at: 2023-07-03 12:37:05+00:00
  edited: true
  hidden: false
  id: 64a2cf0169c6683d9f9e0ce5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: openlm-research/open_llama_13b
repo_type: model
status: open
target_branch: null
title: tied weights
