!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xianf
conflicting_files: null
created_at: 2023-12-06 06:11:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4ee8601a4706d5df385d223bb273b7fc.svg
      fullname: xianfeng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xianf
      type: user
    createdAt: '2023-12-06T06:11:28.000Z'
    data:
      edited: false
      editors:
      - xianf
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5194475650787354
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4ee8601a4706d5df385d223bb273b7fc.svg
          fullname: xianfeng
          isHf: false
          isPro: false
          name: xianf
          type: user
        html: "<p>\u6211\u4F7F\u7528\u81EA\u5DF1\u7684 finetune \u811A\u672C\u8FDB\
          \u884C finetune\uFF0C\u662F\u901A\u8FC7 transformers \u7684 run_clm.py \u8FDB\
          \u884C\u6570\u636E\u5904\u7406\u4E0A\u7684\u7B80\u5355\u4FEE\u6539\uFF0C\
          \u683C\u5F0F\u662F alpaca \u7684\u683C\u5F0F\uFF0C\u6570\u636E\u7684\u662F\
          \ WMT \u7684\u7FFB\u8BD1\u6570\u636E\u3002\u8F93\u5165\u7684\u6570\u636E\
          \u683C\u5F0F\u4E3A\uFF1A</p>\n<pre><code># json \u6570\u636E\uFF0C\u7531\
          \ instruction\u3001input\u3001output \u7EC4\u6210\nrank: 0 raw datasets:\
          \ {\n'instruction': 'Write a response that appropriately completes the request.\\\
          n\\n### Request:\\nTranslate from English to Chinese.\\nThat would have\
          \ meant too much pressure.\\n\\n### Response:', \n'input': 'That would have\
          \ meant too much pressure.', \n'output': '\u8FD9\u4F1A\u7ED9\u6211\u5E26\
          \u6765\u592A\u5927\u7684\u538B\u529B\u3002', \n'labels': '\u8FD9\u4F1A\u7ED9\
          \u6211\u5E26\u6765\u592A\u5927\u7684\u538B\u529B\u3002'\n}\n\n# -100 \u662F\
          \ transformers \u9ED8\u8BA4\u4F1A\u5FFD\u7565\u7684 id\uFF0C\u6240\u4EE5\
          \ label \u7528-100 \u8FDB\u884C\u586B\u5145\nrank: 0 lm datasets: {\n'labels':\
          \ [-100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, 43288, 36993, 104169, 100393, 99222, 99750,\
          \ 101950, 1773, 151643, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100], \n'input_ids':\
          \ [7985, 264, 2033, 429, 34901, 44595, 279, 1681, 382, 14374, 6145, 510,\
          \ 27473, 504, 6364, 311, 8453, 624, 4792, 1035, 614, 8791, 2238, 1753, 7262,\
          \ 382, 14374, 5949, 25, 43288, 36993, 104169, 100393, 99222, 99750, 101950,\
          \ 1773, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643], \n'attention_mask':\
          \ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
          \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0]\n}\n\n# decode \u5F97\u5230\u7684\u7ED3\u679C\
          \uFF0C\u683C\u5F0F\u7B26\u5408\u9884\u671F\nrank: 0 detok_input_ids: Write\
          \ a response that appropriately completes the request.\n\n### Request:\n\
          Translate from English to Chinese.\nThat would have meant too much pressure.\n\
          \n### Response:\u8FD9\u4F1A\u7ED9\u6211\u5E26\u6765\u592A\u5927\u7684\u538B\
          \u529B\u3002&lt;|endoftext|&gt;&lt;|endoftext|&gt;&lt;|endoftext|&gt;...\
          \ #\u540E\u9762\u5168\u662F endoftext\n</code></pre>\n<p>finetune \u5B8C\
          \u7684 loss \u7ED3\u679C\u770B\u8D77\u6765\u6BD4\u8F83\u6B63\u5E38\uFF1A\
          </p>\n<pre><code>***** train metrics *****\nepoch                    = \
          \       1.0\ntrain_loss               =     1.7106\ntrain_runtime      \
          \      = 0:04:27.49\ntrain_samples            =         -1\ntrain_samples_per_second\
          \ =    169.825\ntrain_steps_per_second   =      0.265\n[2023-12-05 11:54:55,808]\
          \ [INFO] [launch.py:347:main] Process 260 exits successfully.\n</code></pre>\n\
          <p>\u5F53\u6A21\u578B\u8FDB\u884C inference \u7684\u65F6\u5019\uFF0C\u751F\
          \u6210\u7684\u7ED3\u679C\u5168\u662F\u91CD\u590D\u7684\u5B57\u7B26\uFF1A\
          </p>\n<pre><code>input_ids: {'input_ids': tensor([[ 7985,   264,  2033,\
          \   429, 34901, 44595,   279,  1681,   382, 14374,\n          6145,   510,\
          \ 27473,   279,  2701, 22870,   504,  6364,   311,  8453,\n           624,\
          \  2121,   807,   834,  1605,   432,    11,   422,   679,  3855,\n     \
          \      311, 10955,   911,  6438,  1059,  6562,    13,  1036,  3838,   653,\n\
          \           358,  1977,   311,  1105,    30,   358,  1265, 19131,  7037,\
          \    11,\n          4658,    13,  3369, 13048,     0,   358,  2776,   422,\
          \   679,  3159,\n          7511, 14374,  5949,    25]], device='cuda:0'),\
          \ 'token_type_ids': tensor([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n         0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0]], device='cuda:0'), 'attention_mask': tensor([[1,\
          \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\n\
          \         1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
          \ 1, 1, 1,\n         1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]], device='cuda:0')}\n\
          generated: Write a response that appropriately completes the request.###\
          \ Request:Translate the following sentences from English to Chinese.As they\
          \ neared it, Dory started to worry about meeting her parents. \u201CWhat\
          \ do I say to them? I should introduce myself, probably. \u2018Hi! I'm Dory.'\u201D\
          ### Response:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\n\
          </code></pre>\n"
        raw: "\u6211\u4F7F\u7528\u81EA\u5DF1\u7684 finetune \u811A\u672C\u8FDB\u884C\
          \ finetune\uFF0C\u662F\u901A\u8FC7 transformers \u7684 run_clm.py \u8FDB\
          \u884C\u6570\u636E\u5904\u7406\u4E0A\u7684\u7B80\u5355\u4FEE\u6539\uFF0C\
          \u683C\u5F0F\u662F alpaca \u7684\u683C\u5F0F\uFF0C\u6570\u636E\u7684\u662F\
          \ WMT \u7684\u7FFB\u8BD1\u6570\u636E\u3002\u8F93\u5165\u7684\u6570\u636E\
          \u683C\u5F0F\u4E3A\uFF1A\r\n```\r\n# json \u6570\u636E\uFF0C\u7531 instruction\u3001\
          input\u3001output \u7EC4\u6210\r\nrank: 0 raw datasets: {\r\n'instruction':\
          \ 'Write a response that appropriately completes the request.\\n\\n### Request:\\\
          nTranslate from English to Chinese.\\nThat would have meant too much pressure.\\\
          n\\n### Response:', \r\n'input': 'That would have meant too much pressure.',\
          \ \r\n'output': '\u8FD9\u4F1A\u7ED9\u6211\u5E26\u6765\u592A\u5927\u7684\u538B\
          \u529B\u3002', \r\n'labels': '\u8FD9\u4F1A\u7ED9\u6211\u5E26\u6765\u592A\
          \u5927\u7684\u538B\u529B\u3002'\r\n}\r\n\r\n# -100 \u662F transformers \u9ED8\
          \u8BA4\u4F1A\u5FFD\u7565\u7684 id\uFF0C\u6240\u4EE5 label \u7528-100 \u8FDB\
          \u884C\u586B\u5145\r\nrank: 0 lm datasets: {\r\n'labels': [-100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, 43288, 36993, 104169, 100393, 99222, 99750, 101950, 1773,\
          \ 151643, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
          \ -100, -100, -100, -100, -100, -100, -100], \r\n'input_ids': [7985, 264,\
          \ 2033, 429, 34901, 44595, 279, 1681, 382, 14374, 6145, 510, 27473, 504,\
          \ 6364, 311, 8453, 624, 4792, 1035, 614, 8791, 2238, 1753, 7262, 382, 14374,\
          \ 5949, 25, 43288, 36993, 104169, 100393, 99222, 99750, 101950, 1773, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
          \ 151643, 151643, 151643, 151643, 151643, 151643], \r\n'attention_mask':\
          \ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
          \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n}\r\n\r\n# decode \u5F97\u5230\u7684\u7ED3\
          \u679C\uFF0C\u683C\u5F0F\u7B26\u5408\u9884\u671F\r\nrank: 0 detok_input_ids:\
          \ Write a response that appropriately completes the request.\r\n\r\n###\
          \ Request:\r\nTranslate from English to Chinese.\r\nThat would have meant\
          \ too much pressure.\r\n\r\n### Response:\u8FD9\u4F1A\u7ED9\u6211\u5E26\u6765\
          \u592A\u5927\u7684\u538B\u529B\u3002<|endoftext|><|endoftext|><|endoftext|>...\
          \ #\u540E\u9762\u5168\u662F endoftext\r\n```\r\nfinetune \u5B8C\u7684 loss\
          \ \u7ED3\u679C\u770B\u8D77\u6765\u6BD4\u8F83\u6B63\u5E38\uFF1A\r\n```\r\n\
          ***** train metrics *****\r\nepoch                    =        1.0\r\ntrain_loss\
          \               =     1.7106\r\ntrain_runtime            = 0:04:27.49\r\n\
          train_samples            =         -1\r\ntrain_samples_per_second =    169.825\r\
          \ntrain_steps_per_second   =      0.265\r\n[2023-12-05 11:54:55,808] [INFO]\
          \ [launch.py:347:main] Process 260 exits successfully.\r\n```\r\n\u5F53\u6A21\
          \u578B\u8FDB\u884C inference \u7684\u65F6\u5019\uFF0C\u751F\u6210\u7684\u7ED3\
          \u679C\u5168\u662F\u91CD\u590D\u7684\u5B57\u7B26\uFF1A\r\n```\r\ninput_ids:\
          \ {'input_ids': tensor([[ 7985,   264,  2033,   429, 34901, 44595,   279,\
          \  1681,   382, 14374,\r\n          6145,   510, 27473,   279,  2701, 22870,\
          \   504,  6364,   311,  8453,\r\n           624,  2121,   807,   834,  1605,\
          \   432,    11,   422,   679,  3855,\r\n           311, 10955,   911,  6438,\
          \  1059,  6562,    13,  1036,  3838,   653,\r\n           358,  1977,  \
          \ 311,  1105,    30,   358,  1265, 19131,  7037,    11,\r\n          4658,\
          \    13,  3369, 13048,     0,   358,  2776,   422,   679,  3159,\r\n   \
          \       7511, 14374,  5949,    25]], device='cuda:0'), 'token_type_ids':\
          \ tensor([[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0,\r\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0, 0, 0, 0, 0,\r\n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
          \ 0, 0, 0]], device='cuda:0'), 'attention_mask': tensor([[1, 1, 1, 1, 1,\
          \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\r\n         1,\
          \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\r\
          \n         1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]], device='cuda:0')}\r\
          \ngenerated: Write a response that appropriately completes the request.###\
          \ Request:Translate the following sentences from English to Chinese.As they\
          \ neared it, Dory started to worry about meeting her parents. \u201CWhat\
          \ do I say to them? I should introduce myself, probably. \u2018Hi! I'm Dory.'\u201D\
          ### Response:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\
          \n```"
        updatedAt: '2023-12-06T06:11:28.641Z'
      numEdits: 0
      reactions: []
    id: 6570109024baa875505b4b39
    type: comment
  author: xianf
  content: "\u6211\u4F7F\u7528\u81EA\u5DF1\u7684 finetune \u811A\u672C\u8FDB\u884C\
    \ finetune\uFF0C\u662F\u901A\u8FC7 transformers \u7684 run_clm.py \u8FDB\u884C\
    \u6570\u636E\u5904\u7406\u4E0A\u7684\u7B80\u5355\u4FEE\u6539\uFF0C\u683C\u5F0F\
    \u662F alpaca \u7684\u683C\u5F0F\uFF0C\u6570\u636E\u7684\u662F WMT \u7684\u7FFB\
    \u8BD1\u6570\u636E\u3002\u8F93\u5165\u7684\u6570\u636E\u683C\u5F0F\u4E3A\uFF1A\
    \r\n```\r\n# json \u6570\u636E\uFF0C\u7531 instruction\u3001input\u3001output\
    \ \u7EC4\u6210\r\nrank: 0 raw datasets: {\r\n'instruction': 'Write a response\
    \ that appropriately completes the request.\\n\\n### Request:\\nTranslate from\
    \ English to Chinese.\\nThat would have meant too much pressure.\\n\\n### Response:',\
    \ \r\n'input': 'That would have meant too much pressure.', \r\n'output': '\u8FD9\
    \u4F1A\u7ED9\u6211\u5E26\u6765\u592A\u5927\u7684\u538B\u529B\u3002', \r\n'labels':\
    \ '\u8FD9\u4F1A\u7ED9\u6211\u5E26\u6765\u592A\u5927\u7684\u538B\u529B\u3002'\r\
    \n}\r\n\r\n# -100 \u662F transformers \u9ED8\u8BA4\u4F1A\u5FFD\u7565\u7684 id\uFF0C\
    \u6240\u4EE5 label \u7528-100 \u8FDB\u884C\u586B\u5145\r\nrank: 0 lm datasets:\
    \ {\r\n'labels': [-100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, 43288, 36993, 104169, 100393, 99222, 99750,\
    \ 101950, 1773, 151643, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100, -100,\
    \ -100, -100, -100, -100, -100, -100, -100, -100, -100, -100], \r\n'input_ids':\
    \ [7985, 264, 2033, 429, 34901, 44595, 279, 1681, 382, 14374, 6145, 510, 27473,\
    \ 504, 6364, 311, 8453, 624, 4792, 1035, 614, 8791, 2238, 1753, 7262, 382, 14374,\
    \ 5949, 25, 43288, 36993, 104169, 100393, 99222, 99750, 101950, 1773, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643, 151643,\
    \ 151643, 151643, 151643, 151643], \r\n'attention_mask': [1, 1, 1, 1, 1, 1, 1,\
    \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
    \ 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n}\r\n\r\n# decode \u5F97\u5230\u7684\u7ED3\
    \u679C\uFF0C\u683C\u5F0F\u7B26\u5408\u9884\u671F\r\nrank: 0 detok_input_ids: Write\
    \ a response that appropriately completes the request.\r\n\r\n### Request:\r\n\
    Translate from English to Chinese.\r\nThat would have meant too much pressure.\r\
    \n\r\n### Response:\u8FD9\u4F1A\u7ED9\u6211\u5E26\u6765\u592A\u5927\u7684\u538B\
    \u529B\u3002<|endoftext|><|endoftext|><|endoftext|>... #\u540E\u9762\u5168\u662F\
    \ endoftext\r\n```\r\nfinetune \u5B8C\u7684 loss \u7ED3\u679C\u770B\u8D77\u6765\
    \u6BD4\u8F83\u6B63\u5E38\uFF1A\r\n```\r\n***** train metrics *****\r\nepoch  \
    \                  =        1.0\r\ntrain_loss               =     1.7106\r\ntrain_runtime\
    \            = 0:04:27.49\r\ntrain_samples            =         -1\r\ntrain_samples_per_second\
    \ =    169.825\r\ntrain_steps_per_second   =      0.265\r\n[2023-12-05 11:54:55,808]\
    \ [INFO] [launch.py:347:main] Process 260 exits successfully.\r\n```\r\n\u5F53\
    \u6A21\u578B\u8FDB\u884C inference \u7684\u65F6\u5019\uFF0C\u751F\u6210\u7684\u7ED3\
    \u679C\u5168\u662F\u91CD\u590D\u7684\u5B57\u7B26\uFF1A\r\n```\r\ninput_ids: {'input_ids':\
    \ tensor([[ 7985,   264,  2033,   429, 34901, 44595,   279,  1681,   382, 14374,\r\
    \n          6145,   510, 27473,   279,  2701, 22870,   504,  6364,   311,  8453,\r\
    \n           624,  2121,   807,   834,  1605,   432,    11,   422,   679,  3855,\r\
    \n           311, 10955,   911,  6438,  1059,  6562,    13,  1036,  3838,   653,\r\
    \n           358,  1977,   311,  1105,    30,   358,  1265, 19131,  7037,    11,\r\
    \n          4658,    13,  3369, 13048,     0,   358,  2776,   422,   679,  3159,\r\
    \n          7511, 14374,  5949,    25]], device='cuda:0'), 'token_type_ids': tensor([[0,\
    \ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\n   \
    \      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\r\
    \n         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]], device='cuda:0'),\
    \ 'attention_mask': tensor([[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
    \ 1, 1, 1, 1, 1, 1, 1,\r\n         1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
    \ 1, 1, 1, 1, 1, 1, 1, 1, 1,\r\n         1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
    \ 1, 1, 1]], device='cuda:0')}\r\ngenerated: Write a response that appropriately\
    \ completes the request.### Request:Translate the following sentences from English\
    \ to Chinese.As they neared it, Dory started to worry about meeting her parents.\
    \ \u201CWhat do I say to them? I should introduce myself, probably. \u2018Hi!\
    \ I'm Dory.'\u201D### Response:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::\r\
    \n```"
  created_at: 2023-12-06 06:11:28+00:00
  edited: false
  hidden: false
  id: 6570109024baa875505b4b39
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/19f9eeb9281b47b34f68c312092ca468.svg
      fullname: Yu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Yhyu13
      type: user
    createdAt: '2023-12-06T14:20:32.000Z'
    data:
      edited: false
      editors:
      - Yhyu13
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.986510157585144
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/19f9eeb9281b47b34f68c312092ca468.svg
          fullname: Yu
          isHf: false
          isPro: false
          name: Yhyu13
          type: user
        html: '<p>There was an update made for attention that fix potential bug in
          fine tuning, did you manage to get to the latest commit before your that
          round of fine tuning?</p>

          '
        raw: There was an update made for attention that fix potential bug in fine
          tuning, did you manage to get to the latest commit before your that round
          of fine tuning?
        updatedAt: '2023-12-06T14:20:32.365Z'
      numEdits: 0
      reactions: []
    id: 657083300b27583c9d6939d3
    type: comment
  author: Yhyu13
  content: There was an update made for attention that fix potential bug in fine tuning,
    did you manage to get to the latest commit before your that round of fine tuning?
  created_at: 2023-12-06 14:20:32+00:00
  edited: false
  hidden: false
  id: 657083300b27583c9d6939d3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4ee8601a4706d5df385d223bb273b7fc.svg
      fullname: xianfeng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xianf
      type: user
    createdAt: '2023-12-07T02:51:17.000Z'
    data:
      edited: false
      editors:
      - xianf
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9818902611732483
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4ee8601a4706d5df385d223bb273b7fc.svg
          fullname: xianfeng
          isHf: false
          isPro: false
          name: xianf
          type: user
        html: '<blockquote>

          <p>There was an update made for attention that fix potential bug in fine
          tuning, did you manage to get to the latest commit before your that round
          of fine tuning?</p>

          </blockquote>

          <p>Thanks for your reply. I made an update with the latest commit and the
          output is still repeating some tokens but the repeated token has changed
          to some other tokens. Still trying to figure it out... </p>

          '
        raw: '> There was an update made for attention that fix potential bug in fine
          tuning, did you manage to get to the latest commit before your that round
          of fine tuning?


          Thanks for your reply. I made an update with the latest commit and the output
          is still repeating some tokens but the repeated token has changed to some
          other tokens. Still trying to figure it out... '
        updatedAt: '2023-12-07T02:51:17.548Z'
      numEdits: 0
      reactions: []
    id: 657133251a22eb9b09b72837
    type: comment
  author: xianf
  content: '> There was an update made for attention that fix potential bug in fine
    tuning, did you manage to get to the latest commit before your that round of fine
    tuning?


    Thanks for your reply. I made an update with the latest commit and the output
    is still repeating some tokens but the repeated token has changed to some other
    tokens. Still trying to figure it out... '
  created_at: 2023-12-07 02:51:17+00:00
  edited: false
  hidden: false
  id: 657133251a22eb9b09b72837
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: Qwen/Qwen-1_8B
repo_type: model
status: open
target_branch: null
title: "QWEN-1.8B finetune \u4E4B\u540E\u8F93\u51FA\u5168\u662F\u91CD\u590D\u7684\
  \ token"
