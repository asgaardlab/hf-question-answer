!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ghthaker1955
conflicting_files: null
created_at: 2023-12-12 04:20:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/27f91ea801fd851b66e0b2d41fa4ba5e.svg
      fullname: Gautam Thaker
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ghthaker1955
      type: user
    createdAt: '2023-12-12T04:20:05.000Z'
    data:
      edited: false
      editors:
      - ghthaker1955
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5512717366218567
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/27f91ea801fd851b66e0b2d41fa4ba5e.svg
          fullname: Gautam Thaker
          isHf: false
          isPro: false
          name: ghthaker1955
          type: user
        html: "<p>I am following instructions on </p>\n<p><a rel=\"nofollow\" href=\"\
          https://replicate.com/docs/guides/push-a-transformers-model#intro\">https://replicate.com/docs/guides/push-a-transformers-model#intro</a></p>\n\
          <p>i have setup a huggingface  access token and and get quite a bit into\
          \ the process. But I finally get:</p>\n<p>Token will not been saved to git\
          \ credential helper. Pass <code>add_to_git_credential=True</code> if you\
          \ want to set the git credential as well.<br>Token is valid (permission:\
          \ read).<br>Your token has been saved to /root/.cache/huggingface/token<br>Login\
          \ successful<br>config.json: 100%|<br>...<br>Traceback (most recent call\
          \ last):<br>  File \"/src/script/download_weights\", line 16, in <br>  \
          \  model = AutoModelForCausalLM.from_pretrained('epfl-llm/meditron-70b',\
          \ cache_dir=CACHE_DIR)<br>  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py\"\
          , line 434, in from_pretrained<br>    config, kwargs = AutoConfig.from_pretrained(<br>\
          \  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py\"\
          , line 873, in from_pretrained<br>    config_class = CONFIG_MAPPING[config_dict[\"\
          model_type\"]]<br>  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py\"\
          , line 579, in <strong>getitem</strong><br>    raise KeyError(key)<br>KeyError:\
          \ 'llama'<br>\u2179 exit status 1</p>\n<p>Any help welcome.</p>\n"
        raw: "I am following instructions on \r\n\r\nhttps://replicate.com/docs/guides/push-a-transformers-model#intro\r\
          \n\r\ni have setup a huggingface  access token and and get quite a bit into\
          \ the process. But I finally get:\r\n\r\n\r\nToken will not been saved to\
          \ git credential helper. Pass `add_to_git_credential=True` if you want to\
          \ set the git credential as well.\r\nToken is valid (permission: read).\r\
          \nYour token has been saved to /root/.cache/huggingface/token\r\nLogin successful\r\
          \nconfig.json: 100%|\r\n...\r\nTraceback (most recent call last):\r\n  File\
          \ \"/src/script/download_weights\", line 16, in <module>\r\n    model =\
          \ AutoModelForCausalLM.from_pretrained('epfl-llm/meditron-70b', cache_dir=CACHE_DIR)\r\
          \n  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py\"\
          , line 434, in from_pretrained\r\n    config, kwargs = AutoConfig.from_pretrained(\r\
          \n  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py\"\
          , line 873, in from_pretrained\r\n    config_class = CONFIG_MAPPING[config_dict[\"\
          model_type\"]]\r\n  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py\"\
          , line 579, in __getitem__\r\n    raise KeyError(key)\r\nKeyError: 'llama'\r\
          \n\u2179 exit status 1\r\n\r\nAny help welcome.\r\n"
        updatedAt: '2023-12-12T04:20:05.120Z'
      numEdits: 0
      reactions: []
    id: 6577df752f2e4058aecae0b8
    type: comment
  author: ghthaker1955
  content: "I am following instructions on \r\n\r\nhttps://replicate.com/docs/guides/push-a-transformers-model#intro\r\
    \n\r\ni have setup a huggingface  access token and and get quite a bit into the\
    \ process. But I finally get:\r\n\r\n\r\nToken will not been saved to git credential\
    \ helper. Pass `add_to_git_credential=True` if you want to set the git credential\
    \ as well.\r\nToken is valid (permission: read).\r\nYour token has been saved\
    \ to /root/.cache/huggingface/token\r\nLogin successful\r\nconfig.json: 100%|\r\
    \n...\r\nTraceback (most recent call last):\r\n  File \"/src/script/download_weights\"\
    , line 16, in <module>\r\n    model = AutoModelForCausalLM.from_pretrained('epfl-llm/meditron-70b',\
    \ cache_dir=CACHE_DIR)\r\n  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py\"\
    , line 434, in from_pretrained\r\n    config, kwargs = AutoConfig.from_pretrained(\r\
    \n  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py\"\
    , line 873, in from_pretrained\r\n    config_class = CONFIG_MAPPING[config_dict[\"\
    model_type\"]]\r\n  File \"/root/.pyenv/versions/3.10.13/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py\"\
    , line 579, in __getitem__\r\n    raise KeyError(key)\r\nKeyError: 'llama'\r\n\
    \u2179 exit status 1\r\n\r\nAny help welcome.\r\n"
  created_at: 2023-12-12 04:20:05+00:00
  edited: false
  hidden: false
  id: 6577df752f2e4058aecae0b8
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: epfl-llm/meditron-70b
repo_type: model
status: open
target_branch: null
title: 'when attempting to download/save model to run on replicate.com I get KeyError:
  ''llama'''
