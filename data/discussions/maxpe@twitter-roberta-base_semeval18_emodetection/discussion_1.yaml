!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Pegahyfn
conflicting_files: null
created_at: 2022-07-08 20:09:50+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ed41d4f2f0f58740457b2c6541362609.svg
      fullname: Pegah Yaftian
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Pegahyfn
      type: user
    createdAt: '2022-07-08T21:09:50.000Z'
    data:
      edited: false
      editors:
      - Pegahyfn
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ed41d4f2f0f58740457b2c6541362609.svg
          fullname: Pegah Yaftian
          isHf: false
          isPro: false
          name: Pegahyfn
          type: user
        html: '<p>I tried to run the script you provided and I get the error below:</p>

          <p>RuntimeError: Error(s) in loading state_dict for RobertaClass:<br>    Missing
          key(s) in state_dict: "roberta.pooler.dense.weight", "roberta.pooler.dense.bias".<br>    Unexpected
          key(s) in state_dict: "classifier.out_proj.weight", "classifier.out_proj.bias".<br>    size
          mismatch for classifier.dense.weight: copying a param with shape torch.Size([768,
          768]) from checkpoint, the shape in current model is torch.Size([11, 768]).<br>    size
          mismatch for classifier.dense.bias: copying a param with shape torch.Size([768])
          from checkpoint, the shape in current model is torch.Size([11]).</p>

          '
        raw: "I tried to run the script you provided and I get the error below:\r\n\
          \r\nRuntimeError: Error(s) in loading state_dict for RobertaClass:\r\n\t\
          Missing key(s) in state_dict: \"roberta.pooler.dense.weight\", \"roberta.pooler.dense.bias\"\
          . \r\n\tUnexpected key(s) in state_dict: \"classifier.out_proj.weight\"\
          , \"classifier.out_proj.bias\". \r\n\tsize mismatch for classifier.dense.weight:\
          \ copying a param with shape torch.Size([768, 768]) from checkpoint, the\
          \ shape in current model is torch.Size([11, 768]).\r\n\tsize mismatch for\
          \ classifier.dense.bias: copying a param with shape torch.Size([768]) from\
          \ checkpoint, the shape in current model is torch.Size([11])."
        updatedAt: '2022-07-08T21:09:50.695Z'
      numEdits: 0
      reactions: []
    id: 62c89d1e4fd4a24e1524db0c
    type: comment
  author: Pegahyfn
  content: "I tried to run the script you provided and I get the error below:\r\n\r\
    \nRuntimeError: Error(s) in loading state_dict for RobertaClass:\r\n\tMissing\
    \ key(s) in state_dict: \"roberta.pooler.dense.weight\", \"roberta.pooler.dense.bias\"\
    . \r\n\tUnexpected key(s) in state_dict: \"classifier.out_proj.weight\", \"classifier.out_proj.bias\"\
    . \r\n\tsize mismatch for classifier.dense.weight: copying a param with shape\
    \ torch.Size([768, 768]) from checkpoint, the shape in current model is torch.Size([11,\
    \ 768]).\r\n\tsize mismatch for classifier.dense.bias: copying a param with shape\
    \ torch.Size([768]) from checkpoint, the shape in current model is torch.Size([11])."
  created_at: 2022-07-08 20:09:50+00:00
  edited: false
  hidden: false
  id: 62c89d1e4fd4a24e1524db0c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ed41d4f2f0f58740457b2c6541362609.svg
      fullname: Pegah Yaftian
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Pegahyfn
      type: user
    createdAt: '2022-07-08T21:10:06.000Z'
    data:
      edited: false
      editors:
      - Pegahyfn
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ed41d4f2f0f58740457b2c6541362609.svg
          fullname: Pegah Yaftian
          isHf: false
          isPro: false
          name: Pegahyfn
          type: user
        html: '<p>Can you please help me with this?</p>

          '
        raw: Can you please help me with this?
        updatedAt: '2022-07-08T21:10:06.038Z'
      numEdits: 0
      reactions: []
    id: 62c89d2e05305b3e46b98e94
    type: comment
  author: Pegahyfn
  content: Can you please help me with this?
  created_at: 2022-07-08 20:10:06+00:00
  edited: false
  hidden: false
  id: 62c89d2e05305b3e46b98e94
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c9633fea17eb469c300fac5fb0fba23c.svg
      fullname: Max Pellert
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: maxpe
      type: user
    createdAt: '2022-07-13T13:56:36.000Z'
    data:
      edited: false
      editors:
      - maxpe
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c9633fea17eb469c300fac5fb0fba23c.svg
          fullname: Max Pellert
          isHf: false
          isPro: false
          name: maxpe
          type: user
        html: '<p>Thanks for reporting this! I guess it''s caused by some change of
          the libraries needed to run the script. I am currently in between holidays,
          but when I find the time I will retrain the model and publish it here. Then
          it will also be better integrated with some additional features that were
          introduced in the meantime on the model hub.</p>

          <p>What you could do for now is downgrading</p>

          <p>print(torch.<strong>version</strong>)<br>1.9.0+cu102</p>

          <p>print(transformers.<strong>version</strong>)<br>4.15.0</p>

          <p>should work.</p>

          <p>Or you could train the model yourself, I added the data to the Hugging
          Face data set hub (<a href="https://huggingface.co/datasets/sem_eval_2018_task_1">https://huggingface.co/datasets/sem_eval_2018_task_1</a>).
          This should make it possible to finetune a base model easily with ''Trainer''
          in transformers.</p>

          '
        raw: 'Thanks for reporting this! I guess it''s caused by some change of the
          libraries needed to run the script. I am currently in between holidays,
          but when I find the time I will retrain the model and publish it here. Then
          it will also be better integrated with some additional features that were
          introduced in the meantime on the model hub.


          What you could do for now is downgrading


          print(torch.__version__)

          1.9.0+cu102


          print(transformers.__version__)

          4.15.0


          should work.


          Or you could train the model yourself, I added the data to the Hugging Face
          data set hub (https://huggingface.co/datasets/sem_eval_2018_task_1). This
          should make it possible to finetune a base model easily with ''Trainer''
          in transformers.'
        updatedAt: '2022-07-13T13:56:36.369Z'
      numEdits: 0
      reactions: []
    id: 62cecf14e7f6014c0e9c4462
    type: comment
  author: maxpe
  content: 'Thanks for reporting this! I guess it''s caused by some change of the
    libraries needed to run the script. I am currently in between holidays, but when
    I find the time I will retrain the model and publish it here. Then it will also
    be better integrated with some additional features that were introduced in the
    meantime on the model hub.


    What you could do for now is downgrading


    print(torch.__version__)

    1.9.0+cu102


    print(transformers.__version__)

    4.15.0


    should work.


    Or you could train the model yourself, I added the data to the Hugging Face data
    set hub (https://huggingface.co/datasets/sem_eval_2018_task_1). This should make
    it possible to finetune a base model easily with ''Trainer'' in transformers.'
  created_at: 2022-07-13 12:56:36+00:00
  edited: false
  hidden: false
  id: 62cecf14e7f6014c0e9c4462
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c9633fea17eb469c300fac5fb0fba23c.svg
      fullname: Max Pellert
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: maxpe
      type: user
    createdAt: '2022-08-30T15:13:00.000Z'
    data:
      edited: false
      editors:
      - maxpe
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c9633fea17eb469c300fac5fb0fba23c.svg
          fullname: Max Pellert
          isHf: false
          isPro: false
          name: maxpe
          type: user
        html: '<p>Hi! Please take a look at the new model that should be more powerful
          and easy to run: <a href="https://huggingface.co/maxpe/twitter-roberta-base-jun2022_sem_eval_2018_task_1">https://huggingface.co/maxpe/twitter-roberta-base-jun2022_sem_eval_2018_task_1</a>.</p>

          '
        raw: 'Hi! Please take a look at the new model that should be more powerful
          and easy to run: https://huggingface.co/maxpe/twitter-roberta-base-jun2022_sem_eval_2018_task_1.'
        updatedAt: '2022-08-30T15:13:00.210Z'
      numEdits: 0
      reactions: []
    id: 630e28fcd818ed99de8b0b14
    type: comment
  author: maxpe
  content: 'Hi! Please take a look at the new model that should be more powerful and
    easy to run: https://huggingface.co/maxpe/twitter-roberta-base-jun2022_sem_eval_2018_task_1.'
  created_at: 2022-08-30 14:13:00+00:00
  edited: false
  hidden: false
  id: 630e28fcd818ed99de8b0b14
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: maxpe/twitter-roberta-base_semeval18_emodetection
repo_type: model
status: open
target_branch: null
title: problem with loading the pretrained model
