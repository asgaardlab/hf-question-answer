!!python/object:huggingface_hub.community.DiscussionWithDetails
author: IMvision12
conflicting_files: null
created_at: 2023-04-30 11:02:25+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670152199461-629631215de6e0eb3292ae91.jpeg?w=200&h=200&f=face
      fullname: Gitesh Chawda
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: IMvision12
      type: user
    createdAt: '2023-04-30T12:02:25.000Z'
    data:
      edited: true
      editors:
      - IMvision12
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670152199461-629631215de6e0eb3292ae91.jpeg?w=200&h=200&f=face
          fullname: Gitesh Chawda
          isHf: false
          isPro: false
          name: IMvision12
          type: user
        html: "<p>Code Used:</p>\n<pre><code>from transformers import AutoImageProcessor,\
          \ ConvNextV2ForImageClassification\nimport torch\nfrom datasets import load_dataset\n\
          \ndataset = load_dataset(\"huggingface/cats-image\")\nimage = dataset[\"\
          test\"][\"image\"][0]\n\nimage_processor = AutoImageProcessor.from_pretrained(\"\
          facebook/convnextv2-atto-1k-224\")\nmodel = ConvNextV2ForImageClassification.from_pretrained(\"\
          facebook/convnextv2-atto-1k-224\")\n\ninputs = image_processor(image, return_tensors=\"\
          pt\")\n\nwith torch.no_grad():\n    logits = model(**inputs).logits\n\n\
          # model predicts one of the 1000 ImageNet classes\npredicted_label = logits.argmax(-1).item()\n\
          print(model.config.id2label[predicted_label])\n</code></pre>\n<p>Platform:\
          \ kaggle</p>\n<pre><code>Some weights of the model checkpoint at facebook/convnextv2-atto-1k-224\
          \ were not used when initializing ConvNextV2ForImageClassification: ['convnextv2.encoder.stages.1.layers.1.grn.bias',\
          \ 'convnextv2.encoder.stages.3.layers.0.grn.weight', 'convnextv2.encoder.stages.3.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.3.layers.1.grn.bias', 'convnextv2.encoder.stages.2.layers.4.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.3.grn.bias', 'convnextv2.encoder.stages.3.layers.1.grn.weight',\
          \ 'convnextv2.encoder.stages.2.layers.5.grn.bias', 'convnextv2.encoder.stages.2.layers.4.grn.weight',\
          \ 'convnextv2.encoder.stages.2.layers.5.grn.weight', 'convnextv2.encoder.stages.2.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.0.grn.weight', 'convnextv2.encoder.stages.0.layers.1.grn.bias',\
          \ 'convnextv2.encoder.stages.1.layers.1.grn.weight', 'convnextv2.encoder.stages.2.layers.2.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.1.grn.bias', 'convnextv2.encoder.stages.0.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.1.grn.weight', 'convnextv2.encoder.stages.0.layers.1.grn.weight',\
          \ 'convnextv2.encoder.stages.0.layers.0.grn.weight', 'convnextv2.encoder.stages.2.layers.2.grn.weight',\
          \ 'convnextv2.encoder.stages.1.layers.0.grn.weight', 'convnextv2.encoder.stages.1.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.3.grn.weight']\n- This IS expected\
          \ if you are initializing ConvNextV2ForImageClassification from the checkpoint\
          \ of a model trained on another task or with another architecture (e.g.\
          \ initializing a BertForSequenceClassification model from a BertForPreTraining\
          \ model).\n- This IS NOT expected if you are initializing ConvNextV2ForImageClassification\
          \ from the checkpoint of a model that you expect to be exactly identical\
          \ (initializing a BertForSequenceClassification model from a BertForSequenceClassification\
          \ model).\nSome weights of ConvNextV2ForImageClassification were not initialized\
          \ from the model checkpoint at facebook/convnextv2-atto-1k-224 and are newly\
          \ initialized: ['convnextv2.encoder.stages.0.layers.1.grn.beta', 'convnextv2.encoder.stages.1.layers.0.grn.gamma',\
          \ 'convnextv2.encoder.stages.2.layers.1.grn.beta', 'convnextv2.encoder.stages.1.layers.1.grn.beta',\
          \ 'convnextv2.encoder.stages.1.layers.1.grn.gamma', 'convnextv2.encoder.stages.2.layers.3.grn.gamma',\
          \ 'convnextv2.encoder.stages.0.layers.1.grn.gamma', 'convnextv2.encoder.stages.3.layers.0.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.5.grn.gamma', 'convnextv2.encoder.stages.1.layers.0.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.2.grn.beta', 'convnextv2.encoder.stages.2.layers.1.grn.gamma',\
          \ 'convnextv2.encoder.stages.2.layers.0.grn.beta', 'convnextv2.encoder.stages.0.layers.0.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.2.grn.gamma', 'convnextv2.encoder.stages.3.layers.1.grn.gamma',\
          \ 'convnextv2.encoder.stages.2.layers.3.grn.beta', 'convnextv2.encoder.stages.2.layers.5.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.4.grn.gamma', 'convnextv2.encoder.stages.2.layers.0.grn.gamma',\
          \ 'convnextv2.encoder.stages.3.layers.0.grn.gamma', 'convnextv2.encoder.stages.2.layers.4.grn.beta',\
          \ 'convnextv2.encoder.stages.3.layers.1.grn.beta', 'convnextv2.encoder.stages.0.layers.0.grn.gamma']\n\
          You should probably TRAIN this model on a down-stream task to be able to\
          \ use it for predictions and inference.\n</code></pre>\n<p><span data-props=\"\
          {&quot;user&quot;:&quot;adirik&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/adirik\">@<span class=\"underline\">adirik</span></a></span>\n\
          \n\t</span></span></p>\n"
        raw: "Code Used:\n```\nfrom transformers import AutoImageProcessor, ConvNextV2ForImageClassification\n\
          import torch\nfrom datasets import load_dataset\n\ndataset = load_dataset(\"\
          huggingface/cats-image\")\nimage = dataset[\"test\"][\"image\"][0]\n\nimage_processor\
          \ = AutoImageProcessor.from_pretrained(\"facebook/convnextv2-atto-1k-224\"\
          )\nmodel = ConvNextV2ForImageClassification.from_pretrained(\"facebook/convnextv2-atto-1k-224\"\
          )\n\ninputs = image_processor(image, return_tensors=\"pt\")\n\nwith torch.no_grad():\n\
          \    logits = model(**inputs).logits\n\n# model predicts one of the 1000\
          \ ImageNet classes\npredicted_label = logits.argmax(-1).item()\nprint(model.config.id2label[predicted_label])\n\
          ```\nPlatform: kaggle\n```\nSome weights of the model checkpoint at facebook/convnextv2-atto-1k-224\
          \ were not used when initializing ConvNextV2ForImageClassification: ['convnextv2.encoder.stages.1.layers.1.grn.bias',\
          \ 'convnextv2.encoder.stages.3.layers.0.grn.weight', 'convnextv2.encoder.stages.3.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.3.layers.1.grn.bias', 'convnextv2.encoder.stages.2.layers.4.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.3.grn.bias', 'convnextv2.encoder.stages.3.layers.1.grn.weight',\
          \ 'convnextv2.encoder.stages.2.layers.5.grn.bias', 'convnextv2.encoder.stages.2.layers.4.grn.weight',\
          \ 'convnextv2.encoder.stages.2.layers.5.grn.weight', 'convnextv2.encoder.stages.2.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.0.grn.weight', 'convnextv2.encoder.stages.0.layers.1.grn.bias',\
          \ 'convnextv2.encoder.stages.1.layers.1.grn.weight', 'convnextv2.encoder.stages.2.layers.2.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.1.grn.bias', 'convnextv2.encoder.stages.0.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.1.grn.weight', 'convnextv2.encoder.stages.0.layers.1.grn.weight',\
          \ 'convnextv2.encoder.stages.0.layers.0.grn.weight', 'convnextv2.encoder.stages.2.layers.2.grn.weight',\
          \ 'convnextv2.encoder.stages.1.layers.0.grn.weight', 'convnextv2.encoder.stages.1.layers.0.grn.bias',\
          \ 'convnextv2.encoder.stages.2.layers.3.grn.weight']\n- This IS expected\
          \ if you are initializing ConvNextV2ForImageClassification from the checkpoint\
          \ of a model trained on another task or with another architecture (e.g.\
          \ initializing a BertForSequenceClassification model from a BertForPreTraining\
          \ model).\n- This IS NOT expected if you are initializing ConvNextV2ForImageClassification\
          \ from the checkpoint of a model that you expect to be exactly identical\
          \ (initializing a BertForSequenceClassification model from a BertForSequenceClassification\
          \ model).\nSome weights of ConvNextV2ForImageClassification were not initialized\
          \ from the model checkpoint at facebook/convnextv2-atto-1k-224 and are newly\
          \ initialized: ['convnextv2.encoder.stages.0.layers.1.grn.beta', 'convnextv2.encoder.stages.1.layers.0.grn.gamma',\
          \ 'convnextv2.encoder.stages.2.layers.1.grn.beta', 'convnextv2.encoder.stages.1.layers.1.grn.beta',\
          \ 'convnextv2.encoder.stages.1.layers.1.grn.gamma', 'convnextv2.encoder.stages.2.layers.3.grn.gamma',\
          \ 'convnextv2.encoder.stages.0.layers.1.grn.gamma', 'convnextv2.encoder.stages.3.layers.0.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.5.grn.gamma', 'convnextv2.encoder.stages.1.layers.0.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.2.grn.beta', 'convnextv2.encoder.stages.2.layers.1.grn.gamma',\
          \ 'convnextv2.encoder.stages.2.layers.0.grn.beta', 'convnextv2.encoder.stages.0.layers.0.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.2.grn.gamma', 'convnextv2.encoder.stages.3.layers.1.grn.gamma',\
          \ 'convnextv2.encoder.stages.2.layers.3.grn.beta', 'convnextv2.encoder.stages.2.layers.5.grn.beta',\
          \ 'convnextv2.encoder.stages.2.layers.4.grn.gamma', 'convnextv2.encoder.stages.2.layers.0.grn.gamma',\
          \ 'convnextv2.encoder.stages.3.layers.0.grn.gamma', 'convnextv2.encoder.stages.2.layers.4.grn.beta',\
          \ 'convnextv2.encoder.stages.3.layers.1.grn.beta', 'convnextv2.encoder.stages.0.layers.0.grn.gamma']\n\
          You should probably TRAIN this model on a down-stream task to be able to\
          \ use it for predictions and inference.\n```\n\n@adirik"
        updatedAt: '2023-04-30T12:03:22.118Z'
      numEdits: 1
      reactions: []
    id: 644e58d133542c9c4b72bdce
    type: comment
  author: IMvision12
  content: "Code Used:\n```\nfrom transformers import AutoImageProcessor, ConvNextV2ForImageClassification\n\
    import torch\nfrom datasets import load_dataset\n\ndataset = load_dataset(\"huggingface/cats-image\"\
    )\nimage = dataset[\"test\"][\"image\"][0]\n\nimage_processor = AutoImageProcessor.from_pretrained(\"\
    facebook/convnextv2-atto-1k-224\")\nmodel = ConvNextV2ForImageClassification.from_pretrained(\"\
    facebook/convnextv2-atto-1k-224\")\n\ninputs = image_processor(image, return_tensors=\"\
    pt\")\n\nwith torch.no_grad():\n    logits = model(**inputs).logits\n\n# model\
    \ predicts one of the 1000 ImageNet classes\npredicted_label = logits.argmax(-1).item()\n\
    print(model.config.id2label[predicted_label])\n```\nPlatform: kaggle\n```\nSome\
    \ weights of the model checkpoint at facebook/convnextv2-atto-1k-224 were not\
    \ used when initializing ConvNextV2ForImageClassification: ['convnextv2.encoder.stages.1.layers.1.grn.bias',\
    \ 'convnextv2.encoder.stages.3.layers.0.grn.weight', 'convnextv2.encoder.stages.3.layers.0.grn.bias',\
    \ 'convnextv2.encoder.stages.3.layers.1.grn.bias', 'convnextv2.encoder.stages.2.layers.4.grn.bias',\
    \ 'convnextv2.encoder.stages.2.layers.3.grn.bias', 'convnextv2.encoder.stages.3.layers.1.grn.weight',\
    \ 'convnextv2.encoder.stages.2.layers.5.grn.bias', 'convnextv2.encoder.stages.2.layers.4.grn.weight',\
    \ 'convnextv2.encoder.stages.2.layers.5.grn.weight', 'convnextv2.encoder.stages.2.layers.0.grn.bias',\
    \ 'convnextv2.encoder.stages.2.layers.0.grn.weight', 'convnextv2.encoder.stages.0.layers.1.grn.bias',\
    \ 'convnextv2.encoder.stages.1.layers.1.grn.weight', 'convnextv2.encoder.stages.2.layers.2.grn.bias',\
    \ 'convnextv2.encoder.stages.2.layers.1.grn.bias', 'convnextv2.encoder.stages.0.layers.0.grn.bias',\
    \ 'convnextv2.encoder.stages.2.layers.1.grn.weight', 'convnextv2.encoder.stages.0.layers.1.grn.weight',\
    \ 'convnextv2.encoder.stages.0.layers.0.grn.weight', 'convnextv2.encoder.stages.2.layers.2.grn.weight',\
    \ 'convnextv2.encoder.stages.1.layers.0.grn.weight', 'convnextv2.encoder.stages.1.layers.0.grn.bias',\
    \ 'convnextv2.encoder.stages.2.layers.3.grn.weight']\n- This IS expected if you\
    \ are initializing ConvNextV2ForImageClassification from the checkpoint of a model\
    \ trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification\
    \ model from a BertForPreTraining model).\n- This IS NOT expected if you are initializing\
    \ ConvNextV2ForImageClassification from the checkpoint of a model that you expect\
    \ to be exactly identical (initializing a BertForSequenceClassification model\
    \ from a BertForSequenceClassification model).\nSome weights of ConvNextV2ForImageClassification\
    \ were not initialized from the model checkpoint at facebook/convnextv2-atto-1k-224\
    \ and are newly initialized: ['convnextv2.encoder.stages.0.layers.1.grn.beta',\
    \ 'convnextv2.encoder.stages.1.layers.0.grn.gamma', 'convnextv2.encoder.stages.2.layers.1.grn.beta',\
    \ 'convnextv2.encoder.stages.1.layers.1.grn.beta', 'convnextv2.encoder.stages.1.layers.1.grn.gamma',\
    \ 'convnextv2.encoder.stages.2.layers.3.grn.gamma', 'convnextv2.encoder.stages.0.layers.1.grn.gamma',\
    \ 'convnextv2.encoder.stages.3.layers.0.grn.beta', 'convnextv2.encoder.stages.2.layers.5.grn.gamma',\
    \ 'convnextv2.encoder.stages.1.layers.0.grn.beta', 'convnextv2.encoder.stages.2.layers.2.grn.beta',\
    \ 'convnextv2.encoder.stages.2.layers.1.grn.gamma', 'convnextv2.encoder.stages.2.layers.0.grn.beta',\
    \ 'convnextv2.encoder.stages.0.layers.0.grn.beta', 'convnextv2.encoder.stages.2.layers.2.grn.gamma',\
    \ 'convnextv2.encoder.stages.3.layers.1.grn.gamma', 'convnextv2.encoder.stages.2.layers.3.grn.beta',\
    \ 'convnextv2.encoder.stages.2.layers.5.grn.beta', 'convnextv2.encoder.stages.2.layers.4.grn.gamma',\
    \ 'convnextv2.encoder.stages.2.layers.0.grn.gamma', 'convnextv2.encoder.stages.3.layers.0.grn.gamma',\
    \ 'convnextv2.encoder.stages.2.layers.4.grn.beta', 'convnextv2.encoder.stages.3.layers.1.grn.beta',\
    \ 'convnextv2.encoder.stages.0.layers.0.grn.gamma']\nYou should probably TRAIN\
    \ this model on a down-stream task to be able to use it for predictions and inference.\n\
    ```\n\n@adirik"
  created_at: 2023-04-30 11:02:25+00:00
  edited: true
  hidden: false
  id: 644e58d133542c9c4b72bdce
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670152199461-629631215de6e0eb3292ae91.jpeg?w=200&h=200&f=face
      fullname: Gitesh Chawda
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: IMvision12
      type: user
    createdAt: '2023-05-05T17:54:53.000Z'
    data:
      status: closed
    id: 645542edd55525a4feeb947a
    type: status-change
  author: IMvision12
  created_at: 2023-05-05 16:54:53+00:00
  id: 645542edd55525a4feeb947a
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: facebook/convnextv2-atto-1k-224
repo_type: model
status: closed
target_branch: null
title: ConvNextV2 weight not initialized
