!!python/object:huggingface_hub.community.DiscussionWithDetails
author: mhyatt000
conflicting_files: null
created_at: 2022-09-01 13:51:32+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658862186149-62b09fe1a14cbd64386c042d.jpeg?w=200&h=200&f=face
      fullname: Matt Hyatt
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mhyatt000
      type: user
    createdAt: '2022-09-01T14:51:32.000Z'
    data:
      edited: false
      editors:
      - mhyatt000
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658862186149-62b09fe1a14cbd64386c042d.jpeg?w=200&h=200&f=face
          fullname: Matt Hyatt
          isHf: false
          isPro: false
          name: mhyatt000
          type: user
        html: "<p>I tried to reproduce the results mentioned on this model card. Seems\
          \ like my results do not match the claimed mAP in the model card. I cannot\
          \ figure out how to get the correct numbers, can you help me find my mistake?</p>\n\
          <ul>\n<li>Claimed mAP: 43.3</li>\n<li>Recieved mAP: 41.2</li>\n</ul>\n<p>Here\
          \ are the details for my validation:</p>\n<ul>\n<li>I instantiate pre-trained\
          \ model with <code>transformers.pipeline()</code> and use COCO API to calculate\
          \ AP from detection bboxes. </li>\n<li>Evaluation was performed on macOS\
          \ CPU.</li>\n<li>Dataset was downloaded from cocodataset.org</li>\n</ul>\n\
          <hr>\n<pre><code> Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all\
          \ | maxDets=100 ] = 0.412\n Average Precision  (AP) @[ IoU=0.50      | area=\
          \   all | maxDets=100 ] = 0.601\n Average Precision  (AP) @[ IoU=0.75  \
          \    | area=   all | maxDets=100 ] = 0.436\n Average Precision  (AP) @[\
          \ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.208\n Average Precision\
          \  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.451\n Average\
          \ Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.588\n\
          \ Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ]\
          \ = 0.328\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=\
          \ 10 ] = 0.494\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all\
          \ | maxDets=100 ] = 0.508\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=\
          \ small | maxDets=100 ] = 0.268\n Average Recall     (AR) @[ IoU=0.50:0.95\
          \ | area=medium | maxDets=100 ] = 0.554\n Average Recall     (AR) @[ IoU=0.50:0.95\
          \ | area= large | maxDets=100 ] = 0.702\n</code></pre>\n"
        raw: "I tried to reproduce the results mentioned on this model card. Seems\
          \ like my results do not match the claimed mAP in the model card. I cannot\
          \ figure out how to get the correct numbers, can you help me find my mistake?\r\
          \n\r\n- Claimed mAP: 43.3\r\n- Recieved mAP: 41.2\r\n\r\nHere are the details\
          \ for my validation:\r\n\r\n- I instantiate pre-trained model with `transformers.pipeline()`\
          \ and use COCO API to calculate AP from detection bboxes. \r\n- Evaluation\
          \ was performed on macOS CPU.\r\n- Dataset was downloaded from cocodataset.org\r\
          \n---\r\n\r\n```\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=  \
          \ all | maxDets=100 ] = 0.412\r\n Average Precision  (AP) @[ IoU=0.50  \
          \    | area=   all | maxDets=100 ] = 0.601\r\n Average Precision  (AP) @[\
          \ IoU=0.75      | area=   all | maxDets=100 ] = 0.436\r\n Average Precision\
          \  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.208\r\n Average\
          \ Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.451\r\
          \n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100\
          \ ] = 0.588\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all |\
          \ maxDets=  1 ] = 0.328\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=\
          \   all | maxDets= 10 ] = 0.494\r\n Average Recall     (AR) @[ IoU=0.50:0.95\
          \ | area=   all | maxDets=100 ] = 0.508\r\n Average Recall     (AR) @[ IoU=0.50:0.95\
          \ | area= small | maxDets=100 ] = 0.268\r\n Average Recall     (AR) @[ IoU=0.50:0.95\
          \ | area=medium | maxDets=100 ] = 0.554\r\n Average Recall     (AR) @[ IoU=0.50:0.95\
          \ | area= large | maxDets=100 ] = 0.702\r\n```"
        updatedAt: '2022-09-01T14:51:32.733Z'
      numEdits: 0
      reactions: []
    id: 6310c6f434c7d77420b3590d
    type: comment
  author: mhyatt000
  content: "I tried to reproduce the results mentioned on this model card. Seems like\
    \ my results do not match the claimed mAP in the model card. I cannot figure out\
    \ how to get the correct numbers, can you help me find my mistake?\r\n\r\n- Claimed\
    \ mAP: 43.3\r\n- Recieved mAP: 41.2\r\n\r\nHere are the details for my validation:\r\
    \n\r\n- I instantiate pre-trained model with `transformers.pipeline()` and use\
    \ COCO API to calculate AP from detection bboxes. \r\n- Evaluation was performed\
    \ on macOS CPU.\r\n- Dataset was downloaded from cocodataset.org\r\n---\r\n\r\n\
    ```\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ]\
    \ = 0.412\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100\
    \ ] = 0.601\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100\
    \ ] = 0.436\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100\
    \ ] = 0.208\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100\
    \ ] = 0.451\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100\
    \ ] = 0.588\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=\
    \  1 ] = 0.328\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=\
    \ 10 ] = 0.494\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100\
    \ ] = 0.508\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100\
    \ ] = 0.268\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100\
    \ ] = 0.554\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100\
    \ ] = 0.702\r\n```"
  created_at: 2022-09-01 13:51:32+00:00
  edited: false
  hidden: false
  id: 6310c6f434c7d77420b3590d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d2d068538817d9104367a8ca3bb2371e.svg
      fullname: Khoiriyah
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Rofiatul
      type: user
    createdAt: '2023-05-25T12:19:48.000Z'
    data:
      edited: false
      editors:
      - Rofiatul
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d2d068538817d9104367a8ca3bb2371e.svg
          fullname: Khoiriyah
          isHf: false
          isPro: false
          name: Rofiatul
          type: user
        html: '<p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/6451c169938967fd06a060f9/XooQnzZGPWx1XtVfMRla_.jpeg"><img
          alt="WhatsApp Image 2023-05-24 at 10.02.29.jpeg" src="https://cdn-uploads.huggingface.co/production/uploads/6451c169938967fd06a060f9/XooQnzZGPWx1XtVfMRla_.jpeg"></a></p>

          <p>this is the result of my experiment</p>

          '
        raw: '![WhatsApp Image 2023-05-24 at 10.02.29.jpeg](https://cdn-uploads.huggingface.co/production/uploads/6451c169938967fd06a060f9/XooQnzZGPWx1XtVfMRla_.jpeg)


          this is the result of my experiment'
        updatedAt: '2023-05-25T12:19:48.599Z'
      numEdits: 0
      reactions: []
    id: 646f5264ac3bff5945e3b95c
    type: comment
  author: Rofiatul
  content: '![WhatsApp Image 2023-05-24 at 10.02.29.jpeg](https://cdn-uploads.huggingface.co/production/uploads/6451c169938967fd06a060f9/XooQnzZGPWx1XtVfMRla_.jpeg)


    this is the result of my experiment'
  created_at: 2023-05-25 11:19:48+00:00
  edited: false
  hidden: false
  id: 646f5264ac3bff5945e3b95c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: facebook/detr-resnet-50-dc5
repo_type: model
status: open
target_branch: null
title: mAP Drop
