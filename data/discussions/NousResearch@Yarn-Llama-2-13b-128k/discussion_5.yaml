!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xDAN2099
conflicting_files: null
created_at: 2023-09-09 07:21:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643197ac288c9775673a01e9/DHttvAV4r2WXcZFrsk3-k.png?w=200&h=200&f=face
      fullname: Shootime
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xDAN2099
      type: user
    createdAt: '2023-09-09T08:21:52.000Z'
    data:
      edited: false
      editors:
      - xDAN2099
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.39885616302490234
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643197ac288c9775673a01e9/DHttvAV4r2WXcZFrsk3-k.png?w=200&h=200&f=face
          fullname: Shootime
          isHf: false
          isPro: false
          name: xDAN2099
          type: user
        html: '<p>  File "/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py",
          line 855, in custom_forward<br>    return module(*inputs, output_attentions,
          None)<br>  File "/root/miniconda3/envs/axo3/lib/python3.10/site-packages/torch/nn/modules/module.py",
          line 1538, in _call_impl<br>    result = forward_call(*args, **kwargs)<br>  File
          "/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py",
          line 616, in forward<br>    hidden_states = self.input_layernorm(hidden_states)<br>  File
          "/root/miniconda3/envs/axo3/lib/python3.10/site-packages/torch/nn/modules/module.py",
          line 1538, in _call_impl<br>    result = forward_call(*args, **kwargs)<br>  File
          "/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py",
          line 88, in forward<br>    return rmsnorm_func(hidden_states, self.weight,
          self.variance_epsilon)<br>  File "/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py",
          line 69, in rmsnorm_func<br>    variance = hidden_states.pow(2).mean(-1,
          keepdim=True)<br>RuntimeError: CUDA error: device-side assert triggered<br>CUDA
          kernel errors might be asynchronously reported at some other API call, so
          the stacktrace below might be incorrect.<br>For debugging consider passing
          CUDA_LAUNCH_BLOCKING=1.<br>Compile with <code>TORCH_USE_CUDA_DSA</code>
          to enable device-side assertions.</p>

          '
        raw: "  File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
          , line 855, in custom_forward\r\n    return module(*inputs, output_attentions,\
          \ None)\r\n  File \"/root/miniconda3/envs/axo3/lib/python3.10/site-packages/torch/nn/modules/module.py\"\
          , line 1538, in _call_impl\r\n    result = forward_call(*args, **kwargs)\r\
          \n  File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
          , line 616, in forward\r\n    hidden_states = self.input_layernorm(hidden_states)\r\
          \n  File \"/root/miniconda3/envs/axo3/lib/python3.10/site-packages/torch/nn/modules/module.py\"\
          , line 1538, in _call_impl\r\n    result = forward_call(*args, **kwargs)\r\
          \n  File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
          , line 88, in forward\r\n    return rmsnorm_func(hidden_states, self.weight,\
          \ self.variance_epsilon)\r\n  File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
          , line 69, in rmsnorm_func\r\n    variance = hidden_states.pow(2).mean(-1,\
          \ keepdim=True)\r\nRuntimeError: CUDA error: device-side assert triggered\r\
          \nCUDA kernel errors might be asynchronously reported at some other API\
          \ call, so the stacktrace below might be incorrect.\r\nFor debugging consider\
          \ passing CUDA_LAUNCH_BLOCKING=1.\r\nCompile with `TORCH_USE_CUDA_DSA` to\
          \ enable device-side assertions."
        updatedAt: '2023-09-09T08:21:52.538Z'
      numEdits: 0
      reactions: []
    id: 64fc2b2060017eeec9a49504
    type: comment
  author: xDAN2099
  content: "  File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
    , line 855, in custom_forward\r\n    return module(*inputs, output_attentions,\
    \ None)\r\n  File \"/root/miniconda3/envs/axo3/lib/python3.10/site-packages/torch/nn/modules/module.py\"\
    , line 1538, in _call_impl\r\n    result = forward_call(*args, **kwargs)\r\n \
    \ File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
    , line 616, in forward\r\n    hidden_states = self.input_layernorm(hidden_states)\r\
    \n  File \"/root/miniconda3/envs/axo3/lib/python3.10/site-packages/torch/nn/modules/module.py\"\
    , line 1538, in _call_impl\r\n    result = forward_call(*args, **kwargs)\r\n \
    \ File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
    , line 88, in forward\r\n    return rmsnorm_func(hidden_states, self.weight, self.variance_epsilon)\r\
    \n  File \"/root/.cache/huggingface/modules/transformers_modules/NousResearch/Yarn-Llama-2-13b-128k/4e3e87a067f64f8814c83dd5e3bad92dcf8a2391/modeling_llama_together_yarn.py\"\
    , line 69, in rmsnorm_func\r\n    variance = hidden_states.pow(2).mean(-1, keepdim=True)\r\
    \nRuntimeError: CUDA error: device-side assert triggered\r\nCUDA kernel errors\
    \ might be asynchronously reported at some other API call, so the stacktrace below\
    \ might be incorrect.\r\nFor debugging consider passing CUDA_LAUNCH_BLOCKING=1.\r\
    \nCompile with `TORCH_USE_CUDA_DSA` to enable device-side assertions."
  created_at: 2023-09-09 07:21:52+00:00
  edited: false
  hidden: false
  id: 64fc2b2060017eeec9a49504
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643197ac288c9775673a01e9/DHttvAV4r2WXcZFrsk3-k.png?w=200&h=200&f=face
      fullname: Shootime
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xDAN2099
      type: user
    createdAt: '2023-09-09T08:25:22.000Z'
    data:
      edited: false
      editors:
      - xDAN2099
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.29409146308898926
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643197ac288c9775673a01e9/DHttvAV4r2WXcZFrsk3-k.png?w=200&h=200&f=face
          fullname: Shootime
          isHf: false
          isPro: false
          name: xDAN2099
          type: user
        html: '<p>remote_trust: true</p>

          <p>cu18 pytorch2.0.1</p>

          <p>Axotol Frame</p>

          <p>8xA100</p>

          <p>Fulltune</p>

          '
        raw: 'remote_trust: true


          cu18 pytorch2.0.1


          Axotol Frame


          8xA100


          Fulltune'
        updatedAt: '2023-09-09T08:25:22.147Z'
      numEdits: 0
      reactions: []
    id: 64fc2bf2d82fc6977d8c5390
    type: comment
  author: xDAN2099
  content: 'remote_trust: true


    cu18 pytorch2.0.1


    Axotol Frame


    8xA100


    Fulltune'
  created_at: 2023-09-09 07:25:22+00:00
  edited: false
  hidden: false
  id: 64fc2bf2d82fc6977d8c5390
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: NousResearch/Yarn-Llama-2-13b-128k
repo_type: model
status: open
target_branch: null
title: 'Fulltune on Axotol: RuntimeError: CUDA error: device-side assert triggered'
