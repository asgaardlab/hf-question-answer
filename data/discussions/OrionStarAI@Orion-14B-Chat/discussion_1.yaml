!!python/object:huggingface_hub.community.DiscussionWithDetails
author: leonardlin
conflicting_files: null
created_at: 2024-01-22 15:39:38+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63a7422854f1d0225b075bfc/XGYAcDPZG5ZEsNBWG6guw.jpeg?w=200&h=200&f=face
      fullname: lhl
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: leonardlin
      type: user
    createdAt: '2024-01-22T15:39:38.000Z'
    data:
      edited: false
      editors:
      - leonardlin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9467870593070984
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63a7422854f1d0225b075bfc/XGYAcDPZG5ZEsNBWG6guw.jpeg?w=200&h=200&f=face
          fullname: lhl
          isHf: false
          isPro: false
          name: leonardlin
          type: user
        html: '<p>I was trying to test out the model (to run JA MT-Bench) and was
          not getting very good results. One issue may be that the chat formatting
          is wrong - it appears to be Vicuna like, but the model card does not specify
          what system prompts should look like. One thing that might help with formatting
          would be to add a <code>chat_template</code> to the <code>tokenizer_config.json</code>?</p>

          <p>Barring that, any parameters that you recommend (if there''s a recommended
          system prompt, repetition penalty or other sampling parameters, etc) would
          be useful.</p>

          '
        raw: "I was trying to test out the model (to run JA MT-Bench) and was not\
          \ getting very good results. One issue may be that the chat formatting is\
          \ wrong - it appears to be Vicuna like, but the model card does not specify\
          \ what system prompts should look like. One thing that might help with formatting\
          \ would be to add a `chat_template` to the `tokenizer_config.json`?\r\n\r\
          \nBarring that, any parameters that you recommend (if there's a recommended\
          \ system prompt, repetition penalty or other sampling parameters, etc) would\
          \ be useful."
        updatedAt: '2024-01-22T15:39:38.662Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - kiranr
    id: 65ae8c3a69cd2991ef12df27
    type: comment
  author: leonardlin
  content: "I was trying to test out the model (to run JA MT-Bench) and was not getting\
    \ very good results. One issue may be that the chat formatting is wrong - it appears\
    \ to be Vicuna like, but the model card does not specify what system prompts should\
    \ look like. One thing that might help with formatting would be to add a `chat_template`\
    \ to the `tokenizer_config.json`?\r\n\r\nBarring that, any parameters that you\
    \ recommend (if there's a recommended system prompt, repetition penalty or other\
    \ sampling parameters, etc) would be useful."
  created_at: 2024-01-22 15:39:38+00:00
  edited: false
  hidden: false
  id: 65ae8c3a69cd2991ef12df27
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c36bce29c1738be9470bcbf084a7c09a.svg
      fullname: ZhangDacheng
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: DachengZhang
      type: user
    createdAt: '2024-01-23T02:46:09.000Z'
    data:
      edited: false
      editors:
      - DachengZhang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9479868412017822
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c36bce29c1738be9470bcbf084a7c09a.svg
          fullname: ZhangDacheng
          isHf: false
          isPro: false
          name: DachengZhang
          type: user
        html: '<p>Thanks!   I''ll  add it  today!</p>

          '
        raw: Thanks!   I'll  add it  today!
        updatedAt: '2024-01-23T02:46:09.753Z'
      numEdits: 0
      reactions: []
    id: 65af28711dac7b5be4cea44c
    type: comment
  author: DachengZhang
  content: Thanks!   I'll  add it  today!
  created_at: 2024-01-23 02:46:09+00:00
  edited: false
  hidden: false
  id: 65af28711dac7b5be4cea44c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c36bce29c1738be9470bcbf084a7c09a.svg
      fullname: ZhangDacheng
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: DachengZhang
      type: user
    createdAt: '2024-01-23T04:19:20.000Z'
    data:
      edited: false
      editors:
      - DachengZhang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8393394947052002
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c36bce29c1738be9470bcbf084a7c09a.svg
          fullname: ZhangDacheng
          isHf: false
          isPro: false
          name: DachengZhang
          type: user
        html: '<p>done</p>

          '
        raw: done
        updatedAt: '2024-01-23T04:19:20.530Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F917"
        users:
        - leonardlin
    id: 65af3e4869cd2991ef64ee8a
    type: comment
  author: DachengZhang
  content: done
  created_at: 2024-01-23 04:19:20+00:00
  edited: false
  hidden: false
  id: 65af3e4869cd2991ef64ee8a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63a7422854f1d0225b075bfc/XGYAcDPZG5ZEsNBWG6guw.jpeg?w=200&h=200&f=face
      fullname: lhl
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: leonardlin
      type: user
    createdAt: '2024-01-23T11:21:49.000Z'
    data:
      edited: false
      editors:
      - leonardlin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4932972490787506
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63a7422854f1d0225b075bfc/XGYAcDPZG5ZEsNBWG6guw.jpeg?w=200&h=200&f=face
          fullname: lhl
          isHf: false
          isPro: false
          name: leonardlin
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;DachengZhang&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/DachengZhang\"\
          >@<span class=\"underline\">DachengZhang</span></a></span>\n\n\t</span></span>\
          \ - is there support for a system prompt? Maybe it'd look something like:</p>\n\
          <pre><code>  \"chat_template\": \"{% for message in messages %}{% if loop.first\
          \ %}{{ bos_token }}{% endif %}\n{% if message['role'] == 'system' %}{{ message['content']\
          \ + '\\n\\n ' }}{% elif message['role'] == 'user' %}{{ 'Human: ' + message['content']\
          \ + '\\n\\nAssistant: ' + eos_token }}{% elif message['role'] == 'assistant'\
          \ %}{{ message['content'] + eos_token }}{% endif %}{% endfor %}\",\n</code></pre>\n\
          <p>Or is it something it's completely untrained for? (If not that's fine,\
          \ it might be better to train off the Base in any case)</p>\n"
        raw: "@DachengZhang - is there support for a system prompt? Maybe it'd look\
          \ something like:\n\n```\n  \"chat_template\": \"{% for message in messages\
          \ %}{% if loop.first %}{{ bos_token }}{% endif %}\n{% if message['role']\
          \ == 'system' %}{{ message['content'] + '\\n\\n ' }}{% elif message['role']\
          \ == 'user' %}{{ 'Human: ' + message['content'] + '\\n\\nAssistant: ' +\
          \ eos_token }}{% elif message['role'] == 'assistant' %}{{ message['content']\
          \ + eos_token }}{% endif %}{% endfor %}\",\n```\n\nOr is it something it's\
          \ completely untrained for? (If not that's fine, it might be better to train\
          \ off the Base in any case)"
        updatedAt: '2024-01-23T11:21:49.381Z'
      numEdits: 0
      reactions: []
    id: 65afa14d30e33d1b60caaf7e
    type: comment
  author: leonardlin
  content: "@DachengZhang - is there support for a system prompt? Maybe it'd look\
    \ something like:\n\n```\n  \"chat_template\": \"{% for message in messages %}{%\
    \ if loop.first %}{{ bos_token }}{% endif %}\n{% if message['role'] == 'system'\
    \ %}{{ message['content'] + '\\n\\n ' }}{% elif message['role'] == 'user' %}{{\
    \ 'Human: ' + message['content'] + '\\n\\nAssistant: ' + eos_token }}{% elif message['role']\
    \ == 'assistant' %}{{ message['content'] + eos_token }}{% endif %}{% endfor %}\"\
    ,\n```\n\nOr is it something it's completely untrained for? (If not that's fine,\
    \ it might be better to train off the Base in any case)"
  created_at: 2024-01-23 11:21:49+00:00
  edited: false
  hidden: false
  id: 65afa14d30e33d1b60caaf7e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c36bce29c1738be9470bcbf084a7c09a.svg
      fullname: ZhangDacheng
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: DachengZhang
      type: user
    createdAt: '2024-01-24T01:57:36.000Z'
    data:
      edited: false
      editors:
      - DachengZhang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.938088595867157
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c36bce29c1738be9470bcbf084a7c09a.svg
          fullname: ZhangDacheng
          isHf: false
          isPro: false
          name: DachengZhang
          type: user
        html: '<p>Yes, this model is not trained for the system role. We will add
          the system role in the next version.</p>

          '
        raw: Yes, this model is not trained for the system role. We will add the system
          role in the next version.
        updatedAt: '2024-01-24T01:57:36.879Z'
      numEdits: 0
      reactions: []
    id: 65b06e900648e8d10b3db4ba
    type: comment
  author: DachengZhang
  content: Yes, this model is not trained for the system role. We will add the system
    role in the next version.
  created_at: 2024-01-24 01:57:36+00:00
  edited: false
  hidden: false
  id: 65b06e900648e8d10b3db4ba
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: OrionStarAI/Orion-14B-Chat
repo_type: model
status: open
target_branch: null
title: Add chat_template to tokenizer_config.json?
