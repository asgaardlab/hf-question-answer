!!python/object:huggingface_hub.community.DiscussionWithDetails
author: beraeren
conflicting_files: null
created_at: 2023-08-23 18:49:20+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6bba7d8d3920a95946caa0b8e7eb7ea7.svg
      fullname: bera eren
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beraeren
      type: user
    createdAt: '2023-08-23T19:49:20.000Z'
    data:
      edited: false
      editors:
      - beraeren
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.2960515022277832
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6bba7d8d3920a95946caa0b8e7eb7ea7.svg
          fullname: bera eren
          isHf: false
          isPro: false
          name: beraeren
          type: user
        html: "<p>import torch<br>from transformers import AutoProcessor, WhisperForConditionalGeneration<br>from\
          \ scipy.io import wavfile</p>\n<p>processor = AutoProcessor.from_pretrained(\"\
          emre/whisper-medium-turkish-2\")<br>model = WhisperForConditionalGeneration.from_pretrained(\"\
          emre/whisper-medium-turkish-2\")</p>\n<p>samplerate, data = wavfile.read('./audio.wav')</p>\n\
          <p>data_s16 = np.frombuffer(data, dtype=np.int16, count=len(data)//2, offset=0)<br>x_data\
          \ = data_s16.astype(np.float32, order='C') / 32768.0</p>\n<p>inputs = processor(x_data,\
          \ return_tensors=\"pt\")<br>input_features = inputs.input_features</p>\n\
          <p>generated_ids = model.generate(inputs=input_features)</p>\n<p>transcription\
          \ = processor.batch_decode(generated_ids, skip_special_tokens=True)<br>print(transcription)<br>###############################################<br>(I\
          \ think I'm using it correctly) (do\u011Fru \u015Fekilde kulland\u0131\u011F\
          \u0131m\u0131 d\xFC\u015F\xFCn\xFCyorum)<br>ayn\u0131 ses dosyas\u0131n\u0131\
          \ y\xFCklememe ra\u011Fmen Huggingface tam do\u011Fru bir sonu\xE7 verirken\
          \ local cihaz\u0131m sa\xE7ma saban bir \xE7\u0131kt\u0131 veriyor<br>Even\
          \ though I uploaded the same audio file, Huggingface gives an accurate result,\
          \ while my local device gives a ridiculous output.</p>\n"
        raw: "import torch\r\nfrom transformers import AutoProcessor, WhisperForConditionalGeneration\r\
          \nfrom scipy.io import wavfile\r\n\r\nprocessor = AutoProcessor.from_pretrained(\"\
          emre/whisper-medium-turkish-2\")\r\nmodel = WhisperForConditionalGeneration.from_pretrained(\"\
          emre/whisper-medium-turkish-2\")\r\n\r\nsamplerate, data = wavfile.read('./audio.wav')\r\
          \n \r\ndata_s16 = np.frombuffer(data, dtype=np.int16, count=len(data)//2,\
          \ offset=0)\r\nx_data = data_s16.astype(np.float32, order='C') / 32768.0\r\
          \n\r\ninputs = processor(x_data, return_tensors=\"pt\")\r\ninput_features\
          \ = inputs.input_features\r\n\r\ngenerated_ids = model.generate(inputs=input_features)\r\
          \n\r\ntranscription = processor.batch_decode(generated_ids, skip_special_tokens=True)\r\
          \nprint(transcription)\r\n###############################################\r\
          \n(I think I'm using it correctly) (do\u011Fru \u015Fekilde kulland\u0131\
          \u011F\u0131m\u0131 d\xFC\u015F\xFCn\xFCyorum)\r\nayn\u0131 ses dosyas\u0131\
          n\u0131 y\xFCklememe ra\u011Fmen Huggingface tam do\u011Fru bir sonu\xE7\
          \ verirken local cihaz\u0131m sa\xE7ma saban bir \xE7\u0131kt\u0131 veriyor\r\
          \nEven though I uploaded the same audio file, Huggingface gives an accurate\
          \ result, while my local device gives a ridiculous output."
        updatedAt: '2023-08-23T19:49:20.053Z'
      numEdits: 0
      reactions: []
    id: 64e662c09ac2be3920390a58
    type: comment
  author: beraeren
  content: "import torch\r\nfrom transformers import AutoProcessor, WhisperForConditionalGeneration\r\
    \nfrom scipy.io import wavfile\r\n\r\nprocessor = AutoProcessor.from_pretrained(\"\
    emre/whisper-medium-turkish-2\")\r\nmodel = WhisperForConditionalGeneration.from_pretrained(\"\
    emre/whisper-medium-turkish-2\")\r\n\r\nsamplerate, data = wavfile.read('./audio.wav')\r\
    \n \r\ndata_s16 = np.frombuffer(data, dtype=np.int16, count=len(data)//2, offset=0)\r\
    \nx_data = data_s16.astype(np.float32, order='C') / 32768.0\r\n\r\ninputs = processor(x_data,\
    \ return_tensors=\"pt\")\r\ninput_features = inputs.input_features\r\n\r\ngenerated_ids\
    \ = model.generate(inputs=input_features)\r\n\r\ntranscription = processor.batch_decode(generated_ids,\
    \ skip_special_tokens=True)\r\nprint(transcription)\r\n###############################################\r\
    \n(I think I'm using it correctly) (do\u011Fru \u015Fekilde kulland\u0131\u011F\
    \u0131m\u0131 d\xFC\u015F\xFCn\xFCyorum)\r\nayn\u0131 ses dosyas\u0131n\u0131\
    \ y\xFCklememe ra\u011Fmen Huggingface tam do\u011Fru bir sonu\xE7 verirken local\
    \ cihaz\u0131m sa\xE7ma saban bir \xE7\u0131kt\u0131 veriyor\r\nEven though I\
    \ uploaded the same audio file, Huggingface gives an accurate result, while my\
    \ local device gives a ridiculous output."
  created_at: 2023-08-23 18:49:20+00:00
  edited: false
  hidden: false
  id: 64e662c09ac2be3920390a58
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1673133916171-5f87fedcee5616341bc51e4d.jpeg?w=200&h=200&f=face
      fullname: Davut Emre TASAR
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: emre
      type: user
    createdAt: '2023-09-11T12:51:49.000Z'
    data:
      edited: false
      editors:
      - emre
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9744529724121094
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1673133916171-5f87fedcee5616341bc51e4d.jpeg?w=200&h=200&f=face
          fullname: Davut Emre TASAR
          isHf: false
          isPro: false
          name: emre
          type: user
        html: '<p>could you share the error?</p>

          '
        raw: could you share the error?
        updatedAt: '2023-09-11T12:51:49.456Z'
      numEdits: 0
      reactions: []
    id: 64ff0d65d4d51dbcec8d1cbf
    type: comment
  author: emre
  content: could you share the error?
  created_at: 2023-09-11 11:51:49+00:00
  edited: false
  hidden: false
  id: 64ff0d65d4d51dbcec8d1cbf
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: emre/whisper-medium-turkish-2
repo_type: model
status: open
target_branch: null
title: Huggingface usage and local usage are different
