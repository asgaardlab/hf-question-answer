!!python/object:huggingface_hub.community.DiscussionWithDetails
author: noneUsername
conflicting_files: null
created_at: 2023-08-06 09:09:56+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4142447b429ab9ccd803dc5e07ea8989.svg
      fullname: Username
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: noneUsername
      type: user
    createdAt: '2023-08-06T10:09:56.000Z'
    data:
      edited: false
      editors:
      - noneUsername
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.7237980365753174
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4142447b429ab9ccd803dc5e07ea8989.svg
          fullname: Username
          isHf: false
          isPro: false
          name: noneUsername
          type: user
        html: "<p>\u6211\u7684\u73AF\u5883\u662F<br>win10 cuda-12.2<br>visualStudio2022\u6700\
          \u65B0\u7248\u672C<br>pytorch 2.1.0.dev20230805+cu121<br>16G\u5185\u5B58\
          \ 2080ti 22G\u663E\u5B58</p>\n<p>cd flash-attention &amp;&amp; pip install\
          \ .\u6210\u529F<br>pip install csrc/layer_norm\u5931\u8D25<br>pip install\
          \ csrc/rotary\u6210\u529F</p>\n<p>\u6211\u62C9\u53D6\u5E76\u5C1D\u8BD5\u4E86\
          1.0.6\u30011.0.7\u30011.0.8\u30011.0.9\u7248\u672C\u7684flash-attention\u4EE3\
          \u7801\uFF0Ccsrc/layer_norm\u5B89\u88C5\u5931\u8D25\u7684\u9519\u8BEF\u4FE1\
          \u606F\u5DEE\u4E0D\u591A\uFF1A<br>flash-attention\\csrc\\layer_norm\\ln_bwd_kernels.cuh(479):\
          \ error C2975: \u201CHas_colscale\u201D:\u201Clayer_norm::Kernel_traits_finalize\u201D\
          \u7684\u6A21\u677F\u53C2\u6570\u65E0\u6548\uFF0C\u5E94\u4E3A\u7F16\u8BD1\
          \u65F6\u5E38\u91CF\u8868\u8FBE\u5F0F<br>\u5728github\u7684issues\u91CC\u6709\
          \u4E00\u4E2A\u7C7B\u4F3C\u7684\u95EE\u9898\uFF1A<a rel=\"nofollow\" href=\"\
          https://github.com/Dao-AILab/flash-attention/issues/50\">https://github.com/Dao-AILab/flash-attention/issues/50</a><br>\u4F46\
          \u662F\u6CA1\u6709\u63D0\u4F9B\u89E3\u51B3\u65B9\u6848\uFF0C\u6709\u4EBA\
          \u5B89\u88C5\u6210\u529F\u4E86\u5417\uFF1F\u6211\u6000\u7591\u662F\u6211\
          \u7684cuda\u6216\u662FvisualStudio\u7248\u672C\u539F\u56E0\uFF0C\u4F46\u6211\
          \u4E0D\u786E\u5B9A\u5E94\u8BE5\u66F4\u6362\u5230\u54EA\u4E2A\u7248\u672C\
          \u3002</p>\n"
        raw: "\u6211\u7684\u73AF\u5883\u662F\r\nwin10 cuda-12.2\r\nvisualStudio2022\u6700\
          \u65B0\u7248\u672C\r\npytorch 2.1.0.dev20230805+cu121\r\n16G\u5185\u5B58\
          \ 2080ti 22G\u663E\u5B58\r\n\r\ncd flash-attention && pip install .\u6210\
          \u529F\r\npip install csrc/layer_norm\u5931\u8D25\r\npip install csrc/rotary\u6210\
          \u529F\r\n\r\n\u6211\u62C9\u53D6\u5E76\u5C1D\u8BD5\u4E861.0.6\u30011.0.7\u3001\
          1.0.8\u30011.0.9\u7248\u672C\u7684flash-attention\u4EE3\u7801\uFF0Ccsrc/layer_norm\u5B89\
          \u88C5\u5931\u8D25\u7684\u9519\u8BEF\u4FE1\u606F\u5DEE\u4E0D\u591A\uFF1A\
          \r\nflash-attention\\csrc\\layer_norm\\ln_bwd_kernels.cuh(479): error C2975:\
          \ \u201CHas_colscale\u201D:\u201Clayer_norm::Kernel_traits_finalize\u201D\
          \u7684\u6A21\u677F\u53C2\u6570\u65E0\u6548\uFF0C\u5E94\u4E3A\u7F16\u8BD1\
          \u65F6\u5E38\u91CF\u8868\u8FBE\u5F0F\r\n\u5728github\u7684issues\u91CC\u6709\
          \u4E00\u4E2A\u7C7B\u4F3C\u7684\u95EE\u9898\uFF1Ahttps://github.com/Dao-AILab/flash-attention/issues/50\r\
          \n\u4F46\u662F\u6CA1\u6709\u63D0\u4F9B\u89E3\u51B3\u65B9\u6848\uFF0C\u6709\
          \u4EBA\u5B89\u88C5\u6210\u529F\u4E86\u5417\uFF1F\u6211\u6000\u7591\u662F\
          \u6211\u7684cuda\u6216\u662FvisualStudio\u7248\u672C\u539F\u56E0\uFF0C\u4F46\
          \u6211\u4E0D\u786E\u5B9A\u5E94\u8BE5\u66F4\u6362\u5230\u54EA\u4E2A\u7248\
          \u672C\u3002\r\n"
        updatedAt: '2023-08-06T10:09:56.951Z'
      numEdits: 0
      reactions: []
    id: 64cf71740b71aea8be593e29
    type: comment
  author: noneUsername
  content: "\u6211\u7684\u73AF\u5883\u662F\r\nwin10 cuda-12.2\r\nvisualStudio2022\u6700\
    \u65B0\u7248\u672C\r\npytorch 2.1.0.dev20230805+cu121\r\n16G\u5185\u5B58 2080ti\
    \ 22G\u663E\u5B58\r\n\r\ncd flash-attention && pip install .\u6210\u529F\r\npip\
    \ install csrc/layer_norm\u5931\u8D25\r\npip install csrc/rotary\u6210\u529F\r\
    \n\r\n\u6211\u62C9\u53D6\u5E76\u5C1D\u8BD5\u4E861.0.6\u30011.0.7\u30011.0.8\u3001\
    1.0.9\u7248\u672C\u7684flash-attention\u4EE3\u7801\uFF0Ccsrc/layer_norm\u5B89\u88C5\
    \u5931\u8D25\u7684\u9519\u8BEF\u4FE1\u606F\u5DEE\u4E0D\u591A\uFF1A\r\nflash-attention\\\
    csrc\\layer_norm\\ln_bwd_kernels.cuh(479): error C2975: \u201CHas_colscale\u201D\
    :\u201Clayer_norm::Kernel_traits_finalize\u201D\u7684\u6A21\u677F\u53C2\u6570\u65E0\
    \u6548\uFF0C\u5E94\u4E3A\u7F16\u8BD1\u65F6\u5E38\u91CF\u8868\u8FBE\u5F0F\r\n\u5728\
    github\u7684issues\u91CC\u6709\u4E00\u4E2A\u7C7B\u4F3C\u7684\u95EE\u9898\uFF1A\
    https://github.com/Dao-AILab/flash-attention/issues/50\r\n\u4F46\u662F\u6CA1\u6709\
    \u63D0\u4F9B\u89E3\u51B3\u65B9\u6848\uFF0C\u6709\u4EBA\u5B89\u88C5\u6210\u529F\
    \u4E86\u5417\uFF1F\u6211\u6000\u7591\u662F\u6211\u7684cuda\u6216\u662FvisualStudio\u7248\
    \u672C\u539F\u56E0\uFF0C\u4F46\u6211\u4E0D\u786E\u5B9A\u5E94\u8BE5\u66F4\u6362\
    \u5230\u54EA\u4E2A\u7248\u672C\u3002\r\n"
  created_at: 2023-08-06 09:09:56+00:00
  edited: false
  hidden: false
  id: 64cf71740b71aea8be593e29
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4142447b429ab9ccd803dc5e07ea8989.svg
      fullname: Username
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: noneUsername
      type: user
    createdAt: '2023-08-06T10:38:24.000Z'
    data:
      edited: false
      editors:
      - noneUsername
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9791106581687927
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4142447b429ab9ccd803dc5e07ea8989.svg
          fullname: Username
          isHf: false
          isPro: false
          name: noneUsername
          type: user
        html: "<p>\u53E6\u5916\uFF0C\u5728\u4EC5rotary\u53EF\u7528\u7684\u60C5\u51B5\
          \u4E0B\uFF0C\u5E76\u6CA1\u6709\u4F53\u9A8C\u5230\u660E\u663E\u7684\u6027\
          \u80FD\u63D0\u5347\uFF0C\u4EC5\u56DB\u8F6E\u5BF9\u8BDD\uFF08300context len\uFF09\
          \u7684\u8868\u73B0\u6765\u770B\uFF0C\u90FD\u5360\u752817G\u663E\u5B58\uFF0C\
          \u751F\u6210\u901F\u7387\u572810token/s\u5DE6\u53F3\u3002<br>\u6216\u8BB8\
          \u53EA\u6709\u66F4\u957F\u7684\u5BF9\u8BDD\u624D\u80FD\u4F53\u73B0flash-attention\u7684\
          \u4F18\u52BF\u5427\uFF0C\u4E5F\u53EF\u80FD\u662F\u6CA1\u6709layer_norm\u5BFC\
          \u81F4\u7684\u8868\u73B0\u4E0D\u663E\u8457\u3002</p>\n"
        raw: "\u53E6\u5916\uFF0C\u5728\u4EC5rotary\u53EF\u7528\u7684\u60C5\u51B5\u4E0B\
          \uFF0C\u5E76\u6CA1\u6709\u4F53\u9A8C\u5230\u660E\u663E\u7684\u6027\u80FD\
          \u63D0\u5347\uFF0C\u4EC5\u56DB\u8F6E\u5BF9\u8BDD\uFF08300context len\uFF09\
          \u7684\u8868\u73B0\u6765\u770B\uFF0C\u90FD\u5360\u752817G\u663E\u5B58\uFF0C\
          \u751F\u6210\u901F\u7387\u572810token/s\u5DE6\u53F3\u3002\n\u6216\u8BB8\u53EA\
          \u6709\u66F4\u957F\u7684\u5BF9\u8BDD\u624D\u80FD\u4F53\u73B0flash-attention\u7684\
          \u4F18\u52BF\u5427\uFF0C\u4E5F\u53EF\u80FD\u662F\u6CA1\u6709layer_norm\u5BFC\
          \u81F4\u7684\u8868\u73B0\u4E0D\u663E\u8457\u3002"
        updatedAt: '2023-08-06T10:38:24.206Z'
      numEdits: 0
      reactions: []
    id: 64cf7820072225e7f0c1e545
    type: comment
  author: noneUsername
  content: "\u53E6\u5916\uFF0C\u5728\u4EC5rotary\u53EF\u7528\u7684\u60C5\u51B5\u4E0B\
    \uFF0C\u5E76\u6CA1\u6709\u4F53\u9A8C\u5230\u660E\u663E\u7684\u6027\u80FD\u63D0\
    \u5347\uFF0C\u4EC5\u56DB\u8F6E\u5BF9\u8BDD\uFF08300context len\uFF09\u7684\u8868\
    \u73B0\u6765\u770B\uFF0C\u90FD\u5360\u752817G\u663E\u5B58\uFF0C\u751F\u6210\u901F\
    \u7387\u572810token/s\u5DE6\u53F3\u3002\n\u6216\u8BB8\u53EA\u6709\u66F4\u957F\u7684\
    \u5BF9\u8BDD\u624D\u80FD\u4F53\u73B0flash-attention\u7684\u4F18\u52BF\u5427\uFF0C\
    \u4E5F\u53EF\u80FD\u662F\u6CA1\u6709layer_norm\u5BFC\u81F4\u7684\u8868\u73B0\u4E0D\
    \u663E\u8457\u3002"
  created_at: 2023-08-06 09:38:24+00:00
  edited: false
  hidden: false
  id: 64cf7820072225e7f0c1e545
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9921ca8568f9d53c919681d8960ad802.svg
      fullname: jklj077
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: jklj077
      type: user
    createdAt: '2023-12-21T09:55:11.000Z'
    data:
      edited: false
      editors:
      - jklj077
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9847596883773804
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9921ca8568f9d53c919681d8960ad802.svg
          fullname: jklj077
          isHf: false
          isPro: false
          name: jklj077
          type: user
        html: "<p>flash attention\u597D\u50CF\u5B98\u65B9\u6CA1\u652F\u6301windows\uFF0C\
          \u4E0D\u77E5\u9053\u6709\u6CA1\u6709\u4EC0\u4E48\u5176\u5B83\u7684\u517C\
          \u5BB9\u6027\u95EE\u9898\u5F71\u54CD\u6027\u80FD\u3002<br>\u53E6\u5916\uFF0C\
          Flash Attention v1 v2\u7684\u6D4B\u901F\u7ED3\u679C\u5728modelcard\u4E2D\
          \u6709\u4F53\u73B0\uFF0C\u53EF\u4EE5\u6BD4\u5BF9\u4E0B\u770B\u770B\u3002\
          <br>\u4E3B\u8981\u6027\u80FD\u63D0\u5347\u8FD8\u662F\u6765\u81EAattention\uFF0C\
          \u90A3\u90E8\u5206pytorch 2.1.1\u5DF2\u7ECF\u5408\u8FDB\u53BB\u4E86\uFF0C\
          \u63D0\u5347\u4E0D\u5927\u4E5F\u53EF\u80FD\u662F\u6B63\u5E38\u7684\u3002\
          </p>\n"
        raw: "flash attention\u597D\u50CF\u5B98\u65B9\u6CA1\u652F\u6301windows\uFF0C\
          \u4E0D\u77E5\u9053\u6709\u6CA1\u6709\u4EC0\u4E48\u5176\u5B83\u7684\u517C\
          \u5BB9\u6027\u95EE\u9898\u5F71\u54CD\u6027\u80FD\u3002\n\u53E6\u5916\uFF0C\
          Flash Attention v1 v2\u7684\u6D4B\u901F\u7ED3\u679C\u5728modelcard\u4E2D\
          \u6709\u4F53\u73B0\uFF0C\u53EF\u4EE5\u6BD4\u5BF9\u4E0B\u770B\u770B\u3002\
          \n\u4E3B\u8981\u6027\u80FD\u63D0\u5347\u8FD8\u662F\u6765\u81EAattention\uFF0C\
          \u90A3\u90E8\u5206pytorch 2.1.1\u5DF2\u7ECF\u5408\u8FDB\u53BB\u4E86\uFF0C\
          \u63D0\u5347\u4E0D\u5927\u4E5F\u53EF\u80FD\u662F\u6B63\u5E38\u7684\u3002"
        updatedAt: '2023-12-21T09:55:11.087Z'
      numEdits: 0
      reactions: []
      relatedEventId: 65840b7f641884796861f147
    id: 65840b7f641884796861f145
    type: comment
  author: jklj077
  content: "flash attention\u597D\u50CF\u5B98\u65B9\u6CA1\u652F\u6301windows\uFF0C\
    \u4E0D\u77E5\u9053\u6709\u6CA1\u6709\u4EC0\u4E48\u5176\u5B83\u7684\u517C\u5BB9\
    \u6027\u95EE\u9898\u5F71\u54CD\u6027\u80FD\u3002\n\u53E6\u5916\uFF0CFlash Attention\
    \ v1 v2\u7684\u6D4B\u901F\u7ED3\u679C\u5728modelcard\u4E2D\u6709\u4F53\u73B0\uFF0C\
    \u53EF\u4EE5\u6BD4\u5BF9\u4E0B\u770B\u770B\u3002\n\u4E3B\u8981\u6027\u80FD\u63D0\
    \u5347\u8FD8\u662F\u6765\u81EAattention\uFF0C\u90A3\u90E8\u5206pytorch 2.1.1\u5DF2\
    \u7ECF\u5408\u8FDB\u53BB\u4E86\uFF0C\u63D0\u5347\u4E0D\u5927\u4E5F\u53EF\u80FD\
    \u662F\u6B63\u5E38\u7684\u3002"
  created_at: 2023-12-21 09:55:11+00:00
  edited: false
  hidden: false
  id: 65840b7f641884796861f145
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/9921ca8568f9d53c919681d8960ad802.svg
      fullname: jklj077
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: jklj077
      type: user
    createdAt: '2023-12-21T09:55:11.000Z'
    data:
      status: closed
    id: 65840b7f641884796861f147
    type: status-change
  author: jklj077
  created_at: 2023-12-21 09:55:11+00:00
  id: 65840b7f641884796861f147
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 20
repo_id: Qwen/Qwen-7B-Chat
repo_type: model
status: closed
target_branch: null
title: "\u8BF7\u6559Windows\u4E0Bcsrc/layer_norm\u5B89\u4E0D\u4E0A\u7684\u95EE\u9898\
  \u3002"
