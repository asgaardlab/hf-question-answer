!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xtaos
conflicting_files: null
created_at: 2023-06-12 08:23:36+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
      fullname: aa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xtaos
      type: user
    createdAt: '2023-06-12T09:23:36.000Z'
    data:
      edited: false
      editors:
      - xtaos
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.313209593296051
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
          fullname: aa
          isHf: false
          isPro: false
          name: xtaos
          type: user
        html: "<p>A100\u90E8\u7F72\u65F6\u62A5\u8FD9\u4E2A\u9519\u8BEF</p>\n<p>OSError:\
          \ /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so: undefined\
          \ symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE</p>\n\
          <p>\u8BF7\u95EE\u6709\u9047\u89C1\u7684\u5417</p>\n"
        raw: "A100\u90E8\u7F72\u65F6\u62A5\u8FD9\u4E2A\u9519\u8BEF\r\n\r\nOSError:\
          \ /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so: undefined\
          \ symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\r\
          \n\r\n\u8BF7\u95EE\u6709\u9047\u89C1\u7684\u5417\r\n"
        updatedAt: '2023-06-12T09:23:36.433Z'
      numEdits: 0
      reactions: []
    id: 6486e418e2721deca7f6daad
    type: comment
  author: xtaos
  content: "A100\u90E8\u7F72\u65F6\u62A5\u8FD9\u4E2A\u9519\u8BEF\r\n\r\nOSError: /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so:\
    \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\r\
    \n\r\n\u8BF7\u95EE\u6709\u9047\u89C1\u7684\u5417\r\n"
  created_at: 2023-06-12 08:23:36+00:00
  edited: false
  hidden: false
  id: 6486e418e2721deca7f6daad
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1863bfbc90f003ff3f446ec09e2806f9.svg
      fullname: wu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: vanewu
      type: user
    createdAt: '2023-06-12T09:35:34.000Z'
    data:
      edited: false
      editors:
      - vanewu
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9995082020759583
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1863bfbc90f003ff3f446ec09e2806f9.svg
          fullname: wu
          isHf: false
          isPro: false
          name: vanewu
          type: user
        html: "<p>Hi,  <span data-props=\"{&quot;user&quot;:&quot;xtaos&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/xtaos\">@<span class=\"\
          underline\">xtaos</span></a></span>\n\n\t</span></span>\uFF0C\u6211\u770B\
          \u4E86\u4F60\u8FD9\u4E2A \u5E16\u5B50\u548C\u4E4B\u524D\u7684\u5E16\u5B50\
          \u3002 \u770B\u8D77\u6765\u90FD\u50CF\u662F \u5C01\u88C5\u7684 \u52A8\u6001\
          \u6269\u5C55\u94FE\u63A5\u5E93 so \u7684\u95EE\u9898</p>\n<ol>\n<li>\u4F60\
          \u770B\u4E0B\u662F\u5426\u662F\u4F7F\u7528\u7684 docker \u73AF\u5883</li>\n\
          <li>\u786E\u8BA4\u4E0B\u4E0B\u8F7D\u7684 so \u6587\u4EF6\u5B8C\u6210</li>\n\
          </ol>\n"
        raw: "Hi,  @xtaos\uFF0C\u6211\u770B\u4E86\u4F60\u8FD9\u4E2A \u5E16\u5B50\u548C\
          \u4E4B\u524D\u7684\u5E16\u5B50\u3002 \u770B\u8D77\u6765\u90FD\u50CF\u662F\
          \ \u5C01\u88C5\u7684 \u52A8\u6001\u6269\u5C55\u94FE\u63A5\u5E93 so \u7684\
          \u95EE\u9898\n1. \u4F60\u770B\u4E0B\u662F\u5426\u662F\u4F7F\u7528\u7684\
          \ docker \u73AF\u5883\n2. \u786E\u8BA4\u4E0B\u4E0B\u8F7D\u7684 so \u6587\
          \u4EF6\u5B8C\u6210"
        updatedAt: '2023-06-12T09:35:34.375Z'
      numEdits: 0
      reactions: []
    id: 6486e6e6c9d77c91be201e7e
    type: comment
  author: vanewu
  content: "Hi,  @xtaos\uFF0C\u6211\u770B\u4E86\u4F60\u8FD9\u4E2A \u5E16\u5B50\u548C\
    \u4E4B\u524D\u7684\u5E16\u5B50\u3002 \u770B\u8D77\u6765\u90FD\u50CF\u662F \u5C01\
    \u88C5\u7684 \u52A8\u6001\u6269\u5C55\u94FE\u63A5\u5E93 so \u7684\u95EE\u9898\n\
    1. \u4F60\u770B\u4E0B\u662F\u5426\u662F\u4F7F\u7528\u7684 docker \u73AF\u5883\n\
    2. \u786E\u8BA4\u4E0B\u4E0B\u8F7D\u7684 so \u6587\u4EF6\u5B8C\u6210"
  created_at: 2023-06-12 08:35:34+00:00
  edited: false
  hidden: false
  id: 6486e6e6c9d77c91be201e7e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
      fullname: aa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xtaos
      type: user
    createdAt: '2023-06-13T09:33:26.000Z'
    data:
      edited: false
      editors:
      - xtaos
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9832334518432617
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
          fullname: aa
          isHf: false
          isPro: false
          name: xtaos
          type: user
        html: "<p>\u4F60\u597D</p>\n"
        raw: "\u4F60\u597D"
        updatedAt: '2023-06-13T09:33:26.788Z'
      numEdits: 0
      reactions: []
    id: 648837e6b0f0d6ce28961790
    type: comment
  author: xtaos
  content: "\u4F60\u597D"
  created_at: 2023-06-13 08:33:26+00:00
  edited: false
  hidden: false
  id: 648837e6b0f0d6ce28961790
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0cf75d2321f27be86adbefab97d59946.svg
      fullname: Xiang.YK
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Codefordl
      type: user
    createdAt: '2023-06-17T10:09:51.000Z'
    data:
      edited: false
      editors:
      - Codefordl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.622229814529419
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0cf75d2321f27be86adbefab97d59946.svg
          fullname: Xiang.YK
          isHf: false
          isPro: false
          name: Codefordl
          type: user
        html: '<p>the same error on  different servers</p>

          '
        raw: 'the same error on  different servers

          '
        updatedAt: '2023-06-17T10:09:51.979Z'
      numEdits: 0
      reactions: []
    id: 648d866faba51a4494e11375
    type: comment
  author: Codefordl
  content: 'the same error on  different servers

    '
  created_at: 2023-06-17 09:09:51+00:00
  edited: false
  hidden: false
  id: 648d866faba51a4494e11375
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bbe809e8d62c64aac7772d8ccb2ea59e.svg
      fullname: otto
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tritonchen
      type: user
    createdAt: '2023-06-21T08:52:02.000Z'
    data:
      edited: true
      editors:
      - tritonchen
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.5731659531593323
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bbe809e8d62c64aac7772d8ccb2ea59e.svg
          fullname: otto
          isHf: false
          isPro: false
          name: tritonchen
          type: user
        html: "<p>\u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E0D\u7BA1\u662F\u4ED3\u5E93\
          \u66F4\u65B0cuda11\u7248\u672C\u524D\u540E\u90FD\u62A5\uFF1AOSError: /home/otto/langchain-ChatGLM/lyraChatGLM/lyraChatGLM/ftlib/libth_transformer_sm70_cu11.so:\
          \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE</p>\n\
          <p>\u914D\u7F6E\u5982\u4E0B\uFF1A<br>GPU\uFF1AV100<br>nvidia-driver\uFF1A\
          NVIDIA-Linux-x86_64-515.105.01.run<br>cuda\uFF1A11.7<br>python\uFF1A3.8<br>pytorch:\
          \ 2.0.1<br>\u6392\u9664\u4E86conda\u81EA\u52A8\u88C5\u5907\u591A\u79CD\u7248\
          \u672Ctorch\u7684\u95EE\u9898\uFF0C\u4E5F\u8BD5\u7740\u52A0\u4E86LD_LIBRARY_PATH\uFF0C\
          \u4F46\u662F\u90FD\u6CA1\u6709\u7528\u3002\u9879\u76EE\u5207\u6362\u8C03\
          \u7528\u666E\u901AChatGLM\u662F\u6B63\u5E38\u7684\u3002<br>\u6709\u4EBA\u89E3\
          \u51B3\u4E86\u95EE\u9898\u5417\uFF1F</p>\n"
        raw: "\u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E0D\u7BA1\u662F\u4ED3\u5E93\u66F4\
          \u65B0cuda11\u7248\u672C\u524D\u540E\u90FD\u62A5\uFF1AOSError: /home/otto/langchain-ChatGLM/lyraChatGLM/lyraChatGLM/ftlib/libth_transformer_sm70_cu11.so:\
          \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\n\
          \n\u914D\u7F6E\u5982\u4E0B\uFF1A\nGPU\uFF1AV100\nnvidia-driver\uFF1ANVIDIA-Linux-x86_64-515.105.01.run\n\
          cuda\uFF1A11.7\npython\uFF1A3.8\npytorch: 2.0.1\n\u6392\u9664\u4E86conda\u81EA\
          \u52A8\u88C5\u5907\u591A\u79CD\u7248\u672Ctorch\u7684\u95EE\u9898\uFF0C\u4E5F\
          \u8BD5\u7740\u52A0\u4E86LD_LIBRARY_PATH\uFF0C\u4F46\u662F\u90FD\u6CA1\u6709\
          \u7528\u3002\u9879\u76EE\u5207\u6362\u8C03\u7528\u666E\u901AChatGLM\u662F\
          \u6B63\u5E38\u7684\u3002\n\u6709\u4EBA\u89E3\u51B3\u4E86\u95EE\u9898\u5417\
          \uFF1F"
        updatedAt: '2023-06-21T09:05:40.044Z'
      numEdits: 1
      reactions: []
    id: 6492ba324f866ccdd8c3c170
    type: comment
  author: tritonchen
  content: "\u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E0D\u7BA1\u662F\u4ED3\u5E93\u66F4\
    \u65B0cuda11\u7248\u672C\u524D\u540E\u90FD\u62A5\uFF1AOSError: /home/otto/langchain-ChatGLM/lyraChatGLM/lyraChatGLM/ftlib/libth_transformer_sm70_cu11.so:\
    \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\n\
    \n\u914D\u7F6E\u5982\u4E0B\uFF1A\nGPU\uFF1AV100\nnvidia-driver\uFF1ANVIDIA-Linux-x86_64-515.105.01.run\n\
    cuda\uFF1A11.7\npython\uFF1A3.8\npytorch: 2.0.1\n\u6392\u9664\u4E86conda\u81EA\
    \u52A8\u88C5\u5907\u591A\u79CD\u7248\u672Ctorch\u7684\u95EE\u9898\uFF0C\u4E5F\u8BD5\
    \u7740\u52A0\u4E86LD_LIBRARY_PATH\uFF0C\u4F46\u662F\u90FD\u6CA1\u6709\u7528\u3002\
    \u9879\u76EE\u5207\u6362\u8C03\u7528\u666E\u901AChatGLM\u662F\u6B63\u5E38\u7684\
    \u3002\n\u6709\u4EBA\u89E3\u51B3\u4E86\u95EE\u9898\u5417\uFF1F"
  created_at: 2023-06-21 07:52:02+00:00
  edited: true
  hidden: false
  id: 6492ba324f866ccdd8c3c170
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/599e3177c28139ff61fe0efefad6926c.svg
      fullname: YANG LIN
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dust1or2
      type: user
    createdAt: '2023-06-22T23:26:16.000Z'
    data:
      edited: false
      editors:
      - dust1or2
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.7858799695968628
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/599e3177c28139ff61fe0efefad6926c.svg
          fullname: YANG LIN
          isHf: false
          isPro: false
          name: dust1or2
          type: user
        html: "<p>\u540C\u95EE\uFF0C\u4E00\u6A21\u4E00\u6837\u7684\u95EE\u9898\uFF0C\
          \u6211torch\u4E5F\u662F\u5355\u4E00\u7248\u672C\u6CA1\u6709\u5B89\u88C5\u591A\
          \u7248\u672C\uFF1A<br>GPU:3090<br>DRIVER:525.116.04<br>cuda:11.8<br>python:3.10.11<br>pytorch:2.0.1+cu118</p>\n"
        raw: "\u540C\u95EE\uFF0C\u4E00\u6A21\u4E00\u6837\u7684\u95EE\u9898\uFF0C\u6211\
          torch\u4E5F\u662F\u5355\u4E00\u7248\u672C\u6CA1\u6709\u5B89\u88C5\u591A\u7248\
          \u672C\uFF1A\nGPU:3090\nDRIVER:525.116.04\ncuda:11.8\npython:3.10.11\npytorch:2.0.1+cu118"
        updatedAt: '2023-06-22T23:26:16.140Z'
      numEdits: 0
      reactions: []
    id: 6494d89864bfbfa4fa6ae0bf
    type: comment
  author: dust1or2
  content: "\u540C\u95EE\uFF0C\u4E00\u6A21\u4E00\u6837\u7684\u95EE\u9898\uFF0C\u6211\
    torch\u4E5F\u662F\u5355\u4E00\u7248\u672C\u6CA1\u6709\u5B89\u88C5\u591A\u7248\u672C\
    \uFF1A\nGPU:3090\nDRIVER:525.116.04\ncuda:11.8\npython:3.10.11\npytorch:2.0.1+cu118"
  created_at: 2023-06-22 22:26:16+00:00
  edited: false
  hidden: false
  id: 6494d89864bfbfa4fa6ae0bf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2d70c88589107c18282c39d9d58c1afb.svg
      fullname: Yibo Lu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: yibolu96
      type: user
    createdAt: '2023-06-23T08:17:43.000Z'
    data:
      edited: false
      editors:
      - yibolu96
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9853437542915344
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2d70c88589107c18282c39d9d58c1afb.svg
          fullname: Yibo Lu
          isHf: false
          isPro: false
          name: yibolu96
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;tritonchen&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/tritonchen\">@<span class=\"\
          underline\">tritonchen</span></a></span>\n\n\t</span></span> <span data-props=\"\
          {&quot;user&quot;:&quot;dust1or2&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/dust1or2\">@<span class=\"underline\">dust1or2</span></a></span>\n\
          \n\t</span></span><br>c++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\u7F6E\
          \u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\uFF0C\
          \u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\u63A8\
          \u8350\u7684\u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\u7684\
          \u52A0\u901F\u7248\u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\u6709\
          \u9700\u6C42\u60F3\u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\u8DD1\
          \u7684\u8BDD\uFF0C\u6211\u4EEC\u4E4B\u540E\u4F1A\u5728readme\u4E2D\u66F4\
          \u65B0\u6211\u4EEC\u6240\u4F7F\u7528\u7684\u6240\u6709\u73AF\u5883\u4F9D\
          \u8D56</p>\n"
        raw: "@tritonchen @dust1or2 \nc++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\
          \u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\
          \uFF0C\u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\
          \u63A8\u8350\u7684\u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\
          \u7684\u52A0\u901F\u7248\u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\
          \u6709\u9700\u6C42\u60F3\u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\
          \u8DD1\u7684\u8BDD\uFF0C\u6211\u4EEC\u4E4B\u540E\u4F1A\u5728readme\u4E2D\
          \u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\u7528\u7684\u6240\u6709\u73AF\u5883\
          \u4F9D\u8D56"
        updatedAt: '2023-06-23T08:17:43.801Z'
      numEdits: 0
      reactions: []
    id: 6495552795ca60af5c837058
    type: comment
  author: yibolu96
  content: "@tritonchen @dust1or2 \nc++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\u7F6E\
    \u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\uFF0C\u53EF\
    \u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\u63A8\u8350\u7684\
    \u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\u7684\u52A0\u901F\u7248\
    \u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\u6709\u9700\u6C42\u60F3\u8981\
    \u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\u8DD1\u7684\u8BDD\uFF0C\u6211\u4EEC\
    \u4E4B\u540E\u4F1A\u5728readme\u4E2D\u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\u7528\
    \u7684\u6240\u6709\u73AF\u5883\u4F9D\u8D56"
  created_at: 2023-06-23 07:17:43+00:00
  edited: false
  hidden: false
  id: 6495552795ca60af5c837058
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/599e3177c28139ff61fe0efefad6926c.svg
      fullname: YANG LIN
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dust1or2
      type: user
    createdAt: '2023-06-23T09:42:47.000Z'
    data:
      edited: false
      editors:
      - dust1or2
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9075981378555298
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/599e3177c28139ff61fe0efefad6926c.svg
          fullname: YANG LIN
          isHf: false
          isPro: false
          name: dust1or2
          type: user
        html: "<blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;tritonchen&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/tritonchen\"\
          >@<span class=\"underline\">tritonchen</span></a></span>\n\n\t</span></span>\
          \ <span data-props=\"{&quot;user&quot;:&quot;dust1or2&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/dust1or2\">@<span class=\"\
          underline\">dust1or2</span></a></span>\n\n\t</span></span><br>c++\u52A8\u6001\
          \u5E93\u7684\u73AF\u5883\u914D\u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\
          \u679C\u53EF\u4EE5\u7684\u8BDD\uFF0C\u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\
          \u7528\u6211\u4EECreadme\u4E2D\u63A8\u8350\u7684\u4E24\u4E2Adocker\u955C\
          \u50CF\u6765\u8DD1\u6211\u4EEC\u7684\u52A0\u901F\u7248\u6A21\u578B\u3002\
          \u5982\u679C\u5B9E\u5728\u662F\u6709\u9700\u6C42\u60F3\u8981\u4F7F\u7528\
          \u81EA\u5DF1\u7684\u73AF\u5883\u8DD1\u7684\u8BDD\uFF0C\u6211\u4EEC\u4E4B\
          \u540E\u4F1A\u5728readme\u4E2D\u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\u7528\
          \u7684\u6240\u6709\u73AF\u5883\u4F9D\u8D56</p>\n</blockquote>\n<p>\u786E\
          \u5B9E\u6BD4\u8F83\u590D\u6742\uFF0C\u6211\u5C1D\u8BD5\u5728\u672C\u5730\
          \u81EA\u5DF1\u7F16\u8BD1\u4E86\u4E00\u4E0Bft\uFF0C\u751F\u6210\u7684so\u62A5\
          \u65B0\u9519\u4E86\uFF1A<br>undefined symbol: _ZN17fastertransformer27getInitLongformerCubStorageI6__halfEEmi</p>\n"
        raw: "> @tritonchen @dust1or2 \n> c++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\
          \u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\
          \uFF0C\u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\
          \u63A8\u8350\u7684\u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\
          \u7684\u52A0\u901F\u7248\u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\
          \u6709\u9700\u6C42\u60F3\u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\
          \u8DD1\u7684\u8BDD\uFF0C\u6211\u4EEC\u4E4B\u540E\u4F1A\u5728readme\u4E2D\
          \u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\u7528\u7684\u6240\u6709\u73AF\u5883\
          \u4F9D\u8D56\n\n\u786E\u5B9E\u6BD4\u8F83\u590D\u6742\uFF0C\u6211\u5C1D\u8BD5\
          \u5728\u672C\u5730\u81EA\u5DF1\u7F16\u8BD1\u4E86\u4E00\u4E0Bft\uFF0C\u751F\
          \u6210\u7684so\u62A5\u65B0\u9519\u4E86\uFF1A\nundefined symbol: _ZN17fastertransformer27getInitLongformerCubStorageI6__halfEEmi\n"
        updatedAt: '2023-06-23T09:42:47.910Z'
      numEdits: 0
      reactions: []
    id: 64956917f2b8c25a2a413cb5
    type: comment
  author: dust1or2
  content: "> @tritonchen @dust1or2 \n> c++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\
    \u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\uFF0C\
    \u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\u63A8\u8350\
    \u7684\u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\u7684\u52A0\u901F\
    \u7248\u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\u6709\u9700\u6C42\u60F3\
    \u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\u8DD1\u7684\u8BDD\uFF0C\u6211\
    \u4EEC\u4E4B\u540E\u4F1A\u5728readme\u4E2D\u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\
    \u7528\u7684\u6240\u6709\u73AF\u5883\u4F9D\u8D56\n\n\u786E\u5B9E\u6BD4\u8F83\u590D\
    \u6742\uFF0C\u6211\u5C1D\u8BD5\u5728\u672C\u5730\u81EA\u5DF1\u7F16\u8BD1\u4E86\
    \u4E00\u4E0Bft\uFF0C\u751F\u6210\u7684so\u62A5\u65B0\u9519\u4E86\uFF1A\nundefined\
    \ symbol: _ZN17fastertransformer27getInitLongformerCubStorageI6__halfEEmi\n"
  created_at: 2023-06-23 08:42:47+00:00
  edited: false
  hidden: false
  id: 64956917f2b8c25a2a413cb5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3633c941e3f1b8a8893c327fc2b2c86f.svg
      fullname: bny
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: crasylph
      type: user
    createdAt: '2023-06-26T03:33:13.000Z'
    data:
      edited: false
      editors:
      - crasylph
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.275052011013031
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3633c941e3f1b8a8893c327fc2b2c86f.svg
          fullname: bny
          isHf: false
          isPro: false
          name: crasylph
          type: user
        html: "<blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;tritonchen&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/tritonchen\"\
          >@<span class=\"underline\">tritonchen</span></a></span>\n\n\t</span></span>\
          \ <span data-props=\"{&quot;user&quot;:&quot;dust1or2&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/dust1or2\">@<span class=\"\
          underline\">dust1or2</span></a></span>\n\n\t</span></span><br>c++\u52A8\u6001\
          \u5E93\u7684\u73AF\u5883\u914D\u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\
          \u679C\u53EF\u4EE5\u7684\u8BDD\uFF0C\u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\
          \u7528\u6211\u4EECreadme\u4E2D\u63A8\u8350\u7684\u4E24\u4E2Adocker\u955C\
          \u50CF\u6765\u8DD1\u6211\u4EEC\u7684\u52A0\u901F\u7248\u6A21\u578B\u3002\
          \u5982\u679C\u5B9E\u5728\u662F\u6709\u9700\u6C42\u60F3\u8981\u4F7F\u7528\
          \u81EA\u5DF1\u7684\u73AF\u5883\u8DD1\u7684\u8BDD\uFF0C\u6211\u4EEC\u4E4B\
          \u540E\u4F1A\u5728readme\u4E2D\u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\u7528\
          \u7684\u6240\u6709\u73AF\u5883\u4F9D\u8D56</p>\n</blockquote>\n<p>\u6211\
          \u5C1D\u8BD5\u4F7F\u7528nvcr.io/nvidia/pytorch:22.12-py3\u955C\u50CF\u8DD1\
          \u4E86\u4E00\u4E0Bdemo\uFF0C\u51FA\u73B0\u4E86\u548C <a href=\"/TMElyralab/lyraChatGLM/discussions/32\"\
          >#32</a> \u7C7B\u4F3C\u7684\u62A5\u9519\u3002</p>\n<pre><code>[FT][ERROR]\
          \ [FT][ERROR] CUDA runtime error: no kernel image is available for execution\
          \ on the device /app/ChatGLM6BAccelerate/src/fastertransformer/kernels/sampling_topp_kernels.cu:1077\
          \ \n\nTraceback (most recent call last):\n  File \"demo.py\", line 20, in\
          \ &lt;module&gt;\n    output_texts = model.generate(prompts, output_length=max_output_length,top_k=30,\
          \ top_p=0.85, temperature=0.35, repetition_penalty=1.2, do_sample=False)\n\
          \  File \"/lyraChatGLM/lyraChatGLM/lyra_glm.py\", line 145, in generate\n\
          \    outputs = self.model(start_ids=input_token_ids,\n  File \"/usr/local/lib/python3.8/dist-packages/torch/nn/modules/module.py\"\
          , line 1423, in _call_impl\n    return forward_call(*input, **kwargs)\n\
          \  File \"/lyraChatGLM/lyraChatGLM/model.py\", line 158, in forward\n  \
          \  outputs = self.model.forward(start_ids,\nRuntimeError: [FT][ERROR]  Assertion\
          \ fail: /app/ChatGLM6BAccelerate/src/fastertransformer/th_op/glm/GlmOp.h:462\
          \ \n</code></pre>\n<p>\u6211\u7684CUDA\u7248\u672C\u662F11.7\uFF0C\u663E\
          \u5361\u662FTitan RTX\u3002</p>\n"
        raw: "> @tritonchen @dust1or2 \n> c++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\
          \u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\
          \uFF0C\u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\
          \u63A8\u8350\u7684\u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\
          \u7684\u52A0\u901F\u7248\u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\
          \u6709\u9700\u6C42\u60F3\u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\
          \u8DD1\u7684\u8BDD\uFF0C\u6211\u4EEC\u4E4B\u540E\u4F1A\u5728readme\u4E2D\
          \u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\u7528\u7684\u6240\u6709\u73AF\u5883\
          \u4F9D\u8D56\n\n\u6211\u5C1D\u8BD5\u4F7F\u7528nvcr.io/nvidia/pytorch:22.12-py3\u955C\
          \u50CF\u8DD1\u4E86\u4E00\u4E0Bdemo\uFF0C\u51FA\u73B0\u4E86\u548C #32 \u7C7B\
          \u4F3C\u7684\u62A5\u9519\u3002\n```\n[FT][ERROR] [FT][ERROR] CUDA runtime\
          \ error: no kernel image is available for execution on the device /app/ChatGLM6BAccelerate/src/fastertransformer/kernels/sampling_topp_kernels.cu:1077\
          \ \n\nTraceback (most recent call last):\n  File \"demo.py\", line 20, in\
          \ <module>\n    output_texts = model.generate(prompts, output_length=max_output_length,top_k=30,\
          \ top_p=0.85, temperature=0.35, repetition_penalty=1.2, do_sample=False)\n\
          \  File \"/lyraChatGLM/lyraChatGLM/lyra_glm.py\", line 145, in generate\n\
          \    outputs = self.model(start_ids=input_token_ids,\n  File \"/usr/local/lib/python3.8/dist-packages/torch/nn/modules/module.py\"\
          , line 1423, in _call_impl\n    return forward_call(*input, **kwargs)\n\
          \  File \"/lyraChatGLM/lyraChatGLM/model.py\", line 158, in forward\n  \
          \  outputs = self.model.forward(start_ids,\nRuntimeError: [FT][ERROR]  Assertion\
          \ fail: /app/ChatGLM6BAccelerate/src/fastertransformer/th_op/glm/GlmOp.h:462\
          \ \n```\n\u6211\u7684CUDA\u7248\u672C\u662F11.7\uFF0C\u663E\u5361\u662F\
          Titan RTX\u3002"
        updatedAt: '2023-06-26T03:33:13.774Z'
      numEdits: 0
      reactions: []
    id: 649906f97c15c218be906afc
    type: comment
  author: crasylph
  content: "> @tritonchen @dust1or2 \n> c++\u52A8\u6001\u5E93\u7684\u73AF\u5883\u914D\
    \u7F6E\u8FC7\u4E8E\u590D\u6742\uFF0C\u5982\u679C\u53EF\u4EE5\u7684\u8BDD\uFF0C\
    \u53EF\u4EE5\u5148\u5C1D\u8BD5\u4F7F\u7528\u6211\u4EECreadme\u4E2D\u63A8\u8350\
    \u7684\u4E24\u4E2Adocker\u955C\u50CF\u6765\u8DD1\u6211\u4EEC\u7684\u52A0\u901F\
    \u7248\u6A21\u578B\u3002\u5982\u679C\u5B9E\u5728\u662F\u6709\u9700\u6C42\u60F3\
    \u8981\u4F7F\u7528\u81EA\u5DF1\u7684\u73AF\u5883\u8DD1\u7684\u8BDD\uFF0C\u6211\
    \u4EEC\u4E4B\u540E\u4F1A\u5728readme\u4E2D\u66F4\u65B0\u6211\u4EEC\u6240\u4F7F\
    \u7528\u7684\u6240\u6709\u73AF\u5883\u4F9D\u8D56\n\n\u6211\u5C1D\u8BD5\u4F7F\u7528\
    nvcr.io/nvidia/pytorch:22.12-py3\u955C\u50CF\u8DD1\u4E86\u4E00\u4E0Bdemo\uFF0C\
    \u51FA\u73B0\u4E86\u548C #32 \u7C7B\u4F3C\u7684\u62A5\u9519\u3002\n```\n[FT][ERROR]\
    \ [FT][ERROR] CUDA runtime error: no kernel image is available for execution on\
    \ the device /app/ChatGLM6BAccelerate/src/fastertransformer/kernels/sampling_topp_kernels.cu:1077\
    \ \n\nTraceback (most recent call last):\n  File \"demo.py\", line 20, in <module>\n\
    \    output_texts = model.generate(prompts, output_length=max_output_length,top_k=30,\
    \ top_p=0.85, temperature=0.35, repetition_penalty=1.2, do_sample=False)\n  File\
    \ \"/lyraChatGLM/lyraChatGLM/lyra_glm.py\", line 145, in generate\n    outputs\
    \ = self.model(start_ids=input_token_ids,\n  File \"/usr/local/lib/python3.8/dist-packages/torch/nn/modules/module.py\"\
    , line 1423, in _call_impl\n    return forward_call(*input, **kwargs)\n  File\
    \ \"/lyraChatGLM/lyraChatGLM/model.py\", line 158, in forward\n    outputs = self.model.forward(start_ids,\n\
    RuntimeError: [FT][ERROR]  Assertion fail: /app/ChatGLM6BAccelerate/src/fastertransformer/th_op/glm/GlmOp.h:462\
    \ \n```\n\u6211\u7684CUDA\u7248\u672C\u662F11.7\uFF0C\u663E\u5361\u662FTitan RTX\u3002"
  created_at: 2023-06-26 02:33:13+00:00
  edited: false
  hidden: false
  id: 649906f97c15c218be906afc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1fb012b96060af563d0f5e0c4f85bb66.svg
      fullname: Chibie Wang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zhinanertui
      type: user
    createdAt: '2023-06-27T14:31:51.000Z'
    data:
      edited: false
      editors:
      - zhinanertui
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.7042971849441528
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1fb012b96060af563d0f5e0c4f85bb66.svg
          fullname: Chibie Wang
          isHf: false
          isPro: false
          name: zhinanertui
          type: user
        html: "<blockquote>\n<p>\u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E0D\u7BA1\u662F\
          \u4ED3\u5E93\u66F4\u65B0cuda11\u7248\u672C\u524D\u540E\u90FD\u62A5\uFF1A\
          OSError: /home/otto/langchain-ChatGLM/lyraChatGLM/lyraChatGLM/ftlib/libth_transformer_sm70_cu11.so:\
          \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE</p>\n\
          <p>\u914D\u7F6E\u5982\u4E0B\uFF1A<br>GPU\uFF1AV100<br>nvidia-driver\uFF1A\
          NVIDIA-Linux-x86_64-515.105.01.run<br>cuda\uFF1A11.7<br>python\uFF1A3.8<br>pytorch:\
          \ 2.0.1<br>\u6392\u9664\u4E86conda\u81EA\u52A8\u88C5\u5907\u591A\u79CD\u7248\
          \u672Ctorch\u7684\u95EE\u9898\uFF0C\u4E5F\u8BD5\u7740\u52A0\u4E86LD_LIBRARY_PATH\uFF0C\
          \u4F46\u662F\u90FD\u6CA1\u6709\u7528\u3002\u9879\u76EE\u5207\u6362\u8C03\
          \u7528\u666E\u901AChatGLM\u662F\u6B63\u5E38\u7684\u3002<br>\u6709\u4EBA\u89E3\
          \u51B3\u4E86\u95EE\u9898\u5417\uFF1F</p>\n</blockquote>\n<p>\u8FD9\u4E2A\
          \u62A5\u9519<code>OSError: /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so:\
          \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE</code>\u7684\
          \u539F\u56E0\u662Fpytorch\u7684C++ ABI\u662FPre-cxx11 ABI\uFF0C\u4F46\u662F\
          \u8FD9\u4E2A\u9879\u76EE\u7684\u52A8\u6001\u5E93\u7528\u7684\u662Fcxx11\
          \ ABI\u7684pytorch\uFF08\u6CE8\u610F\u662Fpython\u7684pytorch\u5305\uFF0C\
          \u4EC5\u4EC5\u662FLibtorch\u662F\u4E0D\u591F\u7684\uFF09\u3002<br>\u5982\
          \u679C\u786E\u5B9E\u4E0D\u65B9\u4FBF\u7528docker\u7684\u8BDD\uFF0C\u5C31\
          \u5FC5\u987B\u81EA\u5DF1\u4ECE\u5934\u7F16\u8BD1pytorch\u4E86\u3002\u53EF\
          \u4EE5\u53C2\u8003nvidia\u63D0\u4F9B\u7684docker\u4E2D\u5404\u4E2A\u5E93\
          \u7684\u4FE1\u606F\uFF0C\u4ECEgithub\u4E0A\u4E0B\u8F7D\u5BF9\u5E94\u7248\
          \u672C\u7684pytorch\u7684commit\uFF0C\u7136\u540E\u81EA\u5DF1\u7F16\u8BD1\
          \u3002<br>\u4E0D\u8FC7\u6709\u51E0\u4E2A\u6CE8\u610F\u70B9\uFF1A</p>\n<ol>\n\
          <li>python\u5FC5\u987B\u662F3.8</li>\n<li>\u5982\u679C\u662Fcuda 12\uFF0C\
          pytorch\u76841.14.0a0+44dac51\u8FD9\u4E2A\u7248\u672C\u662F\u9700\u8981\u81EA\
          \u5DF1\u4FEE\u6539\u4EE3\u7801\u7684\uFF08\u4E3B\u8981\u662Fcusparse\u76F8\
          \u5173\u7684\u4EE3\u7801\uFF09\uFF0C\u53C2\u7167\u6700\u65B0\u7248\u672C\
          \u7684\u4EE3\u7801\u8986\u76D6\u5C31\u597D</li>\n<li>\u9700\u8981\u5F3A\u5236\
          \u5F00\u542Fcxx11 ABI\uFF0C\u53C2\u8003\u6700\u8FD1Pytorch\u5728githbu\u4E0A\
          \u7684\u6587\u6863<code>export _GLIBCXX_USE_CXX11_ABI=1</code></li>\n</ol>\n\
          <p>\u6D4B\u8BD5\u4E86\u51E0\u4E2A\u73AF\u58833090+CUDA 12\uFF0CV100+CUDA11.3\u90FD\
          \u80FD\u6B63\u5E38\u8FD0\u884C\u3002</p>\n"
        raw: "> \u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E0D\u7BA1\u662F\u4ED3\u5E93\
          \u66F4\u65B0cuda11\u7248\u672C\u524D\u540E\u90FD\u62A5\uFF1AOSError: /home/otto/langchain-ChatGLM/lyraChatGLM/lyraChatGLM/ftlib/libth_transformer_sm70_cu11.so:\
          \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\n\
          > \n> \u914D\u7F6E\u5982\u4E0B\uFF1A\n> GPU\uFF1AV100\n> nvidia-driver\uFF1A\
          NVIDIA-Linux-x86_64-515.105.01.run\n> cuda\uFF1A11.7\n> python\uFF1A3.8\n\
          > pytorch: 2.0.1\n> \u6392\u9664\u4E86conda\u81EA\u52A8\u88C5\u5907\u591A\
          \u79CD\u7248\u672Ctorch\u7684\u95EE\u9898\uFF0C\u4E5F\u8BD5\u7740\u52A0\u4E86\
          LD_LIBRARY_PATH\uFF0C\u4F46\u662F\u90FD\u6CA1\u6709\u7528\u3002\u9879\u76EE\
          \u5207\u6362\u8C03\u7528\u666E\u901AChatGLM\u662F\u6B63\u5E38\u7684\u3002\
          \n> \u6709\u4EBA\u89E3\u51B3\u4E86\u95EE\u9898\u5417\uFF1F\n\n\u8FD9\u4E2A\
          \u62A5\u9519`OSError: /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so:\
          \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE`\u7684\
          \u539F\u56E0\u662Fpytorch\u7684C++ ABI\u662FPre-cxx11 ABI\uFF0C\u4F46\u662F\
          \u8FD9\u4E2A\u9879\u76EE\u7684\u52A8\u6001\u5E93\u7528\u7684\u662Fcxx11\
          \ ABI\u7684pytorch\uFF08\u6CE8\u610F\u662Fpython\u7684pytorch\u5305\uFF0C\
          \u4EC5\u4EC5\u662FLibtorch\u662F\u4E0D\u591F\u7684\uFF09\u3002\n\u5982\u679C\
          \u786E\u5B9E\u4E0D\u65B9\u4FBF\u7528docker\u7684\u8BDD\uFF0C\u5C31\u5FC5\
          \u987B\u81EA\u5DF1\u4ECE\u5934\u7F16\u8BD1pytorch\u4E86\u3002\u53EF\u4EE5\
          \u53C2\u8003nvidia\u63D0\u4F9B\u7684docker\u4E2D\u5404\u4E2A\u5E93\u7684\
          \u4FE1\u606F\uFF0C\u4ECEgithub\u4E0A\u4E0B\u8F7D\u5BF9\u5E94\u7248\u672C\
          \u7684pytorch\u7684commit\uFF0C\u7136\u540E\u81EA\u5DF1\u7F16\u8BD1\u3002\
          \n\u4E0D\u8FC7\u6709\u51E0\u4E2A\u6CE8\u610F\u70B9\uFF1A\n1. python\u5FC5\
          \u987B\u662F3.8\n2. \u5982\u679C\u662Fcuda 12\uFF0Cpytorch\u76841.14.0a0+44dac51\u8FD9\
          \u4E2A\u7248\u672C\u662F\u9700\u8981\u81EA\u5DF1\u4FEE\u6539\u4EE3\u7801\
          \u7684\uFF08\u4E3B\u8981\u662Fcusparse\u76F8\u5173\u7684\u4EE3\u7801\uFF09\
          \uFF0C\u53C2\u7167\u6700\u65B0\u7248\u672C\u7684\u4EE3\u7801\u8986\u76D6\
          \u5C31\u597D\n3. \u9700\u8981\u5F3A\u5236\u5F00\u542Fcxx11 ABI\uFF0C\u53C2\
          \u8003\u6700\u8FD1Pytorch\u5728githbu\u4E0A\u7684\u6587\u6863`export _GLIBCXX_USE_CXX11_ABI=1`\n\
          \n\u6D4B\u8BD5\u4E86\u51E0\u4E2A\u73AF\u58833090+CUDA 12\uFF0CV100+CUDA11.3\u90FD\
          \u80FD\u6B63\u5E38\u8FD0\u884C\u3002"
        updatedAt: '2023-06-27T14:31:51.936Z'
      numEdits: 0
      reactions: []
    id: 649af2d7ac29c9b63e3d2b42
    type: comment
  author: zhinanertui
  content: "> \u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E0D\u7BA1\u662F\u4ED3\u5E93\u66F4\
    \u65B0cuda11\u7248\u672C\u524D\u540E\u90FD\u62A5\uFF1AOSError: /home/otto/langchain-ChatGLM/lyraChatGLM/lyraChatGLM/ftlib/libth_transformer_sm70_cu11.so:\
    \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\n\
    > \n> \u914D\u7F6E\u5982\u4E0B\uFF1A\n> GPU\uFF1AV100\n> nvidia-driver\uFF1ANVIDIA-Linux-x86_64-515.105.01.run\n\
    > cuda\uFF1A11.7\n> python\uFF1A3.8\n> pytorch: 2.0.1\n> \u6392\u9664\u4E86conda\u81EA\
    \u52A8\u88C5\u5907\u591A\u79CD\u7248\u672Ctorch\u7684\u95EE\u9898\uFF0C\u4E5F\u8BD5\
    \u7740\u52A0\u4E86LD_LIBRARY_PATH\uFF0C\u4F46\u662F\u90FD\u6CA1\u6709\u7528\u3002\
    \u9879\u76EE\u5207\u6362\u8C03\u7528\u666E\u901AChatGLM\u662F\u6B63\u5E38\u7684\
    \u3002\n> \u6709\u4EBA\u89E3\u51B3\u4E86\u95EE\u9898\u5417\uFF1F\n\n\u8FD9\u4E2A\
    \u62A5\u9519`OSError: /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so:\
    \ undefined symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE`\u7684\
    \u539F\u56E0\u662Fpytorch\u7684C++ ABI\u662FPre-cxx11 ABI\uFF0C\u4F46\u662F\u8FD9\
    \u4E2A\u9879\u76EE\u7684\u52A8\u6001\u5E93\u7528\u7684\u662Fcxx11 ABI\u7684pytorch\uFF08\
    \u6CE8\u610F\u662Fpython\u7684pytorch\u5305\uFF0C\u4EC5\u4EC5\u662FLibtorch\u662F\
    \u4E0D\u591F\u7684\uFF09\u3002\n\u5982\u679C\u786E\u5B9E\u4E0D\u65B9\u4FBF\u7528\
    docker\u7684\u8BDD\uFF0C\u5C31\u5FC5\u987B\u81EA\u5DF1\u4ECE\u5934\u7F16\u8BD1\
    pytorch\u4E86\u3002\u53EF\u4EE5\u53C2\u8003nvidia\u63D0\u4F9B\u7684docker\u4E2D\
    \u5404\u4E2A\u5E93\u7684\u4FE1\u606F\uFF0C\u4ECEgithub\u4E0A\u4E0B\u8F7D\u5BF9\
    \u5E94\u7248\u672C\u7684pytorch\u7684commit\uFF0C\u7136\u540E\u81EA\u5DF1\u7F16\
    \u8BD1\u3002\n\u4E0D\u8FC7\u6709\u51E0\u4E2A\u6CE8\u610F\u70B9\uFF1A\n1. python\u5FC5\
    \u987B\u662F3.8\n2. \u5982\u679C\u662Fcuda 12\uFF0Cpytorch\u76841.14.0a0+44dac51\u8FD9\
    \u4E2A\u7248\u672C\u662F\u9700\u8981\u81EA\u5DF1\u4FEE\u6539\u4EE3\u7801\u7684\
    \uFF08\u4E3B\u8981\u662Fcusparse\u76F8\u5173\u7684\u4EE3\u7801\uFF09\uFF0C\u53C2\
    \u7167\u6700\u65B0\u7248\u672C\u7684\u4EE3\u7801\u8986\u76D6\u5C31\u597D\n3. \u9700\
    \u8981\u5F3A\u5236\u5F00\u542Fcxx11 ABI\uFF0C\u53C2\u8003\u6700\u8FD1Pytorch\u5728\
    githbu\u4E0A\u7684\u6587\u6863`export _GLIBCXX_USE_CXX11_ABI=1`\n\n\u6D4B\u8BD5\
    \u4E86\u51E0\u4E2A\u73AF\u58833090+CUDA 12\uFF0CV100+CUDA11.3\u90FD\u80FD\u6B63\
    \u5E38\u8FD0\u884C\u3002"
  created_at: 2023-06-27 13:31:51+00:00
  edited: false
  hidden: false
  id: 649af2d7ac29c9b63e3d2b42
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 34
repo_id: TMElyralab/lyraChatGLM
repo_type: model
status: open
target_branch: null
title: 'OSError: /lyrachatglmtest/lyraChatGLM/ftlib/libth_transformer_sm80.so: undefined
  symbol: _ZN5torch3jit17parseSchemaOrNameERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE'
