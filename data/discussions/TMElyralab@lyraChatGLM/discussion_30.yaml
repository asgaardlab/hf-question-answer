!!python/object:huggingface_hub.community.DiscussionWithDetails
author: haaaaaaaa1
conflicting_files: null
created_at: 2023-06-10 17:11:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/76689254b9cea1d5339bf5043afafeb8.svg
      fullname: haahaha
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: haaaaaaaa1
      type: user
    createdAt: '2023-06-10T18:11:51.000Z'
    data:
      edited: false
      editors:
      - haaaaaaaa1
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.39697763323783875
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/76689254b9cea1d5339bf5043afafeb8.svg
          fullname: haahaha
          isHf: false
          isPro: false
          name: haaaaaaaa1
          type: user
        html: "<p>Traceback (most recent call last):<br>  File \"/usr/lyraChatGLM/demo.py\"\
          , line 10, in <br>    model = LyraChatGLM6B(model_path, tokenizer_path,\
          \ data_type, int8_mode, arch)<br>  File \"/usr/lyraChatGLM/lyraChatGLM/lyra_glm.py\"\
          , line 24, in <strong>init</strong><br>    self.model, self.tokenizer =\
          \ self.load_model_and_tokenizer()<br>  File \"/usr/lyraChatGLM/lyraChatGLM/lyra_glm.py\"\
          , line 37, in load_model_and_tokenizer<br>    tokenizer = transformers.AutoTokenizer.from_pretrained(tokenizer_path,\
          \ trust_remote_code=True)<br>  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py\"\
          , line 678, in from_pretrained<br>    return tokenizer_class.from_pretrained(pretrained_model_name_or_path,\
          \ *inputs, **kwargs)<br>  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
          , line 1825, in from_pretrained<br>    return cls._from_pretrained(<br>\
          \  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
          , line 1988, in _from_pretrained<br>    tokenizer = cls(*init_inputs, **init_kwargs)<br>\
          \  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
          , line 221, in <strong>init</strong><br>    self.sp_tokenizer = SPTokenizer(vocab_file,\
          \ num_image_tokens=num_image_tokens)<br>  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
          , line 64, in <strong>init</strong><br>    self.text_tokenizer = TextTokenizer(vocab_file)<br>\
          \  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
          , line 22, in <strong>init</strong><br>    self.sp.Load(model_path)<br>\
          \  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/sentencepiece/<strong>init</strong>.py\"\
          , line 905, in Load<br>    return self.LoadFromFile(model_file)<br>  File\
          \ \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/sentencepiece/<strong>init</strong>.py\"\
          , line 310, in LoadFromFile<br>    return _sentencepiece.SentencePieceProcessor_LoadFromFile(self,\
          \ arg)<br>RuntimeError: Internal: src/sentencepiece_processor.cc(1101) [model_proto-&gt;ParseFromArray(serialized.data(),\
          \ serialized.size())] </p>\n<p>\u600E\u4E48\u89E3\u51B3\u5462\uFF0C\u8C22\
          \u8C22</p>\n"
        raw: "Traceback (most recent call last):\r\n  File \"/usr/lyraChatGLM/demo.py\"\
          , line 10, in <module>\r\n    model = LyraChatGLM6B(model_path, tokenizer_path,\
          \ data_type, int8_mode, arch)\r\n  File \"/usr/lyraChatGLM/lyraChatGLM/lyra_glm.py\"\
          , line 24, in __init__\r\n    self.model, self.tokenizer = self.load_model_and_tokenizer()\r\
          \n  File \"/usr/lyraChatGLM/lyraChatGLM/lyra_glm.py\", line 37, in load_model_and_tokenizer\r\
          \n    tokenizer = transformers.AutoTokenizer.from_pretrained(tokenizer_path,\
          \ trust_remote_code=True)\r\n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py\"\
          , line 678, in from_pretrained\r\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path,\
          \ *inputs, **kwargs)\r\n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
          , line 1825, in from_pretrained\r\n    return cls._from_pretrained(\r\n\
          \  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
          , line 1988, in _from_pretrained\r\n    tokenizer = cls(*init_inputs, **init_kwargs)\r\
          \n  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
          , line 221, in __init__\r\n    self.sp_tokenizer = SPTokenizer(vocab_file,\
          \ num_image_tokens=num_image_tokens)\r\n  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
          , line 64, in __init__\r\n    self.text_tokenizer = TextTokenizer(vocab_file)\r\
          \n  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
          , line 22, in __init__\r\n    self.sp.Load(model_path)\r\n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/sentencepiece/__init__.py\"\
          , line 905, in Load\r\n    return self.LoadFromFile(model_file)\r\n  File\
          \ \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/sentencepiece/__init__.py\"\
          , line 310, in LoadFromFile\r\n    return _sentencepiece.SentencePieceProcessor_LoadFromFile(self,\
          \ arg)\r\nRuntimeError: Internal: src/sentencepiece_processor.cc(1101) [model_proto->ParseFromArray(serialized.data(),\
          \ serialized.size())] \r\n\r\n\u600E\u4E48\u89E3\u51B3\u5462\uFF0C\u8C22\
          \u8C22"
        updatedAt: '2023-06-10T18:11:51.506Z'
      numEdits: 0
      reactions: []
    id: 6484bce780f390fe864197c6
    type: comment
  author: haaaaaaaa1
  content: "Traceback (most recent call last):\r\n  File \"/usr/lyraChatGLM/demo.py\"\
    , line 10, in <module>\r\n    model = LyraChatGLM6B(model_path, tokenizer_path,\
    \ data_type, int8_mode, arch)\r\n  File \"/usr/lyraChatGLM/lyraChatGLM/lyra_glm.py\"\
    , line 24, in __init__\r\n    self.model, self.tokenizer = self.load_model_and_tokenizer()\r\
    \n  File \"/usr/lyraChatGLM/lyraChatGLM/lyra_glm.py\", line 37, in load_model_and_tokenizer\r\
    \n    tokenizer = transformers.AutoTokenizer.from_pretrained(tokenizer_path, trust_remote_code=True)\r\
    \n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py\"\
    , line 678, in from_pretrained\r\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path,\
    \ *inputs, **kwargs)\r\n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
    , line 1825, in from_pretrained\r\n    return cls._from_pretrained(\r\n  File\
    \ \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
    , line 1988, in _from_pretrained\r\n    tokenizer = cls(*init_inputs, **init_kwargs)\r\
    \n  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
    , line 221, in __init__\r\n    self.sp_tokenizer = SPTokenizer(vocab_file, num_image_tokens=num_image_tokens)\r\
    \n  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
    , line 64, in __init__\r\n    self.text_tokenizer = TextTokenizer(vocab_file)\r\
    \n  File \"/root/.cache/huggingface/modules/transformers_modules/models/tokenization_chatglm.py\"\
    , line 22, in __init__\r\n    self.sp.Load(model_path)\r\n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/sentencepiece/__init__.py\"\
    , line 905, in Load\r\n    return self.LoadFromFile(model_file)\r\n  File \"/root/miniconda3/envs/ai/lib/python3.10/site-packages/sentencepiece/__init__.py\"\
    , line 310, in LoadFromFile\r\n    return _sentencepiece.SentencePieceProcessor_LoadFromFile(self,\
    \ arg)\r\nRuntimeError: Internal: src/sentencepiece_processor.cc(1101) [model_proto->ParseFromArray(serialized.data(),\
    \ serialized.size())] \r\n\r\n\u600E\u4E48\u89E3\u51B3\u5462\uFF0C\u8C22\u8C22"
  created_at: 2023-06-10 17:11:51+00:00
  edited: false
  hidden: false
  id: 6484bce780f390fe864197c6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a9fa2ca6a85a17a956b6ebb81d5aea13.svg
      fullname: hongyuwang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yuliahywang
      type: user
    createdAt: '2023-06-12T02:37:40.000Z'
    data:
      edited: false
      editors:
      - yuliahywang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8417139053344727
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a9fa2ca6a85a17a956b6ebb81d5aea13.svg
          fullname: hongyuwang
          isHf: false
          isPro: false
          name: yuliahywang
          type: user
        html: '<p>same problem</p>

          '
        raw: same problem
        updatedAt: '2023-06-12T02:37:40.626Z'
      numEdits: 0
      reactions: []
    id: 648684f475443e8cc9448ae4
    type: comment
  author: yuliahywang
  content: same problem
  created_at: 2023-06-12 01:37:40+00:00
  edited: false
  hidden: false
  id: 648684f475443e8cc9448ae4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
      fullname: aa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xtaos
      type: user
    createdAt: '2023-06-12T07:27:09.000Z'
    data:
      edited: false
      editors:
      - xtaos
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9993236064910889
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
          fullname: aa
          isHf: false
          isPro: false
          name: xtaos
          type: user
        html: "<p>\u6A21\u578B\u6587\u4EF6\u6CA1\u6709\u4E0B\u8F7D\u5168</p>\n"
        raw: "\u6A21\u578B\u6587\u4EF6\u6CA1\u6709\u4E0B\u8F7D\u5168"
        updatedAt: '2023-06-12T07:27:09.618Z'
      numEdits: 0
      reactions: []
    id: 6486c8cd39134aca24459826
    type: comment
  author: xtaos
  content: "\u6A21\u578B\u6587\u4EF6\u6CA1\u6709\u4E0B\u8F7D\u5168"
  created_at: 2023-06-12 06:27:09+00:00
  edited: false
  hidden: false
  id: 6486c8cd39134aca24459826
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4c4be633d3f7757797c71eb7f505f794.svg
      fullname: ruyu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: niaoniao
      type: user
    createdAt: '2023-06-12T16:18:29.000Z'
    data:
      edited: false
      editors:
      - niaoniao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8417139053344727
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4c4be633d3f7757797c71eb7f505f794.svg
          fullname: ruyu
          isHf: false
          isPro: false
          name: niaoniao
          type: user
        html: '<p>same problem</p>

          '
        raw: same problem
        updatedAt: '2023-06-12T16:18:29.478Z'
      numEdits: 0
      reactions: []
    id: 6487455502ecd063bf72e66d
    type: comment
  author: niaoniao
  content: same problem
  created_at: 2023-06-12 15:18:29+00:00
  edited: false
  hidden: false
  id: 6487455502ecd063bf72e66d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2d70c88589107c18282c39d9d58c1afb.svg
      fullname: Yibo Lu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: yibolu96
      type: user
    createdAt: '2023-06-21T02:41:43.000Z'
    data:
      edited: false
      editors:
      - yibolu96
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9976444840431213
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2d70c88589107c18282c39d9d58c1afb.svg
          fullname: Yibo Lu
          isHf: false
          isPro: false
          name: yibolu96
          type: user
        html: "<p>\u8FD9\u8FB9\u53EF\u4EE5\u770B\u4E0B\u6700\u65B0\u7248\u672C\u54C8\
          \uFF0C\u8FD8\u662F\u5EFA\u8BAE\u5728\u955C\u50CF\u73AF\u5883\u4E0B\u8DD1\
          \u6A21\u578B</p>\n"
        raw: "\u8FD9\u8FB9\u53EF\u4EE5\u770B\u4E0B\u6700\u65B0\u7248\u672C\u54C8\uFF0C\
          \u8FD8\u662F\u5EFA\u8BAE\u5728\u955C\u50CF\u73AF\u5883\u4E0B\u8DD1\u6A21\
          \u578B"
        updatedAt: '2023-06-21T02:41:43.355Z'
      numEdits: 0
      reactions: []
    id: 649263677c8718d52297fccb
    type: comment
  author: yibolu96
  content: "\u8FD9\u8FB9\u53EF\u4EE5\u770B\u4E0B\u6700\u65B0\u7248\u672C\u54C8\uFF0C\
    \u8FD8\u662F\u5EFA\u8BAE\u5728\u955C\u50CF\u73AF\u5883\u4E0B\u8DD1\u6A21\u578B"
  created_at: 2023-06-21 01:41:43+00:00
  edited: false
  hidden: false
  id: 649263677c8718d52297fccb
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 30
repo_id: TMElyralab/lyraChatGLM
repo_type: model
status: open
target_branch: null
title: 'RuntimeError: Internal: src/sentencepiece_processor.cc(1101) [model_proto->ParseFromArray(serialized.data(),
  serialized.size())] '
