!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xtaos
conflicting_files: null
created_at: 2023-06-12 06:26:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
      fullname: aa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xtaos
      type: user
    createdAt: '2023-06-12T07:26:28.000Z'
    data:
      edited: false
      editors:
      - xtaos
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3728027641773224
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/abdf36c9a83200d3bbc3ae223faeb2ad.svg
          fullname: aa
          isHf: false
          isPro: false
          name: xtaos
          type: user
        html: "<p>\u5728\u6211\u90E8\u7F72\u597D\u6A21\u578B\u5E76\u6210\u529F\u52A0\
          \u8F7D\u540E\uFF0C\u53D1\u8D77\u95EE\u7B54\u65F6\u62A5\u9519\u3002<br>[FT][ERROR]\
          \ [FT][ERROR] CUDA runtime error: no kernel image is available for execution\
          \ on the device /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/kernels/sampling_topp_kernels.cu:1077\
          \ </p>\n<p>Traceback (most recent call last):<br>  File \"demo.py\", line\
          \ 18, in <br>    output_texts = model.generate(prompts, output_length=max_output_length,top_k=30,\
          \ top_p=0.85, temperature=0.35, repetition_penalty=1.2, do_sample=False)<br>\
          \  File \"/lyrachatglm/lyraChatGLM/lyra_glm.py\", line 145, in generate<br>\
          \    outputs = self.model(start_ids=input_token_ids,<br>  File \"/usr/local/lib/python3.8/dist-packages/torch/nn/modules/module.py\"\
          , line 1480, in _call_impl<br>    return forward_call(*args, **kwargs)<br>\
          \  File \"/lyrachatglm/lyraChatGLM/model.py\", line 589, in forward<br>\
          \    outputs = self.model.forward(start_ids,<br>RuntimeError: [FT][ERROR]\
          \  Assertion fail: /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/th_op/glm/GlmOp.h:462\
          \ </p>\n<p>\u4EE5\u4E0A\u62A5\u9519\u6211\u8FD0\u884C\u7684\u662F\u5B98\u65B9\
          \u63D0\u4F9B\u7684\u4F8B\u5B50demo.py\u6587\u4EF6\u3002\u8BF7\u95EE\u6709\
          \u9047\u5230\u8FC7\u7C7B\u4F3C\u95EE\u9898\u7684\u5417\uFF1F</p>\n"
        raw: "\u5728\u6211\u90E8\u7F72\u597D\u6A21\u578B\u5E76\u6210\u529F\u52A0\u8F7D\
          \u540E\uFF0C\u53D1\u8D77\u95EE\u7B54\u65F6\u62A5\u9519\u3002\r\n[FT][ERROR]\
          \ [FT][ERROR] CUDA runtime error: no kernel image is available for execution\
          \ on the device /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/kernels/sampling_topp_kernels.cu:1077\
          \ \r\n\r\nTraceback (most recent call last):\r\n  File \"demo.py\", line\
          \ 18, in <module>\r\n    output_texts = model.generate(prompts, output_length=max_output_length,top_k=30,\
          \ top_p=0.85, temperature=0.35, repetition_penalty=1.2, do_sample=False)\r\
          \n  File \"/lyrachatglm/lyraChatGLM/lyra_glm.py\", line 145, in generate\r\
          \n    outputs = self.model(start_ids=input_token_ids,\r\n  File \"/usr/local/lib/python3.8/dist-packages/torch/nn/modules/module.py\"\
          , line 1480, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\
          \n  File \"/lyrachatglm/lyraChatGLM/model.py\", line 589, in forward\r\n\
          \    outputs = self.model.forward(start_ids,\r\nRuntimeError: [FT][ERROR]\
          \  Assertion fail: /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/th_op/glm/GlmOp.h:462\
          \ \r\n\r\n\u4EE5\u4E0A\u62A5\u9519\u6211\u8FD0\u884C\u7684\u662F\u5B98\u65B9\
          \u63D0\u4F9B\u7684\u4F8B\u5B50demo.py\u6587\u4EF6\u3002\u8BF7\u95EE\u6709\
          \u9047\u5230\u8FC7\u7C7B\u4F3C\u95EE\u9898\u7684\u5417\uFF1F"
        updatedAt: '2023-06-12T07:26:28.932Z'
      numEdits: 0
      reactions: []
    id: 6486c8a4b99f302fb4bfc776
    type: comment
  author: xtaos
  content: "\u5728\u6211\u90E8\u7F72\u597D\u6A21\u578B\u5E76\u6210\u529F\u52A0\u8F7D\
    \u540E\uFF0C\u53D1\u8D77\u95EE\u7B54\u65F6\u62A5\u9519\u3002\r\n[FT][ERROR] [FT][ERROR]\
    \ CUDA runtime error: no kernel image is available for execution on the device\
    \ /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/kernels/sampling_topp_kernels.cu:1077\
    \ \r\n\r\nTraceback (most recent call last):\r\n  File \"demo.py\", line 18, in\
    \ <module>\r\n    output_texts = model.generate(prompts, output_length=max_output_length,top_k=30,\
    \ top_p=0.85, temperature=0.35, repetition_penalty=1.2, do_sample=False)\r\n \
    \ File \"/lyrachatglm/lyraChatGLM/lyra_glm.py\", line 145, in generate\r\n   \
    \ outputs = self.model(start_ids=input_token_ids,\r\n  File \"/usr/local/lib/python3.8/dist-packages/torch/nn/modules/module.py\"\
    , line 1480, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File\
    \ \"/lyrachatglm/lyraChatGLM/model.py\", line 589, in forward\r\n    outputs =\
    \ self.model.forward(start_ids,\r\nRuntimeError: [FT][ERROR]  Assertion fail:\
    \ /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/th_op/glm/GlmOp.h:462\
    \ \r\n\r\n\u4EE5\u4E0A\u62A5\u9519\u6211\u8FD0\u884C\u7684\u662F\u5B98\u65B9\u63D0\
    \u4F9B\u7684\u4F8B\u5B50demo.py\u6587\u4EF6\u3002\u8BF7\u95EE\u6709\u9047\u5230\
    \u8FC7\u7C7B\u4F3C\u95EE\u9898\u7684\u5417\uFF1F"
  created_at: 2023-06-12 06:26:28+00:00
  edited: false
  hidden: false
  id: 6486c8a4b99f302fb4bfc776
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1863bfbc90f003ff3f446ec09e2806f9.svg
      fullname: wu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: vanewu
      type: user
    createdAt: '2023-06-12T09:36:00.000Z'
    data:
      edited: false
      editors:
      - vanewu
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9994703531265259
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1863bfbc90f003ff3f446ec09e2806f9.svg
          fullname: wu
          isHf: false
          isPro: false
          name: vanewu
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;xtaos&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/xtaos\">@<span class=\"\
          underline\">xtaos</span></a></span>\n\n\t</span></span> \u5728 <a href=\"\
          /TMElyralab/lyraChatGLM/discussions/34\">#34</a> \u4E2D\u8BA8\u8BBA\u5427\
          </p>\n"
        raw: "@xtaos \u5728 #34 \u4E2D\u8BA8\u8BBA\u5427"
        updatedAt: '2023-06-12T09:36:00.401Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6486e7002249047b3293767c
    id: 6486e7002249047b3293767a
    type: comment
  author: vanewu
  content: "@xtaos \u5728 #34 \u4E2D\u8BA8\u8BBA\u5427"
  created_at: 2023-06-12 08:36:00+00:00
  edited: false
  hidden: false
  id: 6486e7002249047b3293767a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/1863bfbc90f003ff3f446ec09e2806f9.svg
      fullname: wu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: vanewu
      type: user
    createdAt: '2023-06-12T09:36:00.000Z'
    data:
      status: closed
    id: 6486e7002249047b3293767c
    type: status-change
  author: vanewu
  created_at: 2023-06-12 08:36:00+00:00
  id: 6486e7002249047b3293767c
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 32
repo_id: TMElyralab/lyraChatGLM
repo_type: model
status: closed
target_branch: null
title: 'RuntimeError: [FT][ERROR]  Assertion fail: /group/30063/users/vanewu/FasterTransformer/src/fastertransformer/th_op/glm/GlmOp.h:462 '
