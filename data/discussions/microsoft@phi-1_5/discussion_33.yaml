!!python/object:huggingface_hub.community.DiscussionWithDetails
author: rawalba
conflicting_files: null
created_at: 2023-09-26 14:00:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1950b14aa0a81e85543e8afd7564c0f5.svg
      fullname: Nitish Rawal
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rawalba
      type: user
    createdAt: '2023-09-26T15:00:59.000Z'
    data:
      edited: false
      editors:
      - rawalba
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.26886874437332153
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1950b14aa0a81e85543e8afd7564c0f5.svg
          fullname: Nitish Rawal
          isHf: false
          isPro: false
          name: rawalba
          type: user
        html: '<p>ValueError: Target modules [''query_key_valuedense'', ''dense_h_to_4h'',
          ''dense_4h_to_h'', ''q_proj'', ''v_proj''] not found in the base model.
          Please check the target modules and try again.</p>

          '
        raw: 'ValueError: Target modules [''query_key_valuedense'', ''dense_h_to_4h'',
          ''dense_4h_to_h'', ''q_proj'', ''v_proj''] not found in the base model.
          Please check the target modules and try again.'
        updatedAt: '2023-09-26T15:00:59.667Z'
      numEdits: 0
      reactions: []
    id: 6512f22b4f1682e4405d6017
    type: comment
  author: rawalba
  content: 'ValueError: Target modules [''query_key_valuedense'', ''dense_h_to_4h'',
    ''dense_4h_to_h'', ''q_proj'', ''v_proj''] not found in the base model. Please
    check the target modules and try again.'
  created_at: 2023-09-26 14:00:59+00:00
  edited: false
  hidden: false
  id: 6512f22b4f1682e4405d6017
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-09-26T18:18:40.000Z'
    data:
      edited: false
      editors:
      - gugarosa
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9433621168136597
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
          fullname: Gustavo de Rosa
          isHf: false
          isPro: false
          name: gugarosa
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;rawalba&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/rawalba\"\
          >@<span class=\"underline\">rawalba</span></a></span>\n\n\t</span></span>!</p>\n\
          <p>The reason you might be having errors is because LoRA is not supported\
          \ in Phi-based models.</p>\n"
        raw: 'Hello @rawalba!


          The reason you might be having errors is because LoRA is not supported in
          Phi-based models.'
        updatedAt: '2023-09-26T18:18:40.551Z'
      numEdits: 0
      reactions: []
    id: 6513208092a52e002ac2105c
    type: comment
  author: gugarosa
  content: 'Hello @rawalba!


    The reason you might be having errors is because LoRA is not supported in Phi-based
    models.'
  created_at: 2023-09-26 17:18:40+00:00
  edited: false
  hidden: false
  id: 6513208092a52e002ac2105c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63b229669d21227b914badbb/umr0ngvZ5L_Nv2nVlC-Zo.png?w=200&h=200&f=face
      fullname: Hypersniper
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Hypersniper
      type: user
    createdAt: '2023-09-26T22:42:09.000Z'
    data:
      edited: true
      editors:
      - Hypersniper
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.38589850068092346
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63b229669d21227b914badbb/umr0ngvZ5L_Nv2nVlC-Zo.png?w=200&h=200&f=face
          fullname: Hypersniper
          isHf: false
          isPro: false
          name: Hypersniper
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;gugarosa&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/gugarosa\">@<span class=\"\
          underline\">gugarosa</span></a></span>\n\n\t</span></span>  I've trained\
          \ qlora with no problem using transformer and bitsandbytes. Edit* I used\
          \ the Alpaca instructions to fine tune on a closed domain dataset and I\
          \ am astonished at how well it performs. It did take me more epochs +50\
          \ for it to finally learn the content since it never seen it before though.\
          \ </p>\n<p><span data-props=\"{&quot;user&quot;:&quot;rawalba&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/rawalba\">@<span class=\"\
          underline\">rawalba</span></a></span>\n\n\t</span></span>  use Target modules\
          \ [ \"Wqkv\", \"out_proj\", \"fc1\", \"fc2\" ]</p>\n"
        raw: "@gugarosa  I've trained qlora with no problem using transformer and\
          \ bitsandbytes. Edit* I used the Alpaca instructions to fine tune on a closed\
          \ domain dataset and I am astonished at how well it performs. It did take\
          \ me more epochs +50 for it to finally learn the content since it never\
          \ seen it before though. \n\n@rawalba  use Target modules [ \"Wqkv\", \"\
          out_proj\", \"fc1\", \"fc2\" ]"
        updatedAt: '2023-09-27T11:06:28.625Z'
      numEdits: 3
      reactions: []
    id: 65135e41bd21724fd44725b1
    type: comment
  author: Hypersniper
  content: "@gugarosa  I've trained qlora with no problem using transformer and bitsandbytes.\
    \ Edit* I used the Alpaca instructions to fine tune on a closed domain dataset\
    \ and I am astonished at how well it performs. It did take me more epochs +50\
    \ for it to finally learn the content since it never seen it before though. \n\
    \n@rawalba  use Target modules [ \"Wqkv\", \"out_proj\", \"fc1\", \"fc2\" ]"
  created_at: 2023-09-26 21:42:09+00:00
  edited: true
  hidden: false
  id: 65135e41bd21724fd44725b1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-09-27T13:43:11.000Z'
    data:
      edited: false
      editors:
      - gugarosa
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9851908683776855
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
          fullname: Gustavo de Rosa
          isHf: false
          isPro: false
          name: gugarosa
          type: user
        html: '<p>@Ermarrero thanks for the explanation! I wasn''t aware that LoRA
          would work in the Phi models.</p>

          '
        raw: '@Ermarrero thanks for the explanation! I wasn''t aware that LoRA would
          work in the Phi models.'
        updatedAt: '2023-09-27T13:43:11.387Z'
      numEdits: 0
      reactions: []
    id: 6514316f4baefc08a11c5135
    type: comment
  author: gugarosa
  content: '@Ermarrero thanks for the explanation! I wasn''t aware that LoRA would
    work in the Phi models.'
  created_at: 2023-09-27 12:43:11+00:00
  edited: false
  hidden: false
  id: 6514316f4baefc08a11c5135
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-10-03T14:37:53.000Z'
    data:
      status: closed
    id: 651c274137fecec1fe9732a1
    type: status-change
  author: gugarosa
  created_at: 2023-10-03 13:37:53+00:00
  id: 651c274137fecec1fe9732a1
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 33
repo_id: microsoft/phi-1_5
repo_type: model
status: closed
target_branch: null
title: Error in Lora Config of traget modules not found
