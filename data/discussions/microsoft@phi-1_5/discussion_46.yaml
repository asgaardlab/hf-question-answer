!!python/object:huggingface_hub.community.DiscussionWithDetails
author: codegood
conflicting_files: null
created_at: 2023-10-08 01:53:35+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/14c0faec86334a15d040ef3219f7a63f.svg
      fullname: Stephan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: codegood
      type: user
    createdAt: '2023-10-08T02:53:35.000Z'
    data:
      edited: false
      editors:
      - codegood
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7990545630455017
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/14c0faec86334a15d040ef3219f7a63f.svg
          fullname: Stephan
          isHf: false
          isPro: false
          name: codegood
          type: user
        html: '<p>Can anyone help me calculate the Rouge score while training so that
          I can get an evaluation after each epoch?</p>

          <p>Also, for this model, I''m not getting good performance for QA dataset
          even after 600 epochs.</p>

          <p>My QA format is "Question. Answer: answer".</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/637288e72f98dcc049b54d18/sl5ZKGjQJp1CNTg0MR-MN.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/637288e72f98dcc049b54d18/sl5ZKGjQJp1CNTg0MR-MN.png"></a></p>

          '
        raw: "Can anyone help me calculate the Rouge score while training so that\
          \ I can get an evaluation after each epoch?\r\n\r\nAlso, for this model,\
          \ I'm not getting good performance for QA dataset even after 600 epochs.\r\
          \n\r\nMy QA format is \"Question. Answer: answer\".\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/637288e72f98dcc049b54d18/sl5ZKGjQJp1CNTg0MR-MN.png)\r\
          \n"
        updatedAt: '2023-10-08T02:53:35.933Z'
      numEdits: 0
      reactions: []
    id: 652219af974423bd3ede7275
    type: comment
  author: codegood
  content: "Can anyone help me calculate the Rouge score while training so that I\
    \ can get an evaluation after each epoch?\r\n\r\nAlso, for this model, I'm not\
    \ getting good performance for QA dataset even after 600 epochs.\r\n\r\nMy QA\
    \ format is \"Question. Answer: answer\".\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/637288e72f98dcc049b54d18/sl5ZKGjQJp1CNTg0MR-MN.png)\r\
    \n"
  created_at: 2023-10-08 01:53:35+00:00
  edited: false
  hidden: false
  id: 652219af974423bd3ede7275
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-11-21T12:59:59.000Z'
    data:
      edited: false
      editors:
      - gugarosa
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9050474762916565
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
          fullname: Gustavo de Rosa
          isHf: false
          isPro: false
          name: gugarosa
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;codegood&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/codegood\"\
          >@<span class=\"underline\">codegood</span></a></span>\n\n\t</span></span>!</p>\n\
          <p>Since you are fine-tuning a base model, try playing around with the batch\
          \ size or the learning rate. Usually, when the fine-tuning is aggressive,\
          \ the model starts forgetting its previous learning and try to adapt to\
          \ the new data, which would explain a relatively higher loss.</p>\n<p>Regarding\
          \ on adding ROUGE score while training/evaluation, you can check the <code>compute_metrics()</code>\
          \ from the <code>Trainer</code> class. It allows you to add a custom function\
          \ and report any desired behavior.</p>\n<p>PS: 600 epochs might be an overkill\
          \ because you would be super overfitting the model to the data. Maybe try\
          \ also adding new sources of data just to add some sort of regularization.</p>\n\
          <p>Best regards,<br>Gustavo.</p>\n"
        raw: 'Hello @codegood!


          Since you are fine-tuning a base model, try playing around with the batch
          size or the learning rate. Usually, when the fine-tuning is aggressive,
          the model starts forgetting its previous learning and try to adapt to the
          new data, which would explain a relatively higher loss.


          Regarding on adding ROUGE score while training/evaluation, you can check
          the `compute_metrics()` from the `Trainer` class. It allows you to add a
          custom function and report any desired behavior.


          PS: 600 epochs might be an overkill because you would be super overfitting
          the model to the data. Maybe try also adding new sources of data just to
          add some sort of regularization.


          Best regards,

          Gustavo.'
        updatedAt: '2023-11-21T12:59:59.680Z'
      numEdits: 0
      reactions: []
    id: 655ca9cfaa23904bd1032d8a
    type: comment
  author: gugarosa
  content: 'Hello @codegood!


    Since you are fine-tuning a base model, try playing around with the batch size
    or the learning rate. Usually, when the fine-tuning is aggressive, the model starts
    forgetting its previous learning and try to adapt to the new data, which would
    explain a relatively higher loss.


    Regarding on adding ROUGE score while training/evaluation, you can check the `compute_metrics()`
    from the `Trainer` class. It allows you to add a custom function and report any
    desired behavior.


    PS: 600 epochs might be an overkill because you would be super overfitting the
    model to the data. Maybe try also adding new sources of data just to add some
    sort of regularization.


    Best regards,

    Gustavo.'
  created_at: 2023-11-21 12:59:59+00:00
  edited: false
  hidden: false
  id: 655ca9cfaa23904bd1032d8a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-12-01T20:58:51.000Z'
    data:
      status: closed
    id: 656a490b53703dd78f236534
    type: status-change
  author: gugarosa
  created_at: 2023-12-01 20:58:51+00:00
  id: 656a490b53703dd78f236534
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 46
repo_id: microsoft/phi-1_5
repo_type: model
status: closed
target_branch: null
title: Evaluation metric
