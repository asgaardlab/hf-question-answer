!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bjoernp
conflicting_files: []
created_at: 2023-12-09 01:28:44+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
      fullname: "Bj\xF6rn Pl\xFCster "
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bjoernp
      type: user
    createdAt: '2023-12-09T01:28:44.000Z'
    data:
      edited: false
      editors:
      - bjoernp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.11044929921627045
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
          fullname: "Bj\xF6rn Pl\xFCster "
          isHf: false
          isPro: false
          name: bjoernp
          type: user
        html: ''
        raw: ''
        updatedAt: '2023-12-09T01:28:44.340Z'
      numEdits: 0
      reactions: []
    id: 6573c2cc1345577b708f4b65
    type: comment
  author: bjoernp
  content: ''
  created_at: 2023-12-09 01:28:44+00:00
  edited: false
  hidden: false
  id: 6573c2cc1345577b708f4b65
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
      fullname: "Bj\xF6rn Pl\xFCster "
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bjoernp
      type: user
    createdAt: '2023-12-09T01:28:45.000Z'
    data:
      oid: 36895657ceb8b36d400804a084468668deee6686
      parents:
      - b69447778ffac5a22f6342d48f9453e6af3389b7
      subject: Update modeling_moe_mistral.py
    id: 6573c2cd0000000000000000
    type: commit
  author: bjoernp
  created_at: 2023-12-09 01:28:45+00:00
  id: 6573c2cd0000000000000000
  oid: 36895657ceb8b36d400804a084468668deee6686
  summary: Update modeling_moe_mistral.py
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d6c7d1b51a94e77ebe54aa19fa8c9878.svg
      fullname: Dmytro Dzhulgakov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dzhulgakov
      type: user
    createdAt: '2023-12-09T01:43:05.000Z'
    data:
      edited: false
      editors:
      - dzhulgakov
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9231719374656677
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d6c7d1b51a94e77ebe54aa19fa8c9878.svg
          fullname: Dmytro Dzhulgakov
          isHf: false
          isPro: false
          name: dzhulgakov
          type: user
        html: '<p>Hi, I implemented it originally to follow <a rel="nofollow" href="https://github.com/stanford-futuredata/megablocks/blob/main/megablocks/layers/router.py#L57">https://github.com/stanford-futuredata/megablocks/blob/main/megablocks/layers/router.py#L57</a>
          which does softmax and then topk. Not sure which one is correct. Do you
          get better results with it?</p>

          '
        raw: Hi, I implemented it originally to follow https://github.com/stanford-futuredata/megablocks/blob/main/megablocks/layers/router.py#L57
          which does softmax and then topk. Not sure which one is correct. Do you
          get better results with it?
        updatedAt: '2023-12-09T01:43:05.866Z'
      numEdits: 0
      reactions: []
    id: 6573c6291586364fbd970ee5
    type: comment
  author: dzhulgakov
  content: Hi, I implemented it originally to follow https://github.com/stanford-futuredata/megablocks/blob/main/megablocks/layers/router.py#L57
    which does softmax and then topk. Not sure which one is correct. Do you get better
    results with it?
  created_at: 2023-12-09 01:43:05+00:00
  edited: false
  hidden: false
  id: 6573c6291586364fbd970ee5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
      fullname: "Bj\xF6rn Pl\xFCster "
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bjoernp
      type: user
    createdAt: '2023-12-09T01:52:13.000Z'
    data:
      edited: false
      editors:
      - bjoernp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.676575243473053
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
          fullname: "Bj\xF6rn Pl\xFCster "
          isHf: false
          isPro: false
          name: bjoernp
          type: user
        html: '<p>Currently looking like better scores:</p>

          <pre><code>winogrande: 0.8019 -&gt; 0.824

          truthfulqa_mc2: 0.4406 -&gt; 0.4855

          arc_challenge: 0.6314 -&gt; 0.6638

          </code></pre>

          '
        raw: 'Currently looking like better scores:

          ```

          winogrande: 0.8019 -> 0.824

          truthfulqa_mc2: 0.4406 -> 0.4855

          arc_challenge: 0.6314 -> 0.6638

          ```'
        updatedAt: '2023-12-09T01:52:13.061Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6573c84da4ee9a4fe7653eff
    id: 6573c84da4ee9a4fe7653efb
    type: comment
  author: bjoernp
  content: 'Currently looking like better scores:

    ```

    winogrande: 0.8019 -> 0.824

    truthfulqa_mc2: 0.4406 -> 0.4855

    arc_challenge: 0.6314 -> 0.6638

    ```'
  created_at: 2023-12-09 01:52:13+00:00
  edited: false
  hidden: false
  id: 6573c84da4ee9a4fe7653efb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
      fullname: "Bj\xF6rn Pl\xFCster "
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bjoernp
      type: user
    createdAt: '2023-12-09T01:52:13.000Z'
    data:
      status: merged
    id: 6573c84da4ee9a4fe7653eff
    type: status-change
  author: bjoernp
  created_at: 2023-12-09 01:52:13+00:00
  id: 6573c84da4ee9a4fe7653eff
  new_status: merged
  type: status-change
is_pull_request: true
merge_commit_oid: 3ba003af0929fd329cf913d0fffd7d1ac4028943
num: 1
repo_id: DiscoResearch/mixtral-7b-8expert
repo_type: model
status: merged
target_branch: refs/heads/main
title: Update modeling_moe_mistral.py
