!!python/object:huggingface_hub.community.DiscussionWithDetails
author: GamingDaveUK
conflicting_files: null
created_at: 2022-11-13 23:03:41+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/87695e1fdec40517ac6506c6a9f3521a.svg
      fullname: David
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: GamingDaveUK
      type: user
    createdAt: '2022-11-13T23:03:41.000Z'
    data:
      edited: false
      editors:
      - GamingDaveUK
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/87695e1fdec40517ac6506c6a9f3521a.svg
          fullname: David
          isHf: false
          isPro: false
          name: GamingDaveUK
          type: user
        html: '<p>I placed the model into the models folder and the vae into the vae
          folder<br>renamed the vae to "diffusion_pytorch_model.vae.pt"<br>It then
          showed up in settings under vae.<br>but when you try to load it you get:<br>Loading
          VAE weights from: C:\AIArt\SDCmplete\stable-diffusion-webui\models\VAE\diffusion_pytorch_model.vae.pt<br>Error
          completing request<br>Arguments: (True, ''png'', ''[datetime&lt;%d-%m-%Y_%H%M%S&gt;]-[seed]-[prompt_spaces]'',
          False, True, ''png'', False, True, False, -1, True, False, True, False,
          False, 80, True, False, True, False, ''F:\AiART'', ''outputs/txt2img-images'',
          ''outputs/img2img-images'', ''outputs/extras-images'', '''', ''outputs/txt2img-grids'',
          ''outputs/img2img-grids'', ''log/images'', False, False, False, '''', 8,
          192, 8, [''R-ESRGAN x4+'', ''R-ESRGAN x4+ Anime6B'', ''R-ESRGAN General
          4xV3''], 192, 8, 100, None, False, ''CodeFormer'', 0.5, False, 8, False,
          True, False, False, 0, False, '''', '' '', 1, 500.0, False, None, 0, ''diffusion_pytorch_model.vae'',
          ''None'', 1, 1, False, False, False, True, False, True, 20, False, 1, [''nudity'',
          ''anime'', ''special'', ''weird''], False, True, False, 1, 24, 48, 1500.0,
          0.5, True, False, True, True, 0, True, True, False, True, False, False,
          True, '''', True, True, True, ''sd_model_checkpoint'', ''None'', [], 0,
          1, ''uniform'', 0, 0, 1, 0, None, False, 6.0, 6.0, 20.0, 4, 4, 6) {}<br>Traceback
          (most recent call last):<br>  File "C:\AIArt\SDCmplete\stable-diffusion-webui\modules\ui.py",
          line 185, in f<br>    res = list(func(*args, **kwargs))<br>  File "C:\AIArt\SDCmplete\stable-diffusion-webui\modules\ui.py",
          line 1483, in run_settings<br>    opts.data_labels[key].onchange()<br>  File
          "C:\AIArt\SDCmplete\stable-diffusion-webui\webui.py", line 41, in f<br>    res
          = func(*args, **kwargs)<br>  File "C:\AIArt\SDCmplete\stable-diffusion-webui\webui.py",
          line 84, in <br>    shared.opts.onchange("sd_vae", wrap_queued_call(lambda:
          modules.sd_vae.reload_vae_weights()), call=False)<br>  File "C:\AIArt\SDCmplete\stable-diffusion-webui\modules\sd_vae.py",
          line 198, in reload_vae_weights<br>    load_vae(sd_model, vae_file)<br>  File
          "C:\AIArt\SDCmplete\stable-diffusion-webui\modules\sd_vae.py", line 144,
          in load_vae<br>    vae_dict_1 = {k: v for k, v in vae_ckpt["state_dict"].items()
          if k[0:4] != "loss" and k not in vae_ignore_keys}<br>KeyError: ''state_dict''</p>

          <p>I am very new to all this so I may have made a newbie mistake?</p>

          '
        raw: "I placed the model into the models folder and the vae into the vae folder\r\
          \nrenamed the vae to \"diffusion_pytorch_model.vae.pt\" \r\nIt then showed\
          \ up in settings under vae. \r\nbut when you try to load it you get:\r\n\
          Loading VAE weights from: C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\\
          models\\VAE\\diffusion_pytorch_model.vae.pt\r\nError completing request\r\
          \nArguments: (True, 'png', '[datetime<%d-%m-%Y_%H%M%S>]-[seed]-[prompt_spaces]',\
          \ False, True, 'png', False, True, False, -1, True, False, True, False,\
          \ False, 80, True, False, True, False, 'F:\\\\AiART', 'outputs/txt2img-images',\
          \ 'outputs/img2img-images', 'outputs/extras-images', '', 'outputs/txt2img-grids',\
          \ 'outputs/img2img-grids', 'log/images', False, False, False, '', 8, 192,\
          \ 8, ['R-ESRGAN x4+', 'R-ESRGAN x4+ Anime6B', 'R-ESRGAN General 4xV3'],\
          \ 192, 8, 100, None, False, 'CodeFormer', 0.5, False, 8, False, True, False,\
          \ False, 0, False, '', ' ', 1, 500.0, False, None, 0, 'diffusion_pytorch_model.vae',\
          \ 'None', 1, 1, False, False, False, True, False, True, 20, False, 1, ['nudity',\
          \ 'anime', 'special', 'weird'], False, True, False, 1, 24, 48, 1500.0, 0.5,\
          \ True, False, True, True, 0, True, True, False, True, False, False, True,\
          \ '', True, True, True, 'sd_model_checkpoint', 'None', [], 0, 1, 'uniform',\
          \ 0, 0, 1, 0, None, False, 6.0, 6.0, 20.0, 4, 4, 6) {}\r\nTraceback (most\
          \ recent call last):\r\n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\\
          modules\\ui.py\", line 185, in f\r\n    res = list(func(*args, **kwargs))\r\
          \n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\modules\\ui.py\"\
          , line 1483, in run_settings\r\n    opts.data_labels[key].onchange()\r\n\
          \  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\webui.py\", line\
          \ 41, in f\r\n    res = func(*args, **kwargs)\r\n  File \"C:\\AIArt\\SDCmplete\\\
          stable-diffusion-webui\\webui.py\", line 84, in <lambda>\r\n    shared.opts.onchange(\"\
          sd_vae\", wrap_queued_call(lambda: modules.sd_vae.reload_vae_weights()),\
          \ call=False)\r\n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\\
          modules\\sd_vae.py\", line 198, in reload_vae_weights\r\n    load_vae(sd_model,\
          \ vae_file)\r\n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\modules\\\
          sd_vae.py\", line 144, in load_vae\r\n    vae_dict_1 = {k: v for k, v in\
          \ vae_ckpt[\"state_dict\"].items() if k[0:4] != \"loss\" and k not in vae_ignore_keys}\r\
          \nKeyError: 'state_dict'\r\n\r\nI am very new to all this so I may have\
          \ made a newbie mistake?\r\n"
        updatedAt: '2022-11-13T23:03:41.175Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Moderator
    id: 637177cd345f97d07b2bb148
    type: comment
  author: GamingDaveUK
  content: "I placed the model into the models folder and the vae into the vae folder\r\
    \nrenamed the vae to \"diffusion_pytorch_model.vae.pt\" \r\nIt then showed up\
    \ in settings under vae. \r\nbut when you try to load it you get:\r\nLoading VAE\
    \ weights from: C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\models\\VAE\\diffusion_pytorch_model.vae.pt\r\
    \nError completing request\r\nArguments: (True, 'png', '[datetime<%d-%m-%Y_%H%M%S>]-[seed]-[prompt_spaces]',\
    \ False, True, 'png', False, True, False, -1, True, False, True, False, False,\
    \ 80, True, False, True, False, 'F:\\\\AiART', 'outputs/txt2img-images', 'outputs/img2img-images',\
    \ 'outputs/extras-images', '', 'outputs/txt2img-grids', 'outputs/img2img-grids',\
    \ 'log/images', False, False, False, '', 8, 192, 8, ['R-ESRGAN x4+', 'R-ESRGAN\
    \ x4+ Anime6B', 'R-ESRGAN General 4xV3'], 192, 8, 100, None, False, 'CodeFormer',\
    \ 0.5, False, 8, False, True, False, False, 0, False, '', ' ', 1, 500.0, False,\
    \ None, 0, 'diffusion_pytorch_model.vae', 'None', 1, 1, False, False, False, True,\
    \ False, True, 20, False, 1, ['nudity', 'anime', 'special', 'weird'], False, True,\
    \ False, 1, 24, 48, 1500.0, 0.5, True, False, True, True, 0, True, True, False,\
    \ True, False, False, True, '', True, True, True, 'sd_model_checkpoint', 'None',\
    \ [], 0, 1, 'uniform', 0, 0, 1, 0, None, False, 6.0, 6.0, 20.0, 4, 4, 6) {}\r\n\
    Traceback (most recent call last):\r\n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\\
    modules\\ui.py\", line 185, in f\r\n    res = list(func(*args, **kwargs))\r\n\
    \  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\modules\\ui.py\", line\
    \ 1483, in run_settings\r\n    opts.data_labels[key].onchange()\r\n  File \"C:\\\
    AIArt\\SDCmplete\\stable-diffusion-webui\\webui.py\", line 41, in f\r\n    res\
    \ = func(*args, **kwargs)\r\n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\\
    webui.py\", line 84, in <lambda>\r\n    shared.opts.onchange(\"sd_vae\", wrap_queued_call(lambda:\
    \ modules.sd_vae.reload_vae_weights()), call=False)\r\n  File \"C:\\AIArt\\SDCmplete\\\
    stable-diffusion-webui\\modules\\sd_vae.py\", line 198, in reload_vae_weights\r\
    \n    load_vae(sd_model, vae_file)\r\n  File \"C:\\AIArt\\SDCmplete\\stable-diffusion-webui\\\
    modules\\sd_vae.py\", line 144, in load_vae\r\n    vae_dict_1 = {k: v for k, v\
    \ in vae_ckpt[\"state_dict\"].items() if k[0:4] != \"loss\" and k not in vae_ignore_keys}\r\
    \nKeyError: 'state_dict'\r\n\r\nI am very new to all this so I may have made a\
    \ newbie mistake?\r\n"
  created_at: 2022-11-13 23:03:41+00:00
  edited: false
  hidden: false
  id: 637177cd345f97d07b2bb148
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6308e91a454dc257521d4472/Rb683No_pZGJkEoJdgEVS.jpeg?w=200&h=200&f=face
      fullname: Aether
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: aetherwu
      type: user
    createdAt: '2022-11-25T00:16:51.000Z'
    data:
      edited: false
      editors:
      - aetherwu
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6308e91a454dc257521d4472/Rb683No_pZGJkEoJdgEVS.jpeg?w=200&h=200&f=face
          fullname: Aether
          isHf: false
          isPro: false
          name: aetherwu
          type: user
        html: '<p>Wait, do we need the vae file to make it work?</p>

          '
        raw: Wait, do we need the vae file to make it work?
        updatedAt: '2022-11-25T00:16:51.739Z'
      numEdits: 0
      reactions: []
    id: 6380097354b1953f533f382e
    type: comment
  author: aetherwu
  content: Wait, do we need the vae file to make it work?
  created_at: 2022-11-25 00:16:51+00:00
  edited: false
  hidden: false
  id: 6380097354b1953f533f382e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cff772a5e11acc4d7c3bb8e6ba8b2563.svg
      fullname: Brandon Sutton
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: RassilonSleeps
      type: user
    createdAt: '2022-11-30T05:21:02.000Z'
    data:
      edited: false
      editors:
      - RassilonSleeps
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cff772a5e11acc4d7c3bb8e6ba8b2563.svg
          fullname: Brandon Sutton
          isHf: false
          isPro: false
          name: RassilonSleeps
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;GamingDaveUK&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/GamingDaveUK\"\
          >@<span class=\"underline\">GamingDaveUK</span></a></span>\n\n\t</span></span><br>For\
          \ A1111's web-ui you should use the \"mdjrny-v4.ckpt\" from the main folder\
          \ of this repository, as it was compiled with the vae built in.</p>\n<p>/vae/diffusion_pytorch_model.vae\
          \ is meant for using the /unet/diffusion_pytorch_model.bin directly in huggingface's\
          \ diffusers library.</p>\n"
        raw: "@GamingDaveUK \nFor A1111's web-ui you should use the \"mdjrny-v4.ckpt\"\
          \ from the main folder of this repository, as it was compiled with the vae\
          \ built in.\n\n/vae/diffusion_pytorch_model.vae is meant for using the /unet/diffusion_pytorch_model.bin\
          \ directly in huggingface's diffusers library."
        updatedAt: '2022-11-30T05:21:02.953Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - prompthero
    id: 6386e83e06858a85f5975d8a
    type: comment
  author: RassilonSleeps
  content: "@GamingDaveUK \nFor A1111's web-ui you should use the \"mdjrny-v4.ckpt\"\
    \ from the main folder of this repository, as it was compiled with the vae built\
    \ in.\n\n/vae/diffusion_pytorch_model.vae is meant for using the /unet/diffusion_pytorch_model.bin\
    \ directly in huggingface's diffusers library."
  created_at: 2022-11-30 05:21:02+00:00
  edited: false
  hidden: false
  id: 6386e83e06858a85f5975d8a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666775702099-63265d019f9d19bfd4f45031.jpeg?w=200&h=200&f=face
      fullname: PromptHero
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: prompthero
      type: user
    createdAt: '2022-12-05T10:34:33.000Z'
    data:
      status: closed
    id: 638dc939c042e7bde239859e
    type: status-change
  author: prompthero
  created_at: 2022-12-05 10:34:33+00:00
  id: 638dc939c042e7bde239859e
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: prompthero/openjourney
repo_type: model
status: closed
target_branch: null
title: couldnt get the vae to work in automatic 111
