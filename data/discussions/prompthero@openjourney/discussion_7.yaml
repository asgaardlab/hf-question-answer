!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Omorfiamorphism
conflicting_files: null
created_at: 2022-11-15 11:34:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec18d96489f9eb52a7e0bfdcb59b5b3c.svg
      fullname: Magnus Petersen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Omorfiamorphism
      type: user
    createdAt: '2022-11-15T11:34:51.000Z'
    data:
      edited: true
      editors:
      - Omorfiamorphism
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec18d96489f9eb52a7e0bfdcb59b5b3c.svg
          fullname: Magnus Petersen
          isHf: false
          isPro: false
          name: Omorfiamorphism
          type: user
        html: '<p>Hey,</p>

          <p>I love the model, but when I want to load the model into a FlaxStableDiffusionPipeline
          I with this code:</p>

          <p>pipeline, params = FlaxStableDiffusionPipeline.from_pretrained("prompthero/midjourney-v4-diffusion",
          dtype=jnp.bfloat16)</p>

          <p>I get the following error:</p>

          <p>OSError: Error no file named flax_model.msgpack or pytorch_model.bin
          found in directory /root/.cache/huggingface/diffusers/models--prompthero--midjourney-v4-diffusion/snapshots/f8a4391de59f2ba8bdc73020843fe92fe9cfe1a1/text_encoder.</p>

          <p>The same occurs if I use the model_id: "nitrosocke/mo-di-diffusion"</p>

          <p>The file  "pytorch_model.bin" mentioned in the error message exists which
          confuses me. The link in the readme in the passage "You can also export
          the model to ONNX, MPS and/or FLAX/JAX." for FLAX/JAX only leads back to
          the "<a href="https://huggingface.co/prompthero/midjourney-v4-diffusion&quot;">https://huggingface.co/prompthero/midjourney-v4-diffusion"</a>
          and not to an explanation. </p>

          <p>Do you guys know how to load the model into an FlaxStableDiffusionPipeline?</p>

          <p>Thanks a lot!</p>

          '
        raw: "Hey,\n\nI love the model, but when I want to load the model into a FlaxStableDiffusionPipeline\
          \ I with this code:\n\npipeline, params = FlaxStableDiffusionPipeline.from_pretrained(\"\
          prompthero/midjourney-v4-diffusion\", dtype=jnp.bfloat16)\n\nI get the following\
          \ error:\n\nOSError: Error no file named flax_model.msgpack or pytorch_model.bin\
          \ found in directory /root/.cache/huggingface/diffusers/models--prompthero--midjourney-v4-diffusion/snapshots/f8a4391de59f2ba8bdc73020843fe92fe9cfe1a1/text_encoder.\n\
          \nThe same occurs if I use the model_id: \"nitrosocke/mo-di-diffusion\"\n\
          \nThe file  \"pytorch_model.bin\" mentioned in the error message exists\
          \ which confuses me. The link in the readme in the passage \"You can also\
          \ export the model to ONNX, MPS and/or FLAX/JAX.\" for FLAX/JAX only leads\
          \ back to the \"https://huggingface.co/prompthero/midjourney-v4-diffusion\"\
          \ and not to an explanation. \n\nDo you guys know how to load the model\
          \ into an FlaxStableDiffusionPipeline?\n\nThanks a lot!"
        updatedAt: '2022-11-15T15:47:48.946Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F614"
        users:
        - devxpy
      - count: 1
        reaction: "\U0001F44D"
        users:
        - khoi03
    id: 6373795b3e96500368848d4f
    type: comment
  author: Omorfiamorphism
  content: "Hey,\n\nI love the model, but when I want to load the model into a FlaxStableDiffusionPipeline\
    \ I with this code:\n\npipeline, params = FlaxStableDiffusionPipeline.from_pretrained(\"\
    prompthero/midjourney-v4-diffusion\", dtype=jnp.bfloat16)\n\nI get the following\
    \ error:\n\nOSError: Error no file named flax_model.msgpack or pytorch_model.bin\
    \ found in directory /root/.cache/huggingface/diffusers/models--prompthero--midjourney-v4-diffusion/snapshots/f8a4391de59f2ba8bdc73020843fe92fe9cfe1a1/text_encoder.\n\
    \nThe same occurs if I use the model_id: \"nitrosocke/mo-di-diffusion\"\n\nThe\
    \ file  \"pytorch_model.bin\" mentioned in the error message exists which confuses\
    \ me. The link in the readme in the passage \"You can also export the model to\
    \ ONNX, MPS and/or FLAX/JAX.\" for FLAX/JAX only leads back to the \"https://huggingface.co/prompthero/midjourney-v4-diffusion\"\
    \ and not to an explanation. \n\nDo you guys know how to load the model into an\
    \ FlaxStableDiffusionPipeline?\n\nThanks a lot!"
  created_at: 2022-11-15 11:34:51+00:00
  edited: true
  hidden: false
  id: 6373795b3e96500368848d4f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666775702099-63265d019f9d19bfd4f45031.jpeg?w=200&h=200&f=face
      fullname: PromptHero
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: prompthero
      type: user
    createdAt: '2022-11-15T19:55:17.000Z'
    data:
      edited: false
      editors:
      - prompthero
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666775702099-63265d019f9d19bfd4f45031.jpeg?w=200&h=200&f=face
          fullname: PromptHero
          isHf: false
          isPro: false
          name: prompthero
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;akhaliq&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/akhaliq\">@<span class=\"\
          underline\">akhaliq</span></a></span>\n\n\t</span></span> could you help\
          \ us here?</p>\n"
        raw: '@akhaliq could you help us here?'
        updatedAt: '2022-11-15T19:55:17.876Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F91D"
        users:
        - devxpy
    id: 6373eea5c1142685da882e85
    type: comment
  author: prompthero
  content: '@akhaliq could you help us here?'
  created_at: 2022-11-15 19:55:17+00:00
  edited: false
  hidden: false
  id: 6373eea5c1142685da882e85
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5c3156786d0007018b0ba66068a862fe.svg
      fullname: Dhruv Naik
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dhruvrnaik
      type: user
    createdAt: '2022-12-17T20:27:44.000Z'
    data:
      edited: true
      editors:
      - dhruvrnaik
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5c3156786d0007018b0ba66068a862fe.svg
          fullname: Dhruv Naik
          isHf: false
          isPro: false
          name: dhruvrnaik
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Omorfiamorphism&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Omorfiamorphism\"\
          >@<span class=\"underline\">Omorfiamorphism</span></a></span>\n\n\t</span></span>\
          \ if you're still having issues, use <code>from_pt=True</code> as a parameter\
          \ when loading pytorch models with Flax pipelines</p>\n"
        raw: '@Omorfiamorphism if you''re still having issues, use `from_pt=True`
          as a parameter when loading pytorch models with Flax pipelines'
        updatedAt: '2022-12-17T20:27:56.048Z'
      numEdits: 1
      reactions: []
    id: 639e26406f45b49b2fb89b11
    type: comment
  author: dhruvrnaik
  content: '@Omorfiamorphism if you''re still having issues, use `from_pt=True` as
    a parameter when loading pytorch models with Flax pipelines'
  created_at: 2022-12-17 20:27:44+00:00
  edited: true
  hidden: false
  id: 639e26406f45b49b2fb89b11
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/357b676271fc5f71aeb57ac0f975d43c.svg
      fullname: "Tr\u1EA7n \u0110\xECnh Kh\xF4i"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: khoi03
      type: user
    createdAt: '2023-03-23T09:57:58.000Z'
    data:
      edited: false
      editors:
      - khoi03
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/357b676271fc5f71aeb57ac0f975d43c.svg
          fullname: "Tr\u1EA7n \u0110\xECnh Kh\xF4i"
          isHf: false
          isPro: false
          name: khoi03
          type: user
        html: '<blockquote>

          <p>Hey,</p>

          <p>I love the model, but when I want to load the model into a FlaxStableDiffusionPipeline
          I with this code:</p>

          <p>pipeline, params = FlaxStableDiffusionPipeline.from_pretrained("prompthero/midjourney-v4-diffusion",
          dtype=jnp.bfloat16)</p>

          <p>I get the following error:</p>

          <p>OSError: Error no file named flax_model.msgpack or pytorch_model.bin
          found in directory /root/.cache/huggingface/diffusers/models--prompthero--midjourney-v4-diffusion/snapshots/f8a4391de59f2ba8bdc73020843fe92fe9cfe1a1/text_encoder.</p>

          <p>The same occurs if I use the model_id: "nitrosocke/mo-di-diffusion"</p>

          <p>The file  "pytorch_model.bin" mentioned in the error message exists which
          confuses me. The link in the readme in the passage "You can also export
          the model to ONNX, MPS and/or FLAX/JAX." for FLAX/JAX only leads back to
          the "<a href="https://huggingface.co/prompthero/midjourney-v4-diffusion&quot;">https://huggingface.co/prompthero/midjourney-v4-diffusion"</a>
          and not to an explanation. </p>

          <p>Do you guys know how to load the model into an FlaxStableDiffusionPipeline?</p>

          <p>Thanks a lot!</p>

          </blockquote>

          <p>Yes, I have the same issue. Did you fix it? Can you show me how to fix
          this problem? Thanks a lot</p>

          '
        raw: "> Hey,\n> \n> I love the model, but when I want to load the model into\
          \ a FlaxStableDiffusionPipeline I with this code:\n> \n> pipeline, params\
          \ = FlaxStableDiffusionPipeline.from_pretrained(\"prompthero/midjourney-v4-diffusion\"\
          , dtype=jnp.bfloat16)\n> \n> I get the following error:\n> \n> OSError:\
          \ Error no file named flax_model.msgpack or pytorch_model.bin found in directory\
          \ /root/.cache/huggingface/diffusers/models--prompthero--midjourney-v4-diffusion/snapshots/f8a4391de59f2ba8bdc73020843fe92fe9cfe1a1/text_encoder.\n\
          > \n> The same occurs if I use the model_id: \"nitrosocke/mo-di-diffusion\"\
          \n> \n> The file  \"pytorch_model.bin\" mentioned in the error message exists\
          \ which confuses me. The link in the readme in the passage \"You can also\
          \ export the model to ONNX, MPS and/or FLAX/JAX.\" for FLAX/JAX only leads\
          \ back to the \"https://huggingface.co/prompthero/midjourney-v4-diffusion\"\
          \ and not to an explanation. \n> \n> Do you guys know how to load the model\
          \ into an FlaxStableDiffusionPipeline?\n> \n> Thanks a lot!\n\nYes, I have\
          \ the same issue. Did you fix it? Can you show me how to fix this problem?\
          \ Thanks a lot"
        updatedAt: '2023-03-23T09:57:58.225Z'
      numEdits: 0
      reactions: []
    id: 641c22a6e428c7ddcbd9771a
    type: comment
  author: khoi03
  content: "> Hey,\n> \n> I love the model, but when I want to load the model into\
    \ a FlaxStableDiffusionPipeline I with this code:\n> \n> pipeline, params = FlaxStableDiffusionPipeline.from_pretrained(\"\
    prompthero/midjourney-v4-diffusion\", dtype=jnp.bfloat16)\n> \n> I get the following\
    \ error:\n> \n> OSError: Error no file named flax_model.msgpack or pytorch_model.bin\
    \ found in directory /root/.cache/huggingface/diffusers/models--prompthero--midjourney-v4-diffusion/snapshots/f8a4391de59f2ba8bdc73020843fe92fe9cfe1a1/text_encoder.\n\
    > \n> The same occurs if I use the model_id: \"nitrosocke/mo-di-diffusion\"\n\
    > \n> The file  \"pytorch_model.bin\" mentioned in the error message exists which\
    \ confuses me. The link in the readme in the passage \"You can also export the\
    \ model to ONNX, MPS and/or FLAX/JAX.\" for FLAX/JAX only leads back to the \"\
    https://huggingface.co/prompthero/midjourney-v4-diffusion\" and not to an explanation.\
    \ \n> \n> Do you guys know how to load the model into an FlaxStableDiffusionPipeline?\n\
    > \n> Thanks a lot!\n\nYes, I have the same issue. Did you fix it? Can you show\
    \ me how to fix this problem? Thanks a lot"
  created_at: 2023-03-23 08:57:58+00:00
  edited: false
  hidden: false
  id: 641c22a6e428c7ddcbd9771a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: prompthero/openjourney
repo_type: model
status: open
target_branch: null
title: Loading the model into FlaxStableDiffusionPipeline
