!!python/object:huggingface_hub.community.DiscussionWithDetails
author: reeceshuttle
conflicting_files: null
created_at: 2023-12-05 20:51:35+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62b0853ca4ea35a7576db797/j2-SbKeALhSdbjRh_eqp-.png?w=200&h=200&f=face
      fullname: Reece Shuttleworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: reeceshuttle
      type: user
    createdAt: '2023-12-05T20:51:35.000Z'
    data:
      edited: false
      editors:
      - reeceshuttle
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5506890416145325
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62b0853ca4ea35a7576db797/j2-SbKeALhSdbjRh_eqp-.png?w=200&h=200&f=face
          fullname: Reece Shuttleworth
          isHf: false
          isPro: false
          name: reeceshuttle
          type: user
        html: '<p>Problem:<br>when i run the following code provided</p>

          <pre><code>from transformers import AutoModelForMaskedLM

          mlm = AutoModelForMaskedLM.from_pretrained(''mosaicml/mosaic-bert-base'',
          trust_remote_code=True)

          </code></pre>

          <p>I get this error:</p>

          <pre><code>ValueError: The model class you are passing has a `config_class`
          attribute that is not consistent with the config class you passed (model
          has &lt;class ''transformers.models.bert.configuration_bert.BertConfig''&gt;
          and you passed &lt;class ''transformers_modules.mosaicml.mosaic-bert-base.ce11e478cf0188df92930d4cf4e31e1a1db54b67.configuration_bert.BertConfig''&gt;.
          Fix one of those so they match!

          </code></pre>

          <p>Fix:</p>

          <pre><code>from transformers import AutoModelForMaskedLM, AutoConfig

          config = AutoConfig.from_pretrained(''mosaicml/mosaic-bert-base'')

          mlm = AutoModelForMaskedLM.from_pretrained(''mosaicml/mosaic-bert-base'',
          config=config, trust_remote_code=True)

          </code></pre>

          '
        raw: "Problem:\r\nwhen i run the following code provided\r\n\r\n```\r\nfrom\
          \ transformers import AutoModelForMaskedLM\r\nmlm = AutoModelForMaskedLM.from_pretrained('mosaicml/mosaic-bert-base',\
          \ trust_remote_code=True)\r\n```\r\n\r\nI get this error:\r\n\r\n```\r\n\
          ValueError: The model class you are passing has a `config_class` attribute\
          \ that is not consistent with the config class you passed (model has <class\
          \ 'transformers.models.bert.configuration_bert.BertConfig'> and you passed\
          \ <class 'transformers_modules.mosaicml.mosaic-bert-base.ce11e478cf0188df92930d4cf4e31e1a1db54b67.configuration_bert.BertConfig'>.\
          \ Fix one of those so they match!\r\n```\r\n\r\nFix:\r\n\r\n```\r\nfrom\
          \ transformers import AutoModelForMaskedLM, AutoConfig\r\nconfig = AutoConfig.from_pretrained('mosaicml/mosaic-bert-base')\r\
          \nmlm = AutoModelForMaskedLM.from_pretrained('mosaicml/mosaic-bert-base',\
          \ config=config, trust_remote_code=True)\r\n```"
        updatedAt: '2023-12-05T20:51:35.890Z'
      numEdits: 0
      reactions: []
    id: 656f8d5786937e43ffe863b0
    type: comment
  author: reeceshuttle
  content: "Problem:\r\nwhen i run the following code provided\r\n\r\n```\r\nfrom\
    \ transformers import AutoModelForMaskedLM\r\nmlm = AutoModelForMaskedLM.from_pretrained('mosaicml/mosaic-bert-base',\
    \ trust_remote_code=True)\r\n```\r\n\r\nI get this error:\r\n\r\n```\r\nValueError:\
    \ The model class you are passing has a `config_class` attribute that is not consistent\
    \ with the config class you passed (model has <class 'transformers.models.bert.configuration_bert.BertConfig'>\
    \ and you passed <class 'transformers_modules.mosaicml.mosaic-bert-base.ce11e478cf0188df92930d4cf4e31e1a1db54b67.configuration_bert.BertConfig'>.\
    \ Fix one of those so they match!\r\n```\r\n\r\nFix:\r\n\r\n```\r\nfrom transformers\
    \ import AutoModelForMaskedLM, AutoConfig\r\nconfig = AutoConfig.from_pretrained('mosaicml/mosaic-bert-base')\r\
    \nmlm = AutoModelForMaskedLM.from_pretrained('mosaicml/mosaic-bert-base', config=config,\
    \ trust_remote_code=True)\r\n```"
  created_at: 2023-12-05 20:51:35+00:00
  edited: false
  hidden: false
  id: 656f8d5786937e43ffe863b0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676407968549-63dd38e5a8877129a15a12c5.png?w=200&h=200&f=face
      fullname: Jacob Portes
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: jacobfulano
      type: user
    createdAt: '2023-12-27T01:50:39.000Z'
    data:
      edited: false
      editors:
      - jacobfulano
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7706374526023865
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676407968549-63dd38e5a8877129a15a12c5.png?w=200&h=200&f=face
          fullname: Jacob Portes
          isHf: false
          isPro: false
          name: jacobfulano
          type: user
        html: '<p>Thanks for catching this! We have updated the model card and also
          linked to a colab notebook <a rel="nofollow" href="https://colab.research.google.com/drive/1r0A3QEbu4Nzs2Jl6LaiNoW5EumIVqrGc?usp=sharing">here</a></p>

          '
        raw: Thanks for catching this! We have updated the model card and also linked
          to a colab notebook [here](https://colab.research.google.com/drive/1r0A3QEbu4Nzs2Jl6LaiNoW5EumIVqrGc?usp=sharing)
        updatedAt: '2023-12-27T01:50:39.649Z'
      numEdits: 0
      reactions: []
      relatedEventId: 658b82ef4dd2ca8497d1e878
    id: 658b82ef4dd2ca8497d1e875
    type: comment
  author: jacobfulano
  content: Thanks for catching this! We have updated the model card and also linked
    to a colab notebook [here](https://colab.research.google.com/drive/1r0A3QEbu4Nzs2Jl6LaiNoW5EumIVqrGc?usp=sharing)
  created_at: 2023-12-27 01:50:39+00:00
  edited: false
  hidden: false
  id: 658b82ef4dd2ca8497d1e875
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676407968549-63dd38e5a8877129a15a12c5.png?w=200&h=200&f=face
      fullname: Jacob Portes
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: jacobfulano
      type: user
    createdAt: '2023-12-27T01:50:39.000Z'
    data:
      status: closed
    id: 658b82ef4dd2ca8497d1e878
    type: status-change
  author: jacobfulano
  created_at: 2023-12-27 01:50:39+00:00
  id: 658b82ef4dd2ca8497d1e878
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: mosaicml/mosaic-bert-base
repo_type: model
status: closed
target_branch: null
title: Value Error (and my Fix)
