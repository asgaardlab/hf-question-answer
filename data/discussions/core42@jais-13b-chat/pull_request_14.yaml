!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Ali-C137
conflicting_files: []
created_at: 2023-09-25 16:59:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/626237d9bbcbd1c34f1bb231/EJrOjvAL-68qMCYdnvOrq.png?w=200&h=200&f=face
      fullname: Ali Elfilali
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Ali-C137
      type: user
    createdAt: '2023-09-25T17:59:51.000Z'
    data:
      edited: false
      editors:
      - Ali-C137
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4997992217540741
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/626237d9bbcbd1c34f1bb231/EJrOjvAL-68qMCYdnvOrq.png?w=200&h=200&f=face
          fullname: Ali Elfilali
          isHf: false
          isPro: false
          name: Ali-C137
          type: user
        html: "<p>This update is meant to solve the following error that occured when\
          \ trying to finetune the model using peft :</p>\n<h1 id=\"\"></h1>\n<p>RuntimeError\
          \ Traceback (most recent call last)<br>in &lt;cell line: 2&gt;()<br>1 trainer.deprecated=True<br>----&gt;\
          \ 2 trainer.train()</p>\n<p>21 frames<br>~/.cache/huggingface/modules/transformers_modules/inception-mbzuai/jais-13b-chat/96080d1c163804428c4792b8618c2d39661e9d7f/modeling_jais.py\
          \ in forward(self, input_ids, past_key_values, attention_mask, token_type_ids,\
          \ position_ids, head_mask, inputs_embeds, encoder_hidden_states, encoder_attention_mask,\
          \ use_cache, output_attentions, output_hidden_states, return_dict)<br>867\
          \ else:<br>868 hidden_states = inputs_embeds<br>\u2192 869 hidden_states\
          \ *= torch.tensor(<br>870 float(self.embeddings_scale), dtype=hidden_states.dtype,\
          \ device=hidden_states.device<br>871 )</p>\n<p>RuntimeError: a leaf Variable\
          \ that requires grad is being used in an in-place operation.<br>#</p>\n"
        raw: "This update is meant to solve the following error that occured when\
          \ trying to finetune the model using peft :\n\n#\nRuntimeError Traceback\
          \ (most recent call last)\nin <cell line: 2>()\n1 trainer.deprecated=True\n\
          ----> 2 trainer.train()\n\n21 frames\n~/.cache/huggingface/modules/transformers_modules/inception-mbzuai/jais-13b-chat/96080d1c163804428c4792b8618c2d39661e9d7f/modeling_jais.py\
          \ in forward(self, input_ids, past_key_values, attention_mask, token_type_ids,\
          \ position_ids, head_mask, inputs_embeds, encoder_hidden_states, encoder_attention_mask,\
          \ use_cache, output_attentions, output_hidden_states, return_dict)\n867\
          \ else:\n868 hidden_states = inputs_embeds\n\u2192 869 hidden_states *=\
          \ torch.tensor(\n870 float(self.embeddings_scale), dtype=hidden_states.dtype,\
          \ device=hidden_states.device\n871 )\n\nRuntimeError: a leaf Variable that\
          \ requires grad is being used in an in-place operation.\n#"
        updatedAt: '2023-09-25T17:59:51.026Z'
      numEdits: 0
      reactions: []
    id: 6511ca975e3bcde19c6635fe
    type: comment
  author: Ali-C137
  content: "This update is meant to solve the following error that occured when trying\
    \ to finetune the model using peft :\n\n#\nRuntimeError Traceback (most recent\
    \ call last)\nin <cell line: 2>()\n1 trainer.deprecated=True\n----> 2 trainer.train()\n\
    \n21 frames\n~/.cache/huggingface/modules/transformers_modules/inception-mbzuai/jais-13b-chat/96080d1c163804428c4792b8618c2d39661e9d7f/modeling_jais.py\
    \ in forward(self, input_ids, past_key_values, attention_mask, token_type_ids,\
    \ position_ids, head_mask, inputs_embeds, encoder_hidden_states, encoder_attention_mask,\
    \ use_cache, output_attentions, output_hidden_states, return_dict)\n867 else:\n\
    868 hidden_states = inputs_embeds\n\u2192 869 hidden_states *= torch.tensor(\n\
    870 float(self.embeddings_scale), dtype=hidden_states.dtype, device=hidden_states.device\n\
    871 )\n\nRuntimeError: a leaf Variable that requires grad is being used in an\
    \ in-place operation.\n#"
  created_at: 2023-09-25 16:59:51+00:00
  edited: false
  hidden: false
  id: 6511ca975e3bcde19c6635fe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/626237d9bbcbd1c34f1bb231/EJrOjvAL-68qMCYdnvOrq.png?w=200&h=200&f=face
      fullname: Ali Elfilali
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Ali-C137
      type: user
    createdAt: '2023-09-25T17:59:51.000Z'
    data:
      oid: 04ba646b806f4095f16c6e1f48ce521749bbc56c
      parents:
      - 96080d1c163804428c4792b8618c2d39661e9d7f
      subject: Updating `hidden_states` value in line 869
    id: 6511ca970000000000000000
    type: commit
  author: Ali-C137
  created_at: 2023-09-25 16:59:51+00:00
  id: 6511ca970000000000000000
  oid: 04ba646b806f4095f16c6e1f48ce521749bbc56c
  summary: Updating `hidden_states` value in line 869
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/246abaaa9c6a18b7859d320d99229933.svg
      fullname: mohammad faris
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: faris98
      type: user
    createdAt: '2023-11-13T14:00:51.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: /avatars/246abaaa9c6a18b7859d320d99229933.svg
          fullname: mohammad faris
          isHf: false
          isPro: false
          name: faris98
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-11-13T14:21:44.999Z'
      numEdits: 0
      reactions: []
    id: 65522c1332cc1e68745d4d9e
    type: comment
  author: faris98
  content: This comment has been hidden
  created_at: 2023-11-13 14:00:51+00:00
  edited: true
  hidden: true
  id: 65522c1332cc1e68745d4d9e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/246abaaa9c6a18b7859d320d99229933.svg
      fullname: mohammad faris
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: faris98
      type: user
    createdAt: '2023-11-13T14:00:59.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: /avatars/246abaaa9c6a18b7859d320d99229933.svg
          fullname: mohammad faris
          isHf: false
          isPro: false
          name: faris98
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-11-13T14:21:42.157Z'
      numEdits: 0
      reactions: []
    id: 65522c1b421282daa809aed9
    type: comment
  author: faris98
  content: This comment has been hidden
  created_at: 2023-11-13 14:00:59+00:00
  edited: true
  hidden: true
  id: 65522c1b421282daa809aed9
  type: comment
is_pull_request: true
merge_commit_oid: null
num: 14
repo_id: core42/jais-13b-chat
repo_type: model
status: open
target_branch: refs/heads/main
title: Updating `hidden_states` value in line 869
