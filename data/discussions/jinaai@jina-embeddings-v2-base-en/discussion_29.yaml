!!python/object:huggingface_hub.community.DiscussionWithDetails
author: zyznull
conflicting_files: null
created_at: 2023-11-16 09:30:53+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f5fd3a7a2a468bfadacd25c5b934337.svg
      fullname: yanzhao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zyznull
      type: user
    createdAt: '2023-11-16T09:30:53.000Z'
    data:
      edited: false
      editors:
      - zyznull
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9069860577583313
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f5fd3a7a2a468bfadacd25c5b934337.svg
          fullname: yanzhao
          isHf: false
          isPro: false
          name: zyznull
          type: user
        html: '<p>I wan to run the embeding model in a local environment, but it seems
          that the jinaai-implentation files can only be obtained through trust_remote_code,
          can i download these implentation files to local?</p>

          '
        raw: I wan to run the embeding model in a local environment, but it seems
          that the jinaai-implentation files can only be obtained through trust_remote_code,
          can i download these implentation files to local?
        updatedAt: '2023-11-16T09:30:53.210Z'
      numEdits: 0
      reactions: []
    id: 6555e14df96492362e3f9b97
    type: comment
  author: zyznull
  content: I wan to run the embeding model in a local environment, but it seems that
    the jinaai-implentation files can only be obtained through trust_remote_code,
    can i download these implentation files to local?
  created_at: 2023-11-16 09:30:53+00:00
  edited: false
  hidden: false
  id: 6555e14df96492362e3f9b97
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/056931e78bd7fb99a1400f95680187d5.svg
      fullname: Niklas von Boguszewski
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Ameckto
      type: user
    createdAt: '2023-11-16T09:39:40.000Z'
    data:
      edited: false
      editors:
      - Ameckto
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9606091380119324
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/056931e78bd7fb99a1400f95680187d5.svg
          fullname: Niklas von Boguszewski
          isHf: false
          isPro: false
          name: Ameckto
          type: user
        html: '<p>I have the same problem. Do you know where to look for the line
          what code is injected by "trust_remote_code=True"?</p>

          '
        raw: I have the same problem. Do you know where to look for the line what
          code is injected by "trust_remote_code=True"?
        updatedAt: '2023-11-16T09:39:40.097Z'
      numEdits: 0
      reactions: []
    id: 6555e35ce0169cf32cf6ddca
    type: comment
  author: Ameckto
  content: I have the same problem. Do you know where to look for the line what code
    is injected by "trust_remote_code=True"?
  created_at: 2023-11-16 09:39:40+00:00
  edited: false
  hidden: false
  id: 6555e35ce0169cf32cf6ddca
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
      fullname: Bo Wang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bwang0911
      type: user
    createdAt: '2023-11-19T10:26:33.000Z'
    data:
      edited: false
      editors:
      - bwang0911
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7842531800270081
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
          fullname: Bo Wang
          isHf: false
          isPro: false
          name: bwang0911
          type: user
        html: "<p>hi <span data-props=\"{&quot;user&quot;:&quot;zyznull&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/zyznull\">@<span class=\"\
          underline\">zyznull</span></a></span>\n\n\t</span></span> and <span data-props=\"\
          {&quot;user&quot;:&quot;makram93&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/makram93\">@<span class=\"underline\">makram93</span></a></span>\n\
          \n\t</span></span> the moment you download the model using <code>AutoModel</code>,\
          \ it is cached in your local folder <code>~/cache/huggingface</code>. The\
          \ next time you load model it will default load from cache, not remote.</p>\n\
          <p>The implementation files, are automatically linked and downloaded as\
          \ well, besides, it is also open source here: <a href=\"https://huggingface.co/jinaai/jina-bert-implementation\"\
          >https://huggingface.co/jinaai/jina-bert-implementation</a></p>\n"
        raw: 'hi @zyznull and @makram93 the moment you download the model using `AutoModel`,
          it is cached in your local folder `~/cache/huggingface`. The next time you
          load model it will default load from cache, not remote.


          The implementation files, are automatically linked and downloaded as well,
          besides, it is also open source here: https://huggingface.co/jinaai/jina-bert-implementation'
        updatedAt: '2023-11-19T10:26:33.564Z'
      numEdits: 0
      reactions: []
    id: 6559e2d9f6711fa1431292b2
    type: comment
  author: bwang0911
  content: 'hi @zyznull and @makram93 the moment you download the model using `AutoModel`,
    it is cached in your local folder `~/cache/huggingface`. The next time you load
    model it will default load from cache, not remote.


    The implementation files, are automatically linked and downloaded as well, besides,
    it is also open source here: https://huggingface.co/jinaai/jina-bert-implementation'
  created_at: 2023-11-19 10:26:33+00:00
  edited: false
  hidden: false
  id: 6559e2d9f6711fa1431292b2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
      fullname: Issa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: A-Issa-1999
      type: user
    createdAt: '2023-11-23T12:31:13.000Z'
    data:
      edited: false
      editors:
      - A-Issa-1999
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9122111797332764
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
          fullname: Issa
          isHf: false
          isPro: false
          name: A-Issa-1999
          type: user
        html: "<p>hello, <span data-props=\"{&quot;user&quot;:&quot;bwang0911&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/bwang0911\"\
          >@<span class=\"underline\">bwang0911</span></a></span>\n\n\t</span></span>\
          \ , but what's the command to manually save and load the model without having\
          \ this warning?</p>\n"
        raw: 'hello, @bwang0911 , but what''s the command to manually save and load
          the model without having this warning?

          '
        updatedAt: '2023-11-23T12:31:13.815Z'
      numEdits: 0
      reactions: []
    id: 655f46116e89f16ecc0f9847
    type: comment
  author: A-Issa-1999
  content: 'hello, @bwang0911 , but what''s the command to manually save and load
    the model without having this warning?

    '
  created_at: 2023-11-23 12:31:13+00:00
  edited: false
  hidden: false
  id: 655f46116e89f16ecc0f9847
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6476ff2699a5ce743ccea3fc/zmFmF8tXXDaAGcl8RYiRr.jpeg?w=200&h=200&f=face
      fullname: "Michael G\xFCnther"
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: michael-guenther
      type: user
    createdAt: '2023-11-23T17:16:56.000Z'
    data:
      edited: false
      editors:
      - michael-guenther
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9131122827529907
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6476ff2699a5ce743ccea3fc/zmFmF8tXXDaAGcl8RYiRr.jpeg?w=200&h=200&f=face
          fullname: "Michael G\xFCnther"
          isHf: false
          isPro: false
          name: michael-guenther
          type: user
        html: '<p>I think, in any case you need to set the <code>trust_remote_code</code>
          flag  because the code is not part of the transformers package. This is
          independent from whether the model is loaded from a local folder or from
          huggingface.</p>

          '
        raw: I think, in any case you need to set the `trust_remote_code` flag  because
          the code is not part of the transformers package. This is independent from
          whether the model is loaded from a local folder or from huggingface.
        updatedAt: '2023-11-23T17:16:56.141Z'
      numEdits: 0
      reactions: []
    id: 655f890812fb73960c0befa6
    type: comment
  author: michael-guenther
  content: I think, in any case you need to set the `trust_remote_code` flag  because
    the code is not part of the transformers package. This is independent from whether
    the model is loaded from a local folder or from huggingface.
  created_at: 2023-11-23 17:16:56+00:00
  edited: false
  hidden: false
  id: 655f890812fb73960c0befa6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-20T20:41:17.000Z'
    data:
      edited: true
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8923698663711548
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: "<p>Hi, <span data-props=\"{&quot;user&quot;:&quot;zyznull&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/zyznull\"\
          >@<span class=\"underline\">zyznull</span></a></span>\n\n\t</span></span>\
          \  did you manage to  load jinna-embedindg model in local and run it? Thank\
          \ you<br>2023-12-20: Solved</p>\n"
        raw: 'Hi, @zyznull  did you manage to  load jinna-embedindg model in local
          and run it? Thank you

          2023-12-20: Solved'
        updatedAt: '2023-12-20T21:47:55.314Z'
      numEdits: 1
      reactions: []
    id: 6583516d4f6ed39deee2b406
    type: comment
  author: JoannaSapiecha
  content: 'Hi, @zyznull  did you manage to  load jinna-embedindg model in local and
    run it? Thank you

    2023-12-20: Solved'
  created_at: 2023-12-20 20:41:17+00:00
  edited: true
  hidden: false
  id: 6583516d4f6ed39deee2b406
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
      fullname: Issa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: A-Issa-1999
      type: user
    createdAt: '2023-12-21T11:35:59.000Z'
    data:
      edited: false
      editors:
      - A-Issa-1999
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9923421144485474
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
          fullname: Issa
          isHf: false
          isPro: false
          name: A-Issa-1999
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;JoannaSapiecha&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/JoannaSapiecha\"\
          >@<span class=\"underline\">JoannaSapiecha</span></a></span>\n\n\t</span></span>\
          \  were you able to load it locally?</p>\n"
        raw: 'Hello @JoannaSapiecha  were you able to load it locally?

          '
        updatedAt: '2023-12-21T11:35:59.223Z'
      numEdits: 0
      reactions: []
    id: 6584231f40e42901d661bc5e
    type: comment
  author: A-Issa-1999
  content: 'Hello @JoannaSapiecha  were you able to load it locally?

    '
  created_at: 2023-12-21 11:35:59+00:00
  edited: false
  hidden: false
  id: 6584231f40e42901d661bc5e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-21T13:02:11.000Z'
    data:
      edited: true
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6736559867858887
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: "<p>Hi,  <span data-props=\"{&quot;user&quot;:&quot;A-Issa-1999&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/A-Issa-1999\"\
          >@<span class=\"underline\">A-Issa-1999</span></a></span>\n\n\t</span></span>\
          \  yes, I did.</p>\n"
        raw: Hi,  @A-Issa-1999  yes, I did.
        updatedAt: '2023-12-21T13:08:27.172Z'
      numEdits: 1
      reactions: []
    id: 6584375336c450e02e04d2cb
    type: comment
  author: JoannaSapiecha
  content: Hi,  @A-Issa-1999  yes, I did.
  created_at: 2023-12-21 13:02:11+00:00
  edited: true
  hidden: false
  id: 6584375336c450e02e04d2cb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
      fullname: Issa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: A-Issa-1999
      type: user
    createdAt: '2023-12-21T14:30:15.000Z'
    data:
      edited: false
      editors:
      - A-Issa-1999
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7890033721923828
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
          fullname: Issa
          isHf: false
          isPro: false
          name: A-Issa-1999
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;JoannaSapiecha&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/JoannaSapiecha\"\
          >@<span class=\"underline\">JoannaSapiecha</span></a></span>\n\n\t</span></span>\
          \  How ? without using trust_remote_cost ? because it tried to remove it\
          \ and the model won't behave the same/</p>\n"
        raw: '@JoannaSapiecha  How ? without using trust_remote_cost ? because it
          tried to remove it and the model won''t behave the same/'
        updatedAt: '2023-12-21T14:30:15.429Z'
      numEdits: 0
      reactions: []
    id: 65844bf7072be4f21c1ae125
    type: comment
  author: A-Issa-1999
  content: '@JoannaSapiecha  How ? without using trust_remote_cost ? because it tried
    to remove it and the model won''t behave the same/'
  created_at: 2023-12-21 14:30:15+00:00
  edited: false
  hidden: false
  id: 65844bf7072be4f21c1ae125
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-21T14:50:19.000Z'
    data:
      edited: true
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8916304111480713
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;A-Issa-1999&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/A-Issa-1999\"\
          >@<span class=\"underline\">A-Issa-1999</span></a></span>\n\n\t</span></span>\
          \  - </p>\n<ol>\n<li>I used trust_remote_cost: model = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
          \ trust_remote_code=True).</li>\n<li>I upgraded the  Transformers package\
          \ to the newest available version (4.36.2), as advised by <span data-props=\"\
          {&quot;user&quot;:&quot;robertsatya&quot;}\" data-target=\"UserMention\"\
          \ class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"\
          ><span class=\"contents\"><a href=\"/robertsatya\">@<span class=\"underline\"\
          >robertsatya</span></a></span>\n\n\t</span></span> here:  <a href=\"https://huggingface.co/jinaai/jina-embeddings-v2-base-en/discussions/35\"\
          >https://huggingface.co/jinaai/jina-embeddings-v2-base-en/discussions/35</a></li>\n\
          <li>Before I had removed the cashed version (all files from all sub-folders)</li>\n\
          </ol>\n<p>I did also some other things like using  langchain.embeddings,\
          \ but suggest to start with applying the above steps. Maybe nothing more\
          \ is needed.</p>\n"
        raw: "@A-Issa-1999  - \n1. I used trust_remote_cost: model = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
          \ trust_remote_code=True).\n2. I upgraded the  Transformers package to the\
          \ newest available version (4.36.2), as advised by @robertsatya here:  https://huggingface.co/jinaai/jina-embeddings-v2-base-en/discussions/35\n\
          3. Before I had removed the cashed version (all files from all sub-folders)\n\
          \nI did also some other things like using  langchain.embeddings, but suggest\
          \ to start with applying the above steps. Maybe nothing more is needed.\n\
          \n"
        updatedAt: '2023-12-21T15:00:31.902Z'
      numEdits: 1
      reactions: []
    id: 658450abd9ea8286def099fe
    type: comment
  author: JoannaSapiecha
  content: "@A-Issa-1999  - \n1. I used trust_remote_cost: model = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
    \ trust_remote_code=True).\n2. I upgraded the  Transformers package to the newest\
    \ available version (4.36.2), as advised by @robertsatya here:  https://huggingface.co/jinaai/jina-embeddings-v2-base-en/discussions/35\n\
    3. Before I had removed the cashed version (all files from all sub-folders)\n\n\
    I did also some other things like using  langchain.embeddings, but suggest to\
    \ start with applying the above steps. Maybe nothing more is needed.\n\n"
  created_at: 2023-12-21 14:50:19+00:00
  edited: true
  hidden: false
  id: 658450abd9ea8286def099fe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
      fullname: Issa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: A-Issa-1999
      type: user
    createdAt: '2023-12-21T15:01:15.000Z'
    data:
      edited: false
      editors:
      - A-Issa-1999
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9818573594093323
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
          fullname: Issa
          isHf: false
          isPro: false
          name: A-Issa-1999
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;JoannaSapiecha&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/JoannaSapiecha\"\
          >@<span class=\"underline\">JoannaSapiecha</span></a></span>\n\n\t</span></span>\
          \  so  you were able to store and save the model and all its dependencies\
          \ inside  a specific older  or all these are included in the cache?</p>\n"
        raw: '@JoannaSapiecha  so  you were able to store and save the model and all
          its dependencies inside  a specific older  or all these are included in
          the cache?'
        updatedAt: '2023-12-21T15:01:15.457Z'
      numEdits: 0
      reactions: []
    id: 6584533b6064483c603cb6cc
    type: comment
  author: A-Issa-1999
  content: '@JoannaSapiecha  so  you were able to store and save the model and all
    its dependencies inside  a specific older  or all these are included in the cache?'
  created_at: 2023-12-21 15:01:15+00:00
  edited: false
  hidden: false
  id: 6584533b6064483c603cb6cc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-21T16:16:30.000Z'
    data:
      edited: false
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8074451088905334
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;A-Issa-1999&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/A-Issa-1999\"\
          >@<span class=\"underline\">A-Issa-1999</span></a></span>\n\n\t</span></span>\
          \ , do you mean  A) downloading the files manually from Hugging Face (HF)\
          \ and creating the folders manually?  Or, B) allowing HF to create the folders\
          \ and download all the files.<br>Files = the model and all its dependencies\
          \ (*.json, other files).</p>\n"
        raw: "@A-Issa-1999 , do you mean  A) downloading the files manually from Hugging\
          \ Face (HF) and creating the folders manually?  Or, B) allowing HF to create\
          \ the folders and download all the files. \nFiles = the model and all its\
          \ dependencies (*.json, other files)."
        updatedAt: '2023-12-21T16:16:30.602Z'
      numEdits: 0
      reactions: []
    id: 658464dec8b8bd66f78e27aa
    type: comment
  author: JoannaSapiecha
  content: "@A-Issa-1999 , do you mean  A) downloading the files manually from Hugging\
    \ Face (HF) and creating the folders manually?  Or, B) allowing HF to create the\
    \ folders and download all the files. \nFiles = the model and all its dependencies\
    \ (*.json, other files)."
  created_at: 2023-12-21 16:16:30+00:00
  edited: false
  hidden: false
  id: 658464dec8b8bd66f78e27aa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
      fullname: Issa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: A-Issa-1999
      type: user
    createdAt: '2023-12-21T18:16:14.000Z'
    data:
      edited: false
      editors:
      - A-Issa-1999
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9622041583061218
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
          fullname: Issa
          isHf: false
          isPro: false
          name: A-Issa-1999
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;JoannaSapiecha&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/JoannaSapiecha\"\
          >@<span class=\"underline\">JoannaSapiecha</span></a></span>\n\n\t</span></span>\
          \  i was referring to  'A'. I employed git clone for obtaining the model\
          \ and placed it in a designated directory. However, when employing trust_remote_code,\
          \ it appears that the model is fetching files from locations beyond huggingface,\
          \ and I encountered difficulty manually storing them in a particular folder.\
          \ Hence, I am curious if there is a prescribed method for achieving this.</p>\n"
        raw: '@JoannaSapiecha  i was referring to  ''A''. I employed git clone for
          obtaining the model and placed it in a designated directory. However, when
          employing trust_remote_code, it appears that the model is fetching files
          from locations beyond huggingface, and I encountered difficulty manually
          storing them in a particular folder. Hence, I am curious if there is a prescribed
          method for achieving this.'
        updatedAt: '2023-12-21T18:16:14.946Z'
      numEdits: 0
      reactions: []
    id: 658480ee8615630cb3c69ba2
    type: comment
  author: A-Issa-1999
  content: '@JoannaSapiecha  i was referring to  ''A''. I employed git clone for obtaining
    the model and placed it in a designated directory. However, when employing trust_remote_code,
    it appears that the model is fetching files from locations beyond huggingface,
    and I encountered difficulty manually storing them in a particular folder. Hence,
    I am curious if there is a prescribed method for achieving this.'
  created_at: 2023-12-21 18:16:14+00:00
  edited: false
  hidden: false
  id: 658480ee8615630cb3c69ba2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-21T19:24:27.000Z'
    data:
      edited: false
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8750972747802734
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;A-Issa-1999&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/A-Issa-1999\"\
          >@<span class=\"underline\">A-Issa-1999</span></a></span>\n\n\t</span></span>\
          \ , ok, understand.<br>My experience: the model is fetching files from <a\
          \ href=\"https://huggingface.co/jinaai/jina-embeddings-v2-base-en/tree/main\"\
          >https://huggingface.co/jinaai/jina-embeddings-v2-base-en/tree/main</a>\
          \ and from this place: <a href=\"https://huggingface.co/jinaai/jina-bert-implementation/tree/main\"\
          >https://huggingface.co/jinaai/jina-bert-implementation/tree/main</a>.<br>I\
          \ applied option B)first: HF itself downloaded the files and created necessary\
          \ folders/sub-folders.  </p>\n<p>Then I started to apply option A) in the\
          \ environment where for some security reasons I'm not allowed to apply option\
          \ B), yet I can apply option A). For all the other HF models (SBERT and\
          \ T5 mainly) option A) worked in this environment. For  <a href=\"https://huggingface.co/jinaai/jina-embeddings-v2-base-en\"\
          >https://huggingface.co/jinaai/jina-embeddings-v2-base-en</a> - I struggle\
          \ - not sure where to place configuration_bert.py as the folder name (created\
          \ when applying option B) includes a string like: \\snapshots\\c41...8431712f4b\
          \ ... -&gt; seems it is a parameter, probably you can change it. Maybe I\
          \ should just use this name of a folder.  </p>\n<p>To not to spend too much\
          \ time on the installation of the model, I switched to the environment where\
          \ option B) works (with the newest version of Transformers). I testing the\
          \ model for some LLM tasks and comparing it\\s performance with BERT models/fine-tuned\
          \ ones. </p>\n<p>Let me know if you are able to apply option A). Thanks</p>\n"
        raw: "@A-Issa-1999 , ok, understand.  \nMy experience: the model is fetching\
          \ files from https://huggingface.co/jinaai/jina-embeddings-v2-base-en/tree/main\
          \ and from this place: https://huggingface.co/jinaai/jina-bert-implementation/tree/main.\
          \ \nI applied option B)first: HF itself downloaded the files and created\
          \ necessary folders/sub-folders.  \n\nThen I started to apply option A)\
          \ in the environment where for some security reasons I'm not allowed to\
          \ apply option B), yet I can apply option A). For all the other HF models\
          \ (SBERT and T5 mainly) option A) worked in this environment. For  https://huggingface.co/jinaai/jina-embeddings-v2-base-en\
          \ - I struggle - not sure where to place configuration_bert.py as the folder\
          \ name (created when applying option B) includes a string like: \\snapshots\\\
          c41...8431712f4b ... -> seems it is a parameter, probably you can change\
          \ it. Maybe I should just use this name of a folder.  \n\nTo not to spend\
          \ too much time on the installation of the model, I switched to the environment\
          \ where option B) works (with the newest version of Transformers). I testing\
          \ the model for some LLM tasks and comparing it\\s performance with BERT\
          \ models/fine-tuned ones. \n\nLet me know if you are able to apply option\
          \ A). Thanks"
        updatedAt: '2023-12-21T19:24:27.715Z'
      numEdits: 0
      reactions: []
    id: 658490eb74335aaba98449ec
    type: comment
  author: JoannaSapiecha
  content: "@A-Issa-1999 , ok, understand.  \nMy experience: the model is fetching\
    \ files from https://huggingface.co/jinaai/jina-embeddings-v2-base-en/tree/main\
    \ and from this place: https://huggingface.co/jinaai/jina-bert-implementation/tree/main.\
    \ \nI applied option B)first: HF itself downloaded the files and created necessary\
    \ folders/sub-folders.  \n\nThen I started to apply option A) in the environment\
    \ where for some security reasons I'm not allowed to apply option B), yet I can\
    \ apply option A). For all the other HF models (SBERT and T5 mainly) option A)\
    \ worked in this environment. For  https://huggingface.co/jinaai/jina-embeddings-v2-base-en\
    \ - I struggle - not sure where to place configuration_bert.py as the folder name\
    \ (created when applying option B) includes a string like: \\snapshots\\c41...8431712f4b\
    \ ... -> seems it is a parameter, probably you can change it. Maybe I should just\
    \ use this name of a folder.  \n\nTo not to spend too much time on the installation\
    \ of the model, I switched to the environment where option B) works (with the\
    \ newest version of Transformers). I testing the model for some LLM tasks and\
    \ comparing it\\s performance with BERT models/fine-tuned ones. \n\nLet me know\
    \ if you are able to apply option A). Thanks"
  created_at: 2023-12-21 19:24:27+00:00
  edited: false
  hidden: false
  id: 658490eb74335aaba98449ec
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
      fullname: Issa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: A-Issa-1999
      type: user
    createdAt: '2023-12-22T10:14:19.000Z'
    data:
      edited: false
      editors:
      - A-Issa-1999
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9405794143676758
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/160242a187430ade3d1a2f91479938f9.svg
          fullname: Issa
          isHf: false
          isPro: false
          name: A-Issa-1999
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;JoannaSapiecha&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/JoannaSapiecha\"\
          >@<span class=\"underline\">JoannaSapiecha</span></a></span>\n\n\t</span></span>\
          \ yes sure will try it and let you know.</p>\n"
        raw: '@JoannaSapiecha yes sure will try it and let you know.'
        updatedAt: '2023-12-22T10:14:19.710Z'
      numEdits: 0
      reactions: []
    id: 6585617b14c8922f147cf43f
    type: comment
  author: A-Issa-1999
  content: '@JoannaSapiecha yes sure will try it and let you know.'
  created_at: 2023-12-22 10:14:19+00:00
  edited: false
  hidden: false
  id: 6585617b14c8922f147cf43f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645651848050-noauth.png?w=200&h=200&f=face
      fullname: Harsha Aduri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: robertsatya
      type: user
    createdAt: '2023-12-22T10:32:14.000Z'
    data:
      edited: false
      editors:
      - robertsatya
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6106320023536682
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645651848050-noauth.png?w=200&h=200&f=face
          fullname: Harsha Aduri
          isHf: false
          isPro: false
          name: robertsatya
          type: user
        html: "<p>For a complete offline loading of the model, you can place the 2\
          \ files from <code>jina-bert-implementation</code> (configuration_bert and\
          \ modeling_bert) in the same folder as the model artifacts in your local\
          \ folder.</p>\n<p>You need to then edit the <code>config.json</code> to\
          \ reflect the new location. You can modify it as follows</p>\n<pre><code>{\n\
          \  \"_name_or_path\": \".\",  ## --&gt; Changed\n  \"model_max_length\"\
          : 8192,\n  \"architectures\": [\n    \"JinaBertForMaskedLM\"\n  ],\n  \"\
          attention_probs_dropout_prob\": 0.0,\n  \"auto_map\": {\n    \"AutoConfig\"\
          : \"configuration_bert.JinaBertConfig\",  ## --&gt; Changed\n    \"AutoModelForMaskedLM\"\
          : \"modeling_bert.JinaBertForMaskedLM\",  ## --&gt; Changed\n    \"AutoModel\"\
          : \"modeling_bert.JinaBertModel\",  ## --&gt; Changed\n    \"AutoModelForSequenceClassification\"\
          : \"modeling_bert.JinaBertForSequenceClassification\"  ## --&gt; Changed\n\
          \  },\n. . . \n. . .\n} \n</code></pre>\n<p>This tells the module to look\
          \ for these additional files in the same directory. You can then test it\
          \ by setting <code>local_files_only=True</code> in your <code>AutoModel.from_pretrained</code>\
          \ method</p>\n"
        raw: "For a complete offline loading of the model, you can place the 2 files\
          \ from `jina-bert-implementation` (configuration_bert and modeling_bert)\
          \ in the same folder as the model artifacts in your local folder.\n\nYou\
          \ need to then edit the `config.json` to reflect the new location. You can\
          \ modify it as follows\n\n```\n{\n  \"_name_or_path\": \".\",  ## --> Changed\n\
          \  \"model_max_length\": 8192,\n  \"architectures\": [\n    \"JinaBertForMaskedLM\"\
          \n  ],\n  \"attention_probs_dropout_prob\": 0.0,\n  \"auto_map\": {\n  \
          \  \"AutoConfig\": \"configuration_bert.JinaBertConfig\",  ## --> Changed\n\
          \    \"AutoModelForMaskedLM\": \"modeling_bert.JinaBertForMaskedLM\",  ##\
          \ --> Changed\n    \"AutoModel\": \"modeling_bert.JinaBertModel\",  ## -->\
          \ Changed\n    \"AutoModelForSequenceClassification\": \"modeling_bert.JinaBertForSequenceClassification\"\
          \  ## --> Changed\n  },\n. . . \n. . .\n} \n```\n\nThis tells the module\
          \ to look for these additional files in the same directory. You can then\
          \ test it by setting `local_files_only=True` in your `AutoModel.from_pretrained`\
          \ method\n"
        updatedAt: '2023-12-22T10:32:14.508Z'
      numEdits: 0
      reactions: []
    id: 658565aea74290979b09cf5a
    type: comment
  author: robertsatya
  content: "For a complete offline loading of the model, you can place the 2 files\
    \ from `jina-bert-implementation` (configuration_bert and modeling_bert) in the\
    \ same folder as the model artifacts in your local folder.\n\nYou need to then\
    \ edit the `config.json` to reflect the new location. You can modify it as follows\n\
    \n```\n{\n  \"_name_or_path\": \".\",  ## --> Changed\n  \"model_max_length\"\
    : 8192,\n  \"architectures\": [\n    \"JinaBertForMaskedLM\"\n  ],\n  \"attention_probs_dropout_prob\"\
    : 0.0,\n  \"auto_map\": {\n    \"AutoConfig\": \"configuration_bert.JinaBertConfig\"\
    ,  ## --> Changed\n    \"AutoModelForMaskedLM\": \"modeling_bert.JinaBertForMaskedLM\"\
    ,  ## --> Changed\n    \"AutoModel\": \"modeling_bert.JinaBertModel\",  ## -->\
    \ Changed\n    \"AutoModelForSequenceClassification\": \"modeling_bert.JinaBertForSequenceClassification\"\
    \  ## --> Changed\n  },\n. . . \n. . .\n} \n```\n\nThis tells the module to look\
    \ for these additional files in the same directory. You can then test it by setting\
    \ `local_files_only=True` in your `AutoModel.from_pretrained` method\n"
  created_at: 2023-12-22 10:32:14+00:00
  edited: false
  hidden: false
  id: 658565aea74290979b09cf5a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 29
repo_id: jinaai/jina-embeddings-v2-base-en
repo_type: model
status: open
target_branch: null
title: How to load jinna-embedindg model in local
