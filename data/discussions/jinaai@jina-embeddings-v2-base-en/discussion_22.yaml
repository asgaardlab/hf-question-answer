!!python/object:huggingface_hub.community.DiscussionWithDetails
author: herMaster
conflicting_files: null
created_at: 2023-11-07 10:26:40+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
      fullname: Devang Dinesh Pagare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: herMaster
      type: user
    createdAt: '2023-11-07T10:26:40.000Z'
    data:
      edited: false
      editors:
      - herMaster
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5059632062911987
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
          fullname: Devang Dinesh Pagare
          isHf: false
          isPro: false
          name: herMaster
          type: user
        html: '<p>I tried to use this model for document embedding -<br>model = AutoModel.from_pretrained(''jinaai/jina-embeddings-v2-base-en'',
          trust_remote_code=True)<br>embedding = model</p>

          <p>vectordb = Chroma.from_documents(documents=texts,<br>                                 embedding=embedding,<br>                                 persist_directory=persist_directory)</p>

          <p>But got the error.</p>

          '
        raw: "I tried to use this model for document embedding - \r\nmodel = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
          \ trust_remote_code=True)\r\nembedding = model\r\n\r\nvectordb = Chroma.from_documents(documents=texts,\r\
          \n                                 embedding=embedding,\r\n            \
          \                     persist_directory=persist_directory)\r\n\r\nBut got\
          \ the error."
        updatedAt: '2023-11-07T10:26:40.395Z'
      numEdits: 0
      reactions: []
    id: 654a10e07e27d1568142fc18
    type: comment
  author: herMaster
  content: "I tried to use this model for document embedding - \r\nmodel = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
    \ trust_remote_code=True)\r\nembedding = model\r\n\r\nvectordb = Chroma.from_documents(documents=texts,\r\
    \n                                 embedding=embedding,\r\n                  \
    \               persist_directory=persist_directory)\r\n\r\nBut got the error."
  created_at: 2023-11-07 10:26:40+00:00
  edited: false
  hidden: false
  id: 654a10e07e27d1568142fc18
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64c23f6d569648a60737eddb/iZq7bp-yYaGl5VBVoN5Dg.jpeg?w=200&h=200&f=face
      fullname: Saba Sturua
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: jupyterjazz
      type: user
    createdAt: '2023-11-07T10:44:52.000Z'
    data:
      edited: false
      editors:
      - jupyterjazz
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4623585343360901
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64c23f6d569648a60737eddb/iZq7bp-yYaGl5VBVoN5Dg.jpeg?w=200&h=200&f=face
          fullname: Saba Sturua
          isHf: false
          isPro: false
          name: jupyterjazz
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;herMaster&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/herMaster\"\
          >@<span class=\"underline\">herMaster</span></a></span>\n\n\t</span></span>,\
          \ you should use this wrapper to load the model:<br><a rel=\"nofollow\"\
          \ href=\"https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.huggingface.HuggingFaceEmbeddings.html\"\
          >https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.huggingface.HuggingFaceEmbeddings.html</a></p>\n"
        raw: 'Hey @herMaster, you should use this wrapper to load the model:

          https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.huggingface.HuggingFaceEmbeddings.html'
        updatedAt: '2023-11-07T10:44:52.520Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - herMaster
    id: 654a1524fc2ecdff060526f4
    type: comment
  author: jupyterjazz
  content: 'Hey @herMaster, you should use this wrapper to load the model:

    https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.huggingface.HuggingFaceEmbeddings.html'
  created_at: 2023-11-07 10:44:52+00:00
  edited: false
  hidden: false
  id: 654a1524fc2ecdff060526f4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
      fullname: Devang Dinesh Pagare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: herMaster
      type: user
    createdAt: '2023-11-07T10:59:18.000Z'
    data:
      edited: true
      editors:
      - herMaster
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9805497527122498
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
          fullname: Devang Dinesh Pagare
          isHf: false
          isPro: false
          name: herMaster
          type: user
        html: '<p>Yes, you are right. But how to decide which wrapper to use for which
          model? Or, what was wrong with AutoModel?<br>Sorry if it''s a very dumb
          question. I am a beginner.<br>Thank you.</p>

          '
        raw: 'Yes, you are right. But how to decide which wrapper to use for which
          model? Or, what was wrong with AutoModel?

          Sorry if it''s a very dumb question. I am a beginner.

          Thank you.'
        updatedAt: '2023-11-07T11:00:41.186Z'
      numEdits: 2
      reactions: []
    id: 654a18869e27661477889c5f
    type: comment
  author: herMaster
  content: 'Yes, you are right. But how to decide which wrapper to use for which model?
    Or, what was wrong with AutoModel?

    Sorry if it''s a very dumb question. I am a beginner.

    Thank you.'
  created_at: 2023-11-07 10:59:18+00:00
  edited: true
  hidden: false
  id: 654a18869e27661477889c5f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
      fullname: Devang Dinesh Pagare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: herMaster
      type: user
    createdAt: '2023-11-08T07:13:52.000Z'
    data:
      edited: true
      editors:
      - herMaster
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4340638518333435
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
          fullname: Devang Dinesh Pagare
          isHf: false
          isPro: false
          name: herMaster
          type: user
        html: '<p>I used the wrapper you said, but now I am getting the embedding_function
          error in chromadb. I did - </p>

          <h2 id="loaded-the-jina-model--">loaded the jina model -</h2>

          <p>from langchain.embeddings import HuggingFaceEmbeddings</p>

          <p>model_name = "jinaai/jina-embeddings-v2-base-en"<br>model_kwargs = {''device'':
          ''cuda''}<br>encode_kwargs = {''normalize_embeddings'': True}<br>model =
          HuggingFaceEmbeddings(<br>    model_name=model_name,<br>    model_kwargs=model_kwargs,<br>    encode_kwargs=encode_kwargs<br>)</p>

          <h2 id="chroma-settings--">chroma settings -</h2>

          <p>from chromadb.config import Settings</p>

          <p>CHROMA_SETTINGS = Settings(<br>    anonymized_telemetry=False,<br>    is_persistent=True,<br>)</p>

          <h2 id="creating-the-persist-directory--">Creating the persist directory
          -</h2>

          <p>persist_directory = ''db''</p>

          <h2 id="here-is-the-new-embeddings-being-used">Here is the new embeddings
          being used</h2>

          <p>embedding = model</p>

          <p>vectordb = Chroma.from_documents(documents=texts,<br>                                 embedding=embedding,<br>                                 persist_directory=persist_directory,<br>                                 client_settings=CHROMA_SETTINGS)</p>

          <h2 id="error-in-above-step--">error in above step -</h2>

          <p>Expected EmbeddingFunction.<strong>call</strong> to have the following
          signature: odict_keys([''self'', ''input'']), got odict_keys([''self'',
          ''args'', ''kwargs''])</p>

          '
        raw: "I used the wrapper you said, but now I am getting the embedding_function\
          \ error in chromadb. I did - \n\n## loaded the jina model - \nfrom langchain.embeddings\
          \ import HuggingFaceEmbeddings\n\nmodel_name = \"jinaai/jina-embeddings-v2-base-en\"\
          \nmodel_kwargs = {'device': 'cuda'}\nencode_kwargs = {'normalize_embeddings':\
          \ True}\nmodel = HuggingFaceEmbeddings(\n    model_name=model_name,\n  \
          \  model_kwargs=model_kwargs,\n    encode_kwargs=encode_kwargs\n)\n\n##\
          \ chroma settings -\nfrom chromadb.config import Settings\n\nCHROMA_SETTINGS\
          \ = Settings(\n    anonymized_telemetry=False,\n    is_persistent=True,\n\
          )\n\n## Creating the persist directory - \n\npersist_directory = 'db'\n\n\
          ## Here is the new embeddings being used\nembedding = model\n\nvectordb\
          \ = Chroma.from_documents(documents=texts,\n                           \
          \      embedding=embedding,\n                                 persist_directory=persist_directory,\n\
          \                                 client_settings=CHROMA_SETTINGS)\n\n##\
          \ error in above step - \n\nExpected EmbeddingFunction.__call__ to have\
          \ the following signature: odict_keys(['self', 'input']), got odict_keys(['self',\
          \ 'args', 'kwargs'])"
        updatedAt: '2023-11-08T07:14:18.556Z'
      numEdits: 1
      reactions: []
    id: 654b353046fdd4a690424de1
    type: comment
  author: herMaster
  content: "I used the wrapper you said, but now I am getting the embedding_function\
    \ error in chromadb. I did - \n\n## loaded the jina model - \nfrom langchain.embeddings\
    \ import HuggingFaceEmbeddings\n\nmodel_name = \"jinaai/jina-embeddings-v2-base-en\"\
    \nmodel_kwargs = {'device': 'cuda'}\nencode_kwargs = {'normalize_embeddings':\
    \ True}\nmodel = HuggingFaceEmbeddings(\n    model_name=model_name,\n    model_kwargs=model_kwargs,\n\
    \    encode_kwargs=encode_kwargs\n)\n\n## chroma settings -\nfrom chromadb.config\
    \ import Settings\n\nCHROMA_SETTINGS = Settings(\n    anonymized_telemetry=False,\n\
    \    is_persistent=True,\n)\n\n## Creating the persist directory - \n\npersist_directory\
    \ = 'db'\n\n## Here is the new embeddings being used\nembedding = model\n\nvectordb\
    \ = Chroma.from_documents(documents=texts,\n                                 embedding=embedding,\n\
    \                                 persist_directory=persist_directory,\n     \
    \                            client_settings=CHROMA_SETTINGS)\n\n## error in above\
    \ step - \n\nExpected EmbeddingFunction.__call__ to have the following signature:\
    \ odict_keys(['self', 'input']), got odict_keys(['self', 'args', 'kwargs'])"
  created_at: 2023-11-08 07:13:52+00:00
  edited: true
  hidden: false
  id: 654b353046fdd4a690424de1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
      fullname: Bo Wang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bwang0911
      type: user
    createdAt: '2023-11-09T07:42:57.000Z'
    data:
      edited: false
      editors:
      - bwang0911
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9373345971107483
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
          fullname: Bo Wang
          isHf: false
          isPro: false
          name: bwang0911
          type: user
        html: '<p>hi, we implemented an <code>encode</code> function together with
          the model, i''m not sure about Chroma, seems this is a 3rd party integration
          issue.</p>

          '
        raw: hi, we implemented an `encode` function together with the model, i'm
          not sure about Chroma, seems this is a 3rd party integration issue.
        updatedAt: '2023-11-09T07:42:57.891Z'
      numEdits: 0
      reactions: []
    id: 654c8d81be11400417d96dbd
    type: comment
  author: bwang0911
  content: hi, we implemented an `encode` function together with the model, i'm not
    sure about Chroma, seems this is a 3rd party integration issue.
  created_at: 2023-11-09 07:42:57+00:00
  edited: false
  hidden: false
  id: 654c8d81be11400417d96dbd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64c23f6d569648a60737eddb/iZq7bp-yYaGl5VBVoN5Dg.jpeg?w=200&h=200&f=face
      fullname: Saba Sturua
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: jupyterjazz
      type: user
    createdAt: '2023-11-09T11:01:27.000Z'
    data:
      edited: false
      editors:
      - jupyterjazz
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9606525897979736
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64c23f6d569648a60737eddb/iZq7bp-yYaGl5VBVoN5Dg.jpeg?w=200&h=200&f=face
          fullname: Saba Sturua
          isHf: false
          isPro: false
          name: jupyterjazz
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;herMaster&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/herMaster\"\
          >@<span class=\"underline\">herMaster</span></a></span>\n\n\t</span></span>\
          \ , this seems more like a langchain thing than something on our end. Maybe\
          \ try asking in their Discord channel?</p>\n"
        raw: Hey @herMaster , this seems more like a langchain thing than something
          on our end. Maybe try asking in their Discord channel?
        updatedAt: '2023-11-09T11:01:27.790Z'
      numEdits: 0
      reactions: []
    id: 654cbc07732b9e3cf4d44bbc
    type: comment
  author: jupyterjazz
  content: Hey @herMaster , this seems more like a langchain thing than something
    on our end. Maybe try asking in their Discord channel?
  created_at: 2023-11-09 11:01:27+00:00
  edited: false
  hidden: false
  id: 654cbc07732b9e3cf4d44bbc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
      fullname: Devang Dinesh Pagare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: herMaster
      type: user
    createdAt: '2023-11-16T06:34:15.000Z'
    data:
      edited: false
      editors:
      - herMaster
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9828205704689026
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
          fullname: Devang Dinesh Pagare
          isHf: false
          isPro: false
          name: herMaster
          type: user
        html: '<p>Okay, guys. I will try to ask on their discord. I am closing this
          discussion for now. Thank you for your help.</p>

          '
        raw: Okay, guys. I will try to ask on their discord. I am closing this discussion
          for now. Thank you for your help.
        updatedAt: '2023-11-16T06:34:15.534Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6555b7e7710bb1dad21fa57e
    id: 6555b7e7710bb1dad21fa577
    type: comment
  author: herMaster
  content: Okay, guys. I will try to ask on their discord. I am closing this discussion
    for now. Thank you for your help.
  created_at: 2023-11-16 06:34:15+00:00
  edited: false
  hidden: false
  id: 6555b7e7710bb1dad21fa577
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/5a0dc02e135efdb1eec6523e067d532b.svg
      fullname: Devang Dinesh Pagare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: herMaster
      type: user
    createdAt: '2023-11-16T06:34:15.000Z'
    data:
      status: closed
    id: 6555b7e7710bb1dad21fa57e
    type: status-change
  author: herMaster
  created_at: 2023-11-16 06:34:15+00:00
  id: 6555b7e7710bb1dad21fa57e
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 22
repo_id: jinaai/jina-embeddings-v2-base-en
repo_type: model
status: closed
target_branch: null
title: '''JinaBertModel'' object has no attribute ''embed_documents'''
