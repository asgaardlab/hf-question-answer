!!python/object:huggingface_hub.community.DiscussionWithDetails
author: JoannaSapiecha
conflicting_files: null
created_at: 2023-12-19 16:42:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-19T16:42:37.000Z'
    data:
      edited: false
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5257183909416199
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: '<p>Want to run the model locally.<br>Got the following error message:<br>404
          Client Error: Entry Not Found for url: <a href="https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py">https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py</a></p>

          <p>--<br>!pip install transformers<br>!pip install langchain<br>from transformers
          import AutoModel<br>from numpy.linalg import norm</p>

          <p>cos_sim = lambda a,b: (a @ b.T) / (norm(a)*norm(b))<br>model = AutoModel.from_pretrained(''jinaai/jina-embeddings-v2-base-en'',
          trust_remote_code=True) # trust_remote_code is needed to use the encode
          method</p>

          <p>....</p>

          '
        raw: "Want to run the model locally.\r\nGot the following error message: \r\
          \n404 Client Error: Entry Not Found for url: https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py\r\
          \n\r\n--\r\n!pip install transformers\r\n!pip install langchain\r\nfrom\
          \ transformers import AutoModel\r\nfrom numpy.linalg import norm\r\n\r\n\
          cos_sim = lambda a,b: (a @ b.T) / (norm(a)*norm(b))\r\nmodel = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
          \ trust_remote_code=True) # trust_remote_code is needed to use the encode\
          \ method\r\n\r\n....\r\n"
        updatedAt: '2023-12-19T16:42:37.898Z'
      numEdits: 0
      reactions: []
    id: 6581c7fd4ab06cdc836a60d4
    type: comment
  author: JoannaSapiecha
  content: "Want to run the model locally.\r\nGot the following error message: \r\n\
    404 Client Error: Entry Not Found for url: https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py\r\
    \n\r\n--\r\n!pip install transformers\r\n!pip install langchain\r\nfrom transformers\
    \ import AutoModel\r\nfrom numpy.linalg import norm\r\n\r\ncos_sim = lambda a,b:\
    \ (a @ b.T) / (norm(a)*norm(b))\r\nmodel = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
    \ trust_remote_code=True) # trust_remote_code is needed to use the encode method\r\
    \n\r\n....\r\n"
  created_at: 2023-12-19 16:42:37+00:00
  edited: false
  hidden: false
  id: 6581c7fd4ab06cdc836a60d4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645651848050-noauth.png?w=200&h=200&f=face
      fullname: Harsha Aduri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: robertsatya
      type: user
    createdAt: '2023-12-20T08:50:47.000Z'
    data:
      edited: false
      editors:
      - robertsatya
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9476994872093201
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645651848050-noauth.png?w=200&h=200&f=face
          fullname: Harsha Aduri
          isHf: false
          isPro: false
          name: robertsatya
          type: user
        html: '<p>Which version of transformers package are you using?</p>

          <p>Try updating your transformers package version to the latest. I had a
          similar issue when I was using an older version of transformers. Updating
          the package and clearing the older cache files fixed the issue.</p>

          '
        raw: 'Which version of transformers package are you using?


          Try updating your transformers package version to the latest. I had a similar
          issue when I was using an older version of transformers. Updating the package
          and clearing the older cache files fixed the issue.'
        updatedAt: '2023-12-20T08:50:47.234Z'
      numEdits: 0
      reactions: []
    id: 6582aae7780bc40d1eee0bf5
    type: comment
  author: robertsatya
  content: 'Which version of transformers package are you using?


    Try updating your transformers package version to the latest. I had a similar
    issue when I was using an older version of transformers. Updating the package
    and clearing the older cache files fixed the issue.'
  created_at: 2023-12-20 08:50:47+00:00
  edited: false
  hidden: false
  id: 6582aae7780bc40d1eee0bf5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-20T10:20:56.000Z'
    data:
      edited: true
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6146896481513977
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: '<p>Hi, thanks a lot for the prompt reply.  </p>

          <p>Transformers version: Name: transformers, Version: 4.20.0  (I upgraded
          it, as you advised).</p>

          <p>I removed the entire folder from: C:\Users\joann.cache\torch\sentence_transformers.  I
          got the same error. Then I changed the code to force the download: </p>

          <p>from transformers import AutoModel<br>from numpy.linalg import norm</p>

          <h1 id="model--automodelfrom_pretrainedjinaaijina-embeddings-v2-base-en-trust_remote_codetrue-force_downloadtrue--trust_remote_code-is-needed-to-use-the-encode-method">model
          = AutoModel.from_pretrained(''jinaai/jina-embeddings-v2-base-en'', trust_remote_code=True,
          force_download=True) # trust_remote_code is needed to use the encode method</h1>

          <p>The model is not being downloaded. See the screenshots below.</p>

          <p>Explicitly passing a <code>revision</code> is encouraged when loading
          a configuration with custom code to ensure no malicious code has been contributed
          in a newer revision.<br>Could not locate the jinaai/jina-bert-implementation--configuration_bert.py
          inside jinaai/jina-embeddings-v2-base-en.<br>&lt;...&gt;<br>EntryNotFoundError:
          404 Client Error: Entry Not Found for url: <a href="https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py">https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py</a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/mNYbRzyuUyqbCJCKWt2JO.jpeg"><img
          alt="LLaMA_Issue_02.JPG" src="https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/mNYbRzyuUyqbCJCKWt2JO.jpeg"></a><br><a
          rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/RTM-JRGdnq0av4nc5w5N2.jpeg"><img
          alt="LLaMA_Issue_01.JPG" src="https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/RTM-JRGdnq0av4nc5w5N2.jpeg"></a></p>

          '
        raw: "Hi, thanks a lot for the prompt reply.  \n\nTransformers version: Name:\
          \ transformers, Version: 4.20.0  (I upgraded it, as you advised).\n\nI removed\
          \ the entire folder from: C:\\Users\\joann\\.cache\\torch\\sentence_transformers.\
          \  I got the same error. Then I changed the code to force the download:\
          \ \n\nfrom transformers import AutoModel\nfrom numpy.linalg import norm\n\
          \nmodel = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
          \ trust_remote_code=True, force_download=True) # trust_remote_code is needed\
          \ to use the encode method\n==\nThe model is not being downloaded. See the\
          \ screenshots below.\n\nExplicitly passing a `revision` is encouraged when\
          \ loading a configuration with custom code to ensure no malicious code has\
          \ been contributed in a newer revision.\nCould not locate the jinaai/jina-bert-implementation--configuration_bert.py\
          \ inside jinaai/jina-embeddings-v2-base-en.\n<...>\nEntryNotFoundError:\
          \ 404 Client Error: Entry Not Found for url: https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py\n\
          \n![LLaMA_Issue_02.JPG](https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/mNYbRzyuUyqbCJCKWt2JO.jpeg)\n\
          ![LLaMA_Issue_01.JPG](https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/RTM-JRGdnq0av4nc5w5N2.jpeg)\n"
        updatedAt: '2023-12-20T10:24:59.122Z'
      numEdits: 1
      reactions: []
    id: 6582c00866701405d502ed83
    type: comment
  author: JoannaSapiecha
  content: "Hi, thanks a lot for the prompt reply.  \n\nTransformers version: Name:\
    \ transformers, Version: 4.20.0  (I upgraded it, as you advised).\n\nI removed\
    \ the entire folder from: C:\\Users\\joann\\.cache\\torch\\sentence_transformers.\
    \  I got the same error. Then I changed the code to force the download: \n\nfrom\
    \ transformers import AutoModel\nfrom numpy.linalg import norm\n\nmodel = AutoModel.from_pretrained('jinaai/jina-embeddings-v2-base-en',\
    \ trust_remote_code=True, force_download=True) # trust_remote_code is needed to\
    \ use the encode method\n==\nThe model is not being downloaded. See the screenshots\
    \ below.\n\nExplicitly passing a `revision` is encouraged when loading a configuration\
    \ with custom code to ensure no malicious code has been contributed in a newer\
    \ revision.\nCould not locate the jinaai/jina-bert-implementation--configuration_bert.py\
    \ inside jinaai/jina-embeddings-v2-base-en.\n<...>\nEntryNotFoundError: 404 Client\
    \ Error: Entry Not Found for url: https://huggingface.co/jinaai/jina-embeddings-v2-base-en/resolve/main/jinaai/jina-bert-implementation--configuration_bert.py\n\
    \n![LLaMA_Issue_02.JPG](https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/mNYbRzyuUyqbCJCKWt2JO.jpeg)\n\
    ![LLaMA_Issue_01.JPG](https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/RTM-JRGdnq0av4nc5w5N2.jpeg)\n"
  created_at: 2023-12-20 10:20:56+00:00
  edited: true
  hidden: false
  id: 6582c00866701405d502ed83
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-20T21:46:56.000Z'
    data:
      edited: false
      editors:
      - JoannaSapiecha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7698694467544556
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
          fullname: Joanna
          isHf: false
          isPro: false
          name: JoannaSapiecha
          type: user
        html: '<p>Solved, closing the discussion</p>

          '
        raw: Solved, closing the discussion
        updatedAt: '2023-12-20T21:46:56.529Z'
      numEdits: 0
      reactions: []
      relatedEventId: 658360d0489f3b53a02be251
    id: 658360d0489f3b53a02be250
    type: comment
  author: JoannaSapiecha
  content: Solved, closing the discussion
  created_at: 2023-12-20 21:46:56+00:00
  edited: false
  hidden: false
  id: 658360d0489f3b53a02be250
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64cfd32cc0c627dfa7d8cdf0/qs74B2QaJXop0rJ4MYTD8.jpeg?w=200&h=200&f=face
      fullname: Joanna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JoannaSapiecha
      type: user
    createdAt: '2023-12-20T21:46:56.000Z'
    data:
      status: closed
    id: 658360d0489f3b53a02be251
    type: status-change
  author: JoannaSapiecha
  created_at: 2023-12-20 21:46:56+00:00
  id: 658360d0489f3b53a02be251
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 35
repo_id: jinaai/jina-embeddings-v2-base-en
repo_type: model
status: closed
target_branch: null
title: Can't install the model locally (configuration_bert.py)
