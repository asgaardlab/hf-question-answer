!!python/object:huggingface_hub.community.DiscussionWithDetails
author: fullstack
conflicting_files: null
created_at: 2023-10-27 09:17:06+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5904d9e2ddc438a28cd09be778cc73ff.svg
      fullname: david elbel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fullstack
      type: user
    createdAt: '2023-10-27T10:17:06.000Z'
    data:
      edited: false
      editors:
      - fullstack
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7692170739173889
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5904d9e2ddc438a28cd09be778cc73ff.svg
          fullname: david elbel
          isHf: false
          isPro: false
          name: fullstack
          type: user
        html: '<p>OSError: jinaai/jina-embeddings-v2-small-en does not appear to have
          a file named jinaai/jina-bert-implementation--configuration_bert.py. Checkout
          ''<a href="https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main''">https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main''</a>
          for available files.</p>

          <p>I''m getting issues using your repo with various tools, llm(1), sentence
          transformers, hugging face. Is there something wrong with the repo? Thanks</p>

          '
        raw: "OSError: jinaai/jina-embeddings-v2-small-en does not appear to have\
          \ a file named jinaai/jina-bert-implementation--configuration_bert.py. Checkout\
          \ 'https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main' for available\
          \ files.\r\n\r\nI'm getting issues using your repo with various tools, llm(1),\
          \ sentence transformers, hugging face. Is there something wrong with the\
          \ repo? Thanks"
        updatedAt: '2023-10-27T10:17:06.693Z'
      numEdits: 0
      reactions: []
    id: 653b8e2259af6fbe76a2a63e
    type: comment
  author: fullstack
  content: "OSError: jinaai/jina-embeddings-v2-small-en does not appear to have a\
    \ file named jinaai/jina-bert-implementation--configuration_bert.py. Checkout\
    \ 'https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main' for available\
    \ files.\r\n\r\nI'm getting issues using your repo with various tools, llm(1),\
    \ sentence transformers, hugging face. Is there something wrong with the repo?\
    \ Thanks"
  created_at: 2023-10-27 09:17:06+00:00
  edited: false
  hidden: false
  id: 653b8e2259af6fbe76a2a63e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f6738addb38ccfb6376bee39b298614c.svg
      fullname: Daniel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: compojoom
      type: user
    createdAt: '2023-10-27T10:47:47.000Z'
    data:
      edited: false
      editors:
      - compojoom
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8868428468704224
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f6738addb38ccfb6376bee39b298614c.svg
          fullname: Daniel
          isHf: false
          isPro: false
          name: compojoom
          type: user
        html: '<p>It must be something in the code. I''m getting the same error.</p>

          '
        raw: It must be something in the code. I'm getting the same error.
        updatedAt: '2023-10-27T10:47:47.926Z'
      numEdits: 0
      reactions: []
    id: 653b95537d9ea17446f83d62
    type: comment
  author: compojoom
  content: It must be something in the code. I'm getting the same error.
  created_at: 2023-10-27 09:47:47+00:00
  edited: false
  hidden: false
  id: 653b95537d9ea17446f83d62
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/IiercF_qxHWize2kitl9X.jpeg?w=200&h=200&f=face
      fullname: "Dominik Weckm\xFCller"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: do-me
      type: user
    createdAt: '2023-10-27T12:15:06.000Z'
    data:
      edited: false
      editors:
      - do-me
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7484403848648071
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/IiercF_qxHWize2kitl9X.jpeg?w=200&h=200&f=face
          fullname: "Dominik Weckm\xFCller"
          isHf: false
          isPro: false
          name: do-me
          type: user
        html: '<p>Related issues:</p>

          <ul>

          <li><a rel="nofollow" href="https://twitter.com/simonw/status/1716644983917392330?s=20">https://twitter.com/simonw/status/1716644983917392330?s=20</a></li>

          <li><a rel="nofollow" href="https://github.com/xenova/transformers.js/issues/371">https://github.com/xenova/transformers.js/issues/371</a></li>

          </ul>

          <p>It''s probably due to <code>trust_remote_code</code> parameter.</p>

          '
        raw: 'Related issues:


          - https://twitter.com/simonw/status/1716644983917392330?s=20

          - https://github.com/xenova/transformers.js/issues/371


          It''s probably due to `trust_remote_code` parameter.'
        updatedAt: '2023-10-27T12:15:06.947Z'
      numEdits: 0
      reactions: []
    id: 653ba9ca0ddce64147ef2723
    type: comment
  author: do-me
  content: 'Related issues:


    - https://twitter.com/simonw/status/1716644983917392330?s=20

    - https://github.com/xenova/transformers.js/issues/371


    It''s probably due to `trust_remote_code` parameter.'
  created_at: 2023-10-27 11:15:06+00:00
  edited: false
  hidden: false
  id: 653ba9ca0ddce64147ef2723
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f6738addb38ccfb6376bee39b298614c.svg
      fullname: Daniel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: compojoom
      type: user
    createdAt: '2023-10-27T12:27:07.000Z'
    data:
      edited: false
      editors:
      - compojoom
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7603710293769836
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f6738addb38ccfb6376bee39b298614c.svg
          fullname: Daniel
          isHf: false
          isPro: false
          name: compojoom
          type: user
        html: '<p>Cool, but without it one gets this:</p>

          <pre><code>ValueError: Loading jinaai/jina-embeddings-v2-small-en requires
          you to execute the configuration file in that repo on your local machine.
          Make sure you have read the code there to avoid malicious use, then set
          the option `trust_remote_code=True` to remove this error.

          </code></pre>

          '
        raw: 'Cool, but without it one gets this:

          ```

          ValueError: Loading jinaai/jina-embeddings-v2-small-en requires you to execute
          the configuration file in that repo on your local machine. Make sure you
          have read the code there to avoid malicious use, then set the option `trust_remote_code=True`
          to remove this error.

          ```'
        updatedAt: '2023-10-27T12:27:07.140Z'
      numEdits: 0
      reactions: []
    id: 653bac9be4f7b9b17e638371
    type: comment
  author: compojoom
  content: 'Cool, but without it one gets this:

    ```

    ValueError: Loading jinaai/jina-embeddings-v2-small-en requires you to execute
    the configuration file in that repo on your local machine. Make sure you have
    read the code there to avoid malicious use, then set the option `trust_remote_code=True`
    to remove this error.

    ```'
  created_at: 2023-10-27 11:27:07+00:00
  edited: false
  hidden: false
  id: 653bac9be4f7b9b17e638371
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6c2157aaa1aea680f35d7e07f5767ff8.svg
      fullname: Claudia Tang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: claudiatang
      type: user
    createdAt: '2023-10-27T17:51:38.000Z'
    data:
      edited: false
      editors:
      - claudiatang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7771125435829163
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6c2157aaa1aea680f35d7e07f5767ff8.svg
          fullname: Claudia Tang
          isHf: false
          isPro: false
          name: claudiatang
          type: user
        html: "<p>I'm also getting the same error(s) \u2014 both with and without\
          \ the <code>trust_remote_code</code> parameter</p>\n"
        raw: "I'm also getting the same error(s) \u2014 both with and without the\
          \ `trust_remote_code` parameter"
        updatedAt: '2023-10-27T17:51:38.274Z'
      numEdits: 0
      reactions: []
    id: 653bf8aab1fd2a936931c016
    type: comment
  author: claudiatang
  content: "I'm also getting the same error(s) \u2014 both with and without the `trust_remote_code`\
    \ parameter"
  created_at: 2023-10-27 16:51:38+00:00
  edited: false
  hidden: false
  id: 653bf8aab1fd2a936931c016
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/634e2b60a00c472888747e4c/FGqQ1qcfN0pXZ9GgdRrBB.png?w=200&h=200&f=face
      fullname: Jack Min Ong
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Jackmin108
      type: user
    createdAt: '2023-10-27T21:17:31.000Z'
    data:
      edited: false
      editors:
      - Jackmin108
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9340574741363525
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/634e2b60a00c472888747e4c/FGqQ1qcfN0pXZ9GgdRrBB.png?w=200&h=200&f=face
          fullname: Jack Min Ong
          isHf: false
          isPro: false
          name: Jackmin108
          type: user
        html: '<p>Are you perhaps using an old version of the <code>transformers</code>
          library?<br>In order to make the repositories easier to maintain, we use
          the remote repository reference feature of the Auto class. This was added
          in <a rel="nofollow" href="https://github.com/huggingface/transformers/releases/tag/v4.29.0">4.29.0</a>
          (look for "Code on the Hub from another repo" in the release notes).</p>

          <p>Do you have some examples we can use to reproduce the error you are observing?</p>

          '
        raw: 'Are you perhaps using an old version of the `transformers` library?

          In order to make the repositories easier to maintain, we use the remote
          repository reference feature of the Auto class. This was added in [4.29.0](https://github.com/huggingface/transformers/releases/tag/v4.29.0)
          (look for "Code on the Hub from another repo" in the release notes).


          Do you have some examples we can use to reproduce the error you are observing?'
        updatedAt: '2023-10-27T21:17:31.428Z'
      numEdits: 0
      reactions: []
    id: 653c28eb6d28265c858f400a
    type: comment
  author: Jackmin108
  content: 'Are you perhaps using an old version of the `transformers` library?

    In order to make the repositories easier to maintain, we use the remote repository
    reference feature of the Auto class. This was added in [4.29.0](https://github.com/huggingface/transformers/releases/tag/v4.29.0)
    (look for "Code on the Hub from another repo" in the release notes).


    Do you have some examples we can use to reproduce the error you are observing?'
  created_at: 2023-10-27 20:17:31+00:00
  edited: false
  hidden: false
  id: 653c28eb6d28265c858f400a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6c2157aaa1aea680f35d7e07f5767ff8.svg
      fullname: Claudia Tang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: claudiatang
      type: user
    createdAt: '2023-10-27T22:41:32.000Z'
    data:
      edited: true
      editors:
      - claudiatang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.41405564546585083
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6c2157aaa1aea680f35d7e07f5767ff8.svg
          fullname: Claudia Tang
          isHf: false
          isPro: false
          name: claudiatang
          type: user
        html: '<p>I don''t think so, I was using <code>transformers 4.34.1</code>.</p>

          <p>After running <code>model = AutoModel.from_pretrained(''jinaai/jina-embeddings-v2-base-en'',
          trust_remote_code=True)</code>, I got the same OSError:</p>

          <blockquote>

          <p><code>OSError: jinaai/jina-embeddings-v2-small-en does not appear to
          have a file named jinaai/jina-bert-implementation--configuration_bert.py.
          Checkout ''https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main''
          for available files.</code></p>

          </blockquote>

          '
        raw: 'I don''t think so, I was using `transformers 4.34.1`.


          After running `model = AutoModel.from_pretrained(''jinaai/jina-embeddings-v2-base-en'',
          trust_remote_code=True)`, I got the same OSError:

          > `OSError: jinaai/jina-embeddings-v2-small-en does not appear to have a
          file named jinaai/jina-bert-implementation--configuration_bert.py. Checkout
          ''https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main'' for available
          files.`'
        updatedAt: '2023-11-10T19:47:40.819Z'
      numEdits: 1
      reactions: []
    id: 653c3c9c3ea696d4632989f6
    type: comment
  author: claudiatang
  content: 'I don''t think so, I was using `transformers 4.34.1`.


    After running `model = AutoModel.from_pretrained(''jinaai/jina-embeddings-v2-base-en'',
    trust_remote_code=True)`, I got the same OSError:

    > `OSError: jinaai/jina-embeddings-v2-small-en does not appear to have a file
    named jinaai/jina-bert-implementation--configuration_bert.py. Checkout ''https://huggingface.co/jinaai/jina-embeddings-v2-small-en/main''
    for available files.`'
  created_at: 2023-10-27 21:41:32+00:00
  edited: true
  hidden: false
  id: 653c3c9c3ea696d4632989f6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cef3251de829c818a4ad5e141a5ad4ee.svg
      fullname: RayChiu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: raydo
      type: user
    createdAt: '2023-10-28T03:07:51.000Z'
    data:
      edited: true
      editors:
      - raydo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8305715322494507
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cef3251de829c818a4ad5e141a5ad4ee.svg
          fullname: RayChiu
          isHf: false
          isPro: false
          name: raydo
          type: user
        html: '<p>I got the same error , seems the jina-bert-implementation--modeling_bert.py
          file is not found on hugging face repo.</p>

          <p>The author of transformers package is working on this issue.<br><a rel="nofollow"
          href="https://github.com/huggingface/transformers/issues/27035">https://github.com/huggingface/transformers/issues/27035</a></p>

          '
        raw: 'I got the same error , seems the jina-bert-implementation--modeling_bert.py
          file is not found on hugging face repo.


          The author of transformers package is working on this issue.

          https://github.com/huggingface/transformers/issues/27035'
        updatedAt: '2023-10-28T03:12:25.497Z'
      numEdits: 1
      reactions: []
    id: 653c7b079107029eb0f94f96
    type: comment
  author: raydo
  content: 'I got the same error , seems the jina-bert-implementation--modeling_bert.py
    file is not found on hugging face repo.


    The author of transformers package is working on this issue.

    https://github.com/huggingface/transformers/issues/27035'
  created_at: 2023-10-28 02:07:51+00:00
  edited: true
  hidden: false
  id: 653c7b079107029eb0f94f96
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/93b14fb586e0973afd2f05741f4dbca5.svg
      fullname: lizhengwei
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lzw1992
      type: user
    createdAt: '2023-10-31T12:23:50.000Z'
    data:
      edited: true
      editors:
      - lzw1992
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.43101224303245544
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/93b14fb586e0973afd2f05741f4dbca5.svg
          fullname: lizhengwei
          isHf: false
          isPro: false
          name: lzw1992
          type: user
        html: "<p>if you use langchain :</p>\n<pre><code>from langchain.embeddings\
          \ import HuggingFaceEmbeddings\nmodel_name = jina-embeddings-v2-base-en\n\
          model_kwargs = {'device': 'cuda'}\nencode_kwargs = {'normalize_embeddings':\
          \ True} # set True to compute cosine similarity\nmodel = HuggingFaceEmbeddings(\n\
          \    model_name=model_name,\n    model_kwargs=model_kwargs,\n    encode_kwargs=encode_kwargs,\n\
          )\n</code></pre>\n<p>will see:</p>\n<pre><code>The repository for jina-embeddings-v2-base-en/\
          \ contains custom code which must be executed to correctlyload the model.\
          \ You can inspect the repository content at hjina-embeddings-v2-base-en/.\n\
          You can avoid this prompt in future by passing the argument `trust_remote_code=True`.\n\
          \nDo you wish to run the custom code? [y/N] \n</code></pre>\n<p>avoid this\
          \ by modify <code>/transformers/models/auto/auto_factory.py</code>  line\
          \ 451: <code>trust_remote_code = kwargs.pop(\"trust_remote_code\", None)</code>\
          \ to <code>trust_remote_code = True</code> </p>\n"
        raw: "if you use langchain :\n```\nfrom langchain.embeddings import HuggingFaceEmbeddings\n\
          model_name = jina-embeddings-v2-base-en\nmodel_kwargs = {'device': 'cuda'}\n\
          encode_kwargs = {'normalize_embeddings': True} # set True to compute cosine\
          \ similarity\nmodel = HuggingFaceEmbeddings(\n    model_name=model_name,\n\
          \    model_kwargs=model_kwargs,\n    encode_kwargs=encode_kwargs,\n)\n\n\
          ```\nwill see:\n\n```\nThe repository for jina-embeddings-v2-base-en/ contains\
          \ custom code which must be executed to correctlyload the model. You can\
          \ inspect the repository content at hjina-embeddings-v2-base-en/.\nYou can\
          \ avoid this prompt in future by passing the argument `trust_remote_code=True`.\n\
          \nDo you wish to run the custom code? [y/N] \n```\navoid this by modify\
          \ ```/transformers/models/auto/auto_factory.py```  line 451: ```trust_remote_code\
          \ = kwargs.pop(\"trust_remote_code\", None)``` to ```trust_remote_code =\
          \ True``` "
        updatedAt: '2023-10-31T12:30:01.232Z'
      numEdits: 1
      reactions: []
    id: 6540f1d61c757aa4089240af
    type: comment
  author: lzw1992
  content: "if you use langchain :\n```\nfrom langchain.embeddings import HuggingFaceEmbeddings\n\
    model_name = jina-embeddings-v2-base-en\nmodel_kwargs = {'device': 'cuda'}\nencode_kwargs\
    \ = {'normalize_embeddings': True} # set True to compute cosine similarity\nmodel\
    \ = HuggingFaceEmbeddings(\n    model_name=model_name,\n    model_kwargs=model_kwargs,\n\
    \    encode_kwargs=encode_kwargs,\n)\n\n```\nwill see:\n\n```\nThe repository\
    \ for jina-embeddings-v2-base-en/ contains custom code which must be executed\
    \ to correctlyload the model. You can inspect the repository content at hjina-embeddings-v2-base-en/.\n\
    You can avoid this prompt in future by passing the argument `trust_remote_code=True`.\n\
    \nDo you wish to run the custom code? [y/N] \n```\navoid this by modify ```/transformers/models/auto/auto_factory.py```\
    \  line 451: ```trust_remote_code = kwargs.pop(\"trust_remote_code\", None)```\
    \ to ```trust_remote_code = True``` "
  created_at: 2023-10-31 11:23:50+00:00
  edited: true
  hidden: false
  id: 6540f1d61c757aa4089240af
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
      fullname: Bo Wang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bwang0911
      type: user
    createdAt: '2023-11-09T07:34:38.000Z'
    data:
      edited: false
      editors:
      - bwang0911
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9539852738380432
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
          fullname: Bo Wang
          isHf: false
          isPro: false
          name: bwang0911
          type: user
        html: '<p>thanks! I''ll close this issue for now, please feel free to open
          if you have further questions!</p>

          '
        raw: thanks! I'll close this issue for now, please feel free to open if you
          have further questions!
        updatedAt: '2023-11-09T07:34:38.858Z'
      numEdits: 0
      reactions: []
      relatedEventId: 654c8b8e895fa7bf7c4c6fe7
    id: 654c8b8e895fa7bf7c4c6fe6
    type: comment
  author: bwang0911
  content: thanks! I'll close this issue for now, please feel free to open if you
    have further questions!
  created_at: 2023-11-09 07:34:38+00:00
  edited: false
  hidden: false
  id: 654c8b8e895fa7bf7c4c6fe6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63491dc83d8dc83a55cb749c/IoqJrOIaEnYO_S7si4KGp.jpeg?w=200&h=200&f=face
      fullname: Bo Wang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bwang0911
      type: user
    createdAt: '2023-11-09T07:34:38.000Z'
    data:
      status: closed
    id: 654c8b8e895fa7bf7c4c6fe7
    type: status-change
  author: bwang0911
  created_at: 2023-11-09 07:34:38+00:00
  id: 654c8b8e895fa7bf7c4c6fe7
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: jinaai/jina-embeddings-v2-base-en
repo_type: model
status: closed
target_branch: null
title: Error does not appear to have a file named jinaai/jina-bert-implementation--configuration_bert.py
