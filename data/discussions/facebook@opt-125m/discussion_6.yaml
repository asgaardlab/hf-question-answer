!!python/object:huggingface_hub.community.DiscussionWithDetails
author: waynedsouza
conflicting_files: null
created_at: 2022-08-09 04:33:44+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/005b8ffad7eab42ea53102b45bb48e97.svg
      fullname: Wayne DSouza
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: waynedsouza
      type: user
    createdAt: '2022-08-09T05:33:44.000Z'
    data:
      edited: false
      editors:
      - waynedsouza
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/005b8ffad7eab42ea53102b45bb48e97.svg
          fullname: Wayne DSouza
          isHf: false
          isPro: false
          name: waynedsouza
          type: user
        html: '<p>The range of opt models throw a KeyError ''opt'' when calling predictor.predict<br>Turns
          out this issue emanates from here <a rel="nofollow" href="https://github.com/huggingface/transformers/blob/main/src/transformers/models/auto/configuration_auto.py#L100">https://github.com/huggingface/transformers/blob/main/src/transformers/models/auto/configuration_auto.py#L100</a></p>

          <p>and manifest as,</p>

          <p>2022-08-09T03:07:44,087 [INFO ] W-facebook__opt-125m-1-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle
          -   File "/opt/conda/lib/python3.8/site-packages/transformers/models/auto/configuration_auto.py",
          line 372, in <strong>getitem</strong><br>2022-08-09T03:07:44,088 [INFO ]<br>W-facebook__opt-125m-1-stdout
          com.amazonaws.ml.mms.wlm.WorkerLifeCycle - KeyError: ''opt''<br>implying
          an older transformer version being used on sagemaker</p>

          '
        raw: "The range of opt models throw a KeyError 'opt' when calling predictor.predict\r\
          \nTurns out this issue emanates from here https://github.com/huggingface/transformers/blob/main/src/transformers/models/auto/configuration_auto.py#L100\r\
          \n\r\nand manifest as,\r\n\r\n2022-08-09T03:07:44,087 [INFO ] W-facebook__opt-125m-1-stdout\
          \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle -   File \"/opt/conda/lib/python3.8/site-packages/transformers/models/auto/configuration_auto.py\"\
          , line 372, in __getitem__\r\n2022-08-09T03:07:44,088 [INFO ] \r\nW-facebook__opt-125m-1-stdout\
          \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - KeyError: 'opt'\r\nimplying\
          \ an older transformer version being used on sagemaker\r\n"
        updatedAt: '2022-08-09T05:33:44.584Z'
      numEdits: 0
      reactions: []
    id: 62f1f1b84311f2666fc476da
    type: comment
  author: waynedsouza
  content: "The range of opt models throw a KeyError 'opt' when calling predictor.predict\r\
    \nTurns out this issue emanates from here https://github.com/huggingface/transformers/blob/main/src/transformers/models/auto/configuration_auto.py#L100\r\
    \n\r\nand manifest as,\r\n\r\n2022-08-09T03:07:44,087 [INFO ] W-facebook__opt-125m-1-stdout\
    \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle -   File \"/opt/conda/lib/python3.8/site-packages/transformers/models/auto/configuration_auto.py\"\
    , line 372, in __getitem__\r\n2022-08-09T03:07:44,088 [INFO ] \r\nW-facebook__opt-125m-1-stdout\
    \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - KeyError: 'opt'\r\nimplying an older\
    \ transformer version being used on sagemaker\r\n"
  created_at: 2022-08-09 04:33:44+00:00
  edited: false
  hidden: false
  id: 62f1f1b84311f2666fc476da
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: facebook/opt-125m
repo_type: model
status: open
target_branch: null
title: 'KeyError: ''opt'' on calling predictor.predict in Sagemaker'
