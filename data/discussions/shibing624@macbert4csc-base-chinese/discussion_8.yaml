!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Macropodus
conflicting_files: null
created_at: 2023-12-22 07:41:01+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a4bd7c14dcb63821073e36e8595a2a58.svg
      fullname: Macadam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Macropodus
      type: user
    createdAt: '2023-12-22T07:41:01.000Z'
    data:
      edited: false
      editors:
      - Macropodus
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.6537705063819885
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a4bd7c14dcb63821073e36e8595a2a58.svg
          fullname: Macadam
          isHf: false
          isPro: false
          name: Macropodus
          type: user
        html: "<p>{'source': '\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\
          \u9886\u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\
          \u77E5', 'target': '\u673A\u5668\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\
          \u9886\u57DF\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\
          \u77E5', 'errors': [('\u4E03', '\u5668', 1), ('\u9047', '\u57DF', 10)]}<br>{'source':\
          \ '\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\u7684\u6CB3\u9762\
          \u4E0A', 'target': '\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\
          \u7684\u6CB3\u9762\u4E0A', 'errors': []}<br>{'source': '\u4ED6\u7684\u8BED\
          \u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\u4E5F\u4E0D\u9519', 'target':\
          \ '\u4ED6\u7684\u8BED\u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\u4E5F\u4E0D\
          \u9519', 'errors': []}</p>\n<p>\u4EE3\u7801\uFF1A</p>\n<pre><code class=\"\
          language-python\">    model_name_or_path = <span class=\"hljs-string\">\"\
          shibing624/macbert4csc-base-chinese\"</span>\n    model_macbert = MacBertCorrector(model_name_or_path,\
          \ device=<span class=\"hljs-string\">\"cuda:0\"</span>)\n\n    texts = [\n\
          \        <span class=\"hljs-string\">'\u771F\u9EBB\u70E6\u4F60\u4E86\u3002\
          \u5E0C\u671B\u4F60\u4EEC\u597D\u597D\u7684\u8DF3\u65E0'</span>,\n      \
          \  <span class=\"hljs-string\">'\u5C11\u5148\u961F\u5458\u56E0\u8BE5\u4E3A\
          \u8001\u4EBA\u8BA9\u5750'</span>,\n        <span class=\"hljs-string\">'\u673A\
          \u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\u9047\u6700\u80FD\
          \u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5'</span>,\n      \
          \  <span class=\"hljs-string\">'\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\
          \u5E73\u51C0\u7684\u6CB3\u9762\u4E0A'</span>,\n        <span class=\"hljs-string\"\
          >'\u6211\u7684\u5BB6\u4E61\u662F\u6709\u660E\u7684\u6E14\u7C73\u4E4B\u4E61\
          '</span>,\n        <span class=\"hljs-string\">'\u5C11\u5148\u961F\u5458\
          \u56E0\u8BE5\u4E3A\u8001\u4EBA\u8BA9\u5750'</span>,\n        <span class=\"\
          hljs-string\">'\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\
          \u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5\
          '</span>,\n        <span class=\"hljs-string\">'\u4ECA\u5929\u65B0\u60C5\
          \u5F88\u597D'</span>,\n        <span class=\"hljs-string\">'\u8001\u662F\
          \u8F83\u4E66\u3002'</span>,\n        <span class=\"hljs-string\">'\u9047\
          \u5230\u4E00\u4F4D\u5F88\u68D2\u7684\u5974\u751F\u8DDF\u6211\u804A\u5929\
          \u3002'</span>,\n        <span class=\"hljs-string\">'\u4ED6\u7684\u8BED\
          \u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\u4E5F\u4E0D\u9519'</span>,\n\
          \        <span class=\"hljs-string\">'\u4ED6\u6CD5\u8BED\u8BF4\u7684\u5F88\
          \u597D\uFF0C\u7684\u8BED\u4E5F\u4E0D\u9519'</span>,\n        <span class=\"\
          hljs-string\">'\u4ED6\u4EEC\u7684\u5435\u7FFB\u5F88\u4E0D\u9519\uFF0C\u518D\
          \u8BF4\u4ED6\u4EEC\u505A\u7684\u5496\u55B1\u9E21\u4E5F\u597D\u5403'</span>,\n\
          \        <span class=\"hljs-string\">'\u5F71\u50CF\u5C0F\u5B69\u5B50\u60F3\
          \u7684\u5FEB\uFF0C\u5B66\u4E60\u7BA1\u7406\u7684\u6591\u6CD5'</span>,\n\
          \        <span class=\"hljs-string\">'\u9910\u5385\u7684\u6362\u7ECF\u8D39\
          \u4EA7\u9002\u5408\u7EA6\u4F1A'</span>,\n        <span class=\"hljs-string\"\
          >'\u8D70\u8DEF\u771F\u7684\u9EBB\u574A\uFF0C\u6211\u4E5F\u6CA1\u6709\u559D\
          \u7684\u4E1C\u897F\uFF0C\u5728\u5BB6\u6C6A\u4E86'</span>,\n        <span\
          \ class=\"hljs-string\">'\u56E0\u4E3A\u7238\u7238\u5728\u770B\u5F55\u97F3\
          \u673A\uFF0C\u6240\u4EE5\u6211\u6CA1\u5F97\u770B'</span>,\n        <span\
          \ class=\"hljs-string\">'\u4E0D\u8FC7\u5728\u8BB8\u591A\u4F20\u7EDF\u56FD\
          \u5BB6\uFF0C\u5973\u4EBA\u5411\u672A\u5F97\u5230\u5E73\u7B49'</span>,\n\
          \        <span class=\"hljs-string\">'\u6211\u60F3\u559D\u5C0F\u660E\u540C\
          \u5B66\u3002'</span>,  <span class=\"hljs-comment\"># \u6F0F\u53EC\u56DE\
          </span>\n        <span class=\"hljs-string\">'\u76F4\u63A5\u91C7\u7528\u541B\
          \u4E3B\u5E38\u7528\u540D\uFF0C\u5982\u8D75\u663A\u3002'</span>,  <span class=\"\
          hljs-comment\"># \u4EBA\u540D\u8BEF\u6740</span>\n        <span class=\"\
          hljs-string\">'\u5E7F\u4E1C\u961F\u5176\u9980\u4E09\u573A\u6BD4\u8D5B\u5747\
          \u987A\u5229\u62FF\u4E0B\u3002'</span>,\n        <span class=\"hljs-string\"\
          >'\u68C0\u67E5\u8303\u56F4\u590D\u76D6\u6240\u6709\u7684\u5728\u5EFA\u4FDD\
          \u969C\u6027\u4F4F\u623F\u9879\u76EE\u3002'</span>,\n        <span class=\"\
          hljs-string\">'\u7985\u7CBE\u7AED\u8651'</span>,\n        <span class=\"\
          hljs-string\">'\u4F60\u627E\u5230\u4F60\u6700\u559C\u6B22\u7684\u5DE5\u4F5C\
          \uFF0C\u6211\u4E5F\u5F88\u9AD8\u5FC3\u3002'</span>,\n        <span class=\"\
          hljs-string\">'\u4ECA\u5929\u65B0\u60C5\u5F88\u597D'</span>,\n        ]\n\
          \    params = {\n              <span class=\"hljs-string\">\"max_length\"\
          </span>: <span class=\"hljs-number\">128</span>,\n              <span class=\"\
          hljs-string\">\"batch_size\"</span>: <span class=\"hljs-number\">32</span>,\n\
          \              <span class=\"hljs-string\">\"threshold\"</span>: <span class=\"\
          hljs-number\">0.7</span>,\n              <span class=\"hljs-string\">\"\
          silent\"</span>: <span class=\"hljs-literal\">True</span>\n            \
          \  }\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\"\
          >\"#\"</span>*<span class=\"hljs-number\">128</span>)\n    <span class=\"\
          hljs-keyword\">for</span> texts_i <span class=\"hljs-keyword\">in</span>\
          \ texts:\n        texts_i_predict = model_macbert.correct(texts_i, **params)\n\
          \        <span class=\"hljs-built_in\">print</span>(texts_i_predict)\n</code></pre>\n"
        raw: "{'source': '\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\
          \u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5\
          ', 'target': '\u673A\u5668\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\
          \u57DF\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5\
          ', 'errors': [('\u4E03', '\u5668', 1), ('\u9047', '\u57DF', 10)]}\r\n{'source':\
          \ '\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\u7684\u6CB3\u9762\
          \u4E0A', 'target': '\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\
          \u7684\u6CB3\u9762\u4E0A', 'errors': []}\r\n{'source': '\u4ED6\u7684\u8BED\
          \u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\u4E5F\u4E0D\u9519', 'target':\
          \ '\u4ED6\u7684\u8BED\u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\u4E5F\u4E0D\
          \u9519', 'errors': []}\r\n\r\n\u4EE3\u7801\uFF1A\r\n```python\r\n    model_name_or_path\
          \ = \"shibing624/macbert4csc-base-chinese\"\r\n    model_macbert = MacBertCorrector(model_name_or_path,\
          \ device=\"cuda:0\")\r\n\r\n    texts = [\r\n        '\u771F\u9EBB\u70E6\
          \u4F60\u4E86\u3002\u5E0C\u671B\u4F60\u4EEC\u597D\u597D\u7684\u8DF3\u65E0\
          ',\r\n        '\u5C11\u5148\u961F\u5458\u56E0\u8BE5\u4E3A\u8001\u4EBA\u8BA9\
          \u5750',\r\n        '\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\
          \u9886\u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\
          \u77E5',\r\n        '\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\
          \u7684\u6CB3\u9762\u4E0A',\r\n        '\u6211\u7684\u5BB6\u4E61\u662F\u6709\
          \u660E\u7684\u6E14\u7C73\u4E4B\u4E61',\r\n        '\u5C11\u5148\u961F\u5458\
          \u56E0\u8BE5\u4E3A\u8001\u4EBA\u8BA9\u5750',\r\n        '\u673A\u4E03\u5B66\
          \u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\u9047\u6700\u80FD\u4F53\u73B0\
          \u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5',\r\n        '\u4ECA\u5929\u65B0\
          \u60C5\u5F88\u597D',\r\n        '\u8001\u662F\u8F83\u4E66\u3002',\r\n  \
          \      '\u9047\u5230\u4E00\u4F4D\u5F88\u68D2\u7684\u5974\u751F\u8DDF\u6211\
          \u804A\u5929\u3002',\r\n        '\u4ED6\u7684\u8BED\u8BF4\u7684\u5F88\u597D\
          \uFF0C\u6CD5\u8BED\u4E5F\u4E0D\u9519',\r\n        '\u4ED6\u6CD5\u8BED\u8BF4\
          \u7684\u5F88\u597D\uFF0C\u7684\u8BED\u4E5F\u4E0D\u9519',\r\n        '\u4ED6\
          \u4EEC\u7684\u5435\u7FFB\u5F88\u4E0D\u9519\uFF0C\u518D\u8BF4\u4ED6\u4EEC\
          \u505A\u7684\u5496\u55B1\u9E21\u4E5F\u597D\u5403',\r\n        '\u5F71\u50CF\
          \u5C0F\u5B69\u5B50\u60F3\u7684\u5FEB\uFF0C\u5B66\u4E60\u7BA1\u7406\u7684\
          \u6591\u6CD5',\r\n        '\u9910\u5385\u7684\u6362\u7ECF\u8D39\u4EA7\u9002\
          \u5408\u7EA6\u4F1A',\r\n        '\u8D70\u8DEF\u771F\u7684\u9EBB\u574A\uFF0C\
          \u6211\u4E5F\u6CA1\u6709\u559D\u7684\u4E1C\u897F\uFF0C\u5728\u5BB6\u6C6A\
          \u4E86',\r\n        '\u56E0\u4E3A\u7238\u7238\u5728\u770B\u5F55\u97F3\u673A\
          \uFF0C\u6240\u4EE5\u6211\u6CA1\u5F97\u770B',\r\n        '\u4E0D\u8FC7\u5728\
          \u8BB8\u591A\u4F20\u7EDF\u56FD\u5BB6\uFF0C\u5973\u4EBA\u5411\u672A\u5F97\
          \u5230\u5E73\u7B49',\r\n        '\u6211\u60F3\u559D\u5C0F\u660E\u540C\u5B66\
          \u3002',  # \u6F0F\u53EC\u56DE\r\n        '\u76F4\u63A5\u91C7\u7528\u541B\
          \u4E3B\u5E38\u7528\u540D\uFF0C\u5982\u8D75\u663A\u3002',  # \u4EBA\u540D\
          \u8BEF\u6740\r\n        '\u5E7F\u4E1C\u961F\u5176\u9980\u4E09\u573A\u6BD4\
          \u8D5B\u5747\u987A\u5229\u62FF\u4E0B\u3002',\r\n        '\u68C0\u67E5\u8303\
          \u56F4\u590D\u76D6\u6240\u6709\u7684\u5728\u5EFA\u4FDD\u969C\u6027\u4F4F\
          \u623F\u9879\u76EE\u3002',\r\n        '\u7985\u7CBE\u7AED\u8651',\r\n  \
          \      '\u4F60\u627E\u5230\u4F60\u6700\u559C\u6B22\u7684\u5DE5\u4F5C\uFF0C\
          \u6211\u4E5F\u5F88\u9AD8\u5FC3\u3002',\r\n        '\u4ECA\u5929\u65B0\u60C5\
          \u5F88\u597D',\r\n        ]\r\n    params = {\r\n              \"max_length\"\
          : 128,\r\n              \"batch_size\": 32,\r\n              \"threshold\"\
          : 0.7,\r\n              \"silent\": True\r\n              }\r\n    print(\"\
          #\"*128)\r\n    for texts_i in texts:\r\n        texts_i_predict = model_macbert.correct(texts_i,\
          \ **params)\r\n        print(texts_i_predict)\r\n```\r\n\r\n\r\n\r\n"
        updatedAt: '2023-12-22T07:41:01.863Z'
      numEdits: 0
      reactions: []
    id: 65853d8dbae0736365a9e211
    type: comment
  author: Macropodus
  content: "{'source': '\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\
    \u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5', 'target':\
    \ '\u673A\u5668\u5B66\u4E60\u662F\u4EBA\u5DE5\u667A\u80FD\u9886\u57DF\u6700\u80FD\
    \u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\u5206\u77E5', 'errors': [('\u4E03',\
    \ '\u5668', 1), ('\u9047', '\u57DF', 10)]}\r\n{'source': '\u4E00\u53EA\u5C0F\u9C7C\
    \u8239\u6D6E\u5728\u5E73\u51C0\u7684\u6CB3\u9762\u4E0A', 'target': '\u4E00\u53EA\
    \u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\u7684\u6CB3\u9762\u4E0A', 'errors':\
    \ []}\r\n{'source': '\u4ED6\u7684\u8BED\u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\
    \u4E5F\u4E0D\u9519', 'target': '\u4ED6\u7684\u8BED\u8BF4\u7684\u5F88\u597D\uFF0C\
    \u6CD5\u8BED\u4E5F\u4E0D\u9519', 'errors': []}\r\n\r\n\u4EE3\u7801\uFF1A\r\n```python\r\
    \n    model_name_or_path = \"shibing624/macbert4csc-base-chinese\"\r\n    model_macbert\
    \ = MacBertCorrector(model_name_or_path, device=\"cuda:0\")\r\n\r\n    texts =\
    \ [\r\n        '\u771F\u9EBB\u70E6\u4F60\u4E86\u3002\u5E0C\u671B\u4F60\u4EEC\u597D\
    \u597D\u7684\u8DF3\u65E0',\r\n        '\u5C11\u5148\u961F\u5458\u56E0\u8BE5\u4E3A\
    \u8001\u4EBA\u8BA9\u5750',\r\n        '\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\u5DE5\
    \u667A\u80FD\u9886\u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\u4E2A\
    \u5206\u77E5',\r\n        '\u4E00\u53EA\u5C0F\u9C7C\u8239\u6D6E\u5728\u5E73\u51C0\
    \u7684\u6CB3\u9762\u4E0A',\r\n        '\u6211\u7684\u5BB6\u4E61\u662F\u6709\u660E\
    \u7684\u6E14\u7C73\u4E4B\u4E61',\r\n        '\u5C11\u5148\u961F\u5458\u56E0\u8BE5\
    \u4E3A\u8001\u4EBA\u8BA9\u5750',\r\n        '\u673A\u4E03\u5B66\u4E60\u662F\u4EBA\
    \u5DE5\u667A\u80FD\u9886\u9047\u6700\u80FD\u4F53\u73B0\u667A\u80FD\u7684\u4E00\
    \u4E2A\u5206\u77E5',\r\n        '\u4ECA\u5929\u65B0\u60C5\u5F88\u597D',\r\n  \
    \      '\u8001\u662F\u8F83\u4E66\u3002',\r\n        '\u9047\u5230\u4E00\u4F4D\u5F88\
    \u68D2\u7684\u5974\u751F\u8DDF\u6211\u804A\u5929\u3002',\r\n        '\u4ED6\u7684\
    \u8BED\u8BF4\u7684\u5F88\u597D\uFF0C\u6CD5\u8BED\u4E5F\u4E0D\u9519',\r\n     \
    \   '\u4ED6\u6CD5\u8BED\u8BF4\u7684\u5F88\u597D\uFF0C\u7684\u8BED\u4E5F\u4E0D\u9519\
    ',\r\n        '\u4ED6\u4EEC\u7684\u5435\u7FFB\u5F88\u4E0D\u9519\uFF0C\u518D\u8BF4\
    \u4ED6\u4EEC\u505A\u7684\u5496\u55B1\u9E21\u4E5F\u597D\u5403',\r\n        '\u5F71\
    \u50CF\u5C0F\u5B69\u5B50\u60F3\u7684\u5FEB\uFF0C\u5B66\u4E60\u7BA1\u7406\u7684\
    \u6591\u6CD5',\r\n        '\u9910\u5385\u7684\u6362\u7ECF\u8D39\u4EA7\u9002\u5408\
    \u7EA6\u4F1A',\r\n        '\u8D70\u8DEF\u771F\u7684\u9EBB\u574A\uFF0C\u6211\u4E5F\
    \u6CA1\u6709\u559D\u7684\u4E1C\u897F\uFF0C\u5728\u5BB6\u6C6A\u4E86',\r\n     \
    \   '\u56E0\u4E3A\u7238\u7238\u5728\u770B\u5F55\u97F3\u673A\uFF0C\u6240\u4EE5\u6211\
    \u6CA1\u5F97\u770B',\r\n        '\u4E0D\u8FC7\u5728\u8BB8\u591A\u4F20\u7EDF\u56FD\
    \u5BB6\uFF0C\u5973\u4EBA\u5411\u672A\u5F97\u5230\u5E73\u7B49',\r\n        '\u6211\
    \u60F3\u559D\u5C0F\u660E\u540C\u5B66\u3002',  # \u6F0F\u53EC\u56DE\r\n       \
    \ '\u76F4\u63A5\u91C7\u7528\u541B\u4E3B\u5E38\u7528\u540D\uFF0C\u5982\u8D75\u663A\
    \u3002',  # \u4EBA\u540D\u8BEF\u6740\r\n        '\u5E7F\u4E1C\u961F\u5176\u9980\
    \u4E09\u573A\u6BD4\u8D5B\u5747\u987A\u5229\u62FF\u4E0B\u3002',\r\n        '\u68C0\
    \u67E5\u8303\u56F4\u590D\u76D6\u6240\u6709\u7684\u5728\u5EFA\u4FDD\u969C\u6027\
    \u4F4F\u623F\u9879\u76EE\u3002',\r\n        '\u7985\u7CBE\u7AED\u8651',\r\n  \
    \      '\u4F60\u627E\u5230\u4F60\u6700\u559C\u6B22\u7684\u5DE5\u4F5C\uFF0C\u6211\
    \u4E5F\u5F88\u9AD8\u5FC3\u3002',\r\n        '\u4ECA\u5929\u65B0\u60C5\u5F88\u597D\
    ',\r\n        ]\r\n    params = {\r\n              \"max_length\": 128,\r\n  \
    \            \"batch_size\": 32,\r\n              \"threshold\": 0.7,\r\n    \
    \          \"silent\": True\r\n              }\r\n    print(\"#\"*128)\r\n   \
    \ for texts_i in texts:\r\n        texts_i_predict = model_macbert.correct(texts_i,\
    \ **params)\r\n        print(texts_i_predict)\r\n```\r\n\r\n\r\n\r\n"
  created_at: 2023-12-22 07:41:01+00:00
  edited: false
  hidden: false
  id: 65853d8dbae0736365a9e211
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 8
repo_id: shibing624/macbert4csc-base-chinese
repo_type: model
status: open
target_branch: null
title: "\u597D\u50CF\u8FD9\u4E2A\u7248\u672C1.0.0\u540E\u6709\u7684demo\u6837\u4F8B\
  \u65E0\u6CD5\u53EC\u56DE\u4E86, macbert4csc-base-chinese"
