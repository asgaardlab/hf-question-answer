!!python/object:huggingface_hub.community.DiscussionWithDetails
author: skirres
conflicting_files: null
created_at: 2023-09-27 11:09:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/54f5b9f624ac4d098101b15d9d18cb68.svg
      fullname: Steffen Kirres
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: skirres
      type: user
    createdAt: '2023-09-27T12:09:49.000Z'
    data:
      edited: false
      editors:
      - skirres
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8198009133338928
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/54f5b9f624ac4d098101b15d9d18cb68.svg
          fullname: Steffen Kirres
          isHf: false
          isPro: false
          name: skirres
          type: user
        html: "<p>First of all, thanks for the nice work and sharing your model and\
          \ results \U0001F917</p>\n<p>In the model card you mention the normalization\
          \ of outputs, but in your repository I stumbled upon <a rel=\"nofollow\"\
          \ href=\"https://github.com/FlagOpen/FlagEmbedding/blob/master/C_MTEB/eval_MTEB.py#L30\"\
          >this line</a>. I got two questions:</p>\n<ol>\n<li>Did you normalize the\
          \ vectors for the retrieval tasks?</li>\n<li>And (also for the retrieval\
          \ tasks) did you report the results of the <code>dot</code> or the <code>l2</code>\
          \ metric in the model card?</li>\n</ol>\n<p>And just a tiny remark, if you\
          \ always want to use normalization, you could consider specifying it in\
          \ the configuration like for <a href=\"https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/blob/main/modules.json#L14-L19\"\
          >this model</a>.</p>\n"
        raw: "First of all, thanks for the nice work and sharing your model and results\
          \ \U0001F917\r\n\r\nIn the model card you mention the normalization of outputs,\
          \ but in your repository I stumbled upon [this line](https://github.com/FlagOpen/FlagEmbedding/blob/master/C_MTEB/eval_MTEB.py#L30).\
          \ I got two questions:\r\n1. Did you normalize the vectors for the retrieval\
          \ tasks?\r\n2. And (also for the retrieval tasks) did you report the results\
          \ of the `dot` or the `l2` metric in the model card?\r\n\r\nAnd just a tiny\
          \ remark, if you always want to use normalization, you could consider specifying\
          \ it in the configuration like for [this model](https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/blob/main/modules.json#L14-L19)."
        updatedAt: '2023-09-27T12:09:49.097Z'
      numEdits: 0
      reactions: []
    id: 65141b8dda938abe2dd0d873
    type: comment
  author: skirres
  content: "First of all, thanks for the nice work and sharing your model and results\
    \ \U0001F917\r\n\r\nIn the model card you mention the normalization of outputs,\
    \ but in your repository I stumbled upon [this line](https://github.com/FlagOpen/FlagEmbedding/blob/master/C_MTEB/eval_MTEB.py#L30).\
    \ I got two questions:\r\n1. Did you normalize the vectors for the retrieval tasks?\r\
    \n2. And (also for the retrieval tasks) did you report the results of the `dot`\
    \ or the `l2` metric in the model card?\r\n\r\nAnd just a tiny remark, if you\
    \ always want to use normalization, you could consider specifying it in the configuration\
    \ like for [this model](https://huggingface.co/sentence-transformers/all-MiniLM-L6-v2/blob/main/modules.json#L14-L19)."
  created_at: 2023-09-27 11:09:49+00:00
  edited: false
  hidden: false
  id: 65141b8dda938abe2dd0d873
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
      fullname: Xiao
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Shitao
      type: user
    createdAt: '2023-09-27T13:01:19.000Z'
    data:
      edited: false
      editors:
      - Shitao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7816355228424072
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
          fullname: Xiao
          isHf: false
          isPro: false
          name: Shitao
          type: user
        html: "<p>Hi, </p>\n<ol>\n<li>The default similarity for the retrieval task\
          \ is cosine. So whether normalizing the embedding doesn't influence the\
          \ results. This command only impacts the clustering and classification task.</li>\n\
          <li>No. We compute the cosine similarity to retrieve relevant passages.<br>Thanks\
          \ for your advice!\U0001F917  We will consider to update the configuration.</li>\n\
          </ol>\n"
        raw: "Hi, \n1. The default similarity for the retrieval task is cosine. So\
          \ whether normalizing the embedding doesn't influence the results. This\
          \ command only impacts the clustering and classification task.\n2. No. We\
          \ compute the cosine similarity to retrieve relevant passages.\nThanks for\
          \ your advice!\U0001F917  We will consider to update the configuration."
        updatedAt: '2023-09-27T13:01:19.467Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - skirres
    id: 6514279f61c0bbc2b2db429e
    type: comment
  author: Shitao
  content: "Hi, \n1. The default similarity for the retrieval task is cosine. So whether\
    \ normalizing the embedding doesn't influence the results. This command only impacts\
    \ the clustering and classification task.\n2. No. We compute the cosine similarity\
    \ to retrieve relevant passages.\nThanks for your advice!\U0001F917  We will consider\
    \ to update the configuration."
  created_at: 2023-09-27 12:01:19+00:00
  edited: false
  hidden: false
  id: 6514279f61c0bbc2b2db429e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
      fullname: Xiao
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Shitao
      type: user
    createdAt: '2023-09-27T17:22:41.000Z'
    data:
      edited: false
      editors:
      - Shitao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9163596630096436
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
          fullname: Xiao
          isHf: false
          isPro: false
          name: Shitao
          type: user
        html: '<p>We have updated the configuration. Thanks for your solution again!</p>

          '
        raw: We have updated the configuration. Thanks for your solution again!
        updatedAt: '2023-09-27T17:22:41.678Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F917"
        users:
        - skirres
        - muhtasham
        - basilevc
    id: 651464e18a54b060b65b495a
    type: comment
  author: Shitao
  content: We have updated the configuration. Thanks for your solution again!
  created_at: 2023-09-27 16:22:41+00:00
  edited: false
  hidden: false
  id: 651464e18a54b060b65b495a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: BAAI/bge-base-en-v1.5
repo_type: model
status: open
target_branch: null
title: Normalization of outputs
