!!python/object:huggingface_hub.community.DiscussionWithDetails
author: mdk25
conflicting_files: null
created_at: 2023-03-09 14:55:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4b8503721eca28448ce26227b47d4861.svg
      fullname: Mike de Kok
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mdk25
      type: user
    createdAt: '2023-03-09T14:55:49.000Z'
    data:
      edited: false
      editors:
      - mdk25
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4b8503721eca28448ce26227b47d4861.svg
          fullname: Mike de Kok
          isHf: false
          isPro: false
          name: mdk25
          type: user
        html: '<p>Hi!</p>

          <p>I am trying to figure out how to finetune this model on some custom data
          that I have, with some new relations. However it is still not very clear
          to me on how to accomplish this. Is there any code or information available
          on how to do this?</p>

          <p>Thanks.</p>

          '
        raw: "Hi!\r\n\r\nI am trying to figure out how to finetune this model on some\
          \ custom data that I have, with some new relations. However it is still\
          \ not very clear to me on how to accomplish this. Is there any code or information\
          \ available on how to do this?\r\n\r\nThanks."
        updatedAt: '2023-03-09T14:55:49.416Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - GonzalitoHJ
        - TrajanovRisto
    id: 6409f3759989bcb11721dabe
    type: comment
  author: mdk25
  content: "Hi!\r\n\r\nI am trying to figure out how to finetune this model on some\
    \ custom data that I have, with some new relations. However it is still not very\
    \ clear to me on how to accomplish this. Is there any code or information available\
    \ on how to do this?\r\n\r\nThanks."
  created_at: 2023-03-09 14:55:49+00:00
  edited: false
  hidden: false
  id: 6409f3759989bcb11721dabe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5f04e7545d08220171a0ad3e/M0dWlakxnLakQlZl5iOq6.jpeg?w=200&h=200&f=face
      fullname: Pere-Lluis Huguet Cabot
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: PereLluis13
      type: user
    createdAt: '2023-03-14T10:35:49.000Z'
    data:
      edited: false
      editors:
      - PereLluis13
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5f04e7545d08220171a0ad3e/M0dWlakxnLakQlZl5iOq6.jpeg?w=200&h=200&f=face
          fullname: Pere-Lluis Huguet Cabot
          isHf: false
          isPro: false
          name: PereLluis13
          type: user
        html: '<p>Hi there! Thanks for your interest in training REBEL.</p>

          <p>There are many ways you can do so, you could just build your own dataset
          in the same format as REBEL, ie:</p>

          <p>Input_text: "Lorem ipsum"<br>output_text: " Lorem  ipsum  relation name"</p>

          <p>I suggest reading the paper to understand how linearization works but
          it is fairly easy once understood. You can also take a look at the repo
          where there are examples on how to create a HF dataset for commonly used
          RE datasets (<a rel="nofollow" href="https://github.com/Babelscape/rebel/tree/main/datasets">https://github.com/Babelscape/rebel/tree/main/datasets</a>).
          </p>

          <p>Then to train the system you can use your preferred method. In the <a
          rel="nofollow" href="https://github.com/Babelscape/rebel">repo</a> you will
          find a pytorch lightning setup, albeit it may be a bit outdated at this
          point. You can use HF trainer or any other seq2seq training setup and make
          sure to finetune on top of "Babelscape/rebel-large" instead of let''s say
          "facebook/bart-large". Make sure to follow the same input/output format
          as in REBEL and it should work. Of course, the more "similar" your relation
          types are to the ones seen at pretraining, the better it will work. </p>

          <p>Be aware of issues such as catastrophic forgetting, ie. the model will
          learn to generate triplets with your new relations but will forget about
          the ones it currently generates unless you also provide them at finetuning
          time.</p>

          <p>Best of luck,<br>Pere-Lluis.</p>

          '
        raw: "Hi there! Thanks for your interest in training REBEL.\n\nThere are many\
          \ ways you can do so, you could just build your own dataset in the same\
          \ format as REBEL, ie:\n\nInput_text: \"Lorem ipsum\"\noutput_text: \"<triplet>\
          \ Lorem <subj> ipsum <obj> relation name\"\n\nI suggest reading the paper\
          \ to understand how linearization works but it is fairly easy once understood.\
          \ You can also take a look at the repo where there are examples on how to\
          \ create a HF dataset for commonly used RE datasets (https://github.com/Babelscape/rebel/tree/main/datasets).\
          \ \n\nThen to train the system you can use your preferred method. In the\
          \ [repo](https://github.com/Babelscape/rebel) you will find a pytorch lightning\
          \ setup, albeit it may be a bit outdated at this point. You can use HF trainer\
          \ or any other seq2seq training setup and make sure to finetune on top of\
          \ \"Babelscape/rebel-large\" instead of let's say \"facebook/bart-large\"\
          . Make sure to follow the same input/output format as in REBEL and it should\
          \ work. Of course, the more \"similar\" your relation types are to the ones\
          \ seen at pretraining, the better it will work. \n\nBe aware of issues such\
          \ as catastrophic forgetting, ie. the model will learn to generate triplets\
          \ with your new relations but will forget about the ones it currently generates\
          \ unless you also provide them at finetuning time.\n\nBest of luck,\nPere-Lluis."
        updatedAt: '2023-03-14T10:35:49.940Z'
      numEdits: 0
      reactions: []
    id: 64104e0523d67a9db23d61b2
    type: comment
  author: PereLluis13
  content: "Hi there! Thanks for your interest in training REBEL.\n\nThere are many\
    \ ways you can do so, you could just build your own dataset in the same format\
    \ as REBEL, ie:\n\nInput_text: \"Lorem ipsum\"\noutput_text: \"<triplet> Lorem\
    \ <subj> ipsum <obj> relation name\"\n\nI suggest reading the paper to understand\
    \ how linearization works but it is fairly easy once understood. You can also\
    \ take a look at the repo where there are examples on how to create a HF dataset\
    \ for commonly used RE datasets (https://github.com/Babelscape/rebel/tree/main/datasets).\
    \ \n\nThen to train the system you can use your preferred method. In the [repo](https://github.com/Babelscape/rebel)\
    \ you will find a pytorch lightning setup, albeit it may be a bit outdated at\
    \ this point. You can use HF trainer or any other seq2seq training setup and make\
    \ sure to finetune on top of \"Babelscape/rebel-large\" instead of let's say \"\
    facebook/bart-large\". Make sure to follow the same input/output format as in\
    \ REBEL and it should work. Of course, the more \"similar\" your relation types\
    \ are to the ones seen at pretraining, the better it will work. \n\nBe aware of\
    \ issues such as catastrophic forgetting, ie. the model will learn to generate\
    \ triplets with your new relations but will forget about the ones it currently\
    \ generates unless you also provide them at finetuning time.\n\nBest of luck,\n\
    Pere-Lluis."
  created_at: 2023-03-14 09:35:49+00:00
  edited: false
  hidden: false
  id: 64104e0523d67a9db23d61b2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5f04e7545d08220171a0ad3e/M0dWlakxnLakQlZl5iOq6.jpeg?w=200&h=200&f=face
      fullname: Pere-Lluis Huguet Cabot
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: PereLluis13
      type: user
    createdAt: '2023-07-27T09:16:39.000Z'
    data:
      status: closed
    id: 64c235f78eaab3b6286ea391
    type: status-change
  author: PereLluis13
  created_at: 2023-07-27 08:16:39+00:00
  id: 64c235f78eaab3b6286ea391
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: Babelscape/rebel-large
repo_type: model
status: closed
target_branch: null
title: Finetuning on custom dataset
