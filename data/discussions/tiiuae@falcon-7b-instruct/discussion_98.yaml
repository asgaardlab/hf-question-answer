!!python/object:huggingface_hub.community.DiscussionWithDetails
author: olsi8
conflicting_files: null
created_at: 2023-11-03 22:42:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/37f291a087e5060fead46b1daa373565.svg
      fullname: Olsi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: olsi8
      type: user
    createdAt: '2023-11-03T23:42:28.000Z'
    data:
      edited: true
      editors:
      - olsi8
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7966358065605164
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/37f291a087e5060fead46b1daa373565.svg
          fullname: Olsi
          isHf: false
          isPro: false
          name: olsi8
          type: user
        html: '<p>So I am trying to do a QA app for a document and when I try to do
          this with<br><code>qa = RetrievalQA.from_chain_type(llm=llm, chain_type="stuff",
          retriever=docsearch.as_retriever())</code><br><code>response = qa.run(query)</code></p>

          <p>When the llm is falcon-7b it responds in short(not complete response)
          and weird ways.</p>

          <p><code>falcon_llm = HuggingFaceHub(repo_id="tiiuae/falcon-7b-instruct",
          model_kwargs={"temperature": 0.5, "max_length": 4000})</code></p>

          <p>Here is a sample</p>

          <p>OPEN AI: The best way to clean a DPF (Diesel Particulate Filter) is to
          use a commercially available DPF cleaning solution. This should be applied
          to the filter and left to soak for a few hours before being rinsed off with
          water. The filter should then be dried and reinstalled in the vehicle.</p>

          <p>FALCON: Yes No Your Answer Add your own answer! Your email address will
          not be</p>

          '
        raw: 'So I am trying to do a QA app for a document and when I try to do this
          with

          ```qa = RetrievalQA.from_chain_type(llm=llm, chain_type="stuff", retriever=docsearch.as_retriever())```

          ```response = qa.run(query)```


          When the llm is falcon-7b it responds in short(not complete response) and
          weird ways.


          ```falcon_llm = HuggingFaceHub(repo_id="tiiuae/falcon-7b-instruct",

          model_kwargs={"temperature": 0.5, "max_length": 4000})```



          Here is a sample


          OPEN AI: The best way to clean a DPF (Diesel Particulate Filter) is to use
          a commercially available DPF cleaning solution. This should be applied to
          the filter and left to soak for a few hours before being rinsed off with
          water. The filter should then be dried and reinstalled in the vehicle.


          FALCON: Yes No Your Answer Add your own answer! Your email address will
          not be'
        updatedAt: '2023-11-03T23:43:46.784Z'
      numEdits: 1
      reactions: []
    id: 654585648db75bfe5d2b92e3
    type: comment
  author: olsi8
  content: 'So I am trying to do a QA app for a document and when I try to do this
    with

    ```qa = RetrievalQA.from_chain_type(llm=llm, chain_type="stuff", retriever=docsearch.as_retriever())```

    ```response = qa.run(query)```


    When the llm is falcon-7b it responds in short(not complete response) and weird
    ways.


    ```falcon_llm = HuggingFaceHub(repo_id="tiiuae/falcon-7b-instruct",

    model_kwargs={"temperature": 0.5, "max_length": 4000})```



    Here is a sample


    OPEN AI: The best way to clean a DPF (Diesel Particulate Filter) is to use a commercially
    available DPF cleaning solution. This should be applied to the filter and left
    to soak for a few hours before being rinsed off with water. The filter should
    then be dried and reinstalled in the vehicle.


    FALCON: Yes No Your Answer Add your own answer! Your email address will not be'
  created_at: 2023-11-03 22:42:28+00:00
  edited: true
  hidden: false
  id: 654585648db75bfe5d2b92e3
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 98
repo_id: tiiuae/falcon-7b-instruct
repo_type: model
status: open
target_branch: null
title: falcon-7b-instruct responds with weird and short answers ?
