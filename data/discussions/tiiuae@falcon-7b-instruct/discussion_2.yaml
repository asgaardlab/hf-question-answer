!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Imran1
conflicting_files: null
created_at: 2023-05-26 16:08:46+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62846faa99bff5076f0a93b4/oTEr0Ns7Kmez7CzvcQEtL.jpeg?w=200&h=200&f=face
      fullname: Imran ullah
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Imran1
      type: user
    createdAt: '2023-05-26T17:08:46.000Z'
    data:
      edited: false
      editors:
      - Imran1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62846faa99bff5076f0a93b4/oTEr0Ns7Kmez7CzvcQEtL.jpeg?w=200&h=200&f=face
          fullname: Imran ullah
          isHf: false
          isPro: false
          name: Imran1
          type: user
        html: '<p>i fine tune the model using peft but when i load the model for inference
          so they give me the following error.</p>

          <p>ValueError: The following <code>model_kwargs</code> are not used by the
          model: [''token_type_ids''] (note: typos in the generate<br>arguments will
          also show up in this list)</p>

          '
        raw: "i fine tune the model using peft but when i load the model for inference\
          \ so they give me the following error.\r\n\r\nValueError: The following\
          \ `model_kwargs` are not used by the model: ['token_type_ids'] (note: typos\
          \ in the generate\r\narguments will also show up in this list)"
        updatedAt: '2023-05-26T17:08:46.018Z'
      numEdits: 0
      reactions: []
    id: 6470e79e3601bb7b0667f7e6
    type: comment
  author: Imran1
  content: "i fine tune the model using peft but when i load the model for inference\
    \ so they give me the following error.\r\n\r\nValueError: The following `model_kwargs`\
    \ are not used by the model: ['token_type_ids'] (note: typos in the generate\r\
    \narguments will also show up in this list)"
  created_at: 2023-05-26 16:08:46+00:00
  edited: false
  hidden: false
  id: 6470e79e3601bb7b0667f7e6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62afc20ca5bd7cef3e1ab3f4/h1cNaEshcUDc-XrycEp6o.jpeg?w=200&h=200&f=face
      fullname: Daniel Furman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dfurman
      type: user
    createdAt: '2023-05-27T20:11:34.000Z'
    data:
      edited: false
      editors:
      - dfurman
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62afc20ca5bd7cef3e1ab3f4/h1cNaEshcUDc-XrycEp6o.jpeg?w=200&h=200&f=face
          fullname: Daniel Furman
          isHf: false
          isPro: false
          name: dfurman
          type: user
        html: '<p>I got the same error</p>

          '
        raw: I got the same error
        updatedAt: '2023-05-27T20:11:34.162Z'
      numEdits: 0
      reactions: []
    id: 647263f6c27f74a0eba9c5b6
    type: comment
  author: dfurman
  content: I got the same error
  created_at: 2023-05-27 19:11:34+00:00
  edited: false
  hidden: false
  id: 647263f6c27f74a0eba9c5b6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62846faa99bff5076f0a93b4/oTEr0Ns7Kmez7CzvcQEtL.jpeg?w=200&h=200&f=face
      fullname: Imran ullah
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Imran1
      type: user
    createdAt: '2023-05-28T00:43:24.000Z'
    data:
      edited: false
      editors:
      - Imran1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62846faa99bff5076f0a93b4/oTEr0Ns7Kmez7CzvcQEtL.jpeg?w=200&h=200&f=face
          fullname: Imran ullah
          isHf: false
          isPro: false
          name: Imran1
          type: user
        html: '<blockquote>

          <p>I got the same error</p>

          </blockquote>

          <p>I solve the error but the model performance are very bad. I don''t know
          why every model show this type of behavior.</p>

          '
        raw: '> I got the same error


          I solve the error but the model performance are very bad. I don''t know
          why every model show this type of behavior.'
        updatedAt: '2023-05-28T00:43:24.395Z'
      numEdits: 0
      reactions: []
    id: 6472a3ac0211f852700ef45e
    type: comment
  author: Imran1
  content: '> I got the same error


    I solve the error but the model performance are very bad. I don''t know why every
    model show this type of behavior.'
  created_at: 2023-05-27 23:43:24+00:00
  edited: false
  hidden: false
  id: 6472a3ac0211f852700ef45e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0eea8c6d2551080578bdd4765efba7c.svg
      fullname: "\u65BD\u6CD3\u4E1E"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Roy-Shih
      type: user
    createdAt: '2023-05-31T19:08:34.000Z'
    data:
      edited: false
      editors:
      - Roy-Shih
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0eea8c6d2551080578bdd4765efba7c.svg
          fullname: "\u65BD\u6CD3\u4E1E"
          isHf: false
          isPro: false
          name: Roy-Shih
          type: user
        html: '<p>Set ''return_token_type_ids=False'' in tokenizer()</p>

          '
        raw: Set 'return_token_type_ids=False' in tokenizer()
        updatedAt: '2023-05-31T19:08:34.846Z'
      numEdits: 0
      reactions:
      - count: 5
        reaction: "\U0001F44D"
        users:
        - froggoboom
        - a749734
        - ottonemo
        - FalconLLM
        - arunlokanatha
    id: 64779b32f911e9e76c67d945
    type: comment
  author: Roy-Shih
  content: Set 'return_token_type_ids=False' in tokenizer()
  created_at: 2023-05-31 18:08:34+00:00
  edited: false
  hidden: false
  id: 64779b32f911e9e76c67d945
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/47027e81ee911c00600332429c33252d.svg
      fullname: Marian Tietz
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ottonemo
      type: user
    createdAt: '2023-06-08T16:14:06.000Z'
    data:
      edited: false
      editors:
      - ottonemo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.534822404384613
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/47027e81ee911c00600332429c33252d.svg
          fullname: Marian Tietz
          isHf: false
          isPro: false
          name: ottonemo
          type: user
        html: "<p>If you, for some reason, don't have control over the <code>generate</code>-call\
          \ but are able to pass down or modify the tokenizer, you can patch <code>_call_one</code>\
          \ on the tokenizer:</p>\n<pre><code class=\"language-python\"><span class=\"\
          hljs-keyword\">from</span> functools <span class=\"hljs-keyword\">import</span>\
          \ wraps\n\norg_call_one = tokenizer._call_one\n\n<span class=\"hljs-meta\"\
          ><span data-props=\"{&quot;user&quot;:&quot;wraps&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/wraps\">@<span class=\"\
          underline\">wraps</span></a></span>\n\n\t</span></span>(<span class=\"hljs-params\"\
          >org_call_one</span>)</span>\n<span class=\"hljs-keyword\">def</span> <span\
          \ class=\"hljs-title function_\">_call_one_wrapped</span>(<span class=\"\
          hljs-params\">*x, **y</span>):\n    y[<span class=\"hljs-string\">'return_token_type_ids'</span>]\
          \ = <span class=\"hljs-literal\">False</span>\n    <span class=\"hljs-keyword\"\
          >return</span> org_call_one(*x, **y)\n\ntokenizer._call_one = _call_one_wrapped\n\
          </code></pre>\n<p>This forces the tokenizer to never return token type ids.</p>\n"
        raw: "If you, for some reason, don't have control over the `generate`-call\
          \ but are able to pass down or modify the tokenizer, you can patch `_call_one`\
          \ on the tokenizer:\n\n```python\nfrom functools import wraps\n\norg_call_one\
          \ = tokenizer._call_one\n\n@wraps(org_call_one)\ndef _call_one_wrapped(*x,\
          \ **y):\n    y['return_token_type_ids'] = False\n    return org_call_one(*x,\
          \ **y)\n\ntokenizer._call_one = _call_one_wrapped\n```\n\nThis forces the\
          \ tokenizer to never return token type ids."
        updatedAt: '2023-06-08T16:14:06.505Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\u2764\uFE0F"
        users:
        - medmac01
        - DijkstraZ
    id: 6481fe4e9135a74ca541b310
    type: comment
  author: ottonemo
  content: "If you, for some reason, don't have control over the `generate`-call but\
    \ are able to pass down or modify the tokenizer, you can patch `_call_one` on\
    \ the tokenizer:\n\n```python\nfrom functools import wraps\n\norg_call_one = tokenizer._call_one\n\
    \n@wraps(org_call_one)\ndef _call_one_wrapped(*x, **y):\n    y['return_token_type_ids']\
    \ = False\n    return org_call_one(*x, **y)\n\ntokenizer._call_one = _call_one_wrapped\n\
    ```\n\nThis forces the tokenizer to never return token type ids."
  created_at: 2023-06-08 15:14:06+00:00
  edited: false
  hidden: false
  id: 6481fe4e9135a74ca541b310
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6471c2c76facfb01d8ac3278/ii7e_5o4jBoK3pS8WMaWK.png?w=200&h=200&f=face
      fullname: Falcon LLM TII UAE
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: FalconLLM
      type: user
    createdAt: '2023-06-09T14:15:37.000Z'
    data:
      status: closed
    id: 648334090b2cd6f14c6cd7ae
    type: status-change
  author: FalconLLM
  created_at: 2023-06-09 13:15:37+00:00
  id: 648334090b2cd6f14c6cd7ae
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: tiiuae/falcon-7b-instruct
repo_type: model
status: closed
target_branch: null
title: 'ValueError: The following `model_kwargs` are not used by the model: [''token_type_ids'']
  (note: typos in the generate arguments will also show up in this list)'
