!!python/object:huggingface_hub.community.DiscussionWithDetails
author: sam-ezai
conflicting_files: null
created_at: 2023-05-25 06:16:29+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cb54ca075c6a2fabb94bec989795f501.svg
      fullname: Sam Tsao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sam-ezai
      type: user
    createdAt: '2023-05-25T07:16:29.000Z'
    data:
      edited: false
      editors:
      - sam-ezai
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cb54ca075c6a2fabb94bec989795f501.svg
          fullname: Sam Tsao
          isHf: false
          isPro: false
          name: sam-ezai
          type: user
        html: "<p>\u4F60\u597D\uFF0C</p>\n<p>\u6211\u5617\u8A66\u904E\u5E7E\u6B21\u900F\
          \u904E HuggingFace \u63D0\u4F9B\u7684\u8A13\u7DF4\u8173\u672C\u786C\u52F8\
          \uFF0C\u6216\u662F\u7C21\u55AE\u7684\u79FB\u9664 CommonVoice \u53F0\u7F85\
          \u6A19\u8A18\u4E26\u52A0\u7A7A\u683C\uFF0C\u52F8\u4E00\u6BB5\u6642\u9593\
          \u5F8C WER \u6216\u662F CER \u90FD\u6536\u6582\u4E0D\u8D77\u4F86\uFF0C\u5728\
          \ 80% \u5DE6\u53F3\u6E38\u79FB\u3002<br>\u767C\u73FE\u4F60\u7684\u6A21\u578B\
          \u5728\u524D\u671F\u7684 CER \u8868\u73FE\u5C31\u5F88\u4E0D\u932F\uFF0C\u60F3\
          \u8ACB\u554F\u662F\u5982\u4F55\u8A13\u7DF4\u7684\uFF1F\u6BD4\u5982\u8AAA\
          \u662F\u5426\u6709\u8ABF\u6574\u904E Tokenizer\uFF0C\u8D85\u53C3\u6578\u6216\
          \u6709\u5176\u4ED6\u53EF\u4EE5\u6CE8\u610F\u7684\u5730\u65B9\uFF1F</p>\n\
          <p>\u8B1D\u8B1D</p>\n"
        raw: "\u4F60\u597D\uFF0C\r\n\r\n\u6211\u5617\u8A66\u904E\u5E7E\u6B21\u900F\
          \u904E HuggingFace \u63D0\u4F9B\u7684\u8A13\u7DF4\u8173\u672C\u786C\u52F8\
          \uFF0C\u6216\u662F\u7C21\u55AE\u7684\u79FB\u9664 CommonVoice \u53F0\u7F85\
          \u6A19\u8A18\u4E26\u52A0\u7A7A\u683C\uFF0C\u52F8\u4E00\u6BB5\u6642\u9593\
          \u5F8C WER \u6216\u662F CER \u90FD\u6536\u6582\u4E0D\u8D77\u4F86\uFF0C\u5728\
          \ 80% \u5DE6\u53F3\u6E38\u79FB\u3002\r\n\u767C\u73FE\u4F60\u7684\u6A21\u578B\
          \u5728\u524D\u671F\u7684 CER \u8868\u73FE\u5C31\u5F88\u4E0D\u932F\uFF0C\u60F3\
          \u8ACB\u554F\u662F\u5982\u4F55\u8A13\u7DF4\u7684\uFF1F\u6BD4\u5982\u8AAA\
          \u662F\u5426\u6709\u8ABF\u6574\u904E Tokenizer\uFF0C\u8D85\u53C3\u6578\u6216\
          \u6709\u5176\u4ED6\u53EF\u4EE5\u6CE8\u610F\u7684\u5730\u65B9\uFF1F\r\n\r\
          \n\u8B1D\u8B1D"
        updatedAt: '2023-05-25T07:16:29.077Z'
      numEdits: 0
      reactions: []
    id: 646f0b4d3dd912a539e1103c
    type: comment
  author: sam-ezai
  content: "\u4F60\u597D\uFF0C\r\n\r\n\u6211\u5617\u8A66\u904E\u5E7E\u6B21\u900F\u904E\
    \ HuggingFace \u63D0\u4F9B\u7684\u8A13\u7DF4\u8173\u672C\u786C\u52F8\uFF0C\u6216\
    \u662F\u7C21\u55AE\u7684\u79FB\u9664 CommonVoice \u53F0\u7F85\u6A19\u8A18\u4E26\
    \u52A0\u7A7A\u683C\uFF0C\u52F8\u4E00\u6BB5\u6642\u9593\u5F8C WER \u6216\u662F\
    \ CER \u90FD\u6536\u6582\u4E0D\u8D77\u4F86\uFF0C\u5728 80% \u5DE6\u53F3\u6E38\u79FB\
    \u3002\r\n\u767C\u73FE\u4F60\u7684\u6A21\u578B\u5728\u524D\u671F\u7684 CER \u8868\
    \u73FE\u5C31\u5F88\u4E0D\u932F\uFF0C\u60F3\u8ACB\u554F\u662F\u5982\u4F55\u8A13\
    \u7DF4\u7684\uFF1F\u6BD4\u5982\u8AAA\u662F\u5426\u6709\u8ABF\u6574\u904E Tokenizer\uFF0C\
    \u8D85\u53C3\u6578\u6216\u6709\u5176\u4ED6\u53EF\u4EE5\u6CE8\u610F\u7684\u5730\
    \u65B9\uFF1F\r\n\r\n\u8B1D\u8B1D"
  created_at: 2023-05-25 06:16:29+00:00
  edited: false
  hidden: false
  id: 646f0b4d3dd912a539e1103c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8092023d253c1e21348401fb82612dd9.svg
      fullname: Yueh-Che Hsieh
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: thomas0104
      type: user
    createdAt: '2023-05-26T17:28:30.000Z'
    data:
      edited: true
      editors:
      - thomas0104
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8092023d253c1e21348401fb82612dd9.svg
          fullname: Yueh-Che Hsieh
          isHf: false
          isPro: false
          name: thomas0104
          type: user
        html: "<p>\u4F60\u597D\uFF0C</p>\n<p>\u611F\u8B1D\u60A8\u4F7F\u7528\u6B64\u6A21\
          \u578B\uFF0C\u4F46\u4E5F\u5148\u8AAA\u8072\u62B1\u6B49\uFF0C\u6B63\u78BA\
          \u7387\u65B9\u9762\u7576\u6642\u56E0\u70BA\u8D95\u8457\u505A\u5BE6\u9A57\
          \uFF0C\u6C92\u6709\u4ED4\u7D30\u8655\u7406 CommonVoice \u7684\u53F0\u7F85\
          \u6A19\u8A18\uFF0C\u6240\u4EE5\u8F38\u51FA\u6642\u4ECD\u6703\u6709\u53F0\
          \u7F85\u6A19\u8A18\uFF0C\u53BB\u9664\u6389\u53F0\u7F85\u62FC\u97F3\u7684\
          \ cer \u5927\u7D04\u70BA 45% \u3002<br>\u6B64 model \u6240\u8A13\u7DF4\u7684\
          \u7A0B\u5F0F\u78BC\u70BA\u4E4B\u524D\u7684 whisper Fine-Tuning Event \u6240\
          \u63D0\u4F9B\u7684 run_speech_recognition_seq2seq_streaming.py \uFF0C \u5DF2\
          \u7D93\u4E0A\u50B3\u81F3\u6A94\u6848\u5340\u4E86\uFF0C\u8ACB\u53C3\u8003\
          \u3002</p>\n"
        raw: "\u4F60\u597D\uFF0C\n\n\u611F\u8B1D\u60A8\u4F7F\u7528\u6B64\u6A21\u578B\
          \uFF0C\u4F46\u4E5F\u5148\u8AAA\u8072\u62B1\u6B49\uFF0C\u6B63\u78BA\u7387\
          \u65B9\u9762\u7576\u6642\u56E0\u70BA\u8D95\u8457\u505A\u5BE6\u9A57\uFF0C\
          \u6C92\u6709\u4ED4\u7D30\u8655\u7406 CommonVoice \u7684\u53F0\u7F85\u6A19\
          \u8A18\uFF0C\u6240\u4EE5\u8F38\u51FA\u6642\u4ECD\u6703\u6709\u53F0\u7F85\
          \u6A19\u8A18\uFF0C\u53BB\u9664\u6389\u53F0\u7F85\u62FC\u97F3\u7684 cer \u5927\
          \u7D04\u70BA 45% \u3002\n\u6B64 model \u6240\u8A13\u7DF4\u7684\u7A0B\u5F0F\
          \u78BC\u70BA\u4E4B\u524D\u7684 whisper Fine-Tuning Event \u6240\u63D0\u4F9B\
          \u7684 run_speech_recognition_seq2seq_streaming.py \uFF0C \u5DF2\u7D93\u4E0A\
          \u50B3\u81F3\u6A94\u6848\u5340\u4E86\uFF0C\u8ACB\u53C3\u8003\u3002"
        updatedAt: '2023-05-26T17:30:00.097Z'
      numEdits: 1
      reactions: []
    id: 6470ec3e1f0e7ee7fb1f1bd3
    type: comment
  author: thomas0104
  content: "\u4F60\u597D\uFF0C\n\n\u611F\u8B1D\u60A8\u4F7F\u7528\u6B64\u6A21\u578B\
    \uFF0C\u4F46\u4E5F\u5148\u8AAA\u8072\u62B1\u6B49\uFF0C\u6B63\u78BA\u7387\u65B9\
    \u9762\u7576\u6642\u56E0\u70BA\u8D95\u8457\u505A\u5BE6\u9A57\uFF0C\u6C92\u6709\
    \u4ED4\u7D30\u8655\u7406 CommonVoice \u7684\u53F0\u7F85\u6A19\u8A18\uFF0C\u6240\
    \u4EE5\u8F38\u51FA\u6642\u4ECD\u6703\u6709\u53F0\u7F85\u6A19\u8A18\uFF0C\u53BB\
    \u9664\u6389\u53F0\u7F85\u62FC\u97F3\u7684 cer \u5927\u7D04\u70BA 45% \u3002\n\
    \u6B64 model \u6240\u8A13\u7DF4\u7684\u7A0B\u5F0F\u78BC\u70BA\u4E4B\u524D\u7684\
    \ whisper Fine-Tuning Event \u6240\u63D0\u4F9B\u7684 run_speech_recognition_seq2seq_streaming.py\
    \ \uFF0C \u5DF2\u7D93\u4E0A\u50B3\u81F3\u6A94\u6848\u5340\u4E86\uFF0C\u8ACB\u53C3\
    \u8003\u3002"
  created_at: 2023-05-26 16:28:30+00:00
  edited: true
  hidden: false
  id: 6470ec3e1f0e7ee7fb1f1bd3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cb54ca075c6a2fabb94bec989795f501.svg
      fullname: Sam Tsao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sam-ezai
      type: user
    createdAt: '2023-05-30T03:39:07.000Z'
    data:
      edited: false
      editors:
      - sam-ezai
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cb54ca075c6a2fabb94bec989795f501.svg
          fullname: Sam Tsao
          isHf: false
          isPro: false
          name: sam-ezai
          type: user
        html: "<p>\u4F60\u597D\uFF0C\u6211\u6709\u8A66\u8457\u7528 run.sh \u5728 train/eval\
          \ batch_size=8, no gradient_accum \u7684\u60C5\u6CC1\u4E0B\u8DD1\u4E86\u4E00\
          \u6B21\uFF0C\u96D6\u7136\u6548\u679C\u6BD4\u6211\u4E4B\u524D\u52F8\u7684\
          \u597D\u5F88\u591A\uFF0C\u4F46\u53BB\u9664\u53F0\u7F85\u7684 CER \u5927\u6982\
          \u53EA\u6709 79%\uFF0C\u96E2\u4F60\u7684\u7D50\u679C\u9084\u6709\u9EDE\u5DEE\
          \u8DDDXD<br>\u611F\u8B1D\u4F60\u7684\u7A0B\u5F0F\u78BC\uFF0C\u6211\u518D\
          \u8A66\u8457\u52F8\u770B\u770B\u3002</p>\n<p>\u53E6\u5916\u770B\u5230\u4F60\
          \u7684 norm_text \u51FD\u5F0F\u90E8\u5206\u6709\u5BEB\u4E00\u4E9B\u5168\u5F62\
          \u6A19\u9EDE\u904E\u6FFE\uFF0C\u9806\u624B\u63D0\u4F9B\u4E00\u4E0B\u6211\
          \u8A8D\u70BA\u883B\u5168\u9762\u7684\u65B9\u6848\u3002</p>\n<pre><code class=\"\
          language-python\"><span class=\"hljs-comment\"># https://github.com/speechio/chinese_text_normalization/blob/master/python/cn_tn.py#L67</span>\n\
          <span class=\"hljs-keyword\">import</span> string\nCN_PUNCS_STOP = <span\
          \ class=\"hljs-string\">'\uFF01\uFF1F\uFF61\u3002'</span>\nCN_PUNCS_NONSTOP\
          \ = <span class=\"hljs-string\">'\uFF02\uFF03\uFF04\uFF05\uFF06\uFF07\uFF08\
          \uFF09\uFF0A\uFF0B\uFF0C\uFF0D\uFF0F\uFF1A\uFF1B\uFF1C\uFF1D\uFF1E\uFF20\
          \uFF3B\uFF3C\uFF3D\uFF3E\uFF3F\uFF40\uFF5B\uFF5C\uFF5D\uFF5E\uFF5F\uFF60\
          \uFF62\uFF63\uFF64\u3001\u3003\u300A\u300B\u300C\u300D\u300E\u300F\u3010\
          \u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\u301C\u301D\u301E\
          \u301F\u3030\u303E\u303F\u2013\u2014\u2018\u2019\u201B\u201C\u201D\u201E\
          \u201F\u2026\u2027\uFE4F\xB7\u3008\u3009-'</span>\nCN_PUNCS = CN_PUNCS_STOP\
          \ + CN_PUNCS_NONSTOP\n\nPUNCS = CN_PUNCS + string.punctuation\nPUNCS_TRANSFORM\
          \ = <span class=\"hljs-built_in\">str</span>.maketrans(PUNCS, <span class=\"\
          hljs-string\">' '</span> * <span class=\"hljs-built_in\">len</span>(PUNCS),\
          \ <span class=\"hljs-string\">''</span>) <span class=\"hljs-comment\">#\
          \ replace</span>\n</code></pre>\n"
        raw: "\u4F60\u597D\uFF0C\u6211\u6709\u8A66\u8457\u7528 run.sh \u5728 train/eval\
          \ batch_size=8, no gradient_accum \u7684\u60C5\u6CC1\u4E0B\u8DD1\u4E86\u4E00\
          \u6B21\uFF0C\u96D6\u7136\u6548\u679C\u6BD4\u6211\u4E4B\u524D\u52F8\u7684\
          \u597D\u5F88\u591A\uFF0C\u4F46\u53BB\u9664\u53F0\u7F85\u7684 CER \u5927\u6982\
          \u53EA\u6709 79%\uFF0C\u96E2\u4F60\u7684\u7D50\u679C\u9084\u6709\u9EDE\u5DEE\
          \u8DDDXD\n\u611F\u8B1D\u4F60\u7684\u7A0B\u5F0F\u78BC\uFF0C\u6211\u518D\u8A66\
          \u8457\u52F8\u770B\u770B\u3002\n\n\u53E6\u5916\u770B\u5230\u4F60\u7684 norm_text\
          \ \u51FD\u5F0F\u90E8\u5206\u6709\u5BEB\u4E00\u4E9B\u5168\u5F62\u6A19\u9EDE\
          \u904E\u6FFE\uFF0C\u9806\u624B\u63D0\u4F9B\u4E00\u4E0B\u6211\u8A8D\u70BA\
          \u883B\u5168\u9762\u7684\u65B9\u6848\u3002\n```python\n# https://github.com/speechio/chinese_text_normalization/blob/master/python/cn_tn.py#L67\n\
          import string\nCN_PUNCS_STOP = '\uFF01\uFF1F\uFF61\u3002'\nCN_PUNCS_NONSTOP\
          \ = '\uFF02\uFF03\uFF04\uFF05\uFF06\uFF07\uFF08\uFF09\uFF0A\uFF0B\uFF0C\uFF0D\
          \uFF0F\uFF1A\uFF1B\uFF1C\uFF1D\uFF1E\uFF20\uFF3B\uFF3C\uFF3D\uFF3E\uFF3F\
          \uFF40\uFF5B\uFF5C\uFF5D\uFF5E\uFF5F\uFF60\uFF62\uFF63\uFF64\u3001\u3003\
          \u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\
          \u3018\u3019\u301A\u301B\u301C\u301D\u301E\u301F\u3030\u303E\u303F\u2013\
          \u2014\u2018\u2019\u201B\u201C\u201D\u201E\u201F\u2026\u2027\uFE4F\xB7\u3008\
          \u3009-'\nCN_PUNCS = CN_PUNCS_STOP + CN_PUNCS_NONSTOP\n\nPUNCS = CN_PUNCS\
          \ + string.punctuation\nPUNCS_TRANSFORM = str.maketrans(PUNCS, ' ' * len(PUNCS),\
          \ '') # replace\n```"
        updatedAt: '2023-05-30T03:39:07.333Z'
      numEdits: 0
      reactions: []
    id: 64756fdbd56974d0c06a2eed
    type: comment
  author: sam-ezai
  content: "\u4F60\u597D\uFF0C\u6211\u6709\u8A66\u8457\u7528 run.sh \u5728 train/eval\
    \ batch_size=8, no gradient_accum \u7684\u60C5\u6CC1\u4E0B\u8DD1\u4E86\u4E00\u6B21\
    \uFF0C\u96D6\u7136\u6548\u679C\u6BD4\u6211\u4E4B\u524D\u52F8\u7684\u597D\u5F88\
    \u591A\uFF0C\u4F46\u53BB\u9664\u53F0\u7F85\u7684 CER \u5927\u6982\u53EA\u6709\
    \ 79%\uFF0C\u96E2\u4F60\u7684\u7D50\u679C\u9084\u6709\u9EDE\u5DEE\u8DDDXD\n\u611F\
    \u8B1D\u4F60\u7684\u7A0B\u5F0F\u78BC\uFF0C\u6211\u518D\u8A66\u8457\u52F8\u770B\
    \u770B\u3002\n\n\u53E6\u5916\u770B\u5230\u4F60\u7684 norm_text \u51FD\u5F0F\u90E8\
    \u5206\u6709\u5BEB\u4E00\u4E9B\u5168\u5F62\u6A19\u9EDE\u904E\u6FFE\uFF0C\u9806\
    \u624B\u63D0\u4F9B\u4E00\u4E0B\u6211\u8A8D\u70BA\u883B\u5168\u9762\u7684\u65B9\
    \u6848\u3002\n```python\n# https://github.com/speechio/chinese_text_normalization/blob/master/python/cn_tn.py#L67\n\
    import string\nCN_PUNCS_STOP = '\uFF01\uFF1F\uFF61\u3002'\nCN_PUNCS_NONSTOP =\
    \ '\uFF02\uFF03\uFF04\uFF05\uFF06\uFF07\uFF08\uFF09\uFF0A\uFF0B\uFF0C\uFF0D\uFF0F\
    \uFF1A\uFF1B\uFF1C\uFF1D\uFF1E\uFF20\uFF3B\uFF3C\uFF3D\uFF3E\uFF3F\uFF40\uFF5B\
    \uFF5C\uFF5D\uFF5E\uFF5F\uFF60\uFF62\uFF63\uFF64\u3001\u3003\u300A\u300B\u300C\
    \u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\
    \u301C\u301D\u301E\u301F\u3030\u303E\u303F\u2013\u2014\u2018\u2019\u201B\u201C\
    \u201D\u201E\u201F\u2026\u2027\uFE4F\xB7\u3008\u3009-'\nCN_PUNCS = CN_PUNCS_STOP\
    \ + CN_PUNCS_NONSTOP\n\nPUNCS = CN_PUNCS + string.punctuation\nPUNCS_TRANSFORM\
    \ = str.maketrans(PUNCS, ' ' * len(PUNCS), '') # replace\n```"
  created_at: 2023-05-30 02:39:07+00:00
  edited: false
  hidden: false
  id: 64756fdbd56974d0c06a2eed
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8092023d253c1e21348401fb82612dd9.svg
      fullname: Yueh-Che Hsieh
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: thomas0104
      type: user
    createdAt: '2023-05-31T17:52:01.000Z'
    data:
      edited: false
      editors:
      - thomas0104
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8092023d253c1e21348401fb82612dd9.svg
          fullname: Yueh-Che Hsieh
          isHf: false
          isPro: false
          name: thomas0104
          type: user
        html: "<p>\u611F\u8B1D\u4F60\u7684\u5EFA\u8B70\uFF0C\u4E4B\u5F8C\u6709\u6642\
          \u9593\u6211\u6703\u5C07\u4F60\u7684\u5EFA\u8B70\u53C3\u8003\u9032\u6211\
          \u7684\u7A0B\u5F0F\u78BC\u5167</p>\n"
        raw: "\u611F\u8B1D\u4F60\u7684\u5EFA\u8B70\uFF0C\u4E4B\u5F8C\u6709\u6642\u9593\
          \u6211\u6703\u5C07\u4F60\u7684\u5EFA\u8B70\u53C3\u8003\u9032\u6211\u7684\
          \u7A0B\u5F0F\u78BC\u5167"
        updatedAt: '2023-05-31T17:52:01.787Z'
      numEdits: 0
      reactions: []
    id: 64778941f911e9e76c66583f
    type: comment
  author: thomas0104
  content: "\u611F\u8B1D\u4F60\u7684\u5EFA\u8B70\uFF0C\u4E4B\u5F8C\u6709\u6642\u9593\
    \u6211\u6703\u5C07\u4F60\u7684\u5EFA\u8B70\u53C3\u8003\u9032\u6211\u7684\u7A0B\
    \u5F0F\u78BC\u5167"
  created_at: 2023-05-31 16:52:01+00:00
  edited: false
  hidden: false
  id: 64778941f911e9e76c66583f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: thomas0104/whisper_medium_nan_tw
repo_type: model
status: open
target_branch: null
title: "\u8A13\u7DF4\u65B9\u6CD5\u8207\u524D\u8655\u7406\u7D30\u7BC0\u8A62\u554F"
