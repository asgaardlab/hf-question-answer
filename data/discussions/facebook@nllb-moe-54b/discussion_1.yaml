!!python/object:huggingface_hub.community.DiscussionWithDetails
author: MR-7
conflicting_files: null
created_at: 2023-03-23 22:45:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/da3c18455d28622381bce53b9bbdaf9b.svg
      fullname: Mohammad Reshadi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MR-7
      type: user
    createdAt: '2023-03-23T23:45:52.000Z'
    data:
      edited: false
      editors:
      - MR-7
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/da3c18455d28622381bce53b9bbdaf9b.svg
          fullname: Mohammad Reshadi
          isHf: false
          isPro: false
          name: MR-7
          type: user
        html: '<p>so i get this error when trying to load the model: KeyError: ''nllb_moe''.
          it seems that config_dict["model_type"] is set to ''nllb_moe'' but then
          when the library wants to get CONFIG_MAPPING[config_dict["model_type"] it
          doesn''t exit. I''m using transformers==4.27.2 (latest) and the Auto classes
          to load the model as the model card suggests:</p>

          <pre><code>tokenizer = AutoTokenizer.from_pretrained("facebook/nllb-moe-54b")

          model = AutoModelForSeq2SeqLM.from_pretrained("facebook/nllb-moe-54b")

          </code></pre>

          <p>am i missing something?</p>

          '
        raw: "so i get this error when trying to load the model: KeyError: 'nllb_moe'.\
          \ it seems that config_dict[\"model_type\"] is set to 'nllb_moe' but then\
          \ when the library wants to get CONFIG_MAPPING[config_dict[\"model_type\"\
          ] it doesn't exit. I'm using transformers==4.27.2 (latest) and the Auto\
          \ classes to load the model as the model card suggests:\r\n```\r\ntokenizer\
          \ = AutoTokenizer.from_pretrained(\"facebook/nllb-moe-54b\")\r\nmodel =\
          \ AutoModelForSeq2SeqLM.from_pretrained(\"facebook/nllb-moe-54b\")\r\n```\r\
          \nam i missing something?"
        updatedAt: '2023-03-23T23:45:52.024Z'
      numEdits: 0
      reactions: []
    id: 641ce4b0dad2484073994667
    type: comment
  author: MR-7
  content: "so i get this error when trying to load the model: KeyError: 'nllb_moe'.\
    \ it seems that config_dict[\"model_type\"] is set to 'nllb_moe' but then when\
    \ the library wants to get CONFIG_MAPPING[config_dict[\"model_type\"] it doesn't\
    \ exit. I'm using transformers==4.27.2 (latest) and the Auto classes to load the\
    \ model as the model card suggests:\r\n```\r\ntokenizer = AutoTokenizer.from_pretrained(\"\
    facebook/nllb-moe-54b\")\r\nmodel = AutoModelForSeq2SeqLM.from_pretrained(\"facebook/nllb-moe-54b\"\
    )\r\n```\r\nam i missing something?"
  created_at: 2023-03-23 22:45:52+00:00
  edited: false
  hidden: false
  id: 641ce4b0dad2484073994667
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-03-30T07:53:44.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>You are right! Fixing this asap</p>

          '
        raw: You are right! Fixing this asap
        updatedAt: '2023-03-30T07:53:44.017Z'
      numEdits: 0
      reactions: []
    id: 64254008ea5435dde9e323ae
    type: comment
  author: ArthurZ
  content: You are right! Fixing this asap
  created_at: 2023-03-30 06:53:44+00:00
  edited: false
  hidden: false
  id: 64254008ea5435dde9e323ae
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-03-30T08:05:57.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>This should be fixed by <a href="/facebook/nllb-moe-54b/discussions/2">#2</a>
          ! (tried at home and works)</p>

          '
        raw: 'This should be fixed by #2 ! (tried at home and works)'
        updatedAt: '2023-03-30T08:05:57.819Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F917"
        users:
        - MR-7
      relatedEventId: 642542e5348d0ea085e4bd0c
    id: 642542e5348d0ea085e4bd0b
    type: comment
  author: ArthurZ
  content: 'This should be fixed by #2 ! (tried at home and works)'
  created_at: 2023-03-30 07:05:57+00:00
  edited: false
  hidden: false
  id: 642542e5348d0ea085e4bd0b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-03-30T08:05:57.000Z'
    data:
      status: closed
    id: 642542e5348d0ea085e4bd0c
    type: status-change
  author: ArthurZ
  created_at: 2023-03-30 07:05:57+00:00
  id: 642542e5348d0ea085e4bd0c
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5e63ce489f33fb604423cd3d2494ff93.svg
      fullname: Misha
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xmaster83
      type: user
    createdAt: '2023-04-09T01:26:25.000Z'
    data:
      edited: false
      editors:
      - xmaster83
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5e63ce489f33fb604423cd3d2494ff93.svg
          fullname: Misha
          isHf: false
          isPro: false
          name: xmaster83
          type: user
        html: '<p>not work</p>

          <pre><code>raise KeyError(key)

          </code></pre>

          <p>KeyError: ''nllb-moe''</p>

          '
        raw: "not work\n\n    raise KeyError(key)\nKeyError: 'nllb-moe'"
        updatedAt: '2023-04-09T01:26:25.118Z'
      numEdits: 0
      reactions: []
    id: 64321441ac73fd88eb395dcd
    type: comment
  author: xmaster83
  content: "not work\n\n    raise KeyError(key)\nKeyError: 'nllb-moe'"
  created_at: 2023-04-09 00:26:25+00:00
  edited: false
  hidden: false
  id: 64321441ac73fd88eb395dcd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5e63ce489f33fb604423cd3d2494ff93.svg
      fullname: Misha
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xmaster83
      type: user
    createdAt: '2023-04-09T01:57:45.000Z'
    data:
      edited: false
      editors:
      - xmaster83
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5e63ce489f33fb604423cd3d2494ff93.svg
          fullname: Misha
          isHf: false
          isPro: false
          name: xmaster83
          type: user
        html: '<p>where is this directory<br>  "_name_or_path": "/home/arthur_huggingface_co/fairseq/weights/checkpoints/hf-converted-moe-54b",</p>

          <p>please tell me it doesn''t work</p>

          '
        raw: "where is this directory\n  \"_name_or_path\": \"/home/arthur_huggingface_co/fairseq/weights/checkpoints/hf-converted-moe-54b\"\
          ,\n\n\nplease tell me it doesn't work"
        updatedAt: '2023-04-09T01:57:45.174Z'
      numEdits: 0
      reactions: []
    id: 64321b99ac73fd88eb3983e9
    type: comment
  author: xmaster83
  content: "where is this directory\n  \"_name_or_path\": \"/home/arthur_huggingface_co/fairseq/weights/checkpoints/hf-converted-moe-54b\"\
    ,\n\n\nplease tell me it doesn't work"
  created_at: 2023-04-09 00:57:45+00:00
  edited: false
  hidden: false
  id: 64321b99ac73fd88eb3983e9
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: facebook/nllb-moe-54b
repo_type: model
status: closed
target_branch: null
title: 'KeyError: ''nllb_moe'''
