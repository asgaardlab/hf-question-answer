!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lparolari
conflicting_files: null
created_at: 2023-05-29 08:04:12+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/10a784488f381cd542e75bb6bc985de1.svg
      fullname: Luca Parolari
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lparolari
      type: user
    createdAt: '2023-05-29T09:04:12.000Z'
    data:
      edited: false
      editors:
      - lparolari
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/10a784488f381cd542e75bb6bc985de1.svg
          fullname: Luca Parolari
          isHf: false
          isPro: false
          name: lparolari
          type: user
        html: "<p>Hi, I copied the snippet provided in the readme and just execute\
          \ it.<br>This line </p>\n<pre><code>model = DeformableDetrForObjectDetection.from_pretrained(\"\
          facebook/deformable-detr-detic\")\n</code></pre>\n<p>raises a TypeError</p>\n\
          <pre><code>TypeError: Object of type ResNetConfig is not JSON serializable\n\
          </code></pre>\n<p>Could you please help me? Thanks!</p>\n<p>Stacktrace:</p>\n\
          <pre><code>Traceback (most recent call last):\n  File \"/home/lparolari/Projects/blendvg/deitc.py\"\
          , line 14, in &lt;module&gt;\n    model = DeformableDetrForObjectDetection.from_pretrained(\"\
          facebook/deformable-detr-detic\")\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2175, in from_pretrained\n    config, model_kwargs = cls.config_class.from_pretrained(\n\
          \  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 553, in from_pretrained\n    return cls.from_dict(config_dict, **kwargs)\n\
          \  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 720, in from_dict\n    logger.info(f\"Model config {config}\")\n\
          \  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 752, in __repr__\n    return f\"{self.__class__.__name__} {self.to_json_string()}\"\
          \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 824, in to_json_string\n    return json.dumps(config_dict, indent=2,\
          \ sort_keys=True) + \"\\n\"\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/__init__.py\"\
          , line 238, in dumps\n    **kw).encode(obj)\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 201, in encode\n    chunks = list(chunks)\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 431, in _iterencode\n    yield from _iterencode_dict(o, _current_indent_level)\n\
          \  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 405, in _iterencode_dict\n    yield from chunks\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 438, in _iterencode\n    o = _default(o)\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 179, in default\n    raise TypeError(f'Object of type {o.__class__.__name__}\
          \ '\nTypeError: Object of type ResNetConfig is not JSON serializable\n</code></pre>\n"
        raw: "Hi, I copied the snippet provided in the readme and just execute it.\r\
          \nThis line \r\n```\r\nmodel = DeformableDetrForObjectDetection.from_pretrained(\"\
          facebook/deformable-detr-detic\")\r\n```\r\nraises a TypeError\r\n```\r\n\
          TypeError: Object of type ResNetConfig is not JSON serializable\r\n```\r\
          \n\r\nCould you please help me? Thanks!\r\n\r\nStacktrace:\r\n```\r\nTraceback\
          \ (most recent call last):\r\n  File \"/home/lparolari/Projects/blendvg/deitc.py\"\
          , line 14, in <module>\r\n    model = DeformableDetrForObjectDetection.from_pretrained(\"\
          facebook/deformable-detr-detic\")\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2175, in from_pretrained\r\n    config, model_kwargs = cls.config_class.from_pretrained(\r\
          \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 553, in from_pretrained\r\n    return cls.from_dict(config_dict,\
          \ **kwargs)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 720, in from_dict\r\n    logger.info(f\"Model config {config}\")\r\
          \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 752, in __repr__\r\n    return f\"{self.__class__.__name__} {self.to_json_string()}\"\
          \r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
          , line 824, in to_json_string\r\n    return json.dumps(config_dict, indent=2,\
          \ sort_keys=True) + \"\\n\"\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/__init__.py\"\
          , line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 201, in encode\r\n    chunks = list(chunks)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 431, in _iterencode\r\n    yield from _iterencode_dict(o, _current_indent_level)\r\
          \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 405, in _iterencode_dict\r\n    yield from chunks\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 438, in _iterencode\r\n    o = _default(o)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
          , line 179, in default\r\n    raise TypeError(f'Object of type {o.__class__.__name__}\
          \ '\r\nTypeError: Object of type ResNetConfig is not JSON serializable\r\
          \n```"
        updatedAt: '2023-05-29T09:04:12.972Z'
      numEdits: 0
      reactions: []
    id: 64746a8cd815855e4ef3faf8
    type: comment
  author: lparolari
  content: "Hi, I copied the snippet provided in the readme and just execute it.\r\
    \nThis line \r\n```\r\nmodel = DeformableDetrForObjectDetection.from_pretrained(\"\
    facebook/deformable-detr-detic\")\r\n```\r\nraises a TypeError\r\n```\r\nTypeError:\
    \ Object of type ResNetConfig is not JSON serializable\r\n```\r\n\r\nCould you\
    \ please help me? Thanks!\r\n\r\nStacktrace:\r\n```\r\nTraceback (most recent\
    \ call last):\r\n  File \"/home/lparolari/Projects/blendvg/deitc.py\", line 14,\
    \ in <module>\r\n    model = DeformableDetrForObjectDetection.from_pretrained(\"\
    facebook/deformable-detr-detic\")\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2175, in from_pretrained\r\n    config, model_kwargs = cls.config_class.from_pretrained(\r\
    \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
    , line 553, in from_pretrained\r\n    return cls.from_dict(config_dict, **kwargs)\r\
    \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
    , line 720, in from_dict\r\n    logger.info(f\"Model config {config}\")\r\n  File\
    \ \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
    , line 752, in __repr__\r\n    return f\"{self.__class__.__name__} {self.to_json_string()}\"\
    \r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/site-packages/transformers/configuration_utils.py\"\
    , line 824, in to_json_string\r\n    return json.dumps(config_dict, indent=2,\
    \ sort_keys=True) + \"\\n\"\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/__init__.py\"\
    , line 238, in dumps\r\n    **kw).encode(obj)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
    , line 201, in encode\r\n    chunks = list(chunks)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
    , line 431, in _iterencode\r\n    yield from _iterencode_dict(o, _current_indent_level)\r\
    \n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
    , line 405, in _iterencode_dict\r\n    yield from chunks\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
    , line 438, in _iterencode\r\n    o = _default(o)\r\n  File \"/home/lparolari/.miniconda3/envs/weakvg++/lib/python3.10/json/encoder.py\"\
    , line 179, in default\r\n    raise TypeError(f'Object of type {o.__class__.__name__}\
    \ '\r\nTypeError: Object of type ResNetConfig is not JSON serializable\r\n```"
  created_at: 2023-05-29 08:04:12+00:00
  edited: false
  hidden: false
  id: 64746a8cd815855e4ef3faf8
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: facebook/deformable-detr-detic
repo_type: model
status: open
target_branch: null
title: '[bug] Object of type ResNetConfig is not JSON serializable'
