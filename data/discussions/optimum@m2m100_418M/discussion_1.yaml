!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Centaur31
conflicting_files: null
created_at: 2023-11-16 11:25:45+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2395eb26078277e0d62c4dc24b74f6b2.svg
      fullname: Thanasis Dovas
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Centaur31
      type: user
    createdAt: '2023-11-16T11:25:45.000Z'
    data:
      edited: false
      editors:
      - Centaur31
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9605458378791809
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2395eb26078277e0d62c4dc24b74f6b2.svg
          fullname: Thanasis Dovas
          isHf: false
          isPro: false
          name: Centaur31
          type: user
        html: '<p>Hello!<br> Why doesn''t the model work?<br>If you can, I would appreciate
          if you could update the inference code in the model card<br>Thank you</p>

          '
        raw: "Hello!\r\n Why doesn't the model work?\r\nIf you can, I would appreciate\
          \ if you could update the inference code in the model card\r\nThank you"
        updatedAt: '2023-11-16T11:25:45.466Z'
      numEdits: 0
      reactions: []
    id: 6555fc390dec977411744ec9
    type: comment
  author: Centaur31
  content: "Hello!\r\n Why doesn't the model work?\r\nIf you can, I would appreciate\
    \ if you could update the inference code in the model card\r\nThank you"
  created_at: 2023-11-16 11:25:45+00:00
  edited: false
  hidden: false
  id: 6555fc390dec977411744ec9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/2395eb26078277e0d62c4dc24b74f6b2.svg
      fullname: Thanasis Dovas
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Centaur31
      type: user
    createdAt: '2023-11-16T11:56:46.000Z'
    data:
      from: The inference  don't work
      to: The inference API and code in model card don't work
    id: 6556037e5fc78898361c831e
    type: title-change
  author: Centaur31
  created_at: 2023-11-16 11:56:46+00:00
  id: 6556037e5fc78898361c831e
  new_title: The inference API and code in model card don't work
  old_title: The inference  don't work
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/224ec1c658b810c78a0a28b9aaa26345.svg
      fullname: Yomna Jehad
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: YJ4219
      type: user
    createdAt: '2023-11-22T02:32:02.000Z'
    data:
      edited: true
      editors:
      - YJ4219
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7577550411224365
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/224ec1c658b810c78a0a28b9aaa26345.svg
          fullname: Yomna Jehad
          isHf: false
          isPro: false
          name: YJ4219
          type: user
        html: '<blockquote>

          <p>Hello!<br> Why doesn''t the model work?<br>If you can, I would appreciate
          if you could update the inference code in the model card<br>Thank you</p>

          </blockquote>

          <p>I have the same issue!<br>Moreover, whenever I run the example, I keep
          getting this error :</p>

          <pre><code> [ONNXRuntimeError] : 6 : RUNTIME_EXCEPTION : Non-zero status
          code returned while running Add node. Name:''Add_749'' Status Message: /onnxruntime_src/onnxruntime/core/providers/cpu/math/element_wise_ops.h:540
          void onnxruntime::BroadcastIterator::Init(ptrdiff_t, ptrdiff_t) axis ==
          1 || axis == largest was false. Attempting to broadcast an axis by a dimension
          other than 1. 3 by 12

          </code></pre>

          <p>I''m running it on google colab. And so I''m installing the pkgs as follows:</p>

          <pre><code>! pip install --upgrade pip

          ! pip install sentencepiece

          ! pip install transformers

          ! pip install langchain

          ! pip install onnxruntime

          ! pip install onnx

          ! pip install optimum

          ! pip install onnxruntime-gpu

          </code></pre>

          '
        raw: "> Hello!\n>  Why doesn't the model work?\n> If you can, I would appreciate\
          \ if you could update the inference code in the model card\n> Thank you\n\
          \nI have the same issue!\nMoreover, whenever I run the example, I keep getting\
          \ this error :\n```\n [ONNXRuntimeError] : 6 : RUNTIME_EXCEPTION : Non-zero\
          \ status code returned while running Add node. Name:'Add_749' Status Message:\
          \ /onnxruntime_src/onnxruntime/core/providers/cpu/math/element_wise_ops.h:540\
          \ void onnxruntime::BroadcastIterator::Init(ptrdiff_t, ptrdiff_t) axis ==\
          \ 1 || axis == largest was false. Attempting to broadcast an axis by a dimension\
          \ other than 1. 3 by 12\n```\nI'm running it on google colab. And so I'm\
          \ installing the pkgs as follows:\n```\n! pip install --upgrade pip\n! pip\
          \ install sentencepiece\n! pip install transformers\n! pip install langchain\n\
          ! pip install onnxruntime\n! pip install onnx\n! pip install optimum\n!\
          \ pip install onnxruntime-gpu\n```"
        updatedAt: '2023-11-22T02:38:37.899Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Centaur31
    id: 655d6822ca52f87505dd3dfe
    type: comment
  author: YJ4219
  content: "> Hello!\n>  Why doesn't the model work?\n> If you can, I would appreciate\
    \ if you could update the inference code in the model card\n> Thank you\n\nI have\
    \ the same issue!\nMoreover, whenever I run the example, I keep getting this error\
    \ :\n```\n [ONNXRuntimeError] : 6 : RUNTIME_EXCEPTION : Non-zero status code returned\
    \ while running Add node. Name:'Add_749' Status Message: /onnxruntime_src/onnxruntime/core/providers/cpu/math/element_wise_ops.h:540\
    \ void onnxruntime::BroadcastIterator::Init(ptrdiff_t, ptrdiff_t) axis == 1 ||\
    \ axis == largest was false. Attempting to broadcast an axis by a dimension other\
    \ than 1. 3 by 12\n```\nI'm running it on google colab. And so I'm installing\
    \ the pkgs as follows:\n```\n! pip install --upgrade pip\n! pip install sentencepiece\n\
    ! pip install transformers\n! pip install langchain\n! pip install onnxruntime\n\
    ! pip install onnx\n! pip install optimum\n! pip install onnxruntime-gpu\n```"
  created_at: 2023-11-22 02:32:02+00:00
  edited: true
  hidden: false
  id: 655d6822ca52f87505dd3dfe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61a50668cd3eb3043f38e445/E_M7m93Ou6d-XJij59VGF.jpeg?w=200&h=200&f=face
      fullname: Jingya Huang
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Jingya
      type: user
    createdAt: '2023-11-23T12:12:52.000Z'
    data:
      edited: false
      editors:
      - Jingya
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9612685441970825
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61a50668cd3eb3043f38e445/E_M7m93Ou6d-XJij59VGF.jpeg?w=200&h=200&f=face
          fullname: Jingya Huang
          isHf: true
          isPro: false
          name: Jingya
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;Centaur31&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Centaur31\"\
          >@<span class=\"underline\">Centaur31</span></a></span>\n\n\t</span></span>\
          \ and <span data-props=\"{&quot;user&quot;:&quot;YJ4219&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/YJ4219\">@<span class=\"\
          underline\">YJ4219</span></a></span>\n\n\t</span></span>,</p>\n<p>Thanks\
          \ for opening the issue. The checkpoint has been uploaded for a while and\
          \ according to the recent refactoring of the optimum library, it might be\
          \ outdated and incompatible with the lastest Optimum. I will update it today\
          \ when I have the bandwidth. </p>\n"
        raw: 'Hi @Centaur31 and @YJ4219,


          Thanks for opening the issue. The checkpoint has been uploaded for a while
          and according to the recent refactoring of the optimum library, it might
          be outdated and incompatible with the lastest Optimum. I will update it
          today when I have the bandwidth. '
        updatedAt: '2023-11-23T12:12:52.389Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Centaur31
    id: 655f41c456e5ceaf0545f28f
    type: comment
  author: Jingya
  content: 'Hi @Centaur31 and @YJ4219,


    Thanks for opening the issue. The checkpoint has been uploaded for a while and
    according to the recent refactoring of the optimum library, it might be outdated
    and incompatible with the lastest Optimum. I will update it today when I have
    the bandwidth. '
  created_at: 2023-11-23 12:12:52+00:00
  edited: false
  hidden: false
  id: 655f41c456e5ceaf0545f28f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61a50668cd3eb3043f38e445/E_M7m93Ou6d-XJij59VGF.jpeg?w=200&h=200&f=face
      fullname: Jingya Huang
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Jingya
      type: user
    createdAt: '2023-11-23T12:25:21.000Z'
    data:
      edited: true
      editors:
      - Jingya
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9418789744377136
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61a50668cd3eb3043f38e445/E_M7m93Ou6d-XJij59VGF.jpeg?w=200&h=200&f=face
          fullname: Jingya Huang
          isHf: true
          isPro: false
          name: Jingya
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Centaur31&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Centaur31\">@<span class=\"\
          underline\">Centaur31</span></a></span>\n\n\t</span></span> <span data-props=\"\
          {&quot;user&quot;:&quot;YJ4219&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/YJ4219\">@<span class=\"underline\">YJ4219</span></a></span>\n\
          \n\t</span></span> , hey folks, the checkpoint is updated, could you give\
          \ it a try and tell me if it works? (tested with optimum v1.14.1 should\
          \ be good)</p>\n<p>I also added a export guide on the model card, if you\
          \ meet outdated ONNX checkpoints again, don't hesitate to export a new one\
          \ yourself, as there has been some update in the optimum library (and even\
          \ better, open a pull request in the hub and tag the <a href=\"https://huggingface.co/optimum\"\
          >Optimum team members</a> for a review \U0001F917!). </p>\n"
        raw: "@Centaur31 @YJ4219 , hey folks, the checkpoint is updated, could you\
          \ give it a try and tell me if it works? (tested with optimum v1.14.1 should\
          \ be good)\n\nI also added a export guide on the model card, if you meet\
          \ outdated ONNX checkpoints again, don't hesitate to export a new one yourself,\
          \ as there has been some update in the optimum library (and even better,\
          \ open a pull request in the hub and tag the [Optimum team members](https://huggingface.co/optimum)\
          \ for a review \U0001F917!). "
        updatedAt: '2023-11-23T12:26:24.949Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Centaur31
    id: 655f44b1adafc9cb0d34e027
    type: comment
  author: Jingya
  content: "@Centaur31 @YJ4219 , hey folks, the checkpoint is updated, could you give\
    \ it a try and tell me if it works? (tested with optimum v1.14.1 should be good)\n\
    \nI also added a export guide on the model card, if you meet outdated ONNX checkpoints\
    \ again, don't hesitate to export a new one yourself, as there has been some update\
    \ in the optimum library (and even better, open a pull request in the hub and\
    \ tag the [Optimum team members](https://huggingface.co/optimum) for a review\
    \ \U0001F917!). "
  created_at: 2023-11-23 12:25:21+00:00
  edited: true
  hidden: false
  id: 655f44b1adafc9cb0d34e027
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2395eb26078277e0d62c4dc24b74f6b2.svg
      fullname: Thanasis Dovas
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Centaur31
      type: user
    createdAt: '2023-11-23T12:33:29.000Z'
    data:
      edited: false
      editors:
      - Centaur31
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.965182363986969
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2395eb26078277e0d62c4dc24b74f6b2.svg
          fullname: Thanasis Dovas
          isHf: false
          isPro: false
          name: Centaur31
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Jingya&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Jingya\">@<span class=\"\
          underline\">Jingya</span></a></span>\n\n\t</span></span>  Thank you very\
          \ much for your response!<br>I have already converted the model manually\
          \ (in the same way you provided in the model card) and everything seems\
          \ to work fine!<br>Thank you!</p>\n"
        raw: "@Jingya  Thank you very much for your response! \nI have already converted\
          \ the model manually (in the same way you provided in the model card) and\
          \ everything seems to work fine!  \nThank you!"
        updatedAt: '2023-11-23T12:33:29.988Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - Jingya
    id: 655f4699e1b6d15cfea51117
    type: comment
  author: Centaur31
  content: "@Jingya  Thank you very much for your response! \nI have already converted\
    \ the model manually (in the same way you provided in the model card) and everything\
    \ seems to work fine!  \nThank you!"
  created_at: 2023-11-23 12:33:29+00:00
  edited: false
  hidden: false
  id: 655f4699e1b6d15cfea51117
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61a50668cd3eb3043f38e445/E_M7m93Ou6d-XJij59VGF.jpeg?w=200&h=200&f=face
      fullname: Jingya Huang
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Jingya
      type: user
    createdAt: '2023-11-24T14:41:07.000Z'
    data:
      status: closed
    id: 6560b603280cd6b7107527f8
    type: status-change
  author: Jingya
  created_at: 2023-11-24 14:41:07+00:00
  id: 6560b603280cd6b7107527f8
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: optimum/m2m100_418M
repo_type: model
status: closed
target_branch: null
title: The inference API and code in model card don't work
