!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dash8x
conflicting_files: null
created_at: 2023-07-25 13:43:19+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Hk8sDimZ7GdJyLYt0C3By.jpeg?w=200&h=200&f=face
      fullname: Arushad Ahmed
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dash8x
      type: user
    createdAt: '2023-07-25T14:43:19.000Z'
    data:
      edited: false
      editors:
      - dash8x
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9266325235366821
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Hk8sDimZ7GdJyLYt0C3By.jpeg?w=200&h=200&f=face
          fullname: Arushad Ahmed
          isHf: false
          isPro: false
          name: dash8x
          type: user
        html: '<p>Whisper doesn''t support Dhivehi out of the box, so did you make
          a new vocabulary for Dhivehi or use train using some other target language?
          Would appreciate if you can give some details on the training setup.</p>

          '
        raw: Whisper doesn't support Dhivehi out of the box, so did you make a new
          vocabulary for Dhivehi or use train using some other target language? Would
          appreciate if you can give some details on the training setup.
        updatedAt: '2023-07-25T14:43:19.975Z'
      numEdits: 0
      reactions: []
    id: 64bfdf87a5dbf6d5b6b780af
    type: comment
  author: dash8x
  content: Whisper doesn't support Dhivehi out of the box, so did you make a new vocabulary
    for Dhivehi or use train using some other target language? Would appreciate if
    you can give some details on the training setup.
  created_at: 2023-07-25 13:43:19+00:00
  edited: false
  hidden: false
  id: 64bfdf87a5dbf6d5b6b780af
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Hk8sDimZ7GdJyLYt0C3By.jpeg?w=200&h=200&f=face
      fullname: Arushad Ahmed
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dash8x
      type: user
    createdAt: '2023-07-25T14:44:25.000Z'
    data:
      status: closed
    id: 64bfdfc9f7c7daa674fbc0ce
    type: status-change
  author: dash8x
  created_at: 2023-07-25 13:44:25+00:00
  id: 64bfdfc9f7c7daa674fbc0ce
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: true
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-07-25T17:11:00.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5791398286819458
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: '<p>See <a href="https://huggingface.co/learn/audio-course/chapter5/fine-tuning#feature-extractor-tokenizer-and-processor">https://huggingface.co/learn/audio-course/chapter5/fine-tuning#feature-extractor-tokenizer-and-processor</a></p>

          '
        raw: See https://huggingface.co/learn/audio-course/chapter5/fine-tuning#feature-extractor-tokenizer-and-processor
        updatedAt: '2023-07-25T17:11:00.333Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - dash8x
    id: 64c002244128da3d002f0e1e
    type: comment
  author: sanchit-gandhi
  content: See https://huggingface.co/learn/audio-course/chapter5/fine-tuning#feature-extractor-tokenizer-and-processor
  created_at: 2023-07-25 16:11:00+00:00
  edited: false
  hidden: false
  id: 64c002244128da3d002f0e1e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Hk8sDimZ7GdJyLYt0C3By.jpeg?w=200&h=200&f=face
      fullname: Arushad Ahmed
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dash8x
      type: user
    createdAt: '2023-07-25T19:47:58.000Z'
    data:
      status: open
    id: 64c026eea20269b8bd6e0996
    type: status-change
  author: dash8x
  created_at: 2023-07-25 18:47:58+00:00
  id: 64c026eea20269b8bd6e0996
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Hk8sDimZ7GdJyLYt0C3By.jpeg?w=200&h=200&f=face
      fullname: Arushad Ahmed
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dash8x
      type: user
    createdAt: '2023-07-25T19:54:05.000Z'
    data:
      edited: true
      editors:
      - dash8x
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8303922414779663
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Hk8sDimZ7GdJyLYt0C3By.jpeg?w=200&h=200&f=face
          fullname: Arushad Ahmed
          isHf: false
          isPro: false
          name: dash8x
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sanchit-gandhi&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/sanchit-gandhi\"\
          >@<span class=\"underline\">sanchit-gandhi</span></a></span>\n\n\t</span></span>\
          \ Thank you for explaining the training process. Seems like you're using\
          \ <code>transformers.models.whisper.english_normalizer</code> to normalize\
          \ the labels and predictions for WER calculation. This results in a misleading\
          \ WER value for Dhivehi, as the English Normalizer removes the vowel diacritics\
          \ from the text and adds spaces between the letters inside words, making\
          \ it essentially unreadable. (I'm a native Dhivehi speaker).</p>\n<p>Please\
          \ refer to the image below to see what the whisper normalizer does to Dhivehi\
          \ text. To read Dhivehi, you need both the consonants and vowel diacritics.\
          \ </p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/64961420533c317c5c32dcfb/rBnze0yuslcrS4AdKciyl.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/64961420533c317c5c32dcfb/rBnze0yuslcrS4AdKciyl.png\"\
          ></a>\n </p>\n"
        raw: "@sanchit-gandhi Thank you for explaining the training process. Seems\
          \ like you're using `transformers.models.whisper.english_normalizer` to\
          \ normalize the labels and predictions for WER calculation. This results\
          \ in a misleading WER value for Dhivehi, as the English Normalizer removes\
          \ the vowel diacritics from the text and adds spaces between the letters\
          \ inside words, making it essentially unreadable. (I'm a native Dhivehi\
          \ speaker).\n\nPlease refer to the image below to see what the whisper normalizer\
          \ does to Dhivehi text. To read Dhivehi, you need both the consonants and\
          \ vowel diacritics. \n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64961420533c317c5c32dcfb/rBnze0yuslcrS4AdKciyl.png)\n\
          \ "
        updatedAt: '2023-07-25T19:58:54.887Z'
      numEdits: 1
      reactions: []
    id: 64c0285d6b2f05ae6419a47a
    type: comment
  author: dash8x
  content: "@sanchit-gandhi Thank you for explaining the training process. Seems like\
    \ you're using `transformers.models.whisper.english_normalizer` to normalize the\
    \ labels and predictions for WER calculation. This results in a misleading WER\
    \ value for Dhivehi, as the English Normalizer removes the vowel diacritics from\
    \ the text and adds spaces between the letters inside words, making it essentially\
    \ unreadable. (I'm a native Dhivehi speaker).\n\nPlease refer to the image below\
    \ to see what the whisper normalizer does to Dhivehi text. To read Dhivehi, you\
    \ need both the consonants and vowel diacritics. \n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64961420533c317c5c32dcfb/rBnze0yuslcrS4AdKciyl.png)\n\
    \ "
  created_at: 2023-07-25 18:54:05+00:00
  edited: true
  hidden: false
  id: 64c0285d6b2f05ae6419a47a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: true
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-07-26T11:35:50.000Z'
    data:
      edited: true
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8568477630615234
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;dash8x&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/dash8x\">@<span class=\"\
          underline\">dash8x</span></a></span>\n\n\t</span></span> - we're using the\
          \ <code>BasicTextNormalizer</code> to normalise the references and predictions\
          \ to compute the normalised WER, see <a href=\"https://huggingface.co/learn/audio-course/chapter5/fine-tuning#evaluation-metrics\"\
          >https://huggingface.co/learn/audio-course/chapter5/fine-tuning#evaluation-metrics</a>.\
          \ This is the 'official' multilingual normaliser released with the Whisper\
          \ package. We use this normaliser to give one-to-one comparable results\
          \ to the Whisper paper. </p>\n<p>It has been highlighted on the original\
          \ Whisper repository that this multilingual normaliser is too stringent,\
          \ removing diacritics amongst other characters: <a rel=\"nofollow\" href=\"\
          https://github.com/openai/whisper/discussions/858\">https://github.com/openai/whisper/discussions/858</a>.\
          \ The Whisper authors haven't replied here with any update, but we strive\
          \ to give one-to-one the same results that they quote in the paper and so\
          \ maintain equivalence unless they update it. Feel free to raise this issue\
          \ directly with the Whisper authors if it's something you want to see changed\
          \ on the official model.</p>\n<p>You're also free to ignore the normalised\
          \ WER calculation and only look at the orthographic WER. Arguments for using\
          \ the orthographic WER can be found in this paper: <a rel=\"nofollow\" href=\"\
          https://arxiv.org/abs/2210.13352\">https://arxiv.org/abs/2210.13352</a>\
          \ I personally give as much importance to the ortho WER as normalised -\
          \ if you find the normalised transcriptions loose too much information,\
          \ you can use the ortho WER exclusively as a benchmark for fine-tuning performance</p>\n"
        raw: "Hey @dash8x - we're using the `BasicTextNormalizer` to normalise the\
          \ references and predictions to compute the normalised WER, see https://huggingface.co/learn/audio-course/chapter5/fine-tuning#evaluation-metrics.\
          \ This is the 'official' multilingual normaliser released with the Whisper\
          \ package. We use this normaliser to give one-to-one comparable results\
          \ to the Whisper paper. \n\nIt has been highlighted on the original Whisper\
          \ repository that this multilingual normaliser is too stringent, removing\
          \ diacritics amongst other characters: https://github.com/openai/whisper/discussions/858.\
          \ The Whisper authors haven't replied here with any update, but we strive\
          \ to give one-to-one the same results that they quote in the paper and so\
          \ maintain equivalence unless they update it. Feel free to raise this issue\
          \ directly with the Whisper authors if it's something you want to see changed\
          \ on the official model.\n\nYou're also free to ignore the normalised WER\
          \ calculation and only look at the orthographic WER. Arguments for using\
          \ the orthographic WER can be found in this paper: https://arxiv.org/abs/2210.13352\
          \ I personally give as much importance to the ortho WER as normalised -\
          \ if you find the normalised transcriptions loose too much information,\
          \ you can use the ortho WER exclusively as a benchmark for fine-tuning performance"
        updatedAt: '2023-07-26T11:37:51.810Z'
      numEdits: 3
      reactions: []
    id: 64c10516d71cdcdcc826dcfb
    type: comment
  author: sanchit-gandhi
  content: "Hey @dash8x - we're using the `BasicTextNormalizer` to normalise the references\
    \ and predictions to compute the normalised WER, see https://huggingface.co/learn/audio-course/chapter5/fine-tuning#evaluation-metrics.\
    \ This is the 'official' multilingual normaliser released with the Whisper package.\
    \ We use this normaliser to give one-to-one comparable results to the Whisper\
    \ paper. \n\nIt has been highlighted on the original Whisper repository that this\
    \ multilingual normaliser is too stringent, removing diacritics amongst other\
    \ characters: https://github.com/openai/whisper/discussions/858. The Whisper authors\
    \ haven't replied here with any update, but we strive to give one-to-one the same\
    \ results that they quote in the paper and so maintain equivalence unless they\
    \ update it. Feel free to raise this issue directly with the Whisper authors if\
    \ it's something you want to see changed on the official model.\n\nYou're also\
    \ free to ignore the normalised WER calculation and only look at the orthographic\
    \ WER. Arguments for using the orthographic WER can be found in this paper: https://arxiv.org/abs/2210.13352\
    \ I personally give as much importance to the ortho WER as normalised - if you\
    \ find the normalised transcriptions loose too much information, you can use the\
    \ ortho WER exclusively as a benchmark for fine-tuning performance"
  created_at: 2023-07-26 10:35:50+00:00
  edited: true
  hidden: false
  id: 64c10516d71cdcdcc826dcfb
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: sanchit-gandhi/whisper-medium-dv
repo_type: model
status: open
target_branch: null
title: Which language was used as the target language?
