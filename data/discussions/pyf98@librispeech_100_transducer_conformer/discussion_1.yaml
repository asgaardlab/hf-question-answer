!!python/object:huggingface_hub.community.DiscussionWithDetails
author: woshinibaba
conflicting_files: null
created_at: 2023-10-28 05:50:39+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1e8cd225cac80fb91583d1a59da58aea.svg
      fullname: aaa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: woshinibaba
      type: user
    createdAt: '2023-10-28T06:50:39.000Z'
    data:
      edited: false
      editors:
      - woshinibaba
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.41885095834732056
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1e8cd225cac80fb91583d1a59da58aea.svg
          fullname: aaa
          isHf: false
          isPro: false
          name: woshinibaba
          type: user
        html: "<p>Hi, thanks for your nice work!<br>When using the pretrained model\
          \ according to your guidance<br><code>./run.sh --skip_data_prep true --skip_train\
          \ true --download_model pyf98/librispeech_100_transducer_conformer</code>,<br>the\
          \ following error arose. Do you have any idea about it? </p>\n<pre><code>#\
          \ python3 -m espnet2.bin.asr_inference --batch_size 1 --ngpu 0 --data_path_and_name_and_type\
          \ dump/raw/test_clean/wav.scp,speech,kaldi_ark --key_file exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/keys.9.scp\
          \ --asr_train_config exp/pyf98/librispeech_100_transducer_conformer/config.yaml\
          \ --asr_model_file exp/pyf98/librispeech_100_transducer_conformer/valid.loss.ave_10best.pth\
          \ --output_dir exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/output.9\
          \ --config conf/decode_asr.yaml\n# Started at Sat Oct 28 13:29:39 JST 2023\n\
          #\n/home/smg/zengchang/apps/anaconda3/envs/espnet/bin/python3 /home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\
          \ --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test_clean/wav.scp,speech,kaldi_ark\
          \ --key_file exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/keys.9.scp\
          \ --asr_train_config exp/pyf98/librispeech_100_transducer_conformer/config.yaml\
          \ --asr_model_file exp/pyf98/librispeech_100_transducer_conformer/valid.loss.ave_10best.pth\
          \ --output_dir exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/output.9\
          \ --config conf/decode_asr.yaml\n2023-10-28 13:29:42,689 (asr:489) INFO:\
          \ Vocabulary size: 5000\nTraceback (most recent call last):\n  File \"/home/smg/zengchang/apps/anaconda3/envs/espnet/lib/python3.8/runpy.py\"\
          , line 194, in _run_module_as_main\n    return _run_code(code, main_globals,\
          \ None,\n  File \"/home/smg/zengchang/apps/anaconda3/envs/espnet/lib/python3.8/runpy.py\"\
          , line 87, in _run_code\n    exec(code, run_globals)\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 902, in &lt;module&gt;\n    main()\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 898, in main\n    inference(**kwargs)\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 611, in inference\n    speech2text = Speech2Text.from_pretrained(\n\
          \  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 515, in from_pretrained\n    return Speech2Text(**kwargs)\n  File\
          \ \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\", line\
          \ 178, in __init__\n    beam_search_transducer = BeamSearchTransducer(\n\
          TypeError: type object argument after ** must be a mapping, not NoneType\n\
          </code></pre>\n"
        raw: "Hi, thanks for your nice work!\r\nWhen using the pretrained model according\
          \ to your guidance \r\n`./run.sh --skip_data_prep true --skip_train true\
          \ --download_model pyf98/librispeech_100_transducer_conformer`,\r\nthe following\
          \ error arose. Do you have any idea about it? \r\n```\r\n# python3 -m espnet2.bin.asr_inference\
          \ --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test_clean/wav.scp,speech,kaldi_ark\
          \ --key_file exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/keys.9.scp\
          \ --asr_train_config exp/pyf98/librispeech_100_transducer_conformer/config.yaml\
          \ --asr_model_file exp/pyf98/librispeech_100_transducer_conformer/valid.loss.ave_10best.pth\
          \ --output_dir exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/output.9\
          \ --config conf/decode_asr.yaml\r\n# Started at Sat Oct 28 13:29:39 JST\
          \ 2023\r\n#\r\n/home/smg/zengchang/apps/anaconda3/envs/espnet/bin/python3\
          \ /home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py --batch_size\
          \ 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test_clean/wav.scp,speech,kaldi_ark\
          \ --key_file exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/keys.9.scp\
          \ --asr_train_config exp/pyf98/librispeech_100_transducer_conformer/config.yaml\
          \ --asr_model_file exp/pyf98/librispeech_100_transducer_conformer/valid.loss.ave_10best.pth\
          \ --output_dir exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/output.9\
          \ --config conf/decode_asr.yaml\r\n2023-10-28 13:29:42,689 (asr:489) INFO:\
          \ Vocabulary size: 5000\r\nTraceback (most recent call last):\r\n  File\
          \ \"/home/smg/zengchang/apps/anaconda3/envs/espnet/lib/python3.8/runpy.py\"\
          , line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals,\
          \ None,\r\n  File \"/home/smg/zengchang/apps/anaconda3/envs/espnet/lib/python3.8/runpy.py\"\
          , line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 902, in <module>\r\n    main()\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 898, in main\r\n    inference(**kwargs)\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 611, in inference\r\n    speech2text = Speech2Text.from_pretrained(\r\
          \n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
          , line 515, in from_pretrained\r\n    return Speech2Text(**kwargs)\r\n \
          \ File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\",\
          \ line 178, in __init__\r\n    beam_search_transducer = BeamSearchTransducer(\r\
          \nTypeError: type object argument after ** must be a mapping, not NoneType\r\
          \n```"
        updatedAt: '2023-10-28T06:50:39.077Z'
      numEdits: 0
      reactions: []
    id: 653caf3f89b0d61729337b6f
    type: comment
  author: woshinibaba
  content: "Hi, thanks for your nice work!\r\nWhen using the pretrained model according\
    \ to your guidance \r\n`./run.sh --skip_data_prep true --skip_train true --download_model\
    \ pyf98/librispeech_100_transducer_conformer`,\r\nthe following error arose. Do\
    \ you have any idea about it? \r\n```\r\n# python3 -m espnet2.bin.asr_inference\
    \ --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test_clean/wav.scp,speech,kaldi_ark\
    \ --key_file exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/keys.9.scp\
    \ --asr_train_config exp/pyf98/librispeech_100_transducer_conformer/config.yaml\
    \ --asr_model_file exp/pyf98/librispeech_100_transducer_conformer/valid.loss.ave_10best.pth\
    \ --output_dir exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/output.9\
    \ --config conf/decode_asr.yaml\r\n# Started at Sat Oct 28 13:29:39 JST 2023\r\
    \n#\r\n/home/smg/zengchang/apps/anaconda3/envs/espnet/bin/python3 /home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\
    \ --batch_size 1 --ngpu 0 --data_path_and_name_and_type dump/raw/test_clean/wav.scp,speech,kaldi_ark\
    \ --key_file exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/keys.9.scp\
    \ --asr_train_config exp/pyf98/librispeech_100_transducer_conformer/config.yaml\
    \ --asr_model_file exp/pyf98/librispeech_100_transducer_conformer/valid.loss.ave_10best.pth\
    \ --output_dir exp/pyf98/librispeech_100_transducer_conformer/decode_asr_asr_model_valid.acc.ave/test_clean/logdir/output.9\
    \ --config conf/decode_asr.yaml\r\n2023-10-28 13:29:42,689 (asr:489) INFO: Vocabulary\
    \ size: 5000\r\nTraceback (most recent call last):\r\n  File \"/home/smg/zengchang/apps/anaconda3/envs/espnet/lib/python3.8/runpy.py\"\
    , line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals,\
    \ None,\r\n  File \"/home/smg/zengchang/apps/anaconda3/envs/espnet/lib/python3.8/runpy.py\"\
    , line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
    , line 902, in <module>\r\n    main()\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
    , line 898, in main\r\n    inference(**kwargs)\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
    , line 611, in inference\r\n    speech2text = Speech2Text.from_pretrained(\r\n\
    \  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\", line\
    \ 515, in from_pretrained\r\n    return Speech2Text(**kwargs)\r\n  File \"/home/smg/zengchang/asr/espnet/espnet2/bin/asr_inference.py\"\
    , line 178, in __init__\r\n    beam_search_transducer = BeamSearchTransducer(\r\
    \nTypeError: type object argument after ** must be a mapping, not NoneType\r\n\
    ```"
  created_at: 2023-10-28 05:50:39+00:00
  edited: false
  hidden: false
  id: 653caf3f89b0d61729337b6f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/1e8cd225cac80fb91583d1a59da58aea.svg
      fullname: aaa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: woshinibaba
      type: user
    createdAt: '2023-10-28T08:16:01.000Z'
    data:
      status: closed
    id: 653cc3412fe16c9434a8efca
    type: status-change
  author: woshinibaba
  created_at: 2023-10-28 07:16:01+00:00
  id: 653cc3412fe16c9434a8efca
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: pyf98/librispeech_100_transducer_conformer
repo_type: model
status: closed
target_branch: null
title: Decoding error
