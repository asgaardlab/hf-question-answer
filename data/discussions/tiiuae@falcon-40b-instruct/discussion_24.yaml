!!python/object:huggingface_hub.community.DiscussionWithDetails
author: gsaivinay
conflicting_files: null
created_at: 2023-06-03 10:56:27+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ad4bb6fe31efe3634e349f59d6d57b79.svg
      fullname: SVG
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gsaivinay
      type: user
    createdAt: '2023-06-03T11:56:27.000Z'
    data:
      edited: false
      editors:
      - gsaivinay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9027860760688782
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ad4bb6fe31efe3634e349f59d6d57b79.svg
          fullname: SVG
          isHf: false
          isPro: false
          name: gsaivinay
          type: user
        html: '<p>Hello,</p>

          <p>Can somebody please provide a sample formats for</p>

          <ul>

          <li>setting system instructions for the model</li>

          <li>setting a context and asking model to answer questions only based on
          context</li>

          </ul>

          <p>Thanks in advance</p>

          '
        raw: "Hello,\r\n\r\nCan somebody please provide a sample formats for\r\n-\
          \ setting system instructions for the model\r\n- setting a context and asking\
          \ model to answer questions only based on context\r\n\r\nThanks in advance"
        updatedAt: '2023-06-03T11:56:27.883Z'
      numEdits: 0
      reactions: []
    id: 647b2a6b6a79fbf5e99597e5
    type: comment
  author: gsaivinay
  content: "Hello,\r\n\r\nCan somebody please provide a sample formats for\r\n- setting\
    \ system instructions for the model\r\n- setting a context and asking model to\
    \ answer questions only based on context\r\n\r\nThanks in advance"
  created_at: 2023-06-03 10:56:27+00:00
  edited: false
  hidden: false
  id: 647b2a6b6a79fbf5e99597e5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/09224d33f982b54e21564055fc990422.svg
      fullname: Kyle Easterly
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kyleeasterly
      type: user
    createdAt: '2023-06-04T09:44:02.000Z'
    data:
      edited: false
      editors:
      - kyleeasterly
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8859159350395203
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/09224d33f982b54e21564055fc990422.svg
          fullname: Kyle Easterly
          isHf: false
          isPro: false
          name: kyleeasterly
          type: user
        html: '<p>Check out the special tokens near the top of the <code>tokenizer.json</code>
          file. There are special tokens for &gt;&gt;QUESTION&lt;&lt;, &gt;&gt;ANSWER&lt;&lt;,
          and a few other types you can play with. I''ve had the best results prompting
          it like this:</p>

          <pre><code>&gt;&gt;QUESTION&lt;&lt;In Python, I want to write a simple HTTP
          API that receives an object via POST and responds with another object. The
          request object contains a string prompt, float temperature, and int max_tokens.
          The response object contains a string response, int prompt_tokens, int completion_tokens.
          For now just set hard-coded values and get the response out. I''ll add the
          logic myself afterward.

          &gt;&gt;ANSWER&lt;&lt;

          </code></pre>

          <p>I haven''t tried many of the other tokens out, perhaps &gt;&gt;INTRODUCTION&lt;&lt;
          is closest to the system prompt?</p>

          '
        raw: 'Check out the special tokens near the top of the `tokenizer.json` file.
          There are special tokens for >>QUESTION<<, >>ANSWER<<, and a few other types
          you can play with. I''ve had the best results prompting it like this:

          ```

          >>QUESTION<<In Python, I want to write a simple HTTP API that receives an
          object via POST and responds with another object. The request object contains
          a string prompt, float temperature, and int max_tokens. The response object
          contains a string response, int prompt_tokens, int completion_tokens. For
          now just set hard-coded values and get the response out. I''ll add the logic
          myself afterward.

          >>ANSWER<<

          ```


          I haven''t tried many of the other tokens out, perhaps >>INTRODUCTION<<
          is closest to the system prompt?'
        updatedAt: '2023-06-04T09:44:02.367Z'
      numEdits: 0
      reactions:
      - count: 7
        reaction: "\u2764\uFE0F"
        users:
        - gsaivinay
        - aliacar
        - Icyrockton
        - max0uu
        - crestf411
        - vkajjam
        - AliYoussef97
    id: 647c5ce283c62f3249140d63
    type: comment
  author: kyleeasterly
  content: 'Check out the special tokens near the top of the `tokenizer.json` file.
    There are special tokens for >>QUESTION<<, >>ANSWER<<, and a few other types you
    can play with. I''ve had the best results prompting it like this:

    ```

    >>QUESTION<<In Python, I want to write a simple HTTP API that receives an object
    via POST and responds with another object. The request object contains a string
    prompt, float temperature, and int max_tokens. The response object contains a
    string response, int prompt_tokens, int completion_tokens. For now just set hard-coded
    values and get the response out. I''ll add the logic myself afterward.

    >>ANSWER<<

    ```


    I haven''t tried many of the other tokens out, perhaps >>INTRODUCTION<< is closest
    to the system prompt?'
  created_at: 2023-06-04 08:44:02+00:00
  edited: false
  hidden: false
  id: 647c5ce283c62f3249140d63
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
      fullname: Carl Silva
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: silvacarl
      type: user
    createdAt: '2023-06-08T00:07:21.000Z'
    data:
      edited: false
      editors:
      - silvacarl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8805036544799805
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
          fullname: Carl Silva
          isHf: false
          isPro: true
          name: silvacarl
          type: user
        html: '<p>does anyone have any good prompt examples they can share or prompt
          templates to test this model?</p>

          '
        raw: does anyone have any good prompt examples they can share or prompt templates
          to test this model?
        updatedAt: '2023-06-08T00:07:21.326Z'
      numEdits: 0
      reactions: []
    id: 64811bb9e1421e205fe1ee65
    type: comment
  author: silvacarl
  content: does anyone have any good prompt examples they can share or prompt templates
    to test this model?
  created_at: 2023-06-07 23:07:21+00:00
  edited: false
  hidden: false
  id: 64811bb9e1421e205fe1ee65
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b8ef4abcac2fcdee3c5dae3fb114d6ce.svg
      fullname: Etan Lightstone
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zaqintosh
      type: user
    createdAt: '2023-07-21T22:04:44.000Z'
    data:
      edited: false
      editors:
      - zaqintosh
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9640121459960938
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b8ef4abcac2fcdee3c5dae3fb114d6ce.svg
          fullname: Etan Lightstone
          isHf: false
          isPro: false
          name: zaqintosh
          type: user
        html: "<p>according to \"the bloke\", the appropriate prompt to use for Falcon-instruct\
          \ (which would assume how they formatted text when fine-tuning) is:<br>A\
          \ helpful assistant who helps the user with any questions asked.<br>User:\
          \ prompt<br>Assistant:</p>\n<p>But I honestly I can't tell if that's just\
          \ a best guess on his part. <span data-props=\"{&quot;user&quot;:&quot;TheBloke&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/TheBloke\"\
          >@<span class=\"underline\">TheBloke</span></a></span>\n\n\t</span></span>\
          \ ? </p>\n"
        raw: 'according to "the bloke", the appropriate prompt to use for Falcon-instruct
          (which would assume how they formatted text when fine-tuning) is:

          A helpful assistant who helps the user with any questions asked.

          User: prompt

          Assistant:


          But I honestly I can''t tell if that''s just a best guess on his part. @TheBloke
          ? '
        updatedAt: '2023-07-21T22:04:44.257Z'
      numEdits: 0
      reactions: []
    id: 64bb00fc8496ee0fb6baa6f0
    type: comment
  author: zaqintosh
  content: 'according to "the bloke", the appropriate prompt to use for Falcon-instruct
    (which would assume how they formatted text when fine-tuning) is:

    A helpful assistant who helps the user with any questions asked.

    User: prompt

    Assistant:


    But I honestly I can''t tell if that''s just a best guess on his part. @TheBloke
    ? '
  created_at: 2023-07-21 21:04:44+00:00
  edited: false
  hidden: false
  id: 64bb00fc8496ee0fb6baa6f0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-07-22T08:20:59.000Z'
    data:
      edited: true
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9433213472366333
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: "<p>I used this for reference: <a rel=\"nofollow\" href=\"https://github.com/cmp-nct/ggllm.cpp/discussions/36\"\
          >https://github.com/cmp-nct/ggllm.cpp/discussions/36</a></p>\n<p><a rel=\"\
          nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/KvLwlqj9ckt4x_DIarCE3.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/KvLwlqj9ckt4x_DIarCE3.png\"\
          ></a></p>\n<p><span data-props=\"{&quot;user&quot;:&quot;cmp-nct&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/cmp-nct\"\
          >@<span class=\"underline\">cmp-nct</span></a></span>\n\n\t</span></span>\
          \  has developed the Falcon GGML (now called GGCC) client and looked into\
          \ prompt templates a lot.</p>\n<p>Although now I look at that again, I see\
          \ he doesn't show a system message, so maybe I need to check that.  But\
          \ User/Assistant should definitely work.  He makes mention of the Falcon\
          \ special tokens later in the post, which apparently do work too.</p>\n"
        raw: 'I used this for reference: https://github.com/cmp-nct/ggllm.cpp/discussions/36


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/KvLwlqj9ckt4x_DIarCE3.png)


          @cmp-nct  has developed the Falcon GGML (now called GGCC) client and looked
          into prompt templates a lot.


          Although now I look at that again, I see he doesn''t show a system message,
          so maybe I need to check that.  But User/Assistant should definitely work.  He
          makes mention of the Falcon special tokens later in the post, which apparently
          do work too.'
        updatedAt: '2023-07-22T08:21:47.809Z'
      numEdits: 2
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - AliYoussef97
        - cmp-nct
    id: 64bb916b976343e90a33c80c
    type: comment
  author: TheBloke
  content: 'I used this for reference: https://github.com/cmp-nct/ggllm.cpp/discussions/36


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/KvLwlqj9ckt4x_DIarCE3.png)


    @cmp-nct  has developed the Falcon GGML (now called GGCC) client and looked into
    prompt templates a lot.


    Although now I look at that again, I see he doesn''t show a system message, so
    maybe I need to check that.  But User/Assistant should definitely work.  He makes
    mention of the Falcon special tokens later in the post, which apparently do work
    too.'
  created_at: 2023-07-22 07:20:59+00:00
  edited: true
  hidden: false
  id: 64bb916b976343e90a33c80c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b8ef4abcac2fcdee3c5dae3fb114d6ce.svg
      fullname: Etan Lightstone
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zaqintosh
      type: user
    createdAt: '2023-07-24T20:10:22.000Z'
    data:
      edited: false
      editors:
      - zaqintosh
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9740198850631714
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b8ef4abcac2fcdee3c5dae3fb114d6ce.svg
          fullname: Etan Lightstone
          isHf: false
          isPro: false
          name: zaqintosh
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;TheBloke&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/TheBloke\">@<span class=\"\
          underline\">TheBloke</span></a></span>\n\n\t</span></span> thanks for sharing\
          \ your source!</p>\n<p>I'm so frustrated by all of these OS models coming\
          \ out with huge fan fare, but they never show sample prompts they used in\
          \ fine tuning, and it's (sometimes) a nightmare trying to figure it out.</p>\n"
        raw: '@TheBloke thanks for sharing your source!


          I''m so frustrated by all of these OS models coming out with huge fan fare,
          but they never show sample prompts they used in fine tuning, and it''s (sometimes)
          a nightmare trying to figure it out.'
        updatedAt: '2023-07-24T20:10:22.634Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - gsaivinay
        - OlafB
    id: 64bedaae01f1983a86a5b68e
    type: comment
  author: zaqintosh
  content: '@TheBloke thanks for sharing your source!


    I''m so frustrated by all of these OS models coming out with huge fan fare, but
    they never show sample prompts they used in fine tuning, and it''s (sometimes)
    a nightmare trying to figure it out.'
  created_at: 2023-07-24 19:10:22+00:00
  edited: false
  hidden: false
  id: 64bedaae01f1983a86a5b68e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ab5cc5ad73e41e1f20b09ae6779a28ca.svg
      fullname: Karl
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: SlalomSledge
      type: user
    createdAt: '2023-09-22T02:54:36.000Z'
    data:
      edited: false
      editors:
      - SlalomSledge
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9216120839118958
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ab5cc5ad73e41e1f20b09ae6779a28ca.svg
          fullname: Karl
          isHf: false
          isPro: false
          name: SlalomSledge
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;kyleeasterly&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/kyleeasterly\"\
          >@<span class=\"underline\">kyleeasterly</span></a></span>\n\n\t</span></span>\
          \  - could you please point me towards the tokenizer file?  I too am confused\
          \ on conventions around Falcon model prompting.</p>\n"
        raw: '@kyleeasterly  - could you please point me towards the tokenizer file?  I
          too am confused on conventions around Falcon model prompting.

          '
        updatedAt: '2023-09-22T02:54:36.006Z'
      numEdits: 0
      reactions: []
    id: 650d01eca853f6b3f8b4d5a3
    type: comment
  author: SlalomSledge
  content: '@kyleeasterly  - could you please point me towards the tokenizer file?  I
    too am confused on conventions around Falcon model prompting.

    '
  created_at: 2023-09-22 01:54:36+00:00
  edited: false
  hidden: false
  id: 650d01eca853f6b3f8b4d5a3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ab5cc5ad73e41e1f20b09ae6779a28ca.svg
      fullname: Karl
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: SlalomSledge
      type: user
    createdAt: '2023-09-22T14:19:17.000Z'
    data:
      edited: false
      editors:
      - SlalomSledge
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9224414825439453
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ab5cc5ad73e41e1f20b09ae6779a28ca.svg
          fullname: Karl
          isHf: false
          isPro: false
          name: SlalomSledge
          type: user
        html: '<p>Also, what is a wizard model?</p>

          '
        raw: Also, what is a wizard model?
        updatedAt: '2023-09-22T14:19:17.089Z'
      numEdits: 0
      reactions: []
    id: 650da26598d259c010a3ee5e
    type: comment
  author: SlalomSledge
  content: Also, what is a wizard model?
  created_at: 2023-09-22 13:19:17+00:00
  edited: false
  hidden: false
  id: 650da26598d259c010a3ee5e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f8ed016c6d496e6205f60b3e26ea4586.svg
      fullname: Yoyo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: YoYo1234Qwerty
      type: user
    createdAt: '2023-09-26T21:40:57.000Z'
    data:
      edited: false
      editors:
      - YoYo1234Qwerty
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.969822347164154
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f8ed016c6d496e6205f60b3e26ea4586.svg
          fullname: Yoyo
          isHf: false
          isPro: false
          name: YoYo1234Qwerty
          type: user
        html: '<p>I think everyone''s wrong about <code>&gt;&gt;QUESTION&lt;&lt;</code>
          and <code>&gt;&gt;ANSWER&lt;&lt;</code>. If you ask a <code>&gt;&gt;QUESTION&lt;&lt;</code>,
          it''ll never output the <code>&gt;&gt;ANSWER&lt;&lt;</code> token on its
          own, meaning it likely wasn''t trained like this.</p>

          <p>I don''t know what the right answer is, but it does seem eager to stick
          to a template like:</p>

          <pre><code>User Hi there

          Mini what''s up?

          </code></pre>

          <p>I''ve seen other users mention <code>Mini</code> too.</p>

          '
        raw: 'I think everyone''s wrong about `>>QUESTION<<` and `>>ANSWER<<`. If
          you ask a `>>QUESTION<<`, it''ll never output the `>>ANSWER<<` token on
          its own, meaning it likely wasn''t trained like this.


          I don''t know what the right answer is, but it does seem eager to stick
          to a template like:


          ```

          User Hi there

          Mini what''s up?

          ```


          I''ve seen other users mention `Mini` too.'
        updatedAt: '2023-09-26T21:40:57.684Z'
      numEdits: 0
      reactions: []
    id: 65134fe9b4a3c844a7c5f8b5
    type: comment
  author: YoYo1234Qwerty
  content: 'I think everyone''s wrong about `>>QUESTION<<` and `>>ANSWER<<`. If you
    ask a `>>QUESTION<<`, it''ll never output the `>>ANSWER<<` token on its own, meaning
    it likely wasn''t trained like this.


    I don''t know what the right answer is, but it does seem eager to stick to a template
    like:


    ```

    User Hi there

    Mini what''s up?

    ```


    I''ve seen other users mention `Mini` too.'
  created_at: 2023-09-26 20:40:57+00:00
  edited: false
  hidden: false
  id: 65134fe9b4a3c844a7c5f8b5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 24
repo_id: tiiuae/falcon-40b-instruct
repo_type: model
status: open
target_branch: null
title: Various Prompt Formats
