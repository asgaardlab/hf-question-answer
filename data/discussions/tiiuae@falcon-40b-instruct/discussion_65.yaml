!!python/object:huggingface_hub.community.DiscussionWithDetails
author: aruana
conflicting_files: null
created_at: 2023-07-12 10:11:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b80252d2ef3448421718f7f6ae150b32.svg
      fullname: Philip Gertsch
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: aruana
      type: user
    createdAt: '2023-07-12T11:11:52.000Z'
    data:
      edited: false
      editors:
      - aruana
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7713434100151062
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b80252d2ef3448421718f7f6ae150b32.svg
          fullname: Philip Gertsch
          isHf: false
          isPro: false
          name: aruana
          type: user
        html: '<p>Hi there</p>

          <p>I''m totally new to the falcon-40b-instruct-model AND the using of HuggingFace-inference-endpoints.</p>

          <p>What I am trying to do is:</p>

          <ul>

          <li>having an endpoint, that I can invoke with a "prompt" and "instructions",
          as I can when trying the "falcon-chat-demo"</li>

          <li>sending multiple requests with the same - I guess - "session_hash" (?),
          so the bot knows, what "we were talking about so far" ..</li>

          </ul>

          <p>--code--<br>What I did:</p>

          <ul>

          <li>I''ve successfully set up an inference endpoint with falcon-40b-instruct</li>

          <li>I also can reach the endpoint via postman-post-request like so:</li>

          </ul>

          <p>const axios = require(''axios'');<br>let data = JSON.stringify([<br>  "Hi"<br>]);</p>

          <p>let config = {<br>  method: ''post'',<br>  maxBodyLength: Infinity,<br>  url:
          ''ENDPOINT'',<br>  headers: {<br>    ''Content-Type'': ''application/json''<br>  },<br>  data
          : data<br>};</p>

          <p>axios.request(config)<br>.then((response) =&gt; {<br>  console.log(JSON.stringify(response.data));<br>})<br>.catch((error)
          =&gt; {<br>  console.log(error);<br>});<br>--code--</p>

          <p>What I am NOT able to do is:</p>

          <ul>

          <li>setting "instructions"</li>

          <li>setting some kind of "session"-id/-hash or whatever, so the bot remembers
          the conversation like it does in the "falcon-chat-demo".</li>

          </ul>

          <p>Can anyone help me out here? I did not find any documentation on this
          ..</p>

          <p>Cheers<br>Philip</p>

          '
        raw: "Hi there\r\n\r\nI'm totally new to the falcon-40b-instruct-model AND\
          \ the using of HuggingFace-inference-endpoints.\r\n\r\nWhat I am trying\
          \ to do is:\r\n - having an endpoint, that I can invoke with a \"prompt\"\
          \ and \"instructions\", as I can when trying the \"falcon-chat-demo\"\r\n\
          \ - sending multiple requests with the same - I guess - \"session_hash\"\
          \ (?), so the bot knows, what \"we were talking about so far\" ..\r\n\r\n\
          --code--\r\nWhat I did:\r\n - I've successfully set up an inference endpoint\
          \ with falcon-40b-instruct\r\n - I also can reach the endpoint via postman-post-request\
          \ like so:\r\n\r\nconst axios = require('axios');\r\nlet data = JSON.stringify([\r\
          \n  \"Hi\"\r\n]);\r\n\r\nlet config = {\r\n  method: 'post',\r\n  maxBodyLength:\
          \ Infinity,\r\n  url: 'ENDPOINT',\r\n  headers: { \r\n    'Content-Type':\
          \ 'application/json'\r\n  },\r\n  data : data\r\n};\r\n\r\naxios.request(config)\r\
          \n.then((response) => {\r\n  console.log(JSON.stringify(response.data));\r\
          \n})\r\n.catch((error) => {\r\n  console.log(error);\r\n});\r\n--code--\r\
          \n\r\nWhat I am NOT able to do is:\r\n - setting \"instructions\"\r\n -\
          \ setting some kind of \"session\"-id/-hash or whatever, so the bot remembers\
          \ the conversation like it does in the \"falcon-chat-demo\".\r\n\r\nCan\
          \ anyone help me out here? I did not find any documentation on this ..\r\
          \n\r\nCheers\r\nPhilip\r\n"
        updatedAt: '2023-07-12T11:11:52.522Z'
      numEdits: 0
      reactions: []
    id: 64ae8a78f1db6f0f91aa6c9d
    type: comment
  author: aruana
  content: "Hi there\r\n\r\nI'm totally new to the falcon-40b-instruct-model AND the\
    \ using of HuggingFace-inference-endpoints.\r\n\r\nWhat I am trying to do is:\r\
    \n - having an endpoint, that I can invoke with a \"prompt\" and \"instructions\"\
    , as I can when trying the \"falcon-chat-demo\"\r\n - sending multiple requests\
    \ with the same - I guess - \"session_hash\" (?), so the bot knows, what \"we\
    \ were talking about so far\" ..\r\n\r\n--code--\r\nWhat I did:\r\n - I've successfully\
    \ set up an inference endpoint with falcon-40b-instruct\r\n - I also can reach\
    \ the endpoint via postman-post-request like so:\r\n\r\nconst axios = require('axios');\r\
    \nlet data = JSON.stringify([\r\n  \"Hi\"\r\n]);\r\n\r\nlet config = {\r\n  method:\
    \ 'post',\r\n  maxBodyLength: Infinity,\r\n  url: 'ENDPOINT',\r\n  headers: {\
    \ \r\n    'Content-Type': 'application/json'\r\n  },\r\n  data : data\r\n};\r\n\
    \r\naxios.request(config)\r\n.then((response) => {\r\n  console.log(JSON.stringify(response.data));\r\
    \n})\r\n.catch((error) => {\r\n  console.log(error);\r\n});\r\n--code--\r\n\r\n\
    What I am NOT able to do is:\r\n - setting \"instructions\"\r\n - setting some\
    \ kind of \"session\"-id/-hash or whatever, so the bot remembers the conversation\
    \ like it does in the \"falcon-chat-demo\".\r\n\r\nCan anyone help me out here?\
    \ I did not find any documentation on this ..\r\n\r\nCheers\r\nPhilip\r\n"
  created_at: 2023-07-12 10:11:52+00:00
  edited: false
  hidden: false
  id: 64ae8a78f1db6f0f91aa6c9d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a2c38670e28526389c3285ef94f8b4a1.svg
      fullname: Milette De Castro
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: LetDC
      type: user
    createdAt: '2023-07-19T14:38:17.000Z'
    data:
      edited: false
      editors:
      - LetDC
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9155062437057495
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a2c38670e28526389c3285ef94f8b4a1.svg
          fullname: Milette De Castro
          isHf: false
          isPro: false
          name: LetDC
          type: user
        html: '<p>I have the same problem!</p>

          '
        raw: I have the same problem!
        updatedAt: '2023-07-19T14:38:17.082Z'
      numEdits: 0
      reactions: []
    id: 64b7f5591149daae4c8bf81f
    type: comment
  author: LetDC
  content: I have the same problem!
  created_at: 2023-07-19 13:38:17+00:00
  edited: false
  hidden: false
  id: 64b7f5591149daae4c8bf81f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 65
repo_id: tiiuae/falcon-40b-instruct
repo_type: model
status: open
target_branch: null
title: Cannot set "instructions" when invoking inference endpoint
