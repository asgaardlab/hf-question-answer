!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AlexanderKeijser
conflicting_files: null
created_at: 2022-09-19 05:20:23+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/da1220ef826fc821c6af9c9d855078c7.svg
      fullname: Alexander Keijser
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlexanderKeijser
      type: user
    createdAt: '2022-09-19T06:20:23.000Z'
    data:
      edited: false
      editors:
      - AlexanderKeijser
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/da1220ef826fc821c6af9c9d855078c7.svg
          fullname: Alexander Keijser
          isHf: false
          isPro: false
          name: AlexanderKeijser
          type: user
        html: "<p>I tried loading  this model in Colab as follows:</p>\n<pre><code>from\
          \ transformers import AutoModel\nmodel = AutoModel.from_pretrained(\"openai/jukebox-1b-lyrics\"\
          )\n</code></pre>\n<p>But I get the following error for all variants of the\
          \ model</p>\n<pre><code>---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          &lt;ipython-input-4-e59698a87bba&gt; in &lt;module&gt;\n      3 # model\
          \ = AutoModel.from_pretrained(\"openai/jukebox-5b-lyrics\", device_map=\"\
          auto\", load_in_8bit=True)\n      4 # model = AutoModel.from_pretrained(\"\
          ArthurZ/jukebox-5b-lyrics\")\n----&gt; 5 model = AutoModel.from_pretrained(\"\
          openai/jukebox-5b-lyrics\")\n\n2 frames\n/usr/local/lib/python3.7/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\n    471             return self._extra_content[key]\n\
          \    472         if key not in self._mapping:\n--&gt; 473             raise\
          \ KeyError(key)\n    474         value = self._mapping[key]\n    475   \
          \      module_name = model_type_to_module_name(key)\n\nKeyError: 'jukebox'\n\
          </code></pre>\n<p>Could someone help me solve this?</p>\n"
        raw: "I tried loading  this model in Colab as follows:\r\n\r\n```\r\nfrom\
          \ transformers import AutoModel\r\nmodel = AutoModel.from_pretrained(\"\
          openai/jukebox-1b-lyrics\")\r\n```\r\n\r\nBut I get the following error\
          \ for all variants of the model\r\n\r\n```\r\n---------------------------------------------------------------------------\r\
          \nKeyError                                  Traceback (most recent call\
          \ last)\r\n<ipython-input-4-e59698a87bba> in <module>\r\n      3 # model\
          \ = AutoModel.from_pretrained(\"openai/jukebox-5b-lyrics\", device_map=\"\
          auto\", load_in_8bit=True)\r\n      4 # model = AutoModel.from_pretrained(\"\
          ArthurZ/jukebox-5b-lyrics\")\r\n----> 5 model = AutoModel.from_pretrained(\"\
          openai/jukebox-5b-lyrics\")\r\n\r\n2 frames\r\n/usr/local/lib/python3.7/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\r\n    471             return self._extra_content[key]\r\
          \n    472         if key not in self._mapping:\r\n--> 473             raise\
          \ KeyError(key)\r\n    474         value = self._mapping[key]\r\n    475\
          \         module_name = model_type_to_module_name(key)\r\n\r\nKeyError:\
          \ 'jukebox'\r\n```\r\n\r\nCould someone help me solve this?"
        updatedAt: '2022-09-19T06:20:23.612Z'
      numEdits: 0
      reactions: []
    id: 63280a27ac205d01918addab
    type: comment
  author: AlexanderKeijser
  content: "I tried loading  this model in Colab as follows:\r\n\r\n```\r\nfrom transformers\
    \ import AutoModel\r\nmodel = AutoModel.from_pretrained(\"openai/jukebox-1b-lyrics\"\
    )\r\n```\r\n\r\nBut I get the following error for all variants of the model\r\n\
    \r\n```\r\n---------------------------------------------------------------------------\r\
    \nKeyError                                  Traceback (most recent call last)\r\
    \n<ipython-input-4-e59698a87bba> in <module>\r\n      3 # model = AutoModel.from_pretrained(\"\
    openai/jukebox-5b-lyrics\", device_map=\"auto\", load_in_8bit=True)\r\n      4\
    \ # model = AutoModel.from_pretrained(\"ArthurZ/jukebox-5b-lyrics\")\r\n---->\
    \ 5 model = AutoModel.from_pretrained(\"openai/jukebox-5b-lyrics\")\r\n\r\n2 frames\r\
    \n/usr/local/lib/python3.7/dist-packages/transformers/models/auto/configuration_auto.py\
    \ in __getitem__(self, key)\r\n    471             return self._extra_content[key]\r\
    \n    472         if key not in self._mapping:\r\n--> 473             raise KeyError(key)\r\
    \n    474         value = self._mapping[key]\r\n    475         module_name =\
    \ model_type_to_module_name(key)\r\n\r\nKeyError: 'jukebox'\r\n```\r\n\r\nCould\
    \ someone help me solve this?"
  created_at: 2022-09-19 05:20:23+00:00
  edited: false
  hidden: false
  id: 63280a27ac205d01918addab
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/da1220ef826fc821c6af9c9d855078c7.svg
      fullname: Alexander Keijser
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlexanderKeijser
      type: user
    createdAt: '2022-09-19T06:29:06.000Z'
    data:
      edited: false
      editors:
      - AlexanderKeijser
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/da1220ef826fc821c6af9c9d855078c7.svg
          fullname: Alexander Keijser
          isHf: false
          isPro: false
          name: AlexanderKeijser
          type: user
        html: '<p>I see it''s probably similar to this issue: <a rel="nofollow" href="https://github.com/google-research/electra/issues/32">https://github.com/google-research/electra/issues/32</a></p>

          '
        raw: 'I see it''s probably similar to this issue: https://github.com/google-research/electra/issues/32'
        updatedAt: '2022-09-19T06:29:06.001Z'
      numEdits: 0
      reactions: []
    id: 63280c32ac205d01918aec2d
    type: comment
  author: AlexanderKeijser
  content: 'I see it''s probably similar to this issue: https://github.com/google-research/electra/issues/32'
  created_at: 2022-09-19 05:29:06+00:00
  edited: false
  hidden: false
  id: 63280c32ac205d01918aec2d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2022-11-10T09:41:48.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>Hey! Totally normal, the model has not been merged yet! </p>

          '
        raw: 'Hey! Totally normal, the model has not been merged yet! '
        updatedAt: '2022-11-10T09:41:48.652Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F614"
        users:
        - AlexanderKeijser
      relatedEventId: 636cc75c663902c261a77449
    id: 636cc75c663902c261a77448
    type: comment
  author: ArthurZ
  content: 'Hey! Totally normal, the model has not been merged yet! '
  created_at: 2022-11-10 09:41:48+00:00
  edited: false
  hidden: false
  id: 636cc75c663902c261a77448
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2022-11-10T09:41:48.000Z'
    data:
      status: closed
    id: 636cc75c663902c261a77449
    type: status-change
  author: ArthurZ
  created_at: 2022-11-10 09:41:48+00:00
  id: 636cc75c663902c261a77449
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: openai/jukebox-1b-lyrics
repo_type: model
status: closed
target_branch: null
title: Loading model with `AutoModel.from_pretrained` causes keyerror on Google Colab
