!!python/object:huggingface_hub.community.DiscussionWithDetails
author: besiktas
conflicting_files: null
created_at: 2023-10-31 19:08:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
      fullname: graham
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: besiktas
      type: user
    createdAt: '2023-10-31T20:08:52.000Z'
    data:
      edited: false
      editors:
      - besiktas
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9755739569664001
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
          fullname: graham
          isHf: false
          isPro: false
          name: besiktas
          type: user
        html: '<p>Has anyone had any luck fine-tuning this model with non 80GB cards?  I
          am using a training script that is pretty close to the finetuning.py llama
          script and have tried every combo of options I can think of (but perhaps
          I''m missing an obvious one) and unable to get a forward/backward pass of
          the model.  Using 8x48GB cards.</p>

          '
        raw: Has anyone had any luck fine-tuning this model with non 80GB cards?  I
          am using a training script that is pretty close to the finetuning.py llama
          script and have tried every combo of options I can think of (but perhaps
          I'm missing an obvious one) and unable to get a forward/backward pass of
          the model.  Using 8x48GB cards.
        updatedAt: '2023-10-31T20:08:52.488Z'
      numEdits: 0
      reactions: []
    id: 65415ed4469765911c3b263a
    type: comment
  author: besiktas
  content: Has anyone had any luck fine-tuning this model with non 80GB cards?  I
    am using a training script that is pretty close to the finetuning.py llama script
    and have tried every combo of options I can think of (but perhaps I'm missing
    an obvious one) and unable to get a forward/backward pass of the model.  Using
    8x48GB cards.
  created_at: 2023-10-31 19:08:52+00:00
  edited: false
  hidden: false
  id: 65415ed4469765911c3b263a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64789feb79f2d49511ed7db4/IzaIwiVgnkTZHrcLDQk0C.jpeg?w=200&h=200&f=face
      fullname: Pablo Montalvo
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Molbap
      type: user
    createdAt: '2023-11-07T16:17:42.000Z'
    data:
      edited: false
      editors:
      - Molbap
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8881489634513855
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64789feb79f2d49511ed7db4/IzaIwiVgnkTZHrcLDQk0C.jpeg?w=200&h=200&f=face
          fullname: Pablo Montalvo
          isHf: true
          isPro: false
          name: Molbap
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;besiktas&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/besiktas\"\
          >@<span class=\"underline\">besiktas</span></a></span>\n\n\t</span></span>\
          \ , there is a discussion around this PR <a rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/pull/26997\"\
          >https://github.com/huggingface/transformers/pull/26997</a> which you may\
          \ find relevant :) </p>\n"
        raw: 'Hi @besiktas , there is a discussion around this PR https://github.com/huggingface/transformers/pull/26997
          which you may find relevant :) '
        updatedAt: '2023-11-07T16:17:42.111Z'
      numEdits: 0
      reactions: []
    id: 654a63265cc8b44229fe3e56
    type: comment
  author: Molbap
  content: 'Hi @besiktas , there is a discussion around this PR https://github.com/huggingface/transformers/pull/26997
    which you may find relevant :) '
  created_at: 2023-11-07 16:17:42+00:00
  edited: false
  hidden: false
  id: 654a63265cc8b44229fe3e56
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
      fullname: graham
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: besiktas
      type: user
    createdAt: '2023-11-07T17:17:12.000Z'
    data:
      edited: false
      editors:
      - besiktas
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9953880310058594
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
          fullname: graham
          isHf: false
          isPro: false
          name: besiktas
          type: user
        html: "<p>hey <span data-props=\"{&quot;user&quot;:&quot;Molbap&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Molbap\">@<span class=\"\
          underline\">Molbap</span></a></span>\n\n\t</span></span> thanks, believe\
          \ I saw that before and was not able to get it to work but I have a working\
          \ example now. </p>\n"
        raw: 'hey @Molbap thanks, believe I saw that before and was not able to get
          it to work but I have a working example now. '
        updatedAt: '2023-11-07T17:17:12.048Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F917"
        users:
        - Molbap
    id: 654a711883e7bfc4314690b4
    type: comment
  author: besiktas
  content: 'hey @Molbap thanks, believe I saw that before and was not able to get
    it to work but I have a working example now. '
  created_at: 2023-11-07 17:17:12+00:00
  edited: false
  hidden: false
  id: 654a711883e7bfc4314690b4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99acaa794870daa661228a58609fef78.svg
      fullname: zhao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yinggong
      type: user
    createdAt: '2023-11-08T10:14:42.000Z'
    data:
      edited: false
      editors:
      - yinggong
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9343551397323608
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99acaa794870daa661228a58609fef78.svg
          fullname: zhao
          isHf: false
          isPro: false
          name: yinggong
          type: user
        html: '<p>Can you finetune the fuyu model? I have 80GB cards.</p>

          '
        raw: Can you finetune the fuyu model? I have 80GB cards.
        updatedAt: '2023-11-08T10:14:42.603Z'
      numEdits: 0
      reactions: []
    id: 654b5f920f7c8401c4516ad4
    type: comment
  author: yinggong
  content: Can you finetune the fuyu model? I have 80GB cards.
  created_at: 2023-11-08 10:14:42+00:00
  edited: false
  hidden: false
  id: 654b5f920f7c8401c4516ad4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
      fullname: graham
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: besiktas
      type: user
    createdAt: '2023-11-09T20:45:55.000Z'
    data:
      edited: false
      editors:
      - besiktas
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.987468421459198
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
          fullname: graham
          isHf: false
          isPro: false
          name: besiktas
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;yinggong&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/yinggong\">@<span class=\"\
          underline\">yinggong</span></a></span>\n\n\t</span></span> you shouldn't\
          \ have a problem with 80GB cards</p>\n"
        raw: '@yinggong you shouldn''t have a problem with 80GB cards'
        updatedAt: '2023-11-09T20:45:55.103Z'
      numEdits: 0
      reactions: []
    id: 654d4503b70aa2e94f898760
    type: comment
  author: besiktas
  content: '@yinggong you shouldn''t have a problem with 80GB cards'
  created_at: 2023-11-09 20:45:55+00:00
  edited: false
  hidden: false
  id: 654d4503b70aa2e94f898760
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99acaa794870daa661228a58609fef78.svg
      fullname: zhao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yinggong
      type: user
    createdAt: '2023-11-21T03:49:03.000Z'
    data:
      edited: false
      editors:
      - yinggong
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9615210890769958
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99acaa794870daa661228a58609fef78.svg
          fullname: zhao
          isHf: false
          isPro: false
          name: yinggong
          type: user
        html: "<blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;yinggong&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/yinggong\"\
          >@<span class=\"underline\">yinggong</span></a></span>\n\n\t</span></span>\
          \ you shouldn't have a problem with 80GB cards</p>\n</blockquote>\n<p>do\
          \ you know where to fine the train script?</p>\n<p>It seems not work from\
          \ <a rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/issues/27255\"\
          >https://github.com/huggingface/transformers/issues/27255</a></p>\n<p>Thanks!</p>\n"
        raw: '> @yinggong you shouldn''t have a problem with 80GB cards


          do you know where to fine the train script?


          It seems not work from https://github.com/huggingface/transformers/issues/27255


          Thanks!

          '
        updatedAt: '2023-11-21T03:49:03.347Z'
      numEdits: 0
      reactions: []
    id: 655c28aff97967fef421a566
    type: comment
  author: yinggong
  content: '> @yinggong you shouldn''t have a problem with 80GB cards


    do you know where to fine the train script?


    It seems not work from https://github.com/huggingface/transformers/issues/27255


    Thanks!

    '
  created_at: 2023-11-21 03:49:03+00:00
  edited: false
  hidden: false
  id: 655c28aff97967fef421a566
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661287626216-noauth.png?w=200&h=200&f=face
      fullname: Cyrus Manuel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cysmnl
      type: user
    createdAt: '2023-11-21T19:55:50.000Z'
    data:
      edited: false
      editors:
      - cysmnl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9268289804458618
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661287626216-noauth.png?w=200&h=200&f=face
          fullname: Cyrus Manuel
          isHf: false
          isPro: false
          name: cysmnl
          type: user
        html: '<p>I faced a CUDA memory issue when running <code>run_fuyu_no_trainer.py
          </code>on a single A100 card.  I resolved this by using 4-bit models, which
          happen to work on either a 3090 or a A100 card.</p>

          '
        raw: I faced a CUDA memory issue when running `run_fuyu_no_trainer.py `on
          a single A100 card.  I resolved this by using 4-bit models, which happen
          to work on either a 3090 or a A100 card.
        updatedAt: '2023-11-21T19:55:50.572Z'
      numEdits: 0
      reactions: []
    id: 655d0b46f828e5ad0fe91c34
    type: comment
  author: cysmnl
  content: I faced a CUDA memory issue when running `run_fuyu_no_trainer.py `on a
    single A100 card.  I resolved this by using 4-bit models, which happen to work
    on either a 3090 or a A100 card.
  created_at: 2023-11-21 19:55:50+00:00
  edited: false
  hidden: false
  id: 655d0b46f828e5ad0fe91c34
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661287626216-noauth.png?w=200&h=200&f=face
      fullname: Cyrus Manuel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cysmnl
      type: user
    createdAt: '2023-11-21T19:57:17.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661287626216-noauth.png?w=200&h=200&f=face
          fullname: Cyrus Manuel
          isHf: false
          isPro: false
          name: cysmnl
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-11-21T21:04:34.063Z'
      numEdits: 0
      reactions: []
    id: 655d0b9d4502ac1745deda3f
    type: comment
  author: cysmnl
  content: This comment has been hidden
  created_at: 2023-11-21 19:57:17+00:00
  edited: true
  hidden: true
  id: 655d0b9d4502ac1745deda3f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
      fullname: graham
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: besiktas
      type: user
    createdAt: '2023-11-28T23:02:34.000Z'
    data:
      edited: false
      editors:
      - besiktas
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8409149646759033
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f2ad9bc4e9e729fe7bfd7dcc76207a4.svg
          fullname: graham
          isHf: false
          isPro: false
          name: besiktas
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;yinggong&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/yinggong\">@<span class=\"\
          underline\">yinggong</span></a></span>\n\n\t</span></span> here is a super\
          \ simple script that allows you to test if you can get the model running\
          \ on your machine: <a rel=\"nofollow\" href=\"https://github.com/grahamannett/finetune-fuyu/blob/main/train-simple.py\"\
          >https://github.com/grahamannett/finetune-fuyu/blob/main/train-simple.py</a></p>\n\
          <p>It mocks a text input and image so that you can be sure the processor\
          \ works as well.</p>\n"
        raw: '@yinggong here is a super simple script that allows you to test if you
          can get the model running on your machine: https://github.com/grahamannett/finetune-fuyu/blob/main/train-simple.py


          It mocks a text input and image so that you can be sure the processor works
          as well.'
        updatedAt: '2023-11-28T23:02:34.857Z'
      numEdits: 0
      reactions: []
    id: 6566718a295a50cb589643bc
    type: comment
  author: besiktas
  content: '@yinggong here is a super simple script that allows you to test if you
    can get the model running on your machine: https://github.com/grahamannett/finetune-fuyu/blob/main/train-simple.py


    It mocks a text input and image so that you can be sure the processor works as
    well.'
  created_at: 2023-11-28 23:02:34+00:00
  edited: false
  hidden: false
  id: 6566718a295a50cb589643bc
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 43
repo_id: adept/fuyu-8b
repo_type: model
status: open
target_branch: null
title: fine-tuning using FSDP and non 80GB cards?
