!!python/object:huggingface_hub.community.DiscussionWithDetails
author: vishal1278
conflicting_files: null
created_at: 2023-10-23 15:13:43+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b4003505d942d54c4616f4e262563063.svg
      fullname: Vishal Patel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: vishal1278
      type: user
    createdAt: '2023-10-23T16:13:43.000Z'
    data:
      edited: true
      editors:
      - vishal1278
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7130070328712463
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b4003505d942d54c4616f4e262563063.svg
          fullname: Vishal Patel
          isHf: false
          isPro: false
          name: vishal1278
          type: user
        html: "<p>I am able to successfully run the code that are provided as examples\
          \ (in the Model card section) using <code>bus.png</code> and <code>chart.png</code>\
          \ images. However, whenever I try to run it on any other images, I get the\
          \ following error message:</p>\n<pre><code>Loading checkpoint shards: 100%|\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          | 2/2 [00:07&lt;00:00,  3.88s/it]\nTraceback (most recent call last):\n\
          \  File \"/home/vishal/code/fuyu/test_2.py\", line 14, in &lt;module&gt;\n\
          \    model_inputs = processor(text_prompt, images=[image_pil], device=\"\
          cuda:0\")\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/models/fuyu/processing_fuyu.py\"\
          , line 464, in __call__\n    batch_images, image_unpadded_heights, image_unpadded_widths\
          \ = self._process_images(images)\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/models/fuyu/processing_fuyu.py\"\
          , line 399, in _process_images\n    channel_dimension = in\n![two-axis-plot.png](https://cdn-uploads.huggingface.co/production/uploads/63ed7313f765928ceeb07bf5/UDcWsj9Scc3-buc5wxncI.png)\n\
          fer_channel_dimension_format(image, 3)\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/image_utils.py\"\
          , line 189, in infer_channel_dimension_format\n    raise ValueError(\"Unable\
          \ to infer channel dimension format\")\nValueError: Unable to infer channel\
          \ dimension format\n</code></pre>\n<p>I have attached one image that I have\
          \ been trying to ask questions about using this model.</p>\n"
        raw: "I am able to successfully run the code that are provided as examples\
          \ (in the Model card section) using `bus.png` and `chart.png` images. However,\
          \ whenever I try to run it on any other images, I get the following error\
          \ message:\n\n```\nLoading checkpoint shards: 100%|\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 2/2 [00:07<00:00,\
          \  3.88s/it]\nTraceback (most recent call last):\n  File \"/home/vishal/code/fuyu/test_2.py\"\
          , line 14, in <module>\n    model_inputs = processor(text_prompt, images=[image_pil],\
          \ device=\"cuda:0\")\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/models/fuyu/processing_fuyu.py\"\
          , line 464, in __call__\n    batch_images, image_unpadded_heights, image_unpadded_widths\
          \ = self._process_images(images)\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/models/fuyu/processing_fuyu.py\"\
          , line 399, in _process_images\n    channel_dimension = in\n![two-axis-plot.png](https://cdn-uploads.huggingface.co/production/uploads/63ed7313f765928ceeb07bf5/UDcWsj9Scc3-buc5wxncI.png)\n\
          fer_channel_dimension_format(image, 3)\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/image_utils.py\"\
          , line 189, in infer_channel_dimension_format\n    raise ValueError(\"Unable\
          \ to infer channel dimension format\")\nValueError: Unable to infer channel\
          \ dimension format\n```\nI have attached one image that I have been trying\
          \ to ask questions about using this model.\n"
        updatedAt: '2023-10-24T13:43:52.405Z'
      numEdits: 1
      reactions: []
    id: 65369bb792e283bfff033038
    type: comment
  author: vishal1278
  content: "I am able to successfully run the code that are provided as examples (in\
    \ the Model card section) using `bus.png` and `chart.png` images. However, whenever\
    \ I try to run it on any other images, I get the following error message:\n\n\
    ```\nLoading checkpoint shards: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588| 2/2 [00:07<00:00,  3.88s/it]\nTraceback (most recent\
    \ call last):\n  File \"/home/vishal/code/fuyu/test_2.py\", line 14, in <module>\n\
    \    model_inputs = processor(text_prompt, images=[image_pil], device=\"cuda:0\"\
    )\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/models/fuyu/processing_fuyu.py\"\
    , line 464, in __call__\n    batch_images, image_unpadded_heights, image_unpadded_widths\
    \ = self._process_images(images)\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/models/fuyu/processing_fuyu.py\"\
    , line 399, in _process_images\n    channel_dimension = in\n![two-axis-plot.png](https://cdn-uploads.huggingface.co/production/uploads/63ed7313f765928ceeb07bf5/UDcWsj9Scc3-buc5wxncI.png)\n\
    fer_channel_dimension_format(image, 3)\n  File \"/home/vishal/code/fuyu/.venv/lib/python3.10/site-packages/transformers/image_utils.py\"\
    , line 189, in infer_channel_dimension_format\n    raise ValueError(\"Unable to\
    \ infer channel dimension format\")\nValueError: Unable to infer channel dimension\
    \ format\n```\nI have attached one image that I have been trying to ask questions\
    \ about using this model.\n"
  created_at: 2023-10-23 15:13:43+00:00
  edited: true
  hidden: false
  id: 65369bb792e283bfff033038
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6359599c6805fab09b0912dc/645rCR99A6CyIXSFy-w6_.jpeg?w=200&h=200&f=face
      fullname: Gaurav Verma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gauravverma
      type: user
    createdAt: '2023-10-23T20:23:54.000Z'
    data:
      edited: false
      editors:
      - gauravverma
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7262951135635376
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6359599c6805fab09b0912dc/645rCR99A6CyIXSFy-w6_.jpeg?w=200&h=200&f=face
          fullname: Gaurav Verma
          isHf: false
          isPro: false
          name: gauravverma
          type: user
        html: '<p><code>image = Image.open(image_path).convert("RGB")</code> should
          fix this</p>

          '
        raw: '`image = Image.open(image_path).convert("RGB")` should fix this'
        updatedAt: '2023-10-23T20:23:54.686Z'
      numEdits: 0
      reactions:
      - count: 5
        reaction: "\U0001F44D"
        users:
        - Molbap
        - vishal1278
        - pcuenq
        - RobinCahierre
        - pankaj-munde
    id: 6536d65afa9f02750d152fc8
    type: comment
  author: gauravverma
  content: '`image = Image.open(image_path).convert("RGB")` should fix this'
  created_at: 2023-10-23 19:23:54+00:00
  edited: false
  hidden: false
  id: 6536d65afa9f02750d152fc8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0cf2b7f190b13e68c8926d3a32bbbd4f.svg
      fullname: Lcx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: KongoCat
      type: user
    createdAt: '2023-10-24T03:59:07.000Z'
    data:
      edited: false
      editors:
      - KongoCat
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.933465838432312
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0cf2b7f190b13e68c8926d3a32bbbd4f.svg
          fullname: Lcx
          isHf: false
          isPro: false
          name: KongoCat
          type: user
        html: '<p>I met the same question too, maybe png format like rgba image have
          not yet accept.</p>

          '
        raw: I met the same question too, maybe png format like rgba image have not
          yet accept.
        updatedAt: '2023-10-24T03:59:07.184Z'
      numEdits: 0
      reactions: []
    id: 6537410b29f89004f338883f
    type: comment
  author: KongoCat
  content: I met the same question too, maybe png format like rgba image have not
    yet accept.
  created_at: 2023-10-24 02:59:07+00:00
  edited: false
  hidden: false
  id: 6537410b29f89004f338883f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-10-24T11:19:51.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.766664981842041
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;KongoCat&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/KongoCat\"\
          >@<span class=\"underline\">KongoCat</span></a></span>\n\n\t</span></span>!\
          \ The solution suggested above by <span data-props=\"{&quot;user&quot;:&quot;gauravverma&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/gauravverma\"\
          >@<span class=\"underline\">gauravverma</span></a></span>\n\n\t</span></span>\
          \ should work fine :)</p>\n"
        raw: Hi @KongoCat! The solution suggested above by @gauravverma should work
          fine :)
        updatedAt: '2023-10-24T11:19:51.157Z'
      numEdits: 0
      reactions: []
    id: 6537a857bbc02c49b208dbcd
    type: comment
  author: pcuenq
  content: Hi @KongoCat! The solution suggested above by @gauravverma should work
    fine :)
  created_at: 2023-10-24 10:19:51+00:00
  edited: false
  hidden: false
  id: 6537a857bbc02c49b208dbcd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0cf2b7f190b13e68c8926d3a32bbbd4f.svg
      fullname: Lcx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: KongoCat
      type: user
    createdAt: '2023-10-24T12:54:51.000Z'
    data:
      edited: false
      editors:
      - KongoCat
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7805421352386475
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0cf2b7f190b13e68c8926d3a32bbbd4f.svg
          fullname: Lcx
          isHf: false
          isPro: false
          name: KongoCat
          type: user
        html: "<blockquote>\n<p>Hi <span data-props=\"{&quot;user&quot;:&quot;KongoCat&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/KongoCat\"\
          >@<span class=\"underline\">KongoCat</span></a></span>\n\n\t</span></span>!\
          \ The solution suggested above by <span data-props=\"{&quot;user&quot;:&quot;gauravverma&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/gauravverma\"\
          >@<span class=\"underline\">gauravverma</span></a></span>\n\n\t</span></span>\
          \ should work fine :)</p>\n</blockquote>\n<p>thanks!</p>\n"
        raw: '> Hi @KongoCat! The solution suggested above by @gauravverma should
          work fine :)


          thanks!'
        updatedAt: '2023-10-24T12:54:51.336Z'
      numEdits: 0
      reactions: []
    id: 6537be9bd94ca56805ac846e
    type: comment
  author: KongoCat
  content: '> Hi @KongoCat! The solution suggested above by @gauravverma should work
    fine :)


    thanks!'
  created_at: 2023-10-24 11:54:51+00:00
  edited: false
  hidden: false
  id: 6537be9bd94ca56805ac846e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b4003505d942d54c4616f4e262563063.svg
      fullname: Vishal Patel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: vishal1278
      type: user
    createdAt: '2023-10-24T13:28:23.000Z'
    data:
      edited: false
      editors:
      - vishal1278
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.48583126068115234
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b4003505d942d54c4616f4e262563063.svg
          fullname: Vishal Patel
          isHf: false
          isPro: false
          name: vishal1278
          type: user
        html: "<blockquote>\n<p><code>image = Image.open(image_path).convert(\"RGB\"\
          )</code> should fix this</p>\n</blockquote>\n<p>Thank you, <span data-props=\"\
          {&quot;user&quot;:&quot;gauravverma&quot;}\" data-target=\"UserMention\"\
          \ class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"\
          ><span class=\"contents\"><a href=\"/gauravverma\">@<span class=\"underline\"\
          >gauravverma</span></a></span>\n\n\t</span></span>!</p>\n"
        raw: '> `image = Image.open(image_path).convert("RGB")` should fix this


          Thank you, @gauravverma!'
        updatedAt: '2023-10-24T13:28:23.852Z'
      numEdits: 0
      reactions: []
    id: 6537c6770eac5301c9c674ac
    type: comment
  author: vishal1278
  content: '> `image = Image.open(image_path).convert("RGB")` should fix this


    Thank you, @gauravverma!'
  created_at: 2023-10-24 12:28:23+00:00
  edited: false
  hidden: false
  id: 6537c6770eac5301c9c674ac
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 26
repo_id: adept/fuyu-8b
repo_type: model
status: open
target_branch: null
title: 'ValueError: Unable to infer channel dimension format'
