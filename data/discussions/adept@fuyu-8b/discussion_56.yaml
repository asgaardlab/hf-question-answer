!!python/object:huggingface_hub.community.DiscussionWithDetails
author: justinwickett
conflicting_files: null
created_at: 2023-11-22 05:00:04+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d1252ec2e139ea0324b776944bb8596c.svg
      fullname: Justin Wickett
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: justinwickett
      type: user
    createdAt: '2023-11-22T05:00:04.000Z'
    data:
      edited: true
      editors:
      - justinwickett
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7201417684555054
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d1252ec2e139ea0324b776944bb8596c.svg
          fullname: Justin Wickett
          isHf: false
          isPro: false
          name: justinwickett
          type: user
        html: '<p>This is the error that I''m encountering when running <code>from
          transformers import FuyuProcessor, FuyuForCausalLM</code>:</p>

          <p>RuntimeError: Failed to import transformers.models.fuyu.processing_fuyu
          because of the following error (look up to see its traceback):<br>typing.Optional
          requires a single type. Got &lt;module ''PIL.Image'' from ''/home/ec2-user/anaconda3/lib/python3.10/site-packages/PIL/Image.py''&gt;.</p>

          '
        raw: 'This is the error that I''m encountering when running `from transformers
          import FuyuProcessor, FuyuForCausalLM`:


          RuntimeError: Failed to import transformers.models.fuyu.processing_fuyu
          because of the following error (look up to see its traceback):

          typing.Optional requires a single type. Got <module ''PIL.Image'' from ''/home/ec2-user/anaconda3/lib/python3.10/site-packages/PIL/Image.py''>.'
        updatedAt: '2023-11-22T05:00:39.390Z'
      numEdits: 1
      reactions: []
    id: 655d8ad4d00cca1e3ac18931
    type: comment
  author: justinwickett
  content: 'This is the error that I''m encountering when running `from transformers
    import FuyuProcessor, FuyuForCausalLM`:


    RuntimeError: Failed to import transformers.models.fuyu.processing_fuyu because
    of the following error (look up to see its traceback):

    typing.Optional requires a single type. Got <module ''PIL.Image'' from ''/home/ec2-user/anaconda3/lib/python3.10/site-packages/PIL/Image.py''>.'
  created_at: 2023-11-22 05:00:04+00:00
  edited: true
  hidden: false
  id: 655d8ad4d00cca1e3ac18931
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64789feb79f2d49511ed7db4/IzaIwiVgnkTZHrcLDQk0C.jpeg?w=200&h=200&f=face
      fullname: Pablo Montalvo
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Molbap
      type: user
    createdAt: '2023-11-22T08:25:22.000Z'
    data:
      edited: false
      editors:
      - Molbap
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8488287925720215
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64789feb79f2d49511ed7db4/IzaIwiVgnkTZHrcLDQk0C.jpeg?w=200&h=200&f=face
          fullname: Pablo Montalvo
          isHf: true
          isPro: false
          name: Molbap
          type: user
        html: "<p>hey <span data-props=\"{&quot;user&quot;:&quot;justinwickett&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/justinwickett\"\
          >@<span class=\"underline\">justinwickett</span></a></span>\n\n\t</span></span>\
          \ , do you have the latest version of transformers + PIL installed in your\
          \ environment?</p>\n"
        raw: hey @justinwickett , do you have the latest version of transformers +
          PIL installed in your environment?
        updatedAt: '2023-11-22T08:25:22.482Z'
      numEdits: 0
      reactions: []
    id: 655dbaf2bf82497038efa93e
    type: comment
  author: Molbap
  content: hey @justinwickett , do you have the latest version of transformers + PIL
    installed in your environment?
  created_at: 2023-11-22 08:25:22+00:00
  edited: false
  hidden: false
  id: 655dbaf2bf82497038efa93e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d1252ec2e139ea0324b776944bb8596c.svg
      fullname: Justin Wickett
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: justinwickett
      type: user
    createdAt: '2023-11-22T16:34:15.000Z'
    data:
      edited: true
      editors:
      - justinwickett
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8474677801132202
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d1252ec2e139ea0324b776944bb8596c.svg
          fullname: Justin Wickett
          isHf: false
          isPro: false
          name: justinwickett
          type: user
        html: "<p>I thought I did, but clearly something is wrong with my environment.\
          \ I preformed the following commands:</p>\n<pre><code>pip install --upgrade\
          \ --force-reinstall pillow \npip install --force-reinstall git+https://github.com/huggingface/transformers.git\n\
          </code></pre>\n"
        raw: "I thought I did, but clearly something is wrong with my environment.\
          \ I preformed the following commands:\n\n```\npip install --upgrade --force-reinstall\
          \ pillow \npip install --force-reinstall git+https://github.com/huggingface/transformers.git\n\
          ```"
        updatedAt: '2023-11-22T16:39:35.625Z'
      numEdits: 1
      reactions: []
    id: 655e2d87ea8a8c6572047d8c
    type: comment
  author: justinwickett
  content: "I thought I did, but clearly something is wrong with my environment. I\
    \ preformed the following commands:\n\n```\npip install --upgrade --force-reinstall\
    \ pillow \npip install --force-reinstall git+https://github.com/huggingface/transformers.git\n\
    ```"
  created_at: 2023-11-22 16:34:15+00:00
  edited: true
  hidden: false
  id: 655e2d87ea8a8c6572047d8c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64789feb79f2d49511ed7db4/IzaIwiVgnkTZHrcLDQk0C.jpeg?w=200&h=200&f=face
      fullname: Pablo Montalvo
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Molbap
      type: user
    createdAt: '2023-11-23T09:47:17.000Z'
    data:
      edited: false
      editors:
      - Molbap
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9517076015472412
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64789feb79f2d49511ed7db4/IzaIwiVgnkTZHrcLDQk0C.jpeg?w=200&h=200&f=face
          fullname: Pablo Montalvo
          isHf: true
          isPro: false
          name: Molbap
          type: user
        html: '<p>And it does not work? Did you start a new env to be sure? If you
          have your full env details (python version as well) it can help, I know
          there might be some issues around <code>typing</code> and <code>PIL</code>
          so it might help uncover them :) </p>

          '
        raw: 'And it does not work? Did you start a new env to be sure? If you have
          your full env details (python version as well) it can help, I know there
          might be some issues around `typing` and `PIL` so it might help uncover
          them :) '
        updatedAt: '2023-11-23T09:47:17.161Z'
      numEdits: 0
      reactions: []
    id: 655f1fa5d3934dc402137e8c
    type: comment
  author: Molbap
  content: 'And it does not work? Did you start a new env to be sure? If you have
    your full env details (python version as well) it can help, I know there might
    be some issues around `typing` and `PIL` so it might help uncover them :) '
  created_at: 2023-11-23 09:47:17+00:00
  edited: false
  hidden: false
  id: 655f1fa5d3934dc402137e8c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 56
repo_id: adept/fuyu-8b
repo_type: model
status: open
target_branch: null
title: Tips on resolving this typing.Optional error seemingly related to PIL.Image?
