!!python/object:huggingface_hub.community.DiscussionWithDetails
author: nps798
conflicting_files: null
created_at: 2024-01-06 23:58:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6550b60a4863272fef6c45c3602d9269.svg
      fullname: YuJuLin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nps798
      type: user
    createdAt: '2024-01-06T23:58:59.000Z'
    data:
      edited: false
      editors:
      - nps798
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9728540778160095
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6550b60a4863272fef6c45c3602d9269.svg
          fullname: YuJuLin
          isHf: false
          isPro: false
          name: nps798
          type: user
        html: "<p>\u4F60\u597D<br>\u6211\u60F3\u8981\u4F9D\u7167\u60A8\u7684\u65B9\
          \u5F0F\u4E5F\u5BE6\u4F5C\u4E00\u500B\u7E41\u9AD4\u4E2D\u6587\u7248\u7684\
          phi<br>\u6839\u64DA\u4F60\u7684ipynb\u60A8\u7684\u9810\u8A13\u7DF4\u662F\
          \u64F4\u589Evocab\u7136\u5F8C\u4F7F\u7528\u8DD1\u4E864 epoch\u55CE \u6240\
          \u9700\u8981\u8CC7\u6E90\u5927\u6982\u662F\u600E\u9EBC\u6A23\u7684gpu\u591A\
          \u5C11vram\u5462<br>\u6211\u60F3\u8DD1\u57283090 ti 24gb\u4E0D\u77E5\u9053\
          \u53EF\u5426</p>\n<p>\u53E6\u5916\u6211\u60F3\u8ACB\u6559\uFF0C\u6709\u4EBA\
          \u63D0\u5230\u8AAA\u5176\u5BE6fine tuning\u8DDFpretrainin\u7684\u4EE3\u78BC\
          \u5176\u5BE6\u662F\u4E00\u6A23\u7684 \u56E0\u70BA\u90FD\u662F\u5728\u9810\
          \u6E2Cnext token\u8ACB\u554F\u662F\u9019\u6A23\u55CE \u8B1D\u8B1D</p>\n"
        raw: "\u4F60\u597D\r\n\u6211\u60F3\u8981\u4F9D\u7167\u60A8\u7684\u65B9\u5F0F\
          \u4E5F\u5BE6\u4F5C\u4E00\u500B\u7E41\u9AD4\u4E2D\u6587\u7248\u7684phi\r\n\
          \u6839\u64DA\u4F60\u7684ipynb\u60A8\u7684\u9810\u8A13\u7DF4\u662F\u64F4\u589E\
          vocab\u7136\u5F8C\u4F7F\u7528\u8DD1\u4E864 epoch\u55CE \u6240\u9700\u8981\
          \u8CC7\u6E90\u5927\u6982\u662F\u600E\u9EBC\u6A23\u7684gpu\u591A\u5C11vram\u5462\
          \ \r\n\u6211\u60F3\u8DD1\u57283090 ti 24gb\u4E0D\u77E5\u9053\u53EF\u5426\
          \r\n\r\n\u53E6\u5916\u6211\u60F3\u8ACB\u6559\uFF0C\u6709\u4EBA\u63D0\u5230\
          \u8AAA\u5176\u5BE6fine tuning\u8DDFpretrainin\u7684\u4EE3\u78BC\u5176\u5BE6\
          \u662F\u4E00\u6A23\u7684 \u56E0\u70BA\u90FD\u662F\u5728\u9810\u6E2Cnext\
          \ token\u8ACB\u554F\u662F\u9019\u6A23\u55CE \u8B1D\u8B1D"
        updatedAt: '2024-01-06T23:58:59.519Z'
      numEdits: 0
      reactions: []
    id: 6599e943ac728bc30393d0fc
    type: comment
  author: nps798
  content: "\u4F60\u597D\r\n\u6211\u60F3\u8981\u4F9D\u7167\u60A8\u7684\u65B9\u5F0F\
    \u4E5F\u5BE6\u4F5C\u4E00\u500B\u7E41\u9AD4\u4E2D\u6587\u7248\u7684phi\r\n\u6839\
    \u64DA\u4F60\u7684ipynb\u60A8\u7684\u9810\u8A13\u7DF4\u662F\u64F4\u589Evocab\u7136\
    \u5F8C\u4F7F\u7528\u8DD1\u4E864 epoch\u55CE \u6240\u9700\u8981\u8CC7\u6E90\u5927\
    \u6982\u662F\u600E\u9EBC\u6A23\u7684gpu\u591A\u5C11vram\u5462 \r\n\u6211\u60F3\
    \u8DD1\u57283090 ti 24gb\u4E0D\u77E5\u9053\u53EF\u5426\r\n\r\n\u53E6\u5916\u6211\
    \u60F3\u8ACB\u6559\uFF0C\u6709\u4EBA\u63D0\u5230\u8AAA\u5176\u5BE6fine tuning\u8DDF\
    pretrainin\u7684\u4EE3\u78BC\u5176\u5BE6\u662F\u4E00\u6A23\u7684 \u56E0\u70BA\u90FD\
    \u662F\u5728\u9810\u6E2Cnext token\u8ACB\u554F\u662F\u9019\u6A23\u55CE \u8B1D\u8B1D"
  created_at: 2024-01-06 23:58:59+00:00
  edited: false
  hidden: false
  id: 6599e943ac728bc30393d0fc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/276239281d452e8005972d02a3bcf9e2.svg
      fullname: charent
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: charent
      type: user
    createdAt: '2024-01-07T14:48:27.000Z'
    data:
      edited: true
      editors:
      - charent
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9562923312187195
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/276239281d452e8005972d02a3bcf9e2.svg
          fullname: charent
          isHf: false
          isPro: false
          name: charent
          type: user
        html: "<p>\u7B2C\u4E00\u4E2A\u95EE\u9898\uFF0C\u5982\u679C\u9700\u8981\u7EAF\
          \u7E41\u4F53\u4E2D\u6587\u7684\u8BCD\u8868\uFF08vocab\uFF09\u53EF\u4EE5\u81EA\
          \u5DF1\u8BAD\u7EC3tokenizer\uFF0C\u8BAD\u7EC3\u4EE3\u7801\u5728GitHub\u4ED3\
          \u5E93\u6709\u3002\u5982\u679C\u8981\u4FDD\u5B58\u7B80\u4F53\u4E2D\u6587\
          \u7684\u8BDD\uFF0C\u53EF\u4EE5\u505A\u6269\u5145\u64CD\u4F5C\u3002\u8FD9\
          \u4E2A\u662F\u5B9E\u9A8C\u6027\u7684\u9879\u76EE\uFF0C\u53EA\u8BAD\u7EC3\
          \u4E863-4\u5929\uFF0C\u6570\u636E\u91CF\u4E5F\u6BD4\u8F83\u5C11\u3002\u6211\
          \u8FD9\u8FB9\u9884\u8BAD\u7EC3\u3001sft\u3001rlhf\u90FD\u662F\u5728\u540C\
          \u4E00\u4E2A\u673A\u5668\u5B8C\u6210\u7684\uFF0C\u914D\u7F6E\u5982\u4E0B\
          \uFF1A</p>\n<pre><code class=\"language-txt\">CPU: Intel(R) i5-13600k @\
          \ 5.1GHz\n\u5185\u5B58\uFF1A32 GB\n\u663E\u5361\uFF1ANVIDIA GeForce RTX\
          \ 4060 Ti 16GB * 1\n</code></pre>\n<p>\u9884\u8BAD\u7EC3\u6570\u636E\u5C11\
          \uFF08\u6BD4\u5982500\u4E07\u884C*\u6BCF\u884C320\u4E2A\u5B57\u7B26\uFF09\
          \u4E14\u8BCD\u8868\u6269\u5145\u540E\u4E0D\u8D85\u8FC76\u4E07\u7684\u8BDD\
          \uFF0C3090TI 24G\u80AF\u5B9A\u662F\u591F\u4E86\u7684\uFF0C\u5927\u4E0D\u4E86\
          \u591A\u8BAD\u7EC3\u51E0\u5929\u5C31\u662F\u4E86\u3002\u5982\u679C\u6570\
          \u636E\u96C6\u975E\u5E38\u5927\uFF0C\u8FD8\u662F\u5EFA\u8BAE\u4E0A\u591A\
          \u5361\u5E76\u884C\u3002     </p>\n<p>\u7B2C\u4E8C\u4E2A\u95EE\u9898\uFF0C\
          \u9884\u8BAD\u7EC3\uFF08pre_train\uFF09\u548C\u5FAE\u8C03\uFF08sft\uFF0C\
          Supervised fine-tuning\uFF09\u9636\u6BB595%\u4EE5\u4E0A\u7684\u4EE3\u7801\
          \u662F\u4E00\u6837\u7684\u3002<br>\u533A\u522B\u662Floss\u7684\u5904\u7406\
          \u65B9\u5F0F\u4E0D\u4E00\u6837\uFF0C\u5BF9\u4E8Ephi\u8FD9\u79CDclm\uFF08\
          causal language model\uFF0C\u56E0\u679C\u8BED\u8A00\u6A21\u578B\uFF09\u6A21\
          \u578B\u6765\u8BF4\uFF1A </p>\n<ul>\n<li>pretrain\u9636\u6BB5\uFF0Cshift\u79FB\
          \u52A8\u4E00\u4F4D\u540E\u8BA1\u7B97\u5168\u90E8\u8F93\u5165\u7684loss\uFF0C\
          phi\u6E90\u7801\u5199\u6709\uFF0C\u6BD4\u8F83\u5BB9\u6613\u7406\u89E3\u3002\
          \  </li>\n<li>sft\u9636\u6BB5\uFF0C\u8F93\u5165\u7684\u5F62\u5F0F\u53D8\u4E86\
          \uFF0C\u6BD4\u5982\u8FD9\u79CD\uFF1A</li>\n</ul>\n<pre><code class=\"language-txt\"\
          >input_txt\uFF1A\n##\u63D0\u95EE\uFF1A\u5199\u4E00\u7BC7\u5173\u4E8E\u591A\
          \u6B21\u8FDF\u5230\u7684\u68C0\u8BA8\u3002##\u56DE\u7B54\uFF1Abalababala\n\
          </code></pre>\n<p>\u7279\u6B8A\u6807\u8BB0<code>##\u56DE\u7B54\uFF1A</code>\u53CA\
          \u4E4B\u524D\u7684\u635F\u5931\u4E0D\u4F1A\u88AB\u8BA1\u7B97\uFF08\u88AB\
          mask\u4E86\uFF09\uFF0C\u4E4B\u540E\u7684token\u635F\u5931\u8BA1\u7B97\u5C31\
          \u548Cpretrain\u4E00\u6837\u4E86\uFF0Cshift\u79FB\u52A8\u4E00\u4F4D\u540E\
          \u8BA1\u7B97\u9884\u6D4B\u4E0B\u4E00\u4E2A\u8BCD\u7684\u635F\u5931loss\u3002\
          </p>\n<p>phi2\u662F\u4E00\u4E2A\u5B9E\u9A8C\u9879\u76EE\uFF0C\u5982\u679C\
          \u8FD8\u60F3\u77E5\u9053\u66F4\u591A\u7684\u4E2D\u6587\u5C0F\u6A21\u578B\
          \u7684\u6570\u636E\u5904\u7406\u3001\u9884\u8BAD\u7EC3\u7B49\u6D41\u7A0B\
          \u7684\u8BDD\uFF0C\u53EF\u4EE5\u53C2\u8003\u6211\u7684\u53E6\u4E00\u4E2A\
          \u9879\u76EE\uFF1A<a rel=\"nofollow\" href=\"https://github.com/charent/ChatLM-mini-Chinese\"\
          >ChatLM-mini-Chinese</a></p>\n"
        raw: "\u7B2C\u4E00\u4E2A\u95EE\u9898\uFF0C\u5982\u679C\u9700\u8981\u7EAF\u7E41\
          \u4F53\u4E2D\u6587\u7684\u8BCD\u8868\uFF08vocab\uFF09\u53EF\u4EE5\u81EA\u5DF1\
          \u8BAD\u7EC3tokenizer\uFF0C\u8BAD\u7EC3\u4EE3\u7801\u5728GitHub\u4ED3\u5E93\
          \u6709\u3002\u5982\u679C\u8981\u4FDD\u5B58\u7B80\u4F53\u4E2D\u6587\u7684\
          \u8BDD\uFF0C\u53EF\u4EE5\u505A\u6269\u5145\u64CD\u4F5C\u3002\u8FD9\u4E2A\
          \u662F\u5B9E\u9A8C\u6027\u7684\u9879\u76EE\uFF0C\u53EA\u8BAD\u7EC3\u4E86\
          3-4\u5929\uFF0C\u6570\u636E\u91CF\u4E5F\u6BD4\u8F83\u5C11\u3002\u6211\u8FD9\
          \u8FB9\u9884\u8BAD\u7EC3\u3001sft\u3001rlhf\u90FD\u662F\u5728\u540C\u4E00\
          \u4E2A\u673A\u5668\u5B8C\u6210\u7684\uFF0C\u914D\u7F6E\u5982\u4E0B\uFF1A\
          \n```txt\nCPU: Intel(R) i5-13600k @ 5.1GHz\n\u5185\u5B58\uFF1A32 GB\n\u663E\
          \u5361\uFF1ANVIDIA GeForce RTX 4060 Ti 16GB * 1\n```\n\u9884\u8BAD\u7EC3\
          \u6570\u636E\u5C11\uFF08\u6BD4\u5982500\u4E07\u884C*\u6BCF\u884C320\u4E2A\
          \u5B57\u7B26\uFF09\u4E14\u8BCD\u8868\u6269\u5145\u540E\u4E0D\u8D85\u8FC7\
          6\u4E07\u7684\u8BDD\uFF0C3090TI 24G\u80AF\u5B9A\u662F\u591F\u4E86\u7684\uFF0C\
          \u5927\u4E0D\u4E86\u591A\u8BAD\u7EC3\u51E0\u5929\u5C31\u662F\u4E86\u3002\
          \u5982\u679C\u6570\u636E\u96C6\u975E\u5E38\u5927\uFF0C\u8FD8\u662F\u5EFA\
          \u8BAE\u4E0A\u591A\u5361\u5E76\u884C\u3002     \n\n\u7B2C\u4E8C\u4E2A\u95EE\
          \u9898\uFF0C\u9884\u8BAD\u7EC3\uFF08pre_train\uFF09\u548C\u5FAE\u8C03\uFF08\
          sft\uFF0CSupervised fine-tuning\uFF09\u9636\u6BB595%\u4EE5\u4E0A\u7684\u4EE3\
          \u7801\u662F\u4E00\u6837\u7684\u3002\n\u533A\u522B\u662Floss\u7684\u5904\
          \u7406\u65B9\u5F0F\u4E0D\u4E00\u6837\uFF0C\u5BF9\u4E8Ephi\u8FD9\u79CDclm\uFF08\
          causal language model\uFF0C\u56E0\u679C\u8BED\u8A00\u6A21\u578B\uFF09\u6A21\
          \u578B\u6765\u8BF4\uFF1A \n- pretrain\u9636\u6BB5\uFF0Cshift\u79FB\u52A8\
          \u4E00\u4F4D\u540E\u8BA1\u7B97\u5168\u90E8\u8F93\u5165\u7684loss\uFF0Cphi\u6E90\
          \u7801\u5199\u6709\uFF0C\u6BD4\u8F83\u5BB9\u6613\u7406\u89E3\u3002  \n-\
          \ sft\u9636\u6BB5\uFF0C\u8F93\u5165\u7684\u5F62\u5F0F\u53D8\u4E86\uFF0C\u6BD4\
          \u5982\u8FD9\u79CD\uFF1A\n```txt\ninput_txt\uFF1A\n##\u63D0\u95EE\uFF1A\u5199\
          \u4E00\u7BC7\u5173\u4E8E\u591A\u6B21\u8FDF\u5230\u7684\u68C0\u8BA8\u3002\
          ##\u56DE\u7B54\uFF1Abalababala\n```\n\u7279\u6B8A\u6807\u8BB0`##\u56DE\u7B54\
          \uFF1A`\u53CA\u4E4B\u524D\u7684\u635F\u5931\u4E0D\u4F1A\u88AB\u8BA1\u7B97\
          \uFF08\u88ABmask\u4E86\uFF09\uFF0C\u4E4B\u540E\u7684token\u635F\u5931\u8BA1\
          \u7B97\u5C31\u548Cpretrain\u4E00\u6837\u4E86\uFF0Cshift\u79FB\u52A8\u4E00\
          \u4F4D\u540E\u8BA1\u7B97\u9884\u6D4B\u4E0B\u4E00\u4E2A\u8BCD\u7684\u635F\
          \u5931loss\u3002\n\nphi2\u662F\u4E00\u4E2A\u5B9E\u9A8C\u9879\u76EE\uFF0C\
          \u5982\u679C\u8FD8\u60F3\u77E5\u9053\u66F4\u591A\u7684\u4E2D\u6587\u5C0F\
          \u6A21\u578B\u7684\u6570\u636E\u5904\u7406\u3001\u9884\u8BAD\u7EC3\u7B49\
          \u6D41\u7A0B\u7684\u8BDD\uFF0C\u53EF\u4EE5\u53C2\u8003\u6211\u7684\u53E6\
          \u4E00\u4E2A\u9879\u76EE\uFF1A[ChatLM-mini-Chinese](https://github.com/charent/ChatLM-mini-Chinese)"
        updatedAt: '2024-01-07T15:11:08.642Z'
      numEdits: 1
      reactions: []
    id: 659ab9bb21a7431643ed263e
    type: comment
  author: charent
  content: "\u7B2C\u4E00\u4E2A\u95EE\u9898\uFF0C\u5982\u679C\u9700\u8981\u7EAF\u7E41\
    \u4F53\u4E2D\u6587\u7684\u8BCD\u8868\uFF08vocab\uFF09\u53EF\u4EE5\u81EA\u5DF1\u8BAD\
    \u7EC3tokenizer\uFF0C\u8BAD\u7EC3\u4EE3\u7801\u5728GitHub\u4ED3\u5E93\u6709\u3002\
    \u5982\u679C\u8981\u4FDD\u5B58\u7B80\u4F53\u4E2D\u6587\u7684\u8BDD\uFF0C\u53EF\
    \u4EE5\u505A\u6269\u5145\u64CD\u4F5C\u3002\u8FD9\u4E2A\u662F\u5B9E\u9A8C\u6027\
    \u7684\u9879\u76EE\uFF0C\u53EA\u8BAD\u7EC3\u4E863-4\u5929\uFF0C\u6570\u636E\u91CF\
    \u4E5F\u6BD4\u8F83\u5C11\u3002\u6211\u8FD9\u8FB9\u9884\u8BAD\u7EC3\u3001sft\u3001\
    rlhf\u90FD\u662F\u5728\u540C\u4E00\u4E2A\u673A\u5668\u5B8C\u6210\u7684\uFF0C\u914D\
    \u7F6E\u5982\u4E0B\uFF1A\n```txt\nCPU: Intel(R) i5-13600k @ 5.1GHz\n\u5185\u5B58\
    \uFF1A32 GB\n\u663E\u5361\uFF1ANVIDIA GeForce RTX 4060 Ti 16GB * 1\n```\n\u9884\
    \u8BAD\u7EC3\u6570\u636E\u5C11\uFF08\u6BD4\u5982500\u4E07\u884C*\u6BCF\u884C320\u4E2A\
    \u5B57\u7B26\uFF09\u4E14\u8BCD\u8868\u6269\u5145\u540E\u4E0D\u8D85\u8FC76\u4E07\
    \u7684\u8BDD\uFF0C3090TI 24G\u80AF\u5B9A\u662F\u591F\u4E86\u7684\uFF0C\u5927\u4E0D\
    \u4E86\u591A\u8BAD\u7EC3\u51E0\u5929\u5C31\u662F\u4E86\u3002\u5982\u679C\u6570\
    \u636E\u96C6\u975E\u5E38\u5927\uFF0C\u8FD8\u662F\u5EFA\u8BAE\u4E0A\u591A\u5361\
    \u5E76\u884C\u3002     \n\n\u7B2C\u4E8C\u4E2A\u95EE\u9898\uFF0C\u9884\u8BAD\u7EC3\
    \uFF08pre_train\uFF09\u548C\u5FAE\u8C03\uFF08sft\uFF0CSupervised fine-tuning\uFF09\
    \u9636\u6BB595%\u4EE5\u4E0A\u7684\u4EE3\u7801\u662F\u4E00\u6837\u7684\u3002\n\u533A\
    \u522B\u662Floss\u7684\u5904\u7406\u65B9\u5F0F\u4E0D\u4E00\u6837\uFF0C\u5BF9\u4E8E\
    phi\u8FD9\u79CDclm\uFF08causal language model\uFF0C\u56E0\u679C\u8BED\u8A00\u6A21\
    \u578B\uFF09\u6A21\u578B\u6765\u8BF4\uFF1A \n- pretrain\u9636\u6BB5\uFF0Cshift\u79FB\
    \u52A8\u4E00\u4F4D\u540E\u8BA1\u7B97\u5168\u90E8\u8F93\u5165\u7684loss\uFF0Cphi\u6E90\
    \u7801\u5199\u6709\uFF0C\u6BD4\u8F83\u5BB9\u6613\u7406\u89E3\u3002  \n- sft\u9636\
    \u6BB5\uFF0C\u8F93\u5165\u7684\u5F62\u5F0F\u53D8\u4E86\uFF0C\u6BD4\u5982\u8FD9\
    \u79CD\uFF1A\n```txt\ninput_txt\uFF1A\n##\u63D0\u95EE\uFF1A\u5199\u4E00\u7BC7\u5173\
    \u4E8E\u591A\u6B21\u8FDF\u5230\u7684\u68C0\u8BA8\u3002##\u56DE\u7B54\uFF1Abalababala\n\
    ```\n\u7279\u6B8A\u6807\u8BB0`##\u56DE\u7B54\uFF1A`\u53CA\u4E4B\u524D\u7684\u635F\
    \u5931\u4E0D\u4F1A\u88AB\u8BA1\u7B97\uFF08\u88ABmask\u4E86\uFF09\uFF0C\u4E4B\u540E\
    \u7684token\u635F\u5931\u8BA1\u7B97\u5C31\u548Cpretrain\u4E00\u6837\u4E86\uFF0C\
    shift\u79FB\u52A8\u4E00\u4F4D\u540E\u8BA1\u7B97\u9884\u6D4B\u4E0B\u4E00\u4E2A\u8BCD\
    \u7684\u635F\u5931loss\u3002\n\nphi2\u662F\u4E00\u4E2A\u5B9E\u9A8C\u9879\u76EE\
    \uFF0C\u5982\u679C\u8FD8\u60F3\u77E5\u9053\u66F4\u591A\u7684\u4E2D\u6587\u5C0F\
    \u6A21\u578B\u7684\u6570\u636E\u5904\u7406\u3001\u9884\u8BAD\u7EC3\u7B49\u6D41\
    \u7A0B\u7684\u8BDD\uFF0C\u53EF\u4EE5\u53C2\u8003\u6211\u7684\u53E6\u4E00\u4E2A\
    \u9879\u76EE\uFF1A[ChatLM-mini-Chinese](https://github.com/charent/ChatLM-mini-Chinese)"
  created_at: 2024-01-07 14:48:27+00:00
  edited: true
  hidden: false
  id: 659ab9bb21a7431643ed263e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6550b60a4863272fef6c45c3602d9269.svg
      fullname: YuJuLin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nps798
      type: user
    createdAt: '2024-01-09T03:08:20.000Z'
    data:
      edited: true
      editors:
      - nps798
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.541316568851471
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6550b60a4863272fef6c45c3602d9269.svg
          fullname: YuJuLin
          isHf: false
          isPro: false
          name: nps798
          type: user
        html: "<p>\u8B1D\u8B1D\u60A8\u5927\u5927</p>\n<p>\u8ACB\u554F\u4F60\uFF0C\u60A8\
          \u63D0\u5230\u7684\u5728supervised fine-tuning (\u5177\u9AD4\u4F86\u8AAA\
          \u61C9\u8A72\u662Finstruction fine tuning\u7684\u90E8\u5206)</p>\n<pre><code>\u7279\
          \u6B8A\u6807\u8BB0##\u56DE\u7B54\uFF1A\u53CA\u4E4B\u524D\u7684\u635F\u5931\
          \u4E0D\u4F1A\u88AB\u8BA1\u7B97\uFF08\u88ABmask\u4E86\uFF09\uFF0C\u4E4B\u540E\
          \u7684token\u635F\u5931\u8BA1\u7B97\u5C31\u548Cpretrain\u4E00\u6837\u4E86\
          \uFF0Cshift\u79FB\u52A8\u4E00\u4F4D\u540E\u8BA1\u7B97\u9884\u6D4B\u4E0B\u4E00\
          \u4E2A\u8BCD\u7684\u635F\u5931loss\n</code></pre>\n<p>\u662F\u5426\u5177\
          \u9AD4\u4F86\u8AAA\u5C31\u662F<a rel=\"nofollow\" href=\"https://github.com/charent/Phi2-mini-Chinese/blob/main/3.sft.ipynb\"\
          >sft.ipynb</a>\u4E0B\u9762\u9019\u6BB5\u4EE3\u78BC\u53BB\u5BE6\u73FE\u7684\
          \uFF1F</p>\n<pre><code>data_collator = DataCollatorForCompletionOnlyLM(instruction_template=instruction_template,\
          \ response_template=response_template, tokenizer=tokenizer, mlm=False)\n\
          </code></pre>\n<p>\u6211\u53C3\u8003\u7684\u4F86\u6E90\u662F\u770B\u5225\
          \u4EBA\u7684forum\u554F\u7B54<a rel=\"nofollow\" href=\"https://github.com/huggingface/trl/issues/632\"\
          >https://github.com/huggingface/trl/issues/632</a><br>\u63D0\u5230DataCollatorForCompletionOnlyLM\u7684\
          \u904B\u4F5C\u539F\u7406\u662F\u5229\u7528\u628Aresponse_template\u7D50\u675F\
          \u4E4B\u524D\u7684\u6240\u6709\u6771\u897Fpad_tokens are set to -100 \u8B93\
          pytorch\u53BB\u5FFD\u7565 ##\u56DE\u7B54\uFF1A \u51FA\u4F86\u4E4B\u524D\u6240\
          \u6709token</p>\n"
        raw: "\u8B1D\u8B1D\u60A8\u5927\u5927\n\n\u8ACB\u554F\u4F60\uFF0C\u60A8\u63D0\
          \u5230\u7684\u5728supervised fine-tuning (\u5177\u9AD4\u4F86\u8AAA\u61C9\
          \u8A72\u662Finstruction fine tuning\u7684\u90E8\u5206)\n```\n\u7279\u6B8A\
          \u6807\u8BB0##\u56DE\u7B54\uFF1A\u53CA\u4E4B\u524D\u7684\u635F\u5931\u4E0D\
          \u4F1A\u88AB\u8BA1\u7B97\uFF08\u88ABmask\u4E86\uFF09\uFF0C\u4E4B\u540E\u7684\
          token\u635F\u5931\u8BA1\u7B97\u5C31\u548Cpretrain\u4E00\u6837\u4E86\uFF0C\
          shift\u79FB\u52A8\u4E00\u4F4D\u540E\u8BA1\u7B97\u9884\u6D4B\u4E0B\u4E00\u4E2A\
          \u8BCD\u7684\u635F\u5931loss\n```\n\u662F\u5426\u5177\u9AD4\u4F86\u8AAA\u5C31\
          \u662F[sft.ipynb](https://github.com/charent/Phi2-mini-Chinese/blob/main/3.sft.ipynb)\u4E0B\
          \u9762\u9019\u6BB5\u4EE3\u78BC\u53BB\u5BE6\u73FE\u7684\uFF1F\n```\ndata_collator\
          \ = DataCollatorForCompletionOnlyLM(instruction_template=instruction_template,\
          \ response_template=response_template, tokenizer=tokenizer, mlm=False)\n\
          ```\n\n\u6211\u53C3\u8003\u7684\u4F86\u6E90\u662F\u770B\u5225\u4EBA\u7684\
          forum\u554F\u7B54[https://github.com/huggingface/trl/issues/632](https://github.com/huggingface/trl/issues/632)\n\
          \u63D0\u5230DataCollatorForCompletionOnlyLM\u7684\u904B\u4F5C\u539F\u7406\
          \u662F\u5229\u7528\u628Aresponse_template\u7D50\u675F\u4E4B\u524D\u7684\u6240\
          \u6709\u6771\u897Fpad_tokens are set to -100 \u8B93pytorch\u53BB\u5FFD\u7565\
          \ ##\u56DE\u7B54\uFF1A \u51FA\u4F86\u4E4B\u524D\u6240\u6709token\n"
        updatedAt: '2024-01-09T03:09:05.345Z'
      numEdits: 1
      reactions: []
    id: 659cb8a453812b7034826fc8
    type: comment
  author: nps798
  content: "\u8B1D\u8B1D\u60A8\u5927\u5927\n\n\u8ACB\u554F\u4F60\uFF0C\u60A8\u63D0\
    \u5230\u7684\u5728supervised fine-tuning (\u5177\u9AD4\u4F86\u8AAA\u61C9\u8A72\
    \u662Finstruction fine tuning\u7684\u90E8\u5206)\n```\n\u7279\u6B8A\u6807\u8BB0\
    ##\u56DE\u7B54\uFF1A\u53CA\u4E4B\u524D\u7684\u635F\u5931\u4E0D\u4F1A\u88AB\u8BA1\
    \u7B97\uFF08\u88ABmask\u4E86\uFF09\uFF0C\u4E4B\u540E\u7684token\u635F\u5931\u8BA1\
    \u7B97\u5C31\u548Cpretrain\u4E00\u6837\u4E86\uFF0Cshift\u79FB\u52A8\u4E00\u4F4D\
    \u540E\u8BA1\u7B97\u9884\u6D4B\u4E0B\u4E00\u4E2A\u8BCD\u7684\u635F\u5931loss\n\
    ```\n\u662F\u5426\u5177\u9AD4\u4F86\u8AAA\u5C31\u662F[sft.ipynb](https://github.com/charent/Phi2-mini-Chinese/blob/main/3.sft.ipynb)\u4E0B\
    \u9762\u9019\u6BB5\u4EE3\u78BC\u53BB\u5BE6\u73FE\u7684\uFF1F\n```\ndata_collator\
    \ = DataCollatorForCompletionOnlyLM(instruction_template=instruction_template,\
    \ response_template=response_template, tokenizer=tokenizer, mlm=False)\n```\n\n\
    \u6211\u53C3\u8003\u7684\u4F86\u6E90\u662F\u770B\u5225\u4EBA\u7684forum\u554F\u7B54\
    [https://github.com/huggingface/trl/issues/632](https://github.com/huggingface/trl/issues/632)\n\
    \u63D0\u5230DataCollatorForCompletionOnlyLM\u7684\u904B\u4F5C\u539F\u7406\u662F\
    \u5229\u7528\u628Aresponse_template\u7D50\u675F\u4E4B\u524D\u7684\u6240\u6709\u6771\
    \u897Fpad_tokens are set to -100 \u8B93pytorch\u53BB\u5FFD\u7565 ##\u56DE\u7B54\
    \uFF1A \u51FA\u4F86\u4E4B\u524D\u6240\u6709token\n"
  created_at: 2024-01-09 03:08:20+00:00
  edited: true
  hidden: false
  id: 659cb8a453812b7034826fc8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/276239281d452e8005972d02a3bcf9e2.svg
      fullname: charent
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: charent
      type: user
    createdAt: '2024-01-09T05:37:05.000Z'
    data:
      edited: false
      editors:
      - charent
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.49331408739089966
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/276239281d452e8005972d02a3bcf9e2.svg
          fullname: charent
          isHf: false
          isPro: false
          name: charent
          type: user
        html: "<p>\u662F\u7684\uFF0Csft\u9636\u6BB5loss\u7684mask\u662F\u901A\u8FC7\
          <code>DataCollatorForCompletionOnlyLM</code>\u7684\u5B9E\u73B0\u3002pretrain\u9636\
          \u6BB5\u662F\u901A\u8FC7<code>DataCollatorForLanguageModeling</code>\u5B9E\
          \u73B0\u3002</p>\n"
        raw: "\u662F\u7684\uFF0Csft\u9636\u6BB5loss\u7684mask\u662F\u901A\u8FC7`DataCollatorForCompletionOnlyLM`\u7684\
          \u5B9E\u73B0\u3002pretrain\u9636\u6BB5\u662F\u901A\u8FC7`DataCollatorForLanguageModeling`\u5B9E\
          \u73B0\u3002"
        updatedAt: '2024-01-09T05:37:05.894Z'
      numEdits: 0
      reactions: []
    id: 659cdb81ac5155f74db8db98
    type: comment
  author: charent
  content: "\u662F\u7684\uFF0Csft\u9636\u6BB5loss\u7684mask\u662F\u901A\u8FC7`DataCollatorForCompletionOnlyLM`\u7684\
    \u5B9E\u73B0\u3002pretrain\u9636\u6BB5\u662F\u901A\u8FC7`DataCollatorForLanguageModeling`\u5B9E\
    \u73B0\u3002"
  created_at: 2024-01-09 05:37:05+00:00
  edited: false
  hidden: false
  id: 659cdb81ac5155f74db8db98
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: charent/Phi2-Chinese-0.2B
repo_type: model
status: open
target_branch: null
title: "\u53B2\u5BB3\uFF01\u8ACB\u6559\u9810\u8A13\u7DF4\u6240\u9700\u786C\u9AD4\u8CC7\
  \u6E90 \u4EE5\u53CA\u8A13\u7DF4\u4EE3\u78BC\u539F\u7406"
