!!python/object:huggingface_hub.community.DiscussionWithDetails
author: pmishra
conflicting_files: null
created_at: 2024-01-13 17:55:22+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4d150a1c1d7df0d9617b3d3b268a6a95.svg
      fullname: PURANJAY MISHRA
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pmishra
      type: user
    createdAt: '2024-01-13T17:55:22.000Z'
    data:
      edited: false
      editors:
      - pmishra
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8777032494544983
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4d150a1c1d7df0d9617b3d3b268a6a95.svg
          fullname: PURANJAY MISHRA
          isHf: false
          isPro: false
          name: pmishra
          type: user
        html: '<p>I am trying to get embedding vectors for a an array of strings.
          I expected the output of one string to be of the dimension of 1024, but
          i got an array of the dimension (1,n,1024) where n varies amongst different
          strings of the array. Can someone explain this behaviour? </p>

          '
        raw: 'I am trying to get embedding vectors for a an array of strings. I expected
          the output of one string to be of the dimension of 1024, but i got an array
          of the dimension (1,n,1024) where n varies amongst different strings of
          the array. Can someone explain this behaviour? '
        updatedAt: '2024-01-13T17:55:22.918Z'
      numEdits: 0
      reactions: []
    id: 65a2ce8ac8a09bd5e8f3f821
    type: comment
  author: pmishra
  content: 'I am trying to get embedding vectors for a an array of strings. I expected
    the output of one string to be of the dimension of 1024, but i got an array of
    the dimension (1,n,1024) where n varies amongst different strings of the array.
    Can someone explain this behaviour? '
  created_at: 2024-01-13 17:55:22+00:00
  edited: false
  hidden: false
  id: 65a2ce8ac8a09bd5e8f3f821
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/635cc29de7aef2358a9b03ee/SVHL_mTCiOfmBamzSucb0.jpeg?w=200&h=200&f=face
      fullname: SeanLee
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: SeanLee97
      type: user
    createdAt: '2024-01-14T01:46:30.000Z'
    data:
      edited: false
      editors:
      - SeanLee97
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9505637884140015
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/635cc29de7aef2358a9b03ee/SVHL_mTCiOfmBamzSucb0.jpeg?w=200&h=200&f=face
          fullname: SeanLee
          isHf: false
          isPro: false
          name: SeanLee97
          type: user
        html: '<p>Which way did you use it? Could you attach your code here?</p>

          <p>I guess you use the transormers'' way. The <code>n</code> represents
          the padding sequence length.</p>

          '
        raw: 'Which way did you use it? Could you attach your code here?


          I guess you use the transormers'' way. The `n` represents the padding sequence
          length.'
        updatedAt: '2024-01-14T01:46:30.069Z'
      numEdits: 0
      reactions: []
    id: 65a33cf6dcfd30f7cd5d2c1b
    type: comment
  author: SeanLee97
  content: 'Which way did you use it? Could you attach your code here?


    I guess you use the transormers'' way. The `n` represents the padding sequence
    length.'
  created_at: 2024-01-14 01:46:30+00:00
  edited: false
  hidden: false
  id: 65a33cf6dcfd30f7cd5d2c1b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4d150a1c1d7df0d9617b3d3b268a6a95.svg
      fullname: PURANJAY MISHRA
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pmishra
      type: user
    createdAt: '2024-01-14T04:49:13.000Z'
    data:
      edited: false
      editors:
      - pmishra
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5840256214141846
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4d150a1c1d7df0d9617b3d3b268a6a95.svg
          fullname: PURANJAY MISHRA
          isHf: false
          isPro: false
          name: pmishra
          type: user
        html: '<p>Sure. I iused hugging face inference for the model embeddings. Here
          const embedding is the Hfinference instance-<br><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/60b4cd9b1d57c8cd7204459b/xMuF5FuYEamYSNsYkPYeu.png"><img
          alt="Screenshot 2024-01-14 at 10.17.01 AM.png" src="https://cdn-uploads.huggingface.co/production/uploads/60b4cd9b1d57c8cd7204459b/xMuF5FuYEamYSNsYkPYeu.png"></a></p>

          '
        raw: 'Sure. I iused hugging face inference for the model embeddings. Here
          const embedding is the Hfinference instance-

          ![Screenshot 2024-01-14 at 10.17.01 AM.png](https://cdn-uploads.huggingface.co/production/uploads/60b4cd9b1d57c8cd7204459b/xMuF5FuYEamYSNsYkPYeu.png)

          '
        updatedAt: '2024-01-14T04:49:13.641Z'
      numEdits: 0
      reactions: []
    id: 65a367c98ac0602820f85a8e
    type: comment
  author: pmishra
  content: 'Sure. I iused hugging face inference for the model embeddings. Here const
    embedding is the Hfinference instance-

    ![Screenshot 2024-01-14 at 10.17.01 AM.png](https://cdn-uploads.huggingface.co/production/uploads/60b4cd9b1d57c8cd7204459b/xMuF5FuYEamYSNsYkPYeu.png)

    '
  created_at: 2024-01-14 04:49:13+00:00
  edited: false
  hidden: false
  id: 65a367c98ac0602820f85a8e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/635cc29de7aef2358a9b03ee/SVHL_mTCiOfmBamzSucb0.jpeg?w=200&h=200&f=face
      fullname: SeanLee
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: SeanLee97
      type: user
    createdAt: '2024-01-14T06:25:15.000Z'
    data:
      edited: false
      editors:
      - SeanLee97
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9039958715438843
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/635cc29de7aef2358a9b03ee/SVHL_mTCiOfmBamzSucb0.jpeg?w=200&h=200&f=face
          fullname: SeanLee
          isHf: false
          isPro: false
          name: SeanLee97
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;pmishra&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/pmishra\">@<span class=\"\
          underline\">pmishra</span></a></span>\n\n\t</span></span> hi, the obtained\
          \ embeddings with shape (1, n, 1024) are all tokens' embeddings. </p>\n\
          <p>You can use the first token's (i.e., the CLS token) embedding as the\
          \ sentence embedding, as follows:</p>\n<pre><code>vecs = val[:, 0, :]\n\
          </code></pre>\n"
        raw: "@pmishra hi, the obtained embeddings with shape (1, n, 1024) are all\
          \ tokens' embeddings. \n\nYou can use the first token's (i.e., the CLS token)\
          \ embedding as the sentence embedding, as follows:\n\n```\nvecs = val[:,\
          \ 0, :]\n```"
        updatedAt: '2024-01-14T06:25:15.970Z'
      numEdits: 0
      reactions: []
    id: 65a37e4b7b020810944cffb8
    type: comment
  author: SeanLee97
  content: "@pmishra hi, the obtained embeddings with shape (1, n, 1024) are all tokens'\
    \ embeddings. \n\nYou can use the first token's (i.e., the CLS token) embedding\
    \ as the sentence embedding, as follows:\n\n```\nvecs = val[:, 0, :]\n```"
  created_at: 2024-01-14 06:25:15+00:00
  edited: false
  hidden: false
  id: 65a37e4b7b020810944cffb8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4d150a1c1d7df0d9617b3d3b268a6a95.svg
      fullname: PURANJAY MISHRA
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pmishra
      type: user
    createdAt: '2024-01-14T06:50:30.000Z'
    data:
      edited: false
      editors:
      - pmishra
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9213622808456421
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4d150a1c1d7df0d9617b3d3b268a6a95.svg
          fullname: PURANJAY MISHRA
          isHf: false
          isPro: false
          name: pmishra
          type: user
        html: '<p>Thank you for the response!<br>Is there a difference in extent of
          information captured by the [CLS] token and rest of the sentence tokens?
          Will this be enough to carry out vector search?</p>

          '
        raw: 'Thank you for the response!

          Is there a difference in extent of information captured by the [CLS] token
          and rest of the sentence tokens? Will this be enough to carry out vector
          search?'
        updatedAt: '2024-01-14T06:50:30.981Z'
      numEdits: 0
      reactions: []
    id: 65a384369f0a34c173c68d66
    type: comment
  author: pmishra
  content: 'Thank you for the response!

    Is there a difference in extent of information captured by the [CLS] token and
    rest of the sentence tokens? Will this be enough to carry out vector search?'
  created_at: 2024-01-14 06:50:30+00:00
  edited: false
  hidden: false
  id: 65a384369f0a34c173c68d66
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 11
repo_id: WhereIsAI/UAE-Large-V1
repo_type: model
status: open
target_branch: null
title: Expected a one dimensional embeddings vector, got a multi-dimensional value
