!!python/object:huggingface_hub.community.DiscussionWithDetails
author: patrickvonplaten
conflicting_files: []
created_at: 2022-11-01 16:56:56+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-11-01T17:56:56.000Z'
    data:
      edited: true
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>This PR adds the weights to run the diffusers code snippet:</p>

          <pre><code class="language-py"><span class="hljs-keyword">from</span> diffusers
          <span class="hljs-keyword">import</span> StableDiffusionPipeline

          <span class="hljs-keyword">import</span> torch


          model_id = <span class="hljs-string">"nitrosocke/classic-anim-diffusion"</span>

          pipe = StableDiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)

          pipe = pipe.to(<span class="hljs-string">"cuda"</span>)


          prompt = <span class="hljs-string">"classic disney style magical princess
          with golden hair"</span>

          image = pipe(prompt).images[<span class="hljs-number">0</span>]


          image.save(<span class="hljs-string">"./magical_princess.png"</span>)

          </code></pre>

          '
        raw: 'This PR adds the weights to run the diffusers code snippet:


          ```py

          from diffusers import StableDiffusionPipeline

          import torch


          model_id = "nitrosocke/classic-anim-diffusion"

          pipe = StableDiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)

          pipe = pipe.to("cuda")


          prompt = "classic disney style magical princess with golden hair"

          image = pipe(prompt).images[0]


          image.save("./magical_princess.png")

          ```'
        updatedAt: '2022-11-01T18:10:15.164Z'
      numEdits: 1
      reactions: []
    id: 63615de86bd72c97d001468b
    type: comment
  author: patrickvonplaten
  content: 'This PR adds the weights to run the diffusers code snippet:


    ```py

    from diffusers import StableDiffusionPipeline

    import torch


    model_id = "nitrosocke/classic-anim-diffusion"

    pipe = StableDiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)

    pipe = pipe.to("cuda")


    prompt = "classic disney style magical princess with golden hair"

    image = pipe(prompt).images[0]


    image.save("./magical_princess.png")

    ```'
  created_at: 2022-11-01 16:56:56+00:00
  edited: true
  hidden: false
  id: 63615de86bd72c97d001468b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-11-01T18:05:22.000Z'
    data:
      oid: ab155697c61e0b4c01045f9cceda03e1dbdc888c
      parents:
      - 6e5f0e87cc631c7b4dc83fdd1bff5a29ba8e9c23
      subject: add diffusers weights
    id: 63615fe20000000000000000
    type: commit
  author: patrickvonplaten
  created_at: 2022-11-01 17:05:22+00:00
  id: 63615fe20000000000000000
  oid: ab155697c61e0b4c01045f9cceda03e1dbdc888c
  summary: add diffusers weights
  type: commit
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-11-01T18:08:02.000Z'
    data:
      status: open
    id: 6361608219e7e4bf45731662
    type: status-change
  author: patrickvonplaten
  created_at: 2022-11-01 17:08:02+00:00
  id: 6361608219e7e4bf45731662
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-11-01T18:14:52.000Z'
    data:
      edited: true
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>Depending on the seed the above gives:<br><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1667326344008-5dfcb1aada6d0311fd3d5448.png"><img
          alt="magical_princess_classic-anim-diffusion.png" src="https://cdn-uploads.huggingface.co/production/uploads/1667326344008-5dfcb1aada6d0311fd3d5448.png"></a></p>

          <p>Note that on current main:</p>

          <pre><code>pip install git+https://github.com/huggingface/diffusers.git

          </code></pre>

          <p> we now also have the euler scheduler which  seems to work <strong>very</strong>
          well with just 20 diffusion steps. E.g.:</p>

          <pre><code class="language-python"><span class="hljs-keyword">from</span>
          diffusers <span class="hljs-keyword">import</span> StableDiffusionPipeline,
          EulerDiscreteScheduler

          <span class="hljs-keyword">import</span> torch


          model_id = <span class="hljs-string">"nitrosocke/classic-anim-diffusion"</span>


          euler_scheduler  =  EulerDiscreteScheduler.from_config(model_id, subfolder=<span
          class="hljs-string">"scheduler"</span>)

          pipe  =  StableDiffusionPipeline.from_pretrained(model_id, scheduler=euler_scheduler,
          torch_dtype=torch.float16)

          pipe  =  pipe.to(<span class="hljs-string">"cuda"</span>)


          prompt = <span class="hljs-string">"classic disney style magical princess
          with golden hair"</span>

          image = pipe(prompt).images[<span class="hljs-number">0</span>]


          image.save(<span class="hljs-string">"./magical_princess.png"</span>)

          </code></pre>

          <p>gives:<br><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1667327330371-5dfcb1aada6d0311fd3d5448.png"><img
          alt="magical_princess_classic-anim-diffusion (2).png" src="https://cdn-uploads.huggingface.co/production/uploads/1667327330371-5dfcb1aada6d0311fd3d5448.png"></a></p>

          '
        raw: "Depending on the seed the above gives:\n![magical_princess_classic-anim-diffusion.png](https://cdn-uploads.huggingface.co/production/uploads/1667326344008-5dfcb1aada6d0311fd3d5448.png)\n\
          \nNote that on current main:\n```\npip install git+https://github.com/huggingface/diffusers.git\n\
          ```\n we now also have the euler scheduler which  seems to work **very**\
          \ well with just 20 diffusion steps. E.g.:\n\n```python\nfrom diffusers\
          \ import StableDiffusionPipeline, EulerDiscreteScheduler\nimport torch\n\
          \nmodel_id = \"nitrosocke/classic-anim-diffusion\"\n\neuler_scheduler  =\
          \  EulerDiscreteScheduler.from_config(model_id, subfolder=\"scheduler\"\
          )\npipe  =  StableDiffusionPipeline.from_pretrained(model_id, scheduler=euler_scheduler,\
          \ torch_dtype=torch.float16)\npipe  =  pipe.to(\"cuda\")\n\nprompt = \"\
          classic disney style magical princess with golden hair\"\nimage = pipe(prompt).images[0]\n\
          \nimage.save(\"./magical_princess.png\")\n```\n\ngives:\n![magical_princess_classic-anim-diffusion\
          \ (2).png](https://cdn-uploads.huggingface.co/production/uploads/1667327330371-5dfcb1aada6d0311fd3d5448.png)"
        updatedAt: '2022-11-01T18:28:54.782Z'
      numEdits: 1
      reactions: []
    id: 6361621c108cc69e687f0582
    type: comment
  author: patrickvonplaten
  content: "Depending on the seed the above gives:\n![magical_princess_classic-anim-diffusion.png](https://cdn-uploads.huggingface.co/production/uploads/1667326344008-5dfcb1aada6d0311fd3d5448.png)\n\
    \nNote that on current main:\n```\npip install git+https://github.com/huggingface/diffusers.git\n\
    ```\n we now also have the euler scheduler which  seems to work **very** well\
    \ with just 20 diffusion steps. E.g.:\n\n```python\nfrom diffusers import StableDiffusionPipeline,\
    \ EulerDiscreteScheduler\nimport torch\n\nmodel_id = \"nitrosocke/classic-anim-diffusion\"\
    \n\neuler_scheduler  =  EulerDiscreteScheduler.from_config(model_id, subfolder=\"\
    scheduler\")\npipe  =  StableDiffusionPipeline.from_pretrained(model_id, scheduler=euler_scheduler,\
    \ torch_dtype=torch.float16)\npipe  =  pipe.to(\"cuda\")\n\nprompt = \"classic\
    \ disney style magical princess with golden hair\"\nimage = pipe(prompt).images[0]\n\
    \nimage.save(\"./magical_princess.png\")\n```\n\ngives:\n![magical_princess_classic-anim-diffusion\
    \ (2).png](https://cdn-uploads.huggingface.co/production/uploads/1667327330371-5dfcb1aada6d0311fd3d5448.png)"
  created_at: 2022-11-01 17:14:52+00:00
  edited: true
  hidden: false
  id: 6361621c108cc69e687f0582
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
      fullname: Nitrosocke
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nitrosocke
      type: user
    createdAt: '2022-11-01T18:38:42.000Z'
    data:
      status: merged
    id: 636167b200905b1ffb8ea47f
    type: status-change
  author: nitrosocke
  created_at: 2022-11-01 17:38:42+00:00
  id: 636167b200905b1ffb8ea47f
  new_status: merged
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
      fullname: Nitrosocke
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nitrosocke
      type: user
    createdAt: '2022-11-01T18:39:44.000Z'
    data:
      edited: false
      editors:
      - nitrosocke
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
          fullname: Nitrosocke
          isHf: false
          isPro: false
          name: nitrosocke
          type: user
        html: '<p>Thank you so much!<br>The results from euler look very nice! Any
          chance that DPM2 Karren will be available in the future?</p>

          '
        raw: 'Thank you so much!

          The results from euler look very nice! Any chance that DPM2 Karren will
          be available in the future?'
        updatedAt: '2022-11-01T18:39:44.716Z'
      numEdits: 0
      reactions: []
    id: 636167f019e7e4bf4573659c
    type: comment
  author: nitrosocke
  content: 'Thank you so much!

    The results from euler look very nice! Any chance that DPM2 Karren will be available
    in the future?'
  created_at: 2022-11-01 17:39:44+00:00
  edited: false
  hidden: false
  id: 636167f019e7e4bf4573659c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1600014820272-5ec0135ded25d76864d553f1.jpeg?w=200&h=200&f=face
      fullname: Suraj Patil
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: valhalla
      type: user
    createdAt: '2022-11-01T22:20:57.000Z'
    data:
      edited: false
      editors:
      - valhalla
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1600014820272-5ec0135ded25d76864d553f1.jpeg?w=200&h=200&f=face
          fullname: Suraj Patil
          isHf: true
          isPro: false
          name: valhalla
          type: user
        html: '<p>Yes, the DPM2 and Heun schedulers will be available soon (~in next
          8-10 days).</p>

          '
        raw: Yes, the DPM2 and Heun schedulers will be available soon (~in next 8-10
          days).
        updatedAt: '2022-11-01T22:20:57.738Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - nitrosocke
    id: 63619bc900905b1ffb908fd4
    type: comment
  author: valhalla
  content: Yes, the DPM2 and Heun schedulers will be available soon (~in next 8-10
    days).
  created_at: 2022-11-01 21:20:57+00:00
  edited: false
  hidden: false
  id: 63619bc900905b1ffb908fd4
  type: comment
is_pull_request: true
merge_commit_oid: 13901528bb5d56681b0b1bc86961a13088893dd8
num: 8
repo_id: nitrosocke/classic-anim-diffusion
repo_type: model
status: merged
target_branch: refs/heads/main
title: Add diffusers model
