!!python/object:huggingface_hub.community.DiscussionWithDetails
author: yuanzhoulvpi
conflicting_files: []
created_at: 2023-07-24 21:40:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
      fullname: yuanz
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yuanzhoulvpi
      type: user
    createdAt: '2023-07-24T22:40:51.000Z'
    data:
      edited: false
      editors:
      - yuanzhoulvpi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4231642484664917
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
          fullname: yuanz
          isHf: false
          isPro: false
          name: yuanzhoulvpi
          type: user
        html: '<p>add flash attention to <code>BaichuanAttention</code> class.</p>

          '
        raw: add flash attention to `BaichuanAttention` class.
        updatedAt: '2023-07-24T22:40:51.519Z'
      numEdits: 0
      reactions: []
    id: 64befdf31a62149c5ea22b08
    type: comment
  author: yuanzhoulvpi
  content: add flash attention to `BaichuanAttention` class.
  created_at: 2023-07-24 21:40:51+00:00
  edited: false
  hidden: false
  id: 64befdf31a62149c5ea22b08
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
      fullname: yuanz
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yuanzhoulvpi
      type: user
    createdAt: '2023-07-24T22:40:52.000Z'
    data:
      oid: af36ef270241e5ed681c1cc90e47b52349426b2b
      parents:
      - b3ca596c403e84a72476349de5cb2a03a522c368
      subject: Add flash attention
    id: 64befdf40000000000000000
    type: commit
  author: yuanzhoulvpi
  created_at: 2023-07-24 21:40:52+00:00
  id: 64befdf40000000000000000
  oid: af36ef270241e5ed681c1cc90e47b52349426b2b
  summary: Add flash attention
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
      fullname: wuzhiying2023
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: wuzhiying2023
      type: user
    createdAt: '2023-07-25T02:20:51.000Z'
    data:
      edited: false
      editors:
      - wuzhiying2023
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.45338720083236694
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
          fullname: wuzhiying2023
          isHf: false
          isPro: false
          name: wuzhiying2023
          type: user
        html: '<p>Actually, scaled_dot_product_attention will not invoke  either flash
          attention or memory_efficient attention because of mask.</p>

          '
        raw: Actually, scaled_dot_product_attention will not invoke  either flash
          attention or memory_efficient attention because of mask.
        updatedAt: '2023-07-25T02:20:51.599Z'
      numEdits: 0
      reactions: []
    id: 64bf31839f94ea255432a9bf
    type: comment
  author: wuzhiying2023
  content: Actually, scaled_dot_product_attention will not invoke  either flash attention
    or memory_efficient attention because of mask.
  created_at: 2023-07-25 01:20:51+00:00
  edited: false
  hidden: false
  id: 64bf31839f94ea255432a9bf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
      fullname: yuanz
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yuanzhoulvpi
      type: user
    createdAt: '2023-07-25T06:35:14.000Z'
    data:
      edited: false
      editors:
      - yuanzhoulvpi
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9763154983520508
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
          fullname: yuanz
          isHf: false
          isPro: false
          name: yuanzhoulvpi
          type: user
        html: "<p>\u6211\u4EB2\u7231\u7684wuzhiying\u5927\u4F6C\uFF0C\u4E0B\u5348\u597D\
          \u3002</p>\n<p>\u60A8\u8BF4\u7684\u8FD9\u53E5\u8BDD\u5230\u5E95\u662F\u5565\
          \u610F\u601D\uFF0C\u6211\u5927\u6982\u641E\u4E86\u4E00\u4E24\u4E2A\u5C0F\
          \u65F6\uFF0C\u6CA1\u641E\u61C2\u3002</p>\n<p>\u6211\u731C\u6D4B\uFF0C\u60A8\
          \u8868\u8FBE\u7684\u610F\u601D\u662F\uFF1Apytorch\u7684scaled_dot_product_attention\u51FD\
          \u6570\uFF0C\u5728\u6709mask\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u4F1Aflash\
          \ attention\u3001\u4E0D\u4F1Amemory_efficient\uFF1F\u4E0D\u77E5\u9053\u6709\
          \u6CA1\u6709\u731C\u9519\u3002\u60A8\u53EF\u5426\u518D\u8868\u8FBE\u4E00\
          \u4E0B\u3002</p>\n<p>\u5982\u679C\u662F\u8FD9\u4E2A\u731C\u6D4B\uFF0C\u90A3\
          \u4E48\u662F\u5426\u53EF\u4EE5\u5206\u4EAB\u4E00\u4E0B\u76F8\u5173\u7684\
          \u6587\u6863\u3002\u611F\u8C22\uFF01</p>\n<p>\u6211\u8FD9\u8FB9\u4E3B\u8981\
          \u505A\u4E86\u51E0\u4E2A\u52AA\u529B\uFF1A</p>\n<ol>\n<li>\u5148\u68C0\u67E5\
          \u7684\u4E24\u79CD\u8BA1\u7B97\u65B9\u6CD5\u662F\u6709\u6570\u503C\u662F\
          \u6709\u5DEE\u5F02\uFF0C\u786E\u4FDD\u6CA1\u6709\u5DEE\u5F02\u3002</li>\n\
          <li>\u6BD4\u8F83\u4E86\u4E24\u79CD\u8BA1\u7B97\u6548\u7387\uFF0C\u786E\u5B9E\
          scaled_dot_product_attention\u8BA1\u7B97\u6548\u7387\u6BD4\u539F\u59CB\u65B9\
          \u6CD5\u8981\u5FEB\uFF0C\u4F46\u662F\u6CA1\u5FEB\u592A\u591A\u3002</li>\n\
          <li>\u4ED4\u7EC6\u9605\u8BFB\u4E86\u76F8\u5173\u4EE3\u7801\uFF0C\u4F60\u4EEC\
          \u628Apos_embedding\u3001alibi\u5168\u90FD\u878D\u5408\u5728attention_mask\u91CC\
          \u9762\uFF0C\u8BBE\u8BA1\u7684\u5F88\u5DE7\u5999\uFF0C\u4F18\u79C0\uFF5E\
          </li>\n</ol>\n<p>\u8FD9\u91CC\u9EBB\u70E6\u5927\u4F6C\u5E2E\u5FD9\u89E3\u91CA\
          \u4E00\u4E0B\uFF0C\u8C22\u8C22\uFF5E</p>\n"
        raw: "\u6211\u4EB2\u7231\u7684wuzhiying\u5927\u4F6C\uFF0C\u4E0B\u5348\u597D\
          \u3002\n\n\u60A8\u8BF4\u7684\u8FD9\u53E5\u8BDD\u5230\u5E95\u662F\u5565\u610F\
          \u601D\uFF0C\u6211\u5927\u6982\u641E\u4E86\u4E00\u4E24\u4E2A\u5C0F\u65F6\
          \uFF0C\u6CA1\u641E\u61C2\u3002\n\n\u6211\u731C\u6D4B\uFF0C\u60A8\u8868\u8FBE\
          \u7684\u610F\u601D\u662F\uFF1Apytorch\u7684scaled_dot_product_attention\u51FD\
          \u6570\uFF0C\u5728\u6709mask\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u4F1Aflash\
          \ attention\u3001\u4E0D\u4F1Amemory_efficient\uFF1F\u4E0D\u77E5\u9053\u6709\
          \u6CA1\u6709\u731C\u9519\u3002\u60A8\u53EF\u5426\u518D\u8868\u8FBE\u4E00\
          \u4E0B\u3002\n\n\u5982\u679C\u662F\u8FD9\u4E2A\u731C\u6D4B\uFF0C\u90A3\u4E48\
          \u662F\u5426\u53EF\u4EE5\u5206\u4EAB\u4E00\u4E0B\u76F8\u5173\u7684\u6587\
          \u6863\u3002\u611F\u8C22\uFF01\n\n\n\u6211\u8FD9\u8FB9\u4E3B\u8981\u505A\
          \u4E86\u51E0\u4E2A\u52AA\u529B\uFF1A\n1. \u5148\u68C0\u67E5\u7684\u4E24\u79CD\
          \u8BA1\u7B97\u65B9\u6CD5\u662F\u6709\u6570\u503C\u662F\u6709\u5DEE\u5F02\
          \uFF0C\u786E\u4FDD\u6CA1\u6709\u5DEE\u5F02\u3002\n2. \u6BD4\u8F83\u4E86\u4E24\
          \u79CD\u8BA1\u7B97\u6548\u7387\uFF0C\u786E\u5B9Escaled_dot_product_attention\u8BA1\
          \u7B97\u6548\u7387\u6BD4\u539F\u59CB\u65B9\u6CD5\u8981\u5FEB\uFF0C\u4F46\
          \u662F\u6CA1\u5FEB\u592A\u591A\u3002\n3. \u4ED4\u7EC6\u9605\u8BFB\u4E86\u76F8\
          \u5173\u4EE3\u7801\uFF0C\u4F60\u4EEC\u628Apos_embedding\u3001alibi\u5168\
          \u90FD\u878D\u5408\u5728attention_mask\u91CC\u9762\uFF0C\u8BBE\u8BA1\u7684\
          \u5F88\u5DE7\u5999\uFF0C\u4F18\u79C0\uFF5E\n\n\n\u8FD9\u91CC\u9EBB\u70E6\
          \u5927\u4F6C\u5E2E\u5FD9\u89E3\u91CA\u4E00\u4E0B\uFF0C\u8C22\u8C22\uFF5E\
          \n\n\n\n\n"
        updatedAt: '2023-07-25T06:35:14.477Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - lanrenxu
    id: 64bf6d228496ee0fb63b30f0
    type: comment
  author: yuanzhoulvpi
  content: "\u6211\u4EB2\u7231\u7684wuzhiying\u5927\u4F6C\uFF0C\u4E0B\u5348\u597D\u3002\
    \n\n\u60A8\u8BF4\u7684\u8FD9\u53E5\u8BDD\u5230\u5E95\u662F\u5565\u610F\u601D\uFF0C\
    \u6211\u5927\u6982\u641E\u4E86\u4E00\u4E24\u4E2A\u5C0F\u65F6\uFF0C\u6CA1\u641E\
    \u61C2\u3002\n\n\u6211\u731C\u6D4B\uFF0C\u60A8\u8868\u8FBE\u7684\u610F\u601D\u662F\
    \uFF1Apytorch\u7684scaled_dot_product_attention\u51FD\u6570\uFF0C\u5728\u6709\
    mask\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u4F1Aflash attention\u3001\u4E0D\u4F1A\
    memory_efficient\uFF1F\u4E0D\u77E5\u9053\u6709\u6CA1\u6709\u731C\u9519\u3002\u60A8\
    \u53EF\u5426\u518D\u8868\u8FBE\u4E00\u4E0B\u3002\n\n\u5982\u679C\u662F\u8FD9\u4E2A\
    \u731C\u6D4B\uFF0C\u90A3\u4E48\u662F\u5426\u53EF\u4EE5\u5206\u4EAB\u4E00\u4E0B\
    \u76F8\u5173\u7684\u6587\u6863\u3002\u611F\u8C22\uFF01\n\n\n\u6211\u8FD9\u8FB9\
    \u4E3B\u8981\u505A\u4E86\u51E0\u4E2A\u52AA\u529B\uFF1A\n1. \u5148\u68C0\u67E5\u7684\
    \u4E24\u79CD\u8BA1\u7B97\u65B9\u6CD5\u662F\u6709\u6570\u503C\u662F\u6709\u5DEE\
    \u5F02\uFF0C\u786E\u4FDD\u6CA1\u6709\u5DEE\u5F02\u3002\n2. \u6BD4\u8F83\u4E86\u4E24\
    \u79CD\u8BA1\u7B97\u6548\u7387\uFF0C\u786E\u5B9Escaled_dot_product_attention\u8BA1\
    \u7B97\u6548\u7387\u6BD4\u539F\u59CB\u65B9\u6CD5\u8981\u5FEB\uFF0C\u4F46\u662F\
    \u6CA1\u5FEB\u592A\u591A\u3002\n3. \u4ED4\u7EC6\u9605\u8BFB\u4E86\u76F8\u5173\u4EE3\
    \u7801\uFF0C\u4F60\u4EEC\u628Apos_embedding\u3001alibi\u5168\u90FD\u878D\u5408\
    \u5728attention_mask\u91CC\u9762\uFF0C\u8BBE\u8BA1\u7684\u5F88\u5DE7\u5999\uFF0C\
    \u4F18\u79C0\uFF5E\n\n\n\u8FD9\u91CC\u9EBB\u70E6\u5927\u4F6C\u5E2E\u5FD9\u89E3\
    \u91CA\u4E00\u4E0B\uFF0C\u8C22\u8C22\uFF5E\n\n\n\n\n"
  created_at: 2023-07-25 05:35:14+00:00
  edited: false
  hidden: false
  id: 64bf6d228496ee0fb63b30f0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
      fullname: wuzhiying2023
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: wuzhiying2023
      type: user
    createdAt: '2023-07-25T06:47:02.000Z'
    data:
      edited: false
      editors:
      - wuzhiying2023
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9572895765304565
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
          fullname: wuzhiying2023
          isHf: false
          isPro: false
          name: wuzhiying2023
          type: user
        html: "<p>\u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
          \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
          \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\
          pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\u3002</p>\n"
        raw: "\u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
          \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
          \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\
          pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\u3002"
        updatedAt: '2023-07-25T06:47:02.923Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - yuanzhoulvpi
      - count: 1
        reaction: "\U0001F44D"
        users:
        - qz
    id: 64bf6fe6b567ae97c374c03a
    type: comment
  author: wuzhiying2023
  content: "\u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
    \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
    \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\
    \u7801\u770B\u4E00\u4E0B\u3002"
  created_at: 2023-07-25 05:47:02+00:00
  edited: false
  hidden: false
  id: 64bf6fe6b567ae97c374c03a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/31c514ccd446a116ee4901eda68d13c3.svg
      fullname: shi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: qz
      type: user
    createdAt: '2023-08-09T12:23:32.000Z'
    data:
      edited: false
      editors:
      - qz
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9422026872634888
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/31c514ccd446a116ee4901eda68d13c3.svg
          fullname: shi
          isHf: false
          isPro: false
          name: qz
          type: user
        html: "<blockquote>\n<p>\u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002\
          scaled_dot_product_attention\u4F1A\u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\
          \u8C03\u7528\u54EA\u4E2Aattention\uFF0C\u4E00\u5171\u67093\u4E2A\u9009\u62E9\
          \uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\
          \u3002</p>\n</blockquote>\n<p>\u5982\u679C\u6211\u8981\u52A0\u5165flashattention\uFF0C\
          \u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\u8FDB\u53BB\u5462\uFF1F<br>\u56E0\
          \u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\u9635\u8DDF\u539F\u59CB\u8BBA\
          \u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\u3002</p>\n"
        raw: "> \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
          \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
          \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\
          pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\u3002\n  \n\n\u5982\u679C\u6211\u8981\
          \u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\
          \u8FDB\u53BB\u5462\uFF1F\n\u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\
          \u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\
          \u3002"
        updatedAt: '2023-08-09T12:23:32.234Z'
      numEdits: 0
      reactions: []
    id: 64d385440553a2522f119649
    type: comment
  author: qz
  content: "> \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
    \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
    \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\
    \u7801\u770B\u4E00\u4E0B\u3002\n  \n\n\u5982\u679C\u6211\u8981\u52A0\u5165flashattention\uFF0C\
    \u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\u8FDB\u53BB\u5462\uFF1F\n\u56E0\u4E3A\
    \u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\
    \u73B0\u6709\u70B9\u5DEE\u522B\u3002"
  created_at: 2023-08-09 11:23:32+00:00
  edited: false
  hidden: false
  id: 64d385440553a2522f119649
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
      fullname: yuanz
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yuanzhoulvpi
      type: user
    createdAt: '2023-08-09T12:25:59.000Z'
    data:
      edited: false
      editors:
      - yuanzhoulvpi
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9201228618621826
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678843753419-6232d58473df4db789c78682.jpeg?w=200&h=200&f=face
          fullname: yuanz
          isHf: false
          isPro: false
          name: yuanzhoulvpi
          type: user
        html: "<blockquote>\n<blockquote>\n<p>\u662F\u7684\uFF0C\u4F60\u731C\u7684\
          \u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\u6839\u636E\u8F93\u5165\
          \u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\u4E00\u5171\u6709\
          3\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\u7801\
          \u770B\u4E00\u4E0B\u3002</p>\n</blockquote>\n<p>\u5982\u679C\u6211\u8981\
          \u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\
          \u8FDB\u53BB\u5462\uFF1F<br>\u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\
          \u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\
          \u3002</p>\n</blockquote>\n<p>\u56E0\u4E3A\u4ED6\u4EEC\u628Apos_embedding\u3001\
          alibi\u5168\u90FD\u878D\u5408\u5728attention_mask\u91CC\u9762\u4E86</p>\n"
        raw: "> > \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
          \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
          \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\
          pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\u3002\n>   \n> \n> \u5982\u679C\u6211\
          \u8981\u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\
          \u52A0\u8FDB\u53BB\u5462\uFF1F\n> \u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684\
          alibi\u77E9\u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\
          \u522B\u3002\n\n\u56E0\u4E3A\u4ED6\u4EEC\u628Apos_embedding\u3001alibi\u5168\
          \u90FD\u878D\u5408\u5728attention_mask\u91CC\u9762\u4E86"
        updatedAt: '2023-08-09T12:25:59.020Z'
      numEdits: 0
      reactions: []
    id: 64d385d73ce34445f5e23460
    type: comment
  author: yuanzhoulvpi
  content: "> > \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
    \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
    \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\
    \u7801\u770B\u4E00\u4E0B\u3002\n>   \n> \n> \u5982\u679C\u6211\u8981\u52A0\u5165\
    flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\u8FDB\u53BB\u5462\
    \uFF1F\n> \u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\u9635\u8DDF\u539F\
    \u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\u3002\n\n\u56E0\u4E3A\u4ED6\
    \u4EEC\u628Apos_embedding\u3001alibi\u5168\u90FD\u878D\u5408\u5728attention_mask\u91CC\
    \u9762\u4E86"
  created_at: 2023-08-09 11:25:59+00:00
  edited: false
  hidden: false
  id: 64d385d73ce34445f5e23460
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
      fullname: wuzhiying2023
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: wuzhiying2023
      type: user
    createdAt: '2023-08-09T12:26:23.000Z'
    data:
      edited: false
      editors:
      - wuzhiying2023
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9159221053123474
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
          fullname: wuzhiying2023
          isHf: false
          isPro: false
          name: wuzhiying2023
          type: user
        html: "<blockquote>\n<blockquote>\n<p>\u662F\u7684\uFF0C\u4F60\u731C\u7684\
          \u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\u6839\u636E\u8F93\u5165\
          \u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\u4E00\u5171\u6709\
          3\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\u7801\
          \u770B\u4E00\u4E0B\u3002</p>\n</blockquote>\n<p>\u5982\u679C\u6211\u8981\
          \u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\
          \u8FDB\u53BB\u5462\uFF1F<br>\u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\
          \u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\
          \u3002</p>\n</blockquote>\n<p>flash-attn\u8C8C\u4F3C\u8FD8\u4E0D\u652F\u6301\
          mask</p>\n"
        raw: "> > \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
          \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
          \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\
          pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\u3002\n>   \n> \n> \u5982\u679C\u6211\
          \u8981\u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\
          \u52A0\u8FDB\u53BB\u5462\uFF1F\n> \u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684\
          alibi\u77E9\u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\
          \u522B\u3002\n\nflash-attn\u8C8C\u4F3C\u8FD8\u4E0D\u652F\u6301mask"
        updatedAt: '2023-08-09T12:26:23.433Z'
      numEdits: 0
      reactions: []
    id: 64d385efc7a6981f472a0a19
    type: comment
  author: wuzhiying2023
  content: "> > \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
    \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
    \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\
    \u7801\u770B\u4E00\u4E0B\u3002\n>   \n> \n> \u5982\u679C\u6211\u8981\u52A0\u5165\
    flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\u8FDB\u53BB\u5462\
    \uFF1F\n> \u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\u9635\u8DDF\u539F\
    \u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\u3002\n\nflash-attn\u8C8C\
    \u4F3C\u8FD8\u4E0D\u652F\u6301mask"
  created_at: 2023-08-09 11:26:23+00:00
  edited: false
  hidden: false
  id: 64d385efc7a6981f472a0a19
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/31c514ccd446a116ee4901eda68d13c3.svg
      fullname: shi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: qz
      type: user
    createdAt: '2023-08-09T12:27:33.000Z'
    data:
      edited: false
      editors:
      - qz
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9099645614624023
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/31c514ccd446a116ee4901eda68d13c3.svg
          fullname: shi
          isHf: false
          isPro: false
          name: qz
          type: user
        html: "<blockquote>\n<blockquote>\n<blockquote>\n<p>\u662F\u7684\uFF0C\u4F60\
          \u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\u6839\u636E\
          \u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\u4E00\
          \u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\
          \u7801\u770B\u4E00\u4E0B\u3002</p>\n</blockquote>\n<p>\u5982\u679C\u6211\
          \u8981\u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\
          \u52A0\u8FDB\u53BB\u5462\uFF1F<br>\u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684\
          alibi\u77E9\u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\
          \u522B\u3002</p>\n</blockquote>\n<p>flash-attn\u8C8C\u4F3C\u8FD8\u4E0D\u652F\
          \u6301mask</p>\n</blockquote>\n<p>flash-attn  \u6709\u4E2Atrition \u7248\
          \u672C\u7684\u3002\u652F\u6301\u6807\u51C6\u7684alibi</p>\n"
        raw: "\n> > > \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
          \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
          \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003\
          pythorch\u4EE3\u7801\u770B\u4E00\u4E0B\u3002\n> >   \n> > \n> > \u5982\u679C\
          \u6211\u8981\u52A0\u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\
          \u52A0\u8FDB\u53BB\u5462\uFF1F\n> > \u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\
          \u7684alibi\u77E9\u9635\u8DDF\u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\
          \u5DEE\u522B\u3002\n> \n> flash-attn\u8C8C\u4F3C\u8FD8\u4E0D\u652F\u6301\
          mask\n\nflash-attn  \u6709\u4E2Atrition \u7248\u672C\u7684\u3002\u652F\u6301\
          \u6807\u51C6\u7684alibi"
        updatedAt: '2023-08-09T12:27:33.530Z'
      numEdits: 0
      reactions: []
    id: 64d38635e6d0086f531f8ecc
    type: comment
  author: qz
  content: "\n> > > \u662F\u7684\uFF0C\u4F60\u731C\u7684\u6CA1\u9519\u3002scaled_dot_product_attention\u4F1A\
    \u6839\u636E\u8F93\u5165\u53BB\u9009\u62E9\u8C03\u7528\u54EA\u4E2Aattention\uFF0C\
    \u4E00\u5171\u67093\u4E2A\u9009\u62E9\uFF0C\u4F60\u53EF\u4EE5\u53C2\u8003pythorch\u4EE3\
    \u7801\u770B\u4E00\u4E0B\u3002\n> >   \n> > \n> > \u5982\u679C\u6211\u8981\u52A0\
    \u5165flashattention\uFF0C\u6211\u5982\u4F55\u628Aalibi\u4E5F\u52A0\u8FDB\u53BB\
    \u5462\uFF1F\n> > \u56E0\u4E3A\u4F3C\u4E4E\u767E\u5DDD\u7684alibi\u77E9\u9635\u8DDF\
    \u539F\u59CB\u8BBA\u6587\u5B9E\u73B0\u6709\u70B9\u5DEE\u522B\u3002\n> \n> flash-attn\u8C8C\
    \u4F3C\u8FD8\u4E0D\u652F\u6301mask\n\nflash-attn  \u6709\u4E2Atrition \u7248\u672C\
    \u7684\u3002\u652F\u6301\u6807\u51C6\u7684alibi"
  created_at: 2023-08-09 11:27:33+00:00
  edited: false
  hidden: false
  id: 64d38635e6d0086f531f8ecc
  type: comment
is_pull_request: true
merge_commit_oid: null
num: 21
repo_id: baichuan-inc/Baichuan-13B-Chat
repo_type: model
status: open
target_branch: refs/heads/main
title: Add flash attention
