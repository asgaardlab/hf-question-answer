!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jleeds
conflicting_files: null
created_at: 2023-09-26 17:32:26+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/748285754e336d4ff29895a8ddd8e4b7.svg
      fullname: Joe Coker
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jleeds
      type: user
    createdAt: '2023-09-26T18:32:26.000Z'
    data:
      edited: false
      editors:
      - jleeds
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9129867553710938
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/748285754e336d4ff29895a8ddd8e4b7.svg
          fullname: Joe Coker
          isHf: false
          isPro: false
          name: jleeds
          type: user
        html: '<p>Hello, I''ve created an inference endpoint for feature extraction
          with the BAAI/bge-small-en-v1.5 model. When I send off a text string for
          embedding I am expecting a response containing a single array of 384 vectors.
          Instead I receive multiple arrays of 384 vectors (the number of arrays varies
          between 5 and 11). </p>

          <p>When I tested with the hosted inference API on the models huggingface
          page the response was only a single array of 384 vectors. <a href="https://huggingface.co/BAAI/bge-small-en-v1.5?text=Hello+world">https://huggingface.co/BAAI/bge-small-en-v1.5?text=Hello+world</a></p>

          <p>Why am I receiving multiple vector arrays as a response and can I limiti
          it to one? If not can I just take the first of these for my embedding?</p>

          <p>Thanks!</p>

          '
        raw: "Hello, I've created an inference endpoint for feature extraction with\
          \ the BAAI/bge-small-en-v1.5 model. When I send off a text string for embedding\
          \ I am expecting a response containing a single array of 384 vectors. Instead\
          \ I receive multiple arrays of 384 vectors (the number of arrays varies\
          \ between 5 and 11). \r\n\r\nWhen I tested with the hosted inference API\
          \ on the models huggingface page the response was only a single array of\
          \ 384 vectors. https://huggingface.co/BAAI/bge-small-en-v1.5?text=Hello+world\r\
          \n\r\nWhy am I receiving multiple vector arrays as a response and can I\
          \ limiti it to one? If not can I just take the first of these for my embedding?\r\
          \n\r\nThanks!"
        updatedAt: '2023-09-26T18:32:26.581Z'
      numEdits: 0
      reactions: []
    id: 651323ba749380c079ad1727
    type: comment
  author: jleeds
  content: "Hello, I've created an inference endpoint for feature extraction with\
    \ the BAAI/bge-small-en-v1.5 model. When I send off a text string for embedding\
    \ I am expecting a response containing a single array of 384 vectors. Instead\
    \ I receive multiple arrays of 384 vectors (the number of arrays varies between\
    \ 5 and 11). \r\n\r\nWhen I tested with the hosted inference API on the models\
    \ huggingface page the response was only a single array of 384 vectors. https://huggingface.co/BAAI/bge-small-en-v1.5?text=Hello+world\r\
    \n\r\nWhy am I receiving multiple vector arrays as a response and can I limiti\
    \ it to one? If not can I just take the first of these for my embedding?\r\n\r\
    \nThanks!"
  created_at: 2023-09-26 17:32:26+00:00
  edited: false
  hidden: false
  id: 651323ba749380c079ad1727
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
      fullname: Xiao
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Shitao
      type: user
    createdAt: '2023-09-27T12:38:59.000Z'
    data:
      edited: false
      editors:
      - Shitao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8675640821456909
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
          fullname: Xiao
          isHf: false
          isPro: false
          name: Shitao
          type: user
        html: '<p>Hi, we use the first hidden state as the sentence embedding. You
          can refer to the code: <a rel="nofollow" href="https://github.com/FlagOpen/FlagEmbedding/tree/master#using-huggingface-transformers">https://github.com/FlagOpen/FlagEmbedding/tree/master#using-huggingface-transformers</a>  to
          get the sentence embedding. </p>

          '
        raw: 'Hi, we use the first hidden state as the sentence embedding. You can
          refer to the code: https://github.com/FlagOpen/FlagEmbedding/tree/master#using-huggingface-transformers  to
          get the sentence embedding. '
        updatedAt: '2023-09-27T12:38:59.093Z'
      numEdits: 0
      reactions: []
    id: 6514226340e8e7def036fc54
    type: comment
  author: Shitao
  content: 'Hi, we use the first hidden state as the sentence embedding. You can refer
    to the code: https://github.com/FlagOpen/FlagEmbedding/tree/master#using-huggingface-transformers  to
    get the sentence embedding. '
  created_at: 2023-09-27 11:38:59+00:00
  edited: false
  hidden: false
  id: 6514226340e8e7def036fc54
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: BAAI/bge-small-en-v1.5
repo_type: model
status: open
target_branch: null
title: Multiple arrays of vectors returned from feature extraction inference endpoint
