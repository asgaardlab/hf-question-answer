!!python/object:huggingface_hub.community.DiscussionWithDetails
author: siemens
conflicting_files: null
created_at: 2022-11-17 14:16:41+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c89eca04425362851dde13e258c7b8ba.svg
      fullname: super
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: siemens
      type: user
    createdAt: '2022-11-17T14:16:41.000Z'
    data:
      edited: false
      editors:
      - siemens
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c89eca04425362851dde13e258c7b8ba.svg
          fullname: super
          isHf: false
          isPro: false
          name: siemens
          type: user
        html: '<p>when running at pipe = StableDiffusionPipeline.from_pretrained(model_id,
          torch_dtype=torch.float16)  have error "module transformers has no attribute
          CLIPImageProcessor"</p>

          <p>i''m in new transformers4.24.0 diffusers 0.7.2 pytorch 1.10.2</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1668694176862-637634bbc3c79730cac77986.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/1668694176862-637634bbc3c79730cac77986.png"></a></p>

          '
        raw: "\r\nwhen running at pipe = StableDiffusionPipeline.from_pretrained(model_id,\
          \ torch_dtype=torch.float16)  have error \"module transformers has no attribute\
          \ CLIPImageProcessor\"\r\n\r\ni'm in new transformers4.24.0 diffusers 0.7.2\
          \ pytorch 1.10.2\r\n\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1668694176862-637634bbc3c79730cac77986.png)\r\
          \n"
        updatedAt: '2022-11-17T14:16:41.588Z'
      numEdits: 0
      reactions: []
    id: 6376424959f4c9b278abea5e
    type: comment
  author: siemens
  content: "\r\nwhen running at pipe = StableDiffusionPipeline.from_pretrained(model_id,\
    \ torch_dtype=torch.float16)  have error \"module transformers has no attribute\
    \ CLIPImageProcessor\"\r\n\r\ni'm in new transformers4.24.0 diffusers 0.7.2 pytorch\
    \ 1.10.2\r\n\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1668694176862-637634bbc3c79730cac77986.png)\r\
    \n"
  created_at: 2022-11-17 14:16:41+00:00
  edited: false
  hidden: false
  id: 6376424959f4c9b278abea5e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4713ce965ad2a3cd4c3a829becccedf2.svg
      fullname: Brendan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bmanturner
      type: user
    createdAt: '2022-11-18T22:42:37.000Z'
    data:
      edited: false
      editors:
      - bmanturner
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4713ce965ad2a3cd4c3a829becccedf2.svg
          fullname: Brendan
          isHf: false
          isPro: false
          name: bmanturner
          type: user
        html: '<p>ran into this same issue</p>

          '
        raw: ran into this same issue
        updatedAt: '2022-11-18T22:42:37.227Z'
      numEdits: 0
      reactions: []
    id: 63780a5d8bfb575b633695f2
    type: comment
  author: bmanturner
  content: ran into this same issue
  created_at: 2022-11-18 22:42:37+00:00
  edited: false
  hidden: false
  id: 63780a5d8bfb575b633695f2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
      fullname: Nitrosocke
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nitrosocke
      type: user
    createdAt: '2022-11-19T02:28:37.000Z'
    data:
      edited: false
      editors:
      - nitrosocke
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
          fullname: Nitrosocke
          isHf: false
          isPro: false
          name: nitrosocke
          type: user
        html: '<p>Not 100% sure where this comes from. I will convert the model again
          and retry it. If that doesn''t work I''ll retrain the model and update it
          here.<br>Thanks for the reports and your patience!</p>

          '
        raw: 'Not 100% sure where this comes from. I will convert the model again
          and retry it. If that doesn''t work I''ll retrain the model and update it
          here.

          Thanks for the reports and your patience!'
        updatedAt: '2022-11-19T02:28:37.034Z'
      numEdits: 0
      reactions: []
    id: 63783f558f288aba3d013439
    type: comment
  author: nitrosocke
  content: 'Not 100% sure where this comes from. I will convert the model again and
    retry it. If that doesn''t work I''ll retrain the model and update it here.

    Thanks for the reports and your patience!'
  created_at: 2022-11-19 02:28:37+00:00
  edited: false
  hidden: false
  id: 63783f558f288aba3d013439
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304e458bad6ce7fc0288fc6/SjqTf13xgtbC0xCz8z5yJ.png?w=200&h=200&f=face
      fullname: Joe Dluzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdluzen
      type: user
    createdAt: '2022-11-19T03:15:38.000Z'
    data:
      edited: false
      editors:
      - jdluzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304e458bad6ce7fc0288fc6/SjqTf13xgtbC0xCz8z5yJ.png?w=200&h=200&f=face
          fullname: Joe Dluzen
          isHf: false
          isPro: false
          name: jdluzen
          type: user
        html: '<p>If it helps, I''ve been able to convert every model of yours to
          ONNX except this one. When I try, I get a similar attribute error:<br><code>  File
          "...\diffusers\src\diffusers\pipeline_utils.py", line 192, in from_pretrained     is_pipeline_module
          = hasattr(pipelines, library_name) TypeError: hasattr(): attribute name
          must be string</code></p>

          '
        raw: "If it helps, I've been able to convert every model of yours to ONNX\
          \ except this one. When I try, I get a similar attribute error:\n`  File\
          \ \"...\\diffusers\\src\\diffusers\\pipeline_utils.py\", line 192, in from_pretrained\n\
          \    is_pipeline_module = hasattr(pipelines, library_name)\nTypeError: hasattr():\
          \ attribute name must be string`"
        updatedAt: '2022-11-19T03:15:38.515Z'
      numEdits: 0
      reactions: []
    id: 63784a5aea2a9a0283b3e7e9
    type: comment
  author: jdluzen
  content: "If it helps, I've been able to convert every model of yours to ONNX except\
    \ this one. When I try, I get a similar attribute error:\n`  File \"...\\diffusers\\\
    src\\diffusers\\pipeline_utils.py\", line 192, in from_pretrained\n    is_pipeline_module\
    \ = hasattr(pipelines, library_name)\nTypeError: hasattr(): attribute name must\
    \ be string`"
  created_at: 2022-11-19 03:15:38+00:00
  edited: false
  hidden: false
  id: 63784a5aea2a9a0283b3e7e9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666945804764-630fd327982455e61ccd8f32.png?w=200&h=200&f=face
      fullname: Guizmus
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Guizmus
      type: user
    createdAt: '2022-11-19T10:45:10.000Z'
    data:
      edited: false
      editors:
      - Guizmus
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666945804764-630fd327982455e61ccd8f32.png?w=200&h=200&f=face
          fullname: Guizmus
          isHf: false
          isPro: false
          name: Guizmus
          type: user
        html: '<p>I''ll try to push an update to the diffusers to see if it helps
          : <a href="https://huggingface.co/nitrosocke/Nitro-Diffusion/discussions/8">https://huggingface.co/nitrosocke/Nitro-Diffusion/discussions/8</a><br>waiting
          on Nitro to check and merge</p>

          '
        raw: 'I''ll try to push an update to the diffusers to see if it helps : https://huggingface.co/nitrosocke/Nitro-Diffusion/discussions/8

          waiting on Nitro to check and merge'
        updatedAt: '2022-11-19T10:45:10.425Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - nitrosocke
    id: 6378b3b67dee98a4ec689bcb
    type: comment
  author: Guizmus
  content: 'I''ll try to push an update to the diffusers to see if it helps : https://huggingface.co/nitrosocke/Nitro-Diffusion/discussions/8

    waiting on Nitro to check and merge'
  created_at: 2022-11-19 10:45:10+00:00
  edited: false
  hidden: false
  id: 6378b3b67dee98a4ec689bcb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304e458bad6ce7fc0288fc6/SjqTf13xgtbC0xCz8z5yJ.png?w=200&h=200&f=face
      fullname: Joe Dluzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdluzen
      type: user
    createdAt: '2022-11-19T18:38:22.000Z'
    data:
      edited: true
      editors:
      - jdluzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304e458bad6ce7fc0288fc6/SjqTf13xgtbC0xCz8z5yJ.png?w=200&h=200&f=face
          fullname: Joe Dluzen
          isHf: false
          isPro: false
          name: jdluzen
          type: user
        html: '<p><del>I''m further along with the latest commit, but I think it''s
          an ONNX problem now:<br><code>onnxruntime.capi.onnxruntime_pybind11_state.NotImplemented:
          [ONNXRuntimeError] : 9 : NOT_IMPLEMENTED : Could not find an implementation
          for ArgMax(13) node with name ''ArgMax_1707''</code></del><br>Nevermind,
          that seems to be a CPU only issue. It''s working correctly with DML.</p>

          '
        raw: '~I''m further along with the latest commit, but I think it''s an ONNX
          problem now:

          `onnxruntime.capi.onnxruntime_pybind11_state.NotImplemented: [ONNXRuntimeError]
          : 9 : NOT_IMPLEMENTED : Could not find an implementation for ArgMax(13)
          node with name ''ArgMax_1707''`~

          Nevermind, that seems to be a CPU only issue. It''s working correctly with
          DML.'
        updatedAt: '2022-11-19T18:47:18.163Z'
      numEdits: 1
      reactions: []
    id: 6379229e7df2fefdcaf190cf
    type: comment
  author: jdluzen
  content: '~I''m further along with the latest commit, but I think it''s an ONNX
    problem now:

    `onnxruntime.capi.onnxruntime_pybind11_state.NotImplemented: [ONNXRuntimeError]
    : 9 : NOT_IMPLEMENTED : Could not find an implementation for ArgMax(13) node with
    name ''ArgMax_1707''`~

    Nevermind, that seems to be a CPU only issue. It''s working correctly with DML.'
  created_at: 2022-11-19 18:38:22+00:00
  edited: true
  hidden: false
  id: 6379229e7df2fefdcaf190cf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
      fullname: Nitrosocke
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nitrosocke
      type: user
    createdAt: '2022-11-19T18:49:12.000Z'
    data:
      edited: true
      editors:
      - nitrosocke
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
          fullname: Nitrosocke
          isHf: false
          isPro: false
          name: nitrosocke
          type: user
        html: "<p>Perfect, glad it's working now, thanks for the fix <span data-props=\"\
          {&quot;user&quot;:&quot;Guizmus&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/Guizmus\">@<span class=\"underline\">Guizmus</span></a></span>\n\
          \n\t</span></span></p>\n"
        raw: Perfect, glad it's working now, thanks for the fix @Guizmus
        updatedAt: '2022-11-19T18:49:26.907Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - Guizmus
    id: 637925287dee98a4ec6bc92a
    type: comment
  author: nitrosocke
  content: Perfect, glad it's working now, thanks for the fix @Guizmus
  created_at: 2022-11-19 18:49:12+00:00
  edited: true
  hidden: false
  id: 637925287dee98a4ec6bc92a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665880202208-62d043efcf3a93c933534eb6.png?w=200&h=200&f=face
      fullname: Nitrosocke
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nitrosocke
      type: user
    createdAt: '2022-11-19T18:49:30.000Z'
    data:
      status: closed
    id: 6379253a438c92a3c12a0edb
    type: status-change
  author: nitrosocke
  created_at: 2022-11-19 18:49:30+00:00
  id: 6379253a438c92a3c12a0edb
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: nitrosocke/Nitro-Diffusion
repo_type: model
status: closed
target_branch: null
title: module transformers has no attribute CLIPImageProcessor
