!!python/object:huggingface_hub.community.DiscussionWithDetails
author: treedom
conflicting_files: null
created_at: 2023-02-17 07:49:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676433228660-63ec571cca08a72ba9d17642.png?w=200&h=200&f=face
      fullname: tdtreedom
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: treedom
      type: user
    createdAt: '2023-02-17T07:49:08.000Z'
    data:
      edited: false
      editors:
      - treedom
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676433228660-63ec571cca08a72ba9d17642.png?w=200&h=200&f=face
          fullname: tdtreedom
          isHf: false
          isPro: false
          name: treedom
          type: user
        html: '<p>Loading weights [70a38ac1c4] from stable-diffusion\stable-diffusion-webui\models\Stable-diffusion\Taiyi-1B-Anime-Chinese-v0.1.ckpt<br>Failed
          to load checkpoint, restoring previous<br>Loading weights [fe4efff1e1] from
          stable-diffusion\stable-diffusion-webui\models\Stable-diffusion\model.ckpt<br>Applying
          xformers cross attention optimization.<br>changing setting sd_model_checkpoint
          to Taiyi-1B-Anime-Chinese-v0.1.ckpt [70a38ac1c4]: RuntimeError<br>Traceback
          (most recent call last):<br>  File "stable-diffusion\stable-diffusion-webui\modules\shared.py",
          line 549, in set<br>    self.data_labels[key].onchange()<br>  File "stable-diffusion\stable-diffusion-webui\modules\call_queue.py",
          line 15, in f<br>    res = func(*args, **kwargs)<br>  File "stable-diffusion\stable-diffusion-webui\webui.py",
          line 120, in <br>    shared.opts.onchange("sd_model_checkpoint", wrap_queued_call(lambda:
          modules.sd_models.reload_model_weights()))<br>  File "stable-diffusion\stable-diffusion-webui\modules\sd_models.py",
          line 471, in reload_model_weights<br>    load_model_weights(sd_model, checkpoint_info,
          state_dict, timer)<br>  File "stable-diffusion\stable-diffusion-webui\modules\sd_models.py",
          line 247, in load_model_weights<br>    model.load_state_dict(state_dict,
          strict=False)<br>  File "C:\ProgramData\Anaconda3\envs\automatic\lib\site-packages\torch\nn\modules\module.py",
          line 1604, in load_state_dict<br>    raise RuntimeError(''Error(s) in loading
          state_dict for {}:\n\t{}''.format(<br>RuntimeError: Error(s) in loading
          state_dict for LatentDiffusion:<br>        size mismatch for cond_stage_model.transformer.text_model.embeddings.position_ids:
          copying a param with shape torch.Size([1, 512]) from checkpoint, the shape
          in current model is torch.Size([1, 77]).</p>

          '
        raw: "Loading weights [70a38ac1c4] from stable-diffusion\\stable-diffusion-webui\\\
          models\\Stable-diffusion\\Taiyi-1B-Anime-Chinese-v0.1.ckpt\r\nFailed to\
          \ load checkpoint, restoring previous\r\nLoading weights [fe4efff1e1] from\
          \ stable-diffusion\\stable-diffusion-webui\\models\\Stable-diffusion\\model.ckpt\r\
          \nApplying xformers cross attention optimization.\r\nchanging setting sd_model_checkpoint\
          \ to Taiyi-1B-Anime-Chinese-v0.1.ckpt [70a38ac1c4]: RuntimeError\r\nTraceback\
          \ (most recent call last):\r\n  File \"stable-diffusion\\stable-diffusion-webui\\\
          modules\\shared.py\", line 549, in set\r\n    self.data_labels[key].onchange()\r\
          \n  File \"stable-diffusion\\stable-diffusion-webui\\modules\\call_queue.py\"\
          , line 15, in f\r\n    res = func(*args, **kwargs)\r\n  File \"stable-diffusion\\\
          stable-diffusion-webui\\webui.py\", line 120, in <lambda>\r\n    shared.opts.onchange(\"\
          sd_model_checkpoint\", wrap_queued_call(lambda: modules.sd_models.reload_model_weights()))\r\
          \n  File \"stable-diffusion\\stable-diffusion-webui\\modules\\sd_models.py\"\
          , line 471, in reload_model_weights\r\n    load_model_weights(sd_model,\
          \ checkpoint_info, state_dict, timer)\r\n  File \"stable-diffusion\\stable-diffusion-webui\\\
          modules\\sd_models.py\", line 247, in load_model_weights\r\n    model.load_state_dict(state_dict,\
          \ strict=False)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\automatic\\\
          lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1604, in load_state_dict\r\
          \n    raise RuntimeError('Error(s) in loading state_dict for {}:\\n\\t{}'.format(\r\
          \nRuntimeError: Error(s) in loading state_dict for LatentDiffusion:\r\n\
          \        size mismatch for cond_stage_model.transformer.text_model.embeddings.position_ids:\
          \ copying a param with shape torch.Size([1, 512]) from checkpoint, the shape\
          \ in current model is torch.Size([1, 77])."
        updatedAt: '2023-02-17T07:49:08.583Z'
      numEdits: 0
      reactions: []
    id: 63ef3174d0f7b3b85ac0f76b
    type: comment
  author: treedom
  content: "Loading weights [70a38ac1c4] from stable-diffusion\\stable-diffusion-webui\\\
    models\\Stable-diffusion\\Taiyi-1B-Anime-Chinese-v0.1.ckpt\r\nFailed to load checkpoint,\
    \ restoring previous\r\nLoading weights [fe4efff1e1] from stable-diffusion\\stable-diffusion-webui\\\
    models\\Stable-diffusion\\model.ckpt\r\nApplying xformers cross attention optimization.\r\
    \nchanging setting sd_model_checkpoint to Taiyi-1B-Anime-Chinese-v0.1.ckpt [70a38ac1c4]:\
    \ RuntimeError\r\nTraceback (most recent call last):\r\n  File \"stable-diffusion\\\
    stable-diffusion-webui\\modules\\shared.py\", line 549, in set\r\n    self.data_labels[key].onchange()\r\
    \n  File \"stable-diffusion\\stable-diffusion-webui\\modules\\call_queue.py\"\
    , line 15, in f\r\n    res = func(*args, **kwargs)\r\n  File \"stable-diffusion\\\
    stable-diffusion-webui\\webui.py\", line 120, in <lambda>\r\n    shared.opts.onchange(\"\
    sd_model_checkpoint\", wrap_queued_call(lambda: modules.sd_models.reload_model_weights()))\r\
    \n  File \"stable-diffusion\\stable-diffusion-webui\\modules\\sd_models.py\",\
    \ line 471, in reload_model_weights\r\n    load_model_weights(sd_model, checkpoint_info,\
    \ state_dict, timer)\r\n  File \"stable-diffusion\\stable-diffusion-webui\\modules\\\
    sd_models.py\", line 247, in load_model_weights\r\n    model.load_state_dict(state_dict,\
    \ strict=False)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\automatic\\lib\\\
    site-packages\\torch\\nn\\modules\\module.py\", line 1604, in load_state_dict\r\
    \n    raise RuntimeError('Error(s) in loading state_dict for {}:\\n\\t{}'.format(\r\
    \nRuntimeError: Error(s) in loading state_dict for LatentDiffusion:\r\n      \
    \  size mismatch for cond_stage_model.transformer.text_model.embeddings.position_ids:\
    \ copying a param with shape torch.Size([1, 512]) from checkpoint, the shape in\
    \ current model is torch.Size([1, 77])."
  created_at: 2023-02-17 07:49:08+00:00
  edited: false
  hidden: false
  id: 63ef3174d0f7b3b85ac0f76b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676433228660-63ec571cca08a72ba9d17642.png?w=200&h=200&f=face
      fullname: tdtreedom
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: treedom
      type: user
    createdAt: '2023-02-17T07:53:28.000Z'
    data:
      status: closed
    id: 63ef3278ce737e01c66f50bb
    type: status-change
  author: treedom
  created_at: 2023-02-17 07:53:28+00:00
  id: 63ef3278ce737e01c66f50bb
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: IDEA-CCNL/Taiyi-Stable-Diffusion-1B-Anime-Chinese-v0.1
repo_type: model
status: closed
target_branch: null
title: "\u6A21\u578B\u6587\u4EF6\u5728stable-diffusion-webui\u91CC\u9762\u4F7F\u7528\
  \u62A5\u9519\u4E86"
