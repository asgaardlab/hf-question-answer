!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ngupta-microsoft
conflicting_files: null
created_at: 2023-09-15 17:42:25+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1fe8e9d2a4bf69903228d6cdc64c416c.svg
      fullname: Nayan Gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ngupta-microsoft
      type: user
    createdAt: '2023-09-15T18:42:25.000Z'
    data:
      edited: false
      editors:
      - ngupta-microsoft
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7173318266868591
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1fe8e9d2a4bf69903228d6cdc64c416c.svg
          fullname: Nayan Gupta
          isHf: false
          isPro: false
          name: ngupta-microsoft
          type: user
        html: "<p>I am trying to run MusicGen locally with <code>facebook/musicgen-melody</code>.\
          \ I keep running into an error where the kernel is unexpectedly killed when\
          \ running <code>MusicGen.get_pretrained('facebook/musicgen-melody')</code>.</p>\n\
          <p>OS info (running in container):<br>    Distributor ID: Debian<br>   \
          \ Description:     Debian GNU/Linux 12 (bookworm)<br>    Release:      \
          \       12<br>    Codename:       bookworm</p>\n<p>Host machine:<br>   \
          \ Machine: Macbook Pro<br>    Chip:         Apple M1 Pro<br>    macOS: \
          \  Ventura 13.5 (22G74)</p>\n<p>I have <code>audiocraft</code> and <code>ffmpeg</code>\
          \ installed.</p>\n<pre><code class=\"language-python\">Python <span class=\"\
          hljs-number\">3.10</span><span class=\"hljs-number\">.13</span> (main, Sep\
          \  <span class=\"hljs-number\">7</span> <span class=\"hljs-number\">2023</span>,\
          \ <span class=\"hljs-number\">13</span>:<span class=\"hljs-number\">10</span>:<span\
          \ class=\"hljs-number\">41</span>) [GCC <span class=\"hljs-number\">12.2</span><span\
          \ class=\"hljs-number\">.0</span>] on linux\n<span class=\"hljs-type\">Type</span>\
          \ <span class=\"hljs-string\">\"help\"</span>, <span class=\"hljs-string\"\
          >\"copyright\"</span>, <span class=\"hljs-string\">\"credits\"</span> <span\
          \ class=\"hljs-keyword\">or</span> <span class=\"hljs-string\">\"license\"\
          </span> <span class=\"hljs-keyword\">for</span> more information.\n<span\
          \ class=\"hljs-meta\">&gt;&gt;&gt; </span><span class=\"hljs-keyword\">from</span>\
          \ audiocraft.models <span class=\"hljs-keyword\">import</span> MusicGen\n\
          <span class=\"hljs-meta\">&gt;&gt;&gt; </span>model = MusicGen.get_pretrained(<span\
          \ class=\"hljs-string\">'facebook/musicgen-melody'</span>)\nDownloading\
          \ state_dict.<span class=\"hljs-built_in\">bin</span>: <span class=\"hljs-number\"\
          >100</span>%|\u2588\u2588\u2588...\u2588\u2588\u2588| <span class=\"hljs-number\"\
          >2.77</span>G/<span class=\"hljs-number\">2.77</span>G [03:08&lt;<span class=\"\
          hljs-number\">00</span>:<span class=\"hljs-number\">00</span>, <span class=\"\
          hljs-number\">14.7</span>MB/s]\nKilled\n</code></pre>\n<p>Any ideas as to\
          \ what may cause this?</p>\n"
        raw: "I am trying to run MusicGen locally with `facebook/musicgen-melody`.\
          \ I keep running into an error where the kernel is unexpectedly killed when\
          \ running `MusicGen.get_pretrained('facebook/musicgen-melody')`.\r\n\r\n\
          OS info (running in container):\r\n    Distributor ID: Debian\r\n    Description:\
          \     Debian GNU/Linux 12 (bookworm)\r\n    Release:             12\r\n\
          \    Codename:       bookworm\r\n\r\nHost machine:\r\n    Machine: Macbook\
          \ Pro\r\n    Chip:         Apple M1 Pro\r\n    macOS:   Ventura 13.5 (22G74)\r\
          \n\r\nI have `audiocraft` and `ffmpeg` installed.\r\n\r\n```python\r\nPython\
          \ 3.10.13 (main, Sep  7 2023, 13:10:41) [GCC 12.2.0] on linux\r\nType \"\
          help\", \"copyright\", \"credits\" or \"license\" for more information.\r\
          \n>>> from audiocraft.models import MusicGen\r\n>>> model = MusicGen.get_pretrained('facebook/musicgen-melody')\r\
          \nDownloading state_dict.bin: 100%|\u2588\u2588\u2588...\u2588\u2588\u2588\
          | 2.77G/2.77G [03:08<00:00, 14.7MB/s]\r\nKilled\r\n```\r\n\r\nAny ideas\
          \ as to what may cause this?"
        updatedAt: '2023-09-15T18:42:25.686Z'
      numEdits: 0
      reactions: []
    id: 6504a5910c8733194757a5b9
    type: comment
  author: ngupta-microsoft
  content: "I am trying to run MusicGen locally with `facebook/musicgen-melody`. I\
    \ keep running into an error where the kernel is unexpectedly killed when running\
    \ `MusicGen.get_pretrained('facebook/musicgen-melody')`.\r\n\r\nOS info (running\
    \ in container):\r\n    Distributor ID: Debian\r\n    Description:     Debian\
    \ GNU/Linux 12 (bookworm)\r\n    Release:             12\r\n    Codename:    \
    \   bookworm\r\n\r\nHost machine:\r\n    Machine: Macbook Pro\r\n    Chip:   \
    \      Apple M1 Pro\r\n    macOS:   Ventura 13.5 (22G74)\r\n\r\nI have `audiocraft`\
    \ and `ffmpeg` installed.\r\n\r\n```python\r\nPython 3.10.13 (main, Sep  7 2023,\
    \ 13:10:41) [GCC 12.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\"\
    \ or \"license\" for more information.\r\n>>> from audiocraft.models import MusicGen\r\
    \n>>> model = MusicGen.get_pretrained('facebook/musicgen-melody')\r\nDownloading\
    \ state_dict.bin: 100%|\u2588\u2588\u2588...\u2588\u2588\u2588| 2.77G/2.77G [03:08<00:00,\
    \ 14.7MB/s]\r\nKilled\r\n```\r\n\r\nAny ideas as to what may cause this?"
  created_at: 2023-09-15 17:42:25+00:00
  edited: false
  hidden: false
  id: 6504a5910c8733194757a5b9
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: facebook/musicgen-melody
repo_type: model
status: open
target_branch: null
title: Kernel Crash on `get_pretrained`
