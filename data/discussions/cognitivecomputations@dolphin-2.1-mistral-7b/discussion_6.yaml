!!python/object:huggingface_hub.community.DiscussionWithDetails
author: henke443
conflicting_files: null
created_at: 2023-10-15 09:43:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/59df236e735fcd8b077ff5b4edaa0f9a.svg
      fullname: "Henrik Franz\xE9n"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: henke443
      type: user
    createdAt: '2023-10-15T10:43:52.000Z'
    data:
      edited: true
      editors:
      - henke443
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7184808850288391
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/59df236e735fcd8b077ff5b4edaa0f9a.svg
          fullname: "Henrik Franz\xE9n"
          isHf: false
          isPro: false
          name: henke443
          type: user
        html: '<p>I tried to deploy it using gradle but it is infinitely loading and
          doesn''t seem to work, neither does the other gradle endpoints that other
          people have made. </p>

          <p>I want to host it in an (huggingface) inference api preferably, which
          I managed to get working for other models but I get an error when trying
          to run this. </p>

          <p>I think this is the most relevant part of the error:</p>

          <p>tokenizer = LlamaTokenizerFast.from_pretrained(\n\n File "/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py",
          line 1854, in from_pretrained\n return cls._from_pretrained(\n\n File "/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py",
          line 1886, in _from_pretrained\n slow_tokenizer = (cls.slow_tokenizer_class)._from_pretrained(\n\n
          File "/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py",
          line 2073, in _from_pretrained\n raise ValueError(\n\nValueError: Non-consecutive
          added token '''' found. Should have index 32000 but has index 0 in saved
          vocabulary.\n"},"target":"text_generation_launcher","span":{"rank":0,"name":"shard-manager"},"spans":[{"rank":0,"name":"shard-manager"}]}<br>2023/10/15
          12:24:56 ~ Error: ShardCannotStart</p>

          '
        raw: "I tried to deploy it using gradle but it is infinitely loading and doesn't\
          \ seem to work, neither does the other gradle endpoints that other people\
          \ have made. \n\nI want to host it in an (huggingface) inference api preferably,\
          \ which I managed to get working for other models but I get an error when\
          \ trying to run this. \n\nI think this is the most relevant part of the\
          \ error:\n\ntokenizer = LlamaTokenizerFast.from_pretrained(\\n\\n File \\\
          \"/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\\\
          \", line 1854, in from_pretrained\\n return cls._from_pretrained(\\n\\n\
          \ File \\\"/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\\\
          \", line 1886, in _from_pretrained\\n slow_tokenizer = (cls.slow_tokenizer_class)._from_pretrained(\\\
          n\\n File \\\"/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\\\
          \", line 2073, in _from_pretrained\\n raise ValueError(\\n\\nValueError:\
          \ Non-consecutive added token '<unk>' found. Should have index 32000 but\
          \ has index 0 in saved vocabulary.\\n\"},\"target\":\"text_generation_launcher\"\
          ,\"span\":{\"rank\":0,\"name\":\"shard-manager\"},\"spans\":[{\"rank\":0,\"\
          name\":\"shard-manager\"}]}\n2023/10/15 12:24:56 ~ Error: ShardCannotStart"
        updatedAt: '2023-10-15T13:32:34.408Z'
      numEdits: 3
      reactions: []
    id: 652bc26830355beba6aff5f3
    type: comment
  author: henke443
  content: "I tried to deploy it using gradle but it is infinitely loading and doesn't\
    \ seem to work, neither does the other gradle endpoints that other people have\
    \ made. \n\nI want to host it in an (huggingface) inference api preferably, which\
    \ I managed to get working for other models but I get an error when trying to\
    \ run this. \n\nI think this is the most relevant part of the error:\n\ntokenizer\
    \ = LlamaTokenizerFast.from_pretrained(\\n\\n File \\\"/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\\\
    \", line 1854, in from_pretrained\\n return cls._from_pretrained(\\n\\n File \\\
    \"/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\\\
    \", line 1886, in _from_pretrained\\n slow_tokenizer = (cls.slow_tokenizer_class)._from_pretrained(\\\
    n\\n File \\\"/opt/conda/lib/python3.9/site-packages/transformers/tokenization_utils_base.py\\\
    \", line 2073, in _from_pretrained\\n raise ValueError(\\n\\nValueError: Non-consecutive\
    \ added token '<unk>' found. Should have index 32000 but has index 0 in saved\
    \ vocabulary.\\n\"},\"target\":\"text_generation_launcher\",\"span\":{\"rank\"\
    :0,\"name\":\"shard-manager\"},\"spans\":[{\"rank\":0,\"name\":\"shard-manager\"\
    }]}\n2023/10/15 12:24:56 ~ Error: ShardCannotStart"
  created_at: 2023-10-15 09:43:52+00:00
  edited: true
  hidden: false
  id: 652bc26830355beba6aff5f3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/59df236e735fcd8b077ff5b4edaa0f9a.svg
      fullname: "Henrik Franz\xE9n"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: henke443
      type: user
    createdAt: '2023-10-15T10:45:24.000Z'
    data:
      edited: true
      editors:
      - henke443
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9794628620147705
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/59df236e735fcd8b077ff5b4edaa0f9a.svg
          fullname: "Henrik Franz\xE9n"
          isHf: false
          isPro: false
          name: henke443
          type: user
        html: '<p>It said "Non-consecutive added token '' &lt; u n k &gt; '' found"
          but it seems like html escaping removed it.</p>

          '
        raw: It said "Non-consecutive added token ' < u n k > ' found" but it seems
          like html escaping removed it.
        updatedAt: '2023-10-15T10:50:15.265Z'
      numEdits: 2
      reactions: []
    id: 652bc2c436f031c5e6221f1d
    type: comment
  author: henke443
  content: It said "Non-consecutive added token ' < u n k > ' found" but it seems
    like html escaping removed it.
  created_at: 2023-10-15 09:45:24+00:00
  edited: true
  hidden: false
  id: 652bc2c436f031c5e6221f1d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63111b2d88942700629f5771/u2a9y-yx6TG0N31OhMSHI.png?w=200&h=200&f=face
      fullname: Eric Hartford
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: ehartford
      type: user
    createdAt: '2023-10-15T13:09:48.000Z'
    data:
      edited: false
      editors:
      - ehartford
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9307741522789001
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63111b2d88942700629f5771/u2a9y-yx6TG0N31OhMSHI.png?w=200&h=200&f=face
          fullname: Eric Hartford
          isHf: false
          isPro: true
          name: ehartford
          type: user
        html: "<p>I don't know<br>It works in oobabooga for me<br><span data-props=\"\
          {&quot;user&quot;:&quot;TheBloke&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/TheBloke\">@<span class=\"underline\">TheBloke</span></a></span>\n\
          \n\t</span></span> do you recognize that error message?</p>\n"
        raw: 'I don''t know

          It works in oobabooga for me

          @TheBloke do you recognize that error message?'
        updatedAt: '2023-10-15T13:09:48.650Z'
      numEdits: 0
      reactions: []
    id: 652be49c1ef9983c6d2b3f09
    type: comment
  author: ehartford
  content: 'I don''t know

    It works in oobabooga for me

    @TheBloke do you recognize that error message?'
  created_at: 2023-10-15 12:09:48+00:00
  edited: false
  hidden: false
  id: 652be49c1ef9983c6d2b3f09
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8ddd8049a35d37824cc6e8f68f03f4ae.svg
      fullname: Mark Kim-Huang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: markpreemo
      type: user
    createdAt: '2023-10-17T05:17:15.000Z'
    data:
      edited: false
      editors:
      - markpreemo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7491114735603333
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8ddd8049a35d37824cc6e8f68f03f4ae.svg
          fullname: Mark Kim-Huang
          isHf: false
          isPro: false
          name: markpreemo
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;henke443&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/henke443\">@<span class=\"\
          underline\">henke443</span></a></span>\n\n\t</span></span>  This should\
          \ give you some guidance <a rel=\"nofollow\" href=\"https://github.com/huggingface/text-generation-inference/issues/1132\"\
          >https://github.com/huggingface/text-generation-inference/issues/1132</a></p>\n"
        raw: '@henke443  This should give you some guidance https://github.com/huggingface/text-generation-inference/issues/1132'
        updatedAt: '2023-10-17T05:17:15.003Z'
      numEdits: 0
      reactions: []
    id: 652e18db0d502a2e030893cd
    type: comment
  author: markpreemo
  content: '@henke443  This should give you some guidance https://github.com/huggingface/text-generation-inference/issues/1132'
  created_at: 2023-10-17 04:17:15+00:00
  edited: false
  hidden: false
  id: 652e18db0d502a2e030893cd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c076cbc54290e15ad9e991b79356f9e0.svg
      fullname: Samuel Ulrich
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: samulrich1
      type: user
    createdAt: '2023-10-26T16:18:03.000Z'
    data:
      edited: false
      editors:
      - samulrich1
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8958213925361633
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c076cbc54290e15ad9e991b79356f9e0.svg
          fullname: Samuel Ulrich
          isHf: false
          isPro: false
          name: samulrich1
          type: user
        html: "<p>Remove these lines from added_tokens.json</p>\n<pre><code>  \"&lt;/s&gt;\"\
          : 2,\n  \"&lt;s&gt;\": 1,\n  \"&lt;unk&gt;\": 0,\n</code></pre>\n<p>The\
          \ link above says to delete the file but it is important for the chatml\
          \ format</p>\n"
        raw: "Remove these lines from added_tokens.json\n```\n  \"</s>\": 2,\n  \"\
          <s>\": 1,\n  \"<unk>\": 0,\n```\n\nThe link above says to delete the file\
          \ but it is important for the chatml format"
        updatedAt: '2023-10-26T16:18:03.711Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - Praful932
        - PrimeD
    id: 653a913bdfce99b57b3a519b
    type: comment
  author: samulrich1
  content: "Remove these lines from added_tokens.json\n```\n  \"</s>\": 2,\n  \"<s>\"\
    : 1,\n  \"<unk>\": 0,\n```\n\nThe link above says to delete the file but it is\
    \ important for the chatml format"
  created_at: 2023-10-26 15:18:03+00:00
  edited: false
  hidden: false
  id: 653a913bdfce99b57b3a519b
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: cognitivecomputations/dolphin-2.1-mistral-7b
repo_type: model
status: open
target_branch: null
title: How do I try this out?
