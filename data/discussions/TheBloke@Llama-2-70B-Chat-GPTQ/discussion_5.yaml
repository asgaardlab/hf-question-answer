!!python/object:huggingface_hub.community.DiscussionWithDetails
author: msteele
conflicting_files: null
created_at: 2023-07-19 14:00:04+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/102d537bdc535c922ffe199c88bec191.svg
      fullname: Matthew Steele
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: msteele
      type: user
    createdAt: '2023-07-19T15:00:04.000Z'
    data:
      edited: false
      editors:
      - msteele
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7441052198410034
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/102d537bdc535c922ffe199c88bec191.svg
          fullname: Matthew Steele
          isHf: false
          isPro: false
          name: msteele
          type: user
        html: '<p>when running on TGI I get error:<br>RuntimeError: weight model.layers.0.self_attn.q_proj.weight
          does not exist<br>anyone else have this issue?</p>

          '
        raw: "when running on TGI I get error:\r\nRuntimeError: weight model.layers.0.self_attn.q_proj.weight\
          \ does not exist\r\nanyone else have this issue?"
        updatedAt: '2023-07-19T15:00:04.099Z'
      numEdits: 0
      reactions: []
    id: 64b7fa7400bac1088cfe27b6
    type: comment
  author: msteele
  content: "when running on TGI I get error:\r\nRuntimeError: weight model.layers.0.self_attn.q_proj.weight\
    \ does not exist\r\nanyone else have this issue?"
  created_at: 2023-07-19 14:00:04+00:00
  edited: false
  hidden: false
  id: 64b7fa7400bac1088cfe27b6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6467b937946476c5d217f8b9/P99Zjjt7CFLX-Ib-nqRcl.jpeg?w=200&h=200&f=face
      fullname: Harper Grieve
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: harpergrieve
      type: user
    createdAt: '2023-07-19T16:04:25.000Z'
    data:
      edited: false
      editors:
      - harpergrieve
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.803803026676178
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6467b937946476c5d217f8b9/P99Zjjt7CFLX-Ib-nqRcl.jpeg?w=200&h=200&f=face
          fullname: Harper Grieve
          isHf: false
          isPro: false
          name: harpergrieve
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;msteele&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/msteele\">@<span class=\"\
          underline\">msteele</span></a></span>\n\n\t</span></span> same problem,\
          \ figure it out? i can get the quantized 13b running, but not 70...</p>\n"
        raw: '@msteele same problem, figure it out? i can get the quantized 13b running,
          but not 70...'
        updatedAt: '2023-07-19T16:04:25.570Z'
      numEdits: 0
      reactions: []
    id: 64b809898c632fbca957ed38
    type: comment
  author: harpergrieve
  content: '@msteele same problem, figure it out? i can get the quantized 13b running,
    but not 70...'
  created_at: 2023-07-19 15:04:25+00:00
  edited: false
  hidden: false
  id: 64b809898c632fbca957ed38
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2023-07-19T16:34:10.000Z'
    data:
      edited: false
      editors:
      - fxmarty
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6709359884262085
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
          fullname: "F\xE9lix Marty"
          isHf: true
          isPro: false
          name: fxmarty
          type: user
        html: '<p>Hi, see <a rel="nofollow" href="https://github.com/huggingface/text-generation-inference/pull/648">https://github.com/huggingface/text-generation-inference/pull/648</a></p>

          '
        raw: Hi, see https://github.com/huggingface/text-generation-inference/pull/648
        updatedAt: '2023-07-19T16:34:10.463Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\u2764\uFE0F"
        users:
        - msteele
        - harpergrieve
      - count: 1
        reaction: "\U0001F917"
        users:
        - msteele
    id: 64b810826f726f526935403f
    type: comment
  author: fxmarty
  content: Hi, see https://github.com/huggingface/text-generation-inference/pull/648
  created_at: 2023-07-19 15:34:10+00:00
  edited: false
  hidden: false
  id: 64b810826f726f526935403f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-07-19T16:36:16.000Z'
    data:
      edited: false
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7350642085075378
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Fantastic, thanks!</p>

          '
        raw: Fantastic, thanks!
        updatedAt: '2023-07-19T16:36:16.408Z'
      numEdits: 0
      reactions: []
    id: 64b811002fccad9f5feee1d7
    type: comment
  author: TheBloke
  content: Fantastic, thanks!
  created_at: 2023-07-19 15:36:16+00:00
  edited: false
  hidden: false
  id: 64b811002fccad9f5feee1d7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6467b937946476c5d217f8b9/P99Zjjt7CFLX-Ib-nqRcl.jpeg?w=200&h=200&f=face
      fullname: Harper Grieve
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: harpergrieve
      type: user
    createdAt: '2023-07-19T18:44:49.000Z'
    data:
      edited: true
      editors:
      - harpergrieve
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8397687673568726
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6467b937946476c5d217f8b9/P99Zjjt7CFLX-Ib-nqRcl.jpeg?w=200&h=200&f=face
          fullname: Harper Grieve
          isHf: false
          isPro: false
          name: harpergrieve
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;TheBloke&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/TheBloke\">@<span class=\"\
          underline\">TheBloke</span></a></span>\n\n\t</span></span> <span data-props=\"\
          {&quot;user&quot;:&quot;fxmarty&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/fxmarty\">@<span class=\"underline\">fxmarty</span></a></span>\n\
          \n\t</span></span> <span data-props=\"{&quot;user&quot;:&quot;msteele&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/msteele\"\
          >@<span class=\"underline\">msteele</span></a></span>\n\n\t</span></span>\
          \ Finally got it to run, ended up having to use a older text-gen-inference\
          \ server dockerfile combined with fxmarty's changes and the updated transformers\
          \ version in the server requirements.txt.</p>\n"
        raw: '@TheBloke @fxmarty @msteele Finally got it to run, ended up having to
          use a older text-gen-inference server dockerfile combined with fxmarty''s
          changes and the updated transformers version in the server requirements.txt.


          '
        updatedAt: '2023-07-19T20:08:12.821Z'
      numEdits: 1
      reactions: []
    id: 64b82f21f8bf823a61d50fac
    type: comment
  author: harpergrieve
  content: '@TheBloke @fxmarty @msteele Finally got it to run, ended up having to
    use a older text-gen-inference server dockerfile combined with fxmarty''s changes
    and the updated transformers version in the server requirements.txt.


    '
  created_at: 2023-07-19 17:44:49+00:00
  edited: true
  hidden: false
  id: 64b82f21f8bf823a61d50fac
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6467b937946476c5d217f8b9/P99Zjjt7CFLX-Ib-nqRcl.jpeg?w=200&h=200&f=face
      fullname: Harper Grieve
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: harpergrieve
      type: user
    createdAt: '2023-07-19T18:45:28.000Z'
    data:
      edited: false
      editors:
      - harpergrieve
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8537124395370483
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6467b937946476c5d217f8b9/P99Zjjt7CFLX-Ib-nqRcl.jpeg?w=200&h=200&f=face
          fullname: Harper Grieve
          isHf: false
          isPro: false
          name: harpergrieve
          type: user
        html: '<p>Something is wrong with the current dockerfile and cargo chef keeps
          running me out of memory (&gt;64gb) when trying to docker build</p>

          '
        raw: Something is wrong with the current dockerfile and cargo chef keeps running
          me out of memory (>64gb) when trying to docker build
        updatedAt: '2023-07-19T18:45:28.481Z'
      numEdits: 0
      reactions: []
    id: 64b82f48cf14c2fabe88ffec
    type: comment
  author: harpergrieve
  content: Something is wrong with the current dockerfile and cargo chef keeps running
    me out of memory (>64gb) when trying to docker build
  created_at: 2023-07-19 17:45:28+00:00
  edited: false
  hidden: false
  id: 64b82f48cf14c2fabe88ffec
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-07-19T20:38:52.000Z'
    data:
      edited: false
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9420999884605408
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Great, thanks for letting us know. Hopefully that PR will be merged
          soon and then it will work with the TGI provided Dockerfile</p>

          '
        raw: Great, thanks for letting us know. Hopefully that PR will be merged soon
          and then it will work with the TGI provided Dockerfile
        updatedAt: '2023-07-19T20:38:52.264Z'
      numEdits: 0
      reactions: []
    id: 64b849dcf8bf823a61d88a9b
    type: comment
  author: TheBloke
  content: Great, thanks for letting us know. Hopefully that PR will be merged soon
    and then it will work with the TGI provided Dockerfile
  created_at: 2023-07-19 19:38:52+00:00
  edited: false
  hidden: false
  id: 64b849dcf8bf823a61d88a9b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1824c9b738d942b98ebf7fd02728dbfc.svg
      fullname: Aj
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wholehope
      type: user
    createdAt: '2023-07-21T15:10:16.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: /avatars/1824c9b738d942b98ebf7fd02728dbfc.svg
          fullname: Aj
          isHf: false
          isPro: false
          name: wholehope
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-07-21T15:42:59.235Z'
      numEdits: 0
      reactions: []
    id: 64ba9fd85699077c8a378946
    type: comment
  author: wholehope
  content: This comment has been hidden
  created_at: 2023-07-21 14:10:16+00:00
  edited: true
  hidden: true
  id: 64ba9fd85699077c8a378946
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: TheBloke/Llama-2-70B-Chat-GPTQ
repo_type: model
status: open
target_branch: null
title: text-generation-inference error
