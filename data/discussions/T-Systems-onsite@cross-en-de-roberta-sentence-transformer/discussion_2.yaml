!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jannikmi
conflicting_files: null
created_at: 2022-11-14 10:35:54+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f46e82e7ff763efb6bc6c1be4fa93994.svg
      fullname: Jannik Michelfeit
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jannikmi
      type: user
    createdAt: '2022-11-14T10:35:54.000Z'
    data:
      edited: false
      editors:
      - jannikmi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f46e82e7ff763efb6bc6c1be4fa93994.svg
          fullname: Jannik Michelfeit
          isHf: false
          isPro: false
          name: jannikmi
          type: user
        html: '<p>First of all, thank you for releasing this model!</p>

          <p>When I load the model with:</p>

          <pre><code class="language-python"><span class="hljs-keyword">from</span>
          sentence_transformers <span class="hljs-keyword">import</span> SentenceTransformer

          model = SentenceTransformer(<span class="hljs-string">''T-Systems-onsite/cross-en-de-roberta-sentence-transformer''</span>)

          </code></pre>

          <p>I get this warning:</p>

          <pre><code class="language-console">No sentence-transformers model found
          with name /Users/&lt;&gt;/.cache/torch/sentence_transformers/T-Systems-onsite_cross-en-de-roberta-sentence-transformer.
          Creating a new one with MEAN pooling.

          </code></pre>

          <p>Looking at the sentence-transformer library, this happens because the
          <code>modules.json</code> file and the configurations for the Pooling layers
          are missing.<br>I guess including the same files from the "parent model"
          <a href="https://huggingface.co/sentence-transformers/xlm-r-distilroberta-base-paraphrase-v1/tree/main">https://huggingface.co/sentence-transformers/xlm-r-distilroberta-base-paraphrase-v1/tree/main</a>
          would fix this problem unless some other configuration has been used.</p>

          '
        raw: "\r\nFirst of all, thank you for releasing this model!\r\n\r\nWhen I\
          \ load the model with:\r\n\r\n``` python\r\nfrom sentence_transformers import\
          \ SentenceTransformer\r\nmodel = SentenceTransformer('T-Systems-onsite/cross-en-de-roberta-sentence-transformer')\r\
          \n```\r\nI get this warning:\r\n\r\n``` console\r\nNo sentence-transformers\
          \ model found with name /Users/<>/.cache/torch/sentence_transformers/T-Systems-onsite_cross-en-de-roberta-sentence-transformer.\
          \ Creating a new one with MEAN pooling.\r\n```\r\n\r\nLooking at the sentence-transformer\
          \ library, this happens because the `modules.json` file and the configurations\
          \ for the Pooling layers are missing.\r\nI guess including the same files\
          \ from the \"parent model\" https://huggingface.co/sentence-transformers/xlm-r-distilroberta-base-paraphrase-v1/tree/main\
          \ would fix this problem unless some other configuration has been used."
        updatedAt: '2022-11-14T10:35:54.215Z'
      numEdits: 0
      reactions: []
    id: 63721a0a785dc489da56c9d8
    type: comment
  author: jannikmi
  content: "\r\nFirst of all, thank you for releasing this model!\r\n\r\nWhen I load\
    \ the model with:\r\n\r\n``` python\r\nfrom sentence_transformers import SentenceTransformer\r\
    \nmodel = SentenceTransformer('T-Systems-onsite/cross-en-de-roberta-sentence-transformer')\r\
    \n```\r\nI get this warning:\r\n\r\n``` console\r\nNo sentence-transformers model\
    \ found with name /Users/<>/.cache/torch/sentence_transformers/T-Systems-onsite_cross-en-de-roberta-sentence-transformer.\
    \ Creating a new one with MEAN pooling.\r\n```\r\n\r\nLooking at the sentence-transformer\
    \ library, this happens because the `modules.json` file and the configurations\
    \ for the Pooling layers are missing.\r\nI guess including the same files from\
    \ the \"parent model\" https://huggingface.co/sentence-transformers/xlm-r-distilroberta-base-paraphrase-v1/tree/main\
    \ would fix this problem unless some other configuration has been used."
  created_at: 2022-11-14 10:35:54+00:00
  edited: false
  hidden: false
  id: 63721a0a785dc489da56c9d8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1595445065015-noauth.png?w=200&h=200&f=face
      fullname: Philip May
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: PhilipMay
      type: user
    createdAt: '2022-11-14T10:37:44.000Z'
    data:
      edited: true
      editors:
      - PhilipMay
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1595445065015-noauth.png?w=200&h=200&f=face
          fullname: Philip May
          isHf: false
          isPro: false
          name: PhilipMay
          type: user
        html: '<p>You can just ignore this warning.<br>It adds a mean pooling layer.<br>Since
          this layer only does mean pooling and has no weights or biases it is ok.<br>The
          model was trained with mean pooling. It is ok...</p>

          '
        raw: 'You can just ignore this warning.

          It adds a mean pooling layer.

          Since this layer only does mean pooling and has no weights or biases it
          is ok.

          The model was trained with mean pooling. It is ok...'
        updatedAt: '2022-11-14T10:38:00.443Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - jannikmi
    id: 63721a783010b4dd3085e1ca
    type: comment
  author: PhilipMay
  content: 'You can just ignore this warning.

    It adds a mean pooling layer.

    Since this layer only does mean pooling and has no weights or biases it is ok.

    The model was trained with mean pooling. It is ok...'
  created_at: 2022-11-14 10:37:44+00:00
  edited: true
  hidden: false
  id: 63721a783010b4dd3085e1ca
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f46e82e7ff763efb6bc6c1be4fa93994.svg
      fullname: Jannik Michelfeit
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jannikmi
      type: user
    createdAt: '2022-11-14T10:47:37.000Z'
    data:
      edited: false
      editors:
      - jannikmi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f46e82e7ff763efb6bc6c1be4fa93994.svg
          fullname: Jannik Michelfeit
          isHf: false
          isPro: false
          name: jannikmi
          type: user
        html: '<p>Thanks for the fast response.<br>Thanks for clarifying that "mean
          pooling" has been used.<br>I believe it would help include the pooling configuration:</p>

          <ul>

          <li>making pooling configuration explicit</li>

          <li>removing the warning</li>

          <li>ensuring backward compatibility in case the default behaviour of the
          sentence-transformer library changes</li>

          </ul>

          '
        raw: "Thanks for the fast response. \nThanks for clarifying that \"mean pooling\"\
          \ has been used. \nI believe it would help include the pooling configuration:\n\
          - making pooling configuration explicit\n- removing the warning\n- ensuring\
          \ backward compatibility in case the default behaviour of the sentence-transformer\
          \ library changes"
        updatedAt: '2022-11-14T10:47:37.035Z'
      numEdits: 0
      reactions: []
    id: 63721cc920a58a5e14c15e37
    type: comment
  author: jannikmi
  content: "Thanks for the fast response. \nThanks for clarifying that \"mean pooling\"\
    \ has been used. \nI believe it would help include the pooling configuration:\n\
    - making pooling configuration explicit\n- removing the warning\n- ensuring backward\
    \ compatibility in case the default behaviour of the sentence-transformer library\
    \ changes"
  created_at: 2022-11-14 10:47:37+00:00
  edited: false
  hidden: false
  id: 63721cc920a58a5e14c15e37
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1595445065015-noauth.png?w=200&h=200&f=face
      fullname: Philip May
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: PhilipMay
      type: user
    createdAt: '2022-11-14T10:49:31.000Z'
    data:
      edited: false
      editors:
      - PhilipMay
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1595445065015-noauth.png?w=200&h=200&f=face
          fullname: Philip May
          isHf: false
          isPro: false
          name: PhilipMay
          type: user
        html: '<p>I agree.</p>

          '
        raw: I agree.
        updatedAt: '2022-11-14T10:49:31.085Z'
      numEdits: 0
      reactions: []
    id: 63721d3bacef705233c34881
    type: comment
  author: PhilipMay
  content: I agree.
  created_at: 2022-11-14 10:49:31+00:00
  edited: false
  hidden: false
  id: 63721d3bacef705233c34881
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: T-Systems-onsite/cross-en-de-roberta-sentence-transformer
repo_type: model
status: open
target_branch: null
title: 'Missing Pooling Layer (sentence transformer) Definitions '
