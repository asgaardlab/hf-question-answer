!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AUTOMATIC
conflicting_files: null
created_at: 2024-01-21 19:52:18+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/478eefcbdcf53e52e5f562bac1b883e9.svg
      fullname: a
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AUTOMATIC
      type: user
    createdAt: '2024-01-21T19:52:18.000Z'
    data:
      edited: false
      editors:
      - AUTOMATIC
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.801628053188324
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/478eefcbdcf53e52e5f562bac1b883e9.svg
          fullname: a
          isHf: false
          isPro: false
          name: AUTOMATIC
          type: user
        html: '<p>Nous has <code>&lt;|im_end|&gt;</code> and <code>&lt;|im_start|&gt;</code>
          as seen here: <a href="https://huggingface.co/NousResearch/Nous-Hermes-2-Mixtral-8x7B-DPO/blob/main/tokenizer_config.json">https://huggingface.co/NousResearch/Nous-Hermes-2-Mixtral-8x7B-DPO/blob/main/tokenizer_config.json</a></p>

          <p>This merge does not have those tokens. If I add them to config myself,
          tokenization works, but inference dies with an out of range error for the
          embedding layer. So it looks like there is no way to use Nous prompt template
          with this until weights and config are updated.</p>

          '
        raw: "Nous has `<|im_end|>` and `<|im_start|>` as seen here: https://huggingface.co/NousResearch/Nous-Hermes-2-Mixtral-8x7B-DPO/blob/main/tokenizer_config.json\r\
          \n\r\nThis merge does not have those tokens. If I add them to config myself,\
          \ tokenization works, but inference dies with an out of range error for\
          \ the embedding layer. So it looks like there is no way to use Nous prompt\
          \ template with this until weights and config are updated."
        updatedAt: '2024-01-21T19:52:18.598Z'
      numEdits: 0
      reactions: []
    id: 65ad75f28abada9cc1eb4967
    type: comment
  author: AUTOMATIC
  content: "Nous has `<|im_end|>` and `<|im_start|>` as seen here: https://huggingface.co/NousResearch/Nous-Hermes-2-Mixtral-8x7B-DPO/blob/main/tokenizer_config.json\r\
    \n\r\nThis merge does not have those tokens. If I add them to config myself, tokenization\
    \ works, but inference dies with an out of range error for the embedding layer.\
    \ So it looks like there is no way to use Nous prompt template with this until\
    \ weights and config are updated."
  created_at: 2024-01-21 19:52:18+00:00
  edited: false
  hidden: false
  id: 65ad75f28abada9cc1eb4967
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: notstoic/Nous-Hermes-2-Mixtruct-v0.1-8x7B-DPO-DARE_TIES
repo_type: model
status: open
target_branch: null
title: Missing tokens.
