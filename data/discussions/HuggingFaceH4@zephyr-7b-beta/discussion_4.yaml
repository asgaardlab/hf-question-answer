!!python/object:huggingface_hub.community.DiscussionWithDetails
author: SteveC
conflicting_files: null
created_at: 2023-10-29 00:19:54+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/254a5a40facc3d8f4dc7c6cc651577e0.svg
      fullname: S Charlesworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: SteveC
      type: user
    createdAt: '2023-10-29T01:19:54.000Z'
    data:
      edited: false
      editors:
      - SteveC
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3279072940349579
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/254a5a40facc3d8f4dc7c6cc651577e0.svg
          fullname: S Charlesworth
          isHf: false
          isPro: false
          name: SteveC
          type: user
        html: '<p>KeyError                                  Traceback (most recent
          call last)<br> in &lt;cell line: 8&gt;()<br>      6 from transformers import
          pipeline<br>      7<br>----&gt; 8 pipe = pipeline("text-generation", model="HuggingFaceH4/zephyr-7b-beta",
          torch_dtype=torch.bfloat16, device_map="auto")<br>      9<br>     10 # We
          use the tokenizer''s chat template to format each message - see <a href="https://huggingface.co/docs/transformers/main/en/chat_templating">https://huggingface.co/docs/transformers/main/en/chat_templating</a></p>

          <p>2 frames<br>/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py
          in <strong>getitem</strong>(self, key)<br>    708             return self._extra_content[key]<br>    709         if
          key not in self._mapping:<br>--&gt; 710             raise KeyError(key)<br>    711         value
          = self._mapping[key]<br>    712         module_name = model_type_to_module_name(key)</p>

          '
        raw: "KeyError                                  Traceback (most recent call\
          \ last)\r\n<ipython-input-26-772b7eabda52> in <cell line: 8>()\r\n     \
          \ 6 from transformers import pipeline\r\n      7 \r\n----> 8 pipe = pipeline(\"\
          text-generation\", model=\"HuggingFaceH4/zephyr-7b-beta\", torch_dtype=torch.bfloat16,\
          \ device_map=\"auto\")\r\n      9 \r\n     10 # We use the tokenizer's chat\
          \ template to format each message - see https://huggingface.co/docs/transformers/main/en/chat_templating\r\
          \n\r\n2 frames\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\r\n    708             return self._extra_content[key]\r\
          \n    709         if key not in self._mapping:\r\n--> 710             raise\
          \ KeyError(key)\r\n    711         value = self._mapping[key]\r\n    712\
          \         module_name = model_type_to_module_name(key)"
        updatedAt: '2023-10-29T01:19:54.945Z'
      numEdits: 0
      reactions: []
    id: 653db33a2dedebcbb784752b
    type: comment
  author: SteveC
  content: "KeyError                                  Traceback (most recent call\
    \ last)\r\n<ipython-input-26-772b7eabda52> in <cell line: 8>()\r\n      6 from\
    \ transformers import pipeline\r\n      7 \r\n----> 8 pipe = pipeline(\"text-generation\"\
    , model=\"HuggingFaceH4/zephyr-7b-beta\", torch_dtype=torch.bfloat16, device_map=\"\
    auto\")\r\n      9 \r\n     10 # We use the tokenizer's chat template to format\
    \ each message - see https://huggingface.co/docs/transformers/main/en/chat_templating\r\
    \n\r\n2 frames\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
    \ in __getitem__(self, key)\r\n    708             return self._extra_content[key]\r\
    \n    709         if key not in self._mapping:\r\n--> 710             raise KeyError(key)\r\
    \n    711         value = self._mapping[key]\r\n    712         module_name =\
    \ model_type_to_module_name(key)"
  created_at: 2023-10-29 00:19:54+00:00
  edited: false
  hidden: false
  id: 653db33a2dedebcbb784752b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bc7a94157d133d6d8322e8c668aedcde.svg
      fullname: Befiker Biresaw
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Befiker
      type: user
    createdAt: '2023-10-29T19:39:37.000Z'
    data:
      edited: false
      editors:
      - Befiker
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8784410953521729
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bc7a94157d133d6d8322e8c668aedcde.svg
          fullname: Befiker Biresaw
          isHf: false
          isPro: false
          name: Befiker
          type: user
        html: '<p>Im tryin to load it through FastChat  and i have the same key Error:
          mistral</p>

          '
        raw: 'Im tryin to load it through FastChat  and i have the same key Error:
          mistral

          '
        updatedAt: '2023-10-29T19:39:37.415Z'
      numEdits: 0
      reactions: []
    id: 653eb4f93bd61358054cf3f7
    type: comment
  author: Befiker
  content: 'Im tryin to load it through FastChat  and i have the same key Error: mistral

    '
  created_at: 2023-10-29 18:39:37+00:00
  edited: false
  hidden: false
  id: 653eb4f93bd61358054cf3f7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/254a5a40facc3d8f4dc7c6cc651577e0.svg
      fullname: S Charlesworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: SteveC
      type: user
    createdAt: '2023-10-29T23:07:20.000Z'
    data:
      edited: false
      editors:
      - SteveC
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.91815185546875
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/254a5a40facc3d8f4dc7c6cc651577e0.svg
          fullname: S Charlesworth
          isHf: false
          isPro: false
          name: SteveC
          type: user
        html: '<p>Basically I see this for every mistral derived model!</p>

          '
        raw: 'Basically I see this for every mistral derived model!

          '
        updatedAt: '2023-10-29T23:07:20.032Z'
      numEdits: 0
      reactions: []
    id: 653ee5a89d02096061d8bc90
    type: comment
  author: SteveC
  content: 'Basically I see this for every mistral derived model!

    '
  created_at: 2023-10-29 22:07:20+00:00
  edited: false
  hidden: false
  id: 653ee5a89d02096061d8bc90
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7006865bf93b79b5f762ad5531ec1dab.svg
      fullname: Drew Duncan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: drewd789
      type: user
    createdAt: '2023-10-31T01:59:10.000Z'
    data:
      edited: false
      editors:
      - drewd789
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5221664905548096
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7006865bf93b79b5f762ad5531ec1dab.svg
          fullname: Drew Duncan
          isHf: false
          isPro: false
          name: drewd789
          type: user
        html: '<p>Try updating to the latest version of <code>transformers</code>.</p>

          <p><code>pip install --upgrade transformers accelerate</code></p>

          <p>See also: <a href="https://huggingface.co/HuggingFaceH4/zephyr-7b-alpha/discussions/9#652a5cc6375b3a8bc158a6af">https://huggingface.co/HuggingFaceH4/zephyr-7b-alpha/discussions/9#652a5cc6375b3a8bc158a6af</a></p>

          '
        raw: 'Try updating to the latest version of `transformers`.


          `pip install --upgrade transformers accelerate`


          See also: https://huggingface.co/HuggingFaceH4/zephyr-7b-alpha/discussions/9#652a5cc6375b3a8bc158a6af'
        updatedAt: '2023-10-31T01:59:10.278Z'
      numEdits: 0
      reactions: []
    id: 65405f6eeddfff04353bdc75
    type: comment
  author: drewd789
  content: 'Try updating to the latest version of `transformers`.


    `pip install --upgrade transformers accelerate`


    See also: https://huggingface.co/HuggingFaceH4/zephyr-7b-alpha/discussions/9#652a5cc6375b3a8bc158a6af'
  created_at: 2023-10-31 00:59:10+00:00
  edited: false
  hidden: false
  id: 65405f6eeddfff04353bdc75
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: HuggingFaceH4/zephyr-7b-beta
repo_type: model
status: open
target_branch: null
title: 'Sample code gives error ''KeyError: ''mistral'''''
