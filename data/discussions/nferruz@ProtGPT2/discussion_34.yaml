!!python/object:huggingface_hub.community.DiscussionWithDetails
author: BioinfoProteo
conflicting_files: null
created_at: 2023-11-07 09:38:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
      fullname: Celia
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: BioinfoProteo
      type: user
    createdAt: '2023-11-07T09:38:51.000Z'
    data:
      edited: true
      editors:
      - BioinfoProteo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8906240463256836
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
          fullname: Celia
          isHf: false
          isPro: false
          name: BioinfoProteo
          type: user
        html: '<p>Hi,<br>I would like to fine-tune ProtGPT2 on the OAS database.<br>When
          you download it you get several .csv.gz files with headers containing information
          such as specie among others, and each line has several pieces of information,
          but I am interested in the numbering (a way to part the different regions
          of an antibody sequence) and the type of chain (heavy/light). How can I
          train ProtGPT2 with a sectionned sequence (by using "/" for example to delimit
          each region) and some features or labels?</p>

          <p>I did not see any information about supervised fine tuning, so if anyone
          can guide me I will be thankful</p>

          <p>For more details, a line could look like this :</p>

          <p>&lt;|endoftext|&gt;<br>EVQLVESGGGLVKPGGSLRLSCAAS/GFTFSSYT/MNWVRQAPGKGLEWVSS/ISTSSRY<br>I/YYADSMKGRFTISRDNAKNSLYLQMNSLRAEDTAVYYC/AREFRQWLYGMDV/WGQGT<br>TVTVSS&lt;|human|&gt;&lt;|heavy|&gt;<br>&lt;|endoftext|&gt;</p>

          <p>Thank you</p>

          '
        raw: "Hi,\nI would like to fine-tune ProtGPT2 on the OAS database. \nWhen\
          \ you download it you get several .csv.gz files with headers containing\
          \ information such as specie among others, and each line has several pieces\
          \ of information, but I am interested in the numbering (a way to part the\
          \ different regions of an antibody sequence) and the type of chain (heavy/light).\
          \ How can I train ProtGPT2 with a sectionned sequence (by using \"/\" for\
          \ example to delimit each region) and some features or labels?\n\nI did\
          \ not see any information about supervised fine tuning, so if anyone can\
          \ guide me I will be thankful\n\nFor more details, a line could look like\
          \ this :\n\n<|endoftext|>\nEVQLVESGGGLVKPGGSLRLSCAAS/GFTFSSYT/MNWVRQAPGKGLEWVSS/ISTSSRY\n\
          I/YYADSMKGRFTISRDNAKNSLYLQMNSLRAEDTAVYYC/AREFRQWLYGMDV/WGQGT\nTVTVSS<|human|><|heavy|>\n\
          <|endoftext|>\n\n\nThank you"
        updatedAt: '2023-11-07T12:00:05.750Z'
      numEdits: 1
      reactions: []
    id: 654a05ab1c5192d9818896d2
    type: comment
  author: BioinfoProteo
  content: "Hi,\nI would like to fine-tune ProtGPT2 on the OAS database. \nWhen you\
    \ download it you get several .csv.gz files with headers containing information\
    \ such as specie among others, and each line has several pieces of information,\
    \ but I am interested in the numbering (a way to part the different regions of\
    \ an antibody sequence) and the type of chain (heavy/light). How can I train ProtGPT2\
    \ with a sectionned sequence (by using \"/\" for example to delimit each region)\
    \ and some features or labels?\n\nI did not see any information about supervised\
    \ fine tuning, so if anyone can guide me I will be thankful\n\nFor more details,\
    \ a line could look like this :\n\n<|endoftext|>\nEVQLVESGGGLVKPGGSLRLSCAAS/GFTFSSYT/MNWVRQAPGKGLEWVSS/ISTSSRY\n\
    I/YYADSMKGRFTISRDNAKNSLYLQMNSLRAEDTAVYYC/AREFRQWLYGMDV/WGQGT\nTVTVSS<|human|><|heavy|>\n\
    <|endoftext|>\n\n\nThank you"
  created_at: 2023-11-07 09:38:51+00:00
  edited: true
  hidden: false
  id: 654a05ab1c5192d9818896d2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
      fullname: Celia
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: BioinfoProteo
      type: user
    createdAt: '2023-11-07T11:59:45.000Z'
    data:
      from: How to fine-tune with dataset of multiple .csv.gz files and had some features?
        Exemple with OAS database (antibody db)
      to: How to fine-tune with dataset of multiple .csv.gz files and had some features
        or labels? Exemple with OAS database (antibody db)
    id: 654a26b15cc8b44229f49182
    type: title-change
  author: BioinfoProteo
  created_at: 2023-11-07 11:59:45+00:00
  id: 654a26b15cc8b44229f49182
  new_title: How to fine-tune with dataset of multiple .csv.gz files and had some
    features or labels? Exemple with OAS database (antibody db)
  old_title: How to fine-tune with dataset of multiple .csv.gz files and had some
    features? Exemple with OAS database (antibody db)
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
      fullname: Noelia Ferruz
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nferruz
      type: user
    createdAt: '2023-11-07T21:52:13.000Z'
    data:
      edited: false
      editors:
      - nferruz
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9662168025970459
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
          fullname: Noelia Ferruz
          isHf: false
          isPro: false
          name: nferruz
          type: user
        html: '<p>Interesting question!<br>I''ve seen a few people fine-tuning in
          a supervised fashion with success so it''s possible.<br>The way that you
          describe your processed dataset (with the labels human and heavy) sounds
          completely fine. If the database is large enough, the model will capture
          the extra tokens and generate sequences with them too. I only worry that
          the tokenizer might split those labels in a very weird way. How many of
          such labels do you expect to have?</p>

          '
        raw: 'Interesting question!

          I''ve seen a few people fine-tuning in a supervised fashion with success
          so it''s possible.

          The way that you describe your processed dataset (with the labels human
          and heavy) sounds completely fine. If the database is large enough, the
          model will capture the extra tokens and generate sequences with them too.
          I only worry that the tokenizer might split those labels in a very weird
          way. How many of such labels do you expect to have?'
        updatedAt: '2023-11-07T21:52:13.908Z'
      numEdits: 0
      reactions: []
    id: 654ab18d3ed9b2c805f5d4bf
    type: comment
  author: nferruz
  content: 'Interesting question!

    I''ve seen a few people fine-tuning in a supervised fashion with success so it''s
    possible.

    The way that you describe your processed dataset (with the labels human and heavy)
    sounds completely fine. If the database is large enough, the model will capture
    the extra tokens and generate sequences with them too. I only worry that the tokenizer
    might split those labels in a very weird way. How many of such labels do you expect
    to have?'
  created_at: 2023-11-07 21:52:13+00:00
  edited: false
  hidden: false
  id: 654ab18d3ed9b2c805f5d4bf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
      fullname: Celia
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: BioinfoProteo
      type: user
    createdAt: '2023-11-08T14:46:18.000Z'
    data:
      edited: false
      editors:
      - BioinfoProteo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.961808443069458
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
          fullname: Celia
          isHf: false
          isPro: false
          name: BioinfoProteo
          type: user
        html: '<p>Good to know that others achieved it !<br>Oh I haven''t thought
          about the splitting by the tokenizer, I can''t think of any other way to
          put my labels<br>For the number of them, I will not expect more than 10</p>

          <p>For the multiple .csv.gz files, would you suggest to concatenate all
          the data in a same csv file ?</p>

          '
        raw: 'Good to know that others achieved it !

          Oh I haven''t thought about the splitting by the tokenizer, I can''t think
          of any other way to put my labels

          For the number of them, I will not expect more than 10


          For the multiple .csv.gz files, would you suggest to concatenate all the
          data in a same csv file ?

          '
        updatedAt: '2023-11-08T14:46:18.749Z'
      numEdits: 0
      reactions: []
    id: 654b9f3aacfb5e4a81c3cfb3
    type: comment
  author: BioinfoProteo
  content: 'Good to know that others achieved it !

    Oh I haven''t thought about the splitting by the tokenizer, I can''t think of
    any other way to put my labels

    For the number of them, I will not expect more than 10


    For the multiple .csv.gz files, would you suggest to concatenate all the data
    in a same csv file ?

    '
  created_at: 2023-11-08 14:46:18+00:00
  edited: false
  hidden: false
  id: 654b9f3aacfb5e4a81c3cfb3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
      fullname: Celia
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: BioinfoProteo
      type: user
    createdAt: '2023-11-08T14:48:28.000Z'
    data:
      edited: false
      editors:
      - BioinfoProteo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9769409894943237
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
          fullname: Celia
          isHf: false
          isPro: false
          name: BioinfoProteo
          type: user
        html: '<p>I am also wondering if you can train the model with two protein
          sequences that are in complex and ask it to predict a possible sequence
          that could bind the one in input<br>In any case, thank you very much for
          your reply !</p>

          '
        raw: "I am also wondering if you can train the model with two protein sequences\
          \ that are in complex and ask it to predict a possible sequence that could\
          \ bind the one in input \nIn any case, thank you very much for your reply\
          \ !"
        updatedAt: '2023-11-08T14:48:28.353Z'
      numEdits: 0
      reactions: []
    id: 654b9fbc3e88619280e8c5cc
    type: comment
  author: BioinfoProteo
  content: "I am also wondering if you can train the model with two protein sequences\
    \ that are in complex and ask it to predict a possible sequence that could bind\
    \ the one in input \nIn any case, thank you very much for your reply !"
  created_at: 2023-11-08 14:48:28+00:00
  edited: false
  hidden: false
  id: 654b9fbc3e88619280e8c5cc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
      fullname: Noelia Ferruz
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nferruz
      type: user
    createdAt: '2023-11-10T08:05:45.000Z'
    data:
      edited: true
      editors:
      - nferruz
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.986328125
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
          fullname: Noelia Ferruz
          isHf: false
          isPro: false
          name: nferruz
          type: user
        html: '<p>Don''t worry too much about the labels, they will in any case split
          in the same way so the model may be able to learn that.<br>I am not sure
          what you mean about the csv.gz files, I thought all your training sequences
          were in the same training.txt file.<br>The second question is also interesting.
          Theoretically, yes, you could fine-tune the model by having two sequences
          in complex. In that case I''d add a special token in between the two sequences
          so that the model doesn''t assume they are the same sequence. Then during
          inference, you could input the first sequence and the special token, and
          the model should complete the second one. I assume you would need quite
          a lot of data for this to work but who knows. I think it''s worth trying!</p>

          '
        raw: 'Don''t worry too much about the labels, they will in any case split
          in the same way so the model may be able to learn that.

          I am not sure what you mean about the csv.gz files, I thought all your training
          sequences were in the same training.txt file.

          The second question is also interesting. Theoretically, yes, you could fine-tune
          the model by having two sequences in complex. In that case I''d add a special
          token in between the two sequences so that the model doesn''t assume they
          are the same sequence. Then during inference, you could input the first
          sequence and the special token, and the model should complete the second
          one. I assume you would need quite a lot of data for this to work but who
          knows. I think it''s worth trying!'
        updatedAt: '2023-11-10T08:05:57.369Z'
      numEdits: 1
      reactions: []
    id: 654de459c9916525ebf4b144
    type: comment
  author: nferruz
  content: 'Don''t worry too much about the labels, they will in any case split in
    the same way so the model may be able to learn that.

    I am not sure what you mean about the csv.gz files, I thought all your training
    sequences were in the same training.txt file.

    The second question is also interesting. Theoretically, yes, you could fine-tune
    the model by having two sequences in complex. In that case I''d add a special
    token in between the two sequences so that the model doesn''t assume they are
    the same sequence. Then during inference, you could input the first sequence and
    the special token, and the model should complete the second one. I assume you
    would need quite a lot of data for this to work but who knows. I think it''s worth
    trying!'
  created_at: 2023-11-10 08:05:45+00:00
  edited: true
  hidden: false
  id: 654de459c9916525ebf4b144
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
      fullname: Celia
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: BioinfoProteo
      type: user
    createdAt: '2023-11-10T08:41:06.000Z'
    data:
      edited: false
      editors:
      - BioinfoProteo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9384430646896362
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2eb754632f92cb459a6c2c736cba2d0c.svg
          fullname: Celia
          isHf: false
          isPro: false
          name: BioinfoProteo
          type: user
        html: '<p>Ok great, thank you for the splitting explanation<br>I''ll have
          to reprocess them to match the required input format.<br>Super, than you
          so much for all your answers, I look forward to see what I can achieve using
          your model, it is so promising </p>

          '
        raw: 'Ok great, thank you for the splitting explanation

          I''ll have to reprocess them to match the required input format.

          Super, than you so much for all your answers, I look forward to see what
          I can achieve using your model, it is so promising '
        updatedAt: '2023-11-10T08:41:06.786Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - nferruz
    id: 654deca24bdc7109a72b73b2
    type: comment
  author: BioinfoProteo
  content: 'Ok great, thank you for the splitting explanation

    I''ll have to reprocess them to match the required input format.

    Super, than you so much for all your answers, I look forward to see what I can
    achieve using your model, it is so promising '
  created_at: 2023-11-10 08:41:06+00:00
  edited: false
  hidden: false
  id: 654deca24bdc7109a72b73b2
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 34
repo_id: nferruz/ProtGPT2
repo_type: model
status: open
target_branch: null
title: How to fine-tune with dataset of multiple .csv.gz files and had some features
  or labels? Exemple with OAS database (antibody db)
