!!python/object:huggingface_hub.community.DiscussionWithDetails
author: littleworth
conflicting_files: null
created_at: 2023-05-04 03:51:25+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9e4676ae022d6a6697da2b4ef9b2687b.svg
      fullname: E. LIttleworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: littleworth
      type: user
    createdAt: '2023-05-04T04:51:25.000Z'
    data:
      edited: true
      editors:
      - littleworth
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9e4676ae022d6a6697da2b4ef9b2687b.svg
          fullname: E. LIttleworth
          isHf: false
          isPro: false
          name: littleworth
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;nferruz&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/nferruz\">@<span class=\"\
          underline\">nferruz</span></a></span>\n\n\t</span></span> Hi Noelia,</p>\n\
          <p>Thank you for your great work. I sincerely believe it will make a great\
          \ contribution to protein biology. </p>\n<p>I would like to try fine-tuning\
          \ your ProtGPT2.<br>In particular, this line of code follows your model\
          \ card.</p>\n<pre><code>python run_clm.py --model_name_or_path nferruz/ProtGPT2\
          \ --train_file training.txt --validation_file validation.txt --tokenizer_name\
          \ nferruz/ProtGPT2\n --do_train --do_eval --output_dir output --learning_rate\
          \ 1e-06\n</code></pre>\n<p>Can you give an example of what the content of\
          \ <code>training.txt</code> and <code>validation.txt</code> looks like?</p>\n\
          <p>Let's say I have this fasta file that I want to turn into <code>training.txt</code>.</p>\n\
          <pre><code>&gt;myseq1\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
          &gt;myseq2\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n\
          </code></pre>\n<p>Should I format it this way:</p>\n<pre><code>&lt;|endoftext|&gt;\n\
          MTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n\
          </code></pre>\n<p>Or this way?</p>\n<pre><code>&lt;|endoftext|&gt;\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
          &lt;|endoftext|&gt;\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n\
          </code></pre>\n<p>Thanks and hope to hear from you again. </p>\n<p>Sincerely,<br>Littleworth.</p>\n"
        raw: "@nferruz Hi Noelia,\n\nThank you for your great work. I sincerely believe\
          \ it will make a great contribution to protein biology. \n\nI would like\
          \ to try fine-tuning your ProtGPT2.\nIn particular, this line of code follows\
          \ your model card.\n\n```\npython run_clm.py --model_name_or_path nferruz/ProtGPT2\
          \ --train_file training.txt --validation_file validation.txt --tokenizer_name\
          \ nferruz/ProtGPT2\n --do_train --do_eval --output_dir output --learning_rate\
          \ 1e-06\n\n```\n\nCan you give an example of what the content of `training.txt`\
          \ and `validation.txt` looks like?\n\nLet's say I have this fasta file that\
          \ I want to turn into `training.txt`.\n\n```\n>myseq1\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
          >myseq2\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n\
          ```\n\nShould I format it this way:\n\n```\n<|endoftext|>\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
          ARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n```\n\nOr\
          \ this way?\n\n```\n<|endoftext|>\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
          <|endoftext|>\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n\
          ```\n\nThanks and hope to hear from you again. \n\nSincerely,\nLittleworth."
        updatedAt: '2023-05-04T05:20:48.782Z'
      numEdits: 3
      reactions: []
    id: 645339cdbeba452314ffe7d1
    type: comment
  author: littleworth
  content: "@nferruz Hi Noelia,\n\nThank you for your great work. I sincerely believe\
    \ it will make a great contribution to protein biology. \n\nI would like to try\
    \ fine-tuning your ProtGPT2.\nIn particular, this line of code follows your model\
    \ card.\n\n```\npython run_clm.py --model_name_or_path nferruz/ProtGPT2 --train_file\
    \ training.txt --validation_file validation.txt --tokenizer_name nferruz/ProtGPT2\n\
    \ --do_train --do_eval --output_dir output --learning_rate 1e-06\n\n```\n\nCan\
    \ you give an example of what the content of `training.txt` and `validation.txt`\
    \ looks like?\n\nLet's say I have this fasta file that I want to turn into `training.txt`.\n\
    \n```\n>myseq1\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
    >myseq2\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n```\n\n\
    Should I format it this way:\n\n```\n<|endoftext|>\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
    ARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n```\n\nOr this way?\n\
    \n```\n<|endoftext|>\nMTAQIVRTLGWRLIRRTRRQQAGEQPHHPPAPSAPAVPSTPAKQAPTPESGMPSKRALRE\n\
    <|endoftext|>\nARERAAAAAGPASSAGPTASGTRPEETASRATNSARDAAGESAARSATGPRDRASPGPTG\n\
    ```\n\nThanks and hope to hear from you again. \n\nSincerely,\nLittleworth."
  created_at: 2023-05-04 03:51:25+00:00
  edited: true
  hidden: false
  id: 645339cdbeba452314ffe7d1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/9e4676ae022d6a6697da2b4ef9b2687b.svg
      fullname: E. LIttleworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: littleworth
      type: user
    createdAt: '2023-05-04T05:38:56.000Z'
    data:
      from: Example of training.txt and validation.txt for fine tuning
      to: Example of `training.txt` and validation.txt for fine tuning ProtGPT2
    id: 645344f0a0c0a664a2565129
    type: title-change
  author: littleworth
  created_at: 2023-05-04 04:38:56+00:00
  id: 645344f0a0c0a664a2565129
  new_title: Example of `training.txt` and validation.txt for fine tuning ProtGPT2
  old_title: Example of training.txt and validation.txt for fine tuning
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/9e4676ae022d6a6697da2b4ef9b2687b.svg
      fullname: E. LIttleworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: littleworth
      type: user
    createdAt: '2023-05-04T05:39:07.000Z'
    data:
      from: Example of `training.txt` and validation.txt for fine tuning ProtGPT2
      to: Example of `training.txt` and `validation.txt` for fine tuning ProtGPT2
    id: 645344fb8fe6558e32904729
    type: title-change
  author: littleworth
  created_at: 2023-05-04 04:39:07+00:00
  id: 645344fb8fe6558e32904729
  new_title: Example of `training.txt` and `validation.txt` for fine tuning ProtGPT2
  old_title: Example of `training.txt` and validation.txt for fine tuning ProtGPT2
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
      fullname: Noelia Ferruz
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nferruz
      type: user
    createdAt: '2023-05-04T07:35:43.000Z'
    data:
      edited: false
      editors:
      - nferruz
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
          fullname: Noelia Ferruz
          isHf: false
          isPro: false
          name: nferruz
          type: user
        html: '<p>Hi Littleworth,</p>

          <p>It should be like in your second example. Please bear in mind that it
          must be completely like a fast format, with a newline character every 60
          aminoacids:</p>

          <p>Like this:</p>

          <pre><code>&lt;|endoftext|&gt;

          MKDIDTLISNNALWSKMLVEEDPGFFEKLAQAQKPRFLWIGCSDSRVPAERLTGLEPGEL

          FVHRNVANLVIHTDLNCLSVVQYAVDVLEVEHIIICGHYGCGGVQAAVENPELGLINNWL

          LHIRDIWFKHSSLLGEMPQERRLDTLCELNVMEQVYNLGHSTIMQSAWKRGQKVTIHGWA

          YGIHDGLLRDLDVTATNRETLEQRYRHGISNLKLKHANHK

          &lt;|endoftext|&gt;

          #ANOTHER SEQUENCE

          </code></pre>

          <p>But not like this:</p>

          <pre><code>&lt;|endoftext|&gt;

          MKDIDTLISNNALWSKMLVEEDPGFFEKLAQAQKPRFLWIGCSDSRVPAERLTGLEPGELFVHRNVANLVIHTDLNCLSVVQYAVDVLEVEHIIICGHYGCGGVQAAVENPELGLINNWLLHIRDIWFKHSSLLGEMPQERRLDTLCELNVMEQVYNLGHSTIMQSAWKRGQKVTIHGWAYGIHDGLLRDLDVTATNRETLEQRYRHGISNLKLKHANHK

          &lt;|endoftext|&gt;

          #ANOTHER SEQUENCE

          </code></pre>

          <p>Thank you for using ProtGPT2 and posting!<br>Noelia</p>

          '
        raw: 'Hi Littleworth,


          It should be like in your second example. Please bear in mind that it must
          be completely like a fast format, with a newline character every 60 aminoacids:


          Like this:

          ```

          <|endoftext|>

          MKDIDTLISNNALWSKMLVEEDPGFFEKLAQAQKPRFLWIGCSDSRVPAERLTGLEPGEL

          FVHRNVANLVIHTDLNCLSVVQYAVDVLEVEHIIICGHYGCGGVQAAVENPELGLINNWL

          LHIRDIWFKHSSLLGEMPQERRLDTLCELNVMEQVYNLGHSTIMQSAWKRGQKVTIHGWA

          YGIHDGLLRDLDVTATNRETLEQRYRHGISNLKLKHANHK

          <|endoftext|>

          #ANOTHER SEQUENCE

          ```


          But not like this:

          ```

          <|endoftext|>

          MKDIDTLISNNALWSKMLVEEDPGFFEKLAQAQKPRFLWIGCSDSRVPAERLTGLEPGELFVHRNVANLVIHTDLNCLSVVQYAVDVLEVEHIIICGHYGCGGVQAAVENPELGLINNWLLHIRDIWFKHSSLLGEMPQERRLDTLCELNVMEQVYNLGHSTIMQSAWKRGQKVTIHGWAYGIHDGLLRDLDVTATNRETLEQRYRHGISNLKLKHANHK

          <|endoftext|>

          #ANOTHER SEQUENCE

          ```


          Thank you for using ProtGPT2 and posting!

          Noelia'
        updatedAt: '2023-05-04T07:35:43.555Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - littleworth
    id: 6453604f0afb444bbee76cc4
    type: comment
  author: nferruz
  content: 'Hi Littleworth,


    It should be like in your second example. Please bear in mind that it must be
    completely like a fast format, with a newline character every 60 aminoacids:


    Like this:

    ```

    <|endoftext|>

    MKDIDTLISNNALWSKMLVEEDPGFFEKLAQAQKPRFLWIGCSDSRVPAERLTGLEPGEL

    FVHRNVANLVIHTDLNCLSVVQYAVDVLEVEHIIICGHYGCGGVQAAVENPELGLINNWL

    LHIRDIWFKHSSLLGEMPQERRLDTLCELNVMEQVYNLGHSTIMQSAWKRGQKVTIHGWA

    YGIHDGLLRDLDVTATNRETLEQRYRHGISNLKLKHANHK

    <|endoftext|>

    #ANOTHER SEQUENCE

    ```


    But not like this:

    ```

    <|endoftext|>

    MKDIDTLISNNALWSKMLVEEDPGFFEKLAQAQKPRFLWIGCSDSRVPAERLTGLEPGELFVHRNVANLVIHTDLNCLSVVQYAVDVLEVEHIIICGHYGCGGVQAAVENPELGLINNWLLHIRDIWFKHSSLLGEMPQERRLDTLCELNVMEQVYNLGHSTIMQSAWKRGQKVTIHGWAYGIHDGLLRDLDVTATNRETLEQRYRHGISNLKLKHANHK

    <|endoftext|>

    #ANOTHER SEQUENCE

    ```


    Thank you for using ProtGPT2 and posting!

    Noelia'
  created_at: 2023-05-04 06:35:43+00:00
  edited: false
  hidden: false
  id: 6453604f0afb444bbee76cc4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9e4676ae022d6a6697da2b4ef9b2687b.svg
      fullname: E. LIttleworth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: littleworth
      type: user
    createdAt: '2023-05-04T08:21:59.000Z'
    data:
      edited: false
      editors:
      - littleworth
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9e4676ae022d6a6697da2b4ef9b2687b.svg
          fullname: E. LIttleworth
          isHf: false
          isPro: false
          name: littleworth
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;nferruz&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/nferruz\">@<span class=\"\
          underline\">nferruz</span></a></span>\n\n\t</span></span> Thank you so much!</p>\n"
        raw: '@nferruz Thank you so much!'
        updatedAt: '2023-05-04T08:21:59.424Z'
      numEdits: 0
      reactions: []
    id: 64536b271a1281d427a1fa4c
    type: comment
  author: littleworth
  content: '@nferruz Thank you so much!'
  created_at: 2023-05-04 07:21:59+00:00
  edited: false
  hidden: false
  id: 64536b271a1281d427a1fa4c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ce9f720a3ff781cf7bd32df80f5f7937.svg
      fullname: "Emre \xC7i\xE7ekyurt"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: emrecicekyurt
      type: user
    createdAt: '2023-09-12T17:13:38.000Z'
    data:
      edited: false
      editors:
      - emrecicekyurt
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.590070366859436
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ce9f720a3ff781cf7bd32df80f5f7937.svg
          fullname: "Emre \xC7i\xE7ekyurt"
          isHf: false
          isPro: false
          name: emrecicekyurt
          type: user
        html: "<p>Hello Dear <span data-props=\"{&quot;user&quot;:&quot;nferruz&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/nferruz\"\
          >@<span class=\"underline\">nferruz</span></a></span>\n\n\t</span></span>\
          \ ,</p>\n<p>Even if my train_file is in the format of following, I got train_samples\
          \ = 1 in the output. It should be 2 instead of 1 for the following example.</p>\n\
          <p>&lt;|endoftext|&gt;<br>ETLVKVKDAEDQLGARVGYIELDLNSGKILESFRPEERFPMMSTFKVLLCGAVLSRIDAG<br>QEQLGRRIHYSQNDLVEYSPVTEKHLTDG<br>&lt;|endoftext|&gt;<br>ETLVKVKDAEDQLGARVGYIELDLNSGKILESFRPEERFPMMSTFKVLLCGAVLSRIDAG<br>QEQLGRRIHYSQNDLVEYSPVTEKHLTAG</p>\n\
          <p>Why does the model not get the input file correctly? Do you have any\
          \ idea how to resolve it?</p>\n"
        raw: 'Hello Dear @nferruz ,


          Even if my train_file is in the format of following, I got train_samples
          = 1 in the output. It should be 2 instead of 1 for the following example.


          <|endoftext|>

          ETLVKVKDAEDQLGARVGYIELDLNSGKILESFRPEERFPMMSTFKVLLCGAVLSRIDAG

          QEQLGRRIHYSQNDLVEYSPVTEKHLTDG

          <|endoftext|>

          ETLVKVKDAEDQLGARVGYIELDLNSGKILESFRPEERFPMMSTFKVLLCGAVLSRIDAG

          QEQLGRRIHYSQNDLVEYSPVTEKHLTAG


          Why does the model not get the input file correctly? Do you have any idea
          how to resolve it?'
        updatedAt: '2023-09-12T17:13:38.048Z'
      numEdits: 0
      reactions: []
    id: 65009c42efd273eec7911803
    type: comment
  author: emrecicekyurt
  content: 'Hello Dear @nferruz ,


    Even if my train_file is in the format of following, I got train_samples = 1 in
    the output. It should be 2 instead of 1 for the following example.


    <|endoftext|>

    ETLVKVKDAEDQLGARVGYIELDLNSGKILESFRPEERFPMMSTFKVLLCGAVLSRIDAG

    QEQLGRRIHYSQNDLVEYSPVTEKHLTDG

    <|endoftext|>

    ETLVKVKDAEDQLGARVGYIELDLNSGKILESFRPEERFPMMSTFKVLLCGAVLSRIDAG

    QEQLGRRIHYSQNDLVEYSPVTEKHLTAG


    Why does the model not get the input file correctly? Do you have any idea how
    to resolve it?'
  created_at: 2023-09-12 16:13:38+00:00
  edited: false
  hidden: false
  id: 65009c42efd273eec7911803
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
      fullname: Noelia Ferruz
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: nferruz
      type: user
    createdAt: '2023-09-12T18:34:58.000Z'
    data:
      edited: false
      editors:
      - nferruz
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9461888074874878
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d53ce612a2ca69b758fd3fe0e962d3cc.svg
          fullname: Noelia Ferruz
          isHf: false
          isPro: false
          name: nferruz
          type: user
        html: "<p>Hello!</p>\n<p>I believe you mean during training? In that case,\
          \ the number of samples is the number of groups of 512 tokens that are passed\
          \ in batches to the model. With those two sequences you\u2019re below 512\
          \ tokens, hence you don\u2019t arrive to more than one sample.</p>\n<p>Hope\
          \ this helps<br>Noelia</p>\n"
        raw: "Hello!\n\nI believe you mean during training? In that case, the number\
          \ of samples is the number of groups of 512 tokens that are passed in batches\
          \ to the model. With those two sequences you\u2019re below 512 tokens, hence\
          \ you don\u2019t arrive to more than one sample.\n\nHope this helps\nNoelia"
        updatedAt: '2023-09-12T18:34:58.603Z'
      numEdits: 0
      reactions: []
    id: 6500af52d117b28d3005beda
    type: comment
  author: nferruz
  content: "Hello!\n\nI believe you mean during training? In that case, the number\
    \ of samples is the number of groups of 512 tokens that are passed in batches\
    \ to the model. With those two sequences you\u2019re below 512 tokens, hence you\
    \ don\u2019t arrive to more than one sample.\n\nHope this helps\nNoelia"
  created_at: 2023-09-12 17:34:58+00:00
  edited: false
  hidden: false
  id: 6500af52d117b28d3005beda
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 24
repo_id: nferruz/ProtGPT2
repo_type: model
status: open
target_branch: null
title: Example of `training.txt` and `validation.txt` for fine tuning ProtGPT2
