!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bilwa99
conflicting_files: null
created_at: 2023-12-05 06:31:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a2062364501b10250d4a7e4347df571e.svg
      fullname: Bilwa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bilwa99
      type: user
    createdAt: '2023-12-05T06:31:59.000Z'
    data:
      edited: false
      editors:
      - bilwa99
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7914101481437683
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a2062364501b10250d4a7e4347df571e.svg
          fullname: Bilwa
          isHf: false
          isPro: false
          name: bilwa99
          type: user
        html: '<p>Hi All,</p>

          <p>How to load pytorch shards only and not safe-tensors ? so that we can
          load only the pytorch model into gpu from huggingface?</p>

          <p>So, if we see the model card, both the pytorch shards and safe-tensors
          are of 14.5 GB each; and when I am loading the model the total space is
          of 29GB.<br>But, I want only the pytorch shards and so the memory footprint
          should be of 14.5 GB.</p>

          <p>Give me the correct code to do this for this model- "Intel/neural-chat-7b-v3-1".<br>I
          only want the model to load- pytorch_model-00001-of-00002.bin and pytorch_model-00002-of-00002.bin.</p>

          <p>It must not load the model-00001-of-00002.safetensors and model-00002-of-00002.safetensors</p>

          <p>Give me the correct code for the invocation and loading and usage of
          the model.</p>

          <p>Thanks.</p>

          '
        raw: "Hi All,\r\n\r\nHow to load pytorch shards only and not safe-tensors\
          \ ? so that we can load only the pytorch model into gpu from huggingface?\r\
          \n\r\nSo, if we see the model card, both the pytorch shards and safe-tensors\
          \ are of 14.5 GB each; and when I am loading the model the total space is\
          \ of 29GB.\r\nBut, I want only the pytorch shards and so the memory footprint\
          \ should be of 14.5 GB.\r\n\r\nGive me the correct code to do this for this\
          \ model- \"Intel/neural-chat-7b-v3-1\".\r\nI only want the model to load-\
          \ pytorch_model-00001-of-00002.bin and pytorch_model-00002-of-00002.bin.\r\
          \n\r\nIt must not load the model-00001-of-00002.safetensors and model-00002-of-00002.safetensors\r\
          \n\r\nGive me the correct code for the invocation and loading and usage\
          \ of the model.\r\n\r\nThanks.\r\n"
        updatedAt: '2023-12-05T06:31:59.207Z'
      numEdits: 0
      reactions: []
    id: 656ec3df8e7f2775acfed92f
    type: comment
  author: bilwa99
  content: "Hi All,\r\n\r\nHow to load pytorch shards only and not safe-tensors ?\
    \ so that we can load only the pytorch model into gpu from huggingface?\r\n\r\n\
    So, if we see the model card, both the pytorch shards and safe-tensors are of\
    \ 14.5 GB each; and when I am loading the model the total space is of 29GB.\r\n\
    But, I want only the pytorch shards and so the memory footprint should be of 14.5\
    \ GB.\r\n\r\nGive me the correct code to do this for this model- \"Intel/neural-chat-7b-v3-1\"\
    .\r\nI only want the model to load- pytorch_model-00001-of-00002.bin and pytorch_model-00002-of-00002.bin.\r\
    \n\r\nIt must not load the model-00001-of-00002.safetensors and model-00002-of-00002.safetensors\r\
    \n\r\nGive me the correct code for the invocation and loading and usage of the\
    \ model.\r\n\r\nThanks.\r\n"
  created_at: 2023-12-05 06:31:59+00:00
  edited: false
  hidden: false
  id: 656ec3df8e7f2775acfed92f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 16
repo_id: Intel/neural-chat-7b-v3-1
repo_type: model
status: open
target_branch: null
title: How to load pytorch shards only and not safe-tensors ? so that we can load
  only the pytorch model into gpu from huggingface?
