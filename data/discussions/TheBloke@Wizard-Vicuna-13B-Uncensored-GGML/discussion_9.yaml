!!python/object:huggingface_hub.community.DiscussionWithDetails
author: PoyBoi
conflicting_files: null
created_at: 2023-06-23 19:52:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9635ffd685d8763e7071c47c86eaad75.svg
      fullname: John Doe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PoyBoi
      type: user
    createdAt: '2023-06-23T20:52:28.000Z'
    data:
      edited: false
      editors:
      - PoyBoi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8983107209205627
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9635ffd685d8763e7071c47c86eaad75.svg
          fullname: John Doe
          isHf: false
          isPro: false
          name: PoyBoi
          type: user
        html: '<p>Ok so I want to specifically download the "Wizard-Vicuna-13B-Uncensored.ggmlv3.q4_K_S.bin"
          model using hugging face''s snapshot_download, when I do try to run it using
          the correct path, it gives me the error "repo_id must be in the form ....",
          and when I do provide it the repo id, as expected, it starts to download
          all the models, is there any way I can download only that one singular model
          ? What''s would be the syntax for it? </p>

          <p>(ps: using modal, so I can''t exactly get in and manage the files personally)</p>

          '
        raw: "Ok so I want to specifically download the \"Wizard-Vicuna-13B-Uncensored.ggmlv3.q4_K_S.bin\"\
          \ model using hugging face's snapshot_download, when I do try to run it\
          \ using the correct path, it gives me the error \"repo_id must be in the\
          \ form ....\", and when I do provide it the repo id, as expected, it starts\
          \ to download all the models, is there any way I can download only that\
          \ one singular model ? What's would be the syntax for it? \r\n\r\n(ps: using\
          \ modal, so I can't exactly get in and manage the files personally)\r\n"
        updatedAt: '2023-06-23T20:52:28.370Z'
      numEdits: 0
      reactions: []
    id: 6496060c4a9a7e1fe416726b
    type: comment
  author: PoyBoi
  content: "Ok so I want to specifically download the \"Wizard-Vicuna-13B-Uncensored.ggmlv3.q4_K_S.bin\"\
    \ model using hugging face's snapshot_download, when I do try to run it using\
    \ the correct path, it gives me the error \"repo_id must be in the form ....\"\
    , and when I do provide it the repo id, as expected, it starts to download all\
    \ the models, is there any way I can download only that one singular model ? What's\
    \ would be the syntax for it? \r\n\r\n(ps: using modal, so I can't exactly get\
    \ in and manage the files personally)\r\n"
  created_at: 2023-06-23 19:52:28+00:00
  edited: false
  hidden: false
  id: 6496060c4a9a7e1fe416726b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-06-23T20:59:07.000Z'
    data:
      edited: true
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.667927622795105
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Yeah that is possible.  Here''s an example I copied from here: <a
          rel="nofollow" href="https://github.com/OpenAccess-AI-Collective/servereless-runpod-ggml">https://github.com/OpenAccess-AI-Collective/servereless-runpod-ggml</a></p>

          <pre><code class="language-python">repo_file = hf_hub_download(repo_id=os.environ[<span
          class="hljs-string">"GGML_REPO"</span>], filename=os.environ[<span class="hljs-string">"GGML_FILE"</span>],
          revision=os.environ.get(<span class="hljs-string">"GGML_REVISION"</span>,
          <span class="hljs-string">"main"</span>))

          </code></pre>

          <p>Prior to running that it sets up these env vars:</p>

          <pre><code>ENV HF_DATASETS_CACHE="/runpod-volume/huggingface-cache/datasets"

          ENV HUGGINGFACE_HUB_CACHE="/runpod-volume/huggingface-cache/hub"

          ENV TRANSFORMERS_CACHE="/runpod-volume/huggingface-cache/hub"

          </code></pre>

          <p>So the file gets downloaded into HF''s cache system which is stored on
          <code>/runpod-volume</code>, and in Python code you download a file via
          hf_hub_download which returns a filename for that file (which will be a
          symlink to the file in the cache I believe) which you can then load like
          any GGML file.</p>

          <p>It''s not <code>hf_snapshot_download</code> but you can specify a revision
          so I believe the result is the same.</p>

          '
        raw: 'Yeah that is possible.  Here''s an example I copied from here: https://github.com/OpenAccess-AI-Collective/servereless-runpod-ggml


          ```python

          repo_file = hf_hub_download(repo_id=os.environ["GGML_REPO"], filename=os.environ["GGML_FILE"],
          revision=os.environ.get("GGML_REVISION", "main"))

          ```


          Prior to running that it sets up these env vars:


          ```

          ENV HF_DATASETS_CACHE="/runpod-volume/huggingface-cache/datasets"

          ENV HUGGINGFACE_HUB_CACHE="/runpod-volume/huggingface-cache/hub"

          ENV TRANSFORMERS_CACHE="/runpod-volume/huggingface-cache/hub"

          ```


          So the file gets downloaded into HF''s cache system which is stored on `/runpod-volume`,
          and in Python code you download a file via hf_hub_download which returns
          a filename for that file (which will be a symlink to the file in the cache
          I believe) which you can then load like any GGML file.


          It''s not `hf_snapshot_download` but you can specify a revision so I believe
          the result is the same.'
        updatedAt: '2023-06-23T21:00:02.153Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - PoyBoi
    id: 6496079b8fd660d12658cd79
    type: comment
  author: TheBloke
  content: 'Yeah that is possible.  Here''s an example I copied from here: https://github.com/OpenAccess-AI-Collective/servereless-runpod-ggml


    ```python

    repo_file = hf_hub_download(repo_id=os.environ["GGML_REPO"], filename=os.environ["GGML_FILE"],
    revision=os.environ.get("GGML_REVISION", "main"))

    ```


    Prior to running that it sets up these env vars:


    ```

    ENV HF_DATASETS_CACHE="/runpod-volume/huggingface-cache/datasets"

    ENV HUGGINGFACE_HUB_CACHE="/runpod-volume/huggingface-cache/hub"

    ENV TRANSFORMERS_CACHE="/runpod-volume/huggingface-cache/hub"

    ```


    So the file gets downloaded into HF''s cache system which is stored on `/runpod-volume`,
    and in Python code you download a file via hf_hub_download which returns a filename
    for that file (which will be a symlink to the file in the cache I believe) which
    you can then load like any GGML file.


    It''s not `hf_snapshot_download` but you can specify a revision so I believe the
    result is the same.'
  created_at: 2023-06-23 19:59:07+00:00
  edited: true
  hidden: false
  id: 6496079b8fd660d12658cd79
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9635ffd685d8763e7071c47c86eaad75.svg
      fullname: John Doe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PoyBoi
      type: user
    createdAt: '2023-06-23T21:54:16.000Z'
    data:
      edited: false
      editors:
      - PoyBoi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6560353636741638
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9635ffd685d8763e7071c47c86eaad75.svg
          fullname: John Doe
          isHf: false
          isPro: false
          name: PoyBoi
          type: user
        html: '<pre><code>from huggingface_hub import hf_hub_download


          repo = "TheBloke/Wizard-Vicuna-13B-Uncensored-GGML"

          file_path = "Wizard-Vicuna-13B-Uncensored.ggmlv3.q4_K_S.bin"

          hf_hub_download(repo_id=repo, filename=file_path)

          </code></pre>

          <p>This worked for me, thank you so much!</p>

          '
        raw: '```

          from huggingface_hub import hf_hub_download


          repo = "TheBloke/Wizard-Vicuna-13B-Uncensored-GGML"

          file_path = "Wizard-Vicuna-13B-Uncensored.ggmlv3.q4_K_S.bin"

          hf_hub_download(repo_id=repo, filename=file_path)

          ```


          This worked for me, thank you so much!'
        updatedAt: '2023-06-23T21:54:16.412Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - TheBloke
    id: 6496148845455a1cbb66f444
    type: comment
  author: PoyBoi
  content: '```

    from huggingface_hub import hf_hub_download


    repo = "TheBloke/Wizard-Vicuna-13B-Uncensored-GGML"

    file_path = "Wizard-Vicuna-13B-Uncensored.ggmlv3.q4_K_S.bin"

    hf_hub_download(repo_id=repo, filename=file_path)

    ```


    This worked for me, thank you so much!'
  created_at: 2023-06-23 20:54:16+00:00
  edited: false
  hidden: false
  id: 6496148845455a1cbb66f444
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/9635ffd685d8763e7071c47c86eaad75.svg
      fullname: John Doe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PoyBoi
      type: user
    createdAt: '2023-08-07T21:22:28.000Z'
    data:
      status: closed
    id: 64d1609437a8b7adafabdcb1
    type: status-change
  author: PoyBoi
  created_at: 2023-08-07 20:22:28+00:00
  id: 64d1609437a8b7adafabdcb1
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: TheBloke/Wizard-Vicuna-13B-Uncensored-GGML
repo_type: model
status: closed
target_branch: null
title: Help regarding snapshot download of huggingFace
