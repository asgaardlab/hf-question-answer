!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lucasjin
conflicting_files: null
created_at: 2023-10-17 08:10:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
      fullname: lucasjin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lucasjin
      type: user
    createdAt: '2023-10-17T09:10:08.000Z'
    data:
      edited: false
      editors:
      - lucasjin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6047607064247131
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
          fullname: lucasjin
          isHf: false
          isPro: false
          name: lucasjin
          type: user
        html: '<p>AttributeError: ''BaichuanTokenizer'' object has no attribute ''sp_model'',<br>how
          to add support to latest transofmers? 4.34?</p>

          '
        raw: "AttributeError: 'BaichuanTokenizer' object has no attribute 'sp_model',\r\
          \nhow to add support to latest transofmers? 4.34?"
        updatedAt: '2023-10-17T09:10:08.870Z'
      numEdits: 0
      reactions: []
    id: 652e4f70a3da41257d71dfaf
    type: comment
  author: lucasjin
  content: "AttributeError: 'BaichuanTokenizer' object has no attribute 'sp_model',\r\
    \nhow to add support to latest transofmers? 4.34?"
  created_at: 2023-10-17 08:10:08+00:00
  edited: false
  hidden: false
  id: 652e4f70a3da41257d71dfaf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7d81b95bcb8c4f3b8cd245eb560817a1.svg
      fullname: Yue Qi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: qiyue0623
      type: user
    createdAt: '2023-10-17T18:52:52.000Z'
    data:
      edited: false
      editors:
      - qiyue0623
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.928858757019043
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7d81b95bcb8c4f3b8cd245eb560817a1.svg
          fullname: Yue Qi
          isHf: false
          isPro: false
          name: qiyue0623
          type: user
        html: '<p>transfomers 4.34 doesn''t work for me either. Degrading to 4.33.1
          works in my case</p>

          '
        raw: transfomers 4.34 doesn't work for me either. Degrading to 4.33.1 works
          in my case
        updatedAt: '2023-10-17T18:52:52.122Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - CANaug
        - myraidtaoai
        - shuyuew
    id: 652ed8049a99dd6bf694943b
    type: comment
  author: qiyue0623
  content: transfomers 4.34 doesn't work for me either. Degrading to 4.33.1 works
    in my case
  created_at: 2023-10-17 17:52:52+00:00
  edited: false
  hidden: false
  id: 652ed8049a99dd6bf694943b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6431225e03d81fa4d2663255/NPKjxtiE5kt02JpTO-bTN.jpeg?w=200&h=200&f=face
      fullname: cc
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chuhac
      type: user
    createdAt: '2023-10-20T09:33:00.000Z'
    data:
      edited: false
      editors:
      - chuhac
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9339496493339539
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6431225e03d81fa4d2663255/NPKjxtiE5kt02JpTO-bTN.jpeg?w=200&h=200&f=face
          fullname: cc
          isHf: false
          isPro: false
          name: chuhac
          type: user
        html: '<p>Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,
          I don''t think downgrading is a good idea, could contributors fix this bug
          or tell me anything I could do for a temporary fix ?</p>

          '
        raw: Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,
          I don't think downgrading is a good idea, could contributors fix this bug
          or tell me anything I could do for a temporary fix ?
        updatedAt: '2023-10-20T09:33:00.074Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F91D"
        users:
        - trek90s
        - AyongZheng
    id: 6532494c69fffcfe155efc62
    type: comment
  author: chuhac
  content: Since vllm==0.2.1 requires transformers==4.34.1 support for mistral, I
    don't think downgrading is a good idea, could contributors fix this bug or tell
    me anything I could do for a temporary fix ?
  created_at: 2023-10-20 08:33:00+00:00
  edited: false
  hidden: false
  id: 6532494c69fffcfe155efc62
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6431225e03d81fa4d2663255/NPKjxtiE5kt02JpTO-bTN.jpeg?w=200&h=200&f=face
      fullname: cc
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chuhac
      type: user
    createdAt: '2023-10-20T09:47:14.000Z'
    data:
      edited: false
      editors:
      - chuhac
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9039140343666077
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6431225e03d81fa4d2663255/NPKjxtiE5kt02JpTO-bTN.jpeg?w=200&h=200&f=face
          fullname: cc
          isHf: false
          isPro: false
          name: chuhac
          type: user
        html: '<blockquote>

          <p>Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,
          I don''t think downgrading is a good idea, could contributors fix this bug
          or tell me anything I could do for a temporary fix ?</p>

          </blockquote>

          <p>solved with reference: <a rel="nofollow" href="https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575">https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575</a>
          , this may fix this bug for now.</p>

          '
        raw: '> Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,
          I don''t think downgrading is a good idea, could contributors fix this bug
          or tell me anything I could do for a temporary fix ?


          solved with reference: https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575
          , this may fix this bug for now.'
        updatedAt: '2023-10-20T09:47:14.591Z'
      numEdits: 0
      reactions: []
    id: 65324ca25bc71a02d6808146
    type: comment
  author: chuhac
  content: '> Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,
    I don''t think downgrading is a good idea, could contributors fix this bug or
    tell me anything I could do for a temporary fix ?


    solved with reference: https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575
    , this may fix this bug for now.'
  created_at: 2023-10-20 08:47:14+00:00
  edited: false
  hidden: false
  id: 65324ca25bc71a02d6808146
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f105153c6cf029e27a02c4f77cf8b76b.svg
      fullname: tobywang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tobywang
      type: user
    createdAt: '2023-10-30T07:07:24.000Z'
    data:
      edited: false
      editors:
      - tobywang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9235638976097107
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f105153c6cf029e27a02c4f77cf8b76b.svg
          fullname: tobywang
          isHf: false
          isPro: false
          name: tobywang
          type: user
        html: '<blockquote>

          <blockquote>

          <p>Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,
          I don''t think downgrading is a good idea, could contributors fix this bug
          or tell me anything I could do for a temporary fix ?</p>

          </blockquote>

          <p>solved with reference: <a rel="nofollow" href="https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575">https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575</a>
          , this may fix this bug for now.</p>

          </blockquote>

          <p>It didn''t work for me</p>

          '
        raw: "> > Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,\
          \ I don't think downgrading is a good idea, could contributors fix this\
          \ bug or tell me anything I could do for a temporary fix ?\n> \n> solved\
          \ with reference: https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575\
          \ , this may fix this bug for now.\n\nIt didn't work for me"
        updatedAt: '2023-10-30T07:07:24.332Z'
      numEdits: 0
      reactions: []
    id: 653f562c78214ec5d50573f2
    type: comment
  author: tobywang
  content: "> > Since vllm==0.2.1 requires transformers==4.34.1 support for mistral,\
    \ I don't think downgrading is a good idea, could contributors fix this bug or\
    \ tell me anything I could do for a temporary fix ?\n> \n> solved with reference:\
    \ https://github.com/huggingface/transformers/issues/26340#issuecomment-1766794575\
    \ , this may fix this bug for now.\n\nIt didn't work for me"
  created_at: 2023-10-30 06:07:24+00:00
  edited: false
  hidden: false
  id: 653f562c78214ec5d50573f2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1637735895678-6196503cc256c81128c1d995.jpeg?w=200&h=200&f=face
      fullname: "Ming Xu (\u5F90\u660E)"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shibing624
      type: user
    createdAt: '2023-11-10T07:58:21.000Z'
    data:
      edited: true
      editors:
      - shibing624
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7965090870857239
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1637735895678-6196503cc256c81128c1d995.jpeg?w=200&h=200&f=face
          fullname: "Ming Xu (\u5F90\u660E)"
          isHf: false
          isPro: false
          name: shibing624
          type: user
        html: '<p>update<br>tokenization_baichuan.py  :</p>

          <p><a rel="nofollow" href="https://github.com/huggingface/transformers/issues/26340">https://github.com/huggingface/transformers/issues/26340</a><br>You
          should file an issue on the model repos and tell them to rearrange the tokenizer
          <strong>init</strong> so that self.sp_model is created before calling super().<strong>init</strong>()</p>

          '
        raw: "update \ntokenization_baichuan.py  :\n\nhttps://github.com/huggingface/transformers/issues/26340\n\
          You should file an issue on the model repos and tell them to rearrange the\
          \ tokenizer __init__ so that self.sp_model is created before calling super().__init__()"
        updatedAt: '2023-11-10T07:59:18.411Z'
      numEdits: 1
      reactions: []
    id: 654de29db70aa2e94fa0bde5
    type: comment
  author: shibing624
  content: "update \ntokenization_baichuan.py  :\n\nhttps://github.com/huggingface/transformers/issues/26340\n\
    You should file an issue on the model repos and tell them to rearrange the tokenizer\
    \ __init__ so that self.sp_model is created before calling super().__init__()"
  created_at: 2023-11-10 07:58:21+00:00
  edited: true
  hidden: false
  id: 654de29db70aa2e94fa0bde5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/97305ec9bbb0f0a03d0253eeb06122d7.svg
      fullname: Xin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: unicough
      type: user
    createdAt: '2023-11-26T03:03:31.000Z'
    data:
      edited: true
      editors:
      - unicough
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5771099328994751
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/97305ec9bbb0f0a03d0253eeb06122d7.svg
          fullname: Xin
          isHf: false
          isPro: false
          name: unicough
          type: user
        html: '<p>this solved the problem for me, edit tokenization_baichuan.py, in
          <code>__init__</code>, find <code>super().__init__</code> function call
          and move it to the end of <code>__init__</code></p>

          '
        raw: this solved the problem for me, edit tokenization_baichuan.py, in `__init__`,
          find `super().__init__` function call and move it to the end of `__init__`
        updatedAt: '2023-11-26T03:04:36.444Z'
      numEdits: 1
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - majormain
        - pigen
        - AyongZheng
    id: 6562b5836ff1b91e2824d73d
    type: comment
  author: unicough
  content: this solved the problem for me, edit tokenization_baichuan.py, in `__init__`,
    find `super().__init__` function call and move it to the end of `__init__`
  created_at: 2023-11-26 03:03:31+00:00
  edited: true
  hidden: false
  id: 6562b5836ff1b91e2824d73d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9ead5336301fd88ef9cd71e3b4aef413.svg
      fullname: d ck
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: player123187
      type: user
    createdAt: '2023-12-07T06:47:59.000Z'
    data:
      edited: false
      editors:
      - player123187
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.17030659317970276
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9ead5336301fd88ef9cd71e3b4aef413.svg
          fullname: d ck
          isHf: false
          isPro: false
          name: player123187
          type: user
        html: '<p>I  solved the problem By</p>

          <ol>

          <li>pip install transformers==4.34.0</li>

          <li>move super().<strong>init</strong> like this<br> self.vocab_file = vocab_file<br>
          self.add_bos_token = add_bos_token<br> self.add_eos_token = add_eos_token<br>
          self.sp_model = spm.SentencePieceProcessor(**self.sp_model_kwargs)<br> self.sp_model.Load(vocab_file)<br>
          super().<strong>init</strong>(<br>     bos_token=bos_token,<br>     eos_token=eos_token,<br>     unk_token=unk_token,<br>     pad_token=pad_token,<br>     add_bos_token=add_bos_token,<br>     add_eos_token=add_eos_token,<br>     sp_model_kwargs=self.sp_model_kwargs,<br>     clean_up_tokenization_spaces=clean_up_tokenization_spaces,<br>     **kwargs,<br>
          )</li>

          </ol>

          '
        raw: "I  solved the problem By\n1. pip install transformers==4.34.0\n2. move\
          \ super().__init__ like this\n        self.vocab_file = vocab_file\n   \
          \     self.add_bos_token = add_bos_token\n        self.add_eos_token = add_eos_token\n\
          \        self.sp_model = spm.SentencePieceProcessor(**self.sp_model_kwargs)\n\
          \        self.sp_model.Load(vocab_file)\n        super().__init__(\n   \
          \         bos_token=bos_token,\n            eos_token=eos_token,\n     \
          \       unk_token=unk_token,\n            pad_token=pad_token,\n       \
          \     add_bos_token=add_bos_token,\n            add_eos_token=add_eos_token,\n\
          \            sp_model_kwargs=self.sp_model_kwargs,\n            clean_up_tokenization_spaces=clean_up_tokenization_spaces,\n\
          \            **kwargs,\n        )"
        updatedAt: '2023-12-07T06:47:59.461Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - pigen
        - AyongZheng
    id: 65716a9f23363fa194d1d457
    type: comment
  author: player123187
  content: "I  solved the problem By\n1. pip install transformers==4.34.0\n2. move\
    \ super().__init__ like this\n        self.vocab_file = vocab_file\n        self.add_bos_token\
    \ = add_bos_token\n        self.add_eos_token = add_eos_token\n        self.sp_model\
    \ = spm.SentencePieceProcessor(**self.sp_model_kwargs)\n        self.sp_model.Load(vocab_file)\n\
    \        super().__init__(\n            bos_token=bos_token,\n            eos_token=eos_token,\n\
    \            unk_token=unk_token,\n            pad_token=pad_token,\n        \
    \    add_bos_token=add_bos_token,\n            add_eos_token=add_eos_token,\n\
    \            sp_model_kwargs=self.sp_model_kwargs,\n            clean_up_tokenization_spaces=clean_up_tokenization_spaces,\n\
    \            **kwargs,\n        )"
  created_at: 2023-12-07 06:47:59+00:00
  edited: false
  hidden: false
  id: 65716a9f23363fa194d1d457
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 18
repo_id: baichuan-inc/Baichuan2-13B-Chat
repo_type: model
status: open
target_branch: null
title: 'AttributeError: ''BaichuanTokenizer'' object has no attribute ''sp_model'''
