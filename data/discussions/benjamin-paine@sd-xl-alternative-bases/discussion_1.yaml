!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ZeroCool22
conflicting_files: null
created_at: 2023-10-21 15:05:43+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661906612980-630db5d3a16f7b175da7c284.jpeg?w=200&h=200&f=face
      fullname: Emilio
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ZeroCool22
      type: user
    createdAt: '2023-10-21T16:05:43.000Z'
    data:
      edited: false
      editors:
      - ZeroCool22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.33634841442108154
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661906612980-630db5d3a16f7b175da7c284.jpeg?w=200&h=200&f=face
          fullname: Emilio
          isHf: false
          isPro: false
          name: ZeroCool22
          type: user
        html: '<p>Not working, when i try to change to the model i get this errors:</p>

          <p>Applying attention optimization: xformers... done.<br>Model loaded in
          4.2s (load weights from disk: 0.8s, create model: 0.3s, apply weights to
          model: 1.7s, apply half(): 0.8s, load VAE: 0.3s, calculate empty prompt:
          0.3s).<br>Reusing loaded model 1.5\3dMixCharacter_v20Realism.safetensors
          [a4e0bdb838] to load sd_xl_base_1.0_inpainting_0.1.safetensors [fe1b97fe65]<br>Loading
          weights [fe1b97fe65] from C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\models\Stable-diffusion\sd_xl_base_1.0_inpainting_0.1.safetensors<br>Creating
          model from config: C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\repositories\generative-models\configs\inference\sd_xl_base.yaml<br>changing
          setting sd_model_checkpoint to sd_xl_base_1.0_inpainting_0.1.safetensors
          [fe1b97fe65]: RuntimeError<br>Traceback (most recent call last):<br>  File
          "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\options.py",
          line 140, in set<br>    option.onchange()<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\call_queue.py",
          line 13, in f<br>    res = func(*args, **kwargs)<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\initialize_util.py",
          line 170, in <br>    shared.opts.onchange("sd_model_checkpoint", wrap_queued_call(lambda:
          sd_models.reload_model_weights()), call=False)<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\sd_models.py",
          line 751, in reload_model_weights<br>    load_model(checkpoint_info, already_loaded_state_dict=state_dict)<br>  File
          "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\sd_models.py",
          line 626, in load_model<br>    load_model_weights(sd_model, checkpoint_info,
          state_dict, timer)<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\sd_models.py",
          line 353, in load_model_weights<br>    model.load_state_dict(state_dict,
          strict=False)<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\sd_disable_initialization.py",
          line 223, in <br>    module_load_state_dict = self.replace(torch.nn.Module,
          ''load_state_dict'', lambda *args, **kwargs: load_state_dict(module_load_state_dict,
          *args, **kwargs))<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\sd_disable_initialization.py",
          line 221, in load_state_dict<br>    original(module, state_dict, strict=strict)<br>  File
          "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\venv\lib\site-packages\torch\nn\modules\module.py",
          line 2041, in load_state_dict<br>    raise RuntimeError(''Error(s) in loading
          state_dict for {}:\n\t{}''.format(<br>RuntimeError: Error(s) in loading
          state_dict for DiffusionEngine:<br>        size mismatch for model.diffusion_model.input_blocks.0.0.weight:
          copying a param with shape torch.Size([320, 9, 3, 3]) from checkpoint, the
          shape in current model is torch.Size([320, 4, 3, 3]).</p>

          <p>changing setting sd_vae to sdxl_vae.safetensors: AttributeError<br>Traceback
          (most recent call last):<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\options.py",
          line 140, in set<br>    option.onchange()<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\call_queue.py",
          line 13, in f<br>    res = func(*args, **kwargs)<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\initialize_util.py",
          line 171, in <br>    shared.opts.onchange("sd_vae", wrap_queued_call(lambda:
          sd_vae.reload_vae_weights()), call=False)<br>  File "C:\Users\ZeroCool22\Desktop\AutoSDXL\stable-diffusion-webui\modules\sd_vae.py",
          line 255, in reload_vae_weights<br>    checkpoint_info = sd_model.sd_checkpoint_info<br>AttributeError:
          ''NoneType'' object has no attribute ''sd_checkpoint_info''</p>

          '
        raw: "Not working, when i try to change to the model i get this errors:\r\n\
          \r\nApplying attention optimization: xformers... done.\r\nModel loaded in\
          \ 4.2s (load weights from disk: 0.8s, create model: 0.3s, apply weights\
          \ to model: 1.7s, apply half(): 0.8s, load VAE: 0.3s, calculate empty prompt:\
          \ 0.3s).\r\nReusing loaded model 1.5\\3dMixCharacter_v20Realism.safetensors\
          \ [a4e0bdb838] to load sd_xl_base_1.0_inpainting_0.1.safetensors [fe1b97fe65]\r\
          \nLoading weights [fe1b97fe65] from C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
          stable-diffusion-webui\\models\\Stable-diffusion\\sd_xl_base_1.0_inpainting_0.1.safetensors\r\
          \nCreating model from config: C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
          stable-diffusion-webui\\repositories\\generative-models\\configs\\inference\\\
          sd_xl_base.yaml\r\nchanging setting sd_model_checkpoint to sd_xl_base_1.0_inpainting_0.1.safetensors\
          \ [fe1b97fe65]: RuntimeError\r\nTraceback (most recent call last):\r\n \
          \ File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
          modules\\options.py\", line 140, in set\r\n    option.onchange()\r\n  File\
          \ \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\\
          call_queue.py\", line 13, in f\r\n    res = func(*args, **kwargs)\r\n  File\
          \ \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\\
          initialize_util.py\", line 170, in <lambda>\r\n    shared.opts.onchange(\"\
          sd_model_checkpoint\", wrap_queued_call(lambda: sd_models.reload_model_weights()),\
          \ call=False)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
          modules\\sd_models.py\", line 751, in reload_model_weights\r\n    load_model(checkpoint_info,\
          \ already_loaded_state_dict=state_dict)\r\n  File \"C:\\Users\\ZeroCool22\\\
          Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\sd_models.py\", line\
          \ 626, in load_model\r\n    load_model_weights(sd_model, checkpoint_info,\
          \ state_dict, timer)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
          stable-diffusion-webui\\modules\\sd_models.py\", line 353, in load_model_weights\r\
          \n    model.load_state_dict(state_dict, strict=False)\r\n  File \"C:\\Users\\\
          ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\sd_disable_initialization.py\"\
          , line 223, in <lambda>\r\n    module_load_state_dict = self.replace(torch.nn.Module,\
          \ 'load_state_dict', lambda *args, **kwargs: load_state_dict(module_load_state_dict,\
          \ *args, **kwargs))\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
          stable-diffusion-webui\\modules\\sd_disable_initialization.py\", line 221,\
          \ in load_state_dict\r\n    original(module, state_dict, strict=strict)\r\
          \n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
          venv\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 2041, in\
          \ load_state_dict\r\n    raise RuntimeError('Error(s) in loading state_dict\
          \ for {}:\\n\\t{}'.format(\r\nRuntimeError: Error(s) in loading state_dict\
          \ for DiffusionEngine:\r\n        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
          \ copying a param with shape torch.Size([320, 9, 3, 3]) from checkpoint,\
          \ the shape in current model is torch.Size([320, 4, 3, 3]).\r\n\r\nchanging\
          \ setting sd_vae to sdxl_vae.safetensors: AttributeError\r\nTraceback (most\
          \ recent call last):\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
          stable-diffusion-webui\\modules\\options.py\", line 140, in set\r\n    option.onchange()\r\
          \n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
          modules\\call_queue.py\", line 13, in f\r\n    res = func(*args, **kwargs)\r\
          \n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
          modules\\initialize_util.py\", line 171, in <lambda>\r\n    shared.opts.onchange(\"\
          sd_vae\", wrap_queued_call(lambda: sd_vae.reload_vae_weights()), call=False)\r\
          \n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
          modules\\sd_vae.py\", line 255, in reload_vae_weights\r\n    checkpoint_info\
          \ = sd_model.sd_checkpoint_info\r\nAttributeError: 'NoneType' object has\
          \ no attribute 'sd_checkpoint_info'"
        updatedAt: '2023-10-21T16:05:43.618Z'
      numEdits: 0
      reactions: []
    id: 6533f6d7ed74ace633906a93
    type: comment
  author: ZeroCool22
  content: "Not working, when i try to change to the model i get this errors:\r\n\r\
    \nApplying attention optimization: xformers... done.\r\nModel loaded in 4.2s (load\
    \ weights from disk: 0.8s, create model: 0.3s, apply weights to model: 1.7s, apply\
    \ half(): 0.8s, load VAE: 0.3s, calculate empty prompt: 0.3s).\r\nReusing loaded\
    \ model 1.5\\3dMixCharacter_v20Realism.safetensors [a4e0bdb838] to load sd_xl_base_1.0_inpainting_0.1.safetensors\
    \ [fe1b97fe65]\r\nLoading weights [fe1b97fe65] from C:\\Users\\ZeroCool22\\Desktop\\\
    AutoSDXL\\stable-diffusion-webui\\models\\Stable-diffusion\\sd_xl_base_1.0_inpainting_0.1.safetensors\r\
    \nCreating model from config: C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
    repositories\\generative-models\\configs\\inference\\sd_xl_base.yaml\r\nchanging\
    \ setting sd_model_checkpoint to sd_xl_base_1.0_inpainting_0.1.safetensors [fe1b97fe65]:\
    \ RuntimeError\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\ZeroCool22\\\
    Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\options.py\", line 140, in\
    \ set\r\n    option.onchange()\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
    stable-diffusion-webui\\modules\\call_queue.py\", line 13, in f\r\n    res = func(*args,\
    \ **kwargs)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
    modules\\initialize_util.py\", line 170, in <lambda>\r\n    shared.opts.onchange(\"\
    sd_model_checkpoint\", wrap_queued_call(lambda: sd_models.reload_model_weights()),\
    \ call=False)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
    modules\\sd_models.py\", line 751, in reload_model_weights\r\n    load_model(checkpoint_info,\
    \ already_loaded_state_dict=state_dict)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\\
    AutoSDXL\\stable-diffusion-webui\\modules\\sd_models.py\", line 626, in load_model\r\
    \n    load_model_weights(sd_model, checkpoint_info, state_dict, timer)\r\n  File\
    \ \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\\
    sd_models.py\", line 353, in load_model_weights\r\n    model.load_state_dict(state_dict,\
    \ strict=False)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
    modules\\sd_disable_initialization.py\", line 223, in <lambda>\r\n    module_load_state_dict\
    \ = self.replace(torch.nn.Module, 'load_state_dict', lambda *args, **kwargs: load_state_dict(module_load_state_dict,\
    \ *args, **kwargs))\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
    modules\\sd_disable_initialization.py\", line 221, in load_state_dict\r\n    original(module,\
    \ state_dict, strict=strict)\r\n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\\
    stable-diffusion-webui\\venv\\lib\\site-packages\\torch\\nn\\modules\\module.py\"\
    , line 2041, in load_state_dict\r\n    raise RuntimeError('Error(s) in loading\
    \ state_dict for {}:\\n\\t{}'.format(\r\nRuntimeError: Error(s) in loading state_dict\
    \ for DiffusionEngine:\r\n        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
    \ copying a param with shape torch.Size([320, 9, 3, 3]) from checkpoint, the shape\
    \ in current model is torch.Size([320, 4, 3, 3]).\r\n\r\nchanging setting sd_vae\
    \ to sdxl_vae.safetensors: AttributeError\r\nTraceback (most recent call last):\r\
    \n  File \"C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\\
    modules\\options.py\", line 140, in set\r\n    option.onchange()\r\n  File \"\
    C:\\Users\\ZeroCool22\\Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\call_queue.py\"\
    , line 13, in f\r\n    res = func(*args, **kwargs)\r\n  File \"C:\\Users\\ZeroCool22\\\
    Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\initialize_util.py\", line\
    \ 171, in <lambda>\r\n    shared.opts.onchange(\"sd_vae\", wrap_queued_call(lambda:\
    \ sd_vae.reload_vae_weights()), call=False)\r\n  File \"C:\\Users\\ZeroCool22\\\
    Desktop\\AutoSDXL\\stable-diffusion-webui\\modules\\sd_vae.py\", line 255, in\
    \ reload_vae_weights\r\n    checkpoint_info = sd_model.sd_checkpoint_info\r\n\
    AttributeError: 'NoneType' object has no attribute 'sd_checkpoint_info'"
  created_at: 2023-10-21 15:05:43+00:00
  edited: false
  hidden: false
  id: 6533f6d7ed74ace633906a93
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661906612980-630db5d3a16f7b175da7c284.jpeg?w=200&h=200&f=face
      fullname: Emilio
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ZeroCool22
      type: user
    createdAt: '2023-10-21T16:09:55.000Z'
    data:
      edited: false
      editors:
      - ZeroCool22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8177604675292969
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661906612980-630db5d3a16f7b175da7c284.jpeg?w=200&h=200&f=face
          fullname: Emilio
          isHf: false
          isPro: false
          name: ZeroCool22
          type: user
        html: '<p>Same with your VAE:</p>

          <p><a rel="nofollow" href="https://justpaste.it/3gjx5">https://justpaste.it/3gjx5</a></p>

          '
        raw: 'Same with your VAE:


          https://justpaste.it/3gjx5'
        updatedAt: '2023-10-21T16:09:55.051Z'
      numEdits: 0
      reactions: []
    id: 6533f7d30917932040899eeb
    type: comment
  author: ZeroCool22
  content: 'Same with your VAE:


    https://justpaste.it/3gjx5'
  created_at: 2023-10-21 15:09:55+00:00
  edited: false
  hidden: false
  id: 6533f7d30917932040899eeb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64429aaf7feb866811b12f73/LxUVODgksCAlncbvbRGHu.png?w=200&h=200&f=face
      fullname: Benjamin Paine
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: benjamin-paine
      type: user
    createdAt: '2023-10-21T18:11:23.000Z'
    data:
      edited: false
      editors:
      - benjamin-paine
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8886857032775879
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64429aaf7feb866811b12f73/LxUVODgksCAlncbvbRGHu.png?w=200&h=200&f=face
          fullname: Benjamin Paine
          isHf: false
          isPro: false
          name: benjamin-paine
          type: user
        html: '<p>Hello,</p>

          <ol>

          <li>appears to be some sort of misuse on the part of SD Web UI. The principal
          issue is here:</li>

          </ol>

          <pre><code>size mismatch for model.diffusion_model.input_blocks.0.0.weight:
          copying a param with shape torch.Size([320, 9, 3, 3]) from checkpoint, the
          shape in current model is torch.Size([320, 4, 3, 3]).

          </code></pre>

          <p>The most significant difference between inpainting and non-inpainting
          is the number of input channels. Non-inpainting has <em>four</em> input
          channels, and inpainting has <em>nine</em>. The difference between the two
          sizes here is precisely the <code>9</code> and <code>4</code> at dimension
          <code>1</code>.  Basically, SD Web UI is expecting to be loading a non-inpainting
          model, and is throwing an error when it loads the inpainting one. I am uncertain
          how you tried to use this model in the web UI, but in whatever situation
          that is, <code>sd_xl_base_1.0_inpainting_0.1.safetensors</code> is not intended
          to be used there.</p>

          <ol start="2">

          <li>is a misunderstanding. <code>sd_xl_base_1.0_fp16_vae.safetensors</code>
          is not a standalone autoencoder model, it is the entirety of SDXL 1.0 Base
          with different baked VAE weights (<a href="https://huggingface.co/madebyollin/sdxl-vae-fp16-fix/tree/main">https://huggingface.co/madebyollin/sdxl-vae-fp16-fix/tree/main</a>).
          It''s a checkpoint that can be used like any other. There are two scenarios
          where this model is useful - a) when you want to use MadeByOllin''s VAE
          by default, instead of XL 1.0 or XL 0.9, or b) when  using the model as
          part of a calculation for merging models, as detailed in the model card.</li>

          </ol>

          '
        raw: 'Hello,


          1) appears to be some sort of misuse on the part of SD Web UI. The principal
          issue is here:

          ```

          size mismatch for model.diffusion_model.input_blocks.0.0.weight: copying
          a param with shape torch.Size([320, 9, 3, 3]) from checkpoint, the shape
          in current model is torch.Size([320, 4, 3, 3]).

          ```

          The most significant difference between inpainting and non-inpainting is
          the number of input channels. Non-inpainting has _four_ input channels,
          and inpainting has _nine_. The difference between the two sizes here is
          precisely the `9` and `4` at dimension `1`.  Basically, SD Web UI is expecting
          to be loading a non-inpainting model, and is throwing an error when it loads
          the inpainting one. I am uncertain how you tried to use this model in the
          web UI, but in whatever situation that is, `sd_xl_base_1.0_inpainting_0.1.safetensors`
          is not intended to be used there.


          2) is a misunderstanding. `sd_xl_base_1.0_fp16_vae.safetensors` is not a
          standalone autoencoder model, it is the entirety of SDXL 1.0 Base with different
          baked VAE weights (https://huggingface.co/madebyollin/sdxl-vae-fp16-fix/tree/main).
          It''s a checkpoint that can be used like any other. There are two scenarios
          where this model is useful - a) when you want to use MadeByOllin''s VAE
          by default, instead of XL 1.0 or XL 0.9, or b) when  using the model as
          part of a calculation for merging models, as detailed in the model card.'
        updatedAt: '2023-10-21T18:11:23.327Z'
      numEdits: 0
      reactions: []
    id: 6534144bbadc49780767c3f7
    type: comment
  author: benjamin-paine
  content: 'Hello,


    1) appears to be some sort of misuse on the part of SD Web UI. The principal issue
    is here:

    ```

    size mismatch for model.diffusion_model.input_blocks.0.0.weight: copying a param
    with shape torch.Size([320, 9, 3, 3]) from checkpoint, the shape in current model
    is torch.Size([320, 4, 3, 3]).

    ```

    The most significant difference between inpainting and non-inpainting is the number
    of input channels. Non-inpainting has _four_ input channels, and inpainting has
    _nine_. The difference between the two sizes here is precisely the `9` and `4`
    at dimension `1`.  Basically, SD Web UI is expecting to be loading a non-inpainting
    model, and is throwing an error when it loads the inpainting one. I am uncertain
    how you tried to use this model in the web UI, but in whatever situation that
    is, `sd_xl_base_1.0_inpainting_0.1.safetensors` is not intended to be used there.


    2) is a misunderstanding. `sd_xl_base_1.0_fp16_vae.safetensors` is not a standalone
    autoencoder model, it is the entirety of SDXL 1.0 Base with different baked VAE
    weights (https://huggingface.co/madebyollin/sdxl-vae-fp16-fix/tree/main). It''s
    a checkpoint that can be used like any other. There are two scenarios where this
    model is useful - a) when you want to use MadeByOllin''s VAE by default, instead
    of XL 1.0 or XL 0.9, or b) when  using the model as part of a calculation for
    merging models, as detailed in the model card.'
  created_at: 2023-10-21 17:11:23+00:00
  edited: false
  hidden: false
  id: 6534144bbadc49780767c3f7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661906612980-630db5d3a16f7b175da7c284.jpeg?w=200&h=200&f=face
      fullname: Emilio
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ZeroCool22
      type: user
    createdAt: '2023-10-27T18:49:57.000Z'
    data:
      edited: false
      editors:
      - ZeroCool22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9661362171173096
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661906612980-630db5d3a16f7b175da7c284.jpeg?w=200&h=200&f=face
          fullname: Emilio
          isHf: false
          isPro: false
          name: ZeroCool22
          type: user
        html: '<p>Ok, but how i fix it?</p>

          '
        raw: Ok, but how i fix it?
        updatedAt: '2023-10-27T18:49:57.978Z'
      numEdits: 0
      reactions: []
    id: 653c06550177fb882026abee
    type: comment
  author: ZeroCool22
  content: Ok, but how i fix it?
  created_at: 2023-10-27 17:49:57+00:00
  edited: false
  hidden: false
  id: 653c06550177fb882026abee
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/81d459e5417e0f72506e66d55ddf9aba.svg
      fullname: lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fastbreak
      type: user
    createdAt: '2023-11-03T08:18:24.000Z'
    data:
      edited: false
      editors:
      - fastbreak
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4255603849887848
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/81d459e5417e0f72506e66d55ddf9aba.svg
          fullname: lee
          isHf: false
          isPro: false
          name: fastbreak
          type: user
        html: '<p>I met this issue as well, just put sd_xl_base_1.0_inpainting_0.1.safetensors
          file to A1111 webui /models/Stable-diffusion folder, then launch ./webui.sh,
          it shows "Traceback (most recent call last):<br>  File "/mnt/workspace/stable-diffusion-webui/modules/options.py",
          line 140, in set<br>    option.onchange()<br>  File "/mnt/workspace/stable-diffusion-webui/modules/call_queue.py",
          line 13, in f<br>    res = func(*args, **kwargs)<br>  File "/mnt/workspace/stable-diffusion-webui/modules/initialize_util.py",
          line 170, in <br>    shared.opts.onchange("sd_model_checkpoint", wrap_queued_call(lambda:
          sd_models.reload_model_weights()), call=False)<br>  File "/mnt/workspace/stable-diffusion-webui/modules/sd_models.py",
          line 755, in reload_model_weights<br>    load_model_weights(sd_model, checkpoint_info,
          state_dict, timer)<br>  File "/mnt/workspace/stable-diffusion-webui/modules/sd_models.py",
          line 353, in load_model_weights<br>    model.load_state_dict(state_dict,
          strict=False)<br>  File "/mnt/workspace/stable-diffusion-webui/venv/lib/python3.10/site-packages/torch/nn/modules/module.py",
          line 2041, in load_state_dict<br>    raise RuntimeError(''Error(s) in loading
          state_dict for {}:\n\t{}''.format(<br>RuntimeError: Error(s) in loading
          state_dict for DiffusionEngine:<br>        size mismatch for model.diffusion_model.input_blocks.0.0.weight:
          copying a param with shape torch.Size([320, 9, 3, 3]) from checkpoint, the
          shape in current model is torch.Size([320, 4, 3, 3])."</p>

          '
        raw: "I met this issue as well, just put sd_xl_base_1.0_inpainting_0.1.safetensors\
          \ file to A1111 webui /models/Stable-diffusion folder, then launch ./webui.sh,\
          \ it shows \"Traceback (most recent call last):\n  File \"/mnt/workspace/stable-diffusion-webui/modules/options.py\"\
          , line 140, in set\n    option.onchange()\n  File \"/mnt/workspace/stable-diffusion-webui/modules/call_queue.py\"\
          , line 13, in f\n    res = func(*args, **kwargs)\n  File \"/mnt/workspace/stable-diffusion-webui/modules/initialize_util.py\"\
          , line 170, in <lambda>\n    shared.opts.onchange(\"sd_model_checkpoint\"\
          , wrap_queued_call(lambda: sd_models.reload_model_weights()), call=False)\n\
          \  File \"/mnt/workspace/stable-diffusion-webui/modules/sd_models.py\",\
          \ line 755, in reload_model_weights\n    load_model_weights(sd_model, checkpoint_info,\
          \ state_dict, timer)\n  File \"/mnt/workspace/stable-diffusion-webui/modules/sd_models.py\"\
          , line 353, in load_model_weights\n    model.load_state_dict(state_dict,\
          \ strict=False)\n  File \"/mnt/workspace/stable-diffusion-webui/venv/lib/python3.10/site-packages/torch/nn/modules/module.py\"\
          , line 2041, in load_state_dict\n    raise RuntimeError('Error(s) in loading\
          \ state_dict for {}:\\n\\t{}'.format(\nRuntimeError: Error(s) in loading\
          \ state_dict for DiffusionEngine:\n        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
          \ copying a param with shape torch.Size([320, 9, 3, 3]) from checkpoint,\
          \ the shape in current model is torch.Size([320, 4, 3, 3]).\"\n"
        updatedAt: '2023-11-03T08:18:24.718Z'
      numEdits: 0
      reactions: []
    id: 6544acd0f0d77ba425ef811c
    type: comment
  author: fastbreak
  content: "I met this issue as well, just put sd_xl_base_1.0_inpainting_0.1.safetensors\
    \ file to A1111 webui /models/Stable-diffusion folder, then launch ./webui.sh,\
    \ it shows \"Traceback (most recent call last):\n  File \"/mnt/workspace/stable-diffusion-webui/modules/options.py\"\
    , line 140, in set\n    option.onchange()\n  File \"/mnt/workspace/stable-diffusion-webui/modules/call_queue.py\"\
    , line 13, in f\n    res = func(*args, **kwargs)\n  File \"/mnt/workspace/stable-diffusion-webui/modules/initialize_util.py\"\
    , line 170, in <lambda>\n    shared.opts.onchange(\"sd_model_checkpoint\", wrap_queued_call(lambda:\
    \ sd_models.reload_model_weights()), call=False)\n  File \"/mnt/workspace/stable-diffusion-webui/modules/sd_models.py\"\
    , line 755, in reload_model_weights\n    load_model_weights(sd_model, checkpoint_info,\
    \ state_dict, timer)\n  File \"/mnt/workspace/stable-diffusion-webui/modules/sd_models.py\"\
    , line 353, in load_model_weights\n    model.load_state_dict(state_dict, strict=False)\n\
    \  File \"/mnt/workspace/stable-diffusion-webui/venv/lib/python3.10/site-packages/torch/nn/modules/module.py\"\
    , line 2041, in load_state_dict\n    raise RuntimeError('Error(s) in loading state_dict\
    \ for {}:\\n\\t{}'.format(\nRuntimeError: Error(s) in loading state_dict for DiffusionEngine:\n\
    \        size mismatch for model.diffusion_model.input_blocks.0.0.weight: copying\
    \ a param with shape torch.Size([320, 9, 3, 3]) from checkpoint, the shape in\
    \ current model is torch.Size([320, 4, 3, 3]).\"\n"
  created_at: 2023-11-03 07:18:24+00:00
  edited: false
  hidden: false
  id: 6544acd0f0d77ba425ef811c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: benjamin-paine/sd-xl-alternative-bases
repo_type: model
status: open
target_branch: null
title: 'AttributeError: ''NoneType'' object has no attribute ''sd_checkpoint_info'''
