!!python/object:huggingface_hub.community.DiscussionWithDetails
author: shawnrushefsky
conflicting_files: null
created_at: 2022-12-09 20:03:56+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
      fullname: Shawn Rushefsky
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shawnrushefsky
      type: user
    createdAt: '2022-12-09T20:03:56.000Z'
    data:
      edited: true
      editors:
      - shawnrushefsky
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
          fullname: Shawn Rushefsky
          isHf: false
          isPro: false
          name: shawnrushefsky
          type: user
        html: "<p>Loading saved model downloaded from <code>stabilityai/stable-diffusion-2-1</code></p>\n\
          <pre><code class=\"language-python\">stable_2_1 = StableDiffusionPipeline.from_pretrained(\n\
          \  <span class=\"hljs-string\">\"/var/app/models/ldm/sd-2-1/\"</span>,\n\
          \  torch_dtype=float16\n  ).to(<span class=\"hljs-string\">\"cuda\"</span>)\n\
          stable_2_1.enable_attention_slicing()\n</code></pre>\n<p>All I am getting\
          \ is black images, running code that worked with 1.5. I'm using an A10 gpu.\
          \ It is not flagging them as NSFW, and it takes a normal amount of time\
          \ to do the generation.</p>\n"
        raw: "Loading saved model downloaded from `stabilityai/stable-diffusion-2-1`\n\
          \n```python\nstable_2_1 = StableDiffusionPipeline.from_pretrained(\n  \"\
          /var/app/models/ldm/sd-2-1/\",\n  torch_dtype=float16\n  ).to(\"cuda\")\n\
          stable_2_1.enable_attention_slicing()\n```\n\nAll I am getting is black\
          \ images, running code that worked with 1.5. I'm using an A10 gpu. It is\
          \ not flagging them as NSFW, and it takes a normal amount of time to do\
          \ the generation."
        updatedAt: '2022-12-09T20:12:06.561Z'
      numEdits: 1
      reactions: []
    id: 639394ac10b8b026c6eb846e
    type: comment
  author: shawnrushefsky
  content: "Loading saved model downloaded from `stabilityai/stable-diffusion-2-1`\n\
    \n```python\nstable_2_1 = StableDiffusionPipeline.from_pretrained(\n  \"/var/app/models/ldm/sd-2-1/\"\
    ,\n  torch_dtype=float16\n  ).to(\"cuda\")\nstable_2_1.enable_attention_slicing()\n\
    ```\n\nAll I am getting is black images, running code that worked with 1.5. I'm\
    \ using an A10 gpu. It is not flagging them as NSFW, and it takes a normal amount\
    \ of time to do the generation."
  created_at: 2022-12-09 20:03:56+00:00
  edited: true
  hidden: false
  id: 639394ac10b8b026c6eb846e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d1d3751912c5719742ebd43adcba0306.svg
      fullname: LIU
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bakerycat
      type: user
    createdAt: '2022-12-10T10:13:09.000Z'
    data:
      edited: true
      editors:
      - bakerycat
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d1d3751912c5719742ebd43adcba0306.svg
          fullname: LIU
          isHf: false
          isPro: false
          name: bakerycat
          type: user
        html: '<p>have you run this?<br>pip install --upgrade git+<a rel="nofollow"
          href="https://github.com/huggingface/diffusers.git">https://github.com/huggingface/diffusers.git</a>
          transformers accelerate scipy</p>

          <p>My GPU is T4 16G,  and it worked with 2.0 after I upgraded</p>

          '
        raw: 'have you run this?

          pip install --upgrade git+https://github.com/huggingface/diffusers.git transformers
          accelerate scipy


          My GPU is T4 16G,  and it worked with 2.0 after I upgraded'
        updatedAt: '2022-12-10T11:29:34.357Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - patrickvonplaten
    id: 63945bb5a37e95d337df7bbd
    type: comment
  author: bakerycat
  content: 'have you run this?

    pip install --upgrade git+https://github.com/huggingface/diffusers.git transformers
    accelerate scipy


    My GPU is T4 16G,  and it worked with 2.0 after I upgraded'
  created_at: 2022-12-10 10:13:09+00:00
  edited: true
  hidden: false
  id: 63945bb5a37e95d337df7bbd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
      fullname: Shawn Rushefsky
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shawnrushefsky
      type: user
    createdAt: '2022-12-10T13:00:35.000Z'
    data:
      edited: false
      editors:
      - shawnrushefsky
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
          fullname: Shawn Rushefsky
          isHf: false
          isPro: false
          name: shawnrushefsky
          type: user
        html: '<p>I did run that. Also installed xformers, but that also did not make
          a difference</p>

          '
        raw: I did run that. Also installed xformers, but that also did not make a
          difference
        updatedAt: '2022-12-10T13:00:35.826Z'
      numEdits: 0
      reactions: []
    id: 639482f375e59eb9b8a2549e
    type: comment
  author: shawnrushefsky
  content: I did run that. Also installed xformers, but that also did not make a difference
  created_at: 2022-12-10 13:00:35+00:00
  edited: false
  hidden: false
  id: 639482f375e59eb9b8a2549e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6f29d4893f5fdb8d2d12caea280ee665.svg
      fullname: A Dutton
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: alexanderdutton
      type: user
    createdAt: '2022-12-10T20:45:46.000Z'
    data:
      edited: false
      editors:
      - alexanderdutton
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6f29d4893f5fdb8d2d12caea280ee665.svg
          fullname: A Dutton
          isHf: false
          isPro: false
          name: alexanderdutton
          type: user
        html: '<p>In the past I''d resolved that by switching to the correct YAML,
          but this was working last night and isn''t this morning ..</p>

          <p>In the process of figuring that out now ..</p>

          '
        raw: 'In the past I''d resolved that by switching to the correct YAML, but
          this was working last night and isn''t this morning ..


          In the process of figuring that out now ..'
        updatedAt: '2022-12-10T20:45:46.966Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - FXnoob
        - TimothyB
        - shawnrushefsky
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - shawnrushefsky
    id: 6394effa52e8fce2b7aa84eb
    type: comment
  author: alexanderdutton
  content: 'In the past I''d resolved that by switching to the correct YAML, but this
    was working last night and isn''t this morning ..


    In the process of figuring that out now ..'
  created_at: 2022-12-10 20:45:46+00:00
  edited: false
  hidden: false
  id: 6394effa52e8fce2b7aa84eb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6cae20720b4ef3daaf83911ef66062a6.svg
      fullname: DU ZILIN
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Yorick
      type: user
    createdAt: '2022-12-11T09:32:02.000Z'
    data:
      edited: false
      editors:
      - Yorick
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6cae20720b4ef3daaf83911ef66062a6.svg
          fullname: DU ZILIN
          isHf: false
          isPro: false
          name: Yorick
          type: user
        html: "<blockquote>\n<p>Loading saved model downloaded from <code>stabilityai/stable-diffusion-2-1</code></p>\n\
          <pre><code class=\"language-python\">stable_2_1 = StableDiffusionPipeline.from_pretrained(\n\
          \  <span class=\"hljs-string\">\"/var/app/models/ldm/sd-2-1/\"</span>,\n\
          \  torch_dtype=float16\n  ).to(<span class=\"hljs-string\">\"cuda\"</span>)\n\
          stable_2_1.enable_attention_slicing()\n</code></pre>\n<p>All I am getting\
          \ is black images, running code that worked with 1.5. I'm using an A10 gpu.\
          \ It is not flagging them as NSFW, and it takes a normal amount of time\
          \ to do the generation.</p>\n</blockquote>\n<p>I met the same problem, have\
          \ you solved it? Thank you.</p>\n"
        raw: "> Loading saved model downloaded from `stabilityai/stable-diffusion-2-1`\n\
          > \n> ```python\n> stable_2_1 = StableDiffusionPipeline.from_pretrained(\n\
          >   \"/var/app/models/ldm/sd-2-1/\",\n>   torch_dtype=float16\n>   ).to(\"\
          cuda\")\n> stable_2_1.enable_attention_slicing()\n> ```\n> \n> All I am\
          \ getting is black images, running code that worked with 1.5. I'm using\
          \ an A10 gpu. It is not flagging them as NSFW, and it takes a normal amount\
          \ of time to do the generation.\n\nI met the same problem, have you solved\
          \ it? Thank you."
        updatedAt: '2022-12-11T09:32:02.999Z'
      numEdits: 0
      reactions: []
    id: 6395a392a06148cd983423d1
    type: comment
  author: Yorick
  content: "> Loading saved model downloaded from `stabilityai/stable-diffusion-2-1`\n\
    > \n> ```python\n> stable_2_1 = StableDiffusionPipeline.from_pretrained(\n>  \
    \ \"/var/app/models/ldm/sd-2-1/\",\n>   torch_dtype=float16\n>   ).to(\"cuda\"\
    )\n> stable_2_1.enable_attention_slicing()\n> ```\n> \n> All I am getting is black\
    \ images, running code that worked with 1.5. I'm using an A10 gpu. It is not flagging\
    \ them as NSFW, and it takes a normal amount of time to do the generation.\n\n\
    I met the same problem, have you solved it? Thank you."
  created_at: 2022-12-11 09:32:02+00:00
  edited: false
  hidden: false
  id: 6395a392a06148cd983423d1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ed0e1b373485aa2e6a018da7d94b3f79.svg
      fullname: Manuel Franco Giraldez
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MLAppsSL
      type: user
    createdAt: '2022-12-12T17:09:50.000Z'
    data:
      edited: false
      editors:
      - MLAppsSL
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ed0e1b373485aa2e6a018da7d94b3f79.svg
          fullname: Manuel Franco Giraldez
          isHf: false
          isPro: false
          name: MLAppsSL
          type: user
        html: '<p>Same here! Black images, working greate with 2.0 but after update
          always black</p>

          '
        raw: Same here! Black images, working greate with 2.0 but after update always
          black
        updatedAt: '2022-12-12T17:09:50.499Z'
      numEdits: 0
      reactions: []
    id: 6397605ef1545dc474513dd3
    type: comment
  author: MLAppsSL
  content: Same here! Black images, working greate with 2.0 but after update always
    black
  created_at: 2022-12-12 17:09:50+00:00
  edited: false
  hidden: false
  id: 6397605ef1545dc474513dd3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7794b03bf9fc4fd014ca423c2b9d2e83.svg
      fullname: haiyan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: umiiwa
      type: user
    createdAt: '2022-12-13T06:53:55.000Z'
    data:
      edited: false
      editors:
      - umiiwa
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7794b03bf9fc4fd014ca423c2b9d2e83.svg
          fullname: haiyan
          isHf: false
          isPro: false
          name: umiiwa
          type: user
        html: '<p>I resolved it by using torch_dtype=float32 instead of torch_dtype=float16</p>

          '
        raw: I resolved it by using torch_dtype=float32 instead of torch_dtype=float16
        updatedAt: '2022-12-13T06:53:55.327Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - Oleg007
        - rohit23
        - rain-py
    id: 63982183bc0a809fcae0ec01
    type: comment
  author: umiiwa
  content: I resolved it by using torch_dtype=float32 instead of torch_dtype=float16
  created_at: 2022-12-13 06:53:55+00:00
  edited: false
  hidden: false
  id: 63982183bc0a809fcae0ec01
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/77502d47a3eb651ef5e0e29a7e80847d.svg
      fullname: wugehb befebf
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: oiwevgbnrh
      type: user
    createdAt: '2022-12-13T07:55:55.000Z'
    data:
      edited: false
      editors:
      - oiwevgbnrh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/77502d47a3eb651ef5e0e29a7e80847d.svg
          fullname: wugehb befebf
          isHf: false
          isPro: false
          name: oiwevgbnrh
          type: user
        html: '<p>try using --no-half as argument</p>

          '
        raw: try using --no-half as argument
        updatedAt: '2022-12-13T07:55:55.539Z'
      numEdits: 0
      reactions: []
    id: 6398300b7a3045c1161cf2a4
    type: comment
  author: oiwevgbnrh
  content: try using --no-half as argument
  created_at: 2022-12-13 07:55:55+00:00
  edited: false
  hidden: false
  id: 6398300b7a3045c1161cf2a4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
      fullname: Shawn Rushefsky
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shawnrushefsky
      type: user
    createdAt: '2022-12-13T19:24:37.000Z'
    data:
      edited: false
      editors:
      - shawnrushefsky
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
          fullname: Shawn Rushefsky
          isHf: false
          isPro: false
          name: shawnrushefsky
          type: user
        html: '<blockquote>

          <p>I resolved it by using torch_dtype=float32 instead of torch_dtype=float16</p>

          </blockquote>

          <p>Sadly this did not work for me.</p>

          <blockquote>

          <p>try using --no-half as argument</p>

          </blockquote>

          <p>I''m not using a desktop gui, I''m running python code in the cloud.</p>

          '
        raw: '> I resolved it by using torch_dtype=float32 instead of torch_dtype=float16


          Sadly this did not work for me.


          > try using --no-half as argument


          I''m not using a desktop gui, I''m running python code in the cloud.'
        updatedAt: '2022-12-13T19:24:37.346Z'
      numEdits: 0
      reactions: []
    id: 6398d17569671a9946c8b939
    type: comment
  author: shawnrushefsky
  content: '> I resolved it by using torch_dtype=float32 instead of torch_dtype=float16


    Sadly this did not work for me.


    > try using --no-half as argument


    I''m not using a desktop gui, I''m running python code in the cloud.'
  created_at: 2022-12-13 19:24:37+00:00
  edited: false
  hidden: false
  id: 6398d17569671a9946c8b939
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-12-15T20:32:49.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>Hey, please make sure to run the <strong>newest</strong> version
          of diffusers (<strong>0.10.0</strong>) so that the Q K matrices are automatically
          upcasted to float to prevent overflow and thus black images.</p>

          '
        raw: Hey, please make sure to run the **newest** version of diffusers (**0.10.0**)
          so that the Q K matrices are automatically upcasted to float to prevent
          overflow and thus black images.
        updatedAt: '2022-12-15T20:32:49.153Z'
      numEdits: 0
      reactions: []
    id: 639b847134967bcf45576059
    type: comment
  author: patrickvonplaten
  content: Hey, please make sure to run the **newest** version of diffusers (**0.10.0**)
    so that the Q K matrices are automatically upcasted to float to prevent overflow
    and thus black images.
  created_at: 2022-12-15 20:32:49+00:00
  edited: false
  hidden: false
  id: 639b847134967bcf45576059
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-12-15T20:37:02.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>Essentially you need to make sure your code goes into this branch:
          <a rel="nofollow" href="https://github.com/huggingface/diffusers/blob/c891330f7966fae4aec27962e243a1432d0dc6b5/src/diffusers/models/attention.py#L600">https://github.com/huggingface/diffusers/blob/c891330f7966fae4aec27962e243a1432d0dc6b5/src/diffusers/models/attention.py#L600</a></p>

          '
        raw: 'Essentially you need to make sure your code goes into this branch: https://github.com/huggingface/diffusers/blob/c891330f7966fae4aec27962e243a1432d0dc6b5/src/diffusers/models/attention.py#L600'
        updatedAt: '2022-12-15T20:37:02.101Z'
      numEdits: 0
      reactions: []
    id: 639b856ef44c46d8af549b1f
    type: comment
  author: patrickvonplaten
  content: 'Essentially you need to make sure your code goes into this branch: https://github.com/huggingface/diffusers/blob/c891330f7966fae4aec27962e243a1432d0dc6b5/src/diffusers/models/attention.py#L600'
  created_at: 2022-12-15 20:37:02+00:00
  edited: false
  hidden: false
  id: 639b856ef44c46d8af549b1f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9c0e15c2e892350238b417ed822eba5c.svg
      fullname: Justin Bowes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: justinbowes
      type: user
    createdAt: '2022-12-16T17:15:50.000Z'
    data:
      edited: false
      editors:
      - justinbowes
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9c0e15c2e892350238b417ed822eba5c.svg
          fullname: Justin Bowes
          isHf: false
          isPro: false
          name: justinbowes
          type: user
        html: '<p>Upgrading from 0.9.0 solved a warning about "upcast attention",
          but not the issue of black images.</p>

          '
        raw: Upgrading from 0.9.0 solved a warning about "upcast attention", but not
          the issue of black images.
        updatedAt: '2022-12-16T17:15:50.446Z'
      numEdits: 0
      reactions: []
    id: 639ca7c6f41aa339c53adf41
    type: comment
  author: justinbowes
  content: Upgrading from 0.9.0 solved a warning about "upcast attention", but not
    the issue of black images.
  created_at: 2022-12-16 17:15:50+00:00
  edited: false
  hidden: false
  id: 639ca7c6f41aa339c53adf41
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9c0e15c2e892350238b417ed822eba5c.svg
      fullname: Justin Bowes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: justinbowes
      type: user
    createdAt: '2022-12-16T18:18:35.000Z'
    data:
      edited: true
      editors:
      - justinbowes
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9c0e15c2e892350238b417ed822eba5c.svg
          fullname: Justin Bowes
          isHf: false
          isPro: false
          name: justinbowes
          type: user
        html: '<p>I was running the pipe in a<code>with autocast("cuda")</code> context
          from Stable Diffusion v1.4 examples. This needed to be removed.</p>

          <p>The example has been updated since I referred to it, so no action needed.
          Thanks! <a href="https://huggingface.co/CompVis/stable-diffusion-v1-4/discussions/148/files">https://huggingface.co/CompVis/stable-diffusion-v1-4/discussions/148/files</a></p>

          '
        raw: 'I was running the pipe in a`with autocast("cuda")` context from Stable
          Diffusion v1.4 examples. This needed to be removed.


          The example has been updated since I referred to it, so no action needed.
          Thanks! https://huggingface.co/CompVis/stable-diffusion-v1-4/discussions/148/files'
        updatedAt: '2022-12-16T18:19:40.831Z'
      numEdits: 1
      reactions:
      - count: 9
        reaction: "\U0001F44D"
        users:
        - dcwilde
        - yuan6785
        - brurpo
        - POrg
        - somepago
        - gordinmitya
        - WaveCut
        - andydhancock
        - echobingo147
      - count: 8
        reaction: "\U0001F917"
        users:
        - shawnrushefsky
        - dcwilde
        - myscience
        - somepago
        - yukari-n
        - Jeney
        - WaveCut
        - VigoPaul
    id: 639cb67b566712a20b7db6aa
    type: comment
  author: justinbowes
  content: 'I was running the pipe in a`with autocast("cuda")` context from Stable
    Diffusion v1.4 examples. This needed to be removed.


    The example has been updated since I referred to it, so no action needed. Thanks!
    https://huggingface.co/CompVis/stable-diffusion-v1-4/discussions/148/files'
  created_at: 2022-12-16 18:18:35+00:00
  edited: true
  hidden: false
  id: 639cb67b566712a20b7db6aa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
      fullname: Shawn Rushefsky
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shawnrushefsky
      type: user
    createdAt: '2022-12-16T19:36:27.000Z'
    data:
      edited: false
      editors:
      - shawnrushefsky
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
          fullname: Shawn Rushefsky
          isHf: false
          isPro: false
          name: shawnrushefsky
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;justinbowes&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/justinbowes\"\
          >@<span class=\"underline\">justinbowes</span></a></span>\n\n\t</span></span>\
          \ you are my hero. Removed the autocast, everything working great now.</p>\n"
        raw: '@justinbowes you are my hero. Removed the autocast, everything working
          great now.'
        updatedAt: '2022-12-16T19:36:27.708Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F91D"
        users:
        - justinbowes
      relatedEventId: 639cc8bb24af4747d8c4f868
    id: 639cc8bb24af4747d8c4f867
    type: comment
  author: shawnrushefsky
  content: '@justinbowes you are my hero. Removed the autocast, everything working
    great now.'
  created_at: 2022-12-16 19:36:27+00:00
  edited: false
  hidden: false
  id: 639cc8bb24af4747d8c4f867
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
      fullname: Shawn Rushefsky
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shawnrushefsky
      type: user
    createdAt: '2022-12-16T19:36:27.000Z'
    data:
      status: closed
    id: 639cc8bb24af4747d8c4f868
    type: status-change
  author: shawnrushefsky
  created_at: 2022-12-16 19:36:27+00:00
  id: 639cc8bb24af4747d8c4f868
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9d4a6bb4813dffbec13d4367e6aa5083.svg
      fullname: Doc Savage
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: NormanStanleyFletcher
      type: user
    createdAt: '2023-01-26T13:48:58.000Z'
    data:
      edited: false
      editors:
      - NormanStanleyFletcher
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9d4a6bb4813dffbec13d4367e6aa5083.svg
          fullname: Doc Savage
          isHf: false
          isPro: false
          name: NormanStanleyFletcher
          type: user
        html: '<p>i followed the zip file version of the local install and just don''t
          know enough about how to update things. Could anyone explain what to do
          for a total noob?</p>

          '
        raw: i followed the zip file version of the local install and just don't know
          enough about how to update things. Could anyone explain what to do for a
          total noob?
        updatedAt: '2023-01-26T13:48:58.253Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - FrankKoehne
    id: 63d284caaa0afab5e87d34e9
    type: comment
  author: NormanStanleyFletcher
  content: i followed the zip file version of the local install and just don't know
    enough about how to update things. Could anyone explain what to do for a total
    noob?
  created_at: 2023-01-26 13:48:58+00:00
  edited: false
  hidden: false
  id: 63d284caaa0afab5e87d34e9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/66cebb7fd00d26587b9164ce8a08568e.svg
      fullname: "\u041E\u043B\u0435\u0433 \u0418\u0433\u043E\u0440\u0435\u0432\u0438\
        \u0447 \u0420\u0443\u0431\u0430\u043D"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Oleg007
      type: user
    createdAt: '2023-03-11T08:20:01.000Z'
    data:
      edited: false
      editors:
      - Oleg007
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/66cebb7fd00d26587b9164ce8a08568e.svg
          fullname: "\u041E\u043B\u0435\u0433 \u0418\u0433\u043E\u0440\u0435\u0432\
            \u0438\u0447 \u0420\u0443\u0431\u0430\u043D"
          isHf: false
          isPro: false
          name: Oleg007
          type: user
        html: '<p>I use SD2.1 without with autocast("cuda"), when setting the dimension
          float16 I get black squares, with float32 everything works fine, but the
          generation speed decreases by 2 times. Does anyone know a way how to solve
          the problem?</p>

          '
        raw: I use SD2.1 without with autocast("cuda"), when setting the dimension
          float16 I get black squares, with float32 everything works fine, but the
          generation speed decreases by 2 times. Does anyone know a way how to solve
          the problem?
        updatedAt: '2023-03-11T08:20:01.140Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - WaveCut
    id: 640c39b1d94b56260352952d
    type: comment
  author: Oleg007
  content: I use SD2.1 without with autocast("cuda"), when setting the dimension float16
    I get black squares, with float32 everything works fine, but the generation speed
    decreases by 2 times. Does anyone know a way how to solve the problem?
  created_at: 2023-03-11 08:20:01+00:00
  edited: false
  hidden: false
  id: 640c39b1d94b56260352952d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661165878439-noauth.jpeg?w=200&h=200&f=face
      fullname: Valeriy Selitskiy
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: WaveCut
      type: user
    createdAt: '2023-03-16T11:27:15.000Z'
    data:
      edited: false
      editors:
      - WaveCut
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661165878439-noauth.jpeg?w=200&h=200&f=face
          fullname: Valeriy Selitskiy
          isHf: false
          isPro: false
          name: WaveCut
          type: user
        html: '<p>Same problem - black images despite no autocast and stuff, with
          xformers on fp16</p>

          '
        raw: Same problem - black images despite no autocast and stuff, with xformers
          on fp16
        updatedAt: '2023-03-16T11:27:15.977Z'
      numEdits: 0
      reactions: []
    id: 6412fd1342b32b65527bc4f2
    type: comment
  author: WaveCut
  content: Same problem - black images despite no autocast and stuff, with xformers
    on fp16
  created_at: 2023-03-16 10:27:15+00:00
  edited: false
  hidden: false
  id: 6412fd1342b32b65527bc4f2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
      fullname: Shawn Rushefsky
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shawnrushefsky
      type: user
    createdAt: '2023-03-16T11:32:21.000Z'
    data:
      edited: true
      editors:
      - shawnrushefsky
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/953ae84ce483f0d5451fba2affc95e2f.svg
          fullname: Shawn Rushefsky
          isHf: false
          isPro: false
          name: shawnrushefsky
          type: user
        html: "<p>If anybody has code they can share, I\u2019m happy to take a look.\
          \ I haven\u2019t had any problems with 2.1 since updating diffusers and\
          \ getting rid of autocast. I\u2019m using fp16 on a10 gpus w/ xformers</p>\n"
        raw: "If anybody has code they can share, I\u2019m happy to take a look. I\
          \ haven\u2019t had any problems with 2.1 since updating diffusers and getting\
          \ rid of autocast. I\u2019m using fp16 on a10 gpus w/ xformers"
        updatedAt: '2023-03-16T11:35:02.982Z'
      numEdits: 1
      reactions: []
    id: 6412fe4542b32b65527c1747
    type: comment
  author: shawnrushefsky
  content: "If anybody has code they can share, I\u2019m happy to take a look. I haven\u2019\
    t had any problems with 2.1 since updating diffusers and getting rid of autocast.\
    \ I\u2019m using fp16 on a10 gpus w/ xformers"
  created_at: 2023-03-16 10:32:21+00:00
  edited: true
  hidden: false
  id: 6412fe4542b32b65527c1747
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/daeed429a95f121c484c4745cf34d17b.svg
      fullname: Alexander Efimov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: webmalex
      type: user
    createdAt: '2023-03-26T10:19:30.000Z'
    data:
      edited: false
      editors:
      - webmalex
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/daeed429a95f121c484c4745cf34d17b.svg
          fullname: Alexander Efimov
          isHf: false
          isPro: false
          name: webmalex
          type: user
        html: '<p>i''m fixed as:<br>./webui.sh --no-half</p>

          '
        raw: 'i''m fixed as:

          ./webui.sh --no-half'
        updatedAt: '2023-03-26T10:19:30.128Z'
      numEdits: 0
      reactions: []
    id: 64201c329858e0890600b80a
    type: comment
  author: webmalex
  content: 'i''m fixed as:

    ./webui.sh --no-half'
  created_at: 2023-03-26 09:19:30+00:00
  edited: false
  hidden: false
  id: 64201c329858e0890600b80a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661165878439-noauth.jpeg?w=200&h=200&f=face
      fullname: Valeriy Selitskiy
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: WaveCut
      type: user
    createdAt: '2023-03-26T14:57:23.000Z'
    data:
      edited: false
      editors:
      - WaveCut
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661165878439-noauth.jpeg?w=200&h=200&f=face
          fullname: Valeriy Selitskiy
          isHf: false
          isPro: false
          name: WaveCut
          type: user
        html: '<blockquote>

          <p>i''m fixed as:<br>./webui.sh --no-half</p>

          </blockquote>

          <p>Not a fix for me as I own a low VRAM GPU: 3060 laptop 6&nbsp;GB. So,
          I believe I should stick to v1.5 :(</p>

          '
        raw: "> i'm fixed as:\n> ./webui.sh --no-half\n\nNot a fix for me as I own\
          \ a low VRAM GPU: 3060 laptop 6\_GB. So, I believe I should stick to v1.5\
          \ :("
        updatedAt: '2023-03-26T14:57:23.287Z'
      numEdits: 0
      reactions: []
    id: 64205d539f60ddafaeb060ad
    type: comment
  author: WaveCut
  content: "> i'm fixed as:\n> ./webui.sh --no-half\n\nNot a fix for me as I own a\
    \ low VRAM GPU: 3060 laptop 6\_GB. So, I believe I should stick to v1.5 :("
  created_at: 2023-03-26 13:57:23+00:00
  edited: false
  hidden: false
  id: 64205d539f60ddafaeb060ad
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a8d534b70e9b3735840e3e07743232ba.svg
      fullname: Rohit Paul
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rohit23
      type: user
    createdAt: '2023-05-19T13:23:49.000Z'
    data:
      edited: false
      editors:
      - rohit23
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a8d534b70e9b3735840e3e07743232ba.svg
          fullname: Rohit Paul
          isHf: false
          isPro: false
          name: rohit23
          type: user
        html: '<p>I too was facing the same problem, as mentioned above the solution
          is to change the torch_dtype from torch.float16 to torch.float32</p>

          '
        raw: I too was facing the same problem, as mentioned above the solution is
          to change the torch_dtype from torch.float16 to torch.float32
        updatedAt: '2023-05-19T13:23:49.122Z'
      numEdits: 0
      reactions: []
    id: 64677865a48c2b6f0d609618
    type: comment
  author: rohit23
  content: I too was facing the same problem, as mentioned above the solution is to
    change the torch_dtype from torch.float16 to torch.float32
  created_at: 2023-05-19 12:23:49+00:00
  edited: false
  hidden: false
  id: 64677865a48c2b6f0d609618
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: stabilityai/stable-diffusion-2-1
repo_type: model
status: closed
target_branch: null
title: Only generates black images?
