!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Studeni
conflicting_files: []
created_at: 2024-01-20 17:32:14+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7ecfd9024cbc23064caec7fca80c20ce.svg
      fullname: Milutin Studen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Studeni
      type: user
    createdAt: '2024-01-20T17:32:14.000Z'
    data:
      edited: false
      editors:
      - Studeni
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8263787627220154
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7ecfd9024cbc23064caec7fca80c20ce.svg
          fullname: Milutin Studen
          isHf: false
          isPro: false
          name: Studeni
          type: user
        html: '<h2 id="problem">Problem:</h2>

          <p>If we do not set the device in the pipeline we first get this warning:</p>

          <pre><code>UserWarning: You are calling .generate() with the `input_ids`
          being on a device type different than your model''s device. `input_ids`
          is on cpu, whereas the model is on cuda. You may experience unexpected behaviors
          or slower generation. Please make sure that you have put `input_ids` to
          the correct device by calling for example input_ids = input_ids.to(''cuda'')
          before running `.generate()`.

          </code></pre>

          <p>After that we get the error:</p>

          <pre><code>RuntimeError: Expected all tensors to be on the same device,
          but found at least two devices, cuda:0 and cpu! (when checking argument
          for argument index in method wrapper_CUDA__index_select)

          </code></pre>

          <h2 id="solution">Solution:</h2>

          <p>Set devices for all models and in the pipeline method to avoid tensors
          being on different devices.</p>

          '
        raw: '## Problem:


          If we do not set the device in the pipeline we first get this warning:

          ```

          UserWarning: You are calling .generate() with the `input_ids` being on a
          device type different than your model''s device. `input_ids` is on cpu,
          whereas the model is on cuda. You may experience unexpected behaviors or
          slower generation. Please make sure that you have put `input_ids` to the
          correct device by calling for example input_ids = input_ids.to(''cuda'')
          before running `.generate()`.

          ```

          After that we get the error:

          ```

          RuntimeError: Expected all tensors to be on the same device, but found at
          least two devices, cuda:0 and cpu! (when checking argument for argument
          index in method wrapper_CUDA__index_select)


          ```


          ## Solution:


          Set devices for all models and in the pipeline method to avoid tensors being
          on different devices.'
        updatedAt: '2024-01-20T17:32:14.094Z'
      numEdits: 0
      reactions: []
    id: 65ac039ee0ee7990a6ba7cf8
    type: comment
  author: Studeni
  content: '## Problem:


    If we do not set the device in the pipeline we first get this warning:

    ```

    UserWarning: You are calling .generate() with the `input_ids` being on a device
    type different than your model''s device. `input_ids` is on cpu, whereas the model
    is on cuda. You may experience unexpected behaviors or slower generation. Please
    make sure that you have put `input_ids` to the correct device by calling for example
    input_ids = input_ids.to(''cuda'') before running `.generate()`.

    ```

    After that we get the error:

    ```

    RuntimeError: Expected all tensors to be on the same device, but found at least
    two devices, cuda:0 and cpu! (when checking argument for argument index in method
    wrapper_CUDA__index_select)


    ```


    ## Solution:


    Set devices for all models and in the pipeline method to avoid tensors being on
    different devices.'
  created_at: 2024-01-20 17:32:14+00:00
  edited: false
  hidden: false
  id: 65ac039ee0ee7990a6ba7cf8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: /avatars/7ecfd9024cbc23064caec7fca80c20ce.svg
      fullname: Milutin Studen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Studeni
      type: user
    createdAt: '2024-01-20T17:32:14.000Z'
    data:
      oid: 1dd9e50996135cc1e6996da98f485ce9f7e388bc
      parents:
      - b2f7c152209c12057c3a0d77b2c01a1def7d594f
      subject: Update README.md
    id: 65ac039e0000000000000000
    type: commit
  author: Studeni
  created_at: 2024-01-20 17:32:14+00:00
  id: 65ac039e0000000000000000
  oid: 1dd9e50996135cc1e6996da98f485ce9f7e388bc
  summary: Update README.md
  type: commit
is_pull_request: true
merge_commit_oid: null
num: 7
repo_id: TheBloke/Mistral-7B-Instruct-v0.1-AWQ
repo_type: model
status: open
target_branch: refs/heads/main
title: Update README.md
