!!python/object:huggingface_hub.community.DiscussionWithDetails
author: HGPT
conflicting_files: null
created_at: 2023-10-05 01:07:04+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fda001decb49d44bcebbc62a8d5b1c05.svg
      fullname: HumanGPT
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: HGPT
      type: user
    createdAt: '2023-10-05T02:07:04.000Z'
    data:
      edited: false
      editors:
      - HGPT
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.18761040270328522
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fda001decb49d44bcebbc62a8d5b1c05.svg
          fullname: HumanGPT
          isHf: false
          isPro: false
          name: HGPT
          type: user
        html: "<p>\u4F60\u597D\uFF0C\u6211\u7528langchain\u91CC\u7684\u4F8B\u5B50\u76F4\
          \u63A5\u4FEE\u6539\u540E\u597D\u50CF\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\
          \uFF0C\u4E0D\u77E5\u9053\u662F\u600E\u4E48\u56DE\u4E8B\u80FD\u4E0D\u80FD\
          \u5E2E\u5FD9\u770B\u4E0B\uFF0C\u8C22\u8C22<br>\u4E0B\u9762\u662Flangchain\u7ED9\
          \u7684\u4F8B\u5B50\uFF0C\u6211\u6539\u7528\u4E86\u4F60\u7684\u6A21\u578B\
          \uFF0C\u6211\u770B\u90FD\u662FSentenceTransformer\uFF0C\u4E0D\u77E5\u9053\
          \u662F\u600E\u4E48\u56DE\u4E8B\uFF1F<br>from langchain.embeddings import\
          \ HuggingFaceEmbeddings<br>model_name = \"./m3e-base/\"<br>model_kwargs\
          \ = {'device': 'cpu'}<br>encode_kwargs = {'normalize_embeddings': False}</p>\n\
          <p>embeddings = HuggingFaceEmbeddings(<br>    model_name=model_name,<br>\
          \    model_kwargs=model_kwargs,<br>    encode_kwargs=encode_kwargs<br>)<br>documents\
          \ = TextLoader('./state_of_the_union.txt').load()<br>text_splitter = CharacterTextSplitter(chunk_size=1000,\
          \ chunk_overlap=0)<br>texts = text_splitter.split_documents(documents)<br>retriever\
          \ = FAISS.from_documents(texts, embeddings).as_retriever(search_kwargs={\"\
          k\": 1})</p>\n"
        raw: "\u4F60\u597D\uFF0C\u6211\u7528langchain\u91CC\u7684\u4F8B\u5B50\u76F4\
          \u63A5\u4FEE\u6539\u540E\u597D\u50CF\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\
          \uFF0C\u4E0D\u77E5\u9053\u662F\u600E\u4E48\u56DE\u4E8B\u80FD\u4E0D\u80FD\
          \u5E2E\u5FD9\u770B\u4E0B\uFF0C\u8C22\u8C22\r\n\u4E0B\u9762\u662Flangchain\u7ED9\
          \u7684\u4F8B\u5B50\uFF0C\u6211\u6539\u7528\u4E86\u4F60\u7684\u6A21\u578B\
          \uFF0C\u6211\u770B\u90FD\u662FSentenceTransformer\uFF0C\u4E0D\u77E5\u9053\
          \u662F\u600E\u4E48\u56DE\u4E8B\uFF1F\r\nfrom langchain.embeddings import\
          \ HuggingFaceEmbeddings\r\nmodel_name = \"./m3e-base/\"\r\nmodel_kwargs\
          \ = {'device': 'cpu'}\r\nencode_kwargs = {'normalize_embeddings': False}\r\
          \n\r\nembeddings = HuggingFaceEmbeddings(\r\n    model_name=model_name,\r\
          \n    model_kwargs=model_kwargs,\r\n    encode_kwargs=encode_kwargs\r\n\
          )\r\ndocuments = TextLoader('./state_of_the_union.txt').load()\r\ntext_splitter\
          \ = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)\r\ntexts = text_splitter.split_documents(documents)\r\
          \nretriever = FAISS.from_documents(texts, embeddings).as_retriever(search_kwargs={\"\
          k\": 1})\r\n"
        updatedAt: '2023-10-05T02:07:04.047Z'
      numEdits: 0
      reactions: []
    id: 651e1a48f57dd75c0dad2df7
    type: comment
  author: HGPT
  content: "\u4F60\u597D\uFF0C\u6211\u7528langchain\u91CC\u7684\u4F8B\u5B50\u76F4\u63A5\
    \u4FEE\u6539\u540E\u597D\u50CF\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528\uFF0C\u4E0D\
    \u77E5\u9053\u662F\u600E\u4E48\u56DE\u4E8B\u80FD\u4E0D\u80FD\u5E2E\u5FD9\u770B\
    \u4E0B\uFF0C\u8C22\u8C22\r\n\u4E0B\u9762\u662Flangchain\u7ED9\u7684\u4F8B\u5B50\
    \uFF0C\u6211\u6539\u7528\u4E86\u4F60\u7684\u6A21\u578B\uFF0C\u6211\u770B\u90FD\
    \u662FSentenceTransformer\uFF0C\u4E0D\u77E5\u9053\u662F\u600E\u4E48\u56DE\u4E8B\
    \uFF1F\r\nfrom langchain.embeddings import HuggingFaceEmbeddings\r\nmodel_name\
    \ = \"./m3e-base/\"\r\nmodel_kwargs = {'device': 'cpu'}\r\nencode_kwargs = {'normalize_embeddings':\
    \ False}\r\n\r\nembeddings = HuggingFaceEmbeddings(\r\n    model_name=model_name,\r\
    \n    model_kwargs=model_kwargs,\r\n    encode_kwargs=encode_kwargs\r\n)\r\ndocuments\
    \ = TextLoader('./state_of_the_union.txt').load()\r\ntext_splitter = CharacterTextSplitter(chunk_size=1000,\
    \ chunk_overlap=0)\r\ntexts = text_splitter.split_documents(documents)\r\nretriever\
    \ = FAISS.from_documents(texts, embeddings).as_retriever(search_kwargs={\"k\"\
    : 1})\r\n"
  created_at: 2023-10-05 01:07:04+00:00
  edited: false
  hidden: false
  id: 651e1a48f57dd75c0dad2df7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/fda001decb49d44bcebbc62a8d5b1c05.svg
      fullname: HumanGPT
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: HGPT
      type: user
    createdAt: '2023-10-05T03:30:00.000Z'
    data:
      status: closed
    id: 651e2db8b043205444c7a619
    type: status-change
  author: HGPT
  created_at: 2023-10-05 02:30:00+00:00
  id: 651e2db8b043205444c7a619
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 32
repo_id: moka-ai/m3e-base
repo_type: model
status: closed
target_branch: null
title: "\u5173\u4E8Elangchain\u91CC\u597D\u50CF\u65E0\u6CD5\u6B63\u5E38\u4F7F\u7528"
