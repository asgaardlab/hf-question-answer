!!python/object:huggingface_hub.community.DiscussionWithDetails
author: terekita
conflicting_files: null
created_at: 2022-08-20 16:44:30+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
      fullname: Michael Theodore
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: terekita
      type: user
    createdAt: '2022-08-20T17:44:30.000Z'
    data:
      edited: true
      editors:
      - terekita
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
          fullname: Michael Theodore
          isHf: false
          isPro: false
          name: terekita
          type: user
        html: '<p>I keep seeing variations of this question: is it possible to create
          the same image as discord bot/DreamStudio when using the released weights?
          (Should be in principle, since it''s the same model...) I realize that there
          may be some differences in hardware that cause indeterminant results. However,
          do DreamStudio and the discord bots run on the exact same hardware? (Perhaps
          so?)</p>

          <p>Earlier today I saw an example on simulacrabot discord that came somewhat
          close to the same image when using the same seed. Both images are attached.</p>

          <p>Top is image is discord bot, bottom is from this colab: <a rel="nofollow"
          href="https://github.com/DamascusGit/stable-k-4d">https://github.com/DamascusGit/stable-k-4d</a>
          </p>

          <p>Has anyone come closer than this, and been able to attain identical images?
          More importantly, has anyone been able to attain the same level of "quality"
          as DreamStudio? </p>

          <p>It feels like there''s some important default parameters somewhere that
          haven''t been widely uncovered re: the sampling process. Would love if the
          full set of defaults for the discord bots were revealed somewhere!</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1661017154575-62f6ce5fd3bdacb7eec20e4f.png"><img
          alt="db1.png" src="https://cdn-uploads.huggingface.co/production/uploads/1661017154575-62f6ce5fd3bdacb7eec20e4f.png"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1661017166708-62f6ce5fd3bdacb7eec20e4f.png"><img
          alt="db2.png" src="https://cdn-uploads.huggingface.co/production/uploads/1661017166708-62f6ce5fd3bdacb7eec20e4f.png"></a></p>

          '
        raw: "I keep seeing variations of this question: is it possible to create\
          \ the same image as discord bot/DreamStudio when using the released weights?\
          \ (Should be in principle, since it's the same model...) I realize that\
          \ there may be some differences in hardware that cause indeterminant results.\
          \ However, do DreamStudio and the discord bots run on the exact same hardware?\
          \ (Perhaps so?)\n\nEarlier today I saw an example on simulacrabot discord\
          \ that came somewhat close to the same image when using the same seed. Both\
          \ images are attached.\n\nTop is image is discord bot, bottom is from this\
          \ colab: https://github.com/DamascusGit/stable-k-4d \n\nHas anyone come\
          \ closer than this, and been able to attain identical images? More importantly,\
          \ has anyone been able to attain the same level of \"quality\" as DreamStudio?\
          \ \n\nIt feels like there's some important default parameters somewhere\
          \ that haven't been widely uncovered re: the sampling process. Would love\
          \ if the full set of defaults for the discord bots were revealed somewhere!\n\
          \n![db1.png](https://cdn-uploads.huggingface.co/production/uploads/1661017154575-62f6ce5fd3bdacb7eec20e4f.png)\n\
          \n![db2.png](https://cdn-uploads.huggingface.co/production/uploads/1661017166708-62f6ce5fd3bdacb7eec20e4f.png)\n"
        updatedAt: '2022-08-21T04:27:09.350Z'
      numEdits: 2
      reactions: []
    id: 63011d7e8a4db6e9052ad80f
    type: comment
  author: terekita
  content: "I keep seeing variations of this question: is it possible to create the\
    \ same image as discord bot/DreamStudio when using the released weights? (Should\
    \ be in principle, since it's the same model...) I realize that there may be some\
    \ differences in hardware that cause indeterminant results. However, do DreamStudio\
    \ and the discord bots run on the exact same hardware? (Perhaps so?)\n\nEarlier\
    \ today I saw an example on simulacrabot discord that came somewhat close to the\
    \ same image when using the same seed. Both images are attached.\n\nTop is image\
    \ is discord bot, bottom is from this colab: https://github.com/DamascusGit/stable-k-4d\
    \ \n\nHas anyone come closer than this, and been able to attain identical images?\
    \ More importantly, has anyone been able to attain the same level of \"quality\"\
    \ as DreamStudio? \n\nIt feels like there's some important default parameters\
    \ somewhere that haven't been widely uncovered re: the sampling process. Would\
    \ love if the full set of defaults for the discord bots were revealed somewhere!\n\
    \n![db1.png](https://cdn-uploads.huggingface.co/production/uploads/1661017154575-62f6ce5fd3bdacb7eec20e4f.png)\n\
    \n![db2.png](https://cdn-uploads.huggingface.co/production/uploads/1661017166708-62f6ce5fd3bdacb7eec20e4f.png)\n"
  created_at: 2022-08-20 16:44:30+00:00
  edited: true
  hidden: false
  id: 63011d7e8a4db6e9052ad80f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6c8bcf891a337169a3a439f4065df751.svg
      fullname: Greg Turk
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gturk1
      type: user
    createdAt: '2022-08-22T17:37:42.000Z'
    data:
      edited: false
      editors:
      - gturk1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6c8bcf891a337169a3a439f4065df751.svg
          fullname: Greg Turk
          isHf: false
          isPro: false
          name: gturk1
          type: user
        html: '<p>We are very close to being able to reproduce the discord images
          exactly.  I think the only problem is that we don''t have the code for the
          right sampler in the github.  The github has just the ddim and plms samplers,
          but the discord bot uses k_lms as its sampler.   My guess is that if we
          can use the k_lms sampler, we would be able to reproduce the discord results
          almost exactly.</p>

          <p>I have not yet looked into exactly what these samplers are all about.  Based
          on the names of some of them, I think they may be based on different numerical
          integration techniques.</p>

          '
        raw: 'We are very close to being able to reproduce the discord images exactly.  I
          think the only problem is that we don''t have the code for the right sampler
          in the github.  The github has just the ddim and plms samplers, but the
          discord bot uses k_lms as its sampler.   My guess is that if we can use
          the k_lms sampler, we would be able to reproduce the discord results almost
          exactly.


          I have not yet looked into exactly what these samplers are all about.  Based
          on the names of some of them, I think they may be based on different numerical
          integration techniques.'
        updatedAt: '2022-08-22T17:37:42.122Z'
      numEdits: 0
      reactions: []
    id: 6303bee67373aacccd856ace
    type: comment
  author: gturk1
  content: 'We are very close to being able to reproduce the discord images exactly.  I
    think the only problem is that we don''t have the code for the right sampler in
    the github.  The github has just the ddim and plms samplers, but the discord bot
    uses k_lms as its sampler.   My guess is that if we can use the k_lms sampler,
    we would be able to reproduce the discord results almost exactly.


    I have not yet looked into exactly what these samplers are all about.  Based on
    the names of some of them, I think they may be based on different numerical integration
    techniques.'
  created_at: 2022-08-22 16:37:42+00:00
  edited: false
  hidden: false
  id: 6303bee67373aacccd856ace
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
      fullname: Michael Theodore
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: terekita
      type: user
    createdAt: '2022-08-22T17:39:08.000Z'
    data:
      edited: false
      editors:
      - terekita
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
          fullname: Michael Theodore
          isHf: false
          isPro: false
          name: terekita
          type: user
        html: '<p>The colab that I linked above uses k_lms. However, there''s still
          something not quite there yet...</p>

          '
        raw: The colab that I linked above uses k_lms. However, there's still something
          not quite there yet...
        updatedAt: '2022-08-22T17:39:08.393Z'
      numEdits: 0
      reactions: []
    id: 6303bf3ceedc089484c4ae54
    type: comment
  author: terekita
  content: The colab that I linked above uses k_lms. However, there's still something
    not quite there yet...
  created_at: 2022-08-22 16:39:08+00:00
  edited: false
  hidden: false
  id: 6303bf3ceedc089484c4ae54
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d4fbfdcdcd8f947980dfe4e5e83e8a31.svg
      fullname: Ben Cole
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beecee
      type: user
    createdAt: '2022-08-22T17:42:03.000Z'
    data:
      edited: true
      editors:
      - beecee
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d4fbfdcdcd8f947980dfe4e5e83e8a31.svg
          fullname: Ben Cole
          isHf: false
          isPro: false
          name: beecee
          type: user
        html: '<p>I''ve set up klms to work with the public repo successfully.  Check
          out <a rel="nofollow" href="https://github.com/DamascusGit/stable-diffusion/tree/main/scripts">https://github.com/DamascusGit/stable-diffusion/tree/main/scripts</a>
          to see some versions he made using klms (the "_k.py" scripts). I edited
          them a bit, but it''s more or less those scripts that will show you the
          right way.  Here are the additional requirements:</p>

          <p>accelerate<br>jsmonmerge<br>torchdiffeq<br><a rel="nofollow" href="https://github.com/GaParmar/clean-fid">https://github.com/GaParmar/clean-fid</a><br><a
          rel="nofollow" href="https://github.com/assafshocher/ResizeRight">https://github.com/assafshocher/ResizeRight</a><br><a
          rel="nofollow" href="https://github.com/crowsonkb/k-diffusion">https://github.com/crowsonkb/k-diffusion</a></p>

          '
        raw: 'I''ve set up klms to work with the public repo successfully.  Check
          out https://github.com/DamascusGit/stable-diffusion/tree/main/scripts to
          see some versions he made using klms (the "_k.py" scripts). I edited them
          a bit, but it''s more or less those scripts that will show you the right
          way.  Here are the additional requirements:


          accelerate

          jsmonmerge

          torchdiffeq

          https://github.com/GaParmar/clean-fid

          https://github.com/assafshocher/ResizeRight

          https://github.com/crowsonkb/k-diffusion'
        updatedAt: '2022-08-22T17:53:21.384Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - db88
    id: 6303bfeb5c70c21d0eaa0faa
    type: comment
  author: beecee
  content: 'I''ve set up klms to work with the public repo successfully.  Check out
    https://github.com/DamascusGit/stable-diffusion/tree/main/scripts to see some
    versions he made using klms (the "_k.py" scripts). I edited them a bit, but it''s
    more or less those scripts that will show you the right way.  Here are the additional
    requirements:


    accelerate

    jsmonmerge

    torchdiffeq

    https://github.com/GaParmar/clean-fid

    https://github.com/assafshocher/ResizeRight

    https://github.com/crowsonkb/k-diffusion'
  created_at: 2022-08-22 16:42:03+00:00
  edited: true
  hidden: false
  id: 6303bfeb5c70c21d0eaa0faa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
      fullname: Michael Theodore
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: terekita
      type: user
    createdAt: '2022-08-22T17:45:06.000Z'
    data:
      edited: false
      editors:
      - terekita
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
          fullname: Michael Theodore
          isHf: false
          isPro: false
          name: terekita
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;beecee&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/beecee\">@<span class=\"\
          underline\">beecee</span></a></span>\n\n\t</span></span> Did you by any\
          \ chance make a shareable colab with your edits?</p>\n"
        raw: '@beecee Did you by any chance make a shareable colab with your edits?'
        updatedAt: '2022-08-22T17:45:06.273Z'
      numEdits: 0
      reactions: []
    id: 6303c0a27373aacccd8577bb
    type: comment
  author: terekita
  content: '@beecee Did you by any chance make a shareable colab with your edits?'
  created_at: 2022-08-22 16:45:06+00:00
  edited: false
  hidden: false
  id: 6303c0a27373aacccd8577bb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d4fbfdcdcd8f947980dfe4e5e83e8a31.svg
      fullname: Ben Cole
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beecee
      type: user
    createdAt: '2022-08-22T17:48:18.000Z'
    data:
      edited: false
      editors:
      - beecee
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d4fbfdcdcd8f947980dfe4e5e83e8a31.svg
          fullname: Ben Cole
          isHf: false
          isPro: false
          name: beecee
          type: user
        html: '<p>Unfortunately not, but if you add those references and then take
          a look at the _k.py scripts, you should be able to get it working either
          locally or on an existing notebook</p>

          '
        raw: Unfortunately not, but if you add those references and then take a look
          at the _k.py scripts, you should be able to get it working either locally
          or on an existing notebook
        updatedAt: '2022-08-22T17:48:18.856Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - terekita
    id: 6303c162fc783bfc74418c75
    type: comment
  author: beecee
  content: Unfortunately not, but if you add those references and then take a look
    at the _k.py scripts, you should be able to get it working either locally or on
    an existing notebook
  created_at: 2022-08-22 16:48:18+00:00
  edited: false
  hidden: false
  id: 6303c162fc783bfc74418c75
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4947471b579b770487fdacbaf65f4d4c.svg
      fullname: David B
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: db88
      type: user
    createdAt: '2022-08-22T18:00:10.000Z'
    data:
      edited: false
      editors:
      - db88
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4947471b579b770487fdacbaf65f4d4c.svg
          fullname: David B
          isHf: false
          isPro: false
          name: db88
          type: user
        html: '<blockquote>

          <p>I''ve set up klms to work with the public repo successfully.  Check out
          <a rel="nofollow" href="https://github.com/DamascusGit/stable-diffusion/tree/main/scripts">https://github.com/DamascusGit/stable-diffusion/tree/main/scripts</a>
          to see some versions he made using klms (the "_k.py" scripts). I edited
          them a bit, but it''s more or less those scripts that will show you the
          right way.  Here are the additional requirements:</p>

          <p>accelerate<br>jsmonmerge<br>torchdiffeq<br><a rel="nofollow" href="https://github.com/GaParmar/clean-fid">https://github.com/GaParmar/clean-fid</a><br><a
          rel="nofollow" href="https://github.com/assafshocher/ResizeRight">https://github.com/assafshocher/ResizeRight</a><br><a
          rel="nofollow" href="https://github.com/crowsonkb/k-diffusion">https://github.com/crowsonkb/k-diffusion</a></p>

          </blockquote>

          <p>Great info, thanks! Was taking a stab at it for a bit yesterday</p>

          '
        raw: "> I've set up klms to work with the public repo successfully.  Check\
          \ out https://github.com/DamascusGit/stable-diffusion/tree/main/scripts\
          \ to see some versions he made using klms (the \"_k.py\" scripts). I edited\
          \ them a bit, but it's more or less those scripts that will show you the\
          \ right way.  Here are the additional requirements:\n> \n> accelerate\n\
          > jsmonmerge\n> torchdiffeq\n> https://github.com/GaParmar/clean-fid\n>\
          \ https://github.com/assafshocher/ResizeRight\n> https://github.com/crowsonkb/k-diffusion\n\
          \nGreat info, thanks! Was taking a stab at it for a bit yesterday"
        updatedAt: '2022-08-22T18:00:10.217Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - beecee
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - patrickvonplaten
    id: 6303c42afc783bfc7441a180
    type: comment
  author: db88
  content: "> I've set up klms to work with the public repo successfully.  Check out\
    \ https://github.com/DamascusGit/stable-diffusion/tree/main/scripts to see some\
    \ versions he made using klms (the \"_k.py\" scripts). I edited them a bit, but\
    \ it's more or less those scripts that will show you the right way.  Here are\
    \ the additional requirements:\n> \n> accelerate\n> jsmonmerge\n> torchdiffeq\n\
    > https://github.com/GaParmar/clean-fid\n> https://github.com/assafshocher/ResizeRight\n\
    > https://github.com/crowsonkb/k-diffusion\n\nGreat info, thanks! Was taking a\
    \ stab at it for a bit yesterday"
  created_at: 2022-08-22 17:00:10+00:00
  edited: false
  hidden: false
  id: 6303c42afc783bfc7441a180
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-23T20:29:33.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>I think <code>diffusers</code> also has the k lms sampler working:<br><a
          href="https://huggingface.co/CompVis/stable-diffusion-v1-4#examples">https://huggingface.co/CompVis/stable-diffusion-v1-4#examples</a></p>

          '
        raw: "I think `diffusers` also has the k lms sampler working: \nhttps://huggingface.co/CompVis/stable-diffusion-v1-4#examples"
        updatedAt: '2022-08-23T20:29:33.132Z'
      numEdits: 0
      reactions: []
    id: 630538ad80bc5e03dad12d09
    type: comment
  author: patrickvonplaten
  content: "I think `diffusers` also has the k lms sampler working: \nhttps://huggingface.co/CompVis/stable-diffusion-v1-4#examples"
  created_at: 2022-08-23 19:29:33+00:00
  edited: false
  hidden: false
  id: 630538ad80bc5e03dad12d09
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 14
repo_id: CompVis/stable-diffusion-v-1-3-original
repo_type: model
status: open
target_branch: null
title: same image with same seed, cfg, etc?
