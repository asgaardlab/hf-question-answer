!!python/object:huggingface_hub.community.DiscussionWithDetails
author: terekita
conflicting_files: null
created_at: 2022-08-14 19:30:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
      fullname: Michael Theodore
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: terekita
      type: user
    createdAt: '2022-08-14T20:30:37.000Z'
    data:
      edited: false
      editors:
      - terekita
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
          fullname: Michael Theodore
          isHf: false
          isPro: false
          name: terekita
          type: user
        html: '<p>I''ve been trying to compare gens from this codebase with gens on
          the discord server and have had the persistent feeling that the ones from
          discord have smore "clarity." I noticed someone had the same question on
          github, and also noted that the defaul k_lms sampler on discord behaves
          better under a wider range of cfg values.</p>

          <p>The k_lms sampler is apparently available at <a rel="nofollow" href="https://github.com/crowsonkb/k-diffusion">https://github.com/crowsonkb/k-diffusion</a></p>

          <p>Is there an easy way to take that sampler implmentation from KCrownson''s
          github and integrate it with txt2img?</p>

          <p>I asked this same question on github and will update here if there is
          anything helpful.</p>

          '
        raw: "I've been trying to compare gens from this codebase with gens on the\
          \ discord server and have had the persistent feeling that the ones from\
          \ discord have smore \"clarity.\" I noticed someone had the same question\
          \ on github, and also noted that the defaul k_lms sampler on discord behaves\
          \ better under a wider range of cfg values.\r\n\r\nThe k_lms sampler is\
          \ apparently available at https://github.com/crowsonkb/k-diffusion\r\n\r\
          \nIs there an easy way to take that sampler implmentation from KCrownson's\
          \ github and integrate it with txt2img?\r\n\r\nI asked this same question\
          \ on github and will update here if there is anything helpful.\r\n"
        updatedAt: '2022-08-14T20:30:37.574Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - patrickvonplaten
        - valhalla
    id: 62f95b6d92e64c61bc6c4db6
    type: comment
  author: terekita
  content: "I've been trying to compare gens from this codebase with gens on the discord\
    \ server and have had the persistent feeling that the ones from discord have smore\
    \ \"clarity.\" I noticed someone had the same question on github, and also noted\
    \ that the defaul k_lms sampler on discord behaves better under a wider range\
    \ of cfg values.\r\n\r\nThe k_lms sampler is apparently available at https://github.com/crowsonkb/k-diffusion\r\
    \n\r\nIs there an easy way to take that sampler implmentation from KCrownson's\
    \ github and integrate it with txt2img?\r\n\r\nI asked this same question on github\
    \ and will update here if there is anything helpful.\r\n"
  created_at: 2022-08-14 19:30:37+00:00
  edited: false
  hidden: false
  id: 62f95b6d92e64c61bc6c4db6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-15T08:00:15.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;terekita&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/terekita\"\
          >@<span class=\"underline\">terekita</span></a></span>\n\n\t</span></span>,\
          \ </p>\n<p>Thanks for the heads-up - we're looking into it :-) </p>\n<ol>\n\
          <li>We'll first check how our vanilla scheduler (PNDM) compares with the\
          \ one of <a rel=\"nofollow\" href=\"https://github.com/CompVis/stable-diffusion\"\
          >https://github.com/CompVis/stable-diffusion</a> </li>\n<li>We'll see with\
          \ <span data-props=\"{&quot;user&quot;:&quot;Katherine&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Katherine\">@<span class=\"\
          underline\">Katherine</span></a></span>\n\n\t</span></span> how we can best\
          \ implement her scheduler!</li>\n</ol>\n<p>Also cc <span data-props=\"{&quot;user&quot;:&quot;valhalla&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/valhalla\"\
          >@<span class=\"underline\">valhalla</span></a></span>\n\n\t</span></span>\
          \ and <span data-props=\"{&quot;user&quot;:&quot;anton-l&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/anton-l\">@<span class=\"\
          underline\">anton-l</span></a></span>\n\n\t</span></span></p>\n"
        raw: "Hey @terekita, \n\nThanks for the heads-up - we're looking into it :-)\
          \ \n\n1) We'll first check how our vanilla scheduler (PNDM) compares with\
          \ the one of https://github.com/CompVis/stable-diffusion \n2) We'll see\
          \ with @Katherine how we can best implement her scheduler! \n\nAlso cc @valhalla\
          \ and @anton-l"
        updatedAt: '2022-08-15T08:00:15.386Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - terekita
    id: 62f9fd0f6f7644ad7c73e581
    type: comment
  author: patrickvonplaten
  content: "Hey @terekita, \n\nThanks for the heads-up - we're looking into it :-)\
    \ \n\n1) We'll first check how our vanilla scheduler (PNDM) compares with the\
    \ one of https://github.com/CompVis/stable-diffusion \n2) We'll see with @Katherine\
    \ how we can best implement her scheduler! \n\nAlso cc @valhalla and @anton-l"
  created_at: 2022-08-15 07:00:15+00:00
  edited: false
  hidden: false
  id: 62f9fd0f6f7644ad7c73e581
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-15T09:19:31.000Z'
    data:
      edited: true
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>Doing some live debugging here:</p>

          <p>Executing the following line of code with <a rel="nofollow" href="https://github.com/CompVis/stable-diffusion">https://github.com/CompVis/stable-diffusion</a>:</p>

          <pre><code class="language-bash">python scripts/txt2img.py --prompt <span
          class="hljs-string">"a photograph of an astronaut riding a horse"</span>
          --plms --n_samples 4 --n_iter 4

          </code></pre>

          <p>gives</p>

          <p><em>"a photograph of an astronaut riding a horse"</em>:<br><a rel="nofollow"
          href="https://cdn-uploads.huggingface.co/production/uploads/1660555166141-5dfcb1aada6d0311fd3d5448.png"><img
          alt="grid-0000.png" src="https://cdn-uploads.huggingface.co/production/uploads/1660555166141-5dfcb1aada6d0311fd3d5448.png"></a></p>

          <p><em>"a photograph of the eiffel tower on the moon"</em>:<br><a rel="nofollow"
          href="https://cdn-uploads.huggingface.co/production/uploads/1660559602103-5dfcb1aada6d0311fd3d5448.png"><img
          alt="grid-0000 (2).png" src="https://cdn-uploads.huggingface.co/production/uploads/1660559602103-5dfcb1aada6d0311fd3d5448.png"></a></p>

          <p><em>"an oil painting of a futuristic forest gives"</em>:<br><a rel="nofollow"
          href="https://cdn-uploads.huggingface.co/production/uploads/1660559627329-5dfcb1aada6d0311fd3d5448.png"><img
          alt="grid-0001 (1).png" src="https://cdn-uploads.huggingface.co/production/uploads/1660559627329-5dfcb1aada6d0311fd3d5448.png"></a></p>

          '
        raw: 'Doing some live debugging here:


          Executing the following line of code with https://github.com/CompVis/stable-diffusion:


          ```bash

          python scripts/txt2img.py --prompt "a photograph of an astronaut riding
          a horse" --plms --n_samples 4 --n_iter 4

          ```


          gives


          *"a photograph of an astronaut riding a horse"*:

          ![grid-0000.png](https://cdn-uploads.huggingface.co/production/uploads/1660555166141-5dfcb1aada6d0311fd3d5448.png)


          *"a photograph of the eiffel tower on the moon"*:

          ![grid-0000 (2).png](https://cdn-uploads.huggingface.co/production/uploads/1660559602103-5dfcb1aada6d0311fd3d5448.png)


          *"an oil painting of a futuristic forest gives"*:

          ![grid-0001 (1).png](https://cdn-uploads.huggingface.co/production/uploads/1660559627329-5dfcb1aada6d0311fd3d5448.png)'
        updatedAt: '2022-08-15T10:33:50.997Z'
      numEdits: 1
      reactions: []
    id: 62fa0fa38e137d7c4b829c3f
    type: comment
  author: patrickvonplaten
  content: 'Doing some live debugging here:


    Executing the following line of code with https://github.com/CompVis/stable-diffusion:


    ```bash

    python scripts/txt2img.py --prompt "a photograph of an astronaut riding a horse"
    --plms --n_samples 4 --n_iter 4

    ```


    gives


    *"a photograph of an astronaut riding a horse"*:

    ![grid-0000.png](https://cdn-uploads.huggingface.co/production/uploads/1660555166141-5dfcb1aada6d0311fd3d5448.png)


    *"a photograph of the eiffel tower on the moon"*:

    ![grid-0000 (2).png](https://cdn-uploads.huggingface.co/production/uploads/1660559602103-5dfcb1aada6d0311fd3d5448.png)


    *"an oil painting of a futuristic forest gives"*:

    ![grid-0001 (1).png](https://cdn-uploads.huggingface.co/production/uploads/1660559627329-5dfcb1aada6d0311fd3d5448.png)'
  created_at: 2022-08-15 08:19:31+00:00
  edited: true
  hidden: false
  id: 62fa0fa38e137d7c4b829c3f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-15T09:20:36.000Z'
    data:
      edited: true
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: "<p>Now running the following lines of code with  <a rel=\"nofollow\"\
          \ href=\"https://github.com/huggingface/diffusers\">https://github.com/huggingface/diffusers</a>:</p>\n\
          <pre><code class=\"language-python\"><span class=\"hljs-keyword\">from</span>\
          \ diffusers <span class=\"hljs-keyword\">import</span> StableDiffusionPipeline\n\
          <span class=\"hljs-keyword\">from</span> time <span class=\"hljs-keyword\"\
          >import</span> time\n<span class=\"hljs-keyword\">from</span> PIL <span\
          \ class=\"hljs-keyword\">import</span> Image\n<span class=\"hljs-keyword\"\
          >from</span> einops <span class=\"hljs-keyword\">import</span> rearrange\n\
          <span class=\"hljs-keyword\">import</span> numpy <span class=\"hljs-keyword\"\
          >as</span> np\n<span class=\"hljs-keyword\">import</span> torch\n<span class=\"\
          hljs-keyword\">from</span> torch <span class=\"hljs-keyword\">import</span>\
          \ autocast\n<span class=\"hljs-keyword\">from</span> torchvision.utils <span\
          \ class=\"hljs-keyword\">import</span> make_grid\n\ntorch.manual_seed(<span\
          \ class=\"hljs-number\">42</span>)\n\n<span class=\"hljs-comment\">#prompt\
          \ = \"a photograph of an astronaut riding a horse\"</span>\n<span class=\"\
          hljs-comment\">#prompt = \"a photograph of the eiffel tower on the moon\"\
          </span>\n<span class=\"hljs-comment\">#prompt = \"an oil painting of a futuristic\
          \ forest gives\"</span>\n\npipe = StableDiffusionPipeline.from_pretrained(<span\
          \ class=\"hljs-string\">\"CompVis/stable-diffusion-v1-3-diffusers\"</span>,\
          \ use_auth_token=<span class=\"hljs-literal\">True</span>)  <span class=\"\
          hljs-comment\"># make sure you're logged in with `huggingface-cli login`</span>\n\
          \nall_images = []\nnum_rows = <span class=\"hljs-number\">4</span>\nnum_columns\
          \ = <span class=\"hljs-number\">4</span>\n<span class=\"hljs-keyword\">for</span>\
          \ _ <span class=\"hljs-keyword\">in</span> <span class=\"hljs-built_in\"\
          >range</span>(num_rows):\n    <span class=\"hljs-keyword\">with</span> autocast(<span\
          \ class=\"hljs-string\">\"cuda\"</span>):\n        images = pipe(num_columns\
          \ * [prompt], guidance_scale=<span class=\"hljs-number\">7.5</span>, output_type=<span\
          \ class=\"hljs-string\">\"np\"</span>)[<span class=\"hljs-string\">\"sample\"\
          </span>]  <span class=\"hljs-comment\"># image here is in [PIL format](https://pillow.readthedocs.io/en/stable/)</span>\n\
          \        all_images.append(torch.from_numpy(images))\n\n<span class=\"hljs-comment\"\
          ># additionally, save as grid</span>\ngrid = torch.stack(all_images, <span\
          \ class=\"hljs-number\">0</span>)\ngrid = rearrange(grid, <span class=\"\
          hljs-string\">'n b h w c -&gt; (n b) h w c'</span>)\ngrid = rearrange(grid,\
          \ <span class=\"hljs-string\">'n h w c -&gt; n c h w'</span>)\ngrid = make_grid(grid,\
          \ nrow=num_rows)\n\n<span class=\"hljs-comment\"># to image</span>\ngrid\
          \ = <span class=\"hljs-number\">255.</span> * rearrange(grid, <span class=\"\
          hljs-string\">'c h w -&gt; h w c'</span>).cpu().numpy()\nimage = Image.fromarray(grid.astype(np.uint8))\n\
          \nimage.save(<span class=\"hljs-string\">f\"./images/diffusers/<span class=\"\
          hljs-subst\">{<span class=\"hljs-string\">'_'</span>.join(prompt.split())}</span>_<span\
          \ class=\"hljs-subst\">{<span class=\"hljs-built_in\">round</span>(time())}</span>.png\"\
          </span>)\n</code></pre>\n<p>gives</p>\n<p><em>\"a photograph of an astronaut\
          \ riding a horse\"</em>:<br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/1660559469205-5dfcb1aada6d0311fd3d5448.png\"\
          ><img alt=\"a_photograph_of_an_astronaut_riding_a_horse_1660558873 (1).png\"\
          \ src=\"https://cdn-uploads.huggingface.co/production/uploads/1660559469205-5dfcb1aada6d0311fd3d5448.png\"\
          ></a></p>\n<p><em>\"a photograph of the eiffel tower on the moon\"</em>:<br><a\
          \ rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/1660559484688-5dfcb1aada6d0311fd3d5448.png\"\
          ><img alt=\"a_photograph_of_the_eiffel_tower_on_the_moon_1660559024.png\"\
          \ src=\"https://cdn-uploads.huggingface.co/production/uploads/1660559484688-5dfcb1aada6d0311fd3d5448.png\"\
          ></a></p>\n<p><em>\"an oil painting of a futuristic forest gives\"</em>:<br><a\
          \ rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/1660559494755-5dfcb1aada6d0311fd3d5448.png\"\
          ><img alt=\"an_oil_painting_of_a_futuristic_forest_gives_1660559297.png\"\
          \ src=\"https://cdn-uploads.huggingface.co/production/uploads/1660559494755-5dfcb1aada6d0311fd3d5448.png\"\
          ></a></p>\n"
        raw: "Now running the following lines of code with  https://github.com/huggingface/diffusers:\n\
          \n```python\nfrom diffusers import StableDiffusionPipeline\nfrom time import\
          \ time\nfrom PIL import Image\nfrom einops import rearrange\nimport numpy\
          \ as np\nimport torch\nfrom torch import autocast\nfrom torchvision.utils\
          \ import make_grid\n\ntorch.manual_seed(42)\n\n#prompt = \"a photograph\
          \ of an astronaut riding a horse\"\n#prompt = \"a photograph of the eiffel\
          \ tower on the moon\"\n#prompt = \"an oil painting of a futuristic forest\
          \ gives\"\n\npipe = StableDiffusionPipeline.from_pretrained(\"CompVis/stable-diffusion-v1-3-diffusers\"\
          , use_auth_token=True)  # make sure you're logged in with `huggingface-cli\
          \ login`\n\nall_images = []\nnum_rows = 4\nnum_columns = 4\nfor _ in range(num_rows):\n\
          \    with autocast(\"cuda\"):\n        images = pipe(num_columns * [prompt],\
          \ guidance_scale=7.5, output_type=\"np\")[\"sample\"]  # image here is in\
          \ [PIL format](https://pillow.readthedocs.io/en/stable/)\n        all_images.append(torch.from_numpy(images))\n\
          \n# additionally, save as grid\ngrid = torch.stack(all_images, 0)\ngrid\
          \ = rearrange(grid, 'n b h w c -> (n b) h w c')\ngrid = rearrange(grid,\
          \ 'n h w c -> n c h w')\ngrid = make_grid(grid, nrow=num_rows)\n\n# to image\n\
          grid = 255. * rearrange(grid, 'c h w -> h w c').cpu().numpy()\nimage = Image.fromarray(grid.astype(np.uint8))\n\
          \nimage.save(f\"./images/diffusers/{'_'.join(prompt.split())}_{round(time())}.png\"\
          )\n```\n\ngives\n\n*\"a photograph of an astronaut riding a horse\"*:\n\
          ![a_photograph_of_an_astronaut_riding_a_horse_1660558873 (1).png](https://cdn-uploads.huggingface.co/production/uploads/1660559469205-5dfcb1aada6d0311fd3d5448.png)\n\
          \n*\"a photograph of the eiffel tower on the moon\"*:\n![a_photograph_of_the_eiffel_tower_on_the_moon_1660559024.png](https://cdn-uploads.huggingface.co/production/uploads/1660559484688-5dfcb1aada6d0311fd3d5448.png)\n\
          \n*\"an oil painting of a futuristic forest gives\"*:\n![an_oil_painting_of_a_futuristic_forest_gives_1660559297.png](https://cdn-uploads.huggingface.co/production/uploads/1660559494755-5dfcb1aada6d0311fd3d5448.png)\n"
        updatedAt: '2022-08-15T10:31:36.719Z'
      numEdits: 1
      reactions: []
    id: 62fa0fe415e8b4d65a3483df
    type: comment
  author: patrickvonplaten
  content: "Now running the following lines of code with  https://github.com/huggingface/diffusers:\n\
    \n```python\nfrom diffusers import StableDiffusionPipeline\nfrom time import time\n\
    from PIL import Image\nfrom einops import rearrange\nimport numpy as np\nimport\
    \ torch\nfrom torch import autocast\nfrom torchvision.utils import make_grid\n\
    \ntorch.manual_seed(42)\n\n#prompt = \"a photograph of an astronaut riding a horse\"\
    \n#prompt = \"a photograph of the eiffel tower on the moon\"\n#prompt = \"an oil\
    \ painting of a futuristic forest gives\"\n\npipe = StableDiffusionPipeline.from_pretrained(\"\
    CompVis/stable-diffusion-v1-3-diffusers\", use_auth_token=True)  # make sure you're\
    \ logged in with `huggingface-cli login`\n\nall_images = []\nnum_rows = 4\nnum_columns\
    \ = 4\nfor _ in range(num_rows):\n    with autocast(\"cuda\"):\n        images\
    \ = pipe(num_columns * [prompt], guidance_scale=7.5, output_type=\"np\")[\"sample\"\
    ]  # image here is in [PIL format](https://pillow.readthedocs.io/en/stable/)\n\
    \        all_images.append(torch.from_numpy(images))\n\n# additionally, save as\
    \ grid\ngrid = torch.stack(all_images, 0)\ngrid = rearrange(grid, 'n b h w c ->\
    \ (n b) h w c')\ngrid = rearrange(grid, 'n h w c -> n c h w')\ngrid = make_grid(grid,\
    \ nrow=num_rows)\n\n# to image\ngrid = 255. * rearrange(grid, 'c h w -> h w c').cpu().numpy()\n\
    image = Image.fromarray(grid.astype(np.uint8))\n\nimage.save(f\"./images/diffusers/{'_'.join(prompt.split())}_{round(time())}.png\"\
    )\n```\n\ngives\n\n*\"a photograph of an astronaut riding a horse\"*:\n![a_photograph_of_an_astronaut_riding_a_horse_1660558873\
    \ (1).png](https://cdn-uploads.huggingface.co/production/uploads/1660559469205-5dfcb1aada6d0311fd3d5448.png)\n\
    \n*\"a photograph of the eiffel tower on the moon\"*:\n![a_photograph_of_the_eiffel_tower_on_the_moon_1660559024.png](https://cdn-uploads.huggingface.co/production/uploads/1660559484688-5dfcb1aada6d0311fd3d5448.png)\n\
    \n*\"an oil painting of a futuristic forest gives\"*:\n![an_oil_painting_of_a_futuristic_forest_gives_1660559297.png](https://cdn-uploads.huggingface.co/production/uploads/1660559494755-5dfcb1aada6d0311fd3d5448.png)\n"
  created_at: 2022-08-15 08:20:36+00:00
  edited: true
  hidden: false
  id: 62fa0fe415e8b4d65a3483df
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-15T10:00:57.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2022-08-15T10:27:57.503Z'
      numEdits: 0
      reactions: []
    id: 62fa19590697d224219a4634
    type: comment
  author: patrickvonplaten
  content: This comment has been hidden
  created_at: 2022-08-15 09:00:57+00:00
  edited: true
  hidden: true
  id: 62fa19590697d224219a4634
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-15T10:11:19.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2022-08-15T10:28:01.116Z'
      numEdits: 0
      reactions: []
    id: 62fa1bc78cd542e895b64326
    type: comment
  author: patrickvonplaten
  content: This comment has been hidden
  created_at: 2022-08-15 09:11:19+00:00
  edited: true
  hidden: true
  id: 62fa1bc78cd542e895b64326
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-08-15T10:12:25.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2022-08-15T10:28:03.918Z'
      numEdits: 1
      reactions: []
    id: 62fa1c096f7644ad7c74a83c
    type: comment
  author: patrickvonplaten
  content: This comment has been hidden
  created_at: 2022-08-15 09:12:25+00:00
  edited: true
  hidden: true
  id: 62fa1c096f7644ad7c74a83c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
      fullname: Michael Theodore
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: terekita
      type: user
    createdAt: '2022-08-15T13:30:25.000Z'
    data:
      edited: false
      editors:
      - terekita
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
          fullname: Michael Theodore
          isHf: false
          isPro: false
          name: terekita
          type: user
        html: '<p>Thanks very much for looking into this! The oil painting grid from
          the diffusers code shows the clarity thing I''m talking about. Overall the
          images have sharper contrast, whereas some of the stable-diffusion repo
          images from the same prompt have a kind of washed out appearance (compare
          the very bottom right corner image from both sets, for example). It may
          be that I''m noticing this more because of the kinds of prompts I''m working
          with (which are exploring painting primarily).</p>

          '
        raw: Thanks very much for looking into this! The oil painting grid from the
          diffusers code shows the clarity thing I'm talking about. Overall the images
          have sharper contrast, whereas some of the stable-diffusion repo images
          from the same prompt have a kind of washed out appearance (compare the very
          bottom right corner image from both sets, for example). It may be that I'm
          noticing this more because of the kinds of prompts I'm working with (which
          are exploring painting primarily).
        updatedAt: '2022-08-15T13:30:25.862Z'
      numEdits: 0
      reactions: []
    id: 62fa4a71efd2de85492cf69a
    type: comment
  author: terekita
  content: Thanks very much for looking into this! The oil painting grid from the
    diffusers code shows the clarity thing I'm talking about. Overall the images have
    sharper contrast, whereas some of the stable-diffusion repo images from the same
    prompt have a kind of washed out appearance (compare the very bottom right corner
    image from both sets, for example). It may be that I'm noticing this more because
    of the kinds of prompts I'm working with (which are exploring painting primarily).
  created_at: 2022-08-15 12:30:25+00:00
  edited: false
  hidden: false
  id: 62fa4a71efd2de85492cf69a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2b9655e45d47f76bc51daa986c1d22bf.svg
      fullname: Andrea Grosso Ciponte
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: agc
      type: user
    createdAt: '2022-08-15T17:15:21.000Z'
    data:
      edited: false
      editors:
      - agc
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2b9655e45d47f76bc51daa986c1d22bf.svg
          fullname: Andrea Grosso Ciponte
          isHf: false
          isPro: false
          name: agc
          type: user
        html: '<p>It is difficult to determine if there are differences, the same
          seed between the two algorithms on the same hardware reports different results,
          furthermore by default Diffusers has 59 steps from what you see during processing,
          while txt2img.py 50 steps.</p>

          '
        raw: It is difficult to determine if there are differences, the same seed
          between the two algorithms on the same hardware reports different results,
          furthermore by default Diffusers has 59 steps from what you see during processing,
          while txt2img.py 50 steps.
        updatedAt: '2022-08-15T17:15:21.949Z'
      numEdits: 0
      reactions: []
    id: 62fa7f29d8a067d3b36b0c01
    type: comment
  author: agc
  content: It is difficult to determine if there are differences, the same seed between
    the two algorithms on the same hardware reports different results, furthermore
    by default Diffusers has 59 steps from what you see during processing, while txt2img.py
    50 steps.
  created_at: 2022-08-15 16:15:21+00:00
  edited: false
  hidden: false
  id: 62fa7f29d8a067d3b36b0c01
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
      fullname: Michael Theodore
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: terekita
      type: user
    createdAt: '2022-08-15T17:41:05.000Z'
    data:
      edited: false
      editors:
      - terekita
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0d61c4626ebd8d6dc75a3f87620364e0.svg
          fullname: Michael Theodore
          isHf: false
          isPro: false
          name: terekita
          type: user
        html: '<p>Agree that it''s hard to assess with the same seed returning different
          results. I was basing my comments on having generated thousands of images
          on the discord server and several hundred with the recently available weights.
          I could be wrong, but I''m pretty sure the difference in contrast in the
          two sets of images above is fairly representative of prompts involving painting.
          I try and compare running the same amount of steps...</p>

          '
        raw: Agree that it's hard to assess with the same seed returning different
          results. I was basing my comments on having generated thousands of images
          on the discord server and several hundred with the recently available weights.
          I could be wrong, but I'm pretty sure the difference in contrast in the
          two sets of images above is fairly representative of prompts involving painting.
          I try and compare running the same amount of steps...
        updatedAt: '2022-08-15T17:41:05.418Z'
      numEdits: 0
      reactions: []
    id: 62fa8531efd2de85492ee712
    type: comment
  author: terekita
  content: Agree that it's hard to assess with the same seed returning different results.
    I was basing my comments on having generated thousands of images on the discord
    server and several hundred with the recently available weights. I could be wrong,
    but I'm pretty sure the difference in contrast in the two sets of images above
    is fairly representative of prompts involving painting. I try and compare running
    the same amount of steps...
  created_at: 2022-08-15 16:41:05+00:00
  edited: false
  hidden: false
  id: 62fa8531efd2de85492ee712
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6c8bcf891a337169a3a439f4065df751.svg
      fullname: Greg Turk
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gturk1
      type: user
    createdAt: '2022-08-15T21:37:37.000Z'
    data:
      edited: false
      editors:
      - gturk1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6c8bcf891a337169a3a439f4065df751.svg
          fullname: Greg Turk
          isHf: false
          isPro: false
          name: gturk1
          type: user
        html: '<p>From the bot''s help listing, it looks like there are a bunch of
          different samplers that have been implemented:</p>

          <p>  SAMPLER  [k_lms] (ddim, plms, k_euler, k_euler_ancestral, k_heun, k_dpm_2,
          k_dpm_2_ancestral, k_lms)</p>

          <p>It seems that the code that the bot is using has been developed further
          than the public code that we are using.  Does anyone here know if we can
          get access to the bot''s sampler code?</p>

          '
        raw: "From the bot's help listing, it looks like there are a bunch of different\
          \ samplers that have been implemented:\n\n  SAMPLER  [k_lms] (ddim, plms,\
          \ k_euler, k_euler_ancestral, k_heun, k_dpm_2, k_dpm_2_ancestral, k_lms)\n\
          \nIt seems that the code that the bot is using has been developed further\
          \ than the public code that we are using.  Does anyone here know if we can\
          \ get access to the bot's sampler code?"
        updatedAt: '2022-08-15T21:37:37.906Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - deepakmangla
    id: 62fabca1d8a067d3b36d1584
    type: comment
  author: gturk1
  content: "From the bot's help listing, it looks like there are a bunch of different\
    \ samplers that have been implemented:\n\n  SAMPLER  [k_lms] (ddim, plms, k_euler,\
    \ k_euler_ancestral, k_heun, k_dpm_2, k_dpm_2_ancestral, k_lms)\n\nIt seems that\
    \ the code that the bot is using has been developed further than the public code\
    \ that we are using.  Does anyone here know if we can get access to the bot's\
    \ sampler code?"
  created_at: 2022-08-15 20:37:37+00:00
  edited: false
  hidden: false
  id: 62fabca1d8a067d3b36d1584
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: CompVis/stable-diffusion-v-1-3-original
repo_type: model
status: open
target_branch: null
title: K_lms sampler integration
