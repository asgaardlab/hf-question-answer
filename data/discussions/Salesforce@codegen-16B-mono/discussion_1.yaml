!!python/object:huggingface_hub.community.DiscussionWithDetails
author: simonedisomma
conflicting_files: null
created_at: 2022-06-24 11:23:04+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1656090331963-5f588b423f32f12a3c069340.jpeg?w=200&h=200&f=face
      fullname: Simone Di Somma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: simonedisomma
      type: user
    createdAt: '2022-06-24T12:23:04.000Z'
    data:
      edited: false
      editors:
      - simonedisomma
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1656090331963-5f588b423f32f12a3c069340.jpeg?w=200&h=200&f=face
          fullname: Simone Di Somma
          isHf: false
          isPro: false
          name: simonedisomma
          type: user
        html: "<p>Hey,</p>\n<p>Using <strong>Colab</strong>, I'm trying to run the\
          \ snippet found in the <strong>How to use</strong> model card section:</p>\n\
          <pre><code class=\"language-from\">tokenizer = AutoTokenizer.from_pretrained('Salesforce/codegen-16B-mono')\n\
          model = AutoModelForCausalLM.from_pretrained('Salesforce/codegen-16B-mono')\n\
          \ntext = \"def hello_world():\"\ninput_ids = tokenizer(text, return_tensors=\"\
          pt\").input_ids\n\ngenerated_ids = model.generate(input_ids, max_length=128)\n\
          print(tokenizer.decode(generated_ids[0], skip_special_tokens=True))\n</code></pre>\n\
          <p>But I get the following error:</p>\n<pre><code>---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          &lt;ipython-input-5-cf1f68aee96f&gt; in &lt;module&gt;()\n----&gt; 1 model\
          \ = AutoModelForCausalLM.from_pretrained('Salesforce/codegen-16B-mono')\n\
          \      2 \n      3 text = \"def hello_world():\"\n      4 input_ids = tokenizer(text,\
          \ return_tensors=\"pt\").input_ids\n      5 \n\n2 frames\n/usr/local/lib/python3.7/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\n    430             return self._extra_content[key]\n\
          \    431         if key not in self._mapping:\n--&gt; 432             raise\
          \ KeyError(key)\n    433         value = self._mapping[key]\n    434   \
          \      module_name = model_type_to_module_name(key)\n\nKeyError: 'codegen'\n\
          </code></pre>\n<p>Note: I'm using transformers==4.20.1. </p>\n<p>Thanks\
          \ for the support</p>\n"
        raw: "Hey,\r\n\r\nUsing **Colab**, I'm trying to run the snippet found in\
          \ the **How to use** model card section:\r\n\r\n```from transformers import\
          \ AutoTokenizer, AutoModelForCausalLM\r\ntokenizer = AutoTokenizer.from_pretrained('Salesforce/codegen-16B-mono')\r\
          \nmodel = AutoModelForCausalLM.from_pretrained('Salesforce/codegen-16B-mono')\r\
          \n\r\ntext = \"def hello_world():\"\r\ninput_ids = tokenizer(text, return_tensors=\"\
          pt\").input_ids\r\n\r\ngenerated_ids = model.generate(input_ids, max_length=128)\r\
          \nprint(tokenizer.decode(generated_ids[0], skip_special_tokens=True))\r\n\
          ```\r\n\r\nBut I get the following error:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\
          \nKeyError                                  Traceback (most recent call\
          \ last)\r\n<ipython-input-5-cf1f68aee96f> in <module>()\r\n----> 1 model\
          \ = AutoModelForCausalLM.from_pretrained('Salesforce/codegen-16B-mono')\r\
          \n      2 \r\n      3 text = \"def hello_world():\"\r\n      4 input_ids\
          \ = tokenizer(text, return_tensors=\"pt\").input_ids\r\n      5 \r\n\r\n\
          2 frames\r\n/usr/local/lib/python3.7/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\r\n    430             return self._extra_content[key]\r\
          \n    431         if key not in self._mapping:\r\n--> 432             raise\
          \ KeyError(key)\r\n    433         value = self._mapping[key]\r\n    434\
          \         module_name = model_type_to_module_name(key)\r\n\r\nKeyError:\
          \ 'codegen'\r\n```\r\n\r\nNote: I'm using transformers==4.20.1. \r\n\r\n\
          Thanks for the support"
        updatedAt: '2022-06-24T12:23:04.481Z'
      numEdits: 0
      reactions: []
    id: 62b5aca85383da04f57a1190
    type: comment
  author: simonedisomma
  content: "Hey,\r\n\r\nUsing **Colab**, I'm trying to run the snippet found in the\
    \ **How to use** model card section:\r\n\r\n```from transformers import AutoTokenizer,\
    \ AutoModelForCausalLM\r\ntokenizer = AutoTokenizer.from_pretrained('Salesforce/codegen-16B-mono')\r\
    \nmodel = AutoModelForCausalLM.from_pretrained('Salesforce/codegen-16B-mono')\r\
    \n\r\ntext = \"def hello_world():\"\r\ninput_ids = tokenizer(text, return_tensors=\"\
    pt\").input_ids\r\n\r\ngenerated_ids = model.generate(input_ids, max_length=128)\r\
    \nprint(tokenizer.decode(generated_ids[0], skip_special_tokens=True))\r\n```\r\
    \n\r\nBut I get the following error:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\
    \nKeyError                                  Traceback (most recent call last)\r\
    \n<ipython-input-5-cf1f68aee96f> in <module>()\r\n----> 1 model = AutoModelForCausalLM.from_pretrained('Salesforce/codegen-16B-mono')\r\
    \n      2 \r\n      3 text = \"def hello_world():\"\r\n      4 input_ids = tokenizer(text,\
    \ return_tensors=\"pt\").input_ids\r\n      5 \r\n\r\n2 frames\r\n/usr/local/lib/python3.7/dist-packages/transformers/models/auto/configuration_auto.py\
    \ in __getitem__(self, key)\r\n    430             return self._extra_content[key]\r\
    \n    431         if key not in self._mapping:\r\n--> 432             raise KeyError(key)\r\
    \n    433         value = self._mapping[key]\r\n    434         module_name =\
    \ model_type_to_module_name(key)\r\n\r\nKeyError: 'codegen'\r\n```\r\n\r\nNote:\
    \ I'm using transformers==4.20.1. \r\n\r\nThanks for the support"
  created_at: 2022-06-24 11:23:04+00:00
  edited: false
  hidden: false
  id: 62b5aca85383da04f57a1190
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648750941188-619aa4e2198a95c9b962252e.jpeg?w=200&h=200&f=face
      fullname: Hiroaki Hayashi
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: rooa
      type: user
    createdAt: '2022-06-24T16:32:52.000Z'
    data:
      edited: false
      editors:
      - rooa
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648750941188-619aa4e2198a95c9b962252e.jpeg?w=200&h=200&f=face
          fullname: Hiroaki Hayashi
          isHf: false
          isPro: false
          name: rooa
          type: user
        html: '<p>Hi! That was because the CodeGen model class had not been merged
          yet when you tried. It has just been merged into the main branch.<br>Could
          you install from the current main branch instead of <code>4.20.1</code>
          and try again? </p>

          <p>Thanks.</p>

          '
        raw: "Hi! That was because the CodeGen model class had not been merged yet\
          \ when you tried. It has just been merged into the main branch.\nCould you\
          \ install from the current main branch instead of `4.20.1` and try again?\
          \ \n\nThanks."
        updatedAt: '2022-06-24T16:32:52.252Z'
      numEdits: 0
      reactions: []
    id: 62b5e7344c844561d0bce4d0
    type: comment
  author: rooa
  content: "Hi! That was because the CodeGen model class had not been merged yet when\
    \ you tried. It has just been merged into the main branch.\nCould you install\
    \ from the current main branch instead of `4.20.1` and try again? \n\nThanks."
  created_at: 2022-06-24 15:32:52+00:00
  edited: false
  hidden: false
  id: 62b5e7344c844561d0bce4d0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1656090331963-5f588b423f32f12a3c069340.jpeg?w=200&h=200&f=face
      fullname: Simone Di Somma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: simonedisomma
      type: user
    createdAt: '2022-06-24T17:05:09.000Z'
    data:
      edited: false
      editors:
      - simonedisomma
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1656090331963-5f588b423f32f12a3c069340.jpeg?w=200&h=200&f=face
          fullname: Simone Di Somma
          isHf: false
          isPro: false
          name: simonedisomma
          type: user
        html: "<blockquote>\n<p>Hi! That was because the CodeGen model class had not\
          \ been merged yet when you tried. It has just been merged into the main\
          \ branch.<br>Could you install from the current main branch instead of <code>4.20.1</code>\
          \ and try again? </p>\n<p>Thanks.</p>\n</blockquote>\n<p>Hey <span data-props=\"\
          {&quot;user&quot;:&quot;rooa&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/rooa\">@<span class=\"underline\">rooa</span></a></span>\n\
          \n\t</span></span>,</p>\n<p>thanks for the support: that works! </p>\n<p>Great\
          \ work BTW</p>\n<ul>\n<li>Simone</li>\n</ul>\n"
        raw: "> Hi! That was because the CodeGen model class had not been merged yet\
          \ when you tried. It has just been merged into the main branch.\n> Could\
          \ you install from the current main branch instead of `4.20.1` and try again?\
          \ \n> \n> Thanks.\n\nHey @rooa,\n\nthanks for the support: that works! \n\
          \nGreat work BTW\n- Simone"
        updatedAt: '2022-06-24T17:05:09.438Z'
      numEdits: 0
      reactions: []
    id: 62b5eec5450eb2511e6f6124
    type: comment
  author: simonedisomma
  content: "> Hi! That was because the CodeGen model class had not been merged yet\
    \ when you tried. It has just been merged into the main branch.\n> Could you install\
    \ from the current main branch instead of `4.20.1` and try again? \n> \n> Thanks.\n\
    \nHey @rooa,\n\nthanks for the support: that works! \n\nGreat work BTW\n- Simone"
  created_at: 2022-06-24 16:05:09+00:00
  edited: false
  hidden: false
  id: 62b5eec5450eb2511e6f6124
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648750941188-619aa4e2198a95c9b962252e.jpeg?w=200&h=200&f=face
      fullname: Hiroaki Hayashi
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: rooa
      type: user
    createdAt: '2022-10-04T21:46:21.000Z'
    data:
      status: closed
    id: 633ca9ad31c06121a5955a07
    type: status-change
  author: rooa
  created_at: 2022-10-04 20:46:21+00:00
  id: 633ca9ad31c06121a5955a07
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: Salesforce/codegen-16B-mono
repo_type: model
status: closed
target_branch: null
title: Error executing the "How to use" snippet in Colab
