!!python/object:huggingface_hub.community.DiscussionWithDetails
author: MariaM07
conflicting_files: null
created_at: 2023-04-04 11:35:23+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/204d567cc059d792d6d2e0d70f6ab864.svg
      fullname: "Mar\xEDa Guedes N\xFA\xF1ez"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MariaM07
      type: user
    createdAt: '2023-04-04T12:35:23.000Z'
    data:
      edited: false
      editors:
      - MariaM07
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/204d567cc059d792d6d2e0d70f6ab864.svg
          fullname: "Mar\xEDa Guedes N\xFA\xF1ez"
          isHf: false
          isPro: false
          name: MariaM07
          type: user
        html: '<p>Hi! </p>

          <p>I''m on Windows, when I tried to run it on GPU I got the error: "CUDA
          out of memory" (GPU memory = 18 GB). </p>

          <p>I tried running on CPU doing:</p>

          <p>device = "cpu"<br>input_ids = input_ids.to(device)<br>model = model.to(device)</p>

          <p>Then I get the error: Exception has occurred: NotImplementedError<br>Cannot
          copy out of meta tensor; no data!<br>  File "C:\generate_alpaca7B_cpu.py",
          line 54, in <br>    model = model.to(device)<br>NotImplementedError: Cannot
          copy out of meta tensor; no data!</p>

          <p>Any solution, please?</p>

          '
        raw: "Hi! \r\n\r\nI'm on Windows, when I tried to run it on GPU I got the\
          \ error: \"CUDA out of memory\" (GPU memory = 18 GB). \r\n\r\nI tried running\
          \ on CPU doing:\r\n\r\ndevice = \"cpu\"\r\ninput_ids = input_ids.to(device)\r\
          \nmodel = model.to(device)\r\n\r\nThen I get the error: Exception has occurred:\
          \ NotImplementedError\r\nCannot copy out of meta tensor; no data!\r\n  File\
          \ \"C:\\generate_alpaca7B_cpu.py\", line 54, in <module>\r\n    model =\
          \ model.to(device)\r\nNotImplementedError: Cannot copy out of meta tensor;\
          \ no data!\r\n\r\nAny solution, please?"
        updatedAt: '2023-04-04T12:35:23.893Z'
      numEdits: 0
      reactions: []
    id: 642c198bc01eb0e1480046b1
    type: comment
  author: MariaM07
  content: "Hi! \r\n\r\nI'm on Windows, when I tried to run it on GPU I got the error:\
    \ \"CUDA out of memory\" (GPU memory = 18 GB). \r\n\r\nI tried running on CPU\
    \ doing:\r\n\r\ndevice = \"cpu\"\r\ninput_ids = input_ids.to(device)\r\nmodel\
    \ = model.to(device)\r\n\r\nThen I get the error: Exception has occurred: NotImplementedError\r\
    \nCannot copy out of meta tensor; no data!\r\n  File \"C:\\generate_alpaca7B_cpu.py\"\
    , line 54, in <module>\r\n    model = model.to(device)\r\nNotImplementedError:\
    \ Cannot copy out of meta tensor; no data!\r\n\r\nAny solution, please?"
  created_at: 2023-04-04 11:35:23+00:00
  edited: false
  hidden: false
  id: 642c198bc01eb0e1480046b1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675273618630-6162dbe0d928851b47350ae2.jpeg?w=200&h=200&f=face
      fullname: Thomas Chaigneau
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: chainyo
      type: user
    createdAt: '2023-04-04T12:44:16.000Z'
    data:
      edited: false
      editors:
      - chainyo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675273618630-6162dbe0d928851b47350ae2.jpeg?w=200&h=200&f=face
          fullname: Thomas Chaigneau
          isHf: false
          isPro: false
          name: chainyo
          type: user
        html: '<p>Are you using WSL2 on Windows?</p>

          '
        raw: Are you using WSL2 on Windows?
        updatedAt: '2023-04-04T12:44:16.955Z'
      numEdits: 0
      reactions: []
    id: 642c1ba0a7077dddc3407482
    type: comment
  author: chainyo
  content: Are you using WSL2 on Windows?
  created_at: 2023-04-04 11:44:16+00:00
  edited: false
  hidden: false
  id: 642c1ba0a7077dddc3407482
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/204d567cc059d792d6d2e0d70f6ab864.svg
      fullname: "Mar\xEDa Guedes N\xFA\xF1ez"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MariaM07
      type: user
    createdAt: '2023-04-05T06:57:28.000Z'
    data:
      edited: false
      editors:
      - MariaM07
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/204d567cc059d792d6d2e0d70f6ab864.svg
          fullname: "Mar\xEDa Guedes N\xFA\xF1ez"
          isHf: false
          isPro: false
          name: MariaM07
          type: user
        html: '<p>I''m not using it, I''ll try it, thanks!</p>

          '
        raw: I'm not using it, I'll try it, thanks!
        updatedAt: '2023-04-05T06:57:28.288Z'
      numEdits: 0
      reactions: []
    id: 642d1bd878f66d87767ca8d1
    type: comment
  author: MariaM07
  content: I'm not using it, I'll try it, thanks!
  created_at: 2023-04-05 05:57:28+00:00
  edited: false
  hidden: false
  id: 642d1bd878f66d87767ca8d1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675273618630-6162dbe0d928851b47350ae2.jpeg?w=200&h=200&f=face
      fullname: Thomas Chaigneau
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: chainyo
      type: user
    createdAt: '2023-04-20T09:05:23.000Z'
    data:
      edited: false
      editors:
      - chainyo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675273618630-6162dbe0d928851b47350ae2.jpeg?w=200&h=200&f=face
          fullname: Thomas Chaigneau
          isHf: false
          isPro: false
          name: chainyo
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;MariaM07&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/MariaM07\"\
          >@<span class=\"underline\">MariaM07</span></a></span>\n\n\t</span></span>,\
          \ did you solve your issue running this model on Windows?</p>\n"
        raw: Hi @MariaM07, did you solve your issue running this model on Windows?
        updatedAt: '2023-04-20T09:05:23.601Z'
      numEdits: 0
      reactions: []
    id: 64410053006550f1ed647bad
    type: comment
  author: chainyo
  content: Hi @MariaM07, did you solve your issue running this model on Windows?
  created_at: 2023-04-20 08:05:23+00:00
  edited: false
  hidden: false
  id: 64410053006550f1ed647bad
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/204d567cc059d792d6d2e0d70f6ab864.svg
      fullname: "Mar\xEDa Guedes N\xFA\xF1ez"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MariaM07
      type: user
    createdAt: '2023-04-21T10:59:50.000Z'
    data:
      edited: false
      editors:
      - MariaM07
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/204d567cc059d792d6d2e0d70f6ab864.svg
          fullname: "Mar\xEDa Guedes N\xFA\xF1ez"
          isHf: false
          isPro: false
          name: MariaM07
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;chainyo&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/chainyo\">@<span class=\"\
          underline\">chainyo</span></a></span>\n\n\t</span></span>, I couldn't run\
          \ it on Windows because I had problemsn with the bitsandbytes library. I\
          \ think I don't have GPU memory anyway, actually I have 6GB memory GPU.</p>\n"
        raw: Hi @chainyo, I couldn't run it on Windows because I had problemsn with
          the bitsandbytes library. I think I don't have GPU memory anyway, actually
          I have 6GB memory GPU.
        updatedAt: '2023-04-21T10:59:50.651Z'
      numEdits: 0
      reactions: []
    id: 64426ca63e00705a4b8aeb37
    type: comment
  author: MariaM07
  content: Hi @chainyo, I couldn't run it on Windows because I had problemsn with
    the bitsandbytes library. I think I don't have GPU memory anyway, actually I have
    6GB memory GPU.
  created_at: 2023-04-21 09:59:50+00:00
  edited: false
  hidden: false
  id: 64426ca63e00705a4b8aeb37
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675273618630-6162dbe0d928851b47350ae2.jpeg?w=200&h=200&f=face
      fullname: Thomas Chaigneau
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: chainyo
      type: user
    createdAt: '2023-04-21T11:46:32.000Z'
    data:
      edited: false
      editors:
      - chainyo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675273618630-6162dbe0d928851b47350ae2.jpeg?w=200&h=200&f=face
          fullname: Thomas Chaigneau
          isHf: false
          isPro: false
          name: chainyo
          type: user
        html: '<p>Ok, I understand, Windows is not so great to experiment with <code>bitsandbytes</code>
          and GPU in general (outside gaming). But you should be able to run it on
          CPU without <code>bitsandbytes</code> if at least you have enough RAM.</p>

          '
        raw: Ok, I understand, Windows is not so great to experiment with `bitsandbytes`
          and GPU in general (outside gaming). But you should be able to run it on
          CPU without `bitsandbytes` if at least you have enough RAM.
        updatedAt: '2023-04-21T11:46:32.276Z'
      numEdits: 0
      reactions: []
    id: 644277983e00705a4b8c57eb
    type: comment
  author: chainyo
  content: Ok, I understand, Windows is not so great to experiment with `bitsandbytes`
    and GPU in general (outside gaming). But you should be able to run it on CPU without
    `bitsandbytes` if at least you have enough RAM.
  created_at: 2023-04-21 10:46:32+00:00
  edited: false
  hidden: false
  id: 644277983e00705a4b8c57eb
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: chainyo/alpaca-lora-7b
repo_type: model
status: open
target_branch: null
title: How to run on CPU?
