!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jdjayakaran
conflicting_files: null
created_at: 2024-01-16 10:28:04+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
      fullname: Jennifer Deborah Jayakaran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdjayakaran
      type: user
    createdAt: '2024-01-16T10:28:04.000Z'
    data:
      edited: false
      editors:
      - jdjayakaran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.278606653213501
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
          fullname: Jennifer Deborah Jayakaran
          isHf: false
          isPro: false
          name: jdjayakaran
          type: user
        html: '<p>When I try to use the model, i get keyerror : mixtral</p>

          <p>File /opt/conda/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:748,
          in _LazyConfigMapping.<strong>getitem</strong>(self, key)<br>    746     return
          self._extra_content[key]<br>    747 if key not in self._mapping:<br>--&gt;
          748     raise KeyError(key)<br>    749 value = self._mapping[key]<br>    750
          module_name = model_type_to_module_name(key)</p>

          <p>KeyError: ''mixtral''</p>

          '
        raw: "When I try to use the model, i get keyerror : mixtral\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:748,\
          \ in _LazyConfigMapping.__getitem__(self, key)\r\n    746     return self._extra_content[key]\r\
          \n    747 if key not in self._mapping:\r\n--> 748     raise KeyError(key)\r\
          \n    749 value = self._mapping[key]\r\n    750 module_name = model_type_to_module_name(key)\r\
          \n\r\nKeyError: 'mixtral'"
        updatedAt: '2024-01-16T10:28:04.074Z'
      numEdits: 0
      reactions: []
    id: 65a65a340de9f7c867554f47
    type: comment
  author: jdjayakaran
  content: "When I try to use the model, i get keyerror : mixtral\r\n\r\nFile /opt/conda/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:748,\
    \ in _LazyConfigMapping.__getitem__(self, key)\r\n    746     return self._extra_content[key]\r\
    \n    747 if key not in self._mapping:\r\n--> 748     raise KeyError(key)\r\n\
    \    749 value = self._mapping[key]\r\n    750 module_name = model_type_to_module_name(key)\r\
    \n\r\nKeyError: 'mixtral'"
  created_at: 2024-01-16 10:28:04+00:00
  edited: false
  hidden: false
  id: 65a65a340de9f7c867554f47
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
      fullname: Jennifer Deborah Jayakaran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdjayakaran
      type: user
    createdAt: '2024-01-16T10:30:06.000Z'
    data:
      edited: false
      editors:
      - jdjayakaran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7819011211395264
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
          fullname: Jennifer Deborah Jayakaran
          isHf: false
          isPro: false
          name: jdjayakaran
          type: user
        html: '<p>Successfully installed huggingface-hub-0.20.2 tokenizers-0.15.0
          transformers-4.36.2</p>

          '
        raw: Successfully installed huggingface-hub-0.20.2 tokenizers-0.15.0 transformers-4.36.2
        updatedAt: '2024-01-16T10:30:06.112Z'
      numEdits: 0
      reactions: []
    id: 65a65aae22c723f80089c251
    type: comment
  author: jdjayakaran
  content: Successfully installed huggingface-hub-0.20.2 tokenizers-0.15.0 transformers-4.36.2
  created_at: 2024-01-16 10:30:06+00:00
  edited: false
  hidden: false
  id: 65a65aae22c723f80089c251
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64161701107962562e9b1006/HM8Je8C8ie1aCpdse4SUY.png?w=200&h=200&f=face
      fullname: Forever
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: GreyForever
      type: user
    createdAt: '2024-01-16T10:33:51.000Z'
    data:
      edited: false
      editors:
      - GreyForever
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8590699434280396
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64161701107962562e9b1006/HM8Je8C8ie1aCpdse4SUY.png?w=200&h=200&f=face
          fullname: Forever
          isHf: false
          isPro: false
          name: GreyForever
          type: user
        html: '<p>Could you give us the code?</p>

          '
        raw: Could you give us the code?
        updatedAt: '2024-01-16T10:33:51.268Z'
      numEdits: 0
      reactions: []
    id: 65a65b8f293f73160d98e3ca
    type: comment
  author: GreyForever
  content: Could you give us the code?
  created_at: 2024-01-16 10:33:51+00:00
  edited: false
  hidden: false
  id: 65a65b8f293f73160d98e3ca
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
      fullname: Jennifer Deborah Jayakaran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdjayakaran
      type: user
    createdAt: '2024-01-16T10:39:01.000Z'
    data:
      edited: false
      editors:
      - jdjayakaran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4510502517223358
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
          fullname: Jennifer Deborah Jayakaran
          isHf: false
          isPro: false
          name: jdjayakaran
          type: user
        html: '<p>Just running the instructions as given i get the error. I also tried
          the 4 bit quantization</p>

          <p>import torch<br>from transformers import AutoModelForCausalLM, AutoTokenizer</p>

          <p>model_id = "mistralai/Mixtral-8x7B-Instruct-v0.1"<br>tokenizer = AutoTokenizer.from_pretrained(model_id)</p>

          <p>model = AutoModelForCausalLM.from_pretrained(model_id, torch_dtype=torch.float16).to(0)</p>

          <p>text = "Hello my name is"<br>inputs = tokenizer(text, return_tensors="pt").to(0)</p>

          <p>outputs = model.generate(**inputs, max_new_tokens=20)<br>print(tokenizer.decode(outputs[0],
          skip_special_tokens=True))</p>

          '
        raw: 'Just running the instructions as given i get the error. I also tried
          the 4 bit quantization


          import torch

          from transformers import AutoModelForCausalLM, AutoTokenizer


          model_id = "mistralai/Mixtral-8x7B-Instruct-v0.1"

          tokenizer = AutoTokenizer.from_pretrained(model_id)


          model = AutoModelForCausalLM.from_pretrained(model_id, torch_dtype=torch.float16).to(0)


          text = "Hello my name is"

          inputs = tokenizer(text, return_tensors="pt").to(0)


          outputs = model.generate(**inputs, max_new_tokens=20)

          print(tokenizer.decode(outputs[0], skip_special_tokens=True))

          '
        updatedAt: '2024-01-16T10:39:01.845Z'
      numEdits: 0
      reactions: []
    id: 65a65cc5d6e5c1ed6c0e1338
    type: comment
  author: jdjayakaran
  content: 'Just running the instructions as given i get the error. I also tried the
    4 bit quantization


    import torch

    from transformers import AutoModelForCausalLM, AutoTokenizer


    model_id = "mistralai/Mixtral-8x7B-Instruct-v0.1"

    tokenizer = AutoTokenizer.from_pretrained(model_id)


    model = AutoModelForCausalLM.from_pretrained(model_id, torch_dtype=torch.float16).to(0)


    text = "Hello my name is"

    inputs = tokenizer(text, return_tensors="pt").to(0)


    outputs = model.generate(**inputs, max_new_tokens=20)

    print(tokenizer.decode(outputs[0], skip_special_tokens=True))

    '
  created_at: 2024-01-16 10:39:01+00:00
  edited: false
  hidden: false
  id: 65a65cc5d6e5c1ed6c0e1338
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64161701107962562e9b1006/HM8Je8C8ie1aCpdse4SUY.png?w=200&h=200&f=face
      fullname: Forever
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: GreyForever
      type: user
    createdAt: '2024-01-16T10:42:50.000Z'
    data:
      edited: false
      editors:
      - GreyForever
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8792870044708252
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64161701107962562e9b1006/HM8Je8C8ie1aCpdse4SUY.png?w=200&h=200&f=face
          fullname: Forever
          isHf: false
          isPro: false
          name: GreyForever
          type: user
        html: '<p>Usually this is caused by the transformers not being updated, if
          you installed the recent version then reload the kernel if you are using
          Jupyter or some kind of Notebook (Restart)</p>

          '
        raw: Usually this is caused by the transformers not being updated, if you
          installed the recent version then reload the kernel if you are using Jupyter
          or some kind of Notebook (Restart)
        updatedAt: '2024-01-16T10:42:50.811Z'
      numEdits: 0
      reactions: []
    id: 65a65daa3bb0e70b415e3aee
    type: comment
  author: GreyForever
  content: Usually this is caused by the transformers not being updated, if you installed
    the recent version then reload the kernel if you are using Jupyter or some kind
    of Notebook (Restart)
  created_at: 2024-01-16 10:42:50+00:00
  edited: false
  hidden: false
  id: 65a65daa3bb0e70b415e3aee
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
      fullname: Jennifer Deborah Jayakaran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdjayakaran
      type: user
    createdAt: '2024-01-16T10:46:53.000Z'
    data:
      edited: false
      editors:
      - jdjayakaran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9040853381156921
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
          fullname: Jennifer Deborah Jayakaran
          isHf: false
          isPro: false
          name: jdjayakaran
          type: user
        html: '<p>Perfect.. will try </p>

          <p>Thanks for the immediate response</p>

          '
        raw: "Perfect.. will try \n\nThanks for the immediate response"
        updatedAt: '2024-01-16T10:46:53.895Z'
      numEdits: 0
      reactions: []
    id: 65a65e9d3d3c839408b16a9b
    type: comment
  author: jdjayakaran
  content: "Perfect.. will try \n\nThanks for the immediate response"
  created_at: 2024-01-16 10:46:53+00:00
  edited: false
  hidden: false
  id: 65a65e9d3d3c839408b16a9b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64161701107962562e9b1006/HM8Je8C8ie1aCpdse4SUY.png?w=200&h=200&f=face
      fullname: Forever
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: GreyForever
      type: user
    createdAt: '2024-01-16T10:47:30.000Z'
    data:
      edited: false
      editors:
      - GreyForever
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9573104381561279
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64161701107962562e9b1006/HM8Je8C8ie1aCpdse4SUY.png?w=200&h=200&f=face
          fullname: Forever
          isHf: false
          isPro: false
          name: GreyForever
          type: user
        html: '<p>Just trying to help people out ! ;)</p>

          '
        raw: Just trying to help people out ! ;)
        updatedAt: '2024-01-16T10:47:30.593Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - jdjayakaran
    id: 65a65ec2ac187809131b2e22
    type: comment
  author: GreyForever
  content: Just trying to help people out ! ;)
  created_at: 2024-01-16 10:47:30+00:00
  edited: false
  hidden: false
  id: 65a65ec2ac187809131b2e22
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 96
repo_id: mistralai/Mixtral-8x7B-Instruct-v0.1
repo_type: model
status: open
target_branch: null
title: 'Key Error : Mixtral'
