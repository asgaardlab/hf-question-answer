!!python/object:huggingface_hub.community.DiscussionWithDetails
author: patrickvonplaten
conflicting_files: []
created_at: 2023-08-23 06:21:22+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2023-08-23T07:21:22.000Z'
    data:
      edited: true
      editors:
      - patrickvonplaten
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.11044929921627045
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: "<p>Hey runwayml \U0001F44B,</p>\n<p>Your model repository seems to\
          \ contain a non-ema branch to load the unet non-ema checkpoint. Loading\
          \ non-ema versions from a branch instead of the main branch is deprecated\
          \ and will eventually be forbidden. Instead, we strongly recommend to save\
          \ non-ema versions of the model under .non-ema. version files directly on\
          \ the 'main' branch as enabled through this PR.This PR makes sure that your\
          \ model repository allows the user to correctly download non-ema unet model\
          \ weights by adding non-ema unet model weights in both safetensors and PyTorch\
          \ bin format:</p>\n<p>pipe = DiffusionPipeline.from_pretrained('runwayml/stable-diffusion-v1-5',\
          \ torch_dtype=torch.float16, variant='non_ema')</p>\n<p>For more information\
          \ please have a look at: <a href=\"https://huggingface.co/docs/diffusers/using-diffusers/loading#checkpoint-variants\"\
          >https://huggingface.co/docs/diffusers/using-diffusers/loading#checkpoint-variants</a>.<br>We\
          \ made sure you that you can safely merge this pull request.</p>\n<p>Best,\
          \ the \U0001F9E8 Diffusers team. </p>\n"
        raw: "Hey runwayml \U0001F44B,\n\nYour model repository seems to contain a\
          \ non-ema branch to load the unet non-ema checkpoint. Loading non-ema versions\
          \ from a branch instead of the main branch is deprecated and will eventually\
          \ be forbidden. Instead, we strongly recommend to save non-ema versions\
          \ of the model under .non-ema. version files directly on the 'main' branch\
          \ as enabled through this PR.This PR makes sure that your model repository\
          \ allows the user to correctly download non-ema unet model weights by adding\
          \ non-ema unet model weights in both safetensors and PyTorch bin format:\n\
          \npipe = DiffusionPipeline.from_pretrained('runwayml/stable-diffusion-v1-5',\
          \ torch_dtype=torch.float16, variant='non_ema')\n\nFor more information\
          \ please have a look at: https://huggingface.co/docs/diffusers/using-diffusers/loading#checkpoint-variants.\n\
          We made sure you that you can safely merge this pull request.\n\nBest, the\
          \ \U0001F9E8 Diffusers team. "
        updatedAt: '2023-08-23T20:45:00.076Z'
      numEdits: 2
      reactions: []
    id: 64e5b372bb843c94d1ab1f3a
    type: comment
  author: patrickvonplaten
  content: "Hey runwayml \U0001F44B,\n\nYour model repository seems to contain a non-ema\
    \ branch to load the unet non-ema checkpoint. Loading non-ema versions from a\
    \ branch instead of the main branch is deprecated and will eventually be forbidden.\
    \ Instead, we strongly recommend to save non-ema versions of the model under .non-ema.\
    \ version files directly on the 'main' branch as enabled through this PR.This\
    \ PR makes sure that your model repository allows the user to correctly download\
    \ non-ema unet model weights by adding non-ema unet model weights in both safetensors\
    \ and PyTorch bin format:\n\npipe = DiffusionPipeline.from_pretrained('runwayml/stable-diffusion-v1-5',\
    \ torch_dtype=torch.float16, variant='non_ema')\n\nFor more information please\
    \ have a look at: https://huggingface.co/docs/diffusers/using-diffusers/loading#checkpoint-variants.\n\
    We made sure you that you can safely merge this pull request.\n\nBest, the \U0001F9E8\
    \ Diffusers team. "
  created_at: 2023-08-23 06:21:22+00:00
  edited: true
  hidden: false
  id: 64e5b372bb843c94d1ab1f3a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2023-08-23T07:23:40.000Z'
    data:
      oid: 9fb5e707062d50a7ef1418ff565028d3523c536a
      parents:
      - c9ab35ff5f2c362e9e22fbafe278077e196057f0
      subject: add non_ema
    id: 64e5b3fc0000000000000000
    type: commit
  author: patrickvonplaten
  created_at: 2023-08-23 06:23:40+00:00
  id: 64e5b3fc0000000000000000
  oid: 9fb5e707062d50a7ef1418ff565028d3523c536a
  summary: add non_ema
  type: commit
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2023-08-23T20:43:09.000Z'
    data:
      status: open
    id: 64e66f5d979417f0db4175d2
    type: status-change
  author: patrickvonplaten
  created_at: 2023-08-23 19:43:09+00:00
  id: 64e66f5d979417f0db4175d2
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665970727874-634cb15a4abe8405758d2e7e.jpeg?w=200&h=200&f=face
      fullname: Anastasis Germanidis
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: agermanidis
      type: user
    createdAt: '2023-08-23T21:14:19.000Z'
    data:
      status: merged
    id: 64e676abfdb841380279bcec
    type: status-change
  author: agermanidis
  created_at: 2023-08-23 20:14:19+00:00
  id: 64e676abfdb841380279bcec
  new_status: merged
  type: status-change
is_pull_request: true
merge_commit_oid: 1d0c4ebf6ff58a5caecab40fa1406526bca4b5b9
num: 170
repo_id: runwayml/stable-diffusion-v1-5
repo_type: model
status: merged
target_branch: refs/heads/main
title: Add non_ema weights as variant
