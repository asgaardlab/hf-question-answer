!!python/object:huggingface_hub.community.DiscussionWithDetails
author: LandonBayer
conflicting_files: null
created_at: 2023-01-31 14:13:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
      fullname: Landon Bayer
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: LandonBayer
      type: user
    createdAt: '2023-01-31T14:13:05.000Z'
    data:
      edited: false
      editors:
      - LandonBayer
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
          fullname: Landon Bayer
          isHf: false
          isPro: false
          name: LandonBayer
          type: user
        html: '<p>Hi everyone, is it possible to use the HuggingFace hosted Inference
          API instead of hosting the repository yourself? I notice that on the Model
          Card page you can type in a prompt and it will generate the the image, I''m
          trying to figure out if there is a way to access that prompt using code,
          since I don''t have to worry about the details of running the machine.</p>

          <p>Thanks!</p>

          '
        raw: "Hi everyone, is it possible to use the HuggingFace hosted Inference\
          \ API instead of hosting the repository yourself? I notice that on the Model\
          \ Card page you can type in a prompt and it will generate the the image,\
          \ I'm trying to figure out if there is a way to access that prompt using\
          \ code, since I don't have to worry about the details of running the machine.\r\
          \n\r\nThanks!"
        updatedAt: '2023-01-31T14:13:05.640Z'
      numEdits: 0
      reactions: []
    id: 63d921f1255ef6add20e754b
    type: comment
  author: LandonBayer
  content: "Hi everyone, is it possible to use the HuggingFace hosted Inference API\
    \ instead of hosting the repository yourself? I notice that on the Model Card\
    \ page you can type in a prompt and it will generate the the image, I'm trying\
    \ to figure out if there is a way to access that prompt using code, since I don't\
    \ have to worry about the details of running the machine.\r\n\r\nThanks!"
  created_at: 2023-01-31 14:13:05+00:00
  edited: false
  hidden: false
  id: 63d921f1255ef6add20e754b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648966381588-6064e095abd8d3692e3e2ed6.jpeg?w=200&h=200&f=face
      fullname: "Radam\xE9s Ajna"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: radames
      type: user
    createdAt: '2023-01-31T21:12:35.000Z'
    data:
      edited: false
      editors:
      - radames
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648966381588-6064e095abd8d3692e3e2ed6.jpeg?w=200&h=200&f=face
          fullname: "Radam\xE9s Ajna"
          isHf: true
          isPro: false
          name: radames
          type: user
        html: "<p>hi <span data-props=\"{&quot;user&quot;:&quot;LandonBayer&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/LandonBayer\"\
          >@<span class=\"underline\">LandonBayer</span></a></span>\n\n\t</span></span>\
          \ you can use our API Inference for fast prototyping</p>\n<p>here's an JavaScript\
          \ example, if you copy and past on your Javascript console, replacing \"\
          a flying Cat\" with your prompt</p>\n<pre><code class=\"language-js\"><span\
          \ class=\"hljs-title function_\">fetch</span>(\n  <span class=\"hljs-string\"\
          >\"https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5\"\
          </span>,\n  {\n    <span class=\"hljs-attr\">method</span>: <span class=\"\
          hljs-string\">\"POST\"</span>,\n    <span class=\"hljs-attr\">headers</span>:\
          \ {\n      <span class=\"hljs-string\">\"content-type\"</span>: <span class=\"\
          hljs-string\">\"application/json\"</span>,\n    },\n    <span class=\"hljs-attr\"\
          >body</span>: <span class=\"hljs-title class_\">JSON</span>.<span class=\"\
          hljs-title function_\">stringify</span>({ <span class=\"hljs-attr\">inputs</span>:\
          \ <span class=\"hljs-string\">\"a flying Cat\"</span> }),\n  }\n)\n  .<span\
          \ class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\"\
          >(<span class=\"hljs-params\">res</span>) =&gt;</span> res.<span class=\"\
          hljs-title function_\">blob</span>())\n  .<span class=\"hljs-title function_\"\
          >then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\"\
          >blob</span>) =&gt;</span> {\n    <span class=\"hljs-keyword\">const</span>\
          \ tab = <span class=\"hljs-variable language_\">window</span>.<span class=\"\
          hljs-title function_\">open</span>((target = <span class=\"hljs-string\"\
          >\"_blank\"</span>));\n    tab.<span class=\"hljs-property\">location</span>.<span\
          \ class=\"hljs-property\">href</span> = <span class=\"hljs-variable language_\"\
          >window</span>.<span class=\"hljs-property\">URL</span>.<span class=\"hljs-title\
          \ function_\">createObjectURL</span>(blob);\n  });\n</code></pre>\n"
        raw: "hi @LandonBayer you can use our API Inference for fast prototyping\n\
          \nhere's an JavaScript example, if you copy and past on your Javascript\
          \ console, replacing \"a flying Cat\" with your prompt\n\n```js\nfetch(\n\
          \  \"https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5\"\
          ,\n  {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"\
          application/json\",\n    },\n    body: JSON.stringify({ inputs: \"a flying\
          \ Cat\" }),\n  }\n)\n  .then((res) => res.blob())\n  .then((blob) => {\n\
          \    const tab = window.open((target = \"_blank\"));\n    tab.location.href\
          \ = window.URL.createObjectURL(blob);\n  });\n\n```"
        updatedAt: '2023-01-31T21:12:35.963Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - magicucumber
        - abhishekabramaina
    id: 63d98443573793c2645fc22e
    type: comment
  author: radames
  content: "hi @LandonBayer you can use our API Inference for fast prototyping\n\n\
    here's an JavaScript example, if you copy and past on your Javascript console,\
    \ replacing \"a flying Cat\" with your prompt\n\n```js\nfetch(\n  \"https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5\"\
    ,\n  {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\"\
    ,\n    },\n    body: JSON.stringify({ inputs: \"a flying Cat\" }),\n  }\n)\n \
    \ .then((res) => res.blob())\n  .then((blob) => {\n    const tab = window.open((target\
    \ = \"_blank\"));\n    tab.location.href = window.URL.createObjectURL(blob);\n\
    \  });\n\n```"
  created_at: 2023-01-31 21:12:35+00:00
  edited: false
  hidden: false
  id: 63d98443573793c2645fc22e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
      fullname: Landon Bayer
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: LandonBayer
      type: user
    createdAt: '2023-02-01T19:17:40.000Z'
    data:
      edited: false
      editors:
      - LandonBayer
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
          fullname: Landon Bayer
          isHf: false
          isPro: false
          name: LandonBayer
          type: user
        html: "<p>Thank you! I\u2019ll work on translating it to Python for my app\
          \ and let you know.</p>\n"
        raw: "Thank you! I\u2019ll work on translating it to Python for my app and\
          \ let you know."
        updatedAt: '2023-02-01T19:17:40.797Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - radames
    id: 63dabad4ca02a16f0407ad07
    type: comment
  author: LandonBayer
  content: "Thank you! I\u2019ll work on translating it to Python for my app and let\
    \ you know."
  created_at: 2023-02-01 19:17:40+00:00
  edited: false
  hidden: false
  id: 63dabad4ca02a16f0407ad07
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648966381588-6064e095abd8d3692e3e2ed6.jpeg?w=200&h=200&f=face
      fullname: "Radam\xE9s Ajna"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: radames
      type: user
    createdAt: '2023-02-01T20:15:05.000Z'
    data:
      edited: false
      editors:
      - radames
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648966381588-6064e095abd8d3692e3e2ed6.jpeg?w=200&h=200&f=face
          fullname: "Radam\xE9s Ajna"
          isHf: true
          isPro: false
          name: radames
          type: user
        html: "<p>sorry <span data-props=\"{&quot;user&quot;:&quot;LandonBayer&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/LandonBayer\"\
          >@<span class=\"underline\">LandonBayer</span></a></span>\n\n\t</span></span>\
          \ , I didn't know you need it in Python<br>here it go</p>\n<pre><code class=\"\
          language-python\"><span class=\"hljs-keyword\">import</span> json\n<span\
          \ class=\"hljs-keyword\">import</span> requests\n<span class=\"hljs-keyword\"\
          >from</span> PIL <span class=\"hljs-keyword\">import</span> Image\n<span\
          \ class=\"hljs-keyword\">import</span> io\n<span class=\"hljs-keyword\"\
          >import</span> re\n<span class=\"hljs-keyword\">from</span> time <span class=\"\
          hljs-keyword\">import</span> time\n\nAPI_TOKEN = <span class=\"hljs-string\"\
          >\"\"</span>  <span class=\"hljs-comment\"># token in case you want to use\
          \ private API</span>\nheaders = {\n    <span class=\"hljs-comment\"># \"\
          Authorization\": f\"Bearer {API_TOKEN}\",</span>\n    <span class=\"hljs-string\"\
          >\"X-Wait-For-Model\"</span>: <span class=\"hljs-string\">\"true\"</span>,\n\
          \    <span class=\"hljs-string\">\"X-Use-Cache\"</span>: <span class=\"\
          hljs-string\">\"false\"</span>\n}\nAPI_URL = <span class=\"hljs-string\"\
          >\"https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5\"\
          </span>\n\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\
          \ function_\">query</span>(<span class=\"hljs-params\">payload</span>):\n\
          \    data = json.dumps(payload)\n    response = requests.request(<span class=\"\
          hljs-string\">\"POST\"</span>, API_URL, headers=headers, data=data)\n  \
          \  <span class=\"hljs-keyword\">return</span> Image.<span class=\"hljs-built_in\"\
          >open</span>(io.BytesIO(response.content))\n\n\n<span class=\"hljs-keyword\"\
          >def</span> <span class=\"hljs-title function_\">slugify</span>(<span class=\"\
          hljs-params\">text</span>):\n    <span class=\"hljs-comment\"># remove non-word\
          \ characters and foreign characters</span>\n    text = re.sub(<span class=\"\
          hljs-string\">r\"[^\\w\\s]\"</span>, <span class=\"hljs-string\">\"\"</span>,\
          \ text)\n    text = re.sub(<span class=\"hljs-string\">r\"\\s+\"</span>,\
          \ <span class=\"hljs-string\">\"-\"</span>, text)\n    <span class=\"hljs-keyword\"\
          >return</span> text\n\n\nprompt = <span class=\"hljs-string\">\"A photo\
          \ of a a flyiing cat\"</span>\nimage = query({<span class=\"hljs-string\"\
          >\"inputs\"</span>: prompt})\nimage.save(<span class=\"hljs-string\">f\"\
          <span class=\"hljs-subst\">{slugify(prompt)}</span>-<span class=\"hljs-subst\"\
          >{time():<span class=\"hljs-number\">.0</span>f}</span>.png\"</span>)\n\
          </code></pre>\n"
        raw: "sorry @LandonBayer , I didn't know you need it in Python\nhere it go\n\
          \n```python\nimport json\nimport requests\nfrom PIL import Image\nimport\
          \ io\nimport re\nfrom time import time\n\nAPI_TOKEN = \"\"  # token in case\
          \ you want to use private API\nheaders = {\n    # \"Authorization\": f\"\
          Bearer {API_TOKEN}\",\n    \"X-Wait-For-Model\": \"true\",\n    \"X-Use-Cache\"\
          : \"false\"\n}\nAPI_URL = \"https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5\"\
          \n\n\ndef query(payload):\n    data = json.dumps(payload)\n    response\
          \ = requests.request(\"POST\", API_URL, headers=headers, data=data)\n  \
          \  return Image.open(io.BytesIO(response.content))\n\n\ndef slugify(text):\n\
          \    # remove non-word characters and foreign characters\n    text = re.sub(r\"\
          [^\\w\\s]\", \"\", text)\n    text = re.sub(r\"\\s+\", \"-\", text)\n  \
          \  return text\n\n\nprompt = \"A photo of a a flyiing cat\"\nimage = query({\"\
          inputs\": prompt})\nimage.save(f\"{slugify(prompt)}-{time():.0f}.png\")\n\
          ```"
        updatedAt: '2023-02-01T20:15:05.202Z'
      numEdits: 0
      reactions: []
    id: 63dac84926ae589b764b692d
    type: comment
  author: radames
  content: "sorry @LandonBayer , I didn't know you need it in Python\nhere it go\n\
    \n```python\nimport json\nimport requests\nfrom PIL import Image\nimport io\n\
    import re\nfrom time import time\n\nAPI_TOKEN = \"\"  # token in case you want\
    \ to use private API\nheaders = {\n    # \"Authorization\": f\"Bearer {API_TOKEN}\"\
    ,\n    \"X-Wait-For-Model\": \"true\",\n    \"X-Use-Cache\": \"false\"\n}\nAPI_URL\
    \ = \"https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5\"\
    \n\n\ndef query(payload):\n    data = json.dumps(payload)\n    response = requests.request(\"\
    POST\", API_URL, headers=headers, data=data)\n    return Image.open(io.BytesIO(response.content))\n\
    \n\ndef slugify(text):\n    # remove non-word characters and foreign characters\n\
    \    text = re.sub(r\"[^\\w\\s]\", \"\", text)\n    text = re.sub(r\"\\s+\", \"\
    -\", text)\n    return text\n\n\nprompt = \"A photo of a a flyiing cat\"\nimage\
    \ = query({\"inputs\": prompt})\nimage.save(f\"{slugify(prompt)}-{time():.0f}.png\"\
    )\n```"
  created_at: 2023-02-01 20:15:05+00:00
  edited: false
  hidden: false
  id: 63dac84926ae589b764b692d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bdedfa124e7bad65ef26a5a9e56fbd00.svg
      fullname: siddhesh shirawale
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: siddhesh-shirawale
      type: user
    createdAt: '2023-02-17T11:55:16.000Z'
    data:
      edited: false
      editors:
      - siddhesh-shirawale
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bdedfa124e7bad65ef26a5a9e56fbd00.svg
          fullname: siddhesh shirawale
          isHf: false
          isPro: false
          name: siddhesh-shirawale
          type: user
        html: '<p>Will I get similar endpoint if I deploy to inference endpoint ?
          I have no knowledge of python and I want to run this model on hosted server
          to serve api for text to image .</p>

          '
        raw: Will I get similar endpoint if I deploy to inference endpoint ? I have
          no knowledge of python and I want to run this model on hosted server to
          serve api for text to image .
        updatedAt: '2023-02-17T11:55:16.554Z'
      numEdits: 0
      reactions: []
    id: 63ef6b2416a7ef3d13f9ea8e
    type: comment
  author: siddhesh-shirawale
  content: Will I get similar endpoint if I deploy to inference endpoint ? I have
    no knowledge of python and I want to run this model on hosted server to serve
    api for text to image .
  created_at: 2023-02-17 11:55:16+00:00
  edited: false
  hidden: false
  id: 63ef6b2416a7ef3d13f9ea8e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
      fullname: Landon Bayer
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: LandonBayer
      type: user
    createdAt: '2023-02-17T12:03:15.000Z'
    data:
      edited: false
      editors:
      - LandonBayer
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
          fullname: Landon Bayer
          isHf: false
          isPro: false
          name: LandonBayer
          type: user
        html: "<p>I\u2019m not sure what exactly you\u2019re asking <span data-props=\"\
          {&quot;user&quot;:&quot;siddhesh-shirawale&quot;}\" data-target=\"UserMention\"\
          \ class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"\
          ><span class=\"contents\"><a href=\"/siddhesh-shirawale\">@<span class=\"\
          underline\">siddhesh-shirawale</span></a></span>\n\n\t</span></span> but\
          \ I will say this solution worked for me! Thank you <span data-props=\"\
          {&quot;user&quot;:&quot;radames&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/radames\">@<span class=\"underline\">radames</span></a></span>\n\
          \n\t</span></span> !!!</p>\n"
        raw: "I\u2019m not sure what exactly you\u2019re asking @siddhesh-shirawale\
          \ but I will say this solution worked for me! Thank you @radames !!!"
        updatedAt: '2023-02-17T12:03:15.538Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - alisinaan
      relatedEventId: 63ef6d038da865b7fcde641d
    id: 63ef6d038da865b7fcde641c
    type: comment
  author: LandonBayer
  content: "I\u2019m not sure what exactly you\u2019re asking @siddhesh-shirawale\
    \ but I will say this solution worked for me! Thank you @radames !!!"
  created_at: 2023-02-17 12:03:15+00:00
  edited: false
  hidden: false
  id: 63ef6d038da865b7fcde641c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/6d422c97a58a64970bdb7940262ef990.svg
      fullname: Landon Bayer
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: LandonBayer
      type: user
    createdAt: '2023-02-17T12:03:15.000Z'
    data:
      status: closed
    id: 63ef6d038da865b7fcde641d
    type: status-change
  author: LandonBayer
  created_at: 2023-02-17 12:03:15+00:00
  id: 63ef6d038da865b7fcde641d
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/185a7f944eac9ace796df94cf7a672fc.svg
      fullname: SANJIT SINGHA
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanjitdevs
      type: user
    createdAt: '2023-12-03T20:04:29.000Z'
    data:
      edited: true
      editors:
      - sanjitdevs
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.45129579305648804
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/185a7f944eac9ace796df94cf7a672fc.svg
          fullname: SANJIT SINGHA
          isHf: false
          isPro: false
          name: sanjitdevs
          type: user
        html: '<p>can we get three images at once if yes then how ? im using javascript</p>

          '
        raw: 'can we get three images at once if yes then how ? im using javascript

          '
        updatedAt: '2023-12-03T20:04:45.345Z'
      numEdits: 1
      reactions: []
    id: 656cdf4d6f39f156583d3dbe
    type: comment
  author: sanjitdevs
  content: 'can we get three images at once if yes then how ? im using javascript

    '
  created_at: 2023-12-03 20:04:29+00:00
  edited: true
  hidden: false
  id: 656cdf4d6f39f156583d3dbe
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 82
repo_id: runwayml/stable-diffusion-v1-5
repo_type: model
status: closed
target_branch: null
title: Inference API on Text-To-Image
