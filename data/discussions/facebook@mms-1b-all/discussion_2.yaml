!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Neeraj13
conflicting_files: null
created_at: 2023-06-07 17:03:58+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f2d3a6f206c10b5841bf35a595b3db8.svg
      fullname: Padma Neeraj kumar
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Neeraj13
      type: user
    createdAt: '2023-06-07T18:03:58.000Z'
    data:
      edited: false
      editors:
      - Neeraj13
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.381716787815094
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f2d3a6f206c10b5841bf35a595b3db8.svg
          fullname: Padma Neeraj kumar
          isHf: false
          isPro: false
          name: Neeraj13
          type: user
        html: '<p>Can''t load tokenizer using from_pretrained, please update its configuration:
          unhashable type: ''dict''</p>

          '
        raw: 'Can''t load tokenizer using from_pretrained, please update its configuration:
          unhashable type: ''dict'''
        updatedAt: '2023-06-07T18:03:58.070Z'
      numEdits: 0
      reactions: []
    id: 6480c68ecacb1c4a069702cb
    type: comment
  author: Neeraj13
  content: 'Can''t load tokenizer using from_pretrained, please update its configuration:
    unhashable type: ''dict'''
  created_at: 2023-06-07 17:03:58+00:00
  edited: false
  hidden: false
  id: 6480c68ecacb1c4a069702cb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/610ab57e30a3b2777da1a0502e61d58c.svg
      fullname: Vineel Pratap
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: vineelpratap
      type: user
    createdAt: '2023-06-08T00:49:51.000Z'
    data:
      edited: false
      editors:
      - vineelpratap
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8663012385368347
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/610ab57e30a3b2777da1a0502e61d58c.svg
          fullname: Vineel Pratap
          isHf: false
          isPro: false
          name: vineelpratap
          type: user
        html: '<p>You should build <code>transformers</code> with the latest version
          from github.</p>

          '
        raw: You should build `transformers` with the latest version from github.
        updatedAt: '2023-06-08T00:49:51.329Z'
      numEdits: 0
      reactions: []
    id: 648125afbb25a636c9e58678
    type: comment
  author: vineelpratap
  content: You should build `transformers` with the latest version from github.
  created_at: 2023-06-07 23:49:51+00:00
  edited: false
  hidden: false
  id: 648125afbb25a636c9e58678
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/16c1aba1559729a9bb449f10cb99bf79.svg
      fullname: Kaleen Shrestha
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: KaleSalad
      type: user
    createdAt: '2023-06-08T04:20:32.000Z'
    data:
      edited: false
      editors:
      - KaleSalad
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9489333629608154
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/16c1aba1559729a9bb449f10cb99bf79.svg
          fullname: Kaleen Shrestha
          isHf: false
          isPro: false
          name: KaleSalad
          type: user
        html: '<p>I got that error before as well. When you install using pip, you
          only get transformers 4.29. MMS needs transformers 4.3 which is only available
          when you install from source: pip install git+<a rel="nofollow" href="https://github.com/huggingface/transformers.git">https://github.com/huggingface/transformers.git</a>.
          The error went away for me after I did that.</p>

          '
        raw: 'I got that error before as well. When you install using pip, you only
          get transformers 4.29. MMS needs transformers 4.3 which is only available
          when you install from source: pip install git+https://github.com/huggingface/transformers.git.
          The error went away for me after I did that.'
        updatedAt: '2023-06-08T04:20:32.261Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - el2e10
    id: 64815710e1421e205fe5807f
    type: comment
  author: KaleSalad
  content: 'I got that error before as well. When you install using pip, you only
    get transformers 4.29. MMS needs transformers 4.3 which is only available when
    you install from source: pip install git+https://github.com/huggingface/transformers.git.
    The error went away for me after I did that.'
  created_at: 2023-06-08 03:20:32+00:00
  edited: false
  hidden: false
  id: 64815710e1421e205fe5807f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/610ab57e30a3b2777da1a0502e61d58c.svg
      fullname: Vineel Pratap
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: vineelpratap
      type: user
    createdAt: '2023-06-14T11:33:52.000Z'
    data:
      status: closed
    id: 6489a5a0431b7a5e0765a7c2
    type: status-change
  author: vineelpratap
  created_at: 2023-06-14 10:33:52+00:00
  id: 6489a5a0431b7a5e0765a7c2
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99c5ac34235e0c1cd37c66a6ef3340b9.svg
      fullname: Michael Ogundare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bluman1
      type: user
    createdAt: '2023-06-18T22:28:23.000Z'
    data:
      edited: false
      editors:
      - bluman1
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9326788783073425
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99c5ac34235e0c1cd37c66a6ef3340b9.svg
          fullname: Michael Ogundare
          isHf: false
          isPro: false
          name: bluman1
          type: user
        html: '<p>Hello, I am on  4.31.0.dev0 of transformers yet I am still getting
          this error. What could be wrong?</p>

          '
        raw: Hello, I am on  4.31.0.dev0 of transformers yet I am still getting this
          error. What could be wrong?
        updatedAt: '2023-06-18T22:28:23.869Z'
      numEdits: 0
      reactions: []
    id: 648f85078b579a84b7a87d0d
    type: comment
  author: bluman1
  content: Hello, I am on  4.31.0.dev0 of transformers yet I am still getting this
    error. What could be wrong?
  created_at: 2023-06-18 21:28:23+00:00
  edited: false
  hidden: false
  id: 648f85078b579a84b7a87d0d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-06-22T17:12:55.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8924153447151184
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Have you followed the instructions as per the docs? <a href=\"https://huggingface.co/docs/transformers/main/en/model_doc/mms#loading\"\
          >https://huggingface.co/docs/transformers/main/en/model_doc/mms#loading</a></p>\n\
          <p><span data-props=\"{&quot;user&quot;:&quot;vineelpratap&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/vineelpratap\">@<span\
          \ class=\"underline\">vineelpratap</span></a></span>\n\n\t</span></span>\
          \ pushed some nice clarifications that should mean you don't hit this issue!</p>\n\
          <p>If you're still facing it, could you provide a reproducible codesnippet\
          \ <span data-props=\"{&quot;user&quot;:&quot;Neeraj13&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Neeraj13\">@<span class=\"\
          underline\">Neeraj13</span></a></span>\n\n\t</span></span> <span data-props=\"\
          {&quot;user&quot;:&quot;bluman1&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/bluman1\">@<span class=\"underline\">bluman1</span></a></span>\n\
          \n\t</span></span>?</p>\n"
        raw: 'Have you followed the instructions as per the docs? https://huggingface.co/docs/transformers/main/en/model_doc/mms#loading


          @vineelpratap pushed some nice clarifications that should mean you don''t
          hit this issue!


          If you''re still facing it, could you provide a reproducible codesnippet
          @Neeraj13 @bluman1?'
        updatedAt: '2023-06-22T17:12:55.295Z'
      numEdits: 0
      reactions: []
      relatedEventId: 64948117d679b882f7feebdd
    id: 64948117d679b882f7feebd9
    type: comment
  author: sanchit-gandhi
  content: 'Have you followed the instructions as per the docs? https://huggingface.co/docs/transformers/main/en/model_doc/mms#loading


    @vineelpratap pushed some nice clarifications that should mean you don''t hit
    this issue!


    If you''re still facing it, could you provide a reproducible codesnippet @Neeraj13
    @bluman1?'
  created_at: 2023-06-22 16:12:55+00:00
  edited: false
  hidden: false
  id: 64948117d679b882f7feebd9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-06-22T17:12:55.000Z'
    data:
      status: open
    id: 64948117d679b882f7feebdd
    type: status-change
  author: sanchit-gandhi
  created_at: 2023-06-22 16:12:55+00:00
  id: 64948117d679b882f7feebdd
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99c5ac34235e0c1cd37c66a6ef3340b9.svg
      fullname: Michael Ogundare
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bluman1
      type: user
    createdAt: '2023-06-22T18:47:19.000Z'
    data:
      edited: true
      editors:
      - bluman1
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.44738849997520447
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99c5ac34235e0c1cd37c66a6ef3340b9.svg
          fullname: Michael Ogundare
          isHf: false
          isPro: false
          name: bluman1
          type: user
        html: "<p>Here's the snippet that produces the error:</p>\n<pre><code>import\
          \ requests\n\nAPI_URL = \"https://api-inference.huggingface.co/models/facebook/mms-1b-all\"\
          \nheaders = {\"Authorization\": \"Bearer HF_API_KEY\"}\n\n\ndef query(filename):\n\
          \    with open(filename, \"rb\") as f:\n        data = f.read()\n    response\
          \ = requests.post(API_URL, headers=headers, data=data)\n    return response.json()\n\
          \noutput = query(\"audio/mms_sampling/MyNameYor.flac\")  # local audio file\n\
          print(output)  # prints: {'error': \"Can't load tokenizer using from_pretrained,\
          \ please update its configuration: unhashable type: 'dict'\"}\n</code></pre>\n"
        raw: "Here's the snippet that produces the error:\n\n```\nimport requests\n\
          \nAPI_URL = \"https://api-inference.huggingface.co/models/facebook/mms-1b-all\"\
          \nheaders = {\"Authorization\": \"Bearer HF_API_KEY\"}\n\n\ndef query(filename):\n\
          \    with open(filename, \"rb\") as f:\n        data = f.read()\n    response\
          \ = requests.post(API_URL, headers=headers, data=data)\n    return response.json()\n\
          \noutput = query(\"audio/mms_sampling/MyNameYor.flac\")  # local audio file\n\
          print(output)  # prints: {'error': \"Can't load tokenizer using from_pretrained,\
          \ please update its configuration: unhashable type: 'dict'\"}\n```"
        updatedAt: '2023-06-22T18:48:39.056Z'
      numEdits: 1
      reactions: []
    id: 64949737bea6acf8cc4cc3d5
    type: comment
  author: bluman1
  content: "Here's the snippet that produces the error:\n\n```\nimport requests\n\n\
    API_URL = \"https://api-inference.huggingface.co/models/facebook/mms-1b-all\"\n\
    headers = {\"Authorization\": \"Bearer HF_API_KEY\"}\n\n\ndef query(filename):\n\
    \    with open(filename, \"rb\") as f:\n        data = f.read()\n    response\
    \ = requests.post(API_URL, headers=headers, data=data)\n    return response.json()\n\
    \noutput = query(\"audio/mms_sampling/MyNameYor.flac\")  # local audio file\n\
    print(output)  # prints: {'error': \"Can't load tokenizer using from_pretrained,\
    \ please update its configuration: unhashable type: 'dict'\"}\n```"
  created_at: 2023-06-22 17:47:19+00:00
  edited: true
  hidden: false
  id: 64949737bea6acf8cc4cc3d5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/610ab57e30a3b2777da1a0502e61d58c.svg
      fullname: Vineel Pratap
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: vineelpratap
      type: user
    createdAt: '2023-06-23T09:52:23.000Z'
    data:
      edited: false
      editors:
      - vineelpratap
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8653931021690369
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/610ab57e30a3b2777da1a0502e61d58c.svg
          fullname: Vineel Pratap
          isHf: false
          isPro: false
          name: vineelpratap
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;bluman1&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/bluman1\"\
          >@<span class=\"underline\">bluman1</span></a></span>\n\n\t</span></span>,\
          \  here is a way in which you can use MMS models - <a href=\"https://huggingface.co/spaces/mms-meta/MMS/blob/main/asr.py#L37\"\
          >https://huggingface.co/spaces/mms-meta/MMS/blob/main/asr.py#L37</a></p>\n\
          <p>MMS models don't work using the above API (unlike other wav2ve2c based\
          \ models) as they used adapter layers inside. cc. <span data-props=\"{&quot;user&quot;:&quot;patrickvonplaten&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/patrickvonplaten\"\
          >@<span class=\"underline\">patrickvonplaten</span></a></span>\n\n\t</span></span>\
          \ </p>\n"
        raw: 'Hey @bluman1,  here is a way in which you can use MMS models - https://huggingface.co/spaces/mms-meta/MMS/blob/main/asr.py#L37


          MMS models don''t work using the above API (unlike other wav2ve2c based
          models) as they used adapter layers inside. cc. @patrickvonplaten '
        updatedAt: '2023-06-23T09:52:23.166Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - bluman1
    id: 64956b57707a62fcc291f858
    type: comment
  author: vineelpratap
  content: 'Hey @bluman1,  here is a way in which you can use MMS models - https://huggingface.co/spaces/mms-meta/MMS/blob/main/asr.py#L37


    MMS models don''t work using the above API (unlike other wav2ve2c based models)
    as they used adapter layers inside. cc. @patrickvonplaten '
  created_at: 2023-06-23 08:52:23+00:00
  edited: false
  hidden: false
  id: 64956b57707a62fcc291f858
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: facebook/mms-1b-all
repo_type: model
status: open
target_branch: null
title: Iam Facing unhashable type dict isuue any resolution.
