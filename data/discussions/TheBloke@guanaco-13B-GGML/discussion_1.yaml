!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xzuyn
conflicting_files: null
created_at: 2023-05-25 16:30:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4042dcf1589ac7b340754a6ee8b5f641.svg
      fullname: xzuyn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xzuyn
      type: user
    createdAt: '2023-05-25T17:30:03.000Z'
    data:
      edited: true
      editors:
      - xzuyn
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4042dcf1589ac7b340754a6ee8b5f641.svg
          fullname: xzuyn
          isHf: false
          isPro: false
          name: xzuyn
          type: user
        html: "<p>The LoRA versions have some info on proper formatting. <a href=\"\
          https://huggingface.co/JosephusCheung/Guanaco\">https://huggingface.co/JosephusCheung/Guanaco</a>\
          \ &amp; <a href=\"https://huggingface.co/KBlueLeaf/guanaco-7B-leh\">https://huggingface.co/KBlueLeaf/guanaco-7B-leh</a></p>\n\
          <h1 id=\"prompt-format\">Prompt format:</h1>\n<pre><code>### Instruction:\n\
          User: History User Input\nAssistant: History Assistant Answer\n### Input:\n\
          System: Knowledge\nUser: New User Input\n### Response:\nNew Assistant Answer\n\
          </code></pre>\n<h1 id=\"example-prompt-and-its-output\">Example prompt,\
          \ and its output.</h1>\n<pre><code>### Instruction:\nUser: Hello\nAssistant:\
          \ Hello! How can I help you?\nUser: Can you explain how Gradient Descent\
          \ work?\nAssistant: Sure, Gradient Descent is a type of optimization algorithm\
          \ used to find the global minimum of a function. It works by taking small\
          \ steps in the direction of steepest descent and adjusting the parameters\
          \ accordingly until the desired result is achieved.\n### Input:\nUser: How\
          \ about Nesterov Accelerated Gradient? Can you campare them?\n### Response:\n\
          Nesterov Accelerated Gradient is a type of optimization algorithm used to\
          \ find the global minimum of a function. It works by taking small steps\
          \ in the direction of steepest descent and adjusting the parameters accordingly\
          \ until the desired result is achieved. Gradient Descent, on the other hand,\
          \ works by taking small steps in the direction of steepest descent and adjusting\
          \ the parameters accordingly until the desired result is achieved. Both\
          \ Gradient Descent and Nesterov Accelerated Gradient are optimization algorithms\
          \ used to find the global minimum of a function, but they have different\
          \ approaches to achieving this goal. Gradient Descent takes small steps\
          \ in the direction of steepest descent, while Nesterov Accelerated Gradient\
          \ takes larger steps that more quickly move towards the global minimum.\
          \ \n</code></pre>\n<p>A bit weird since it doesn't output as the Assistant,\
          \ and just generates the Assistant's message. Unless Tim changed the way\
          \ it was formatted when he trained with QLoRA, it should act like this.</p>\n\
          <p>Another thing to note is when it doesn't have anything else to say, it\
          \ will output line breaks surrounded by spaces (<code>\\n</code>) or zero\
          \ width spaces (<code>\\u200b</code>); <code>that best meets your needs.\
          \ \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n</code></p>\n"
        raw: "The LoRA versions have some info on proper formatting. https://huggingface.co/JosephusCheung/Guanaco\
          \ & https://huggingface.co/KBlueLeaf/guanaco-7B-leh\n\n# Prompt format:\n\
          ```\n### Instruction:\nUser: History User Input\nAssistant: History Assistant\
          \ Answer\n### Input:\nSystem: Knowledge\nUser: New User Input\n### Response:\n\
          New Assistant Answer\n```\n\n# Example prompt, and its output.\n```\n###\
          \ Instruction:\nUser: Hello\nAssistant: Hello! How can I help you?\nUser:\
          \ Can you explain how Gradient Descent work?\nAssistant: Sure, Gradient\
          \ Descent is a type of optimization algorithm used to find the global minimum\
          \ of a function. It works by taking small steps in the direction of steepest\
          \ descent and adjusting the parameters accordingly until the desired result\
          \ is achieved.\n### Input:\nUser: How about Nesterov Accelerated Gradient?\
          \ Can you campare them?\n### Response:\nNesterov Accelerated Gradient is\
          \ a type of optimization algorithm used to find the global minimum of a\
          \ function. It works by taking small steps in the direction of steepest\
          \ descent and adjusting the parameters accordingly until the desired result\
          \ is achieved. Gradient Descent, on the other hand, works by taking small\
          \ steps in the direction of steepest descent and adjusting the parameters\
          \ accordingly until the desired result is achieved. Both Gradient Descent\
          \ and Nesterov Accelerated Gradient are optimization algorithms used to\
          \ find the global minimum of a function, but they have different approaches\
          \ to achieving this goal. Gradient Descent takes small steps in the direction\
          \ of steepest descent, while Nesterov Accelerated Gradient takes larger\
          \ steps that more quickly move towards the global minimum. \n```\n\nA bit\
          \ weird since it doesn't output as the Assistant, and just generates the\
          \ Assistant's message. Unless Tim changed the way it was formatted when\
          \ he trained with QLoRA, it should act like this.\n\nAnother thing to note\
          \ is when it doesn't have anything else to say, it will output line breaks\
          \ surrounded by spaces (` \\n `) or zero width spaces (`\\u200b`); `that\
          \ best meets your needs. \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\\
          n \\n \\n \\n \\n`"
        updatedAt: '2023-05-25T17:42:26.841Z'
      numEdits: 4
      reactions: []
    id: 646f9b1b6441111304fe9338
    type: comment
  author: xzuyn
  content: "The LoRA versions have some info on proper formatting. https://huggingface.co/JosephusCheung/Guanaco\
    \ & https://huggingface.co/KBlueLeaf/guanaco-7B-leh\n\n# Prompt format:\n```\n\
    ### Instruction:\nUser: History User Input\nAssistant: History Assistant Answer\n\
    ### Input:\nSystem: Knowledge\nUser: New User Input\n### Response:\nNew Assistant\
    \ Answer\n```\n\n# Example prompt, and its output.\n```\n### Instruction:\nUser:\
    \ Hello\nAssistant: Hello! How can I help you?\nUser: Can you explain how Gradient\
    \ Descent work?\nAssistant: Sure, Gradient Descent is a type of optimization algorithm\
    \ used to find the global minimum of a function. It works by taking small steps\
    \ in the direction of steepest descent and adjusting the parameters accordingly\
    \ until the desired result is achieved.\n### Input:\nUser: How about Nesterov\
    \ Accelerated Gradient? Can you campare them?\n### Response:\nNesterov Accelerated\
    \ Gradient is a type of optimization algorithm used to find the global minimum\
    \ of a function. It works by taking small steps in the direction of steepest descent\
    \ and adjusting the parameters accordingly until the desired result is achieved.\
    \ Gradient Descent, on the other hand, works by taking small steps in the direction\
    \ of steepest descent and adjusting the parameters accordingly until the desired\
    \ result is achieved. Both Gradient Descent and Nesterov Accelerated Gradient\
    \ are optimization algorithms used to find the global minimum of a function, but\
    \ they have different approaches to achieving this goal. Gradient Descent takes\
    \ small steps in the direction of steepest descent, while Nesterov Accelerated\
    \ Gradient takes larger steps that more quickly move towards the global minimum.\
    \ \n```\n\nA bit weird since it doesn't output as the Assistant, and just generates\
    \ the Assistant's message. Unless Tim changed the way it was formatted when he\
    \ trained with QLoRA, it should act like this.\n\nAnother thing to note is when\
    \ it doesn't have anything else to say, it will output line breaks surrounded\
    \ by spaces (` \\n `) or zero width spaces (`\\u200b`); `that best meets your\
    \ needs. \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n`"
  created_at: 2023-05-25 16:30:03+00:00
  edited: true
  hidden: false
  id: 646f9b1b6441111304fe9338
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4e3b34f0605e6e2c9b5c5beb1a9c192f.svg
      fullname: Xiao Jin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mljxy
      type: user
    createdAt: '2023-05-25T17:39:07.000Z'
    data:
      edited: false
      editors:
      - mljxy
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4e3b34f0605e6e2c9b5c5beb1a9c192f.svg
          fullname: Xiao Jin
          isHf: false
          isPro: false
          name: mljxy
          type: user
        html: "<p>They are not the same guanaco as the qlora species, are they?</p>\n\
          <p>The qlora guanaco playground has this<br><a href=\"https://huggingface.co/spaces/uwnlp/guanaco-playground-tgi/blob/main/app.py#L48-L49\"\
          >https://huggingface.co/spaces/uwnlp/guanaco-playground-tgi/blob/main/app.py#L48-L49</a></p>\n\
          <pre><code>header = \"A chat between a curious human and an artificial intelligence\
          \ assistant. The assistant gives helpful, detailed, and polite answers to\
          \ the user's questions.\"\nprompt_template = \"### Human: {query}\\n###\
          \ Assistant:{response}\"\n</code></pre>\n<p>and</p>\n<pre><code>    if len(past_messages)\
          \ &lt; 1:\n        prompt = header + prompt_template.format(query=user_message,\
          \ response=\"\")\n    else:\n        prompt = header\n        for i in range(0,\
          \ len(past_messages), 2):\n            intermediate_prompt = prompt_template.format(query=past_messages[i][\"\
          content\"], response=past_messages[i+1][\"content\"])\n            print(\"\
          intermediate: \", intermediate_prompt)\n            prompt = prompt + '\\\
          n' + intermediate_prompt\n\n        prompt = prompt + prompt_template.format(query=user_message,\
          \ response=\"\")\n</code></pre>\n"
        raw: "They are not the same guanaco as the qlora species, are they?\n\nThe\
          \ qlora guanaco playground has this\nhttps://huggingface.co/spaces/uwnlp/guanaco-playground-tgi/blob/main/app.py#L48-L49\n\
          \n```\nheader = \"A chat between a curious human and an artificial intelligence\
          \ assistant. The assistant gives helpful, detailed, and polite answers to\
          \ the user's questions.\"\nprompt_template = \"### Human: {query}\\n###\
          \ Assistant:{response}\"\n```\n\nand\n\n```\n    if len(past_messages) <\
          \ 1:\n        prompt = header + prompt_template.format(query=user_message,\
          \ response=\"\")\n    else:\n        prompt = header\n        for i in range(0,\
          \ len(past_messages), 2):\n            intermediate_prompt = prompt_template.format(query=past_messages[i][\"\
          content\"], response=past_messages[i+1][\"content\"])\n            print(\"\
          intermediate: \", intermediate_prompt)\n            prompt = prompt + '\\\
          n' + intermediate_prompt\n\n        prompt = prompt + prompt_template.format(query=user_message,\
          \ response=\"\")\n```"
        updatedAt: '2023-05-25T17:39:07.626Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Mikael110
    id: 646f9d3b6098ee820fbd4dba
    type: comment
  author: mljxy
  content: "They are not the same guanaco as the qlora species, are they?\n\nThe qlora\
    \ guanaco playground has this\nhttps://huggingface.co/spaces/uwnlp/guanaco-playground-tgi/blob/main/app.py#L48-L49\n\
    \n```\nheader = \"A chat between a curious human and an artificial intelligence\
    \ assistant. The assistant gives helpful, detailed, and polite answers to the\
    \ user's questions.\"\nprompt_template = \"### Human: {query}\\n### Assistant:{response}\"\
    \n```\n\nand\n\n```\n    if len(past_messages) < 1:\n        prompt = header +\
    \ prompt_template.format(query=user_message, response=\"\")\n    else:\n     \
    \   prompt = header\n        for i in range(0, len(past_messages), 2):\n     \
    \       intermediate_prompt = prompt_template.format(query=past_messages[i][\"\
    content\"], response=past_messages[i+1][\"content\"])\n            print(\"intermediate:\
    \ \", intermediate_prompt)\n            prompt = prompt + '\\n' + intermediate_prompt\n\
    \n        prompt = prompt + prompt_template.format(query=user_message, response=\"\
    \")\n```"
  created_at: 2023-05-25 16:39:07+00:00
  edited: false
  hidden: false
  id: 646f9d3b6098ee820fbd4dba
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/229e60726cd92951c31d7303e40be2cd.svg
      fullname: Mikael
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Mikael110
      type: user
    createdAt: '2023-05-25T17:44:53.000Z'
    data:
      edited: true
      editors:
      - Mikael110
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/229e60726cd92951c31d7303e40be2cd.svg
          fullname: Mikael
          isHf: false
          isPro: false
          name: Mikael110
          type: user
        html: '<p>Yeah while it''s confusing I''m pretty sure there''s no connection
          between Joseph Cheung''s Guanaco model and Tim Dettmers''s Guanaco model,
          they just both decided to name their models based on <a rel="nofollow" href="https://en.wikipedia.org/wiki/Guanaco">Guanacos</a>
          which is a species related to Lamas.</p>

          '
        raw: Yeah while it's confusing I'm pretty sure there's no connection between
          Joseph Cheung's Guanaco model and Tim Dettmers's Guanaco model, they just
          both decided to name their models based on [Guanacos](https://en.wikipedia.org/wiki/Guanaco)
          which is a species related to Lamas.
        updatedAt: '2023-05-25T17:47:09.963Z'
      numEdits: 2
      reactions: []
    id: 646f9e95bc42f4b00231c006
    type: comment
  author: Mikael110
  content: Yeah while it's confusing I'm pretty sure there's no connection between
    Joseph Cheung's Guanaco model and Tim Dettmers's Guanaco model, they just both
    decided to name their models based on [Guanacos](https://en.wikipedia.org/wiki/Guanaco)
    which is a species related to Lamas.
  created_at: 2023-05-25 16:44:53+00:00
  edited: true
  hidden: false
  id: 646f9e95bc42f4b00231c006
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4042dcf1589ac7b340754a6ee8b5f641.svg
      fullname: xzuyn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xzuyn
      type: user
    createdAt: '2023-05-25T17:59:52.000Z'
    data:
      edited: false
      editors:
      - xzuyn
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4042dcf1589ac7b340754a6ee8b5f641.svg
          fullname: xzuyn
          isHf: false
          isPro: false
          name: xzuyn
          type: user
        html: '<p>Weird that they''d just use another models name.</p>

          '
        raw: Weird that they'd just use another models name.
        updatedAt: '2023-05-25T17:59:52.744Z'
      numEdits: 0
      reactions: []
    id: 646fa218d1f1b73079eab4e5
    type: comment
  author: xzuyn
  content: Weird that they'd just use another models name.
  created_at: 2023-05-25 16:59:52+00:00
  edited: false
  hidden: false
  id: 646fa218d1f1b73079eab4e5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: TheBloke/guanaco-13B-GGML
repo_type: model
status: open
target_branch: null
title: Prompt Format.
