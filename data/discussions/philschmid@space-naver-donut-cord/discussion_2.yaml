!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jacklangerman
conflicting_files: null
created_at: 2023-04-01 22:18:44+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630051c686d5c50c2a1896b8/GY2eTucYd6lYZfXWbGSLu.jpeg?w=200&h=200&f=face
      fullname: Jack Langerman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jacklangerman
      type: user
    createdAt: '2023-04-01T23:18:44.000Z'
    data:
      edited: false
      editors:
      - jacklangerman
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630051c686d5c50c2a1896b8/GY2eTucYd6lYZfXWbGSLu.jpeg?w=200&h=200&f=face
          fullname: Jack Langerman
          isHf: false
          isPro: false
          name: jacklangerman
          type: user
        html: '<p>Thank you for this example repo! </p>

          <p>I have tried to deploy this example to an inference endpoint, but am
          getting the following errors in the logs. It appears there is a missing
          library <code>raise OSError(''sndfile library not found'')</code>. I''ll
          try to take a look at this later, and may send a PR, but wanted to raise
          this publicly incase someone can get to it before I can.</p>

          <p>Is anyone else experiencing this error?</p>

          <pre><code>6bglb 2023-04-01T23:07:37.448Z File "/opt/conda/lib/python3.9/site-packages/donut/util.py",
          line 14, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.448Z File "/opt/conda/lib/python3.9/site-packages/donut/__init__.py",
          line 7, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.448Z Traceback (most recent call last):

          6bglb 2023-04-01T23:07:37.448Z File "/repository/app.py", line 11, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.448Z from donut import DonutModel

          6bglb 2023-04-01T23:07:37.448Z File "/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py",
          line 64, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.448Z from datasets import load_dataset

          6bglb 2023-04-01T23:07:37.448Z File "/opt/conda/lib/python3.9/site-packages/datasets/__init__.py",
          line 43, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.448Z from .arrow_dataset import Dataset

          6bglb 2023-04-01T23:07:37.448Z from .util import DonutDataset, JSONParseEvaluator,
          load_json, save_json

          6bglb 2023-04-01T23:07:37.449Z return _bootstrap._gcd_import(name[level:],
          package, level)

          6bglb 2023-04-01T23:07:37.449Z File "/opt/conda/lib/python3.9/site-packages/soundfile.py",
          line 142, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.449Z raise OSError(''sndfile library not found'')

          6bglb 2023-04-01T23:07:37.449Z OSError: sndfile library not found

          6bglb 2023-04-01T23:07:37.449Z File "/opt/conda/lib/python3.9/importlib/__init__.py",
          line 127, in import_module

          6bglb 2023-04-01T23:07:37.449Z from . import config

          6bglb 2023-04-01T23:07:37.449Z File "/opt/conda/lib/python3.9/site-packages/datasets/config.py",
          line 134, in &lt;module&gt;

          6bglb 2023-04-01T23:07:37.449Z importlib.import_module("soundfile").__libsndfile_version__

          6bglb 2023-04-01T23:07:41.352Z from . import config

          6bglb 2023-04-01T23:07:41.352Z from .util import DonutDataset, JSONParseEvaluator,
          load_json, save_json

          6bglb 2023-04-01T23:07:41.352Z Traceback (most recent call last):

          6bglb 2023-04-01T23:07:41.352Z File "/opt/conda/lib/python3.9/importlib/__init__.py",
          line 127, in import_module

          6bglb 2023-04-01T23:07:41.352Z File "/opt/conda/lib/python3.9/site-packages/datasets/config.py",
          line 134, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.352Z File "/opt/conda/lib/python3.9/site-packages/donut/util.py",
          line 14, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.352Z File "/repository/app.py", line 11, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.352Z from .arrow_dataset import Dataset

          6bglb 2023-04-01T23:07:41.352Z File "/opt/conda/lib/python3.9/site-packages/donut/__init__.py",
          line 7, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.352Z importlib.import_module("soundfile").__libsndfile_version__

          6bglb 2023-04-01T23:07:41.352Z from datasets import load_dataset

          6bglb 2023-04-01T23:07:41.352Z from donut import DonutModel

          6bglb 2023-04-01T23:07:41.352Z File "/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py",
          line 64, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.352Z File "/opt/conda/lib/python3.9/site-packages/datasets/__init__.py",
          line 43, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.353Z OSError: sndfile library not found

          6bglb 2023-04-01T23:07:41.353Z File "/opt/conda/lib/python3.9/site-packages/soundfile.py",
          line 142, in &lt;module&gt;

          6bglb 2023-04-01T23:07:41.353Z raise OSError(''sndfile library not found'')

          6bglb 2023-04-01T23:07:41.353Z return _bootstrap._gcd_import(name[level:],
          package, level)

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/importlib/__init__.py",
          line 127, in import_module

          6bglb 2023-04-01T23:07:59.943Z from datasets import load_dataset

          6bglb 2023-04-01T23:07:59.943Z return _bootstrap._gcd_import(name[level:],
          package, level)

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py",
          line 64, in &lt;module&gt;

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/site-packages/datasets/config.py",
          line 134, in &lt;module&gt;

          6bglb 2023-04-01T23:07:59.943Z from . import config

          6bglb 2023-04-01T23:07:59.943Z File "/repository/app.py", line 11, in &lt;module&gt;

          6bglb 2023-04-01T23:07:59.943Z importlib.import_module("soundfile").__libsndfile_version__

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/site-packages/donut/__init__.py",
          line 7, in &lt;module&gt;

          6bglb 2023-04-01T23:07:59.943Z from donut import DonutModel

          6bglb 2023-04-01T23:07:59.943Z Traceback (most recent call last):

          6bglb 2023-04-01T23:07:59.943Z from .arrow_dataset import Dataset

          6bglb 2023-04-01T23:07:59.943Z raise OSError(''sndfile library not found'')

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/site-packages/soundfile.py",
          line 142, in &lt;module&gt;

          6bglb 2023-04-01T23:07:59.943Z from .util import DonutDataset, JSONParseEvaluator,
          load_json, save_json

          6bglb 2023-04-01T23:07:59.943Z OSError: sndfile library not found

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/site-packages/datasets/__init__.py",
          line 43, in &lt;module&gt;

          6bglb 2023-04-01T23:07:59.943Z File "/opt/conda/lib/python3.9/site-packages/donut/util.py",
          line 14, in &lt;module&gt;

          </code></pre>

          '
        raw: "Thank you for this example repo! \r\n\r\nI have tried to deploy this\
          \ example to an inference endpoint, but am getting the following errors\
          \ in the logs. It appears there is a missing library `raise OSError('sndfile\
          \ library not found')`. I'll try to take a look at this later, and may send\
          \ a PR, but wanted to raise this publicly incase someone can get to it before\
          \ I can.\r\n\r\nIs anyone else experiencing this error?\r\n\r\n```\r\n6bglb\
          \ 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/donut/util.py\"\
          , line 14, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/donut/__init__.py\"\
          , line 7, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z Traceback (most\
          \ recent call last):\r\n6bglb 2023-04-01T23:07:37.448Z File \"/repository/app.py\"\
          , line 11, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z from donut import\
          \ DonutModel\r\n6bglb 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py\"\
          , line 64, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z from datasets import\
          \ load_dataset\r\n6bglb 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/datasets/__init__.py\"\
          , line 43, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z from .arrow_dataset\
          \ import Dataset\r\n6bglb 2023-04-01T23:07:37.448Z from .util import DonutDataset,\
          \ JSONParseEvaluator, load_json, save_json\r\n6bglb 2023-04-01T23:07:37.449Z\
          \ return _bootstrap._gcd_import(name[level:], package, level)\r\n6bglb 2023-04-01T23:07:37.449Z\
          \ File \"/opt/conda/lib/python3.9/site-packages/soundfile.py\", line 142,\
          \ in <module>\r\n6bglb 2023-04-01T23:07:37.449Z raise OSError('sndfile library\
          \ not found')\r\n6bglb 2023-04-01T23:07:37.449Z OSError: sndfile library\
          \ not found\r\n6bglb 2023-04-01T23:07:37.449Z File \"/opt/conda/lib/python3.9/importlib/__init__.py\"\
          , line 127, in import_module\r\n6bglb 2023-04-01T23:07:37.449Z from . import\
          \ config\r\n6bglb 2023-04-01T23:07:37.449Z File \"/opt/conda/lib/python3.9/site-packages/datasets/config.py\"\
          , line 134, in <module>\r\n6bglb 2023-04-01T23:07:37.449Z importlib.import_module(\"\
          soundfile\").__libsndfile_version__\r\n6bglb 2023-04-01T23:07:41.352Z from\
          \ . import config\r\n6bglb 2023-04-01T23:07:41.352Z from .util import DonutDataset,\
          \ JSONParseEvaluator, load_json, save_json\r\n6bglb 2023-04-01T23:07:41.352Z\
          \ Traceback (most recent call last):\r\n6bglb 2023-04-01T23:07:41.352Z File\
          \ \"/opt/conda/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\
          \n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/datasets/config.py\"\
          , line 134, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/donut/util.py\"\
          , line 14, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z File \"/repository/app.py\"\
          , line 11, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z from .arrow_dataset\
          \ import Dataset\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/donut/__init__.py\"\
          , line 7, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z importlib.import_module(\"\
          soundfile\").__libsndfile_version__\r\n6bglb 2023-04-01T23:07:41.352Z from\
          \ datasets import load_dataset\r\n6bglb 2023-04-01T23:07:41.352Z from donut\
          \ import DonutModel\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py\"\
          , line 64, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/datasets/__init__.py\"\
          , line 43, in <module>\r\n6bglb 2023-04-01T23:07:41.353Z OSError: sndfile\
          \ library not found\r\n6bglb 2023-04-01T23:07:41.353Z File \"/opt/conda/lib/python3.9/site-packages/soundfile.py\"\
          , line 142, in <module>\r\n6bglb 2023-04-01T23:07:41.353Z raise OSError('sndfile\
          \ library not found')\r\n6bglb 2023-04-01T23:07:41.353Z return _bootstrap._gcd_import(name[level:],\
          \ package, level)\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/importlib/__init__.py\"\
          , line 127, in import_module\r\n6bglb 2023-04-01T23:07:59.943Z from datasets\
          \ import load_dataset\r\n6bglb 2023-04-01T23:07:59.943Z return _bootstrap._gcd_import(name[level:],\
          \ package, level)\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py\"\
          , line 64, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/datasets/config.py\"\
          , line 134, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z from . import\
          \ config\r\n6bglb 2023-04-01T23:07:59.943Z File \"/repository/app.py\",\
          \ line 11, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z importlib.import_module(\"\
          soundfile\").__libsndfile_version__\r\n6bglb 2023-04-01T23:07:59.943Z File\
          \ \"/opt/conda/lib/python3.9/site-packages/donut/__init__.py\", line 7,\
          \ in <module>\r\n6bglb 2023-04-01T23:07:59.943Z from donut import DonutModel\r\
          \n6bglb 2023-04-01T23:07:59.943Z Traceback (most recent call last):\r\n\
          6bglb 2023-04-01T23:07:59.943Z from .arrow_dataset import Dataset\r\n6bglb\
          \ 2023-04-01T23:07:59.943Z raise OSError('sndfile library not found')\r\n\
          6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/soundfile.py\"\
          , line 142, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z from .util import\
          \ DonutDataset, JSONParseEvaluator, load_json, save_json\r\n6bglb 2023-04-01T23:07:59.943Z\
          \ OSError: sndfile library not found\r\n6bglb 2023-04-01T23:07:59.943Z File\
          \ \"/opt/conda/lib/python3.9/site-packages/datasets/__init__.py\", line\
          \ 43, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/donut/util.py\"\
          , line 14, in <module>\r\n```"
        updatedAt: '2023-04-01T23:18:44.482Z'
      numEdits: 0
      reactions: []
    id: 6428bbd468faf6ddab586c17
    type: comment
  author: jacklangerman
  content: "Thank you for this example repo! \r\n\r\nI have tried to deploy this example\
    \ to an inference endpoint, but am getting the following errors in the logs. It\
    \ appears there is a missing library `raise OSError('sndfile library not found')`.\
    \ I'll try to take a look at this later, and may send a PR, but wanted to raise\
    \ this publicly incase someone can get to it before I can.\r\n\r\nIs anyone else\
    \ experiencing this error?\r\n\r\n```\r\n6bglb 2023-04-01T23:07:37.448Z File \"\
    /opt/conda/lib/python3.9/site-packages/donut/util.py\", line 14, in <module>\r\
    \n6bglb 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/donut/__init__.py\"\
    , line 7, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z Traceback (most recent\
    \ call last):\r\n6bglb 2023-04-01T23:07:37.448Z File \"/repository/app.py\", line\
    \ 11, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z from donut import DonutModel\r\
    \n6bglb 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py\"\
    , line 64, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z from datasets import\
    \ load_dataset\r\n6bglb 2023-04-01T23:07:37.448Z File \"/opt/conda/lib/python3.9/site-packages/datasets/__init__.py\"\
    , line 43, in <module>\r\n6bglb 2023-04-01T23:07:37.448Z from .arrow_dataset import\
    \ Dataset\r\n6bglb 2023-04-01T23:07:37.448Z from .util import DonutDataset, JSONParseEvaluator,\
    \ load_json, save_json\r\n6bglb 2023-04-01T23:07:37.449Z return _bootstrap._gcd_import(name[level:],\
    \ package, level)\r\n6bglb 2023-04-01T23:07:37.449Z File \"/opt/conda/lib/python3.9/site-packages/soundfile.py\"\
    , line 142, in <module>\r\n6bglb 2023-04-01T23:07:37.449Z raise OSError('sndfile\
    \ library not found')\r\n6bglb 2023-04-01T23:07:37.449Z OSError: sndfile library\
    \ not found\r\n6bglb 2023-04-01T23:07:37.449Z File \"/opt/conda/lib/python3.9/importlib/__init__.py\"\
    , line 127, in import_module\r\n6bglb 2023-04-01T23:07:37.449Z from . import config\r\
    \n6bglb 2023-04-01T23:07:37.449Z File \"/opt/conda/lib/python3.9/site-packages/datasets/config.py\"\
    , line 134, in <module>\r\n6bglb 2023-04-01T23:07:37.449Z importlib.import_module(\"\
    soundfile\").__libsndfile_version__\r\n6bglb 2023-04-01T23:07:41.352Z from . import\
    \ config\r\n6bglb 2023-04-01T23:07:41.352Z from .util import DonutDataset, JSONParseEvaluator,\
    \ load_json, save_json\r\n6bglb 2023-04-01T23:07:41.352Z Traceback (most recent\
    \ call last):\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/importlib/__init__.py\"\
    , line 127, in import_module\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/datasets/config.py\"\
    , line 134, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/donut/util.py\"\
    , line 14, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z File \"/repository/app.py\"\
    , line 11, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z from .arrow_dataset import\
    \ Dataset\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/donut/__init__.py\"\
    , line 7, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z importlib.import_module(\"\
    soundfile\").__libsndfile_version__\r\n6bglb 2023-04-01T23:07:41.352Z from datasets\
    \ import load_dataset\r\n6bglb 2023-04-01T23:07:41.352Z from donut import DonutModel\r\
    \n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py\"\
    , line 64, in <module>\r\n6bglb 2023-04-01T23:07:41.352Z File \"/opt/conda/lib/python3.9/site-packages/datasets/__init__.py\"\
    , line 43, in <module>\r\n6bglb 2023-04-01T23:07:41.353Z OSError: sndfile library\
    \ not found\r\n6bglb 2023-04-01T23:07:41.353Z File \"/opt/conda/lib/python3.9/site-packages/soundfile.py\"\
    , line 142, in <module>\r\n6bglb 2023-04-01T23:07:41.353Z raise OSError('sndfile\
    \ library not found')\r\n6bglb 2023-04-01T23:07:41.353Z return _bootstrap._gcd_import(name[level:],\
    \ package, level)\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/importlib/__init__.py\"\
    , line 127, in import_module\r\n6bglb 2023-04-01T23:07:59.943Z from datasets import\
    \ load_dataset\r\n6bglb 2023-04-01T23:07:59.943Z return _bootstrap._gcd_import(name[level:],\
    \ package, level)\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/datasets/arrow_dataset.py\"\
    , line 64, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/datasets/config.py\"\
    , line 134, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z from . import config\r\
    \n6bglb 2023-04-01T23:07:59.943Z File \"/repository/app.py\", line 11, in <module>\r\
    \n6bglb 2023-04-01T23:07:59.943Z importlib.import_module(\"soundfile\").__libsndfile_version__\r\
    \n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/donut/__init__.py\"\
    , line 7, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z from donut import DonutModel\r\
    \n6bglb 2023-04-01T23:07:59.943Z Traceback (most recent call last):\r\n6bglb 2023-04-01T23:07:59.943Z\
    \ from .arrow_dataset import Dataset\r\n6bglb 2023-04-01T23:07:59.943Z raise OSError('sndfile\
    \ library not found')\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/soundfile.py\"\
    , line 142, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z from .util import DonutDataset,\
    \ JSONParseEvaluator, load_json, save_json\r\n6bglb 2023-04-01T23:07:59.943Z OSError:\
    \ sndfile library not found\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/datasets/__init__.py\"\
    , line 43, in <module>\r\n6bglb 2023-04-01T23:07:59.943Z File \"/opt/conda/lib/python3.9/site-packages/donut/util.py\"\
    , line 14, in <module>\r\n```"
  created_at: 2023-04-01 22:18:44+00:00
  edited: false
  hidden: false
  id: 6428bbd468faf6ddab586c17
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: philschmid/space-naver-donut-cord
repo_type: model
status: open
target_branch: null
title: OSError('sndfile library not found')
