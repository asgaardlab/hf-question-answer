!!python/object:huggingface_hub.community.DiscussionWithDetails
author: tordbb
conflicting_files: null
created_at: 2023-08-14 06:51:23+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d61d8da7d889ade6b0ae39f192dc0b89.svg
      fullname: "Tord Brands\xE6ter"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tordbb
      type: user
    createdAt: '2023-08-14T07:51:23.000Z'
    data:
      edited: false
      editors:
      - tordbb
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8085333704948425
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d61d8da7d889ade6b0ae39f192dc0b89.svg
          fullname: "Tord Brands\xE6ter"
          isHf: false
          isPro: false
          name: tordbb
          type: user
        html: '<p>Hi there,<br>In the example used, it seems you encode the same list
          of sentences twice, then you compare those (identical) encodings. Is this
          what the example intended to show? </p>

          <pre><code>embeddings_1 = model.encode(sentences)

          embeddings_2 = model.encode(sentences)

          similarity = embeddings_1 @ embeddings_2.T

          print(similarity)

          </code></pre>

          <p>I hoped to see an example of how you compare the similarity of the two
          sentences in that list, which possibly could have looked something like
          this:</p>

          <pre><code>embeddings_1 = model.encode(sentences[0])

          embeddings_2 = model.encode(sentences[1])

          similarity = embeddings_1 @ embeddings_2.T

          print(similarity)

          </code></pre>

          '
        raw: "Hi there, \r\nIn the example used, it seems you encode the same list\
          \ of sentences twice, then you compare those (identical) encodings. Is this\
          \ what the example intended to show? \r\n```\r\nembeddings_1 = model.encode(sentences)\r\
          \nembeddings_2 = model.encode(sentences)\r\nsimilarity = embeddings_1 @\
          \ embeddings_2.T\r\nprint(similarity)\r\n```\r\nI hoped to see an example\
          \ of how you compare the similarity of the two sentences in that list, which\
          \ possibly could have looked something like this:\r\n```\r\nembeddings_1\
          \ = model.encode(sentences[0])\r\nembeddings_2 = model.encode(sentences[1])\r\
          \nsimilarity = embeddings_1 @ embeddings_2.T\r\nprint(similarity)\r\n```"
        updatedAt: '2023-08-14T07:51:23.122Z'
      numEdits: 0
      reactions: []
    id: 64d9dcfb260b9bd77eded015
    type: comment
  author: tordbb
  content: "Hi there, \r\nIn the example used, it seems you encode the same list of\
    \ sentences twice, then you compare those (identical) encodings. Is this what\
    \ the example intended to show? \r\n```\r\nembeddings_1 = model.encode(sentences)\r\
    \nembeddings_2 = model.encode(sentences)\r\nsimilarity = embeddings_1 @ embeddings_2.T\r\
    \nprint(similarity)\r\n```\r\nI hoped to see an example of how you compare the\
    \ similarity of the two sentences in that list, which possibly could have looked\
    \ something like this:\r\n```\r\nembeddings_1 = model.encode(sentences[0])\r\n\
    embeddings_2 = model.encode(sentences[1])\r\nsimilarity = embeddings_1 @ embeddings_2.T\r\
    \nprint(similarity)\r\n```"
  created_at: 2023-08-14 06:51:23+00:00
  edited: false
  hidden: false
  id: 64d9dcfb260b9bd77eded015
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
      fullname: Xiao
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Shitao
      type: user
    createdAt: '2023-08-14T08:07:12.000Z'
    data:
      edited: false
      editors:
      - Shitao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9262472987174988
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
          fullname: Xiao
          isHf: false
          isPro: false
          name: Shitao
          type: user
        html: '<p>Hi, thanks for your interest!<br>We want to show the method to compute
          the similarities between two lists of sentences,  where you can replace
          the <code>sentences</code> in <code>embeddings_2 = model.encode(sentences)</code>
          with any other list of sentences.  This method will be helpful when the
          user needs to find the most similar sentence from a list of sentences.<br>Your
          method is true to compute the similarity between sentence_1 and sentence_2.</p>

          '
        raw: 'Hi, thanks for your interest!

          We want to show the method to compute the similarities between two lists
          of sentences,  where you can replace the `sentences` in `embeddings_2 =
          model.encode(sentences)` with any other list of sentences.  This method
          will be helpful when the user needs to find the most similar sentence from
          a list of sentences.

          Your method is true to compute the similarity between sentence_1 and sentence_2.'
        updatedAt: '2023-08-14T08:07:12.520Z'
      numEdits: 0
      reactions: []
    id: 64d9e0b048cb81f8bcbd80ea
    type: comment
  author: Shitao
  content: 'Hi, thanks for your interest!

    We want to show the method to compute the similarities between two lists of sentences,  where
    you can replace the `sentences` in `embeddings_2 = model.encode(sentences)` with
    any other list of sentences.  This method will be helpful when the user needs
    to find the most similar sentence from a list of sentences.

    Your method is true to compute the similarity between sentence_1 and sentence_2.'
  created_at: 2023-08-14 07:07:12+00:00
  edited: false
  hidden: false
  id: 64d9e0b048cb81f8bcbd80ea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d61d8da7d889ade6b0ae39f192dc0b89.svg
      fullname: "Tord Brands\xE6ter"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tordbb
      type: user
    createdAt: '2023-08-14T12:02:16.000Z'
    data:
      edited: false
      editors:
      - tordbb
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8324682712554932
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d61d8da7d889ade6b0ae39f192dc0b89.svg
          fullname: "Tord Brands\xE6ter"
          isHf: false
          isPro: false
          name: tordbb
          type: user
        html: "<p>Thanks for explaining this, I see that makes sense!<br>What threw\
          \ me off was the fact that you create both embeddings_1, and embeddings_2\
          \ based on the same variable, sentences.<br>If you want to make the usefulness\
          \ of this model more obvious to new readers, you may want to change the\
          \ example to the following:</p>\n<pre><code>from FlagEmbedding import FlagModel\n\
          sentences_1 = [\"\u6837\u4F8B\u6570\u636E-1\", \"\u6837\u4F8B\u6570\u636E\
          -2\"]\nsentences_2 = [\"\u6837\u4F8B\u6570\u636E-3\", \"\u6837\u4F8B\u6570\
          \u636E-4\", \"\u6837\u4F8B\u6570\u636E-5\"]\nmodel = FlagModel('BAAI/bge-large-zh',\
          \ query_instruction_for_retrieval=\"\u4E3A\u8FD9\u4E2A\u53E5\u5B50\u751F\
          \u6210\u8868\u793A\u4EE5\u7528\u4E8E\u68C0\u7D22\u76F8\u5173\u6587\u7AE0\
          \uFF1A\")\nembeddings_1 = model.encode(sentences_1)\nembeddings_2 = model.encode(sentences_2)\n\
          similarity = embeddings_1 @ embeddings_2.T\nprint(similarity)\n</code></pre>\n\
          <p>PS; thank you for your work with this model. I just used the model to\
          \ evaluate the caption generated from an image to the prompt from which\
          \ the image was generated.<br>Seems like it did a good job!</p>\n"
        raw: "Thanks for explaining this, I see that makes sense!\nWhat threw me off\
          \ was the fact that you create both embeddings_1, and embeddings_2 based\
          \ on the same variable, sentences. \nIf you want to make the usefulness\
          \ of this model more obvious to new readers, you may want to change the\
          \ example to the following:\n\n```\nfrom FlagEmbedding import FlagModel\n\
          sentences_1 = [\"\u6837\u4F8B\u6570\u636E-1\", \"\u6837\u4F8B\u6570\u636E\
          -2\"]\nsentences_2 = [\"\u6837\u4F8B\u6570\u636E-3\", \"\u6837\u4F8B\u6570\
          \u636E-4\", \"\u6837\u4F8B\u6570\u636E-5\"]\nmodel = FlagModel('BAAI/bge-large-zh',\
          \ query_instruction_for_retrieval=\"\u4E3A\u8FD9\u4E2A\u53E5\u5B50\u751F\
          \u6210\u8868\u793A\u4EE5\u7528\u4E8E\u68C0\u7D22\u76F8\u5173\u6587\u7AE0\
          \uFF1A\")\nembeddings_1 = model.encode(sentences_1)\nembeddings_2 = model.encode(sentences_2)\n\
          similarity = embeddings_1 @ embeddings_2.T\nprint(similarity)\n```\n\nPS;\
          \ thank you for your work with this model. I just used the model to evaluate\
          \ the caption generated from an image to the prompt from which the image\
          \ was generated. \nSeems like it did a good job!"
        updatedAt: '2023-08-14T12:02:16.663Z'
      numEdits: 0
      reactions: []
    id: 64da17c870446182be4bcf1b
    type: comment
  author: tordbb
  content: "Thanks for explaining this, I see that makes sense!\nWhat threw me off\
    \ was the fact that you create both embeddings_1, and embeddings_2 based on the\
    \ same variable, sentences. \nIf you want to make the usefulness of this model\
    \ more obvious to new readers, you may want to change the example to the following:\n\
    \n```\nfrom FlagEmbedding import FlagModel\nsentences_1 = [\"\u6837\u4F8B\u6570\
    \u636E-1\", \"\u6837\u4F8B\u6570\u636E-2\"]\nsentences_2 = [\"\u6837\u4F8B\u6570\
    \u636E-3\", \"\u6837\u4F8B\u6570\u636E-4\", \"\u6837\u4F8B\u6570\u636E-5\"]\n\
    model = FlagModel('BAAI/bge-large-zh', query_instruction_for_retrieval=\"\u4E3A\
    \u8FD9\u4E2A\u53E5\u5B50\u751F\u6210\u8868\u793A\u4EE5\u7528\u4E8E\u68C0\u7D22\
    \u76F8\u5173\u6587\u7AE0\uFF1A\")\nembeddings_1 = model.encode(sentences_1)\n\
    embeddings_2 = model.encode(sentences_2)\nsimilarity = embeddings_1 @ embeddings_2.T\n\
    print(similarity)\n```\n\nPS; thank you for your work with this model. I just\
    \ used the model to evaluate the caption generated from an image to the prompt\
    \ from which the image was generated. \nSeems like it did a good job!"
  created_at: 2023-08-14 11:02:16+00:00
  edited: false
  hidden: false
  id: 64da17c870446182be4bcf1b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
      fullname: Xiao
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Shitao
      type: user
    createdAt: '2023-08-14T14:43:33.000Z'
    data:
      edited: false
      editors:
      - Shitao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9008966088294983
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0675d05a52192ee14e9ab1633353956.svg
          fullname: Xiao
          isHf: false
          isPro: false
          name: Shitao
          type: user
        html: '<p>Thanks for your advice! I will update the readme.</p>

          '
        raw: Thanks for your advice! I will update the readme.
        updatedAt: '2023-08-14T14:43:33.763Z'
      numEdits: 0
      reactions: []
    id: 64da3d95311afacb539358bb
    type: comment
  author: Shitao
  content: Thanks for your advice! I will update the readme.
  created_at: 2023-08-14 13:43:33+00:00
  edited: false
  hidden: false
  id: 64da3d95311afacb539358bb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a6d2fe8117535665d7790e0b700b1fbd.svg
      fullname: Wilfredo Martel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wilfoderek
      type: user
    createdAt: '2023-12-28T00:36:50.000Z'
    data:
      edited: false
      editors:
      - wilfoderek
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8666929006576538
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a6d2fe8117535665d7790e0b700b1fbd.svg
          fullname: Wilfredo Martel
          isHf: false
          isPro: false
          name: wilfoderek
          type: user
        html: '<p>Any recomendation to reproduce the model for spanish?</p>

          '
        raw: Any recomendation to reproduce the model for spanish?
        updatedAt: '2023-12-28T00:36:50.447Z'
      numEdits: 0
      reactions: []
    id: 658cc322bc3644bd23abbc58
    type: comment
  author: wilfoderek
  content: Any recomendation to reproduce the model for spanish?
  created_at: 2023-12-28 00:36:50+00:00
  edited: false
  hidden: false
  id: 658cc322bc3644bd23abbc58
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: BAAI/bge-large-en
repo_type: model
status: open
target_branch: null
title: Example in readme could need explanation
