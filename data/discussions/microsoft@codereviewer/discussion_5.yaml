!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Rajanpanchal
conflicting_files: null
created_at: 2023-05-17 21:52:12+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/24993867aecfd71a33eae04e436e74a8.svg
      fullname: rjn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Rajanpanchal
      type: user
    createdAt: '2023-05-17T22:52:12.000Z'
    data:
      edited: false
      editors:
      - Rajanpanchal
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/24993867aecfd71a33eae04e436e74a8.svg
          fullname: rjn
          isHf: false
          isPro: false
          name: Rajanpanchal
          type: user
        html: '<p>I am using inference API and sent a class and it sent back is "{
          generated_text: ''Please remove this extra line'' } " I dont know what it
          means</p>

          '
        raw: "I am using inference API and sent a class and it sent back is \"{ generated_text:\
          \ '<msg>Please remove this extra line' } \" I dont know what it means\r\n"
        updatedAt: '2023-05-17T22:52:12.138Z'
      numEdits: 0
      reactions: []
    id: 64655a9c0e6c7618f6142f75
    type: comment
  author: Rajanpanchal
  content: "I am using inference API and sent a class and it sent back is \"{ generated_text:\
    \ '<msg>Please remove this extra line' } \" I dont know what it means\r\n"
  created_at: 2023-05-17 21:52:12+00:00
  edited: false
  hidden: false
  id: 64655a9c0e6c7618f6142f75
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3b41d956b7001e263e67b492d14b4368.svg
      fullname: Edwin Jackson
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ejkg
      type: user
    createdAt: '2023-05-27T16:45:23.000Z'
    data:
      edited: false
      editors:
      - ejkg
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3b41d956b7001e263e67b492d14b4368.svg
          fullname: Edwin Jackson
          isHf: false
          isPro: false
          name: ejkg
          type: user
        html: '<p>I agree the instructions on how to get this up and running and how
          to prompt the model properly are very vague.</p>

          '
        raw: I agree the instructions on how to get this up and running and how to
          prompt the model properly are very vague.
        updatedAt: '2023-05-27T16:45:23.875Z'
      numEdits: 0
      reactions: []
    id: 647233a35afd6a6965876474
    type: comment
  author: ejkg
  content: I agree the instructions on how to get this up and running and how to prompt
    the model properly are very vague.
  created_at: 2023-05-27 15:45:23+00:00
  edited: false
  hidden: false
  id: 647233a35afd6a6965876474
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677229275065-62a334f03edd2a8e2aeb059e.png?w=200&h=200&f=face
      fullname: Ahmed Haytham
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Ahmed007
      type: user
    createdAt: '2023-08-13T07:37:43.000Z'
    data:
      edited: false
      editors:
      - Ahmed007
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5102482438087463
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677229275065-62a334f03edd2a8e2aeb059e.png?w=200&h=200&f=face
          fullname: Ahmed Haytham
          isHf: false
          isPro: false
          name: Ahmed007
          type: user
        html: "<p>I found these ways</p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/rzJBtVEDtZi5H024I6cFQ.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/rzJBtVEDtZi5H024I6cFQ.png\"\
          ></a></p>\n<pre><code class=\"language-python\"><span class=\"hljs-keyword\"\
          >from</span> transformers <span class=\"hljs-keyword\">import</span> pipeline\n\
          \npipe = pipeline(<span class=\"hljs-string\">\"text2text-generation\"</span>,\
          \ model=<span class=\"hljs-string\">\"microsoft/codereviewer\"</span>)\n\
          \ncode = <span class=\"hljs-string\">\"\"\"</span>\n<span class=\"hljs-string\"\
          >public class MockExecutorLoader implements ExecutorLoader {</span>\n<span\
          \ class=\"hljs-string\">public void unassignExecutor(int executionId) throws\
          \ ExecutorManagerException {</span>\n<span class=\"hljs-string\">executionExecutorMapping.remove(executionId);</span>\n\
          <span class=\"hljs-string\">}</span>\n<span class=\"hljs-string\">[ADD]</span>\n\
          <span class=\"hljs-string\">[ADD] <span data-props=\"{&quot;user&quot;:&quot;Override&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Override\"\
          >@<span class=\"underline\">Override</span></a></span>\n\n\t</span></span></span>\n\
          <span class=\"hljs-string\">[ADD] public List&lt;ExecutableFlow&gt; fetchRecentlyFinishedFlows(long\
          \ lifeTimeMs)</span>\n<span class=\"hljs-string\">[ADD] throws ExecutorManagerException\
          \ {</span>\n<span class=\"hljs-string\">[ADD] return null;</span>\n<span\
          \ class=\"hljs-string\">[ADD] }</span>\n<span class=\"hljs-string\">}</span>\n\
          <span class=\"hljs-string\">\"\"\"</span>\n\npipe(code, max_length=<span\
          \ class=\"hljs-number\">512</span>, num_return_sequences=<span class=\"\
          hljs-number\">1</span>)[<span class=\"hljs-number\">0</span>][<span class=\"\
          hljs-string\">\"generated_text\"</span>]\n</code></pre>\n<p><a rel=\"nofollow\"\
          \ href=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/Si4CnrPLCA4bI3cFmN9aX.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/Si4CnrPLCA4bI3cFmN9aX.png\"\
          ></a></p>\n<pre><code class=\"language-python\">code_diff = <span class=\"\
          hljs-string\">\"\"\"@@ -11,6 +11,8 @@\\n \\n         invoiceDtoCopy.setState(InvoiceState.OPEN);\\\
          n         _invoiceAggregateRepository.updateInvoiceState(invoiceCopy, InvoiceState.OPEN);\\\
          n+        _erpIntegrationService.createAndSendInvoiceEvent(invoiceCopy);\\\
          n+\\n       }\\n     }\\n \\n\"\"\"</span>\n<span class=\"hljs-built_in\"\
          >print</span>(<span class=\"hljs-string\">'code: '</span>,code_diff)\npipe(code_diff,\
          \ max_length=<span class=\"hljs-number\">512</span>, num_return_sequences=<span\
          \ class=\"hljs-number\">1</span>)[<span class=\"hljs-number\">0</span>][<span\
          \ class=\"hljs-string\">\"generated_text\"</span>]\n</code></pre>\n<p>ref:-<br><a\
          \ rel=\"nofollow\" href=\"https://arxiv.org/pdf/2203.09095.pdf\">https://arxiv.org/pdf/2203.09095.pdf</a></p>\n\
          <p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/RtN-CsMpLhferledu6rBf.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/RtN-CsMpLhferledu6rBf.png\"\
          ></a></p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/PjTdo7dWCEItfrCTNU9QV.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/PjTdo7dWCEItfrCTNU9QV.png\"\
          ></a></p>\n"
        raw: 'I found these ways


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/rzJBtVEDtZi5H024I6cFQ.png)


          ```python

          from transformers import pipeline


          pipe = pipeline("text2text-generation", model="microsoft/codereviewer")


          code = """

          public class MockExecutorLoader implements ExecutorLoader {

          public void unassignExecutor(int executionId) throws ExecutorManagerException
          {

          executionExecutorMapping.remove(executionId);

          }

          [ADD]

          [ADD] @Override

          [ADD] public List<ExecutableFlow> fetchRecentlyFinishedFlows(long lifeTimeMs)

          [ADD] throws ExecutorManagerException {

          [ADD] return null;

          [ADD] }

          }

          """


          pipe(code, max_length=512, num_return_sequences=1)[0]["generated_text"]


          ```


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/Si4CnrPLCA4bI3cFmN9aX.png)


          ```python

          code_diff = """@@ -11,6 +11,8 @@\n \n         invoiceDtoCopy.setState(InvoiceState.OPEN);\n         _invoiceAggregateRepository.updateInvoiceState(invoiceCopy,
          InvoiceState.OPEN);\n+        _erpIntegrationService.createAndSendInvoiceEvent(invoiceCopy);\n+\n       }\n     }\n
          \n"""

          print(''code: '',code_diff)

          pipe(code_diff, max_length=512, num_return_sequences=1)[0]["generated_text"]


          ```


          ref:-

          https://arxiv.org/pdf/2203.09095.pdf


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/RtN-CsMpLhferledu6rBf.png)



          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/PjTdo7dWCEItfrCTNU9QV.png)

          '
        updatedAt: '2023-08-13T07:37:43.924Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\u2764\uFE0F"
        users:
        - SimonSkywalker
        - fasterinnerlooper
    id: 64d888475900b6d111150512
    type: comment
  author: Ahmed007
  content: 'I found these ways


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/rzJBtVEDtZi5H024I6cFQ.png)


    ```python

    from transformers import pipeline


    pipe = pipeline("text2text-generation", model="microsoft/codereviewer")


    code = """

    public class MockExecutorLoader implements ExecutorLoader {

    public void unassignExecutor(int executionId) throws ExecutorManagerException
    {

    executionExecutorMapping.remove(executionId);

    }

    [ADD]

    [ADD] @Override

    [ADD] public List<ExecutableFlow> fetchRecentlyFinishedFlows(long lifeTimeMs)

    [ADD] throws ExecutorManagerException {

    [ADD] return null;

    [ADD] }

    }

    """


    pipe(code, max_length=512, num_return_sequences=1)[0]["generated_text"]


    ```


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/Si4CnrPLCA4bI3cFmN9aX.png)


    ```python

    code_diff = """@@ -11,6 +11,8 @@\n \n         invoiceDtoCopy.setState(InvoiceState.OPEN);\n         _invoiceAggregateRepository.updateInvoiceState(invoiceCopy,
    InvoiceState.OPEN);\n+        _erpIntegrationService.createAndSendInvoiceEvent(invoiceCopy);\n+\n       }\n     }\n
    \n"""

    print(''code: '',code_diff)

    pipe(code_diff, max_length=512, num_return_sequences=1)[0]["generated_text"]


    ```


    ref:-

    https://arxiv.org/pdf/2203.09095.pdf


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/RtN-CsMpLhferledu6rBf.png)



    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/62a334f03edd2a8e2aeb059e/PjTdo7dWCEItfrCTNU9QV.png)

    '
  created_at: 2023-08-13 06:37:43+00:00
  edited: false
  hidden: false
  id: 64d888475900b6d111150512
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: microsoft/codereviewer
repo_type: model
status: open
target_branch: null
title: how to use this?
