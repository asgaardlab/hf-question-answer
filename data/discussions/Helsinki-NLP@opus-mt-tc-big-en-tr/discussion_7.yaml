!!python/object:huggingface_hub.community.DiscussionWithDetails
author: MelihDumm
conflicting_files: null
created_at: 2023-11-28 10:41:18+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d73103fba24c8a2e343f658fa0510f98.svg
      fullname: Melih Dumm
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MelihDumm
      type: user
    createdAt: '2023-11-28T10:41:18.000Z'
    data:
      edited: false
      editors:
      - MelihDumm
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6645983457565308
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d73103fba24c8a2e343f658fa0510f98.svg
          fullname: Melih Dumm
          isHf: false
          isPro: false
          name: MelihDumm
          type: user
        html: "<p>When I want to translate an english text to turkish, sometimes the\
          \ text is cut off in the middle of the sentence, or last sentences are missing\
          \ altogether. Sometimes it translates only the first sentence and don't\
          \ bother with the rest. Approximately 5% of the translations are like this.\
          \ Is there anything I am missing? Even when I copy/paste the sample code,\
          \ the error is there (or using the space in the page)</p>\n<p>Here is an\
          \ example english text: (I know this is a fancy example but there are 'normal'\
          \ language cases too)<br>\"Ahoy there, me hearties! Ye be askin' about rainbows,\
          \ I presume? Well, let me tell ye a thing or two 'bout them. Rainbows are\
          \ caused by the refraction and dispersion of light in water droplets, usually\
          \ in the atmosphere during or after rainfall. The way it works is that when\
          \ the sun shines on raindrops, the light is split into its component colors\
          \ - red, orange, yellow, green, blue, and violet - which then spread out\
          \ and form a rainbow arch in the sky. Now ye might be wondering why rainbows\
          \ always appear with their back to the sun. That's because our eyes perceive\
          \ the light reflected by the raindrops as originating from behind us, even\
          \ though it's actually coming from above. So there ya have it, me buckos!\
          \ Rainbows ain't nothin' but a bunch of pretty colors in the sky, but they\
          \ can sure brighten up a dreary day at sea. Happy sailin', and may yer next\
          \ rainbow be as colorful as the parrots on me shoulder!\"</p>\n<p>when I\
          \ translate it, it is cut off from \" yellow, green, blue, and violet -\
          \ \". After these words are missing.<br>\"Ahoy orada, kalplerim! G\xF6kku\u015F\
          a\u011F\u0131 hakk\u0131nda soru soruyorsunuz, tahmin ediyorum? \u015Eey,\
          \ size bir iki \u015Fey s\xF6yleyeyim 'onlarla ilgili. G\xF6kku\u015Fa\u011F\
          \u0131n\u0131n nedeni, suyun damlac\u0131klar\u0131nda \u0131\u015F\u0131\
          \u011F\u0131n k\u0131r\u0131lmas\u0131 ve da\u011F\u0131lmas\u0131d\u0131\
          r, genellikle ya\u011Fmur s\u0131ras\u0131nda veya sonras\u0131nda atmosferde\
          \ olur. Bu \u015Fekilde, g\xFCne\u015F ya\u011Fmur damlalar\u0131nda parlad\u0131\
          \u011F\u0131nda, \u0131\u015F\u0131k neden bile\u015Fen renklerine b\xF6\
          l\xFCn\xFCr - k\u0131rm\u0131z\u0131, turuncu, sar\u0131, ye\u015Fil, mavi\
          \ ve mor -\"</p>\n<p>The code is:</p>\n<p>model_nameEn2Tr = curdir + \"\
          /models/opus-mt-tc-big-en-tr\"<br>tokenizerEn2Tr = MarianTokenizer.from_pretrained(model_nameEn2Tr)<br>modelEn2Tr\
          \ = MarianMTModel.from_pretrained(model_nameEn2Tr)</p>\n<p>def translateEn2Tr(src_text):<br>\
          \    translated = modelEn2Tr.generate(**tokenizerEn2Tr(src_text, return_tensors=\"\
          pt\", padding=True))<br>    translated_text = \"\"  # Initialize an empty\
          \ string<br>    for t in translated:<br>        translated_text += tokenizerEn2Tr.decode(t,\
          \ skip_special_tokens=True)<br>    return translated_text</p>\n"
        raw: "When I want to translate an english text to turkish, sometimes the text\
          \ is cut off in the middle of the sentence, or last sentences are missing\
          \ altogether. Sometimes it translates only the first sentence and don't\
          \ bother with the rest. Approximately 5% of the translations are like this.\
          \ Is there anything I am missing? Even when I copy/paste the sample code,\
          \ the error is there (or using the space in the page)\r\n\r\nHere is an\
          \ example english text: (I know this is a fancy example but there are 'normal'\
          \ language cases too)\r\n\"Ahoy there, me hearties! Ye be askin' about rainbows,\
          \ I presume? Well, let me tell ye a thing or two 'bout them. Rainbows are\
          \ caused by the refraction and dispersion of light in water droplets, usually\
          \ in the atmosphere during or after rainfall. The way it works is that when\
          \ the sun shines on raindrops, the light is split into its component colors\
          \ - red, orange, yellow, green, blue, and violet - which then spread out\
          \ and form a rainbow arch in the sky. Now ye might be wondering why rainbows\
          \ always appear with their back to the sun. That's because our eyes perceive\
          \ the light reflected by the raindrops as originating from behind us, even\
          \ though it's actually coming from above. So there ya have it, me buckos!\
          \ Rainbows ain't nothin' but a bunch of pretty colors in the sky, but they\
          \ can sure brighten up a dreary day at sea. Happy sailin', and may yer next\
          \ rainbow be as colorful as the parrots on me shoulder!\"\r\n\r\nwhen I\
          \ translate it, it is cut off from \" yellow, green, blue, and violet -\
          \ \". After these words are missing.\r\n\"Ahoy orada, kalplerim! G\xF6kku\u015F\
          a\u011F\u0131 hakk\u0131nda soru soruyorsunuz, tahmin ediyorum? \u015Eey,\
          \ size bir iki \u015Fey s\xF6yleyeyim 'onlarla ilgili. G\xF6kku\u015Fa\u011F\
          \u0131n\u0131n nedeni, suyun damlac\u0131klar\u0131nda \u0131\u015F\u0131\
          \u011F\u0131n k\u0131r\u0131lmas\u0131 ve da\u011F\u0131lmas\u0131d\u0131\
          r, genellikle ya\u011Fmur s\u0131ras\u0131nda veya sonras\u0131nda atmosferde\
          \ olur. Bu \u015Fekilde, g\xFCne\u015F ya\u011Fmur damlalar\u0131nda parlad\u0131\
          \u011F\u0131nda, \u0131\u015F\u0131k neden bile\u015Fen renklerine b\xF6\
          l\xFCn\xFCr - k\u0131rm\u0131z\u0131, turuncu, sar\u0131, ye\u015Fil, mavi\
          \ ve mor -\"\r\n\r\nThe code is:\r\n\r\nmodel_nameEn2Tr = curdir + \"/models/opus-mt-tc-big-en-tr\"\
          \r\ntokenizerEn2Tr = MarianTokenizer.from_pretrained(model_nameEn2Tr)\r\n\
          modelEn2Tr = MarianMTModel.from_pretrained(model_nameEn2Tr)\r\n\r\ndef translateEn2Tr(src_text):\r\
          \n    translated = modelEn2Tr.generate(**tokenizerEn2Tr(src_text, return_tensors=\"\
          pt\", padding=True))\r\n    translated_text = \"\"  # Initialize an empty\
          \ string\r\n    for t in translated:\r\n        translated_text += tokenizerEn2Tr.decode(t,\
          \ skip_special_tokens=True)\r\n    return translated_text\r\n"
        updatedAt: '2023-11-28T10:41:18.738Z'
      numEdits: 0
      reactions: []
    id: 6565c3ce8556d5bbc2b442ea
    type: comment
  author: MelihDumm
  content: "When I want to translate an english text to turkish, sometimes the text\
    \ is cut off in the middle of the sentence, or last sentences are missing altogether.\
    \ Sometimes it translates only the first sentence and don't bother with the rest.\
    \ Approximately 5% of the translations are like this. Is there anything I am missing?\
    \ Even when I copy/paste the sample code, the error is there (or using the space\
    \ in the page)\r\n\r\nHere is an example english text: (I know this is a fancy\
    \ example but there are 'normal' language cases too)\r\n\"Ahoy there, me hearties!\
    \ Ye be askin' about rainbows, I presume? Well, let me tell ye a thing or two\
    \ 'bout them. Rainbows are caused by the refraction and dispersion of light in\
    \ water droplets, usually in the atmosphere during or after rainfall. The way\
    \ it works is that when the sun shines on raindrops, the light is split into its\
    \ component colors - red, orange, yellow, green, blue, and violet - which then\
    \ spread out and form a rainbow arch in the sky. Now ye might be wondering why\
    \ rainbows always appear with their back to the sun. That's because our eyes perceive\
    \ the light reflected by the raindrops as originating from behind us, even though\
    \ it's actually coming from above. So there ya have it, me buckos! Rainbows ain't\
    \ nothin' but a bunch of pretty colors in the sky, but they can sure brighten\
    \ up a dreary day at sea. Happy sailin', and may yer next rainbow be as colorful\
    \ as the parrots on me shoulder!\"\r\n\r\nwhen I translate it, it is cut off from\
    \ \" yellow, green, blue, and violet - \". After these words are missing.\r\n\"\
    Ahoy orada, kalplerim! G\xF6kku\u015Fa\u011F\u0131 hakk\u0131nda soru soruyorsunuz,\
    \ tahmin ediyorum? \u015Eey, size bir iki \u015Fey s\xF6yleyeyim 'onlarla ilgili.\
    \ G\xF6kku\u015Fa\u011F\u0131n\u0131n nedeni, suyun damlac\u0131klar\u0131nda\
    \ \u0131\u015F\u0131\u011F\u0131n k\u0131r\u0131lmas\u0131 ve da\u011F\u0131lmas\u0131\
    d\u0131r, genellikle ya\u011Fmur s\u0131ras\u0131nda veya sonras\u0131nda atmosferde\
    \ olur. Bu \u015Fekilde, g\xFCne\u015F ya\u011Fmur damlalar\u0131nda parlad\u0131\
    \u011F\u0131nda, \u0131\u015F\u0131k neden bile\u015Fen renklerine b\xF6l\xFC\
    n\xFCr - k\u0131rm\u0131z\u0131, turuncu, sar\u0131, ye\u015Fil, mavi ve mor -\"\
    \r\n\r\nThe code is:\r\n\r\nmodel_nameEn2Tr = curdir + \"/models/opus-mt-tc-big-en-tr\"\
    \r\ntokenizerEn2Tr = MarianTokenizer.from_pretrained(model_nameEn2Tr)\r\nmodelEn2Tr\
    \ = MarianMTModel.from_pretrained(model_nameEn2Tr)\r\n\r\ndef translateEn2Tr(src_text):\r\
    \n    translated = modelEn2Tr.generate(**tokenizerEn2Tr(src_text, return_tensors=\"\
    pt\", padding=True))\r\n    translated_text = \"\"  # Initialize an empty string\r\
    \n    for t in translated:\r\n        translated_text += tokenizerEn2Tr.decode(t,\
    \ skip_special_tokens=True)\r\n    return translated_text\r\n"
  created_at: 2023-11-28 10:41:18+00:00
  edited: false
  hidden: false
  id: 6565c3ce8556d5bbc2b442ea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d73103fba24c8a2e343f658fa0510f98.svg
      fullname: Melih Dumm
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MelihDumm
      type: user
    createdAt: '2023-11-28T11:01:41.000Z'
    data:
      edited: false
      editors:
      - MelihDumm
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5502660274505615
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d73103fba24c8a2e343f658fa0510f98.svg
          fullname: Melih Dumm
          isHf: false
          isPro: false
          name: MelihDumm
          type: user
        html: "<p>Here is another example:<br>English:<br>\"Lorem ipsum is a type\
          \ of placeholder text that is commonly used in graphic design, web development,\
          \ and typesetting. It is essentially a series of nonsensical Latin words\
          \ and phrases that have been used since the 16th century to fill up space\
          \ where real content would eventually go. The meaning of lorem ipsum is\
          \ not important because it is simply a filler text that does not convey\
          \ any actual meaning, but rather serves as a visual guide for designers\
          \ and developers to ensure that the layout, spacing, and typography are\
          \ correct before the real content is added. In short, lorem ipsum is a widely-used\
          \ tool in design and development that allows creators to create convincing\
          \ mockups without having to worry about meaningful content until later stages\
          \ of the project.\"</p>\n<p>Turkish translation (Cut off from : \" In short,\
          \ lorem ipsum is a widely-used tool in design and development that allows\
          \ creators to create convincing mockups without having to worry about meaningful\
          \ content until later stages of the project.\" And also the previous sentence\
          \ is partially translated.<br>\"Lorem ipsum, grafik tasar\u0131m, web geli\u015F\
          tirme ve dizgide yayg\u0131n olarak kullan\u0131lan bir yer tutucu metin\
          \ t\xFCr\xFCd\xFCr. Esasen 16. y\xFCzy\u0131ldan beri kullan\u0131lan anlams\u0131\
          z Latince kelimeler ve deyimler dizisidir. Ger\xE7ek i\xE7eri\u011Fin sonunda\
          \ gidece\u011Fi alan\u0131 doldurmak i\xE7in kullan\u0131l\u0131r. Lorem\
          \ ipsum'un anlam\u0131 \xF6nemli de\u011Fildir, \xE7\xFCnk\xFC sadece ger\xE7\
          ek bir anlam ifade etmeyen bir dolgu metnidir, daha ziyade tasar\u0131mc\u0131\
          lar ve geli\u015Ftiriciler i\xE7in g\xF6rsel bir aral\u0131k g\xF6revi g\xF6\
          r\xFCr.\"</p>\n"
        raw: "Here is another example:\nEnglish: \n\"Lorem ipsum is a type of placeholder\
          \ text that is commonly used in graphic design, web development, and typesetting.\
          \ It is essentially a series of nonsensical Latin words and phrases that\
          \ have been used since the 16th century to fill up space where real content\
          \ would eventually go. The meaning of lorem ipsum is not important because\
          \ it is simply a filler text that does not convey any actual meaning, but\
          \ rather serves as a visual guide for designers and developers to ensure\
          \ that the layout, spacing, and typography are correct before the real content\
          \ is added. In short, lorem ipsum is a widely-used tool in design and development\
          \ that allows creators to create convincing mockups without having to worry\
          \ about meaningful content until later stages of the project.\"\n\nTurkish\
          \ translation (Cut off from : \" In short, lorem ipsum is a widely-used\
          \ tool in design and development that allows creators to create convincing\
          \ mockups without having to worry about meaningful content until later stages\
          \ of the project.\" And also the previous sentence is partially translated.\n\
          \"Lorem ipsum, grafik tasar\u0131m, web geli\u015Ftirme ve dizgide yayg\u0131\
          n olarak kullan\u0131lan bir yer tutucu metin t\xFCr\xFCd\xFCr. Esasen 16.\
          \ y\xFCzy\u0131ldan beri kullan\u0131lan anlams\u0131z Latince kelimeler\
          \ ve deyimler dizisidir. Ger\xE7ek i\xE7eri\u011Fin sonunda gidece\u011F\
          i alan\u0131 doldurmak i\xE7in kullan\u0131l\u0131r. Lorem ipsum'un anlam\u0131\
          \ \xF6nemli de\u011Fildir, \xE7\xFCnk\xFC sadece ger\xE7ek bir anlam ifade\
          \ etmeyen bir dolgu metnidir, daha ziyade tasar\u0131mc\u0131lar ve geli\u015F\
          tiriciler i\xE7in g\xF6rsel bir aral\u0131k g\xF6revi g\xF6r\xFCr.\"\n\n"
        updatedAt: '2023-11-28T11:01:41.774Z'
      numEdits: 0
      reactions: []
    id: 6565c895ba64f727ddc37dab
    type: comment
  author: MelihDumm
  content: "Here is another example:\nEnglish: \n\"Lorem ipsum is a type of placeholder\
    \ text that is commonly used in graphic design, web development, and typesetting.\
    \ It is essentially a series of nonsensical Latin words and phrases that have\
    \ been used since the 16th century to fill up space where real content would eventually\
    \ go. The meaning of lorem ipsum is not important because it is simply a filler\
    \ text that does not convey any actual meaning, but rather serves as a visual\
    \ guide for designers and developers to ensure that the layout, spacing, and typography\
    \ are correct before the real content is added. In short, lorem ipsum is a widely-used\
    \ tool in design and development that allows creators to create convincing mockups\
    \ without having to worry about meaningful content until later stages of the project.\"\
    \n\nTurkish translation (Cut off from : \" In short, lorem ipsum is a widely-used\
    \ tool in design and development that allows creators to create convincing mockups\
    \ without having to worry about meaningful content until later stages of the project.\"\
    \ And also the previous sentence is partially translated.\n\"Lorem ipsum, grafik\
    \ tasar\u0131m, web geli\u015Ftirme ve dizgide yayg\u0131n olarak kullan\u0131\
    lan bir yer tutucu metin t\xFCr\xFCd\xFCr. Esasen 16. y\xFCzy\u0131ldan beri kullan\u0131\
    lan anlams\u0131z Latince kelimeler ve deyimler dizisidir. Ger\xE7ek i\xE7eri\u011F\
    in sonunda gidece\u011Fi alan\u0131 doldurmak i\xE7in kullan\u0131l\u0131r. Lorem\
    \ ipsum'un anlam\u0131 \xF6nemli de\u011Fildir, \xE7\xFCnk\xFC sadece ger\xE7\
    ek bir anlam ifade etmeyen bir dolgu metnidir, daha ziyade tasar\u0131mc\u0131\
    lar ve geli\u015Ftiriciler i\xE7in g\xF6rsel bir aral\u0131k g\xF6revi g\xF6r\xFC\
    r.\"\n\n"
  created_at: 2023-11-28 11:01:41+00:00
  edited: false
  hidden: false
  id: 6565c895ba64f727ddc37dab
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: Helsinki-NLP/opus-mt-tc-big-en-tr
repo_type: model
status: open
target_branch: null
title: en-tr translation missing sentences, sometimes cut off
