!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ronghouchao
conflicting_files: null
created_at: 2023-12-13 03:09:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d71277eff9f33abfcee18d6e896415c5.svg
      fullname: ronghouchao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ronghouchao
      type: user
    createdAt: '2023-12-13T03:09:03.000Z'
    data:
      edited: false
      editors:
      - ronghouchao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6557662487030029
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d71277eff9f33abfcee18d6e896415c5.svg
          fullname: ronghouchao
          isHf: false
          isPro: false
          name: ronghouchao
          type: user
        html: '<p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/657843311bf8e371c4d6c5a0/3wBnfZLFoelGStTAngj66.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/657843311bf8e371c4d6c5a0/3wBnfZLFoelGStTAngj66.png"></a></p>

          <p>code:</p>

          <h1 id="this-snippet-shows-and-example-how-to-use-the-cohere-embed-v3-models-for-semantic-search">This
          snippet shows and example how to use the Cohere Embed V3 models for semantic
          search.</h1>

          <h1 id="make-sure-to-have-the-cohere-sdk-in-at-least-v430-install-pip-install--u-cohere">Make
          sure to have the Cohere SDK in at least v4.30 install: pip install -U cohere</h1>

          <h1 id="get-your-api-key-from-wwwcoherecom">Get your API key from: <a rel="nofollow"
          href="http://www.cohere.com">www.cohere.com</a></h1>

          <p>import cohere<br>import numpy as np</p>

          <p>cohere_key = "{YOUR_COHERE_API_KEY}"   #Get your API key from <a rel="nofollow"
          href="http://www.cohere.com">www.cohere.com</a><br>co = cohere.Client(cohere_key)</p>

          <p>docs = ["The capital of France is Paris",<br>        "PyTorch is a machine
          learning framework based on the Torch library.",<br>        "The average
          cat lifespan is between 13-17 years"]</p>

          <p>#Encode your documents with input type ''search_document''<br>doc_emb
          = co.embed(docs, input_type="search_document", model="embed-english-v3.0").embeddings<br>doc_emb
          = np.asarray(doc_emb)</p>

          <p>#Encode your query with input type ''search_query''<br>query = "What
          is Pytorch"<br>query_emb = co.embed([query], input_type="search_query",
          model="embed-english-v3.0").embeddings<br>query_emb = np.asarray(query_emb)<br>query_emb.shape</p>

          <p>#Compute the dot product between query embedding and document embedding<br>scores
          = np.dot(query_emb, doc_emb.T)[0]</p>

          <p>#Find the highest scores<br>max_idx = np.argsort(-scores)</p>

          <p>print(f"Query: {query}")<br>for idx in max_idx:<br>  print(f"Score: {scores[idx]:.2f}")<br>  print(docs[idx])<br>  print("--------")</p>

          '
        raw: "\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/657843311bf8e371c4d6c5a0/3wBnfZLFoelGStTAngj66.png)\r\
          \n\r\ncode:\r\n\r\n# This snippet shows and example how to use the Cohere\
          \ Embed V3 models for semantic search.\r\n# Make sure to have the Cohere\
          \ SDK in at least v4.30 install: pip install -U cohere \r\n# Get your API\
          \ key from: www.cohere.com\r\nimport cohere\r\nimport numpy as np\r\n\r\n\
          cohere_key = \"{YOUR_COHERE_API_KEY}\"   #Get your API key from www.cohere.com\r\
          \nco = cohere.Client(cohere_key)\r\n\r\ndocs = [\"The capital of France\
          \ is Paris\",\r\n        \"PyTorch is a machine learning framework based\
          \ on the Torch library.\",\r\n        \"The average cat lifespan is between\
          \ 13-17 years\"]\r\n\r\n\r\n#Encode your documents with input type 'search_document'\r\
          \ndoc_emb = co.embed(docs, input_type=\"search_document\", model=\"embed-english-v3.0\"\
          ).embeddings\r\ndoc_emb = np.asarray(doc_emb)\r\n\r\n\r\n#Encode your query\
          \ with input type 'search_query'\r\nquery = \"What is Pytorch\"\r\nquery_emb\
          \ = co.embed([query], input_type=\"search_query\", model=\"embed-english-v3.0\"\
          ).embeddings\r\nquery_emb = np.asarray(query_emb)\r\nquery_emb.shape\r\n\
          \r\n#Compute the dot product between query embedding and document embedding\r\
          \nscores = np.dot(query_emb, doc_emb.T)[0]\r\n\r\n#Find the highest scores\r\
          \nmax_idx = np.argsort(-scores)\r\n\r\nprint(f\"Query: {query}\")\r\nfor\
          \ idx in max_idx:\r\n  print(f\"Score: {scores[idx]:.2f}\")\r\n  print(docs[idx])\r\
          \n  print(\"--------\")"
        updatedAt: '2023-12-13T03:09:03.709Z'
      numEdits: 0
      reactions: []
    id: 6579204f0e0d4703ffdd659e
    type: comment
  author: ronghouchao
  content: "\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/657843311bf8e371c4d6c5a0/3wBnfZLFoelGStTAngj66.png)\r\
    \n\r\ncode:\r\n\r\n# This snippet shows and example how to use the Cohere Embed\
    \ V3 models for semantic search.\r\n# Make sure to have the Cohere SDK in at least\
    \ v4.30 install: pip install -U cohere \r\n# Get your API key from: www.cohere.com\r\
    \nimport cohere\r\nimport numpy as np\r\n\r\ncohere_key = \"{YOUR_COHERE_API_KEY}\"\
    \   #Get your API key from www.cohere.com\r\nco = cohere.Client(cohere_key)\r\n\
    \r\ndocs = [\"The capital of France is Paris\",\r\n        \"PyTorch is a machine\
    \ learning framework based on the Torch library.\",\r\n        \"The average cat\
    \ lifespan is between 13-17 years\"]\r\n\r\n\r\n#Encode your documents with input\
    \ type 'search_document'\r\ndoc_emb = co.embed(docs, input_type=\"search_document\"\
    , model=\"embed-english-v3.0\").embeddings\r\ndoc_emb = np.asarray(doc_emb)\r\n\
    \r\n\r\n#Encode your query with input type 'search_query'\r\nquery = \"What is\
    \ Pytorch\"\r\nquery_emb = co.embed([query], input_type=\"search_query\", model=\"\
    embed-english-v3.0\").embeddings\r\nquery_emb = np.asarray(query_emb)\r\nquery_emb.shape\r\
    \n\r\n#Compute the dot product between query embedding and document embedding\r\
    \nscores = np.dot(query_emb, doc_emb.T)[0]\r\n\r\n#Find the highest scores\r\n\
    max_idx = np.argsort(-scores)\r\n\r\nprint(f\"Query: {query}\")\r\nfor idx in\
    \ max_idx:\r\n  print(f\"Score: {scores[idx]:.2f}\")\r\n  print(docs[idx])\r\n\
    \  print(\"--------\")"
  created_at: 2023-12-13 03:09:03+00:00
  edited: false
  hidden: false
  id: 6579204f0e0d4703ffdd659e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1596792577829-5eff4688ff69163f6f59e66c.jpeg?w=200&h=200&f=face
      fullname: Nils Reimers
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: nreimers
      type: user
    createdAt: '2023-12-18T20:25:05.000Z'
    data:
      edited: false
      editors:
      - nreimers
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9867169857025146
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1596792577829-5eff4688ff69163f6f59e66c.jpeg?w=200&h=200&f=face
          fullname: Nils Reimers
          isHf: false
          isPro: false
          name: nreimers
          type: user
        html: '<p>Thanks for raising this. Is it working now? Was it maybe some temporary
          issue?</p>

          '
        raw: Thanks for raising this. Is it working now? Was it maybe some temporary
          issue?
        updatedAt: '2023-12-18T20:25:05.852Z'
      numEdits: 0
      reactions: []
    id: 6580aaa1da07e791d8b15bd8
    type: comment
  author: nreimers
  content: Thanks for raising this. Is it working now? Was it maybe some temporary
    issue?
  created_at: 2023-12-18 20:25:05+00:00
  edited: false
  hidden: false
  id: 6580aaa1da07e791d8b15bd8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/d71277eff9f33abfcee18d6e896415c5.svg
      fullname: ronghouchao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ronghouchao
      type: user
    createdAt: '2023-12-25T09:47:16.000Z'
    data:
      status: closed
    id: 65894fa4a3bfb30fdbc75b8b
    type: status-change
  author: ronghouchao
  created_at: 2023-12-25 09:47:16+00:00
  id: 65894fa4a3bfb30fdbc75b8b
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: Cohere/Cohere-embed-english-v3.0
repo_type: model
status: closed
target_branch: null
title: 'use cohere embedding, response : 502'
