!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Nexyboye
conflicting_files: null
created_at: 2023-12-11 11:11:50+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c88de95a73f6260715b70c5b660eacb0.svg
      fullname: Nexy Boye
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Nexyboye
      type: user
    createdAt: '2023-12-11T11:11:50.000Z'
    data:
      edited: false
      editors:
      - Nexyboye
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6688483357429504
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c88de95a73f6260715b70c5b660eacb0.svg
          fullname: Nexy Boye
          isHf: false
          isPro: false
          name: Nexyboye
          type: user
        html: '<p>Hi, I just want to try the model out on colab, this is what I''ve
          got so far:</p>

          <p>!pip install diffusers<br>!pip install note-seq<br>!pip install onnx<br>!pip
          install onnxruntime</p>

          <p>from diffusers import SpectrogramDiffusionPipeline, MidiProcessor</p>

          <p>pipe = SpectrogramDiffusionPipeline.from_pretrained("google/music-spectrogram-diffusion")
          # &lt;---------- The error is here<br>pipe = pipe.to("cuda")<br>processor
          = MidiProcessor()</p>

          <p>and this is the error:<br>NoSuchFile: [ONNXRuntimeError] : 3 : NO_SUCHFILE
          : Load model from /root/.cache/huggingface/hub/models--google--music-spectrogram-diffusion/snapshots/e2e5316f00d986686a9d09380808c0b1511b9820/model.onnx
          failed:Load model /root/.cache/huggingface/hub/models--google--music-spectrogram-diffusion/snapshots/e2e5316f00d986686a9d09380808c0b1511b9820/model.onnx
          failed. File doesn''t exist</p>

          <p>I''m running it on a T4 gpu, and also tried restarting runtime a few
          times, but no luck.</p>

          '
        raw: "Hi, I just want to try the model out on colab, this is what I've got\
          \ so far:\r\n\r\n\r\n!pip install diffusers\r\n!pip install note-seq\r\n\
          !pip install onnx\r\n!pip install onnxruntime\r\n\r\nfrom diffusers import\
          \ SpectrogramDiffusionPipeline, MidiProcessor\r\n\r\npipe = SpectrogramDiffusionPipeline.from_pretrained(\"\
          google/music-spectrogram-diffusion\") # <---------- The error is here\r\n\
          pipe = pipe.to(\"cuda\")\r\nprocessor = MidiProcessor()\r\n\r\n\r\nand this\
          \ is the error:\r\nNoSuchFile: [ONNXRuntimeError] : 3 : NO_SUCHFILE : Load\
          \ model from /root/.cache/huggingface/hub/models--google--music-spectrogram-diffusion/snapshots/e2e5316f00d986686a9d09380808c0b1511b9820/model.onnx\
          \ failed:Load model /root/.cache/huggingface/hub/models--google--music-spectrogram-diffusion/snapshots/e2e5316f00d986686a9d09380808c0b1511b9820/model.onnx\
          \ failed. File doesn't exist\r\n\r\n\r\nI'm running it on a T4 gpu, and\
          \ also tried restarting runtime a few times, but no luck."
        updatedAt: '2023-12-11T11:11:50.037Z'
      numEdits: 0
      reactions: []
    id: 6576ee76e1e7233660a9a18a
    type: comment
  author: Nexyboye
  content: "Hi, I just want to try the model out on colab, this is what I've got so\
    \ far:\r\n\r\n\r\n!pip install diffusers\r\n!pip install note-seq\r\n!pip install\
    \ onnx\r\n!pip install onnxruntime\r\n\r\nfrom diffusers import SpectrogramDiffusionPipeline,\
    \ MidiProcessor\r\n\r\npipe = SpectrogramDiffusionPipeline.from_pretrained(\"\
    google/music-spectrogram-diffusion\") # <---------- The error is here\r\npipe\
    \ = pipe.to(\"cuda\")\r\nprocessor = MidiProcessor()\r\n\r\n\r\nand this is the\
    \ error:\r\nNoSuchFile: [ONNXRuntimeError] : 3 : NO_SUCHFILE : Load model from\
    \ /root/.cache/huggingface/hub/models--google--music-spectrogram-diffusion/snapshots/e2e5316f00d986686a9d09380808c0b1511b9820/model.onnx\
    \ failed:Load model /root/.cache/huggingface/hub/models--google--music-spectrogram-diffusion/snapshots/e2e5316f00d986686a9d09380808c0b1511b9820/model.onnx\
    \ failed. File doesn't exist\r\n\r\n\r\nI'm running it on a T4 gpu, and also tried\
    \ restarting runtime a few times, but no luck."
  created_at: 2023-12-11 11:11:50+00:00
  edited: false
  hidden: false
  id: 6576ee76e1e7233660a9a18a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: google/music-spectrogram-diffusion
repo_type: model
status: open
target_branch: null
title: Doesn't work on colab, no idea why
