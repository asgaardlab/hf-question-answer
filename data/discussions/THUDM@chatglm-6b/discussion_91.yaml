!!python/object:huggingface_hub.community.DiscussionWithDetails
author: shl97
conflicting_files: null
created_at: 2023-07-28 10:50:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/df98decb9fdb6c9e8488da2fedd88384.svg
      fullname: hailuo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shl97
      type: user
    createdAt: '2023-07-28T11:50:28.000Z'
    data:
      edited: false
      editors:
      - shl97
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5464573502540588
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/df98decb9fdb6c9e8488da2fedd88384.svg
          fullname: hailuo
          isHf: false
          isPro: false
          name: shl97
          type: user
        html: '<p>what''s the  meaning and definition of self.scaled_masked_softmax
          in modeling_chatglm.py<br>in 300-302 lines<br>    if self.scale_mask_softmax:<br>        self.scale_mask_softmax.scale
          = query_key_layer_scaling_coeff<br>        attention_probs = self.scale_mask_softmax(attention_scores,
          attention_mask.contiguous())<br>self.scaled_masked_softmax has attribute
          scale and can be used as a function, but it only appears in line 378 as
          self.scale_mask_softmax = None</p>

          '
        raw: "what's the  meaning and definition of self.scaled_masked_softmax in\
          \ modeling_chatglm.py\r\nin 300-302 lines\r\n    if self.scale_mask_softmax:\r\
          \n        self.scale_mask_softmax.scale = query_key_layer_scaling_coeff\r\
          \n        attention_probs = self.scale_mask_softmax(attention_scores, attention_mask.contiguous())\r\
          \nself.scaled_masked_softmax has attribute scale and can be used as a function,\
          \ but it only appears in line 378 as self.scale_mask_softmax = None"
        updatedAt: '2023-07-28T11:50:28.709Z'
      numEdits: 0
      reactions: []
    id: 64c3ab845570719ae22a0df2
    type: comment
  author: shl97
  content: "what's the  meaning and definition of self.scaled_masked_softmax in modeling_chatglm.py\r\
    \nin 300-302 lines\r\n    if self.scale_mask_softmax:\r\n        self.scale_mask_softmax.scale\
    \ = query_key_layer_scaling_coeff\r\n        attention_probs = self.scale_mask_softmax(attention_scores,\
    \ attention_mask.contiguous())\r\nself.scaled_masked_softmax has attribute scale\
    \ and can be used as a function, but it only appears in line 378 as self.scale_mask_softmax\
    \ = None"
  created_at: 2023-07-28 10:50:28+00:00
  edited: false
  hidden: false
  id: 64c3ab845570719ae22a0df2
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 91
repo_id: THUDM/chatglm-6b
repo_type: model
status: open
target_branch: null
title: about self.scaled_masked_softmax in  modeling_chatglm.py
