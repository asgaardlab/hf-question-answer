!!python/object:huggingface_hub.community.DiscussionWithDetails
author: kwmaeng91
conflicting_files: null
created_at: 2022-10-18 21:13:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/947dc092b5fb0d52250a1ae8cf05029c.svg
      fullname: Kiwan Maeng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kwmaeng91
      type: user
    createdAt: '2022-10-18T22:13:57.000Z'
    data:
      edited: false
      editors:
      - kwmaeng91
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/947dc092b5fb0d52250a1ae8cf05029c.svg
          fullname: Kiwan Maeng
          isHf: false
          isPro: false
          name: kwmaeng91
          type: user
        html: "<p>Hi, experts.<br>I am new to Huggingface. I am trying to reproduce\
          \ the fine-tuning result, but I cannot achieve the indicated accuracy.<br>I\
          \ am using <code>run_glue.py</code> under <code>transformers/examples/pytorch/text-classification</code>\
          \ to do the finetuning. Specifically, I am passing the following json.<br>The\
          \ hyperparams are from here: <a href=\"https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english\"\
          >https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english</a></p>\n\
          <pre><code>{\n       \"model_name_or_path\": \"distilbert-base-uncased\"\
          ,\n       \"task_name\": \"sst2\",\n       \"do_train\": true,\n       \"\
          do_eval\": true,\n       \"max_seq_length\": 128,\n       \"per_device_train_batch_size\"\
          : 32,\n       \"learning_rate\": 1e-5,\n       \"num_train_epochs\": 3,\n\
          \       \"warmup_steps\": 600,\n       \"output_dir\": \"/scratch/sst2_checkpoints\"\
          \n}\n</code></pre>\n<p>However, the final accuracy I get after training\
          \ is 89.68%. It is not bad, but it is lower than 91.3% that is indicated\
          \ here: <a href=\"https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english\"\
          >https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english</a>.\
          \ Not sure what I am doing wrong. Can someone help me understand why my\
          \ accuracy is not reaching 91.3%?</p>\n<p>Also, at the same webpage, on\
          \ the right side, it says the accuracy with glue is 91.1% and the accuracy\
          \ with sst2 is 98.9%, which I am not sure what it means (I thought sst2\
          \ was part of the glue dataset). What are these numbers and why are they\
          \ still different than 91.3%?</p>\n<p>Any help would be really appreciated.<br>Thank\
          \ you.</p>\n"
        raw: "Hi, experts.\r\nI am new to Huggingface. I am trying to reproduce the\
          \ fine-tuning result, but I cannot achieve the indicated accuracy.\r\nI\
          \ am using `run_glue.py` under `transformers/examples/pytorch/text-classification`\
          \ to do the finetuning. Specifically, I am passing the following json.\r\
          \nThe hyperparams are from here: https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english\r\
          \n```\r\n{\r\n       \"model_name_or_path\": \"distilbert-base-uncased\"\
          ,\r\n       \"task_name\": \"sst2\",\r\n       \"do_train\": true,\r\n \
          \      \"do_eval\": true,\r\n       \"max_seq_length\": 128,\r\n       \"\
          per_device_train_batch_size\": 32,\r\n       \"learning_rate\": 1e-5,\r\n\
          \       \"num_train_epochs\": 3,\r\n       \"warmup_steps\": 600,\r\n  \
          \     \"output_dir\": \"/scratch/sst2_checkpoints\"\r\n}\r\n\r\n```\r\n\
          However, the final accuracy I get after training is 89.68%. It is not bad,\
          \ but it is lower than 91.3% that is indicated here: https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english.\
          \ Not sure what I am doing wrong. Can someone help me understand why my\
          \ accuracy is not reaching 91.3%?\r\n\r\nAlso, at the same webpage, on the\
          \ right side, it says the accuracy with glue is 91.1% and the accuracy with\
          \ sst2 is 98.9%, which I am not sure what it means (I thought sst2 was part\
          \ of the glue dataset). What are these numbers and why are they still different\
          \ than 91.3%?\r\n\r\nAny help would be really appreciated.\r\nThank you."
        updatedAt: '2022-10-18T22:13:57.495Z'
      numEdits: 0
      reactions: []
    id: 634f25252b8c811f3cc3e42d
    type: comment
  author: kwmaeng91
  content: "Hi, experts.\r\nI am new to Huggingface. I am trying to reproduce the\
    \ fine-tuning result, but I cannot achieve the indicated accuracy.\r\nI am using\
    \ `run_glue.py` under `transformers/examples/pytorch/text-classification` to do\
    \ the finetuning. Specifically, I am passing the following json.\r\nThe hyperparams\
    \ are from here: https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english\r\
    \n```\r\n{\r\n       \"model_name_or_path\": \"distilbert-base-uncased\",\r\n\
    \       \"task_name\": \"sst2\",\r\n       \"do_train\": true,\r\n       \"do_eval\"\
    : true,\r\n       \"max_seq_length\": 128,\r\n       \"per_device_train_batch_size\"\
    : 32,\r\n       \"learning_rate\": 1e-5,\r\n       \"num_train_epochs\": 3,\r\n\
    \       \"warmup_steps\": 600,\r\n       \"output_dir\": \"/scratch/sst2_checkpoints\"\
    \r\n}\r\n\r\n```\r\nHowever, the final accuracy I get after training is 89.68%.\
    \ It is not bad, but it is lower than 91.3% that is indicated here: https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english.\
    \ Not sure what I am doing wrong. Can someone help me understand why my accuracy\
    \ is not reaching 91.3%?\r\n\r\nAlso, at the same webpage, on the right side,\
    \ it says the accuracy with glue is 91.1% and the accuracy with sst2 is 98.9%,\
    \ which I am not sure what it means (I thought sst2 was part of the glue dataset).\
    \ What are these numbers and why are they still different than 91.3%?\r\n\r\n\
    Any help would be really appreciated.\r\nThank you."
  created_at: 2022-10-18 21:13:57+00:00
  edited: false
  hidden: false
  id: 634f25252b8c811f3cc3e42d
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 11
repo_id: distilbert-base-uncased-finetuned-sst-2-english
repo_type: model
status: open
target_branch: null
title: Cannot reproduce the accuracy result.
