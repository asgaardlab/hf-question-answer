!!python/object:huggingface_hub.community.DiscussionWithDetails
author: rlee002
conflicting_files: null
created_at: 2023-07-24 07:24:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/21a31273afccdc273473115fa816eb18.svg
      fullname: Robin Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rlee002
      type: user
    createdAt: '2023-07-24T08:24:05.000Z'
    data:
      edited: false
      editors:
      - rlee002
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8638994693756104
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/21a31273afccdc273473115fa816eb18.svg
          fullname: Robin Lee
          isHf: false
          isPro: false
          name: rlee002
          type: user
        html: '<pre><code>processor = Pix2StructProcessor.from_pretrained(''deplot_model'')

          model = Pix2StructForConditionalGeneration.from_pretrained(''deplot_model'')

          </code></pre>

          <p>Hi,<br>I am trying to fine-tune the model by extending the vocabulary.
          To do this, I have added tokens and resized the embedding shape, but I would
          like to know how to directly access the weights since I will be initializing
          the newly added weights using different initialization options (random,
          Xavier, He, etc...). For the other transformer models, </p>

          <pre><code>model.embeddings.word_embeddings.weight

          </code></pre>

          <p>seemed to work but I realized that model.embeddings does not exist in
          Pix2StructForConditionalGeneration. So is there a way to directly access
          the weights?</p>

          '
        raw: "```\r\nprocessor = Pix2StructProcessor.from_pretrained('deplot_model')\r\
          \nmodel = Pix2StructForConditionalGeneration.from_pretrained('deplot_model')\r\
          \n```\r\nHi,\r\nI am trying to fine-tune the model by extending the vocabulary.\
          \ To do this, I have added tokens and resized the embedding shape, but I\
          \ would like to know how to directly access the weights since I will be\
          \ initializing the newly added weights using different initialization options\
          \ (random, Xavier, He, etc...). For the other transformer models, \r\n```\r\
          \nmodel.embeddings.word_embeddings.weight\r\n```\r\nseemed to work but I\
          \ realized that model.embeddings does not exist in Pix2StructForConditionalGeneration.\
          \ So is there a way to directly access the weights?"
        updatedAt: '2023-07-24T08:24:05.657Z'
      numEdits: 0
      reactions: []
    id: 64be35256999b520ed7a0259
    type: comment
  author: rlee002
  content: "```\r\nprocessor = Pix2StructProcessor.from_pretrained('deplot_model')\r\
    \nmodel = Pix2StructForConditionalGeneration.from_pretrained('deplot_model')\r\
    \n```\r\nHi,\r\nI am trying to fine-tune the model by extending the vocabulary.\
    \ To do this, I have added tokens and resized the embedding shape, but I would\
    \ like to know how to directly access the weights since I will be initializing\
    \ the newly added weights using different initialization options (random, Xavier,\
    \ He, etc...). For the other transformer models, \r\n```\r\nmodel.embeddings.word_embeddings.weight\r\
    \n```\r\nseemed to work but I realized that model.embeddings does not exist in\
    \ Pix2StructForConditionalGeneration. So is there a way to directly access the\
    \ weights?"
  created_at: 2023-07-24 07:24:05+00:00
  edited: false
  hidden: false
  id: 64be35256999b520ed7a0259
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608042047613-5f1158120c833276f61f1a84.jpeg?w=200&h=200&f=face
      fullname: Niels Rogge
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nielsr
      type: user
    createdAt: '2023-07-24T12:36:12.000Z'
    data:
      edited: false
      editors:
      - nielsr
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7033134698867798
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608042047613-5f1158120c833276f61f1a84.jpeg?w=200&h=200&f=face
          fullname: Niels Rogge
          isHf: true
          isPro: false
          name: nielsr
          type: user
        html: '<p>Hi,</p>

          <p>Answered your question here: <a rel="nofollow" href="https://discuss.huggingface.co/t/how-to-load-weights-in-the-pix2struct-delpot-model/47894/2?u=nielsr">https://discuss.huggingface.co/t/how-to-load-weights-in-the-pix2struct-delpot-model/47894/2?u=nielsr</a></p>

          '
        raw: 'Hi,


          Answered your question here: https://discuss.huggingface.co/t/how-to-load-weights-in-the-pix2struct-delpot-model/47894/2?u=nielsr'
        updatedAt: '2023-07-24T12:36:12.395Z'
      numEdits: 0
      reactions: []
    id: 64be703c1a62149c5e8fa1d5
    type: comment
  author: nielsr
  content: 'Hi,


    Answered your question here: https://discuss.huggingface.co/t/how-to-load-weights-in-the-pix2struct-delpot-model/47894/2?u=nielsr'
  created_at: 2023-07-24 11:36:12+00:00
  edited: false
  hidden: false
  id: 64be703c1a62149c5e8fa1d5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/21a31273afccdc273473115fa816eb18.svg
      fullname: Robin Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rlee002
      type: user
    createdAt: '2023-07-25T02:05:48.000Z'
    data:
      edited: false
      editors:
      - rlee002
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.30543220043182373
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/21a31273afccdc273473115fa816eb18.svg
          fullname: Robin Lee
          isHf: false
          isPro: false
          name: rlee002
          type: user
        html: "<p>Thank you <span data-props=\"{&quot;user&quot;:&quot;nielsr&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/nielsr\"\
          >@<span class=\"underline\">nielsr</span></a></span>\n\n\t</span></span>\
          \ !</p>\n"
        raw: Thank you @nielsr !
        updatedAt: '2023-07-25T02:05:48.266Z'
      numEdits: 0
      reactions: []
      relatedEventId: 64bf2dfc46cc3cdfbb274399
    id: 64bf2dfc46cc3cdfbb274397
    type: comment
  author: rlee002
  content: Thank you @nielsr !
  created_at: 2023-07-25 01:05:48+00:00
  edited: false
  hidden: false
  id: 64bf2dfc46cc3cdfbb274397
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/21a31273afccdc273473115fa816eb18.svg
      fullname: Robin Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rlee002
      type: user
    createdAt: '2023-07-25T02:05:48.000Z'
    data:
      status: closed
    id: 64bf2dfc46cc3cdfbb274399
    type: status-change
  author: rlee002
  created_at: 2023-07-25 01:05:48+00:00
  id: 64bf2dfc46cc3cdfbb274399
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: google/deplot
repo_type: model
status: closed
target_branch: null
title: Getting weights from the model
