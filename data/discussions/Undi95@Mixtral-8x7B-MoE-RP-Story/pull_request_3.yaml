!!python/object:huggingface_hub.community.DiscussionWithDetails
author: TheBloke
conflicting_files: []
created_at: 2023-12-15 16:56:12+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-12-15T16:56:12.000Z'
    data:
      edited: false
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9818967580795288
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>I got reports that ExLlamav2 wasn''t working with this GPTQ.  Turns
          out that''s because it''s trying to load it as a Mistral model, which is
          due to the <code>architecture</code> being set to Mistral instead of Mixtral</p>

          <p>Also, the <code>rope_theta</code> should be 1000000.0 for Mixtral - this
          can affect inference quality.</p>

          <p>I don''t think any of this would stop k-quants working though, so that
          issue might be unrelated. I''ll try making some anyway though.</p>

          '
        raw: 'I got reports that ExLlamav2 wasn''t working with this GPTQ.  Turns
          out that''s because it''s trying to load it as a Mistral model, which is
          due to the `architecture` being set to Mistral instead of Mixtral


          Also, the `rope_theta` should be 1000000.0 for Mixtral - this can affect
          inference quality.


          I don''t think any of this would stop k-quants working though, so that issue
          might be unrelated. I''ll try making some anyway though.'
        updatedAt: '2023-12-15T16:56:12.443Z'
      numEdits: 0
      reactions: []
    id: 657c852c17370734bfff6948
    type: comment
  author: TheBloke
  content: 'I got reports that ExLlamav2 wasn''t working with this GPTQ.  Turns out
    that''s because it''s trying to load it as a Mistral model, which is due to the
    `architecture` being set to Mistral instead of Mixtral


    Also, the `rope_theta` should be 1000000.0 for Mixtral - this can affect inference
    quality.


    I don''t think any of this would stop k-quants working though, so that issue might
    be unrelated. I''ll try making some anyway though.'
  created_at: 2023-12-15 16:56:12+00:00
  edited: false
  hidden: false
  id: 657c852c17370734bfff6948
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-12-15T16:56:13.000Z'
    data:
      oid: ab09f2486d8ef6a128d4f21585713f169df0cbab
      parents:
      - c98df058a9edcf162b0efbb5bcbe3e62b2ae7693
      subject: Model config.json has Mistral params instead of Mixtral, breaking ExLlama
        quants and maybe affecting others too
    id: 657c852d0000000000000000
    type: commit
  author: TheBloke
  created_at: 2023-12-15 16:56:13+00:00
  id: 657c852d0000000000000000
  oid: ab09f2486d8ef6a128d4f21585713f169df0cbab
  summary: Model config.json has Mistral params instead of Mixtral, breaking ExLlama
    quants and maybe affecting others too
  type: commit
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ab1241ad514ca8d1430003/shjRx3yOP2eQvIyOWsQYV.png?w=200&h=200&f=face
      fullname: Undi
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Undi95
      type: user
    createdAt: '2023-12-15T17:04:06.000Z'
    data:
      status: merged
    id: 657c87062c1935296652c485
    type: status-change
  author: Undi95
  created_at: 2023-12-15 17:04:06+00:00
  id: 657c87062c1935296652c485
  new_status: merged
  type: status-change
is_pull_request: true
merge_commit_oid: ce4a4e4ffec063a3e338b6ebc328365270b6c5f0
num: 3
repo_id: Undi95/Mixtral-8x7B-MoE-RP-Story
repo_type: model
status: merged
target_branch: refs/heads/main
title: Model config.json has Mistral params instead of Mixtral, breaking ExLlama quants
  and maybe affecting others too
