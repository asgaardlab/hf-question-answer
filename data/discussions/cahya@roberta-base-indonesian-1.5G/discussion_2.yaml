!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AngledLuffa
conflicting_files: null
created_at: 2023-11-17 02:25:02+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/60fc7ae7eb985843aabf0775e9b95cef.svg
      fullname: John Bauer
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AngledLuffa
      type: user
    createdAt: '2023-11-17T02:25:02.000Z'
    data:
      edited: false
      editors:
      - AngledLuffa
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8596323728561401
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/60fc7ae7eb985843aabf0775e9b95cef.svg
          fullname: John Bauer
          isHf: false
          isPro: false
          name: AngledLuffa
          type: user
        html: '<p>The model saved on HF is missing <code>pooler.dense.weight</code>
          and <code>pooler.dense.bias</code>.  The <code>weight</code> gets initialized
          randomly, and the <code>bias</code> to 0, which presumably hurts performance
          compared to having the actual pooler saved.  Also, the random initialization
          means that if the transformer is used as an encoder without finetuning,
          the model produces non-deterministic results.</p>

          <p><a rel="nofollow" href="https://github.com/stanfordnlp/stanza/issues/1301">https://github.com/stanfordnlp/stanza/issues/1301</a></p>

          <p>It would be great if this could be updated with a fixed version of the
          model that includes all of the parameters relevant to inference.  Thanks!</p>

          '
        raw: "The model saved on HF is missing `pooler.dense.weight` and `pooler.dense.bias`.\
          \  The `weight` gets initialized randomly, and the `bias` to 0, which presumably\
          \ hurts performance compared to having the actual pooler saved.  Also, the\
          \ random initialization means that if the transformer is used as an encoder\
          \ without finetuning, the model produces non-deterministic results.\r\n\r\
          \nhttps://github.com/stanfordnlp/stanza/issues/1301\r\n\r\nIt would be great\
          \ if this could be updated with a fixed version of the model that includes\
          \ all of the parameters relevant to inference.  Thanks!"
        updatedAt: '2023-11-17T02:25:02.928Z'
      numEdits: 0
      reactions: []
    id: 6556cefe8616d8d740c4ca23
    type: comment
  author: AngledLuffa
  content: "The model saved on HF is missing `pooler.dense.weight` and `pooler.dense.bias`.\
    \  The `weight` gets initialized randomly, and the `bias` to 0, which presumably\
    \ hurts performance compared to having the actual pooler saved.  Also, the random\
    \ initialization means that if the transformer is used as an encoder without finetuning,\
    \ the model produces non-deterministic results.\r\n\r\nhttps://github.com/stanfordnlp/stanza/issues/1301\r\
    \n\r\nIt would be great if this could be updated with a fixed version of the model\
    \ that includes all of the parameters relevant to inference.  Thanks!"
  created_at: 2023-11-17 02:25:02+00:00
  edited: false
  hidden: false
  id: 6556cefe8616d8d740c4ca23
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: cahya/roberta-base-indonesian-1.5G
repo_type: model
status: open
target_branch: null
title: Saved model is missing the pooler.dense.weight
