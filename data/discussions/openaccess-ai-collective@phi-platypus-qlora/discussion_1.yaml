!!python/object:huggingface_hub.community.DiscussionWithDetails
author: typeof
conflicting_files: null
created_at: 2023-09-15 18:30:46+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/648b0f4fd8fe693f51de98d2/Kd6IjKsuitQ5CsA6NeZY5.jpeg?w=200&h=200&f=face
      fullname: sparverius
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: typeof
      type: user
    createdAt: '2023-09-15T19:30:46.000Z'
    data:
      edited: false
      editors:
      - typeof
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8649417757987976
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/648b0f4fd8fe693f51de98d2/Kd6IjKsuitQ5CsA6NeZY5.jpeg?w=200&h=200&f=face
          fullname: sparverius
          isHf: false
          isPro: false
          name: typeof
          type: user
        html: "<p>Seems I'm getting the same error with this model too...  <a rel=\"\
          nofollow\" href=\"https://gist.github.com/TheBloke/d31d289d3198c24e0ca68aaf37a19032\"\
          >adapted gist from here</a> from <span data-props=\"{&quot;user&quot;:&quot;TheBloke&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/TheBloke\"\
          >@<span class=\"underline\">TheBloke</span></a></span>\n\n\t</span></span>\
          \ </p>\n<p><span data-props=\"{&quot;user&quot;:&quot;teknium&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/teknium\">@<span class=\"\
          underline\">teknium</span></a></span>\n\n\t</span></span> seems to have\
          \ figured it out? perhaps this issue is some bug in config of qlora?</p>\n\
          <p><code>RuntimeError: Error(s) in loading state_dict for MixFormerSequentialForCausalLM:\
          \     size mismatch for layers.25.linear.lora_B.default.weight: copying\
          \ a param with shape torch.Size([50304, 64]) from checkpoint, the shape\
          \ in current model is torch.Size([51200, 64]).</code><br>note: only occurs\
          \ on the final layer!?....</p>\n"
        raw: "Seems I'm getting the same error with this model too...  [adapted gist\
          \ from here](https://gist.github.com/TheBloke/d31d289d3198c24e0ca68aaf37a19032)\
          \ from @TheBloke \r\n\r\n@teknium seems to have figured it out? perhaps\
          \ this issue is some bug in config of qlora?\r\n\r\n`\r\nRuntimeError: Error(s)\
          \ in loading state_dict for MixFormerSequentialForCausalLM:\r\n\tsize mismatch\
          \ for layers.25.linear.lora_B.default.weight: copying a param with shape\
          \ torch.Size([50304, 64]) from checkpoint, the shape in current model is\
          \ torch.Size([51200, 64]).\r\n`\r\nnote: only occurs on the final layer!?...."
        updatedAt: '2023-09-15T19:30:46.459Z'
      numEdits: 0
      reactions: []
    id: 6504b0e60c8733194758fd7d
    type: comment
  author: typeof
  content: "Seems I'm getting the same error with this model too...  [adapted gist\
    \ from here](https://gist.github.com/TheBloke/d31d289d3198c24e0ca68aaf37a19032)\
    \ from @TheBloke \r\n\r\n@teknium seems to have figured it out? perhaps this issue\
    \ is some bug in config of qlora?\r\n\r\n`\r\nRuntimeError: Error(s) in loading\
    \ state_dict for MixFormerSequentialForCausalLM:\r\n\tsize mismatch for layers.25.linear.lora_B.default.weight:\
    \ copying a param with shape torch.Size([50304, 64]) from checkpoint, the shape\
    \ in current model is torch.Size([51200, 64]).\r\n`\r\nnote: only occurs on the\
    \ final layer!?...."
  created_at: 2023-09-15 18:30:46+00:00
  edited: false
  hidden: false
  id: 6504b0e60c8733194758fd7d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/648b0f4fd8fe693f51de98d2/Kd6IjKsuitQ5CsA6NeZY5.jpeg?w=200&h=200&f=face
      fullname: sparverius
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: typeof
      type: user
    createdAt: '2023-09-15T21:14:54.000Z'
    data:
      edited: false
      editors:
      - typeof
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5247781276702881
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/648b0f4fd8fe693f51de98d2/Kd6IjKsuitQ5CsA6NeZY5.jpeg?w=200&h=200&f=face
          fullname: sparverius
          isHf: false
          isPro: false
          name: typeof
          type: user
        html: '<p>Solved! <a rel="nofollow" href="https://github.com/OpenAccess-AI-Collective/axolotl/commit/360788296aa6c526fab62d9cebe42dc15bd988db">https://github.com/OpenAccess-AI-Collective/axolotl/commit/360788296aa6c526fab62d9cebe42dc15bd988db</a></p>

          '
        raw: Solved! https://github.com/OpenAccess-AI-Collective/axolotl/commit/360788296aa6c526fab62d9cebe42dc15bd988db
        updatedAt: '2023-09-15T21:14:54.444Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6504c94ed5578ef7e2ae7f49
    id: 6504c94ed5578ef7e2ae7f47
    type: comment
  author: typeof
  content: Solved! https://github.com/OpenAccess-AI-Collective/axolotl/commit/360788296aa6c526fab62d9cebe42dc15bd988db
  created_at: 2023-09-15 20:14:54+00:00
  edited: false
  hidden: false
  id: 6504c94ed5578ef7e2ae7f47
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/648b0f4fd8fe693f51de98d2/Kd6IjKsuitQ5CsA6NeZY5.jpeg?w=200&h=200&f=face
      fullname: sparverius
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: typeof
      type: user
    createdAt: '2023-09-15T21:14:54.000Z'
    data:
      status: closed
    id: 6504c94ed5578ef7e2ae7f49
    type: status-change
  author: typeof
  created_at: 2023-09-15 20:14:54+00:00
  id: 6504c94ed5578ef7e2ae7f49
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: openaccess-ai-collective/phi-platypus-qlora
repo_type: model
status: closed
target_branch: null
title: 'Issue merging peft model... '
