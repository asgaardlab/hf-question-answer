!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Kubuxu
conflicting_files: null
created_at: 2023-07-30 00:46:32+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6dab514b878dda251d33a46d0c0b3477.svg
      fullname: Jakub Sztandera
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Kubuxu
      type: user
    createdAt: '2023-07-30T01:46:32.000Z'
    data:
      edited: true
      editors:
      - Kubuxu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5549611449241638
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6dab514b878dda251d33a46d0c0b3477.svg
          fullname: Jakub Sztandera
          isHf: false
          isPro: false
          name: Kubuxu
          type: user
        html: "<p>I ran an evaluation on the new version of your VAE vs others from\
          \ StabilityAI.</p>\n<p>Evaluation on COCO val-2017, 256x256, RandomCrop\
          \ with padding<br>Metrics:<br>    LPIPS: <a rel=\"nofollow\" href=\"https://github.com/richzhang/PerceptualSimilarity/\"\
          >https://github.com/richzhang/PerceptualSimilarity/</a> (lower better) and\
          \ structural similarity index measure via skimage.metrics (higher better)<br>\
          \    Metrics given as: mean [79% credibility interval]</p>\n<div class=\"\
          max-w-full overflow-auto\">\n\t<table>\n\t\t<thead><tr>\n<th>Model (format)</th>\n\
          <th>LPIPS \u2193</th>\n<th>SSIM \u2191</th>\n</tr>\n\n\t\t</thead><tbody><tr>\n\
          <td>sdxl-madebyollin/sdxl-vae-fp16-fix <a href=\"/madebyollin/sdxl-vae-fp16-fix/commit/6d10734\"\
          >6d10734</a> (float32)</td>\n<td>0.056 [0.021, 0.101]</td>\n<td>0.73 [0.54,\
          \ 0.88]</td>\n</tr>\n<tr>\n<td>sdxl-madebyollin/sdxl-vae-fp16-fix <a href=\"\
          /madebyollin/sdxl-vae-fp16-fix/commit/6d10734\">6d10734</a> (bfloat16)</td>\n\
          <td>0.058 [0.022, 0.103]</td>\n<td>0.72 [0.53, 0.88]</td>\n</tr>\n<tr>\n\
          <td>sdxl-madebyollin/sdxl-vae-fp16-fix <a href=\"/madebyollin/sdxl-vae-fp16-fix/commit/6d10734\"\
          >6d10734</a> (float16)</td>\n<td>0.056 [0.021, 0.101]</td>\n<td>0.73 [0.54,\
          \ 0.88]</td>\n</tr>\n<tr>\n<td>stabilityai/sdxl-vae 0.9 c1b803c (float32)</td>\n\
          <td>0.055 [0.021, 0.097]</td>\n<td>0.73 [0.54, 0.89]</td>\n</tr>\n<tr>\n\
          <td>stabilityai/sdxl-vae 0.9 c1b803c (bfloat16)</td>\n<td>0.058 [0.023,\
          \ 0.101]</td>\n<td>0.72 [0.53, 0.88]</td>\n</tr>\n<tr>\n<td>stabilityai/sdxl-vae\
          \ 0.9 c1b803c (float16)</td>\n<td>nan</td>\n<td>nan</td>\n</tr>\n<tr>\n\
          <td>stabilityai/sdxl-vae \"1.0\" 0cbce97 (float32)</td>\n<td>0.055 [0.021,\
          \ 0.097]</td>\n<td>0.71 [0.53, 0.87]</td>\n</tr>\n<tr>\n<td>stabilityai/sdxl-vae\
          \ \"1.0\" 0cbce97 (bfloat16)</td>\n<td>0.058 [0.023, 0.101]</td>\n<td>0.70\
          \ [0.52, 0.86]</td>\n</tr>\n<tr>\n<td>stabilityai/sdxl-vae \"1.0\" 0cbce97\
          \ (float16)</td>\n<td>nan</td>\n<td>nan</td>\n</tr>\n<tr>\n<td>stabilityai/sd-vae-ft-mse-original\
          \ 840000 (float32)</td>\n<td>0.057 [0.022, 0.101]</td>\n<td>0.70 [0.51,\
          \ 0.87]</td>\n</tr>\n<tr>\n<td>stabilityai/sd-vae-ft-mse-original 840000\
          \ (bfloat16)</td>\n<td>0.057 [0.022, 0.101]</td>\n<td>0.70 [0.51, 0.86]</td>\n\
          </tr>\n<tr>\n<td>stabilityai/sd-vae-ft-mse-original 840000 (float16)</td>\n\
          <td>0.057 [0.022, 0.101]</td>\n<td>0.70 [0.51, 0.87]</td>\n</tr>\n<tr>\n\
          <td>stabilityai/sd-vae-ft-ena-original 560000 (float32)</td>\n<td>0.055\
          \ [0.021, 0.096]</td>\n<td>0.69 [0.49, 0.86]</td>\n</tr>\n<tr>\n<td>stabilityai/sd-vae-ft-ena-original\
          \ 560000 (bfloat16)</td>\n<td>0.055 [0.021, 0.095]</td>\n<td>0.69 [0.49,\
          \ 0.86]</td>\n</tr>\n<tr>\n<td>stabilityai/sd-vae-ft-ena-original 560000\
          \ (float16)</td>\n<td>0.055 [0.021, 0.096]</td>\n<td>0.69 [0.49, 0.86]</td>\n\
          </tr>\n<tr>\n<td>kl-f8 (float32)</td>\n<td>0.063 [0.028, 0.105]</td>\n<td>0.67\
          \ [0.48, 0.84]</td>\n</tr>\n</tbody>\n\t</table>\n</div>\n<p>On MSE it also\
          \ looks quite favourably:<br>stabilityai/sdxl-vae c1b803c: 0.0048 [0.0008,\
          \ 0.0105] (f32),  MSE: 0.0049 [0.0008, 0.0108] (bf16)<br>madebyollin/sdxl-vae-fp16-fix\
          \ <a href=\"/madebyollin/sdxl-vae-fp16-fix/commit/6d10734\">6d10734</a>:\
          \ 0.0048 [0.0008, 0.0105] (f32, bf16, f16)</p>\n<p>The previous version\
          \ had a bit to ask for:<br>madebyollin/sdxl-vae-fp16-fix (old 2023-07-12\
          \ <a href=\"/madebyollin/sdxl-vae-fp16-fix/commit/dd10706\">dd10706</a>):<br>\
          \    f32: LPIPS: 0.0691 [0.0291, 0.1181], MSE: 0.0054 [0.0011, 0.0114]<br>\
          \    bf16: LPIPS: 0.0699 [0.0298, 0.1188], MSE: 0.0053 [0.0010, 0.0114]<br>\
          \    f16: LPIPS: 0.0692 [0.0290, 0.1184], MSE: 0.0054 [0.0011, 0.0114]</p>\n\
          <p>Great job with the new one!!<br>And the speed and VRAM gains for not\
          \ using upcast are very significant.</p>\n"
        raw: "I ran an evaluation on the new version of your VAE vs others from StabilityAI.\n\
          \nEvaluation on COCO val-2017, 256x256, RandomCrop with padding\nMetrics:\n\
          \    LPIPS: https://github.com/richzhang/PerceptualSimilarity/ (lower better)\
          \ and structural similarity index measure via skimage.metrics (higher better)\n\
          \    Metrics given as: mean [79% credibility interval]\nModel (format)|\
          \ LPIPS \u2193| SSIM \u2191|\n|--------------|--------|-------|\n|sdxl-madebyollin/sdxl-vae-fp16-fix\
          \ 6d10734 (float32) | 0.056 [0.021, 0.101] | 0.73 [0.54, 0.88] |\n|sdxl-madebyollin/sdxl-vae-fp16-fix\
          \ 6d10734 (bfloat16) | 0.058 [0.022, 0.103] | 0.72 [0.53, 0.88] |\n|sdxl-madebyollin/sdxl-vae-fp16-fix\
          \ 6d10734 (float16)| 0.056 [0.021, 0.101] | 0.73 [0.54, 0.88] |\n| stabilityai/sdxl-vae\
          \ 0.9 c1b803c (float32) | 0.055 [0.021, 0.097] | 0.73 [0.54, 0.89] |\n|\
          \ stabilityai/sdxl-vae 0.9 c1b803c (bfloat16) | 0.058 [0.023, 0.101] | 0.72\
          \ [0.53, 0.88] |\n| stabilityai/sdxl-vae 0.9 c1b803c (float16) | nan | nan\
          \ |\n| stabilityai/sdxl-vae \"1.0\" 0cbce97 (float32) | 0.055 [0.021, 0.097]\
          \ | 0.71 [0.53, 0.87] |\n| stabilityai/sdxl-vae \"1.0\" 0cbce97 (bfloat16)\
          \ | 0.058 [0.023, 0.101] | 0.70 [0.52, 0.86] |\n| stabilityai/sdxl-vae \"\
          1.0\" 0cbce97 (float16) | nan | nan |\n| stabilityai/sd-vae-ft-mse-original\
          \ 840000 (float32) | 0.057 [0.022, 0.101] | 0.70 [0.51, 0.87] |\n| stabilityai/sd-vae-ft-mse-original\
          \ 840000 (bfloat16) | 0.057 [0.022, 0.101] | 0.70 [0.51, 0.86] |\n| stabilityai/sd-vae-ft-mse-original\
          \ 840000 (float16) | 0.057 [0.022, 0.101] | 0.70 [0.51, 0.87] |\n| stabilityai/sd-vae-ft-ena-original\
          \ 560000 (float32) | 0.055 [0.021, 0.096] | 0.69 [0.49, 0.86] |\n| stabilityai/sd-vae-ft-ena-original\
          \ 560000 (bfloat16) | 0.055 [0.021, 0.095] | 0.69 [0.49, 0.86] |\n| stabilityai/sd-vae-ft-ena-original\
          \ 560000 (float16) | 0.055 [0.021, 0.096] | 0.69 [0.49, 0.86] |\n| kl-f8\
          \ (float32) | 0.063 [0.028, 0.105] | 0.67 [0.48, 0.84] |\n\nOn MSE it also\
          \ looks quite favourably:\nstabilityai/sdxl-vae c1b803c: 0.0048 [0.0008,\
          \ 0.0105] (f32),  MSE: 0.0049 [0.0008, 0.0108] (bf16)\nmadebyollin/sdxl-vae-fp16-fix\
          \ 6d10734: 0.0048 [0.0008, 0.0105] (f32, bf16, f16)\n\nThe previous version\
          \ had a bit to ask for:\nmadebyollin/sdxl-vae-fp16-fix (old 2023-07-12 dd10706):\n\
          \    f32: LPIPS: 0.0691 [0.0291, 0.1181], MSE: 0.0054 [0.0011, 0.0114]\n\
          \    bf16: LPIPS: 0.0699 [0.0298, 0.1188], MSE: 0.0053 [0.0010, 0.0114]\n\
          \    f16: LPIPS: 0.0692 [0.0290, 0.1184], MSE: 0.0054 [0.0011, 0.0114]\n\
          \nGreat job with the new one!!\nAnd the speed and VRAM gains for not using\
          \ upcast are very significant.\n"
        updatedAt: '2023-07-31T12:37:16.732Z'
      numEdits: 2
      reactions:
      - count: 8
        reaction: "\U0001F92F"
        users:
        - Aptronym
        - jrrkulp
        - madebyollin
        - ptx0
        - GabrielVidal
        - peteromallet
        - rvorias
        - ShoufaChen
      - count: 6
        reaction: "\u2764\uFE0F"
        users:
        - madebyollin
        - ptx0
        - bdsqlsz
        - rvorias
        - ShoufaChen
        - monology
      - count: 2
        reaction: "\U0001F44D"
        users:
        - ShoufaChen
        - jucic
    id: 64c5c0f8e2e5c94bd04eaa80
    type: comment
  author: Kubuxu
  content: "I ran an evaluation on the new version of your VAE vs others from StabilityAI.\n\
    \nEvaluation on COCO val-2017, 256x256, RandomCrop with padding\nMetrics:\n  \
    \  LPIPS: https://github.com/richzhang/PerceptualSimilarity/ (lower better) and\
    \ structural similarity index measure via skimage.metrics (higher better)\n  \
    \  Metrics given as: mean [79% credibility interval]\nModel (format)| LPIPS \u2193\
    | SSIM \u2191|\n|--------------|--------|-------|\n|sdxl-madebyollin/sdxl-vae-fp16-fix\
    \ 6d10734 (float32) | 0.056 [0.021, 0.101] | 0.73 [0.54, 0.88] |\n|sdxl-madebyollin/sdxl-vae-fp16-fix\
    \ 6d10734 (bfloat16) | 0.058 [0.022, 0.103] | 0.72 [0.53, 0.88] |\n|sdxl-madebyollin/sdxl-vae-fp16-fix\
    \ 6d10734 (float16)| 0.056 [0.021, 0.101] | 0.73 [0.54, 0.88] |\n| stabilityai/sdxl-vae\
    \ 0.9 c1b803c (float32) | 0.055 [0.021, 0.097] | 0.73 [0.54, 0.89] |\n| stabilityai/sdxl-vae\
    \ 0.9 c1b803c (bfloat16) | 0.058 [0.023, 0.101] | 0.72 [0.53, 0.88] |\n| stabilityai/sdxl-vae\
    \ 0.9 c1b803c (float16) | nan | nan |\n| stabilityai/sdxl-vae \"1.0\" 0cbce97\
    \ (float32) | 0.055 [0.021, 0.097] | 0.71 [0.53, 0.87] |\n| stabilityai/sdxl-vae\
    \ \"1.0\" 0cbce97 (bfloat16) | 0.058 [0.023, 0.101] | 0.70 [0.52, 0.86] |\n| stabilityai/sdxl-vae\
    \ \"1.0\" 0cbce97 (float16) | nan | nan |\n| stabilityai/sd-vae-ft-mse-original\
    \ 840000 (float32) | 0.057 [0.022, 0.101] | 0.70 [0.51, 0.87] |\n| stabilityai/sd-vae-ft-mse-original\
    \ 840000 (bfloat16) | 0.057 [0.022, 0.101] | 0.70 [0.51, 0.86] |\n| stabilityai/sd-vae-ft-mse-original\
    \ 840000 (float16) | 0.057 [0.022, 0.101] | 0.70 [0.51, 0.87] |\n| stabilityai/sd-vae-ft-ena-original\
    \ 560000 (float32) | 0.055 [0.021, 0.096] | 0.69 [0.49, 0.86] |\n| stabilityai/sd-vae-ft-ena-original\
    \ 560000 (bfloat16) | 0.055 [0.021, 0.095] | 0.69 [0.49, 0.86] |\n| stabilityai/sd-vae-ft-ena-original\
    \ 560000 (float16) | 0.055 [0.021, 0.096] | 0.69 [0.49, 0.86] |\n| kl-f8 (float32)\
    \ | 0.063 [0.028, 0.105] | 0.67 [0.48, 0.84] |\n\nOn MSE it also looks quite favourably:\n\
    stabilityai/sdxl-vae c1b803c: 0.0048 [0.0008, 0.0105] (f32),  MSE: 0.0049 [0.0008,\
    \ 0.0108] (bf16)\nmadebyollin/sdxl-vae-fp16-fix 6d10734: 0.0048 [0.0008, 0.0105]\
    \ (f32, bf16, f16)\n\nThe previous version had a bit to ask for:\nmadebyollin/sdxl-vae-fp16-fix\
    \ (old 2023-07-12 dd10706):\n    f32: LPIPS: 0.0691 [0.0291, 0.1181], MSE: 0.0054\
    \ [0.0011, 0.0114]\n    bf16: LPIPS: 0.0699 [0.0298, 0.1188], MSE: 0.0053 [0.0010,\
    \ 0.0114]\n    f16: LPIPS: 0.0692 [0.0290, 0.1184], MSE: 0.0054 [0.0011, 0.0114]\n\
    \nGreat job with the new one!!\nAnd the speed and VRAM gains for not using upcast\
    \ are very significant.\n"
  created_at: 2023-07-30 00:46:32+00:00
  edited: true
  hidden: false
  id: 64c5c0f8e2e5c94bd04eaa80
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675418836385-60fb2fbbbfa81e553cc5c726.jpeg?w=200&h=200&f=face
      fullname: Raphael Vorias
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rvorias
      type: user
    createdAt: '2023-08-10T07:25:05.000Z'
    data:
      edited: false
      editors:
      - rvorias
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5044764280319214
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675418836385-60fb2fbbbfa81e553cc5c726.jpeg?w=200&h=200&f=face
          fullname: Raphael Vorias
          isHf: false
          isPro: false
          name: rvorias
          type: user
        html: '<p>ty for the benchmark</p>

          '
        raw: ty for the benchmark
        updatedAt: '2023-08-10T07:25:05.881Z'
      numEdits: 0
      reactions: []
    id: 64d490d1b63195e61e7e6d5b
    type: comment
  author: rvorias
  content: ty for the benchmark
  created_at: 2023-08-10 06:25:05+00:00
  edited: false
  hidden: false
  id: 64d490d1b63195e61e7e6d5b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/6dab514b878dda251d33a46d0c0b3477.svg
      fullname: Jakub Sztandera
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Kubuxu
      type: user
    createdAt: '2023-08-10T12:31:43.000Z'
    data:
      from: Basic evaluation results
      to: Evaluation results
    id: 64d4d8af6554218f971744c1
    type: title-change
  author: Kubuxu
  created_at: 2023-08-10 11:31:43+00:00
  id: 64d4d8af6554218f971744c1
  new_title: Evaluation results
  old_title: Basic evaluation results
  type: title-change
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: madebyollin/sdxl-vae-fp16-fix
repo_type: model
status: open
target_branch: null
title: Evaluation results
