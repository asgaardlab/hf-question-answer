!!python/object:huggingface_hub.community.DiscussionWithDetails
author: rongzhou
conflicting_files: null
created_at: 2024-01-18 04:07:21+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b0bee2c7fad0f2d8bafd4a8bac9c259e.svg
      fullname: Rong Zhou
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rongzhou
      type: user
    createdAt: '2024-01-18T04:07:21.000Z'
    data:
      edited: false
      editors:
      - rongzhou
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9982135891914368
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b0bee2c7fad0f2d8bafd4a8bac9c259e.svg
          fullname: Rong Zhou
          isHf: false
          isPro: false
          name: rongzhou
          type: user
        html: '<p>You did a great job! I''d like to learn how to do it by myself.</p>

          '
        raw: You did a great job! I'd like to learn how to do it by myself.
        updatedAt: '2024-01-18T04:07:21.408Z'
      numEdits: 0
      reactions: []
    id: 65a8a3f9a92d5908df2335bf
    type: comment
  author: rongzhou
  content: You did a great job! I'd like to learn how to do it by myself.
  created_at: 2024-01-18 04:07:21+00:00
  edited: false
  hidden: false
  id: 65a8a3f9a92d5908df2335bf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b0bee2c7fad0f2d8bafd4a8bac9c259e.svg
      fullname: Rong Zhou
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rongzhou
      type: user
    createdAt: '2024-01-18T04:09:29.000Z'
    data:
      edited: false
      editors:
      - rongzhou
      hidden: false
      identifiedLanguage:
        language: eu
        probability: 0.22828058898448944
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b0bee2c7fad0f2d8bafd4a8bac9c259e.svg
          fullname: Rong Zhou
          isHf: false
          isPro: false
          name: rongzhou
          type: user
        html: '<p>Tried to use llama.cpp convert.py, Got follow error:<br>assert 0
          &lt;= begin &lt;= end &lt;= len(byte_buf)<br>           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</p>

          '
        raw: "Tried to use llama.cpp convert.py, Got follow error:\nassert 0 <= begin\
          \ <= end <= len(byte_buf)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"
        updatedAt: '2024-01-18T04:09:29.109Z'
      numEdits: 0
      reactions: []
    id: 65a8a47910342794b7fef82b
    type: comment
  author: rongzhou
  content: "Tried to use llama.cpp convert.py, Got follow error:\nassert 0 <= begin\
    \ <= end <= len(byte_buf)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"
  created_at: 2024-01-18 04:09:29+00:00
  edited: false
  hidden: false
  id: 65a8a47910342794b7fef82b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee1e15ee4fe2d5e521ec1a30bcd98198.svg
      fullname: Thryka
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Thryka
      type: user
    createdAt: '2024-01-19T14:55:37.000Z'
    data:
      edited: true
      editors:
      - Thryka
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4271458089351654
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee1e15ee4fe2d5e521ec1a30bcd98198.svg
          fullname: Thryka
          isHf: false
          isPro: false
          name: Thryka
          type: user
        html: '<p>Similar problem. I attempt to convert with python convert.py --outtype
          f16 --outfile momo70.fp16.gguf ./models/momo70/ --vocab-type bpe --pad-vocab</p>

          <p>and get:<br>Padding vocab with 213 token(s) -  through <br>Traceback
          (most recent call last):<br>  File "/home/llama.cpp/convert.py", line 1658,
          in <br>    main(sys.argv[1:])  # Exclude the first element (script name)
          from sys.argv<br>  File "/home/llama.cpp/convert.py", line 1643, in main<br>    OutputFile.write_all(<br>  File
          "/home/llama.cpp/convert.py", line 1188, in write_all<br>    check_vocab_size(params,
          vocab, pad_vocab=pad_vocab)<br>  File "/home/llama.cpp/convert.py", line
          1008, in check_vocab_size<br>    vocab.added_tokens_dict[f"&lt;dummy{i:05}&gt;"]
          = -1<br>AttributeError: ''BpeVocab'' object has no attribute ''added_tokens_dict''.
          Did you mean: ''added_tokens_list''?</p>

          '
        raw: "Similar problem. I attempt to convert with python convert.py --outtype\
          \ f16 --outfile momo70.fp16.gguf ./models/momo70/ --vocab-type bpe --pad-vocab\n\
          \nand get:\nPadding vocab with 213 token(s) - <dummy00001> through <dummy00213>\n\
          Traceback (most recent call last):\n  File \"/home/llama.cpp/convert.py\"\
          , line 1658, in <module>\n    main(sys.argv[1:])  # Exclude the first element\
          \ (script name) from sys.argv\n  File \"/home/llama.cpp/convert.py\", line\
          \ 1643, in main\n    OutputFile.write_all(\n  File \"/home/llama.cpp/convert.py\"\
          , line 1188, in write_all\n    check_vocab_size(params, vocab, pad_vocab=pad_vocab)\n\
          \  File \"/home/llama.cpp/convert.py\", line 1008, in check_vocab_size\n\
          \    vocab.added_tokens_dict[f\"<dummy{i:05}>\"] = -1\nAttributeError: 'BpeVocab'\
          \ object has no attribute 'added_tokens_dict'. Did you mean: 'added_tokens_list'?"
        updatedAt: '2024-01-19T21:22:24.417Z'
      numEdits: 2
      reactions: []
    id: 65aa8d69d2adc31ee3e0773f
    type: comment
  author: Thryka
  content: "Similar problem. I attempt to convert with python convert.py --outtype\
    \ f16 --outfile momo70.fp16.gguf ./models/momo70/ --vocab-type bpe --pad-vocab\n\
    \nand get:\nPadding vocab with 213 token(s) - <dummy00001> through <dummy00213>\n\
    Traceback (most recent call last):\n  File \"/home/llama.cpp/convert.py\", line\
    \ 1658, in <module>\n    main(sys.argv[1:])  # Exclude the first element (script\
    \ name) from sys.argv\n  File \"/home/llama.cpp/convert.py\", line 1643, in main\n\
    \    OutputFile.write_all(\n  File \"/home/llama.cpp/convert.py\", line 1188,\
    \ in write_all\n    check_vocab_size(params, vocab, pad_vocab=pad_vocab)\n  File\
    \ \"/home/llama.cpp/convert.py\", line 1008, in check_vocab_size\n    vocab.added_tokens_dict[f\"\
    <dummy{i:05}>\"] = -1\nAttributeError: 'BpeVocab' object has no attribute 'added_tokens_dict'.\
    \ Did you mean: 'added_tokens_list'?"
  created_at: 2024-01-19 14:55:37+00:00
  edited: true
  hidden: false
  id: 65aa8d69d2adc31ee3e0773f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6585ffb10eeafbd678d4b3fe/5FI5k1cG0rVxThKOSi1Tx.jpeg?w=200&h=200&f=face
      fullname: Common Sense
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: senseable
      type: user
    createdAt: '2024-01-19T18:46:57.000Z'
    data:
      edited: false
      editors:
      - senseable
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.979780912399292
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6585ffb10eeafbd678d4b3fe/5FI5k1cG0rVxThKOSi1Tx.jpeg?w=200&h=200&f=face
          fullname: Common Sense
          isHf: false
          isPro: false
          name: senseable
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Thryka&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Thryka\">@<span class=\"\
          underline\">Thryka</span></a></span>\n\n\t</span></span> that's literally\
          \ exactly what I'm doing. I suspect the only difference is that I'm doing\
          \ it on the M3 Macbook Pro</p>\n"
        raw: '@Thryka that''s literally exactly what I''m doing. I suspect the only
          difference is that I''m doing it on the M3 Macbook Pro'
        updatedAt: '2024-01-19T18:46:57.319Z'
      numEdits: 0
      reactions: []
    id: 65aac3a1494b2faa87f7feaf
    type: comment
  author: senseable
  content: '@Thryka that''s literally exactly what I''m doing. I suspect the only
    difference is that I''m doing it on the M3 Macbook Pro'
  created_at: 2024-01-19 18:46:57+00:00
  edited: false
  hidden: false
  id: 65aac3a1494b2faa87f7feaf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee1e15ee4fe2d5e521ec1a30bcd98198.svg
      fullname: Thryka
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Thryka
      type: user
    createdAt: '2024-01-19T21:23:14.000Z'
    data:
      edited: false
      editors:
      - Thryka
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8821366429328918
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee1e15ee4fe2d5e521ec1a30bcd98198.svg
          fullname: Thryka
          isHf: false
          isPro: false
          name: Thryka
          type: user
        html: '<p>Weird!</p>

          '
        raw: Weird!
        updatedAt: '2024-01-19T21:23:14.375Z'
      numEdits: 0
      reactions: []
    id: 65aae842e2a2c86356749f6b
    type: comment
  author: Thryka
  content: Weird!
  created_at: 2024-01-19 21:23:14+00:00
  edited: false
  hidden: false
  id: 65aae842e2a2c86356749f6b
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: senseable/MoMo-70B-lora-1.8.6-DPO-gguf
repo_type: model
status: open
target_branch: null
title: How to convert from safetensors to GGUF?
