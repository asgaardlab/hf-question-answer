!!python/object:huggingface_hub.community.DiscussionWithDetails
author: zx3o
conflicting_files: null
created_at: 2023-01-05 22:03:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ebd0b425036cb1b3c33597cf657da4dc.svg
      fullname: '29'
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zx3o
      type: user
    createdAt: '2023-01-05T22:03:49.000Z'
    data:
      edited: false
      editors:
      - zx3o
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ebd0b425036cb1b3c33597cf657da4dc.svg
          fullname: '29'
          isHf: false
          isPro: false
          name: zx3o
          type: user
        html: '<p>Traceback (most recent call last):<br>  File "D:\diffu5ion\stable-diffusion-webui\webui.py",
          line 66, in initialize<br>    modules.sd_models.load_model()<br>  File "D:\diffu5ion\stable-diffusion-webui\modules\sd_models.py",
          line 321, in load_model<br>    load_model_weights(sd_model, checkpoint_info)<br>  File
          "D:\diffu5ion\stable-diffusion-webui\modules\sd_models.py", line 202, in
          load_model_weights<br>    sd = read_state_dict(checkpoint_file)<br>  File
          "D:\diffu5ion\stable-diffusion-webui\modules\sd_models.py", line 179, in
          read_state_dict<br>    pl_sd = torch.load(checkpoint_file, map_location=map_location
          or shared.weight_load_location)<br>  File "D:\diffu5ion\stable-diffusion-webui\modules\safe.py",
          line 106, in load<br>    return load_with_extra(filename, extra_handler=global_extra_handler,
          *args, **kwargs)<br>  File "D:\diffu5ion\stable-diffusion-webui\modules\safe.py",
          line 151, in load_with_extra<br>    return unsafe_torch_load(filename, *args,
          **kwargs)<br>  File "D:\diffu5ion\stable-diffusion-webui\venv\lib\site-packages\torch\serialization.py",
          line 712, in load<br>    return _load(opened_zipfile, map_location, pickle_module,
          **pickle_load_args)<br>  File "D:\diffu5ion\stable-diffusion-webui\venv\lib\site-packages\torch\serialization.py",
          line 1049, in _load<br>    result = unpickler.load()<br>  File "D:\diffu5ion\stable-diffusion-webui\venv\lib\site-packages\torch\serialization.py",
          line 1019, in persistent_load<br>    load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))<br>  File
          "D:\diffu5ion\stable-diffusion-webui\venv\lib\site-packages\torch\serialization.py",
          line 997, in load_tensor<br>    storage = zip_file.get_storage_from_record(name,
          numel, torch._UntypedStorage).storage()._untyped()<br>RuntimeError: [enforce
          fail at ..\c10\core\impl\alloc_cpu.cpp:81] data. DefaultCPUAllocator: not
          enough memory: you tried to allocate 44236800 bytes.</p>

          '
        raw: "Traceback (most recent call last):\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\\
          webui.py\", line 66, in initialize\r\n    modules.sd_models.load_model()\r\
          \n  File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\sd_models.py\"\
          , line 321, in load_model\r\n    load_model_weights(sd_model, checkpoint_info)\r\
          \n  File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\sd_models.py\"\
          , line 202, in load_model_weights\r\n    sd = read_state_dict(checkpoint_file)\r\
          \n  File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\sd_models.py\"\
          , line 179, in read_state_dict\r\n    pl_sd = torch.load(checkpoint_file,\
          \ map_location=map_location or shared.weight_load_location)\r\n  File \"\
          D:\\diffu5ion\\stable-diffusion-webui\\modules\\safe.py\", line 106, in\
          \ load\r\n    return load_with_extra(filename, extra_handler=global_extra_handler,\
          \ *args, **kwargs)\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\\
          safe.py\", line 151, in load_with_extra\r\n    return unsafe_torch_load(filename,\
          \ *args, **kwargs)\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\venv\\\
          lib\\site-packages\\torch\\serialization.py\", line 712, in load\r\n   \
          \ return _load(opened_zipfile, map_location, pickle_module, **pickle_load_args)\r\
          \n  File \"D:\\diffu5ion\\stable-diffusion-webui\\venv\\lib\\site-packages\\\
          torch\\serialization.py\", line 1049, in _load\r\n    result = unpickler.load()\r\
          \n  File \"D:\\diffu5ion\\stable-diffusion-webui\\venv\\lib\\site-packages\\\
          torch\\serialization.py\", line 1019, in persistent_load\r\n    load_tensor(dtype,\
          \ nbytes, key, _maybe_decode_ascii(location))\r\n  File \"D:\\diffu5ion\\\
          stable-diffusion-webui\\venv\\lib\\site-packages\\torch\\serialization.py\"\
          , line 997, in load_tensor\r\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch._UntypedStorage).storage()._untyped()\r\nRuntimeError: [enforce\
          \ fail at ..\\c10\\core\\impl\\alloc_cpu.cpp:81] data. DefaultCPUAllocator:\
          \ not enough memory: you tried to allocate 44236800 bytes."
        updatedAt: '2023-01-05T22:03:49.948Z'
      numEdits: 0
      reactions: []
    id: 63b74945bd2d1535227e5483
    type: comment
  author: zx3o
  content: "Traceback (most recent call last):\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\\
    webui.py\", line 66, in initialize\r\n    modules.sd_models.load_model()\r\n \
    \ File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\sd_models.py\", line\
    \ 321, in load_model\r\n    load_model_weights(sd_model, checkpoint_info)\r\n\
    \  File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\sd_models.py\", line\
    \ 202, in load_model_weights\r\n    sd = read_state_dict(checkpoint_file)\r\n\
    \  File \"D:\\diffu5ion\\stable-diffusion-webui\\modules\\sd_models.py\", line\
    \ 179, in read_state_dict\r\n    pl_sd = torch.load(checkpoint_file, map_location=map_location\
    \ or shared.weight_load_location)\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\\
    modules\\safe.py\", line 106, in load\r\n    return load_with_extra(filename,\
    \ extra_handler=global_extra_handler, *args, **kwargs)\r\n  File \"D:\\diffu5ion\\\
    stable-diffusion-webui\\modules\\safe.py\", line 151, in load_with_extra\r\n \
    \   return unsafe_torch_load(filename, *args, **kwargs)\r\n  File \"D:\\diffu5ion\\\
    stable-diffusion-webui\\venv\\lib\\site-packages\\torch\\serialization.py\", line\
    \ 712, in load\r\n    return _load(opened_zipfile, map_location, pickle_module,\
    \ **pickle_load_args)\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\venv\\\
    lib\\site-packages\\torch\\serialization.py\", line 1049, in _load\r\n    result\
    \ = unpickler.load()\r\n  File \"D:\\diffu5ion\\stable-diffusion-webui\\venv\\\
    lib\\site-packages\\torch\\serialization.py\", line 1019, in persistent_load\r\
    \n    load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\r\n  File\
    \ \"D:\\diffu5ion\\stable-diffusion-webui\\venv\\lib\\site-packages\\torch\\serialization.py\"\
    , line 997, in load_tensor\r\n    storage = zip_file.get_storage_from_record(name,\
    \ numel, torch._UntypedStorage).storage()._untyped()\r\nRuntimeError: [enforce\
    \ fail at ..\\c10\\core\\impl\\alloc_cpu.cpp:81] data. DefaultCPUAllocator: not\
    \ enough memory: you tried to allocate 44236800 bytes."
  created_at: 2023-01-05 22:03:49+00:00
  edited: false
  hidden: false
  id: 63b74945bd2d1535227e5483
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b3115074535bd8a9db7464ebb67f28f4.svg
      fullname: Ben S
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: BestJammer
      type: user
    createdAt: '2023-01-05T22:23:31.000Z'
    data:
      edited: false
      editors:
      - BestJammer
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b3115074535bd8a9db7464ebb67f28f4.svg
          fullname: Ben S
          isHf: false
          isPro: false
          name: BestJammer
          type: user
        html: '<p>This error message is telling you that you don''t have enough memory
          available to load the model weights.</p>

          <p>It looks like you are using PyTorch to load a model checkpoint file,
          and the torch.load function is trying to allocate 44236800 bytes of memory,
          but it is unable to do so because there isn''t enough available memory.</p>

          <p>One possible solution to this problem would be to try to free up some
          memory by closing other programs or processes that may be using a lot of
          memory. You could also try increasing the amount of memory available to
          your system, if possible. Alternatively, you could try using a smaller model,
          or using model checkpoint files that are smaller in size.</p>

          <p>I''m not advanced in coding to figure it out. There is an unpickler happening
          so I recommend scanning all your ckpt files using this: <a rel="nofollow"
          href="https://github.com/diStyApps/Stable-Diffusion-Pickle-Scanner-GUI">https://github.com/diStyApps/Stable-Diffusion-Pickle-Scanner-GUI</a></p>

          '
        raw: 'This error message is telling you that you don''t have enough memory
          available to load the model weights.


          It looks like you are using PyTorch to load a model checkpoint file, and
          the torch.load function is trying to allocate 44236800 bytes of memory,
          but it is unable to do so because there isn''t enough available memory.


          One possible solution to this problem would be to try to free up some memory
          by closing other programs or processes that may be using a lot of memory.
          You could also try increasing the amount of memory available to your system,
          if possible. Alternatively, you could try using a smaller model, or using
          model checkpoint files that are smaller in size.


          I''m not advanced in coding to figure it out. There is an unpickler happening
          so I recommend scanning all your ckpt files using this: https://github.com/diStyApps/Stable-Diffusion-Pickle-Scanner-GUI'
        updatedAt: '2023-01-05T22:23:31.922Z'
      numEdits: 0
      reactions: []
    id: 63b74de3ec5c995fded2389e
    type: comment
  author: BestJammer
  content: 'This error message is telling you that you don''t have enough memory available
    to load the model weights.


    It looks like you are using PyTorch to load a model checkpoint file, and the torch.load
    function is trying to allocate 44236800 bytes of memory, but it is unable to do
    so because there isn''t enough available memory.


    One possible solution to this problem would be to try to free up some memory by
    closing other programs or processes that may be using a lot of memory. You could
    also try increasing the amount of memory available to your system, if possible.
    Alternatively, you could try using a smaller model, or using model checkpoint
    files that are smaller in size.


    I''m not advanced in coding to figure it out. There is an unpickler happening
    so I recommend scanning all your ckpt files using this: https://github.com/diStyApps/Stable-Diffusion-Pickle-Scanner-GUI'
  created_at: 2023-01-05 22:23:31+00:00
  edited: false
  hidden: false
  id: 63b74de3ec5c995fded2389e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/b3115074535bd8a9db7464ebb67f28f4.svg
      fullname: Ben S
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: BestJammer
      type: user
    createdAt: '2023-01-11T01:43:46.000Z'
    data:
      status: closed
    id: 63be145276a5d68b12385b2c
    type: status-change
  author: BestJammer
  created_at: 2023-01-11 01:43:46+00:00
  id: 63be145276a5d68b12385b2c
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: BestJammer/HASDX
repo_type: model
status: closed
target_branch: null
title: Error
