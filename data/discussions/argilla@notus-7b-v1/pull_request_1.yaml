!!python/object:huggingface_hub.community.DiscussionWithDetails
author: macadeliccc
conflicting_files: []
created_at: 2023-12-01 18:44:38+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
      fullname: Tim Dolan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: macadeliccc
      type: user
    createdAt: '2023-12-01T18:44:38.000Z'
    data:
      edited: false
      editors:
      - macadeliccc
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7758528590202332
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
          fullname: Tim Dolan
          isHf: false
          isPro: false
          name: macadeliccc
          type: user
        html: '<p>changed ''prompt'' to ''messages'' to correct generation error.</p>

          <p>added explicit device assertion to alleviate this error:<br>RuntimeError:
          Expected all tensors to be on the same device, but found at least two devices,
          cuda:0 and cpu! (when checking argument for argument index in method wrapper_CUDA__index_select)</p>

          <p>added eos token to prevent open ended generation<br>added a print statement
          so the user can read the generated content.</p>

          '
        raw: 'changed ''prompt'' to ''messages'' to correct generation error.


          added explicit device assertion to alleviate this error:

          RuntimeError: Expected all tensors to be on the same device, but found at
          least two devices, cuda:0 and cpu! (when checking argument for argument
          index in method wrapper_CUDA__index_select)


          added eos token to prevent open ended generation

          added a print statement so the user can read the generated content.'
        updatedAt: '2023-12-01T18:44:38.260Z'
      numEdits: 0
      reactions: []
    id: 656a29966f39f15658c9862e
    type: comment
  author: macadeliccc
  content: 'changed ''prompt'' to ''messages'' to correct generation error.


    added explicit device assertion to alleviate this error:

    RuntimeError: Expected all tensors to be on the same device, but found at least
    two devices, cuda:0 and cpu! (when checking argument for argument index in method
    wrapper_CUDA__index_select)


    added eos token to prevent open ended generation

    added a print statement so the user can read the generated content.'
  created_at: 2023-12-01 18:44:38+00:00
  edited: false
  hidden: false
  id: 656a29966f39f15658c9862e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
      fullname: Tim Dolan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: macadeliccc
      type: user
    createdAt: '2023-12-01T18:44:39.000Z'
    data:
      oid: 2dea99e7eae1612d0da8a996062ce4fc89d8a72e
      parents:
      - 83af961763096872675626d26ae5b735c61caa49
      subject: corrected 'generate' demo code
    id: 656a29970000000000000000
    type: commit
  author: macadeliccc
  created_at: 2023-12-01 18:44:39+00:00
  id: 656a29970000000000000000
  oid: 2dea99e7eae1612d0da8a996062ce4fc89d8a72e
  summary: corrected 'generate' demo code
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60f0608166e5701b80ed3f02/ZSIRRZgthYnTinV1wGE1N.jpeg?w=200&h=200&f=face
      fullname: Alvaro Bartolome
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: alvarobartt
      type: user
    createdAt: '2023-12-02T10:58:36.000Z'
    data:
      edited: false
      editors:
      - alvarobartt
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8498799204826355
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60f0608166e5701b80ed3f02/ZSIRRZgthYnTinV1wGE1N.jpeg?w=200&h=200&f=face
          fullname: Alvaro Bartolome
          isHf: false
          isPro: false
          name: alvarobartt
          type: user
        html: "<p>Hi Tim, thanks for this PR! LGTM, but can we keep the <code>device_map=\"\
          auto\"</code> instead? \U0001F917</p>\n"
        raw: "Hi Tim, thanks for this PR! LGTM, but can we keep the `device_map=\"\
          auto\"` instead? \U0001F917"
        updatedAt: '2023-12-02T10:58:36.927Z'
      numEdits: 0
      reactions: []
    id: 656b0ddcadba74cd5e26ec07
    type: comment
  author: alvarobartt
  content: "Hi Tim, thanks for this PR! LGTM, but can we keep the `device_map=\"auto\"\
    ` instead? \U0001F917"
  created_at: 2023-12-02 10:58:36+00:00
  edited: false
  hidden: false
  id: 656b0ddcadba74cd5e26ec07
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
      fullname: Tim Dolan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: macadeliccc
      type: user
    createdAt: '2023-12-02T14:16:18.000Z'
    data:
      edited: false
      editors:
      - macadeliccc
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9923477172851562
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
          fullname: Tim Dolan
          isHf: false
          isPro: false
          name: macadeliccc
          type: user
        html: "<p>Absolutely, it\u2019s your project. I just had some issues with\
          \ it but if other people need to they can just change the device on their\
          \ own like I did. </p>\n"
        raw: "Absolutely, it\u2019s your project. I just had some issues with it but\
          \ if other people need to they can just change the device on their own like\
          \ I did. "
        updatedAt: '2023-12-02T14:16:18.004Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - alvarobartt
    id: 656b3c327069c2390a0ebf05
    type: comment
  author: macadeliccc
  content: "Absolutely, it\u2019s your project. I just had some issues with it but\
    \ if other people need to they can just change the device on their own like I\
    \ did. "
  created_at: 2023-12-02 14:16:18+00:00
  edited: false
  hidden: false
  id: 656b3c327069c2390a0ebf05
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60f0608166e5701b80ed3f02/ZSIRRZgthYnTinV1wGE1N.jpeg?w=200&h=200&f=face
      fullname: Alvaro Bartolome
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: alvarobartt
      type: user
    createdAt: '2023-12-02T21:03:35.000Z'
    data:
      edited: false
      editors:
      - alvarobartt
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9649492502212524
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60f0608166e5701b80ed3f02/ZSIRRZgthYnTinV1wGE1N.jpeg?w=200&h=200&f=face
          fullname: Alvaro Bartolome
          isHf: false
          isPro: false
          name: alvarobartt
          type: user
        html: "<p>No worries at all, I\u2019ll try to reproduce to see if I also have\
          \ the same issue, thanks for reporting! Coming back to this on Monday, but\
          \ thanks a lot for the comments and the PR \U0001FAF6\U0001F3FB</p>\n"
        raw: "No worries at all, I\u2019ll try to reproduce to see if I also have\
          \ the same issue, thanks for reporting! Coming back to this on Monday, but\
          \ thanks a lot for the comments and the PR \U0001FAF6\U0001F3FB"
        updatedAt: '2023-12-02T21:03:35.566Z'
      numEdits: 0
      reactions: []
    id: 656b9ba73dbac3a83dee0e68
    type: comment
  author: alvarobartt
  content: "No worries at all, I\u2019ll try to reproduce to see if I also have the\
    \ same issue, thanks for reporting! Coming back to this on Monday, but thanks\
    \ a lot for the comments and the PR \U0001FAF6\U0001F3FB"
  created_at: 2023-12-02 21:03:35+00:00
  edited: false
  hidden: false
  id: 656b9ba73dbac3a83dee0e68
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
      fullname: Tim Dolan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: macadeliccc
      type: user
    createdAt: '2023-12-02T22:19:52.000Z'
    data:
      edited: false
      editors:
      - macadeliccc
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.959868311882019
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6455cc8d679315e4ef16fbec/NcB1yDz0ZBtXXFiApnFyl.png?w=200&h=200&f=face
          fullname: Tim Dolan
          isHf: false
          isPro: false
          name: macadeliccc
          type: user
        html: '<p>sounds good, have a nice weekend!</p>

          '
        raw: sounds good, have a nice weekend!
        updatedAt: '2023-12-02T22:19:52.327Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - alvarobartt
    id: 656bad880a5ec499aac3d6be
    type: comment
  author: macadeliccc
  content: sounds good, have a nice weekend!
  created_at: 2023-12-02 22:19:52+00:00
  edited: false
  hidden: false
  id: 656bad880a5ec499aac3d6be
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60f0608166e5701b80ed3f02/ZSIRRZgthYnTinV1wGE1N.jpeg?w=200&h=200&f=face
      fullname: Alvaro Bartolome
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: alvarobartt
      type: user
    createdAt: '2023-12-04T08:54:24.000Z'
    data:
      edited: false
      editors:
      - alvarobartt
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7731145620346069
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60f0608166e5701b80ed3f02/ZSIRRZgthYnTinV1wGE1N.jpeg?w=200&h=200&f=face
          fullname: Alvaro Bartolome
          isHf: false
          isPro: false
          name: alvarobartt
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;macadeliccc&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/macadeliccc\"\
          >@<span class=\"underline\">macadeliccc</span></a></span>\n\n\t</span></span>,\
          \ I've reproduced in a Google Colab, feel free to use the code and output\
          \ from there \U0001F917 Also to add the output so that users know what's\
          \ the expected output</p>\n<p>See <a rel=\"nofollow\" href=\"https://colab.research.google.com/drive/1wHgYZQUtomhqFZHfTVFaDMbR8g8MjjkA?usp=sharing\"\
          >https://colab.research.google.com/drive/1wHgYZQUtomhqFZHfTVFaDMbR8g8MjjkA?usp=sharing</a>,\
          \ thanks for the issue!</p>\n"
        raw: "Hi @macadeliccc, I've reproduced in a Google Colab, feel free to use\
          \ the code and output from there \U0001F917 Also to add the output so that\
          \ users know what's the expected output\n\nSee https://colab.research.google.com/drive/1wHgYZQUtomhqFZHfTVFaDMbR8g8MjjkA?usp=sharing,\
          \ thanks for the issue!"
        updatedAt: '2023-12-04T08:54:24.654Z'
      numEdits: 0
      reactions: []
    id: 656d93c07069c2390a718224
    type: comment
  author: alvarobartt
  content: "Hi @macadeliccc, I've reproduced in a Google Colab, feel free to use the\
    \ code and output from there \U0001F917 Also to add the output so that users know\
    \ what's the expected output\n\nSee https://colab.research.google.com/drive/1wHgYZQUtomhqFZHfTVFaDMbR8g8MjjkA?usp=sharing,\
    \ thanks for the issue!"
  created_at: 2023-12-04 08:54:24+00:00
  edited: false
  hidden: false
  id: 656d93c07069c2390a718224
  type: comment
is_pull_request: true
merge_commit_oid: null
num: 1
repo_id: argilla/notus-7b-v1
repo_type: model
status: open
target_branch: refs/heads/main
title: corrected 'generate' demo code
