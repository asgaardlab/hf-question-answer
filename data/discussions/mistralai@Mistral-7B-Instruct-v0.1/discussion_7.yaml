!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dheerajpai
conflicting_files: null
created_at: 2023-09-27 21:33:47+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6f3c81e560dcb559baf94d0e7a7fbcbb.svg
      fullname: Pai
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: dheerajpai
      type: user
    createdAt: '2023-09-27T22:33:47.000Z'
    data:
      edited: false
      editors:
      - dheerajpai
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.40240710973739624
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6f3c81e560dcb559baf94d0e7a7fbcbb.svg
          fullname: Pai
          isHf: false
          isPro: true
          name: dheerajpai
          type: user
        html: '<p>I am getting this error.</p>

          <hr>

          <p>KeyError                                  Traceback (most recent call
          last)<br> in &lt;cell line: 5&gt;()<br>      3 device = "cuda" # the device
          to load the model onto<br>      4<br>----&gt; 5 model = AutoModelForCausalLM.from_pretrained("mistralai/Mistral-7B-Instruct-v0.1")<br>      6
          tokenizer = AutoTokenizer.from_pretrained("mistralai/Mistral-7B-Instruct-v0.1")<br>      7
          </p>

          <p>2 frames<br>/usr/local/lib/python3.10/dist-packages/transformers/models/auto/auto_factory.py
          in from_pretrained(cls, pretrained_model_name_or_path, *model_args, **kwargs)<br>    525                 _
          = kwargs.pop("quantization_config")<br>    526<br>--&gt; 527             config,
          kwargs = AutoConfig.from_pretrained(<br>    528                 pretrained_model_name_or_path,<br>    529                 return_unused_kwargs=True,</p>

          <p>/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py
          in from_pretrained(cls, pretrained_model_name_or_path, **kwargs)<br>   1037             return
          config_class.from_pretrained(pretrained_model_name_or_path, **kwargs)<br>   1038         elif
          "model_type" in config_dict:<br>-&gt; 1039             config_class = CONFIG_MAPPING[config_dict["model_type"]]<br>   1040             return
          config_class.from_dict(config_dict, **unused_kwargs)<br>   1041         else:</p>

          <p>/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py
          in <strong>getitem</strong>(self, key)<br>    732             return self._extra_content[key]<br>    733         if
          key not in self._mapping:<br>--&gt; 734             raise KeyError(key)<br>    735         value
          = self._mapping[key]<br>    736         module_name = model_type_to_module_name(key)</p>

          <p>KeyError: ''mistral''</p>

          <p>My code</p>

          <pre><code>

          from transformers import AutoModelForCausalLM, AutoTokenizer


          device = "cuda" # the device to load the model onto


          model = AutoModelForCausalLM.from_pretrained("mistralai/Mistral-7B-Instruct-v0.1")

          tokenizer = AutoTokenizer.from_pretrained("mistralai/Mistral-7B-Instruct-v0.1")


          text = "&lt;s&gt;[INST] What is your favourite condiment? [/INST]"

          "Well, I''m quite partial to a good squeeze of fresh lemon juice. It adds
          just the right amount of zesty flavour to whatever I''m cooking up in the
          kitchen!&lt;/s&gt; "

          "[INST] Do you have mayonnaise recipes? [/INST]"


          encodeds = tokenizer(text, return_tensors="pt", add_special_tokens=False)


          model_inputs = encodeds.to(device)

          model.to(device)


          generated_ids = model.generate(**model_inputs, max_new_tokens=1000, do_sample=True)

          decoded = tokenizer.batch_decode(generated_ids)

          print(decoded[0])

          </code></pre>

          '
        raw: "I am getting this error.\r\n\r\n---------------------------------------------------------------------------\r\
          \nKeyError                                  Traceback (most recent call\
          \ last)\r\n<ipython-input-5-3e6d70065587> in <cell line: 5>()\r\n      3\
          \ device = \"cuda\" # the device to load the model onto\r\n      4 \r\n\
          ----> 5 model = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\r\n      6 tokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\r\n      7 \r\n\r\n2 frames\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/auto_factory.py\
          \ in from_pretrained(cls, pretrained_model_name_or_path, *model_args, **kwargs)\r\
          \n    525                 _ = kwargs.pop(\"quantization_config\")\r\n  \
          \  526 \r\n--> 527             config, kwargs = AutoConfig.from_pretrained(\r\
          \n    528                 pretrained_model_name_or_path,\r\n    529    \
          \             return_unused_kwargs=True,\r\n\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\r\n \
          \  1037             return config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\r\n   1038         elif \"model_type\" in config_dict:\r\n->\
          \ 1039             config_class = CONFIG_MAPPING[config_dict[\"model_type\"\
          ]]\r\n   1040             return config_class.from_dict(config_dict, **unused_kwargs)\r\
          \n   1041         else:\r\n\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\r\n    732             return self._extra_content[key]\r\
          \n    733         if key not in self._mapping:\r\n--> 734             raise\
          \ KeyError(key)\r\n    735         value = self._mapping[key]\r\n    736\
          \         module_name = model_type_to_module_name(key)\r\n\r\nKeyError:\
          \ 'mistral'\r\n\r\nMy code\r\n\r\n```\r\n\r\nfrom transformers import AutoModelForCausalLM,\
          \ AutoTokenizer\r\n\r\ndevice = \"cuda\" # the device to load the model\
          \ onto\r\n\r\nmodel = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\r\ntokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\r\n\r\ntext = \"<s>[INST] What is your favourite condiment? [/INST]\"\r\
          \n\"Well, I'm quite partial to a good squeeze of fresh lemon juice. It adds\
          \ just the right amount of zesty flavour to whatever I'm cooking up in the\
          \ kitchen!</s> \"\r\n\"[INST] Do you have mayonnaise recipes? [/INST]\"\r\
          \n\r\nencodeds = tokenizer(text, return_tensors=\"pt\", add_special_tokens=False)\r\
          \n\r\nmodel_inputs = encodeds.to(device)\r\nmodel.to(device)\r\n\r\ngenerated_ids\
          \ = model.generate(**model_inputs, max_new_tokens=1000, do_sample=True)\r\
          \ndecoded = tokenizer.batch_decode(generated_ids)\r\nprint(decoded[0])\r\
          \n\r\n```"
        updatedAt: '2023-09-27T22:33:47.430Z'
      numEdits: 0
      reactions: []
    id: 6514adcb391bec2898ab04b2
    type: comment
  author: dheerajpai
  content: "I am getting this error.\r\n\r\n---------------------------------------------------------------------------\r\
    \nKeyError                                  Traceback (most recent call last)\r\
    \n<ipython-input-5-3e6d70065587> in <cell line: 5>()\r\n      3 device = \"cuda\"\
    \ # the device to load the model onto\r\n      4 \r\n----> 5 model = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\r\n      6 tokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\r\n      7 \r\n\r\n2 frames\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/auto_factory.py\
    \ in from_pretrained(cls, pretrained_model_name_or_path, *model_args, **kwargs)\r\
    \n    525                 _ = kwargs.pop(\"quantization_config\")\r\n    526 \r\
    \n--> 527             config, kwargs = AutoConfig.from_pretrained(\r\n    528\
    \                 pretrained_model_name_or_path,\r\n    529                 return_unused_kwargs=True,\r\
    \n\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
    \ in from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\r\n   1037\
    \             return config_class.from_pretrained(pretrained_model_name_or_path,\
    \ **kwargs)\r\n   1038         elif \"model_type\" in config_dict:\r\n-> 1039\
    \             config_class = CONFIG_MAPPING[config_dict[\"model_type\"]]\r\n \
    \  1040             return config_class.from_dict(config_dict, **unused_kwargs)\r\
    \n   1041         else:\r\n\r\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
    \ in __getitem__(self, key)\r\n    732             return self._extra_content[key]\r\
    \n    733         if key not in self._mapping:\r\n--> 734             raise KeyError(key)\r\
    \n    735         value = self._mapping[key]\r\n    736         module_name =\
    \ model_type_to_module_name(key)\r\n\r\nKeyError: 'mistral'\r\n\r\nMy code\r\n\
    \r\n```\r\n\r\nfrom transformers import AutoModelForCausalLM, AutoTokenizer\r\n\
    \r\ndevice = \"cuda\" # the device to load the model onto\r\n\r\nmodel = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\r\ntokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\r\n\r\ntext = \"<s>[INST] What is your favourite\
    \ condiment? [/INST]\"\r\n\"Well, I'm quite partial to a good squeeze of fresh\
    \ lemon juice. It adds just the right amount of zesty flavour to whatever I'm\
    \ cooking up in the kitchen!</s> \"\r\n\"[INST] Do you have mayonnaise recipes?\
    \ [/INST]\"\r\n\r\nencodeds = tokenizer(text, return_tensors=\"pt\", add_special_tokens=False)\r\
    \n\r\nmodel_inputs = encodeds.to(device)\r\nmodel.to(device)\r\n\r\ngenerated_ids\
    \ = model.generate(**model_inputs, max_new_tokens=1000, do_sample=True)\r\ndecoded\
    \ = tokenizer.batch_decode(generated_ids)\r\nprint(decoded[0])\r\n\r\n```"
  created_at: 2023-09-27 21:33:47+00:00
  edited: false
  hidden: false
  id: 6514adcb391bec2898ab04b2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/46973ddea77e8eda9443f68c9e072b8c.svg
      fullname: Moyo Ajayi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 907Resident
      type: user
    createdAt: '2023-09-28T03:46:24.000Z'
    data:
      edited: true
      editors:
      - 907Resident
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.26046305894851685
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/46973ddea77e8eda9443f68c9e072b8c.svg
          fullname: Moyo Ajayi
          isHf: false
          isPro: false
          name: 907Resident
          type: user
        html: "<p>I am also getting this error as well using the sample code for this\
          \ model.</p>\n<details>\n<summary>Here is an abbreviated environment:</summary>\n\
          <br>\n\n<p>Package                            Version</p>\n<hr>\n<p>absl-py\
          \                             1.0.0<br>accelerate                      \
          \ 0.21.0<br>aiohttp                             3.8.4<br>aiosignal     \
          \                    1.3.1<br>alembic                          1.12.0<br>appdirs\
          \                           1.4.4<br>argon2-cffi                    21.3.0<br>argon2-cffi-bindings\
          \         21.2.0<br>arrow                        1.2.3<br>astor        \
          \                0.8.1<br>asttokens                    2.2.1<br>astunparse\
          \                   1.6.3<br>async-timeout                4.0.2<br>attrs\
          \                        21.4.0<br>audioread                    3.0.0<br>azure-core\
          \                   1.26.4<br>azure-cosmos                 4.3.1b1<br>azure-storage-blob\
          \           12.16.0<br>azure-storage-file-datalake  12.11.0<br>backcall\
          \                     0.2.0<br>bcrypt                       3.2.0<br>beautifulsoup4\
          \               4.11.1<br>bitsandbytes                 0.41.0<br>black \
          \                       22.6.0<br>bleach                       4.1.0<br>blinker\
          \                      1.4<br>blis                         0.7.9<br>boto3\
          \                        1.24.28<br>botocore                     1.27.28<br>bravado\
          \                      11.0.3<br>bravado-core                 6.1.0<br>cachetools\
          \                   4.2.4<br>catalogue                    2.0.8<br>category-encoders\
          \            2.6.0<br>certifi                      2022.9.14<br>cffi   \
          \                      1.15.1<br>chardet                      4.0.0<br>charset-normalizer\
          \           2.0.4<br>click                        8.0.4<br>cloudpickle \
          \                 2.0.0<br>cmaes                        0.10.0<br>cmdstanpy\
          \                    1.1.0<br>colorlog                     6.7.0<br>confection\
          \                   0.0.4<br>configparser                 5.2.0<br>convertdate\
          \                  2.4.0<br>cryptography                 37.0.1<br>cycler\
          \                       0.11.0<br>cymem                        2.0.7<br>Cython\
          \                       0.29.32<br>databricks-automl-runtime    0.2.16<br>databricks-cli\
          \               0.17.6<br>databricks-feature-store     0.12.1<br>dataclasses-json\
          \             0.5.7<br>datasets                     2.12.0<br>dbl-tempo\
          \                    0.1.23<br>dbus-python                  1.2.18<br>debugpy\
          \                      1.5.1<br>decorator                    5.1.1<br>defusedxml\
          \                   0.7.1<br>dill                         0.3.4<br>diskcache\
          \                    5.6.1<br>distlib                      0.3.6<br>distro\
          \                       1.7.0<br>distro-info                  1.1+ubuntu0.1<br>doc2text\
          \                     0.2.4<br>docstring-to-markdown        0.12<br>einops\
          \                       0.6.1<br>entrypoints                  0.4<br>ephem\
          \                        4.1.4<br>et-xmlfile                   1.1.0<br>evaluate\
          \                     0.4.0<br>executing                    1.2.0<br>facets-overview\
          \              1.0.3<br>faiss-gpu                    1.7.2<br>fastjsonschema\
          \               2.16.3<br>fasttext                     0.9.2<br>filelock\
          \                     3.6.0<br>filetype                     1.2.0<br>Flask\
          \                        1.1.2+db1<br>flatbuffers                  23.5.9<br>fonttools\
          \                    4.25.0<br>fqdn                         1.5.1<br>frozenlist\
          \                   1.3.3<br>fsspec                       2022.7.1<br>future\
          \                       0.18.2<br>gast                         0.4.0<br>gitdb\
          \                        4.0.10<br>GitPython                    3.1.27<br>google-api-core\
          \              2.8.2<br>google-auth                  1.33.0<br>google-auth-oauthlib\
          \         0.4.6<br>google-cloud-core            2.3.2<br>google-cloud-storage\
          \         2.9.0<br>google-crc32c                1.5.0<br>google-pasta  \
          \               0.2.0<br>google-resumable-media       2.5.0<br>googleapis-common-protos\
          \     1.56.4<br>greenlet                     1.1.1<br>grpcio           \
          \            1.48.1<br>grpcio-status                1.48.1<br>gunicorn \
          \                    20.1.0<br>gviz-api                     1.10.0<br>h5py\
          \                         3.7.0<br>hijri-converter              2.3.1<br>holidays\
          \                     0.22<br>horovod                      0.27.0<br>htmlmin\
          \                      0.1.12<br>httplib2                     0.20.2<br>huggingface-hub\
          \              0.17.3<br>idna                         3.3<br>ImageHash \
          \                   4.3.1<br>imbalanced-learn             0.8.1<br>importlib-metadata\
          \           4.11.3<br>ipykernel                    6.17.1<br>ipython   \
          \                   8.10.0<br>ipython-genutils             0.2.0<br>ipywidgets\
          \                   7.7.2<br>isodate                      0.6.1<br>isoduration\
          \                  20.11.0<br>itsdangerous                 2.0.1<br>jedi\
          \                         0.18.1<br>jeepney                      0.7.1<br>Jinja2\
          \                       2.11.3<br>jmespath                     0.10.0<br>joblib\
          \                       1.2.0<br>joblibspark                  0.5.1<br>jsonpointer\
          \                  2.4<br>jsonref                      1.1.0<br>jsonschema\
          \                   4.16.0<br>jupyter-client               7.3.4<br>jupyter_core\
          \                 4.11.2<br>jupyterlab-pygments          0.1.2<br>jupyterlab-widgets\
          \           1.0.0<br>keras                        2.11.0<br>keyring    \
          \                  23.5.0<br>kiwisolver                   1.4.2<br>korean-lunar-calendar\
          \        0.3.1<br>langchain                    0.0.285<br>langcodes    \
          \                3.3.0<br>langsmith                    0.0.41<br>launchpadlib\
          \                 1.10.16<br>lazr.restfulclient           0.14.4<br>lazr.uri\
          \                     1.0.6<br>lazy_loader                  0.2<br>libclang\
          \                     15.0.6.1<br>librosa                      0.10.0<br>lightgbm\
          \                     3.3.5<br>llvmlite                     0.38.0<br>LunarCalendar\
          \                0.0.9<br>lxml                         4.9.3<br>Mako   \
          \                      1.2.0<br>Markdown                     3.3.4<br>MarkupSafe\
          \                   2.0.1<br>marshmallow                  3.19.0<br>marshmallow-enum\
          \             1.5.1<br>matplotlib                   3.5.2<br>matplotlib-inline\
          \            0.1.6<br>mccabe                       0.7.0<br>mime       \
          \                  0.1.0<br>mistune                      0.8.4<br>mleap\
          \                        0.20.0<br>mlflow-skinny                2.3.1<br>monotonic\
          \                    1.6<br>more-itertools               8.10.0<br>msgpack\
          \                      1.0.5<br>multidict                    6.0.4<br>multimethod\
          \                  1.9.1<br>multiprocess                 0.70.12.2<br>murmurhash\
          \                   1.0.9<br>mypy-extensions              0.4.3<br>nbclient\
          \                     0.5.13<br>nbconvert                    6.4.4<br>nbformat\
          \                     5.5.0<br>neptune-client               0.16.18<br>neptune-optuna\
          \               1.1.0<br>nest-asyncio                 1.5.5<br>networkx\
          \                     2.8.4<br>nltk                         3.7<br>nodeenv\
          \                      1.8.0<br>notebook                     6.4.12<br>numba\
          \                        0.55.1<br>numexpr                      2.8.4<br>numpy\
          \                        1.21.5<br>oauthlib                     3.2.0<br>openai\
          \                       0.27.4<br>openapi-schema-pydantic      1.2.4<br>openpyxl\
          \                     3.1.2<br>opt-einsum                   3.3.0<br>optuna\
          \                       3.3.0<br>packaging                    21.3<br>pandas\
          \                       1.4.4<br>pandocfilters                1.5.0<br>paramiko\
          \                     2.9.2<br>parso                        0.8.3<br>pathspec\
          \                     0.9.0<br>pathy                        0.10.1<br>patsy\
          \                        0.5.2<br>petastorm                    0.12.1<br>pexpect\
          \                      4.8.0<br>phik                         0.12.3<br>pickleshare\
          \                  0.7.5<br>Pillow                       9.2.0<br>pip  \
          \                        23.2.1<br>platformdirs                 2.5.2<br>plotly\
          \                       5.9.0<br>pluggy                       1.0.0<br>pmdarima\
          \                     2.0.3<br>pooch                        1.7.0<br>preshed\
          \                      3.0.8<br>prompt-toolkit               3.0.36<br>prophet\
          \                      1.1.2<br>protobuf                     3.19.4<br>psutil\
          \                       5.9.0<br>psycopg2                     2.9.3<br>ptyprocess\
          \                   0.7.0<br>pure-eval                    0.2.2<br>pyarrow\
          \                      8.0.0<br>pyasn1                       0.4.8<br>pyasn1-modules\
          \               0.2.8<br>pybind11                     2.10.4<br>pycparser\
          \                    2.21<br>pydantic                     1.10.6<br>pyflakes\
          \                     3.0.1<br>Pygments                     2.11.2<br>PyGObject\
          \                    3.42.1<br>PyJWT                        2.3.0<br>PyMeeus\
          \                      0.5.12<br>PyNaCl                       1.5.0<br>pyodbc\
          \                       4.0.32<br>pyparsing                    3.0.9<br>PyPDF2\
          \                       3.0.1<br>pyright                      1.1.294<br>pyrsistent\
          \                   0.18.0<br>pytesseract                  0.3.10<br>python-apt\
          \                   2.4.0+ubuntu2<br>python-dateutil              2.8.2<br>python-docx\
          \                  0.8.11<br>python-editor                1.0.4<br>python-lsp-jsonrpc\
          \           1.0.0<br>python-lsp-server            1.7.1<br>python-magic\
          \                 0.4.27<br>pytoolconfig                 1.2.2<br>pytz \
          \                        2022.1<br>PyWavelets                   1.3.0<br>PyYAML\
          \                       6.0<br>pyzmq                        23.2.0<br>ragas\
          \                        0.0.12<br>regex                        2022.7.9<br>requests\
          \                     2.28.1<br>requests-oauthlib            1.3.1<br>responses\
          \                    0.18.0<br>rfc3339-validator            0.1.4<br>rfc3987\
          \                      1.3.8<br>rope                         1.7.0<br>rsa\
          \                          4.9<br>s3transfer                   0.6.0<br>safetensors\
          \                  0.3.3<br>scikit-learn                 1.1.1<br>scipy\
          \                        1.9.1<br>seaborn                      0.11.2<br>SecretStorage\
          \                3.3.1<br>Send2Trash                   1.8.0<br>sentence-transformers\
          \        2.2.2<br>sentencepiece                0.1.97<br>setuptools    \
          \               63.4.1<br>shap                         0.41.0<br>simplejson\
          \                   3.17.6<br>six                          1.16.0<br>skops\
          \                        0.8.0<br>slicer                       0.0.7<br>smart-open\
          \                   5.2.1<br>smmap                        5.0.0<br>soundfile\
          \                    0.12.1<br>soupsieve                    2.3.1<br>soxr\
          \                         0.3.5<br>spacy                        3.5.1<br>spacy-cleaner\
          \                3.1.3<br>spacy-legacy                 3.0.12<br>spacy-loggers\
          \                1.0.4<br>spacy-lookups-data           1.0.5<br>spark-tensorflow-distributor\
          \ 1.0.0<br>SQLAlchemy                   1.4.39<br>sqlparse             \
          \        0.4.2<br>srsly                        2.4.6<br>ssh-import-id  \
          \              5.11<br>stack-data                   0.6.2<br>statsmodels\
          \                  0.13.2<br>swagger-spec-validator       3.0.3<br>tabulate\
          \                     0.8.10<br>tangled-up-in-unicode        0.2.0<br>tenacity\
          \                     8.1.0<br>tensorboard                  2.11.0<br>tensorboard-data-server\
          \      0.6.1<br>tensorboard-plugin-profile   2.11.2<br>tensorboard-plugin-wit\
          \       1.8.1<br>tensorflow                   2.11.1<br>tensorflow-estimator\
          \         2.11.0<br>tensorflow-io-gcs-filesystem 0.32.0<br>termcolor   \
          \                 2.3.0<br>terminado                    0.13.1<br>testpath\
          \                     0.6.0<br>thinc                        8.1.10<br>threadpoolctl\
          \                2.2.0<br>tiktoken                     0.3.3<br>tokenize-rt\
          \                  4.2.1<br>tokenizers                   0.13.3<br>tomli\
          \                        2.0.1<br>torch                        1.13.1+cu117<br>torchvision\
          \                  0.14.1+cu117<br>tornado                      6.1<br>tqdm\
          \                         4.64.1<br>traitlets                    5.1.1<br>transformers\
          \                 4.33.3<br>typeguard                    2.13.3<br>typer\
          \                        0.7.0<br>typing_extensions            4.3.0<br>typing-inspect\
          \               0.8.0<br>ujson                        5.4.0<br>unattended-upgrades\
          \          0.1<br>unstructured                 0.9.0<br>uri-template   \
          \              1.3.0<br>urllib3                      1.26.11<br>virtualenv\
          \                   20.16.3<br>visions                      0.7.5<br>wadllib\
          \                      1.3.6<br>wasabi                       0.10.1<br>watermark\
          \                    2.4.3<br>wcwidth                      0.2.5<br>webcolors\
          \                    1.13<br>webencodings                 0.5.1<br>websocket-client\
          \             0.58.0<br>Werkzeug                     2.0.3<br>whatthepatch\
          \                 1.0.2<br>wheel                        0.37.1<br>widgetsnbextension\
          \           3.6.1<br>wrapt                        1.14.1<br>xgboost    \
          \                  1.7.5<br>xxhash                       3.2.0<br>yapf \
          \                        0.31.0<br>yarl                         1.9.2<br>ydata-profiling\
          \              4.1.2<br>zipp                         3.8.0</p>\n</details>\n\
          \n<p>Here are two lines of the sample code pulled from the <a href=\"https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1\"\
          >model card</a>:</p>\n<pre><code class=\"language-python\">model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\">\"\
          mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n</code></pre>\n<details open=\"\
          \">\n<summary>Here is the error I am receiving:</summary>\n<br>\n\n<pre><code\
          \ class=\"language-sh\">---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          File &lt;command-4309329534262302&gt;:1\n----&gt; 1 model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          \      2 tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\"\
          >\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ <span class=\"hljs-keyword\">in</span> _BaseAutoModelClass.from_pretrained(cls,\
          \ pretrained_model_name_or_path, *model_args, **kwargs)\n    438     <span\
          \ class=\"hljs-keyword\">if</span> kwargs_copy.get(<span class=\"hljs-string\"\
          >\"torch_dtype\"</span>, None) == <span class=\"hljs-string\">\"auto\"</span>:\n\
          \    439         _ = kwargs_copy.pop(<span class=\"hljs-string\">\"torch_dtype\"\
          </span>)\n--&gt; 441     config, kwargs = AutoConfig.from_pretrained(\n\
          \    442         pretrained_model_name_or_path,\n    443         return_unused_kwargs=True,\n\
          \    444         trust_remote_code=trust_remote_code,\n    445         **hub_kwargs,\n\
          \    446         **kwargs_copy,\n    447     )\n    448 <span class=\"hljs-keyword\"\
          >if</span> hasattr(config, <span class=\"hljs-string\">\"auto_map\"</span>)\
          \ and cls.__name__ <span class=\"hljs-keyword\">in</span> config.auto_map:\n\
          \    449     <span class=\"hljs-keyword\">if</span> not trust_remote_code:\n\
          \nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ <span class=\"hljs-keyword\">in</span> AutoConfig.from_pretrained(cls,\
          \ pretrained_model_name_or_path, **kwargs)\n    935     <span class=\"hljs-built_in\"\
          >return</span> config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n    936 <span class=\"hljs-keyword\">elif</span> <span class=\"\
          hljs-string\">\"model_type\"</span> <span class=\"hljs-keyword\">in</span>\
          \ config_dict:\n--&gt; 937     config_class = CONFIG_MAPPING[config_dict[<span\
          \ class=\"hljs-string\">\"model_type\"</span>]]\n    938     <span class=\"\
          hljs-built_in\">return</span> config_class.from_dict(config_dict, **unused_kwargs)\n\
          \    939 <span class=\"hljs-keyword\">else</span>:\n    940     <span class=\"\
          hljs-comment\"># Fallback: use pattern matching on the string.</span>\n\
          \    941     <span class=\"hljs-comment\"># We go from longer names to shorter\
          \ names to catch roberta before bert (for instance)</span>\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ <span class=\"hljs-keyword\">in</span> _LazyConfigMapping.__getitem__(self,\
          \ key)\n    641     <span class=\"hljs-built_in\">return</span> self._extra_content[key]\n\
          \    642 <span class=\"hljs-keyword\">if</span> key not <span class=\"hljs-keyword\"\
          >in</span> self._mapping:\n--&gt; 643     raise KeyError(key)\n    644 value\
          \ = self._mapping[key]\n    645 module_name = model_type_to_module_name(key)\n\
          \nKeyError: <span class=\"hljs-string\">'mistral'</span>\n</code></pre>\n\
          </details>"
        raw: "I am also getting this error as well using the sample code for this\
          \ model.\n\n<details>\n<summary>Here is an abbreviated environment:</summary>\n\
          <br>\n\nPackage                            Version\n--------------------------\
          \     -------------\nabsl-py                             1.0.0\naccelerate\
          \                       0.21.0\naiohttp                             3.8.4\n\
          aiosignal                         1.3.1\nalembic                       \
          \   1.12.0\nappdirs                           1.4.4\nargon2-cffi       \
          \             21.3.0\nargon2-cffi-bindings         21.2.0\narrow       \
          \                 1.2.3\nastor                        0.8.1\nasttokens \
          \                   2.2.1\nastunparse                   1.6.3\nasync-timeout\
          \                4.0.2\nattrs                        21.4.0\naudioread \
          \                   3.0.0\nazure-core                   1.26.4\nazure-cosmos\
          \                 4.3.1b1\nazure-storage-blob           12.16.0\nazure-storage-file-datalake\
          \  12.11.0\nbackcall                     0.2.0\nbcrypt                 \
          \      3.2.0\nbeautifulsoup4               4.11.1\nbitsandbytes        \
          \         0.41.0\nblack                        22.6.0\nbleach          \
          \             4.1.0\nblinker                      1.4\nblis            \
          \             0.7.9\nboto3                        1.24.28\nbotocore    \
          \                 1.27.28\nbravado                      11.0.3\nbravado-core\
          \                 6.1.0\ncachetools                   4.2.4\ncatalogue \
          \                   2.0.8\ncategory-encoders            2.6.0\ncertifi \
          \                     2022.9.14\ncffi                         1.15.1\nchardet\
          \                      4.0.0\ncharset-normalizer           2.0.4\nclick\
          \                        8.0.4\ncloudpickle                  2.0.0\ncmaes\
          \                        0.10.0\ncmdstanpy                    1.1.0\ncolorlog\
          \                     6.7.0\nconfection                   0.0.4\nconfigparser\
          \                 5.2.0\nconvertdate                  2.4.0\ncryptography\
          \                 37.0.1\ncycler                       0.11.0\ncymem   \
          \                     2.0.7\nCython                       0.29.32\ndatabricks-automl-runtime\
          \    0.2.16\ndatabricks-cli               0.17.6\ndatabricks-feature-store\
          \     0.12.1\ndataclasses-json             0.5.7\ndatasets             \
          \        2.12.0\ndbl-tempo                    0.1.23\ndbus-python      \
          \            1.2.18\ndebugpy                      1.5.1\ndecorator     \
          \               5.1.1\ndefusedxml                   0.7.1\ndill        \
          \                 0.3.4\ndiskcache                    5.6.1\ndistlib   \
          \                   0.3.6\ndistro                       1.7.0\ndistro-info\
          \                  1.1+ubuntu0.1\ndoc2text                     0.2.4\ndocstring-to-markdown\
          \        0.12\neinops                       0.6.1\nentrypoints         \
          \         0.4\nephem                        4.1.4\net-xmlfile          \
          \         1.1.0\nevaluate                     0.4.0\nexecuting         \
          \           1.2.0\nfacets-overview              1.0.3\nfaiss-gpu       \
          \             1.7.2\nfastjsonschema               2.16.3\nfasttext     \
          \                0.9.2\nfilelock                     3.6.0\nfiletype   \
          \                  1.2.0\nFlask                        1.1.2+db1\nflatbuffers\
          \                  23.5.9\nfonttools                    4.25.0\nfqdn   \
          \                      1.5.1\nfrozenlist                   1.3.3\nfsspec\
          \                       2022.7.1\nfuture                       0.18.2\n\
          gast                         0.4.0\ngitdb                        4.0.10\n\
          GitPython                    3.1.27\ngoogle-api-core              2.8.2\n\
          google-auth                  1.33.0\ngoogle-auth-oauthlib         0.4.6\n\
          google-cloud-core            2.3.2\ngoogle-cloud-storage         2.9.0\n\
          google-crc32c                1.5.0\ngoogle-pasta                 0.2.0\n\
          google-resumable-media       2.5.0\ngoogleapis-common-protos     1.56.4\n\
          greenlet                     1.1.1\ngrpcio                       1.48.1\n\
          grpcio-status                1.48.1\ngunicorn                     20.1.0\n\
          gviz-api                     1.10.0\nh5py                         3.7.0\n\
          hijri-converter              2.3.1\nholidays                     0.22\n\
          horovod                      0.27.0\nhtmlmin                      0.1.12\n\
          httplib2                     0.20.2\nhuggingface-hub              0.17.3\n\
          idna                         3.3\nImageHash                    4.3.1\nimbalanced-learn\
          \             0.8.1\nimportlib-metadata           4.11.3\nipykernel    \
          \                6.17.1\nipython                      8.10.0\nipython-genutils\
          \             0.2.0\nipywidgets                   7.7.2\nisodate       \
          \               0.6.1\nisoduration                  20.11.0\nitsdangerous\
          \                 2.0.1\njedi                         0.18.1\njeepney  \
          \                    0.7.1\nJinja2                       2.11.3\njmespath\
          \                     0.10.0\njoblib                       1.2.0\njoblibspark\
          \                  0.5.1\njsonpointer                  2.4\njsonref    \
          \                  1.1.0\njsonschema                   4.16.0\njupyter-client\
          \               7.3.4\njupyter_core                 4.11.2\njupyterlab-pygments\
          \          0.1.2\njupyterlab-widgets           1.0.0\nkeras            \
          \            2.11.0\nkeyring                      23.5.0\nkiwisolver   \
          \                1.4.2\nkorean-lunar-calendar        0.3.1\nlangchain  \
          \                  0.0.285\nlangcodes                    3.3.0\nlangsmith\
          \                    0.0.41\nlaunchpadlib                 1.10.16\nlazr.restfulclient\
          \           0.14.4\nlazr.uri                     1.0.6\nlazy_loader    \
          \              0.2\nlibclang                     15.0.6.1\nlibrosa     \
          \                 0.10.0\nlightgbm                     3.3.5\nllvmlite \
          \                    0.38.0\nLunarCalendar                0.0.9\nlxml  \
          \                       4.9.3\nMako                         1.2.0\nMarkdown\
          \                     3.3.4\nMarkupSafe                   2.0.1\nmarshmallow\
          \                  3.19.0\nmarshmallow-enum             1.5.1\nmatplotlib\
          \                   3.5.2\nmatplotlib-inline            0.1.6\nmccabe  \
          \                     0.7.0\nmime                         0.1.0\nmistune\
          \                      0.8.4\nmleap                        0.20.0\nmlflow-skinny\
          \                2.3.1\nmonotonic                    1.6\nmore-itertools\
          \               8.10.0\nmsgpack                      1.0.5\nmultidict  \
          \                  6.0.4\nmultimethod                  1.9.1\nmultiprocess\
          \                 0.70.12.2\nmurmurhash                   1.0.9\nmypy-extensions\
          \              0.4.3\nnbclient                     0.5.13\nnbconvert   \
          \                 6.4.4\nnbformat                     5.5.0\nneptune-client\
          \               0.16.18\nneptune-optuna               1.1.0\nnest-asyncio\
          \                 1.5.5\nnetworkx                     2.8.4\nnltk      \
          \                   3.7\nnodeenv                      1.8.0\nnotebook  \
          \                   6.4.12\nnumba                        0.55.1\nnumexpr\
          \                      2.8.4\nnumpy                        1.21.5\noauthlib\
          \                     3.2.0\nopenai                       0.27.4\nopenapi-schema-pydantic\
          \      1.2.4\nopenpyxl                     3.1.2\nopt-einsum           \
          \        3.3.0\noptuna                       3.3.0\npackaging          \
          \          21.3\npandas                       1.4.4\npandocfilters     \
          \           1.5.0\nparamiko                     2.9.2\nparso           \
          \             0.8.3\npathspec                     0.9.0\npathy         \
          \               0.10.1\npatsy                        0.5.2\npetastorm  \
          \                  0.12.1\npexpect                      4.8.0\nphik    \
          \                     0.12.3\npickleshare                  0.7.5\nPillow\
          \                       9.2.0\npip                          23.2.1\nplatformdirs\
          \                 2.5.2\nplotly                       5.9.0\npluggy    \
          \                   1.0.0\npmdarima                     2.0.3\npooch   \
          \                     1.7.0\npreshed                      3.0.8\nprompt-toolkit\
          \               3.0.36\nprophet                      1.1.2\nprotobuf   \
          \                  3.19.4\npsutil                       5.9.0\npsycopg2\
          \                     2.9.3\nptyprocess                   0.7.0\npure-eval\
          \                    0.2.2\npyarrow                      8.0.0\npyasn1 \
          \                      0.4.8\npyasn1-modules               0.2.8\npybind11\
          \                     2.10.4\npycparser                    2.21\npydantic\
          \                     1.10.6\npyflakes                     3.0.1\nPygments\
          \                     2.11.2\nPyGObject                    3.42.1\nPyJWT\
          \                        2.3.0\nPyMeeus                      0.5.12\nPyNaCl\
          \                       1.5.0\npyodbc                       4.0.32\npyparsing\
          \                    3.0.9\nPyPDF2                       3.0.1\npyright\
          \                      1.1.294\npyrsistent                   0.18.0\npytesseract\
          \                  0.3.10\npython-apt                   2.4.0+ubuntu2\n\
          python-dateutil              2.8.2\npython-docx                  0.8.11\n\
          python-editor                1.0.4\npython-lsp-jsonrpc           1.0.0\n\
          python-lsp-server            1.7.1\npython-magic                 0.4.27\n\
          pytoolconfig                 1.2.2\npytz                         2022.1\n\
          PyWavelets                   1.3.0\nPyYAML                       6.0\npyzmq\
          \                        23.2.0\nragas                        0.0.12\nregex\
          \                        2022.7.9\nrequests                     2.28.1\n\
          requests-oauthlib            1.3.1\nresponses                    0.18.0\n\
          rfc3339-validator            0.1.4\nrfc3987                      1.3.8\n\
          rope                         1.7.0\nrsa                          4.9\ns3transfer\
          \                   0.6.0\nsafetensors                  0.3.3\nscikit-learn\
          \                 1.1.1\nscipy                        1.9.1\nseaborn   \
          \                   0.11.2\nSecretStorage                3.3.1\nSend2Trash\
          \                   1.8.0\nsentence-transformers        2.2.2\nsentencepiece\
          \                0.1.97\nsetuptools                   63.4.1\nshap     \
          \                    0.41.0\nsimplejson                   3.17.6\nsix  \
          \                        1.16.0\nskops                        0.8.0\nslicer\
          \                       0.0.7\nsmart-open                   5.2.1\nsmmap\
          \                        5.0.0\nsoundfile                    0.12.1\nsoupsieve\
          \                    2.3.1\nsoxr                         0.3.5\nspacy  \
          \                      3.5.1\nspacy-cleaner                3.1.3\nspacy-legacy\
          \                 3.0.12\nspacy-loggers                1.0.4\nspacy-lookups-data\
          \           1.0.5\nspark-tensorflow-distributor 1.0.0\nSQLAlchemy      \
          \             1.4.39\nsqlparse                     0.4.2\nsrsly        \
          \                2.4.6\nssh-import-id                5.11\nstack-data  \
          \                 0.6.2\nstatsmodels                  0.13.2\nswagger-spec-validator\
          \       3.0.3\ntabulate                     0.8.10\ntangled-up-in-unicode\
          \        0.2.0\ntenacity                     8.1.0\ntensorboard        \
          \          2.11.0\ntensorboard-data-server      0.6.1\ntensorboard-plugin-profile\
          \   2.11.2\ntensorboard-plugin-wit       1.8.1\ntensorflow             \
          \      2.11.1\ntensorflow-estimator         2.11.0\ntensorflow-io-gcs-filesystem\
          \ 0.32.0\ntermcolor                    2.3.0\nterminado                \
          \    0.13.1\ntestpath                     0.6.0\nthinc                 \
          \       8.1.10\nthreadpoolctl                2.2.0\ntiktoken           \
          \          0.3.3\ntokenize-rt                  4.2.1\ntokenizers       \
          \            0.13.3\ntomli                        2.0.1\ntorch         \
          \               1.13.1+cu117\ntorchvision                  0.14.1+cu117\n\
          tornado                      6.1\ntqdm                         4.64.1\n\
          traitlets                    5.1.1\ntransformers                 4.33.3\n\
          typeguard                    2.13.3\ntyper                        0.7.0\n\
          typing_extensions            4.3.0\ntyping-inspect               0.8.0\n\
          ujson                        5.4.0\nunattended-upgrades          0.1\nunstructured\
          \                 0.9.0\nuri-template                 1.3.0\nurllib3   \
          \                   1.26.11\nvirtualenv                   20.16.3\nvisions\
          \                      0.7.5\nwadllib                      1.3.6\nwasabi\
          \                       0.10.1\nwatermark                    2.4.3\nwcwidth\
          \                      0.2.5\nwebcolors                    1.13\nwebencodings\
          \                 0.5.1\nwebsocket-client             0.58.0\nWerkzeug \
          \                    2.0.3\nwhatthepatch                 1.0.2\nwheel  \
          \                      0.37.1\nwidgetsnbextension           3.6.1\nwrapt\
          \                        1.14.1\nxgboost                      1.7.5\nxxhash\
          \                       3.2.0\nyapf                         0.31.0\nyarl\
          \                         1.9.2\nydata-profiling              4.1.2\nzipp\
          \                         3.8.0\n\n</details>\n\nHere are two lines of the\
          \ sample code pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
          \n```python\nmodel = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\ntokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\n```\n\n<details open>\n<summary>Here is the error I am receiving:</summary>\n\
          <br>\n\n```sh\n---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          File <command-4309329534262302>:1\n----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n      2 tokenizer = AutoTokenizer.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path,\
          \ *model_args, **kwargs)\n    438     if kwargs_copy.get(\"torch_dtype\"\
          , None) == \"auto\":\n    439         _ = kwargs_copy.pop(\"torch_dtype\"\
          )\n--> 441     config, kwargs = AutoConfig.from_pretrained(\n    442   \
          \      pretrained_model_name_or_path,\n    443         return_unused_kwargs=True,\n\
          \    444         trust_remote_code=trust_remote_code,\n    445         **hub_kwargs,\n\
          \    446         **kwargs_copy,\n    447     )\n    448 if hasattr(config,\
          \ \"auto_map\") and cls.__name__ in config.auto_map:\n    449     if not\
          \ trust_remote_code:\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
          \    935     return config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n    936 elif \"model_type\" in config_dict:\n--> 937     config_class\
          \ = CONFIG_MAPPING[config_dict[\"model_type\"]]\n    938     return config_class.from_dict(config_dict,\
          \ **unused_kwargs)\n    939 else:\n    940     # Fallback: use pattern matching\
          \ on the string.\n    941     # We go from longer names to shorter names\
          \ to catch roberta before bert (for instance)\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ in _LazyConfigMapping.__getitem__(self, key)\n    641     return self._extra_content[key]\n\
          \    642 if key not in self._mapping:\n--> 643     raise KeyError(key)\n\
          \    644 value = self._mapping[key]\n    645 module_name = model_type_to_module_name(key)\n\
          \nKeyError: 'mistral'\n```\n\n</details>"
        updatedAt: '2023-09-28T03:47:25.781Z'
      numEdits: 1
      reactions: []
    id: 6514f710c75a3d4c44f7862c
    type: comment
  author: 907Resident
  content: "I am also getting this error as well using the sample code for this model.\n\
    \n<details>\n<summary>Here is an abbreviated environment:</summary>\n<br>\n\n\
    Package                            Version\n--------------------------     -------------\n\
    absl-py                             1.0.0\naccelerate                       0.21.0\n\
    aiohttp                             3.8.4\naiosignal                         1.3.1\n\
    alembic                          1.12.0\nappdirs                           1.4.4\n\
    argon2-cffi                    21.3.0\nargon2-cffi-bindings         21.2.0\narrow\
    \                        1.2.3\nastor                        0.8.1\nasttokens\
    \                    2.2.1\nastunparse                   1.6.3\nasync-timeout\
    \                4.0.2\nattrs                        21.4.0\naudioread       \
    \             3.0.0\nazure-core                   1.26.4\nazure-cosmos       \
    \          4.3.1b1\nazure-storage-blob           12.16.0\nazure-storage-file-datalake\
    \  12.11.0\nbackcall                     0.2.0\nbcrypt                       3.2.0\n\
    beautifulsoup4               4.11.1\nbitsandbytes                 0.41.0\nblack\
    \                        22.6.0\nbleach                       4.1.0\nblinker \
    \                     1.4\nblis                         0.7.9\nboto3         \
    \               1.24.28\nbotocore                     1.27.28\nbravado       \
    \               11.0.3\nbravado-core                 6.1.0\ncachetools       \
    \            4.2.4\ncatalogue                    2.0.8\ncategory-encoders    \
    \        2.6.0\ncertifi                      2022.9.14\ncffi                 \
    \        1.15.1\nchardet                      4.0.0\ncharset-normalizer      \
    \     2.0.4\nclick                        8.0.4\ncloudpickle                 \
    \ 2.0.0\ncmaes                        0.10.0\ncmdstanpy                    1.1.0\n\
    colorlog                     6.7.0\nconfection                   0.0.4\nconfigparser\
    \                 5.2.0\nconvertdate                  2.4.0\ncryptography    \
    \             37.0.1\ncycler                       0.11.0\ncymem             \
    \           2.0.7\nCython                       0.29.32\ndatabricks-automl-runtime\
    \    0.2.16\ndatabricks-cli               0.17.6\ndatabricks-feature-store   \
    \  0.12.1\ndataclasses-json             0.5.7\ndatasets                     2.12.0\n\
    dbl-tempo                    0.1.23\ndbus-python                  1.2.18\ndebugpy\
    \                      1.5.1\ndecorator                    5.1.1\ndefusedxml \
    \                  0.7.1\ndill                         0.3.4\ndiskcache      \
    \              5.6.1\ndistlib                      0.3.6\ndistro             \
    \          1.7.0\ndistro-info                  1.1+ubuntu0.1\ndoc2text       \
    \              0.2.4\ndocstring-to-markdown        0.12\neinops              \
    \         0.6.1\nentrypoints                  0.4\nephem                     \
    \   4.1.4\net-xmlfile                   1.1.0\nevaluate                     0.4.0\n\
    executing                    1.2.0\nfacets-overview              1.0.3\nfaiss-gpu\
    \                    1.7.2\nfastjsonschema               2.16.3\nfasttext    \
    \                 0.9.2\nfilelock                     3.6.0\nfiletype        \
    \             1.2.0\nFlask                        1.1.2+db1\nflatbuffers     \
    \             23.5.9\nfonttools                    4.25.0\nfqdn              \
    \           1.5.1\nfrozenlist                   1.3.3\nfsspec                \
    \       2022.7.1\nfuture                       0.18.2\ngast                  \
    \       0.4.0\ngitdb                        4.0.10\nGitPython                \
    \    3.1.27\ngoogle-api-core              2.8.2\ngoogle-auth                 \
    \ 1.33.0\ngoogle-auth-oauthlib         0.4.6\ngoogle-cloud-core            2.3.2\n\
    google-cloud-storage         2.9.0\ngoogle-crc32c                1.5.0\ngoogle-pasta\
    \                 0.2.0\ngoogle-resumable-media       2.5.0\ngoogleapis-common-protos\
    \     1.56.4\ngreenlet                     1.1.1\ngrpcio                     \
    \  1.48.1\ngrpcio-status                1.48.1\ngunicorn                     20.1.0\n\
    gviz-api                     1.10.0\nh5py                         3.7.0\nhijri-converter\
    \              2.3.1\nholidays                     0.22\nhorovod             \
    \         0.27.0\nhtmlmin                      0.1.12\nhttplib2              \
    \       0.20.2\nhuggingface-hub              0.17.3\nidna                    \
    \     3.3\nImageHash                    4.3.1\nimbalanced-learn             0.8.1\n\
    importlib-metadata           4.11.3\nipykernel                    6.17.1\nipython\
    \                      8.10.0\nipython-genutils             0.2.0\nipywidgets\
    \                   7.7.2\nisodate                      0.6.1\nisoduration   \
    \               20.11.0\nitsdangerous                 2.0.1\njedi            \
    \             0.18.1\njeepney                      0.7.1\nJinja2             \
    \          2.11.3\njmespath                     0.10.0\njoblib               \
    \        1.2.0\njoblibspark                  0.5.1\njsonpointer              \
    \    2.4\njsonref                      1.1.0\njsonschema                   4.16.0\n\
    jupyter-client               7.3.4\njupyter_core                 4.11.2\njupyterlab-pygments\
    \          0.1.2\njupyterlab-widgets           1.0.0\nkeras                  \
    \      2.11.0\nkeyring                      23.5.0\nkiwisolver               \
    \    1.4.2\nkorean-lunar-calendar        0.3.1\nlangchain                    0.0.285\n\
    langcodes                    3.3.0\nlangsmith                    0.0.41\nlaunchpadlib\
    \                 1.10.16\nlazr.restfulclient           0.14.4\nlazr.uri     \
    \                1.0.6\nlazy_loader                  0.2\nlibclang           \
    \          15.0.6.1\nlibrosa                      0.10.0\nlightgbm           \
    \          3.3.5\nllvmlite                     0.38.0\nLunarCalendar         \
    \       0.0.9\nlxml                         4.9.3\nMako                      \
    \   1.2.0\nMarkdown                     3.3.4\nMarkupSafe                   2.0.1\n\
    marshmallow                  3.19.0\nmarshmallow-enum             1.5.1\nmatplotlib\
    \                   3.5.2\nmatplotlib-inline            0.1.6\nmccabe        \
    \               0.7.0\nmime                         0.1.0\nmistune           \
    \           0.8.4\nmleap                        0.20.0\nmlflow-skinny        \
    \        2.3.1\nmonotonic                    1.6\nmore-itertools             \
    \  8.10.0\nmsgpack                      1.0.5\nmultidict                    6.0.4\n\
    multimethod                  1.9.1\nmultiprocess                 0.70.12.2\nmurmurhash\
    \                   1.0.9\nmypy-extensions              0.4.3\nnbclient      \
    \               0.5.13\nnbconvert                    6.4.4\nnbformat         \
    \            5.5.0\nneptune-client               0.16.18\nneptune-optuna     \
    \          1.1.0\nnest-asyncio                 1.5.5\nnetworkx               \
    \      2.8.4\nnltk                         3.7\nnodeenv                      1.8.0\n\
    notebook                     6.4.12\nnumba                        0.55.1\nnumexpr\
    \                      2.8.4\nnumpy                        1.21.5\noauthlib  \
    \                   3.2.0\nopenai                       0.27.4\nopenapi-schema-pydantic\
    \      1.2.4\nopenpyxl                     3.1.2\nopt-einsum                 \
    \  3.3.0\noptuna                       3.3.0\npackaging                    21.3\n\
    pandas                       1.4.4\npandocfilters                1.5.0\nparamiko\
    \                     2.9.2\nparso                        0.8.3\npathspec    \
    \                 0.9.0\npathy                        0.10.1\npatsy          \
    \              0.5.2\npetastorm                    0.12.1\npexpect           \
    \           4.8.0\nphik                         0.12.3\npickleshare          \
    \        0.7.5\nPillow                       9.2.0\npip                      \
    \    23.2.1\nplatformdirs                 2.5.2\nplotly                      \
    \ 5.9.0\npluggy                       1.0.0\npmdarima                     2.0.3\n\
    pooch                        1.7.0\npreshed                      3.0.8\nprompt-toolkit\
    \               3.0.36\nprophet                      1.1.2\nprotobuf         \
    \            3.19.4\npsutil                       5.9.0\npsycopg2            \
    \         2.9.3\nptyprocess                   0.7.0\npure-eval               \
    \     0.2.2\npyarrow                      8.0.0\npyasn1                      \
    \ 0.4.8\npyasn1-modules               0.2.8\npybind11                     2.10.4\n\
    pycparser                    2.21\npydantic                     1.10.6\npyflakes\
    \                     3.0.1\nPygments                     2.11.2\nPyGObject  \
    \                  3.42.1\nPyJWT                        2.3.0\nPyMeeus       \
    \               0.5.12\nPyNaCl                       1.5.0\npyodbc           \
    \            4.0.32\npyparsing                    3.0.9\nPyPDF2              \
    \         3.0.1\npyright                      1.1.294\npyrsistent            \
    \       0.18.0\npytesseract                  0.3.10\npython-apt              \
    \     2.4.0+ubuntu2\npython-dateutil              2.8.2\npython-docx         \
    \         0.8.11\npython-editor                1.0.4\npython-lsp-jsonrpc     \
    \      1.0.0\npython-lsp-server            1.7.1\npython-magic               \
    \  0.4.27\npytoolconfig                 1.2.2\npytz                         2022.1\n\
    PyWavelets                   1.3.0\nPyYAML                       6.0\npyzmq  \
    \                      23.2.0\nragas                        0.0.12\nregex    \
    \                    2022.7.9\nrequests                     2.28.1\nrequests-oauthlib\
    \            1.3.1\nresponses                    0.18.0\nrfc3339-validator   \
    \         0.1.4\nrfc3987                      1.3.8\nrope                    \
    \     1.7.0\nrsa                          4.9\ns3transfer                   0.6.0\n\
    safetensors                  0.3.3\nscikit-learn                 1.1.1\nscipy\
    \                        1.9.1\nseaborn                      0.11.2\nSecretStorage\
    \                3.3.1\nSend2Trash                   1.8.0\nsentence-transformers\
    \        2.2.2\nsentencepiece                0.1.97\nsetuptools              \
    \     63.4.1\nshap                         0.41.0\nsimplejson                \
    \   3.17.6\nsix                          1.16.0\nskops                       \
    \ 0.8.0\nslicer                       0.0.7\nsmart-open                   5.2.1\n\
    smmap                        5.0.0\nsoundfile                    0.12.1\nsoupsieve\
    \                    2.3.1\nsoxr                         0.3.5\nspacy        \
    \                3.5.1\nspacy-cleaner                3.1.3\nspacy-legacy     \
    \            3.0.12\nspacy-loggers                1.0.4\nspacy-lookups-data  \
    \         1.0.5\nspark-tensorflow-distributor 1.0.0\nSQLAlchemy              \
    \     1.4.39\nsqlparse                     0.4.2\nsrsly                      \
    \  2.4.6\nssh-import-id                5.11\nstack-data                   0.6.2\n\
    statsmodels                  0.13.2\nswagger-spec-validator       3.0.3\ntabulate\
    \                     0.8.10\ntangled-up-in-unicode        0.2.0\ntenacity   \
    \                  8.1.0\ntensorboard                  2.11.0\ntensorboard-data-server\
    \      0.6.1\ntensorboard-plugin-profile   2.11.2\ntensorboard-plugin-wit    \
    \   1.8.1\ntensorflow                   2.11.1\ntensorflow-estimator         2.11.0\n\
    tensorflow-io-gcs-filesystem 0.32.0\ntermcolor                    2.3.0\nterminado\
    \                    0.13.1\ntestpath                     0.6.0\nthinc       \
    \                 8.1.10\nthreadpoolctl                2.2.0\ntiktoken       \
    \              0.3.3\ntokenize-rt                  4.2.1\ntokenizers         \
    \          0.13.3\ntomli                        2.0.1\ntorch                 \
    \       1.13.1+cu117\ntorchvision                  0.14.1+cu117\ntornado     \
    \                 6.1\ntqdm                         4.64.1\ntraitlets        \
    \            5.1.1\ntransformers                 4.33.3\ntypeguard           \
    \         2.13.3\ntyper                        0.7.0\ntyping_extensions      \
    \      4.3.0\ntyping-inspect               0.8.0\nujson                      \
    \  5.4.0\nunattended-upgrades          0.1\nunstructured                 0.9.0\n\
    uri-template                 1.3.0\nurllib3                      1.26.11\nvirtualenv\
    \                   20.16.3\nvisions                      0.7.5\nwadllib     \
    \                 1.3.6\nwasabi                       0.10.1\nwatermark      \
    \              2.4.3\nwcwidth                      0.2.5\nwebcolors          \
    \          1.13\nwebencodings                 0.5.1\nwebsocket-client        \
    \     0.58.0\nWerkzeug                     2.0.3\nwhatthepatch               \
    \  1.0.2\nwheel                        0.37.1\nwidgetsnbextension           3.6.1\n\
    wrapt                        1.14.1\nxgboost                      1.7.5\nxxhash\
    \                       3.2.0\nyapf                         0.31.0\nyarl     \
    \                    1.9.2\nydata-profiling              4.1.2\nzipp         \
    \                3.8.0\n\n</details>\n\nHere are two lines of the sample code\
    \ pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
    \n```python\nmodel = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
    )\ntokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
    )\n```\n\n<details open>\n<summary>Here is the error I am receiving:</summary>\n\
    <br>\n\n```sh\n---------------------------------------------------------------------------\n\
    KeyError                                  Traceback (most recent call last)\n\
    File <command-4309329534262302>:1\n----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n      2 tokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
    \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path, *model_args,\
    \ **kwargs)\n    438     if kwargs_copy.get(\"torch_dtype\", None) == \"auto\"\
    :\n    439         _ = kwargs_copy.pop(\"torch_dtype\")\n--> 441     config, kwargs\
    \ = AutoConfig.from_pretrained(\n    442         pretrained_model_name_or_path,\n\
    \    443         return_unused_kwargs=True,\n    444         trust_remote_code=trust_remote_code,\n\
    \    445         **hub_kwargs,\n    446         **kwargs_copy,\n    447     )\n\
    \    448 if hasattr(config, \"auto_map\") and cls.__name__ in config.auto_map:\n\
    \    449     if not trust_remote_code:\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
    \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
    \    935     return config_class.from_pretrained(pretrained_model_name_or_path,\
    \ **kwargs)\n    936 elif \"model_type\" in config_dict:\n--> 937     config_class\
    \ = CONFIG_MAPPING[config_dict[\"model_type\"]]\n    938     return config_class.from_dict(config_dict,\
    \ **unused_kwargs)\n    939 else:\n    940     # Fallback: use pattern matching\
    \ on the string.\n    941     # We go from longer names to shorter names to catch\
    \ roberta before bert (for instance)\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
    \ in _LazyConfigMapping.__getitem__(self, key)\n    641     return self._extra_content[key]\n\
    \    642 if key not in self._mapping:\n--> 643     raise KeyError(key)\n    644\
    \ value = self._mapping[key]\n    645 module_name = model_type_to_module_name(key)\n\
    \nKeyError: 'mistral'\n```\n\n</details>"
  created_at: 2023-09-28 02:46:24+00:00
  edited: true
  hidden: false
  id: 6514f710c75a3d4c44f7862c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/459d822eee45f436fe4f22a817a716d9.svg
      fullname: dong xiaolong
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dongXL
      type: user
    createdAt: '2023-09-28T03:47:16.000Z'
    data:
      edited: false
      editors:
      - dongXL
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8928499221801758
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/459d822eee45f436fe4f22a817a716d9.svg
          fullname: dong xiaolong
          isHf: false
          isPro: false
          name: dongXL
          type: user
        html: '<p>you need to update the transformers package to the latest.</p>

          '
        raw: you need to update the transformers package to the latest.
        updatedAt: '2023-09-28T03:47:16.816Z'
      numEdits: 0
      reactions: []
    id: 6514f744341103249d75ae19
    type: comment
  author: dongXL
  content: you need to update the transformers package to the latest.
  created_at: 2023-09-28 02:47:16+00:00
  edited: false
  hidden: false
  id: 6514f744341103249d75ae19
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/459d822eee45f436fe4f22a817a716d9.svg
      fullname: dong xiaolong
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dongXL
      type: user
    createdAt: '2023-09-28T03:47:51.000Z'
    data:
      edited: false
      editors:
      - dongXL
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.2466161698102951
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/459d822eee45f436fe4f22a817a716d9.svg
          fullname: dong xiaolong
          isHf: false
          isPro: false
          name: dongXL
          type: user
        html: "<blockquote>\n<p>I am also getting this error as well using the sample\
          \ code for this model.</p>\n<details>\n<summary>Here is an abbreviated environment:</summary>\n\
          <br>\n\n<p>Package                            Version</p>\n<hr>\n<p>absl-py\
          \                             1.0.0<br>accelerate                      \
          \ 0.21.0<br>aiohttp                             3.8.4<br>aiosignal     \
          \                    1.3.1<br>alembic                          1.12.0<br>appdirs\
          \                           1.4.4<br>argon2-cffi                    21.3.0<br>argon2-cffi-bindings\
          \         21.2.0<br>arrow                        1.2.3<br>astor        \
          \                0.8.1<br>asttokens                    2.2.1<br>astunparse\
          \                   1.6.3<br>async-timeout                4.0.2<br>attrs\
          \                        21.4.0<br>audioread                    3.0.0<br>azure-core\
          \                   1.26.4<br>azure-cosmos                 4.3.1b1<br>azure-storage-blob\
          \           12.16.0<br>azure-storage-file-datalake  12.11.0<br>backcall\
          \                     0.2.0<br>bcrypt                       3.2.0<br>beautifulsoup4\
          \               4.11.1<br>bitsandbytes                 0.41.0<br>black \
          \                       22.6.0<br>bleach                       4.1.0<br>blinker\
          \                      1.4<br>blis                         0.7.9<br>boto3\
          \                        1.24.28<br>botocore                     1.27.28<br>bravado\
          \                      11.0.3<br>bravado-core                 6.1.0<br>cachetools\
          \                   4.2.4<br>catalogue                    2.0.8<br>category-encoders\
          \            2.6.0<br>certifi                      2022.9.14<br>cffi   \
          \                      1.15.1<br>chardet                      4.0.0<br>charset-normalizer\
          \           2.0.4<br>click                        8.0.4<br>cloudpickle \
          \                 2.0.0<br>cmaes                        0.10.0<br>cmdstanpy\
          \                    1.1.0<br>colorlog                     6.7.0<br>confection\
          \                   0.0.4<br>configparser                 5.2.0<br>convertdate\
          \                  2.4.0<br>cryptography                 37.0.1<br>cycler\
          \                       0.11.0<br>cymem                        2.0.7<br>Cython\
          \                       0.29.32<br>databricks-automl-runtime    0.2.16<br>databricks-cli\
          \               0.17.6<br>databricks-feature-store     0.12.1<br>dataclasses-json\
          \             0.5.7<br>datasets                     2.12.0<br>dbl-tempo\
          \                    0.1.23<br>dbus-python                  1.2.18<br>debugpy\
          \                      1.5.1<br>decorator                    5.1.1<br>defusedxml\
          \                   0.7.1<br>dill                         0.3.4<br>diskcache\
          \                    5.6.1<br>distlib                      0.3.6<br>distro\
          \                       1.7.0<br>distro-info                  1.1+ubuntu0.1<br>doc2text\
          \                     0.2.4<br>docstring-to-markdown        0.12<br>einops\
          \                       0.6.1<br>entrypoints                  0.4<br>ephem\
          \                        4.1.4<br>et-xmlfile                   1.1.0<br>evaluate\
          \                     0.4.0<br>executing                    1.2.0<br>facets-overview\
          \              1.0.3<br>faiss-gpu                    1.7.2<br>fastjsonschema\
          \               2.16.3<br>fasttext                     0.9.2<br>filelock\
          \                     3.6.0<br>filetype                     1.2.0<br>Flask\
          \                        1.1.2+db1<br>flatbuffers                  23.5.9<br>fonttools\
          \                    4.25.0<br>fqdn                         1.5.1<br>frozenlist\
          \                   1.3.3<br>fsspec                       2022.7.1<br>future\
          \                       0.18.2<br>gast                         0.4.0<br>gitdb\
          \                        4.0.10<br>GitPython                    3.1.27<br>google-api-core\
          \              2.8.2<br>google-auth                  1.33.0<br>google-auth-oauthlib\
          \         0.4.6<br>google-cloud-core            2.3.2<br>google-cloud-storage\
          \         2.9.0<br>google-crc32c                1.5.0<br>google-pasta  \
          \               0.2.0<br>google-resumable-media       2.5.0<br>googleapis-common-protos\
          \     1.56.4<br>greenlet                     1.1.1<br>grpcio           \
          \            1.48.1<br>grpcio-status                1.48.1<br>gunicorn \
          \                    20.1.0<br>gviz-api                     1.10.0<br>h5py\
          \                         3.7.0<br>hijri-converter              2.3.1<br>holidays\
          \                     0.22<br>horovod                      0.27.0<br>htmlmin\
          \                      0.1.12<br>httplib2                     0.20.2<br>huggingface-hub\
          \              0.17.3<br>idna                         3.3<br>ImageHash \
          \                   4.3.1<br>imbalanced-learn             0.8.1<br>importlib-metadata\
          \           4.11.3<br>ipykernel                    6.17.1<br>ipython   \
          \                   8.10.0<br>ipython-genutils             0.2.0<br>ipywidgets\
          \                   7.7.2<br>isodate                      0.6.1<br>isoduration\
          \                  20.11.0<br>itsdangerous                 2.0.1<br>jedi\
          \                         0.18.1<br>jeepney                      0.7.1<br>Jinja2\
          \                       2.11.3<br>jmespath                     0.10.0<br>joblib\
          \                       1.2.0<br>joblibspark                  0.5.1<br>jsonpointer\
          \                  2.4<br>jsonref                      1.1.0<br>jsonschema\
          \                   4.16.0<br>jupyter-client               7.3.4<br>jupyter_core\
          \                 4.11.2<br>jupyterlab-pygments          0.1.2<br>jupyterlab-widgets\
          \           1.0.0<br>keras                        2.11.0<br>keyring    \
          \                  23.5.0<br>kiwisolver                   1.4.2<br>korean-lunar-calendar\
          \        0.3.1<br>langchain                    0.0.285<br>langcodes    \
          \                3.3.0<br>langsmith                    0.0.41<br>launchpadlib\
          \                 1.10.16<br>lazr.restfulclient           0.14.4<br>lazr.uri\
          \                     1.0.6<br>lazy_loader                  0.2<br>libclang\
          \                     15.0.6.1<br>librosa                      0.10.0<br>lightgbm\
          \                     3.3.5<br>llvmlite                     0.38.0<br>LunarCalendar\
          \                0.0.9<br>lxml                         4.9.3<br>Mako   \
          \                      1.2.0<br>Markdown                     3.3.4<br>MarkupSafe\
          \                   2.0.1<br>marshmallow                  3.19.0<br>marshmallow-enum\
          \             1.5.1<br>matplotlib                   3.5.2<br>matplotlib-inline\
          \            0.1.6<br>mccabe                       0.7.0<br>mime       \
          \                  0.1.0<br>mistune                      0.8.4<br>mleap\
          \                        0.20.0<br>mlflow-skinny                2.3.1<br>monotonic\
          \                    1.6<br>more-itertools               8.10.0<br>msgpack\
          \                      1.0.5<br>multidict                    6.0.4<br>multimethod\
          \                  1.9.1<br>multiprocess                 0.70.12.2<br>murmurhash\
          \                   1.0.9<br>mypy-extensions              0.4.3<br>nbclient\
          \                     0.5.13<br>nbconvert                    6.4.4<br>nbformat\
          \                     5.5.0<br>neptune-client               0.16.18<br>neptune-optuna\
          \               1.1.0<br>nest-asyncio                 1.5.5<br>networkx\
          \                     2.8.4<br>nltk                         3.7<br>nodeenv\
          \                      1.8.0<br>notebook                     6.4.12<br>numba\
          \                        0.55.1<br>numexpr                      2.8.4<br>numpy\
          \                        1.21.5<br>oauthlib                     3.2.0<br>openai\
          \                       0.27.4<br>openapi-schema-pydantic      1.2.4<br>openpyxl\
          \                     3.1.2<br>opt-einsum                   3.3.0<br>optuna\
          \                       3.3.0<br>packaging                    21.3<br>pandas\
          \                       1.4.4<br>pandocfilters                1.5.0<br>paramiko\
          \                     2.9.2<br>parso                        0.8.3<br>pathspec\
          \                     0.9.0<br>pathy                        0.10.1<br>patsy\
          \                        0.5.2<br>petastorm                    0.12.1<br>pexpect\
          \                      4.8.0<br>phik                         0.12.3<br>pickleshare\
          \                  0.7.5<br>Pillow                       9.2.0<br>pip  \
          \                        23.2.1<br>platformdirs                 2.5.2<br>plotly\
          \                       5.9.0<br>pluggy                       1.0.0<br>pmdarima\
          \                     2.0.3<br>pooch                        1.7.0<br>preshed\
          \                      3.0.8<br>prompt-toolkit               3.0.36<br>prophet\
          \                      1.1.2<br>protobuf                     3.19.4<br>psutil\
          \                       5.9.0<br>psycopg2                     2.9.3<br>ptyprocess\
          \                   0.7.0<br>pure-eval                    0.2.2<br>pyarrow\
          \                      8.0.0<br>pyasn1                       0.4.8<br>pyasn1-modules\
          \               0.2.8<br>pybind11                     2.10.4<br>pycparser\
          \                    2.21<br>pydantic                     1.10.6<br>pyflakes\
          \                     3.0.1<br>Pygments                     2.11.2<br>PyGObject\
          \                    3.42.1<br>PyJWT                        2.3.0<br>PyMeeus\
          \                      0.5.12<br>PyNaCl                       1.5.0<br>pyodbc\
          \                       4.0.32<br>pyparsing                    3.0.9<br>PyPDF2\
          \                       3.0.1<br>pyright                      1.1.294<br>pyrsistent\
          \                   0.18.0<br>pytesseract                  0.3.10<br>python-apt\
          \                   2.4.0+ubuntu2<br>python-dateutil              2.8.2<br>python-docx\
          \                  0.8.11<br>python-editor                1.0.4<br>python-lsp-jsonrpc\
          \           1.0.0<br>python-lsp-server            1.7.1<br>python-magic\
          \                 0.4.27<br>pytoolconfig                 1.2.2<br>pytz \
          \                        2022.1<br>PyWavelets                   1.3.0<br>PyYAML\
          \                       6.0<br>pyzmq                        23.2.0<br>ragas\
          \                        0.0.12<br>regex                        2022.7.9<br>requests\
          \                     2.28.1<br>requests-oauthlib            1.3.1<br>responses\
          \                    0.18.0<br>rfc3339-validator            0.1.4<br>rfc3987\
          \                      1.3.8<br>rope                         1.7.0<br>rsa\
          \                          4.9<br>s3transfer                   0.6.0<br>safetensors\
          \                  0.3.3<br>scikit-learn                 1.1.1<br>scipy\
          \                        1.9.1<br>seaborn                      0.11.2<br>SecretStorage\
          \                3.3.1<br>Send2Trash                   1.8.0<br>sentence-transformers\
          \        2.2.2<br>sentencepiece                0.1.97<br>setuptools    \
          \               63.4.1<br>shap                         0.41.0<br>simplejson\
          \                   3.17.6<br>six                          1.16.0<br>skops\
          \                        0.8.0<br>slicer                       0.0.7<br>smart-open\
          \                   5.2.1<br>smmap                        5.0.0<br>soundfile\
          \                    0.12.1<br>soupsieve                    2.3.1<br>soxr\
          \                         0.3.5<br>spacy                        3.5.1<br>spacy-cleaner\
          \                3.1.3<br>spacy-legacy                 3.0.12<br>spacy-loggers\
          \                1.0.4<br>spacy-lookups-data           1.0.5<br>spark-tensorflow-distributor\
          \ 1.0.0<br>SQLAlchemy                   1.4.39<br>sqlparse             \
          \        0.4.2<br>srsly                        2.4.6<br>ssh-import-id  \
          \              5.11<br>stack-data                   0.6.2<br>statsmodels\
          \                  0.13.2<br>swagger-spec-validator       3.0.3<br>tabulate\
          \                     0.8.10<br>tangled-up-in-unicode        0.2.0<br>tenacity\
          \                     8.1.0<br>tensorboard                  2.11.0<br>tensorboard-data-server\
          \      0.6.1<br>tensorboard-plugin-profile   2.11.2<br>tensorboard-plugin-wit\
          \       1.8.1<br>tensorflow                   2.11.1<br>tensorflow-estimator\
          \         2.11.0<br>tensorflow-io-gcs-filesystem 0.32.0<br>termcolor   \
          \                 2.3.0<br>terminado                    0.13.1<br>testpath\
          \                     0.6.0<br>thinc                        8.1.10<br>threadpoolctl\
          \                2.2.0<br>tiktoken                     0.3.3<br>tokenize-rt\
          \                  4.2.1<br>tokenizers                   0.13.3<br>tomli\
          \                        2.0.1<br>torch                        1.13.1+cu117<br>torchvision\
          \                  0.14.1+cu117<br>tornado                      6.1<br>tqdm\
          \                         4.64.1<br>traitlets                    5.1.1<br>transformers\
          \                 4.33.3<br>typeguard                    2.13.3<br>typer\
          \                        0.7.0<br>typing_extensions            4.3.0<br>typing-inspect\
          \               0.8.0<br>ujson                        5.4.0<br>unattended-upgrades\
          \          0.1<br>unstructured                 0.9.0<br>uri-template   \
          \              1.3.0<br>urllib3                      1.26.11<br>virtualenv\
          \                   20.16.3<br>visions                      0.7.5<br>wadllib\
          \                      1.3.6<br>wasabi                       0.10.1<br>watermark\
          \                    2.4.3<br>wcwidth                      0.2.5<br>webcolors\
          \                    1.13<br>webencodings                 0.5.1<br>websocket-client\
          \             0.58.0<br>Werkzeug                     2.0.3<br>whatthepatch\
          \                 1.0.2<br>wheel                        0.37.1<br>widgetsnbextension\
          \           3.6.1<br>wrapt                        1.14.1<br>xgboost    \
          \                  1.7.5<br>xxhash                       3.2.0<br>yapf \
          \                        0.31.0<br>yarl                         1.9.2<br>ydata-profiling\
          \              4.1.2<br>zipp                         3.8.0</p>\n</details>\n\
          \n<p>Here are two lines of the sample code pulled from the <a href=\"https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1\"\
          >model card</a>:</p>\n<pre><code class=\"language-python\">model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\">\"\
          mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n</code></pre>\n<details>\n\
          <summary>Here is the error I am receiving:</summary>\n<br>\n\n<pre><code\
          \ class=\"language-sh\">---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          File &lt;command-4309329534262302&gt;:1\n----&gt; 1 model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          \      2 tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\"\
          >\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ <span class=\"hljs-keyword\">in</span> _BaseAutoModelClass.from_pretrained(cls,\
          \ pretrained_model_name_or_path, *model_args, **kwargs)\n    438     <span\
          \ class=\"hljs-keyword\">if</span> kwargs_copy.get(<span class=\"hljs-string\"\
          >\"torch_dtype\"</span>, None) == <span class=\"hljs-string\">\"auto\"</span>:\n\
          \    439         _ = kwargs_copy.pop(<span class=\"hljs-string\">\"torch_dtype\"\
          </span>)\n--&gt; 441     config, kwargs = AutoConfig.from_pretrained(\n\
          \    442         pretrained_model_name_or_path,\n    443         return_unused_kwargs=True,\n\
          \    444         trust_remote_code=trust_remote_code,\n    445         **hub_kwargs,\n\
          \    446         **kwargs_copy,\n    447     )\n    448 <span class=\"hljs-keyword\"\
          >if</span> hasattr(config, <span class=\"hljs-string\">\"auto_map\"</span>)\
          \ and cls.__name__ <span class=\"hljs-keyword\">in</span> config.auto_map:\n\
          \    449     <span class=\"hljs-keyword\">if</span> not trust_remote_code:\n\
          \nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ <span class=\"hljs-keyword\">in</span> AutoConfig.from_pretrained(cls,\
          \ pretrained_model_name_or_path, **kwargs)\n    935     <span class=\"hljs-built_in\"\
          >return</span> config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n    936 <span class=\"hljs-keyword\">elif</span> <span class=\"\
          hljs-string\">\"model_type\"</span> <span class=\"hljs-keyword\">in</span>\
          \ config_dict:\n--&gt; 937     config_class = CONFIG_MAPPING[config_dict[<span\
          \ class=\"hljs-string\">\"model_type\"</span>]]\n    938     <span class=\"\
          hljs-built_in\">return</span> config_class.from_dict(config_dict, **unused_kwargs)\n\
          \    939 <span class=\"hljs-keyword\">else</span>:\n    940     <span class=\"\
          hljs-comment\"># Fallback: use pattern matching on the string.</span>\n\
          \    941     <span class=\"hljs-comment\"># We go from longer names to shorter\
          \ names to catch roberta before bert (for instance)</span>\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ <span class=\"hljs-keyword\">in</span> _LazyConfigMapping.__getitem__(self,\
          \ key)\n    641     <span class=\"hljs-built_in\">return</span> self._extra_content[key]\n\
          \    642 <span class=\"hljs-keyword\">if</span> key not <span class=\"hljs-keyword\"\
          >in</span> self._mapping:\n--&gt; 643     raise KeyError(key)\n    644 value\
          \ = self._mapping[key]\n    645 module_name = model_type_to_module_name(key)\n\
          \nKeyError: <span class=\"hljs-string\">'mistral'</span>\n</code></pre>\n\
          </details>\n</blockquote>\n<p>you need to update the transformers package\
          \ to the latest.</p>\n"
        raw: "> I am also getting this error as well using the sample code for this\
          \ model.\n> \n> <details>\n> <summary>Here is an abbreviated environment:</summary>\n\
          > <br>\n> \n> Package                            Version\n> --------------------------\
          \     -------------\n> absl-py                             1.0.0\n> accelerate\
          \                       0.21.0\n> aiohttp                             3.8.4\n\
          > aiosignal                         1.3.1\n> alembic                   \
          \       1.12.0\n> appdirs                           1.4.4\n> argon2-cffi\
          \                    21.3.0\n> argon2-cffi-bindings         21.2.0\n> arrow\
          \                        1.2.3\n> astor                        0.8.1\n>\
          \ asttokens                    2.2.1\n> astunparse                   1.6.3\n\
          > async-timeout                4.0.2\n> attrs                        21.4.0\n\
          > audioread                    3.0.0\n> azure-core                   1.26.4\n\
          > azure-cosmos                 4.3.1b1\n> azure-storage-blob           12.16.0\n\
          > azure-storage-file-datalake  12.11.0\n> backcall                     0.2.0\n\
          > bcrypt                       3.2.0\n> beautifulsoup4               4.11.1\n\
          > bitsandbytes                 0.41.0\n> black                        22.6.0\n\
          > bleach                       4.1.0\n> blinker                      1.4\n\
          > blis                         0.7.9\n> boto3                        1.24.28\n\
          > botocore                     1.27.28\n> bravado                      11.0.3\n\
          > bravado-core                 6.1.0\n> cachetools                   4.2.4\n\
          > catalogue                    2.0.8\n> category-encoders            2.6.0\n\
          > certifi                      2022.9.14\n> cffi                       \
          \  1.15.1\n> chardet                      4.0.0\n> charset-normalizer  \
          \         2.0.4\n> click                        8.0.4\n> cloudpickle   \
          \               2.0.0\n> cmaes                        0.10.0\n> cmdstanpy\
          \                    1.1.0\n> colorlog                     6.7.0\n> confection\
          \                   0.0.4\n> configparser                 5.2.0\n> convertdate\
          \                  2.4.0\n> cryptography                 37.0.1\n> cycler\
          \                       0.11.0\n> cymem                        2.0.7\n>\
          \ Cython                       0.29.32\n> databricks-automl-runtime    0.2.16\n\
          > databricks-cli               0.17.6\n> databricks-feature-store     0.12.1\n\
          > dataclasses-json             0.5.7\n> datasets                     2.12.0\n\
          > dbl-tempo                    0.1.23\n> dbus-python                  1.2.18\n\
          > debugpy                      1.5.1\n> decorator                    5.1.1\n\
          > defusedxml                   0.7.1\n> dill                         0.3.4\n\
          > diskcache                    5.6.1\n> distlib                      0.3.6\n\
          > distro                       1.7.0\n> distro-info                  1.1+ubuntu0.1\n\
          > doc2text                     0.2.4\n> docstring-to-markdown        0.12\n\
          > einops                       0.6.1\n> entrypoints                  0.4\n\
          > ephem                        4.1.4\n> et-xmlfile                   1.1.0\n\
          > evaluate                     0.4.0\n> executing                    1.2.0\n\
          > facets-overview              1.0.3\n> faiss-gpu                    1.7.2\n\
          > fastjsonschema               2.16.3\n> fasttext                     0.9.2\n\
          > filelock                     3.6.0\n> filetype                     1.2.0\n\
          > Flask                        1.1.2+db1\n> flatbuffers                \
          \  23.5.9\n> fonttools                    4.25.0\n> fqdn               \
          \          1.5.1\n> frozenlist                   1.3.3\n> fsspec       \
          \                2022.7.1\n> future                       0.18.2\n> gast\
          \                         0.4.0\n> gitdb                        4.0.10\n\
          > GitPython                    3.1.27\n> google-api-core              2.8.2\n\
          > google-auth                  1.33.0\n> google-auth-oauthlib         0.4.6\n\
          > google-cloud-core            2.3.2\n> google-cloud-storage         2.9.0\n\
          > google-crc32c                1.5.0\n> google-pasta                 0.2.0\n\
          > google-resumable-media       2.5.0\n> googleapis-common-protos     1.56.4\n\
          > greenlet                     1.1.1\n> grpcio                       1.48.1\n\
          > grpcio-status                1.48.1\n> gunicorn                     20.1.0\n\
          > gviz-api                     1.10.0\n> h5py                         3.7.0\n\
          > hijri-converter              2.3.1\n> holidays                     0.22\n\
          > horovod                      0.27.0\n> htmlmin                      0.1.12\n\
          > httplib2                     0.20.2\n> huggingface-hub              0.17.3\n\
          > idna                         3.3\n> ImageHash                    4.3.1\n\
          > imbalanced-learn             0.8.1\n> importlib-metadata           4.11.3\n\
          > ipykernel                    6.17.1\n> ipython                      8.10.0\n\
          > ipython-genutils             0.2.0\n> ipywidgets                   7.7.2\n\
          > isodate                      0.6.1\n> isoduration                  20.11.0\n\
          > itsdangerous                 2.0.1\n> jedi                         0.18.1\n\
          > jeepney                      0.7.1\n> Jinja2                       2.11.3\n\
          > jmespath                     0.10.0\n> joblib                       1.2.0\n\
          > joblibspark                  0.5.1\n> jsonpointer                  2.4\n\
          > jsonref                      1.1.0\n> jsonschema                   4.16.0\n\
          > jupyter-client               7.3.4\n> jupyter_core                 4.11.2\n\
          > jupyterlab-pygments          0.1.2\n> jupyterlab-widgets           1.0.0\n\
          > keras                        2.11.0\n> keyring                      23.5.0\n\
          > kiwisolver                   1.4.2\n> korean-lunar-calendar        0.3.1\n\
          > langchain                    0.0.285\n> langcodes                    3.3.0\n\
          > langsmith                    0.0.41\n> launchpadlib                 1.10.16\n\
          > lazr.restfulclient           0.14.4\n> lazr.uri                     1.0.6\n\
          > lazy_loader                  0.2\n> libclang                     15.0.6.1\n\
          > librosa                      0.10.0\n> lightgbm                     3.3.5\n\
          > llvmlite                     0.38.0\n> LunarCalendar                0.0.9\n\
          > lxml                         4.9.3\n> Mako                         1.2.0\n\
          > Markdown                     3.3.4\n> MarkupSafe                   2.0.1\n\
          > marshmallow                  3.19.0\n> marshmallow-enum             1.5.1\n\
          > matplotlib                   3.5.2\n> matplotlib-inline            0.1.6\n\
          > mccabe                       0.7.0\n> mime                         0.1.0\n\
          > mistune                      0.8.4\n> mleap                        0.20.0\n\
          > mlflow-skinny                2.3.1\n> monotonic                    1.6\n\
          > more-itertools               8.10.0\n> msgpack                      1.0.5\n\
          > multidict                    6.0.4\n> multimethod                  1.9.1\n\
          > multiprocess                 0.70.12.2\n> murmurhash                 \
          \  1.0.9\n> mypy-extensions              0.4.3\n> nbclient             \
          \        0.5.13\n> nbconvert                    6.4.4\n> nbformat      \
          \               5.5.0\n> neptune-client               0.16.18\n> neptune-optuna\
          \               1.1.0\n> nest-asyncio                 1.5.5\n> networkx\
          \                     2.8.4\n> nltk                         3.7\n> nodeenv\
          \                      1.8.0\n> notebook                     6.4.12\n> numba\
          \                        0.55.1\n> numexpr                      2.8.4\n\
          > numpy                        1.21.5\n> oauthlib                     3.2.0\n\
          > openai                       0.27.4\n> openapi-schema-pydantic      1.2.4\n\
          > openpyxl                     3.1.2\n> opt-einsum                   3.3.0\n\
          > optuna                       3.3.0\n> packaging                    21.3\n\
          > pandas                       1.4.4\n> pandocfilters                1.5.0\n\
          > paramiko                     2.9.2\n> parso                        0.8.3\n\
          > pathspec                     0.9.0\n> pathy                        0.10.1\n\
          > patsy                        0.5.2\n> petastorm                    0.12.1\n\
          > pexpect                      4.8.0\n> phik                         0.12.3\n\
          > pickleshare                  0.7.5\n> Pillow                       9.2.0\n\
          > pip                          23.2.1\n> platformdirs                 2.5.2\n\
          > plotly                       5.9.0\n> pluggy                       1.0.0\n\
          > pmdarima                     2.0.3\n> pooch                        1.7.0\n\
          > preshed                      3.0.8\n> prompt-toolkit               3.0.36\n\
          > prophet                      1.1.2\n> protobuf                     3.19.4\n\
          > psutil                       5.9.0\n> psycopg2                     2.9.3\n\
          > ptyprocess                   0.7.0\n> pure-eval                    0.2.2\n\
          > pyarrow                      8.0.0\n> pyasn1                       0.4.8\n\
          > pyasn1-modules               0.2.8\n> pybind11                     2.10.4\n\
          > pycparser                    2.21\n> pydantic                     1.10.6\n\
          > pyflakes                     3.0.1\n> Pygments                     2.11.2\n\
          > PyGObject                    3.42.1\n> PyJWT                        2.3.0\n\
          > PyMeeus                      0.5.12\n> PyNaCl                       1.5.0\n\
          > pyodbc                       4.0.32\n> pyparsing                    3.0.9\n\
          > PyPDF2                       3.0.1\n> pyright                      1.1.294\n\
          > pyrsistent                   0.18.0\n> pytesseract                  0.3.10\n\
          > python-apt                   2.4.0+ubuntu2\n> python-dateutil        \
          \      2.8.2\n> python-docx                  0.8.11\n> python-editor   \
          \             1.0.4\n> python-lsp-jsonrpc           1.0.0\n> python-lsp-server\
          \            1.7.1\n> python-magic                 0.4.27\n> pytoolconfig\
          \                 1.2.2\n> pytz                         2022.1\n> PyWavelets\
          \                   1.3.0\n> PyYAML                       6.0\n> pyzmq \
          \                       23.2.0\n> ragas                        0.0.12\n\
          > regex                        2022.7.9\n> requests                    \
          \ 2.28.1\n> requests-oauthlib            1.3.1\n> responses            \
          \        0.18.0\n> rfc3339-validator            0.1.4\n> rfc3987       \
          \               1.3.8\n> rope                         1.7.0\n> rsa     \
          \                     4.9\n> s3transfer                   0.6.0\n> safetensors\
          \                  0.3.3\n> scikit-learn                 1.1.1\n> scipy\
          \                        1.9.1\n> seaborn                      0.11.2\n\
          > SecretStorage                3.3.1\n> Send2Trash                   1.8.0\n\
          > sentence-transformers        2.2.2\n> sentencepiece                0.1.97\n\
          > setuptools                   63.4.1\n> shap                         0.41.0\n\
          > simplejson                   3.17.6\n> six                          1.16.0\n\
          > skops                        0.8.0\n> slicer                       0.0.7\n\
          > smart-open                   5.2.1\n> smmap                        5.0.0\n\
          > soundfile                    0.12.1\n> soupsieve                    2.3.1\n\
          > soxr                         0.3.5\n> spacy                        3.5.1\n\
          > spacy-cleaner                3.1.3\n> spacy-legacy                 3.0.12\n\
          > spacy-loggers                1.0.4\n> spacy-lookups-data           1.0.5\n\
          > spark-tensorflow-distributor 1.0.0\n> SQLAlchemy                   1.4.39\n\
          > sqlparse                     0.4.2\n> srsly                        2.4.6\n\
          > ssh-import-id                5.11\n> stack-data                   0.6.2\n\
          > statsmodels                  0.13.2\n> swagger-spec-validator       3.0.3\n\
          > tabulate                     0.8.10\n> tangled-up-in-unicode        0.2.0\n\
          > tenacity                     8.1.0\n> tensorboard                  2.11.0\n\
          > tensorboard-data-server      0.6.1\n> tensorboard-plugin-profile   2.11.2\n\
          > tensorboard-plugin-wit       1.8.1\n> tensorflow                   2.11.1\n\
          > tensorflow-estimator         2.11.0\n> tensorflow-io-gcs-filesystem 0.32.0\n\
          > termcolor                    2.3.0\n> terminado                    0.13.1\n\
          > testpath                     0.6.0\n> thinc                        8.1.10\n\
          > threadpoolctl                2.2.0\n> tiktoken                     0.3.3\n\
          > tokenize-rt                  4.2.1\n> tokenizers                   0.13.3\n\
          > tomli                        2.0.1\n> torch                        1.13.1+cu117\n\
          > torchvision                  0.14.1+cu117\n> tornado                 \
          \     6.1\n> tqdm                         4.64.1\n> traitlets          \
          \          5.1.1\n> transformers                 4.33.3\n> typeguard   \
          \                 2.13.3\n> typer                        0.7.0\n> typing_extensions\
          \            4.3.0\n> typing-inspect               0.8.0\n> ujson      \
          \                  5.4.0\n> unattended-upgrades          0.1\n> unstructured\
          \                 0.9.0\n> uri-template                 1.3.0\n> urllib3\
          \                      1.26.11\n> virtualenv                   20.16.3\n\
          > visions                      0.7.5\n> wadllib                      1.3.6\n\
          > wasabi                       0.10.1\n> watermark                    2.4.3\n\
          > wcwidth                      0.2.5\n> webcolors                    1.13\n\
          > webencodings                 0.5.1\n> websocket-client             0.58.0\n\
          > Werkzeug                     2.0.3\n> whatthepatch                 1.0.2\n\
          > wheel                        0.37.1\n> widgetsnbextension           3.6.1\n\
          > wrapt                        1.14.1\n> xgboost                      1.7.5\n\
          > xxhash                       3.2.0\n> yapf                         0.31.0\n\
          > yarl                         1.9.2\n> ydata-profiling              4.1.2\n\
          > zipp                         3.8.0\n> \n> </details>\n> \n> Here are two\
          \ lines of the sample code pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
          > \n> ```python\n> model = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\n> tokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\n> ```\n> \n> <details>\n> <summary>Here is the error I am receiving:</summary>\n\
          > <br>\n> \n> ```sh\n> ---------------------------------------------------------------------------\n\
          > KeyError                                  Traceback (most recent call\
          \ last)\n> File <command-4309329534262302>:1\n> ----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n>       2 tokenizer = AutoTokenizer.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> \n> File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path,\
          \ *model_args, **kwargs)\n>     438     if kwargs_copy.get(\"torch_dtype\"\
          , None) == \"auto\":\n>     439         _ = kwargs_copy.pop(\"torch_dtype\"\
          )\n> --> 441     config, kwargs = AutoConfig.from_pretrained(\n>     442\
          \         pretrained_model_name_or_path,\n>     443         return_unused_kwargs=True,\n\
          >     444         trust_remote_code=trust_remote_code,\n>     445      \
          \   **hub_kwargs,\n>     446         **kwargs_copy,\n>     447     )\n>\
          \     448 if hasattr(config, \"auto_map\") and cls.__name__ in config.auto_map:\n\
          >     449     if not trust_remote_code:\n> \n> File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
          >     935     return config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n>     936 elif \"model_type\" in config_dict:\n> --> 937  \
          \   config_class = CONFIG_MAPPING[config_dict[\"model_type\"]]\n>     938\
          \     return config_class.from_dict(config_dict, **unused_kwargs)\n>   \
          \  939 else:\n>     940     # Fallback: use pattern matching on the string.\n\
          >     941     # We go from longer names to shorter names to catch roberta\
          \ before bert (for instance)\n> \n> File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ in _LazyConfigMapping.__getitem__(self, key)\n>     641     return self._extra_content[key]\n\
          >     642 if key not in self._mapping:\n> --> 643     raise KeyError(key)\n\
          >     644 value = self._mapping[key]\n>     645 module_name = model_type_to_module_name(key)\n\
          > \n> KeyError: 'mistral'\n> ```\n> \n> </details>\n\nyou need to update\
          \ the transformers package to the latest."
        updatedAt: '2023-09-28T03:47:51.500Z'
      numEdits: 0
      reactions: []
    id: 6514f767ff29e7923bca1c1f
    type: comment
  author: dongXL
  content: "> I am also getting this error as well using the sample code for this\
    \ model.\n> \n> <details>\n> <summary>Here is an abbreviated environment:</summary>\n\
    > <br>\n> \n> Package                            Version\n> --------------------------\
    \     -------------\n> absl-py                             1.0.0\n> accelerate\
    \                       0.21.0\n> aiohttp                             3.8.4\n\
    > aiosignal                         1.3.1\n> alembic                         \
    \ 1.12.0\n> appdirs                           1.4.4\n> argon2-cffi           \
    \         21.3.0\n> argon2-cffi-bindings         21.2.0\n> arrow             \
    \           1.2.3\n> astor                        0.8.1\n> asttokens         \
    \           2.2.1\n> astunparse                   1.6.3\n> async-timeout     \
    \           4.0.2\n> attrs                        21.4.0\n> audioread        \
    \            3.0.0\n> azure-core                   1.26.4\n> azure-cosmos    \
    \             4.3.1b1\n> azure-storage-blob           12.16.0\n> azure-storage-file-datalake\
    \  12.11.0\n> backcall                     0.2.0\n> bcrypt                   \
    \    3.2.0\n> beautifulsoup4               4.11.1\n> bitsandbytes            \
    \     0.41.0\n> black                        22.6.0\n> bleach                \
    \       4.1.0\n> blinker                      1.4\n> blis                    \
    \     0.7.9\n> boto3                        1.24.28\n> botocore              \
    \       1.27.28\n> bravado                      11.0.3\n> bravado-core       \
    \          6.1.0\n> cachetools                   4.2.4\n> catalogue          \
    \          2.0.8\n> category-encoders            2.6.0\n> certifi            \
    \          2022.9.14\n> cffi                         1.15.1\n> chardet       \
    \               4.0.0\n> charset-normalizer           2.0.4\n> click         \
    \               8.0.4\n> cloudpickle                  2.0.0\n> cmaes         \
    \               0.10.0\n> cmdstanpy                    1.1.0\n> colorlog     \
    \                6.7.0\n> confection                   0.0.4\n> configparser \
    \                5.2.0\n> convertdate                  2.4.0\n> cryptography \
    \                37.0.1\n> cycler                       0.11.0\n> cymem      \
    \                  2.0.7\n> Cython                       0.29.32\n> databricks-automl-runtime\
    \    0.2.16\n> databricks-cli               0.17.6\n> databricks-feature-store\
    \     0.12.1\n> dataclasses-json             0.5.7\n> datasets               \
    \      2.12.0\n> dbl-tempo                    0.1.23\n> dbus-python          \
    \        1.2.18\n> debugpy                      1.5.1\n> decorator           \
    \         5.1.1\n> defusedxml                   0.7.1\n> dill                \
    \         0.3.4\n> diskcache                    5.6.1\n> distlib             \
    \         0.3.6\n> distro                       1.7.0\n> distro-info         \
    \         1.1+ubuntu0.1\n> doc2text                     0.2.4\n> docstring-to-markdown\
    \        0.12\n> einops                       0.6.1\n> entrypoints           \
    \       0.4\n> ephem                        4.1.4\n> et-xmlfile              \
    \     1.1.0\n> evaluate                     0.4.0\n> executing               \
    \     1.2.0\n> facets-overview              1.0.3\n> faiss-gpu               \
    \     1.7.2\n> fastjsonschema               2.16.3\n> fasttext               \
    \      0.9.2\n> filelock                     3.6.0\n> filetype               \
    \      1.2.0\n> Flask                        1.1.2+db1\n> flatbuffers        \
    \          23.5.9\n> fonttools                    4.25.0\n> fqdn             \
    \            1.5.1\n> frozenlist                   1.3.3\n> fsspec           \
    \            2022.7.1\n> future                       0.18.2\n> gast         \
    \                0.4.0\n> gitdb                        4.0.10\n> GitPython   \
    \                 3.1.27\n> google-api-core              2.8.2\n> google-auth\
    \                  1.33.0\n> google-auth-oauthlib         0.4.6\n> google-cloud-core\
    \            2.3.2\n> google-cloud-storage         2.9.0\n> google-crc32c    \
    \            1.5.0\n> google-pasta                 0.2.0\n> google-resumable-media\
    \       2.5.0\n> googleapis-common-protos     1.56.4\n> greenlet             \
    \        1.1.1\n> grpcio                       1.48.1\n> grpcio-status       \
    \         1.48.1\n> gunicorn                     20.1.0\n> gviz-api          \
    \           1.10.0\n> h5py                         3.7.0\n> hijri-converter  \
    \            2.3.1\n> holidays                     0.22\n> horovod           \
    \           0.27.0\n> htmlmin                      0.1.12\n> httplib2        \
    \             0.20.2\n> huggingface-hub              0.17.3\n> idna          \
    \               3.3\n> ImageHash                    4.3.1\n> imbalanced-learn\
    \             0.8.1\n> importlib-metadata           4.11.3\n> ipykernel      \
    \              6.17.1\n> ipython                      8.10.0\n> ipython-genutils\
    \             0.2.0\n> ipywidgets                   7.7.2\n> isodate         \
    \             0.6.1\n> isoduration                  20.11.0\n> itsdangerous  \
    \               2.0.1\n> jedi                         0.18.1\n> jeepney      \
    \                0.7.1\n> Jinja2                       2.11.3\n> jmespath    \
    \                 0.10.0\n> joblib                       1.2.0\n> joblibspark\
    \                  0.5.1\n> jsonpointer                  2.4\n> jsonref      \
    \                1.1.0\n> jsonschema                   4.16.0\n> jupyter-client\
    \               7.3.4\n> jupyter_core                 4.11.2\n> jupyterlab-pygments\
    \          0.1.2\n> jupyterlab-widgets           1.0.0\n> keras              \
    \          2.11.0\n> keyring                      23.5.0\n> kiwisolver       \
    \            1.4.2\n> korean-lunar-calendar        0.3.1\n> langchain        \
    \            0.0.285\n> langcodes                    3.3.0\n> langsmith      \
    \              0.0.41\n> launchpadlib                 1.10.16\n> lazr.restfulclient\
    \           0.14.4\n> lazr.uri                     1.0.6\n> lazy_loader      \
    \            0.2\n> libclang                     15.0.6.1\n> librosa         \
    \             0.10.0\n> lightgbm                     3.3.5\n> llvmlite       \
    \              0.38.0\n> LunarCalendar                0.0.9\n> lxml          \
    \               4.9.3\n> Mako                         1.2.0\n> Markdown      \
    \               3.3.4\n> MarkupSafe                   2.0.1\n> marshmallow   \
    \               3.19.0\n> marshmallow-enum             1.5.1\n> matplotlib   \
    \                3.5.2\n> matplotlib-inline            0.1.6\n> mccabe       \
    \                0.7.0\n> mime                         0.1.0\n> mistune      \
    \                0.8.4\n> mleap                        0.20.0\n> mlflow-skinny\
    \                2.3.1\n> monotonic                    1.6\n> more-itertools \
    \              8.10.0\n> msgpack                      1.0.5\n> multidict     \
    \               6.0.4\n> multimethod                  1.9.1\n> multiprocess  \
    \               0.70.12.2\n> murmurhash                   1.0.9\n> mypy-extensions\
    \              0.4.3\n> nbclient                     0.5.13\n> nbconvert     \
    \               6.4.4\n> nbformat                     5.5.0\n> neptune-client\
    \               0.16.18\n> neptune-optuna               1.1.0\n> nest-asyncio\
    \                 1.5.5\n> networkx                     2.8.4\n> nltk        \
    \                 3.7\n> nodeenv                      1.8.0\n> notebook      \
    \               6.4.12\n> numba                        0.55.1\n> numexpr     \
    \                 2.8.4\n> numpy                        1.21.5\n> oauthlib   \
    \                  3.2.0\n> openai                       0.27.4\n> openapi-schema-pydantic\
    \      1.2.4\n> openpyxl                     3.1.2\n> opt-einsum             \
    \      3.3.0\n> optuna                       3.3.0\n> packaging              \
    \      21.3\n> pandas                       1.4.4\n> pandocfilters           \
    \     1.5.0\n> paramiko                     2.9.2\n> parso                   \
    \     0.8.3\n> pathspec                     0.9.0\n> pathy                   \
    \     0.10.1\n> patsy                        0.5.2\n> petastorm              \
    \      0.12.1\n> pexpect                      4.8.0\n> phik                  \
    \       0.12.3\n> pickleshare                  0.7.5\n> Pillow               \
    \        9.2.0\n> pip                          23.2.1\n> platformdirs        \
    \         2.5.2\n> plotly                       5.9.0\n> pluggy              \
    \         1.0.0\n> pmdarima                     2.0.3\n> pooch               \
    \         1.7.0\n> preshed                      3.0.8\n> prompt-toolkit      \
    \         3.0.36\n> prophet                      1.1.2\n> protobuf           \
    \          3.19.4\n> psutil                       5.9.0\n> psycopg2          \
    \           2.9.3\n> ptyprocess                   0.7.0\n> pure-eval         \
    \           0.2.2\n> pyarrow                      8.0.0\n> pyasn1            \
    \           0.4.8\n> pyasn1-modules               0.2.8\n> pybind11          \
    \           2.10.4\n> pycparser                    2.21\n> pydantic          \
    \           1.10.6\n> pyflakes                     3.0.1\n> Pygments         \
    \            2.11.2\n> PyGObject                    3.42.1\n> PyJWT          \
    \              2.3.0\n> PyMeeus                      0.5.12\n> PyNaCl        \
    \               1.5.0\n> pyodbc                       4.0.32\n> pyparsing    \
    \                3.0.9\n> PyPDF2                       3.0.1\n> pyright      \
    \                1.1.294\n> pyrsistent                   0.18.0\n> pytesseract\
    \                  0.3.10\n> python-apt                   2.4.0+ubuntu2\n> python-dateutil\
    \              2.8.2\n> python-docx                  0.8.11\n> python-editor \
    \               1.0.4\n> python-lsp-jsonrpc           1.0.0\n> python-lsp-server\
    \            1.7.1\n> python-magic                 0.4.27\n> pytoolconfig    \
    \             1.2.2\n> pytz                         2022.1\n> PyWavelets     \
    \              1.3.0\n> PyYAML                       6.0\n> pyzmq            \
    \            23.2.0\n> ragas                        0.0.12\n> regex          \
    \              2022.7.9\n> requests                     2.28.1\n> requests-oauthlib\
    \            1.3.1\n> responses                    0.18.0\n> rfc3339-validator\
    \            0.1.4\n> rfc3987                      1.3.8\n> rope             \
    \            1.7.0\n> rsa                          4.9\n> s3transfer         \
    \          0.6.0\n> safetensors                  0.3.3\n> scikit-learn       \
    \          1.1.1\n> scipy                        1.9.1\n> seaborn            \
    \          0.11.2\n> SecretStorage                3.3.1\n> Send2Trash        \
    \           1.8.0\n> sentence-transformers        2.2.2\n> sentencepiece     \
    \           0.1.97\n> setuptools                   63.4.1\n> shap            \
    \             0.41.0\n> simplejson                   3.17.6\n> six           \
    \               1.16.0\n> skops                        0.8.0\n> slicer       \
    \                0.0.7\n> smart-open                   5.2.1\n> smmap        \
    \                5.0.0\n> soundfile                    0.12.1\n> soupsieve   \
    \                 2.3.1\n> soxr                         0.3.5\n> spacy       \
    \                 3.5.1\n> spacy-cleaner                3.1.3\n> spacy-legacy\
    \                 3.0.12\n> spacy-loggers                1.0.4\n> spacy-lookups-data\
    \           1.0.5\n> spark-tensorflow-distributor 1.0.0\n> SQLAlchemy        \
    \           1.4.39\n> sqlparse                     0.4.2\n> srsly            \
    \            2.4.6\n> ssh-import-id                5.11\n> stack-data        \
    \           0.6.2\n> statsmodels                  0.13.2\n> swagger-spec-validator\
    \       3.0.3\n> tabulate                     0.8.10\n> tangled-up-in-unicode\
    \        0.2.0\n> tenacity                     8.1.0\n> tensorboard          \
    \        2.11.0\n> tensorboard-data-server      0.6.1\n> tensorboard-plugin-profile\
    \   2.11.2\n> tensorboard-plugin-wit       1.8.1\n> tensorflow               \
    \    2.11.1\n> tensorflow-estimator         2.11.0\n> tensorflow-io-gcs-filesystem\
    \ 0.32.0\n> termcolor                    2.3.0\n> terminado                  \
    \  0.13.1\n> testpath                     0.6.0\n> thinc                     \
    \   8.1.10\n> threadpoolctl                2.2.0\n> tiktoken                 \
    \    0.3.3\n> tokenize-rt                  4.2.1\n> tokenizers               \
    \    0.13.3\n> tomli                        2.0.1\n> torch                   \
    \     1.13.1+cu117\n> torchvision                  0.14.1+cu117\n> tornado   \
    \                   6.1\n> tqdm                         4.64.1\n> traitlets  \
    \                  5.1.1\n> transformers                 4.33.3\n> typeguard \
    \                   2.13.3\n> typer                        0.7.0\n> typing_extensions\
    \            4.3.0\n> typing-inspect               0.8.0\n> ujson            \
    \            5.4.0\n> unattended-upgrades          0.1\n> unstructured       \
    \          0.9.0\n> uri-template                 1.3.0\n> urllib3            \
    \          1.26.11\n> virtualenv                   20.16.3\n> visions        \
    \              0.7.5\n> wadllib                      1.3.6\n> wasabi         \
    \              0.10.1\n> watermark                    2.4.3\n> wcwidth       \
    \               0.2.5\n> webcolors                    1.13\n> webencodings   \
    \              0.5.1\n> websocket-client             0.58.0\n> Werkzeug      \
    \               2.0.3\n> whatthepatch                 1.0.2\n> wheel         \
    \               0.37.1\n> widgetsnbextension           3.6.1\n> wrapt        \
    \                1.14.1\n> xgboost                      1.7.5\n> xxhash      \
    \                 3.2.0\n> yapf                         0.31.0\n> yarl       \
    \                  1.9.2\n> ydata-profiling              4.1.2\n> zipp       \
    \                  3.8.0\n> \n> </details>\n> \n> Here are two lines of the sample\
    \ code pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
    > \n> ```python\n> model = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
    )\n> tokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
    )\n> ```\n> \n> <details>\n> <summary>Here is the error I am receiving:</summary>\n\
    > <br>\n> \n> ```sh\n> ---------------------------------------------------------------------------\n\
    > KeyError                                  Traceback (most recent call last)\n\
    > File <command-4309329534262302>:1\n> ----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n>       2 tokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> \n> File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
    \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path, *model_args,\
    \ **kwargs)\n>     438     if kwargs_copy.get(\"torch_dtype\", None) == \"auto\"\
    :\n>     439         _ = kwargs_copy.pop(\"torch_dtype\")\n> --> 441     config,\
    \ kwargs = AutoConfig.from_pretrained(\n>     442         pretrained_model_name_or_path,\n\
    >     443         return_unused_kwargs=True,\n>     444         trust_remote_code=trust_remote_code,\n\
    >     445         **hub_kwargs,\n>     446         **kwargs_copy,\n>     447 \
    \    )\n>     448 if hasattr(config, \"auto_map\") and cls.__name__ in config.auto_map:\n\
    >     449     if not trust_remote_code:\n> \n> File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
    \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
    >     935     return config_class.from_pretrained(pretrained_model_name_or_path,\
    \ **kwargs)\n>     936 elif \"model_type\" in config_dict:\n> --> 937     config_class\
    \ = CONFIG_MAPPING[config_dict[\"model_type\"]]\n>     938     return config_class.from_dict(config_dict,\
    \ **unused_kwargs)\n>     939 else:\n>     940     # Fallback: use pattern matching\
    \ on the string.\n>     941     # We go from longer names to shorter names to\
    \ catch roberta before bert (for instance)\n> \n> File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
    \ in _LazyConfigMapping.__getitem__(self, key)\n>     641     return self._extra_content[key]\n\
    >     642 if key not in self._mapping:\n> --> 643     raise KeyError(key)\n> \
    \    644 value = self._mapping[key]\n>     645 module_name = model_type_to_module_name(key)\n\
    > \n> KeyError: 'mistral'\n> ```\n> \n> </details>\n\nyou need to update the transformers\
    \ package to the latest."
  created_at: 2023-09-28 02:47:51+00:00
  edited: false
  hidden: false
  id: 6514f767ff29e7923bca1c1f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/46973ddea77e8eda9443f68c9e072b8c.svg
      fullname: Moyo Ajayi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 907Resident
      type: user
    createdAt: '2023-09-28T03:51:15.000Z'
    data:
      edited: true
      editors:
      - 907Resident
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.921085000038147
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/46973ddea77e8eda9443f68c9e072b8c.svg
          fullname: Moyo Ajayi
          isHf: false
          isPro: false
          name: 907Resident
          type: user
        html: '<p><del><code>transformers == 4.33.3</code> is not the latest?</del></p>

          <p><del>That is what I shared above and from what I can see on GitHub, <code>4.33.3</code>
          <a rel="nofollow" href="https://github.com/huggingface/transformers/releases">appears
          to be the latest release</a> (released 12 hours ago).</del></p>

          <p>See <a href="https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1/discussions/7#6514f85c2c5da97903a6c657">comment
          below</a></p>

          '
        raw: '~`transformers == 4.33.3` is not the latest?~


          ~That is what I shared above and from what I can see on GitHub, `4.33.3`
          [appears to be the latest release](https://github.com/huggingface/transformers/releases)
          (released 12 hours ago).~


          See [comment below](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1/discussions/7#6514f85c2c5da97903a6c657)'
        updatedAt: '2023-09-28T03:53:41.016Z'
      numEdits: 2
      reactions: []
    id: 6514f833fe79293513fa3455
    type: comment
  author: 907Resident
  content: '~`transformers == 4.33.3` is not the latest?~


    ~That is what I shared above and from what I can see on GitHub, `4.33.3` [appears
    to be the latest release](https://github.com/huggingface/transformers/releases)
    (released 12 hours ago).~


    See [comment below](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1/discussions/7#6514f85c2c5da97903a6c657)'
  created_at: 2023-09-28 02:51:15+00:00
  edited: true
  hidden: false
  id: 6514f833fe79293513fa3455
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/46973ddea77e8eda9443f68c9e072b8c.svg
      fullname: Moyo Ajayi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 907Resident
      type: user
    createdAt: '2023-09-28T03:51:56.000Z'
    data:
      edited: false
      editors:
      - 907Resident
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.24867185950279236
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/46973ddea77e8eda9443f68c9e072b8c.svg
          fullname: Moyo Ajayi
          isHf: false
          isPro: false
          name: 907Resident
          type: user
        html: "<blockquote>\n<blockquote>\n<p>I am also getting this error as well\
          \ using the sample code for this model.</p>\n<details>\n<summary>Here is\
          \ an abbreviated environment:</summary>\n<br>\n\n<p>Package            \
          \                Version</p>\n<hr>\n<p>absl-py                         \
          \    1.0.0<br>accelerate                       0.21.0<br>aiohttp       \
          \                      3.8.4<br>aiosignal                         1.3.1<br>alembic\
          \                          1.12.0<br>appdirs                           1.4.4<br>argon2-cffi\
          \                    21.3.0<br>argon2-cffi-bindings         21.2.0<br>arrow\
          \                        1.2.3<br>astor                        0.8.1<br>asttokens\
          \                    2.2.1<br>astunparse                   1.6.3<br>async-timeout\
          \                4.0.2<br>attrs                        21.4.0<br>audioread\
          \                    3.0.0<br>azure-core                   1.26.4<br>azure-cosmos\
          \                 4.3.1b1<br>azure-storage-blob           12.16.0<br>azure-storage-file-datalake\
          \  12.11.0<br>backcall                     0.2.0<br>bcrypt             \
          \          3.2.0<br>beautifulsoup4               4.11.1<br>bitsandbytes\
          \                 0.41.0<br>black                        22.6.0<br>bleach\
          \                       4.1.0<br>blinker                      1.4<br>blis\
          \                         0.7.9<br>boto3                        1.24.28<br>botocore\
          \                     1.27.28<br>bravado                      11.0.3<br>bravado-core\
          \                 6.1.0<br>cachetools                   4.2.4<br>catalogue\
          \                    2.0.8<br>category-encoders            2.6.0<br>certifi\
          \                      2022.9.14<br>cffi                         1.15.1<br>chardet\
          \                      4.0.0<br>charset-normalizer           2.0.4<br>click\
          \                        8.0.4<br>cloudpickle                  2.0.0<br>cmaes\
          \                        0.10.0<br>cmdstanpy                    1.1.0<br>colorlog\
          \                     6.7.0<br>confection                   0.0.4<br>configparser\
          \                 5.2.0<br>convertdate                  2.4.0<br>cryptography\
          \                 37.0.1<br>cycler                       0.11.0<br>cymem\
          \                        2.0.7<br>Cython                       0.29.32<br>databricks-automl-runtime\
          \    0.2.16<br>databricks-cli               0.17.6<br>databricks-feature-store\
          \     0.12.1<br>dataclasses-json             0.5.7<br>datasets         \
          \            2.12.0<br>dbl-tempo                    0.1.23<br>dbus-python\
          \                  1.2.18<br>debugpy                      1.5.1<br>decorator\
          \                    5.1.1<br>defusedxml                   0.7.1<br>dill\
          \                         0.3.4<br>diskcache                    5.6.1<br>distlib\
          \                      0.3.6<br>distro                       1.7.0<br>distro-info\
          \                  1.1+ubuntu0.1<br>doc2text                     0.2.4<br>docstring-to-markdown\
          \        0.12<br>einops                       0.6.1<br>entrypoints     \
          \             0.4<br>ephem                        4.1.4<br>et-xmlfile  \
          \                 1.1.0<br>evaluate                     0.4.0<br>executing\
          \                    1.2.0<br>facets-overview              1.0.3<br>faiss-gpu\
          \                    1.7.2<br>fastjsonschema               2.16.3<br>fasttext\
          \                     0.9.2<br>filelock                     3.6.0<br>filetype\
          \                     1.2.0<br>Flask                        1.1.2+db1<br>flatbuffers\
          \                  23.5.9<br>fonttools                    4.25.0<br>fqdn\
          \                         1.5.1<br>frozenlist                   1.3.3<br>fsspec\
          \                       2022.7.1<br>future                       0.18.2<br>gast\
          \                         0.4.0<br>gitdb                        4.0.10<br>GitPython\
          \                    3.1.27<br>google-api-core              2.8.2<br>google-auth\
          \                  1.33.0<br>google-auth-oauthlib         0.4.6<br>google-cloud-core\
          \            2.3.2<br>google-cloud-storage         2.9.0<br>google-crc32c\
          \                1.5.0<br>google-pasta                 0.2.0<br>google-resumable-media\
          \       2.5.0<br>googleapis-common-protos     1.56.4<br>greenlet       \
          \              1.1.1<br>grpcio                       1.48.1<br>grpcio-status\
          \                1.48.1<br>gunicorn                     20.1.0<br>gviz-api\
          \                     1.10.0<br>h5py                         3.7.0<br>hijri-converter\
          \              2.3.1<br>holidays                     0.22<br>horovod   \
          \                   0.27.0<br>htmlmin                      0.1.12<br>httplib2\
          \                     0.20.2<br>huggingface-hub              0.17.3<br>idna\
          \                         3.3<br>ImageHash                    4.3.1<br>imbalanced-learn\
          \             0.8.1<br>importlib-metadata           4.11.3<br>ipykernel\
          \                    6.17.1<br>ipython                      8.10.0<br>ipython-genutils\
          \             0.2.0<br>ipywidgets                   7.7.2<br>isodate   \
          \                   0.6.1<br>isoduration                  20.11.0<br>itsdangerous\
          \                 2.0.1<br>jedi                         0.18.1<br>jeepney\
          \                      0.7.1<br>Jinja2                       2.11.3<br>jmespath\
          \                     0.10.0<br>joblib                       1.2.0<br>joblibspark\
          \                  0.5.1<br>jsonpointer                  2.4<br>jsonref\
          \                      1.1.0<br>jsonschema                   4.16.0<br>jupyter-client\
          \               7.3.4<br>jupyter_core                 4.11.2<br>jupyterlab-pygments\
          \          0.1.2<br>jupyterlab-widgets           1.0.0<br>keras        \
          \                2.11.0<br>keyring                      23.5.0<br>kiwisolver\
          \                   1.4.2<br>korean-lunar-calendar        0.3.1<br>langchain\
          \                    0.0.285<br>langcodes                    3.3.0<br>langsmith\
          \                    0.0.41<br>launchpadlib                 1.10.16<br>lazr.restfulclient\
          \           0.14.4<br>lazr.uri                     1.0.6<br>lazy_loader\
          \                  0.2<br>libclang                     15.0.6.1<br>librosa\
          \                      0.10.0<br>lightgbm                     3.3.5<br>llvmlite\
          \                     0.38.0<br>LunarCalendar                0.0.9<br>lxml\
          \                         4.9.3<br>Mako                         1.2.0<br>Markdown\
          \                     3.3.4<br>MarkupSafe                   2.0.1<br>marshmallow\
          \                  3.19.0<br>marshmallow-enum             1.5.1<br>matplotlib\
          \                   3.5.2<br>matplotlib-inline            0.1.6<br>mccabe\
          \                       0.7.0<br>mime                         0.1.0<br>mistune\
          \                      0.8.4<br>mleap                        0.20.0<br>mlflow-skinny\
          \                2.3.1<br>monotonic                    1.6<br>more-itertools\
          \               8.10.0<br>msgpack                      1.0.5<br>multidict\
          \                    6.0.4<br>multimethod                  1.9.1<br>multiprocess\
          \                 0.70.12.2<br>murmurhash                   1.0.9<br>mypy-extensions\
          \              0.4.3<br>nbclient                     0.5.13<br>nbconvert\
          \                    6.4.4<br>nbformat                     5.5.0<br>neptune-client\
          \               0.16.18<br>neptune-optuna               1.1.0<br>nest-asyncio\
          \                 1.5.5<br>networkx                     2.8.4<br>nltk  \
          \                       3.7<br>nodeenv                      1.8.0<br>notebook\
          \                     6.4.12<br>numba                        0.55.1<br>numexpr\
          \                      2.8.4<br>numpy                        1.21.5<br>oauthlib\
          \                     3.2.0<br>openai                       0.27.4<br>openapi-schema-pydantic\
          \      1.2.4<br>openpyxl                     3.1.2<br>opt-einsum       \
          \            3.3.0<br>optuna                       3.3.0<br>packaging  \
          \                  21.3<br>pandas                       1.4.4<br>pandocfilters\
          \                1.5.0<br>paramiko                     2.9.2<br>parso  \
          \                      0.8.3<br>pathspec                     0.9.0<br>pathy\
          \                        0.10.1<br>patsy                        0.5.2<br>petastorm\
          \                    0.12.1<br>pexpect                      4.8.0<br>phik\
          \                         0.12.3<br>pickleshare                  0.7.5<br>Pillow\
          \                       9.2.0<br>pip                          23.2.1<br>platformdirs\
          \                 2.5.2<br>plotly                       5.9.0<br>pluggy\
          \                       1.0.0<br>pmdarima                     2.0.3<br>pooch\
          \                        1.7.0<br>preshed                      3.0.8<br>prompt-toolkit\
          \               3.0.36<br>prophet                      1.1.2<br>protobuf\
          \                     3.19.4<br>psutil                       5.9.0<br>psycopg2\
          \                     2.9.3<br>ptyprocess                   0.7.0<br>pure-eval\
          \                    0.2.2<br>pyarrow                      8.0.0<br>pyasn1\
          \                       0.4.8<br>pyasn1-modules               0.2.8<br>pybind11\
          \                     2.10.4<br>pycparser                    2.21<br>pydantic\
          \                     1.10.6<br>pyflakes                     3.0.1<br>Pygments\
          \                     2.11.2<br>PyGObject                    3.42.1<br>PyJWT\
          \                        2.3.0<br>PyMeeus                      0.5.12<br>PyNaCl\
          \                       1.5.0<br>pyodbc                       4.0.32<br>pyparsing\
          \                    3.0.9<br>PyPDF2                       3.0.1<br>pyright\
          \                      1.1.294<br>pyrsistent                   0.18.0<br>pytesseract\
          \                  0.3.10<br>python-apt                   2.4.0+ubuntu2<br>python-dateutil\
          \              2.8.2<br>python-docx                  0.8.11<br>python-editor\
          \                1.0.4<br>python-lsp-jsonrpc           1.0.0<br>python-lsp-server\
          \            1.7.1<br>python-magic                 0.4.27<br>pytoolconfig\
          \                 1.2.2<br>pytz                         2022.1<br>PyWavelets\
          \                   1.3.0<br>PyYAML                       6.0<br>pyzmq \
          \                       23.2.0<br>ragas                        0.0.12<br>regex\
          \                        2022.7.9<br>requests                     2.28.1<br>requests-oauthlib\
          \            1.3.1<br>responses                    0.18.0<br>rfc3339-validator\
          \            0.1.4<br>rfc3987                      1.3.8<br>rope       \
          \                  1.7.0<br>rsa                          4.9<br>s3transfer\
          \                   0.6.0<br>safetensors                  0.3.3<br>scikit-learn\
          \                 1.1.1<br>scipy                        1.9.1<br>seaborn\
          \                      0.11.2<br>SecretStorage                3.3.1<br>Send2Trash\
          \                   1.8.0<br>sentence-transformers        2.2.2<br>sentencepiece\
          \                0.1.97<br>setuptools                   63.4.1<br>shap \
          \                        0.41.0<br>simplejson                   3.17.6<br>six\
          \                          1.16.0<br>skops                        0.8.0<br>slicer\
          \                       0.0.7<br>smart-open                   5.2.1<br>smmap\
          \                        5.0.0<br>soundfile                    0.12.1<br>soupsieve\
          \                    2.3.1<br>soxr                         0.3.5<br>spacy\
          \                        3.5.1<br>spacy-cleaner                3.1.3<br>spacy-legacy\
          \                 3.0.12<br>spacy-loggers                1.0.4<br>spacy-lookups-data\
          \           1.0.5<br>spark-tensorflow-distributor 1.0.0<br>SQLAlchemy  \
          \                 1.4.39<br>sqlparse                     0.4.2<br>srsly\
          \                        2.4.6<br>ssh-import-id                5.11<br>stack-data\
          \                   0.6.2<br>statsmodels                  0.13.2<br>swagger-spec-validator\
          \       3.0.3<br>tabulate                     0.8.10<br>tangled-up-in-unicode\
          \        0.2.0<br>tenacity                     8.1.0<br>tensorboard    \
          \              2.11.0<br>tensorboard-data-server      0.6.1<br>tensorboard-plugin-profile\
          \   2.11.2<br>tensorboard-plugin-wit       1.8.1<br>tensorflow         \
          \          2.11.1<br>tensorflow-estimator         2.11.0<br>tensorflow-io-gcs-filesystem\
          \ 0.32.0<br>termcolor                    2.3.0<br>terminado            \
          \        0.13.1<br>testpath                     0.6.0<br>thinc         \
          \               8.1.10<br>threadpoolctl                2.2.0<br>tiktoken\
          \                     0.3.3<br>tokenize-rt                  4.2.1<br>tokenizers\
          \                   0.13.3<br>tomli                        2.0.1<br>torch\
          \                        1.13.1+cu117<br>torchvision                  0.14.1+cu117<br>tornado\
          \                      6.1<br>tqdm                         4.64.1<br>traitlets\
          \                    5.1.1<br>transformers                 4.33.3<br>typeguard\
          \                    2.13.3<br>typer                        0.7.0<br>typing_extensions\
          \            4.3.0<br>typing-inspect               0.8.0<br>ujson      \
          \                  5.4.0<br>unattended-upgrades          0.1<br>unstructured\
          \                 0.9.0<br>uri-template                 1.3.0<br>urllib3\
          \                      1.26.11<br>virtualenv                   20.16.3<br>visions\
          \                      0.7.5<br>wadllib                      1.3.6<br>wasabi\
          \                       0.10.1<br>watermark                    2.4.3<br>wcwidth\
          \                      0.2.5<br>webcolors                    1.13<br>webencodings\
          \                 0.5.1<br>websocket-client             0.58.0<br>Werkzeug\
          \                     2.0.3<br>whatthepatch                 1.0.2<br>wheel\
          \                        0.37.1<br>widgetsnbextension           3.6.1<br>wrapt\
          \                        1.14.1<br>xgboost                      1.7.5<br>xxhash\
          \                       3.2.0<br>yapf                         0.31.0<br>yarl\
          \                         1.9.2<br>ydata-profiling              4.1.2<br>zipp\
          \                         3.8.0</p>\n</details>\n\n<p>Here are two lines\
          \ of the sample code pulled from the <a href=\"https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1\"\
          >model card</a>:</p>\n<pre><code class=\"language-python\">model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\">\"\
          mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n</code></pre>\n<details>\n\
          <summary>Here is the error I am receiving:</summary>\n<br>\n\n<pre><code\
          \ class=\"language-sh\">---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          File &lt;command-4309329534262302&gt;:1\n----&gt; 1 model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          \      2 tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\"\
          >\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ <span class=\"hljs-keyword\">in</span> _BaseAutoModelClass.from_pretrained(cls,\
          \ pretrained_model_name_or_path, *model_args, **kwargs)\n    438     <span\
          \ class=\"hljs-keyword\">if</span> kwargs_copy.get(<span class=\"hljs-string\"\
          >\"torch_dtype\"</span>, None) == <span class=\"hljs-string\">\"auto\"</span>:\n\
          \    439         _ = kwargs_copy.pop(<span class=\"hljs-string\">\"torch_dtype\"\
          </span>)\n--&gt; 441     config, kwargs = AutoConfig.from_pretrained(\n\
          \    442         pretrained_model_name_or_path,\n    443         return_unused_kwargs=True,\n\
          \    444         trust_remote_code=trust_remote_code,\n    445         **hub_kwargs,\n\
          \    446         **kwargs_copy,\n    447     )\n    448 <span class=\"hljs-keyword\"\
          >if</span> hasattr(config, <span class=\"hljs-string\">\"auto_map\"</span>)\
          \ and cls.__name__ <span class=\"hljs-keyword\">in</span> config.auto_map:\n\
          \    449     <span class=\"hljs-keyword\">if</span> not trust_remote_code:\n\
          \nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ <span class=\"hljs-keyword\">in</span> AutoConfig.from_pretrained(cls,\
          \ pretrained_model_name_or_path, **kwargs)\n    935     <span class=\"hljs-built_in\"\
          >return</span> config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n    936 <span class=\"hljs-keyword\">elif</span> <span class=\"\
          hljs-string\">\"model_type\"</span> <span class=\"hljs-keyword\">in</span>\
          \ config_dict:\n--&gt; 937     config_class = CONFIG_MAPPING[config_dict[<span\
          \ class=\"hljs-string\">\"model_type\"</span>]]\n    938     <span class=\"\
          hljs-built_in\">return</span> config_class.from_dict(config_dict, **unused_kwargs)\n\
          \    939 <span class=\"hljs-keyword\">else</span>:\n    940     <span class=\"\
          hljs-comment\"># Fallback: use pattern matching on the string.</span>\n\
          \    941     <span class=\"hljs-comment\"># We go from longer names to shorter\
          \ names to catch roberta before bert (for instance)</span>\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ <span class=\"hljs-keyword\">in</span> _LazyConfigMapping.__getitem__(self,\
          \ key)\n    641     <span class=\"hljs-built_in\">return</span> self._extra_content[key]\n\
          \    642 <span class=\"hljs-keyword\">if</span> key not <span class=\"hljs-keyword\"\
          >in</span> self._mapping:\n--&gt; 643     raise KeyError(key)\n    644 value\
          \ = self._mapping[key]\n    645 module_name = model_type_to_module_name(key)\n\
          \nKeyError: <span class=\"hljs-string\">'mistral'</span>\n</code></pre>\n\
          </details>\n</blockquote>\n<p>you need to update the transformers package\
          \ to the latest.</p>\n</blockquote>\n<p><code>transformers == 4.33.3</code>\
          \ is not the latest?</p>\n<p>That is what I shared above and from what I\
          \ can see on GitHub, <code>4.33.3</code> <a rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/releases\"\
          >appears to be the latest release</a> (released 12 hours ago). </p>\n"
        raw: "> > I am also getting this error as well using the sample code for this\
          \ model.\n> > \n> > <details>\n> > <summary>Here is an abbreviated environment:</summary>\n\
          > > <br>\n> > \n> > Package                            Version\n> > --------------------------\
          \     -------------\n> > absl-py                             1.0.0\n> >\
          \ accelerate                       0.21.0\n> > aiohttp                 \
          \            3.8.4\n> > aiosignal                         1.3.1\n> > alembic\
          \                          1.12.0\n> > appdirs                         \
          \  1.4.4\n> > argon2-cffi                    21.3.0\n> > argon2-cffi-bindings\
          \         21.2.0\n> > arrow                        1.2.3\n> > astor    \
          \                    0.8.1\n> > asttokens                    2.2.1\n> >\
          \ astunparse                   1.6.3\n> > async-timeout                4.0.2\n\
          > > attrs                        21.4.0\n> > audioread                 \
          \   3.0.0\n> > azure-core                   1.26.4\n> > azure-cosmos   \
          \              4.3.1b1\n> > azure-storage-blob           12.16.0\n> > azure-storage-file-datalake\
          \  12.11.0\n> > backcall                     0.2.0\n> > bcrypt         \
          \              3.2.0\n> > beautifulsoup4               4.11.1\n> > bitsandbytes\
          \                 0.41.0\n> > black                        22.6.0\n> > bleach\
          \                       4.1.0\n> > blinker                      1.4\n> >\
          \ blis                         0.7.9\n> > boto3                        1.24.28\n\
          > > botocore                     1.27.28\n> > bravado                  \
          \    11.0.3\n> > bravado-core                 6.1.0\n> > cachetools    \
          \               4.2.4\n> > catalogue                    2.0.8\n> > category-encoders\
          \            2.6.0\n> > certifi                      2022.9.14\n> > cffi\
          \                         1.15.1\n> > chardet                      4.0.0\n\
          > > charset-normalizer           2.0.4\n> > click                      \
          \  8.0.4\n> > cloudpickle                  2.0.0\n> > cmaes            \
          \            0.10.0\n> > cmdstanpy                    1.1.0\n> > colorlog\
          \                     6.7.0\n> > confection                   0.0.4\n> >\
          \ configparser                 5.2.0\n> > convertdate                  2.4.0\n\
          > > cryptography                 37.0.1\n> > cycler                    \
          \   0.11.0\n> > cymem                        2.0.7\n> > Cython         \
          \              0.29.32\n> > databricks-automl-runtime    0.2.16\n> > databricks-cli\
          \               0.17.6\n> > databricks-feature-store     0.12.1\n> > dataclasses-json\
          \             0.5.7\n> > datasets                     2.12.0\n> > dbl-tempo\
          \                    0.1.23\n> > dbus-python                  1.2.18\n>\
          \ > debugpy                      1.5.1\n> > decorator                  \
          \  5.1.1\n> > defusedxml                   0.7.1\n> > dill             \
          \            0.3.4\n> > diskcache                    5.6.1\n> > distlib\
          \                      0.3.6\n> > distro                       1.7.0\n>\
          \ > distro-info                  1.1+ubuntu0.1\n> > doc2text           \
          \          0.2.4\n> > docstring-to-markdown        0.12\n> > einops    \
          \                   0.6.1\n> > entrypoints                  0.4\n> > ephem\
          \                        4.1.4\n> > et-xmlfile                   1.1.0\n\
          > > evaluate                     0.4.0\n> > executing                  \
          \  1.2.0\n> > facets-overview              1.0.3\n> > faiss-gpu        \
          \            1.7.2\n> > fastjsonschema               2.16.3\n> > fasttext\
          \                     0.9.2\n> > filelock                     3.6.0\n> >\
          \ filetype                     1.2.0\n> > Flask                        1.1.2+db1\n\
          > > flatbuffers                  23.5.9\n> > fonttools                 \
          \   4.25.0\n> > fqdn                         1.5.1\n> > frozenlist     \
          \              1.3.3\n> > fsspec                       2022.7.1\n> > future\
          \                       0.18.2\n> > gast                         0.4.0\n\
          > > gitdb                        4.0.10\n> > GitPython                 \
          \   3.1.27\n> > google-api-core              2.8.2\n> > google-auth    \
          \              1.33.0\n> > google-auth-oauthlib         0.4.6\n> > google-cloud-core\
          \            2.3.2\n> > google-cloud-storage         2.9.0\n> > google-crc32c\
          \                1.5.0\n> > google-pasta                 0.2.0\n> > google-resumable-media\
          \       2.5.0\n> > googleapis-common-protos     1.56.4\n> > greenlet   \
          \                  1.1.1\n> > grpcio                       1.48.1\n> > grpcio-status\
          \                1.48.1\n> > gunicorn                     20.1.0\n> > gviz-api\
          \                     1.10.0\n> > h5py                         3.7.0\n>\
          \ > hijri-converter              2.3.1\n> > holidays                   \
          \  0.22\n> > horovod                      0.27.0\n> > htmlmin          \
          \            0.1.12\n> > httplib2                     0.20.2\n> > huggingface-hub\
          \              0.17.3\n> > idna                         3.3\n> > ImageHash\
          \                    4.3.1\n> > imbalanced-learn             0.8.1\n> >\
          \ importlib-metadata           4.11.3\n> > ipykernel                   \
          \ 6.17.1\n> > ipython                      8.10.0\n> > ipython-genutils\
          \             0.2.0\n> > ipywidgets                   7.7.2\n> > isodate\
          \                      0.6.1\n> > isoduration                  20.11.0\n\
          > > itsdangerous                 2.0.1\n> > jedi                       \
          \  0.18.1\n> > jeepney                      0.7.1\n> > Jinja2          \
          \             2.11.3\n> > jmespath                     0.10.0\n> > joblib\
          \                       1.2.0\n> > joblibspark                  0.5.1\n\
          > > jsonpointer                  2.4\n> > jsonref                      1.1.0\n\
          > > jsonschema                   4.16.0\n> > jupyter-client            \
          \   7.3.4\n> > jupyter_core                 4.11.2\n> > jupyterlab-pygments\
          \          0.1.2\n> > jupyterlab-widgets           1.0.0\n> > keras    \
          \                    2.11.0\n> > keyring                      23.5.0\n>\
          \ > kiwisolver                   1.4.2\n> > korean-lunar-calendar      \
          \  0.3.1\n> > langchain                    0.0.285\n> > langcodes      \
          \              3.3.0\n> > langsmith                    0.0.41\n> > launchpadlib\
          \                 1.10.16\n> > lazr.restfulclient           0.14.4\n> >\
          \ lazr.uri                     1.0.6\n> > lazy_loader                  0.2\n\
          > > libclang                     15.0.6.1\n> > librosa                 \
          \     0.10.0\n> > lightgbm                     3.3.5\n> > llvmlite     \
          \                0.38.0\n> > LunarCalendar                0.0.9\n> > lxml\
          \                         4.9.3\n> > Mako                         1.2.0\n\
          > > Markdown                     3.3.4\n> > MarkupSafe                 \
          \  2.0.1\n> > marshmallow                  3.19.0\n> > marshmallow-enum\
          \             1.5.1\n> > matplotlib                   3.5.2\n> > matplotlib-inline\
          \            0.1.6\n> > mccabe                       0.7.0\n> > mime   \
          \                      0.1.0\n> > mistune                      0.8.4\n>\
          \ > mleap                        0.20.0\n> > mlflow-skinny             \
          \   2.3.1\n> > monotonic                    1.6\n> > more-itertools    \
          \           8.10.0\n> > msgpack                      1.0.5\n> > multidict\
          \                    6.0.4\n> > multimethod                  1.9.1\n> >\
          \ multiprocess                 0.70.12.2\n> > murmurhash               \
          \    1.0.9\n> > mypy-extensions              0.4.3\n> > nbclient       \
          \              0.5.13\n> > nbconvert                    6.4.4\n> > nbformat\
          \                     5.5.0\n> > neptune-client               0.16.18\n\
          > > neptune-optuna               1.1.0\n> > nest-asyncio               \
          \  1.5.5\n> > networkx                     2.8.4\n> > nltk             \
          \            3.7\n> > nodeenv                      1.8.0\n> > notebook \
          \                    6.4.12\n> > numba                        0.55.1\n>\
          \ > numexpr                      2.8.4\n> > numpy                      \
          \  1.21.5\n> > oauthlib                     3.2.0\n> > openai          \
          \             0.27.4\n> > openapi-schema-pydantic      1.2.4\n> > openpyxl\
          \                     3.1.2\n> > opt-einsum                   3.3.0\n> >\
          \ optuna                       3.3.0\n> > packaging                    21.3\n\
          > > pandas                       1.4.4\n> > pandocfilters              \
          \  1.5.0\n> > paramiko                     2.9.2\n> > parso            \
          \            0.8.3\n> > pathspec                     0.9.0\n> > pathy  \
          \                      0.10.1\n> > patsy                        0.5.2\n\
          > > petastorm                    0.12.1\n> > pexpect                   \
          \   4.8.0\n> > phik                         0.12.3\n> > pickleshare    \
          \              0.7.5\n> > Pillow                       9.2.0\n> > pip  \
          \                        23.2.1\n> > platformdirs                 2.5.2\n\
          > > plotly                       5.9.0\n> > pluggy                     \
          \  1.0.0\n> > pmdarima                     2.0.3\n> > pooch            \
          \            1.7.0\n> > preshed                      3.0.8\n> > prompt-toolkit\
          \               3.0.36\n> > prophet                      1.1.2\n> > protobuf\
          \                     3.19.4\n> > psutil                       5.9.0\n>\
          \ > psycopg2                     2.9.3\n> > ptyprocess                 \
          \  0.7.0\n> > pure-eval                    0.2.2\n> > pyarrow          \
          \            8.0.0\n> > pyasn1                       0.4.8\n> > pyasn1-modules\
          \               0.2.8\n> > pybind11                     2.10.4\n> > pycparser\
          \                    2.21\n> > pydantic                     1.10.6\n> >\
          \ pyflakes                     3.0.1\n> > Pygments                     2.11.2\n\
          > > PyGObject                    3.42.1\n> > PyJWT                     \
          \   2.3.0\n> > PyMeeus                      0.5.12\n> > PyNaCl         \
          \              1.5.0\n> > pyodbc                       4.0.32\n> > pyparsing\
          \                    3.0.9\n> > PyPDF2                       3.0.1\n> >\
          \ pyright                      1.1.294\n> > pyrsistent                 \
          \  0.18.0\n> > pytesseract                  0.3.10\n> > python-apt     \
          \              2.4.0+ubuntu2\n> > python-dateutil              2.8.2\n>\
          \ > python-docx                  0.8.11\n> > python-editor             \
          \   1.0.4\n> > python-lsp-jsonrpc           1.0.0\n> > python-lsp-server\
          \            1.7.1\n> > python-magic                 0.4.27\n> > pytoolconfig\
          \                 1.2.2\n> > pytz                         2022.1\n> > PyWavelets\
          \                   1.3.0\n> > PyYAML                       6.0\n> > pyzmq\
          \                        23.2.0\n> > ragas                        0.0.12\n\
          > > regex                        2022.7.9\n> > requests                \
          \     2.28.1\n> > requests-oauthlib            1.3.1\n> > responses    \
          \                0.18.0\n> > rfc3339-validator            0.1.4\n> > rfc3987\
          \                      1.3.8\n> > rope                         1.7.0\n>\
          \ > rsa                          4.9\n> > s3transfer                   0.6.0\n\
          > > safetensors                  0.3.3\n> > scikit-learn               \
          \  1.1.1\n> > scipy                        1.9.1\n> > seaborn          \
          \            0.11.2\n> > SecretStorage                3.3.1\n> > Send2Trash\
          \                   1.8.0\n> > sentence-transformers        2.2.2\n> > sentencepiece\
          \                0.1.97\n> > setuptools                   63.4.1\n> > shap\
          \                         0.41.0\n> > simplejson                   3.17.6\n\
          > > six                          1.16.0\n> > skops                     \
          \   0.8.0\n> > slicer                       0.0.7\n> > smart-open      \
          \             5.2.1\n> > smmap                        5.0.0\n> > soundfile\
          \                    0.12.1\n> > soupsieve                    2.3.1\n> >\
          \ soxr                         0.3.5\n> > spacy                        3.5.1\n\
          > > spacy-cleaner                3.1.3\n> > spacy-legacy               \
          \  3.0.12\n> > spacy-loggers                1.0.4\n> > spacy-lookups-data\
          \           1.0.5\n> > spark-tensorflow-distributor 1.0.0\n> > SQLAlchemy\
          \                   1.4.39\n> > sqlparse                     0.4.2\n> >\
          \ srsly                        2.4.6\n> > ssh-import-id                5.11\n\
          > > stack-data                   0.6.2\n> > statsmodels                \
          \  0.13.2\n> > swagger-spec-validator       3.0.3\n> > tabulate        \
          \             0.8.10\n> > tangled-up-in-unicode        0.2.0\n> > tenacity\
          \                     8.1.0\n> > tensorboard                  2.11.0\n>\
          \ > tensorboard-data-server      0.6.1\n> > tensorboard-plugin-profile \
          \  2.11.2\n> > tensorboard-plugin-wit       1.8.1\n> > tensorflow      \
          \             2.11.1\n> > tensorflow-estimator         2.11.0\n> > tensorflow-io-gcs-filesystem\
          \ 0.32.0\n> > termcolor                    2.3.0\n> > terminado        \
          \            0.13.1\n> > testpath                     0.6.0\n> > thinc \
          \                       8.1.10\n> > threadpoolctl                2.2.0\n\
          > > tiktoken                     0.3.3\n> > tokenize-rt                \
          \  4.2.1\n> > tokenizers                   0.13.3\n> > tomli           \
          \             2.0.1\n> > torch                        1.13.1+cu117\n> >\
          \ torchvision                  0.14.1+cu117\n> > tornado               \
          \       6.1\n> > tqdm                         4.64.1\n> > traitlets    \
          \                5.1.1\n> > transformers                 4.33.3\n> > typeguard\
          \                    2.13.3\n> > typer                        0.7.0\n> >\
          \ typing_extensions            4.3.0\n> > typing-inspect               0.8.0\n\
          > > ujson                        5.4.0\n> > unattended-upgrades        \
          \  0.1\n> > unstructured                 0.9.0\n> > uri-template       \
          \          1.3.0\n> > urllib3                      1.26.11\n> > virtualenv\
          \                   20.16.3\n> > visions                      0.7.5\n> >\
          \ wadllib                      1.3.6\n> > wasabi                       0.10.1\n\
          > > watermark                    2.4.3\n> > wcwidth                    \
          \  0.2.5\n> > webcolors                    1.13\n> > webencodings      \
          \           0.5.1\n> > websocket-client             0.58.0\n> > Werkzeug\
          \                     2.0.3\n> > whatthepatch                 1.0.2\n> >\
          \ wheel                        0.37.1\n> > widgetsnbextension          \
          \ 3.6.1\n> > wrapt                        1.14.1\n> > xgboost          \
          \            1.7.5\n> > xxhash                       3.2.0\n> > yapf   \
          \                      0.31.0\n> > yarl                         1.9.2\n\
          > > ydata-profiling              4.1.2\n> > zipp                       \
          \  3.8.0\n> > \n> > </details>\n> > \n> > Here are two lines of the sample\
          \ code pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
          > > \n> > ```python\n> > model = AutoModelForCausalLM.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> > tokenizer = AutoTokenizer.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> > ```\n> > \n> > <details>\n> >\
          \ <summary>Here is the error I am receiving:</summary>\n> > <br>\n> > \n\
          > > ```sh\n> > ---------------------------------------------------------------------------\n\
          > > KeyError                                  Traceback (most recent call\
          \ last)\n> > File <command-4309329534262302>:1\n> > ----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> >       2 tokenizer = AutoTokenizer.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> > \n> > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path,\
          \ *model_args, **kwargs)\n> >     438     if kwargs_copy.get(\"torch_dtype\"\
          , None) == \"auto\":\n> >     439         _ = kwargs_copy.pop(\"torch_dtype\"\
          )\n> > --> 441     config, kwargs = AutoConfig.from_pretrained(\n> >   \
          \  442         pretrained_model_name_or_path,\n> >     443         return_unused_kwargs=True,\n\
          > >     444         trust_remote_code=trust_remote_code,\n> >     445  \
          \       **hub_kwargs,\n> >     446         **kwargs_copy,\n> >     447 \
          \    )\n> >     448 if hasattr(config, \"auto_map\") and cls.__name__ in\
          \ config.auto_map:\n> >     449     if not trust_remote_code:\n> > \n> >\
          \ File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
          > >     935     return config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n> >     936 elif \"model_type\" in config_dict:\n> > --> 937\
          \     config_class = CONFIG_MAPPING[config_dict[\"model_type\"]]\n> >  \
          \   938     return config_class.from_dict(config_dict, **unused_kwargs)\n\
          > >     939 else:\n> >     940     # Fallback: use pattern matching on the\
          \ string.\n> >     941     # We go from longer names to shorter names to\
          \ catch roberta before bert (for instance)\n> > \n> > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ in _LazyConfigMapping.__getitem__(self, key)\n> >     641     return self._extra_content[key]\n\
          > >     642 if key not in self._mapping:\n> > --> 643     raise KeyError(key)\n\
          > >     644 value = self._mapping[key]\n> >     645 module_name = model_type_to_module_name(key)\n\
          > > \n> > KeyError: 'mistral'\n> > ```\n> > \n> > </details>\n> \n> you\
          \ need to update the transformers package to the latest.\n\n`transformers\
          \ == 4.33.3` is not the latest?\n\nThat is what I shared above and from\
          \ what I can see on GitHub, `4.33.3` [appears to be the latest release](https://github.com/huggingface/transformers/releases)\
          \ (released 12 hours ago). "
        updatedAt: '2023-09-28T03:51:56.528Z'
      numEdits: 0
      reactions: []
    id: 6514f85c2c5da97903a6c657
    type: comment
  author: 907Resident
  content: "> > I am also getting this error as well using the sample code for this\
    \ model.\n> > \n> > <details>\n> > <summary>Here is an abbreviated environment:</summary>\n\
    > > <br>\n> > \n> > Package                            Version\n> > --------------------------\
    \     -------------\n> > absl-py                             1.0.0\n> > accelerate\
    \                       0.21.0\n> > aiohttp                             3.8.4\n\
    > > aiosignal                         1.3.1\n> > alembic                     \
    \     1.12.0\n> > appdirs                           1.4.4\n> > argon2-cffi   \
    \                 21.3.0\n> > argon2-cffi-bindings         21.2.0\n> > arrow \
    \                       1.2.3\n> > astor                        0.8.1\n> > asttokens\
    \                    2.2.1\n> > astunparse                   1.6.3\n> > async-timeout\
    \                4.0.2\n> > attrs                        21.4.0\n> > audioread\
    \                    3.0.0\n> > azure-core                   1.26.4\n> > azure-cosmos\
    \                 4.3.1b1\n> > azure-storage-blob           12.16.0\n> > azure-storage-file-datalake\
    \  12.11.0\n> > backcall                     0.2.0\n> > bcrypt               \
    \        3.2.0\n> > beautifulsoup4               4.11.1\n> > bitsandbytes    \
    \             0.41.0\n> > black                        22.6.0\n> > bleach    \
    \                   4.1.0\n> > blinker                      1.4\n> > blis    \
    \                     0.7.9\n> > boto3                        1.24.28\n> > botocore\
    \                     1.27.28\n> > bravado                      11.0.3\n> > bravado-core\
    \                 6.1.0\n> > cachetools                   4.2.4\n> > catalogue\
    \                    2.0.8\n> > category-encoders            2.6.0\n> > certifi\
    \                      2022.9.14\n> > cffi                         1.15.1\n> >\
    \ chardet                      4.0.0\n> > charset-normalizer           2.0.4\n\
    > > click                        8.0.4\n> > cloudpickle                  2.0.0\n\
    > > cmaes                        0.10.0\n> > cmdstanpy                    1.1.0\n\
    > > colorlog                     6.7.0\n> > confection                   0.0.4\n\
    > > configparser                 5.2.0\n> > convertdate                  2.4.0\n\
    > > cryptography                 37.0.1\n> > cycler                       0.11.0\n\
    > > cymem                        2.0.7\n> > Cython                       0.29.32\n\
    > > databricks-automl-runtime    0.2.16\n> > databricks-cli               0.17.6\n\
    > > databricks-feature-store     0.12.1\n> > dataclasses-json             0.5.7\n\
    > > datasets                     2.12.0\n> > dbl-tempo                    0.1.23\n\
    > > dbus-python                  1.2.18\n> > debugpy                      1.5.1\n\
    > > decorator                    5.1.1\n> > defusedxml                   0.7.1\n\
    > > dill                         0.3.4\n> > diskcache                    5.6.1\n\
    > > distlib                      0.3.6\n> > distro                       1.7.0\n\
    > > distro-info                  1.1+ubuntu0.1\n> > doc2text                 \
    \    0.2.4\n> > docstring-to-markdown        0.12\n> > einops                \
    \       0.6.1\n> > entrypoints                  0.4\n> > ephem               \
    \         4.1.4\n> > et-xmlfile                   1.1.0\n> > evaluate        \
    \             0.4.0\n> > executing                    1.2.0\n> > facets-overview\
    \              1.0.3\n> > faiss-gpu                    1.7.2\n> > fastjsonschema\
    \               2.16.3\n> > fasttext                     0.9.2\n> > filelock \
    \                    3.6.0\n> > filetype                     1.2.0\n> > Flask\
    \                        1.1.2+db1\n> > flatbuffers                  23.5.9\n\
    > > fonttools                    4.25.0\n> > fqdn                         1.5.1\n\
    > > frozenlist                   1.3.3\n> > fsspec                       2022.7.1\n\
    > > future                       0.18.2\n> > gast                         0.4.0\n\
    > > gitdb                        4.0.10\n> > GitPython                    3.1.27\n\
    > > google-api-core              2.8.2\n> > google-auth                  1.33.0\n\
    > > google-auth-oauthlib         0.4.6\n> > google-cloud-core            2.3.2\n\
    > > google-cloud-storage         2.9.0\n> > google-crc32c                1.5.0\n\
    > > google-pasta                 0.2.0\n> > google-resumable-media       2.5.0\n\
    > > googleapis-common-protos     1.56.4\n> > greenlet                     1.1.1\n\
    > > grpcio                       1.48.1\n> > grpcio-status                1.48.1\n\
    > > gunicorn                     20.1.0\n> > gviz-api                     1.10.0\n\
    > > h5py                         3.7.0\n> > hijri-converter              2.3.1\n\
    > > holidays                     0.22\n> > horovod                      0.27.0\n\
    > > htmlmin                      0.1.12\n> > httplib2                     0.20.2\n\
    > > huggingface-hub              0.17.3\n> > idna                         3.3\n\
    > > ImageHash                    4.3.1\n> > imbalanced-learn             0.8.1\n\
    > > importlib-metadata           4.11.3\n> > ipykernel                    6.17.1\n\
    > > ipython                      8.10.0\n> > ipython-genutils             0.2.0\n\
    > > ipywidgets                   7.7.2\n> > isodate                      0.6.1\n\
    > > isoduration                  20.11.0\n> > itsdangerous                 2.0.1\n\
    > > jedi                         0.18.1\n> > jeepney                      0.7.1\n\
    > > Jinja2                       2.11.3\n> > jmespath                     0.10.0\n\
    > > joblib                       1.2.0\n> > joblibspark                  0.5.1\n\
    > > jsonpointer                  2.4\n> > jsonref                      1.1.0\n\
    > > jsonschema                   4.16.0\n> > jupyter-client               7.3.4\n\
    > > jupyter_core                 4.11.2\n> > jupyterlab-pygments          0.1.2\n\
    > > jupyterlab-widgets           1.0.0\n> > keras                        2.11.0\n\
    > > keyring                      23.5.0\n> > kiwisolver                   1.4.2\n\
    > > korean-lunar-calendar        0.3.1\n> > langchain                    0.0.285\n\
    > > langcodes                    3.3.0\n> > langsmith                    0.0.41\n\
    > > launchpadlib                 1.10.16\n> > lazr.restfulclient           0.14.4\n\
    > > lazr.uri                     1.0.6\n> > lazy_loader                  0.2\n\
    > > libclang                     15.0.6.1\n> > librosa                      0.10.0\n\
    > > lightgbm                     3.3.5\n> > llvmlite                     0.38.0\n\
    > > LunarCalendar                0.0.9\n> > lxml                         4.9.3\n\
    > > Mako                         1.2.0\n> > Markdown                     3.3.4\n\
    > > MarkupSafe                   2.0.1\n> > marshmallow                  3.19.0\n\
    > > marshmallow-enum             1.5.1\n> > matplotlib                   3.5.2\n\
    > > matplotlib-inline            0.1.6\n> > mccabe                       0.7.0\n\
    > > mime                         0.1.0\n> > mistune                      0.8.4\n\
    > > mleap                        0.20.0\n> > mlflow-skinny                2.3.1\n\
    > > monotonic                    1.6\n> > more-itertools               8.10.0\n\
    > > msgpack                      1.0.5\n> > multidict                    6.0.4\n\
    > > multimethod                  1.9.1\n> > multiprocess                 0.70.12.2\n\
    > > murmurhash                   1.0.9\n> > mypy-extensions              0.4.3\n\
    > > nbclient                     0.5.13\n> > nbconvert                    6.4.4\n\
    > > nbformat                     5.5.0\n> > neptune-client               0.16.18\n\
    > > neptune-optuna               1.1.0\n> > nest-asyncio                 1.5.5\n\
    > > networkx                     2.8.4\n> > nltk                         3.7\n\
    > > nodeenv                      1.8.0\n> > notebook                     6.4.12\n\
    > > numba                        0.55.1\n> > numexpr                      2.8.4\n\
    > > numpy                        1.21.5\n> > oauthlib                     3.2.0\n\
    > > openai                       0.27.4\n> > openapi-schema-pydantic      1.2.4\n\
    > > openpyxl                     3.1.2\n> > opt-einsum                   3.3.0\n\
    > > optuna                       3.3.0\n> > packaging                    21.3\n\
    > > pandas                       1.4.4\n> > pandocfilters                1.5.0\n\
    > > paramiko                     2.9.2\n> > parso                        0.8.3\n\
    > > pathspec                     0.9.0\n> > pathy                        0.10.1\n\
    > > patsy                        0.5.2\n> > petastorm                    0.12.1\n\
    > > pexpect                      4.8.0\n> > phik                         0.12.3\n\
    > > pickleshare                  0.7.5\n> > Pillow                       9.2.0\n\
    > > pip                          23.2.1\n> > platformdirs                 2.5.2\n\
    > > plotly                       5.9.0\n> > pluggy                       1.0.0\n\
    > > pmdarima                     2.0.3\n> > pooch                        1.7.0\n\
    > > preshed                      3.0.8\n> > prompt-toolkit               3.0.36\n\
    > > prophet                      1.1.2\n> > protobuf                     3.19.4\n\
    > > psutil                       5.9.0\n> > psycopg2                     2.9.3\n\
    > > ptyprocess                   0.7.0\n> > pure-eval                    0.2.2\n\
    > > pyarrow                      8.0.0\n> > pyasn1                       0.4.8\n\
    > > pyasn1-modules               0.2.8\n> > pybind11                     2.10.4\n\
    > > pycparser                    2.21\n> > pydantic                     1.10.6\n\
    > > pyflakes                     3.0.1\n> > Pygments                     2.11.2\n\
    > > PyGObject                    3.42.1\n> > PyJWT                        2.3.0\n\
    > > PyMeeus                      0.5.12\n> > PyNaCl                       1.5.0\n\
    > > pyodbc                       4.0.32\n> > pyparsing                    3.0.9\n\
    > > PyPDF2                       3.0.1\n> > pyright                      1.1.294\n\
    > > pyrsistent                   0.18.0\n> > pytesseract                  0.3.10\n\
    > > python-apt                   2.4.0+ubuntu2\n> > python-dateutil          \
    \    2.8.2\n> > python-docx                  0.8.11\n> > python-editor       \
    \         1.0.4\n> > python-lsp-jsonrpc           1.0.0\n> > python-lsp-server\
    \            1.7.1\n> > python-magic                 0.4.27\n> > pytoolconfig\
    \                 1.2.2\n> > pytz                         2022.1\n> > PyWavelets\
    \                   1.3.0\n> > PyYAML                       6.0\n> > pyzmq   \
    \                     23.2.0\n> > ragas                        0.0.12\n> > regex\
    \                        2022.7.9\n> > requests                     2.28.1\n>\
    \ > requests-oauthlib            1.3.1\n> > responses                    0.18.0\n\
    > > rfc3339-validator            0.1.4\n> > rfc3987                      1.3.8\n\
    > > rope                         1.7.0\n> > rsa                          4.9\n\
    > > s3transfer                   0.6.0\n> > safetensors                  0.3.3\n\
    > > scikit-learn                 1.1.1\n> > scipy                        1.9.1\n\
    > > seaborn                      0.11.2\n> > SecretStorage                3.3.1\n\
    > > Send2Trash                   1.8.0\n> > sentence-transformers        2.2.2\n\
    > > sentencepiece                0.1.97\n> > setuptools                   63.4.1\n\
    > > shap                         0.41.0\n> > simplejson                   3.17.6\n\
    > > six                          1.16.0\n> > skops                        0.8.0\n\
    > > slicer                       0.0.7\n> > smart-open                   5.2.1\n\
    > > smmap                        5.0.0\n> > soundfile                    0.12.1\n\
    > > soupsieve                    2.3.1\n> > soxr                         0.3.5\n\
    > > spacy                        3.5.1\n> > spacy-cleaner                3.1.3\n\
    > > spacy-legacy                 3.0.12\n> > spacy-loggers                1.0.4\n\
    > > spacy-lookups-data           1.0.5\n> > spark-tensorflow-distributor 1.0.0\n\
    > > SQLAlchemy                   1.4.39\n> > sqlparse                     0.4.2\n\
    > > srsly                        2.4.6\n> > ssh-import-id                5.11\n\
    > > stack-data                   0.6.2\n> > statsmodels                  0.13.2\n\
    > > swagger-spec-validator       3.0.3\n> > tabulate                     0.8.10\n\
    > > tangled-up-in-unicode        0.2.0\n> > tenacity                     8.1.0\n\
    > > tensorboard                  2.11.0\n> > tensorboard-data-server      0.6.1\n\
    > > tensorboard-plugin-profile   2.11.2\n> > tensorboard-plugin-wit       1.8.1\n\
    > > tensorflow                   2.11.1\n> > tensorflow-estimator         2.11.0\n\
    > > tensorflow-io-gcs-filesystem 0.32.0\n> > termcolor                    2.3.0\n\
    > > terminado                    0.13.1\n> > testpath                     0.6.0\n\
    > > thinc                        8.1.10\n> > threadpoolctl                2.2.0\n\
    > > tiktoken                     0.3.3\n> > tokenize-rt                  4.2.1\n\
    > > tokenizers                   0.13.3\n> > tomli                        2.0.1\n\
    > > torch                        1.13.1+cu117\n> > torchvision               \
    \   0.14.1+cu117\n> > tornado                      6.1\n> > tqdm             \
    \            4.64.1\n> > traitlets                    5.1.1\n> > transformers\
    \                 4.33.3\n> > typeguard                    2.13.3\n> > typer \
    \                       0.7.0\n> > typing_extensions            4.3.0\n> > typing-inspect\
    \               0.8.0\n> > ujson                        5.4.0\n> > unattended-upgrades\
    \          0.1\n> > unstructured                 0.9.0\n> > uri-template     \
    \            1.3.0\n> > urllib3                      1.26.11\n> > virtualenv \
    \                  20.16.3\n> > visions                      0.7.5\n> > wadllib\
    \                      1.3.6\n> > wasabi                       0.10.1\n> > watermark\
    \                    2.4.3\n> > wcwidth                      0.2.5\n> > webcolors\
    \                    1.13\n> > webencodings                 0.5.1\n> > websocket-client\
    \             0.58.0\n> > Werkzeug                     2.0.3\n> > whatthepatch\
    \                 1.0.2\n> > wheel                        0.37.1\n> > widgetsnbextension\
    \           3.6.1\n> > wrapt                        1.14.1\n> > xgboost      \
    \                1.7.5\n> > xxhash                       3.2.0\n> > yapf     \
    \                    0.31.0\n> > yarl                         1.9.2\n> > ydata-profiling\
    \              4.1.2\n> > zipp                         3.8.0\n> > \n> > </details>\n\
    > > \n> > Here are two lines of the sample code pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
    > > \n> > ```python\n> > model = AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
    )\n> > tokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
    )\n> > ```\n> > \n> > <details>\n> > <summary>Here is the error I am receiving:</summary>\n\
    > > <br>\n> > \n> > ```sh\n> > ---------------------------------------------------------------------------\n\
    > > KeyError                                  Traceback (most recent call last)\n\
    > > File <command-4309329534262302>:1\n> > ----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> >       2 tokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> > \n> > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
    \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path, *model_args,\
    \ **kwargs)\n> >     438     if kwargs_copy.get(\"torch_dtype\", None) == \"auto\"\
    :\n> >     439         _ = kwargs_copy.pop(\"torch_dtype\")\n> > --> 441     config,\
    \ kwargs = AutoConfig.from_pretrained(\n> >     442         pretrained_model_name_or_path,\n\
    > >     443         return_unused_kwargs=True,\n> >     444         trust_remote_code=trust_remote_code,\n\
    > >     445         **hub_kwargs,\n> >     446         **kwargs_copy,\n> >   \
    \  447     )\n> >     448 if hasattr(config, \"auto_map\") and cls.__name__ in\
    \ config.auto_map:\n> >     449     if not trust_remote_code:\n> > \n> > File\
    \ /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
    \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
    > >     935     return config_class.from_pretrained(pretrained_model_name_or_path,\
    \ **kwargs)\n> >     936 elif \"model_type\" in config_dict:\n> > --> 937    \
    \ config_class = CONFIG_MAPPING[config_dict[\"model_type\"]]\n> >     938    \
    \ return config_class.from_dict(config_dict, **unused_kwargs)\n> >     939 else:\n\
    > >     940     # Fallback: use pattern matching on the string.\n> >     941 \
    \    # We go from longer names to shorter names to catch roberta before bert (for\
    \ instance)\n> > \n> > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
    \ in _LazyConfigMapping.__getitem__(self, key)\n> >     641     return self._extra_content[key]\n\
    > >     642 if key not in self._mapping:\n> > --> 643     raise KeyError(key)\n\
    > >     644 value = self._mapping[key]\n> >     645 module_name = model_type_to_module_name(key)\n\
    > > \n> > KeyError: 'mistral'\n> > ```\n> > \n> > </details>\n> \n> you need to\
    \ update the transformers package to the latest.\n\n`transformers == 4.33.3` is\
    \ not the latest?\n\nThat is what I shared above and from what I can see on GitHub,\
    \ `4.33.3` [appears to be the latest release](https://github.com/huggingface/transformers/releases)\
    \ (released 12 hours ago). "
  created_at: 2023-09-28 02:51:56+00:00
  edited: false
  hidden: false
  id: 6514f85c2c5da97903a6c657
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/459d822eee45f436fe4f22a817a716d9.svg
      fullname: dong xiaolong
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dongXL
      type: user
    createdAt: '2023-09-28T05:51:40.000Z'
    data:
      edited: false
      editors:
      - dongXL
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.2361099123954773
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/459d822eee45f436fe4f22a817a716d9.svg
          fullname: dong xiaolong
          isHf: false
          isPro: false
          name: dongXL
          type: user
        html: "<blockquote>\n<blockquote>\n<blockquote>\n<p>I am also getting this\
          \ error as well using the sample code for this model.</p>\n<details>\n<summary>Here\
          \ is an abbreviated environment:</summary>\n<br>\n\n<p>Package         \
          \                   Version</p>\n<hr>\n<p>absl-py                      \
          \       1.0.0<br>accelerate                       0.21.0<br>aiohttp    \
          \                         3.8.4<br>aiosignal                         1.3.1<br>alembic\
          \                          1.12.0<br>appdirs                           1.4.4<br>argon2-cffi\
          \                    21.3.0<br>argon2-cffi-bindings         21.2.0<br>arrow\
          \                        1.2.3<br>astor                        0.8.1<br>asttokens\
          \                    2.2.1<br>astunparse                   1.6.3<br>async-timeout\
          \                4.0.2<br>attrs                        21.4.0<br>audioread\
          \                    3.0.0<br>azure-core                   1.26.4<br>azure-cosmos\
          \                 4.3.1b1<br>azure-storage-blob           12.16.0<br>azure-storage-file-datalake\
          \  12.11.0<br>backcall                     0.2.0<br>bcrypt             \
          \          3.2.0<br>beautifulsoup4               4.11.1<br>bitsandbytes\
          \                 0.41.0<br>black                        22.6.0<br>bleach\
          \                       4.1.0<br>blinker                      1.4<br>blis\
          \                         0.7.9<br>boto3                        1.24.28<br>botocore\
          \                     1.27.28<br>bravado                      11.0.3<br>bravado-core\
          \                 6.1.0<br>cachetools                   4.2.4<br>catalogue\
          \                    2.0.8<br>category-encoders            2.6.0<br>certifi\
          \                      2022.9.14<br>cffi                         1.15.1<br>chardet\
          \                      4.0.0<br>charset-normalizer           2.0.4<br>click\
          \                        8.0.4<br>cloudpickle                  2.0.0<br>cmaes\
          \                        0.10.0<br>cmdstanpy                    1.1.0<br>colorlog\
          \                     6.7.0<br>confection                   0.0.4<br>configparser\
          \                 5.2.0<br>convertdate                  2.4.0<br>cryptography\
          \                 37.0.1<br>cycler                       0.11.0<br>cymem\
          \                        2.0.7<br>Cython                       0.29.32<br>databricks-automl-runtime\
          \    0.2.16<br>databricks-cli               0.17.6<br>databricks-feature-store\
          \     0.12.1<br>dataclasses-json             0.5.7<br>datasets         \
          \            2.12.0<br>dbl-tempo                    0.1.23<br>dbus-python\
          \                  1.2.18<br>debugpy                      1.5.1<br>decorator\
          \                    5.1.1<br>defusedxml                   0.7.1<br>dill\
          \                         0.3.4<br>diskcache                    5.6.1<br>distlib\
          \                      0.3.6<br>distro                       1.7.0<br>distro-info\
          \                  1.1+ubuntu0.1<br>doc2text                     0.2.4<br>docstring-to-markdown\
          \        0.12<br>einops                       0.6.1<br>entrypoints     \
          \             0.4<br>ephem                        4.1.4<br>et-xmlfile  \
          \                 1.1.0<br>evaluate                     0.4.0<br>executing\
          \                    1.2.0<br>facets-overview              1.0.3<br>faiss-gpu\
          \                    1.7.2<br>fastjsonschema               2.16.3<br>fasttext\
          \                     0.9.2<br>filelock                     3.6.0<br>filetype\
          \                     1.2.0<br>Flask                        1.1.2+db1<br>flatbuffers\
          \                  23.5.9<br>fonttools                    4.25.0<br>fqdn\
          \                         1.5.1<br>frozenlist                   1.3.3<br>fsspec\
          \                       2022.7.1<br>future                       0.18.2<br>gast\
          \                         0.4.0<br>gitdb                        4.0.10<br>GitPython\
          \                    3.1.27<br>google-api-core              2.8.2<br>google-auth\
          \                  1.33.0<br>google-auth-oauthlib         0.4.6<br>google-cloud-core\
          \            2.3.2<br>google-cloud-storage         2.9.0<br>google-crc32c\
          \                1.5.0<br>google-pasta                 0.2.0<br>google-resumable-media\
          \       2.5.0<br>googleapis-common-protos     1.56.4<br>greenlet       \
          \              1.1.1<br>grpcio                       1.48.1<br>grpcio-status\
          \                1.48.1<br>gunicorn                     20.1.0<br>gviz-api\
          \                     1.10.0<br>h5py                         3.7.0<br>hijri-converter\
          \              2.3.1<br>holidays                     0.22<br>horovod   \
          \                   0.27.0<br>htmlmin                      0.1.12<br>httplib2\
          \                     0.20.2<br>huggingface-hub              0.17.3<br>idna\
          \                         3.3<br>ImageHash                    4.3.1<br>imbalanced-learn\
          \             0.8.1<br>importlib-metadata           4.11.3<br>ipykernel\
          \                    6.17.1<br>ipython                      8.10.0<br>ipython-genutils\
          \             0.2.0<br>ipywidgets                   7.7.2<br>isodate   \
          \                   0.6.1<br>isoduration                  20.11.0<br>itsdangerous\
          \                 2.0.1<br>jedi                         0.18.1<br>jeepney\
          \                      0.7.1<br>Jinja2                       2.11.3<br>jmespath\
          \                     0.10.0<br>joblib                       1.2.0<br>joblibspark\
          \                  0.5.1<br>jsonpointer                  2.4<br>jsonref\
          \                      1.1.0<br>jsonschema                   4.16.0<br>jupyter-client\
          \               7.3.4<br>jupyter_core                 4.11.2<br>jupyterlab-pygments\
          \          0.1.2<br>jupyterlab-widgets           1.0.0<br>keras        \
          \                2.11.0<br>keyring                      23.5.0<br>kiwisolver\
          \                   1.4.2<br>korean-lunar-calendar        0.3.1<br>langchain\
          \                    0.0.285<br>langcodes                    3.3.0<br>langsmith\
          \                    0.0.41<br>launchpadlib                 1.10.16<br>lazr.restfulclient\
          \           0.14.4<br>lazr.uri                     1.0.6<br>lazy_loader\
          \                  0.2<br>libclang                     15.0.6.1<br>librosa\
          \                      0.10.0<br>lightgbm                     3.3.5<br>llvmlite\
          \                     0.38.0<br>LunarCalendar                0.0.9<br>lxml\
          \                         4.9.3<br>Mako                         1.2.0<br>Markdown\
          \                     3.3.4<br>MarkupSafe                   2.0.1<br>marshmallow\
          \                  3.19.0<br>marshmallow-enum             1.5.1<br>matplotlib\
          \                   3.5.2<br>matplotlib-inline            0.1.6<br>mccabe\
          \                       0.7.0<br>mime                         0.1.0<br>mistune\
          \                      0.8.4<br>mleap                        0.20.0<br>mlflow-skinny\
          \                2.3.1<br>monotonic                    1.6<br>more-itertools\
          \               8.10.0<br>msgpack                      1.0.5<br>multidict\
          \                    6.0.4<br>multimethod                  1.9.1<br>multiprocess\
          \                 0.70.12.2<br>murmurhash                   1.0.9<br>mypy-extensions\
          \              0.4.3<br>nbclient                     0.5.13<br>nbconvert\
          \                    6.4.4<br>nbformat                     5.5.0<br>neptune-client\
          \               0.16.18<br>neptune-optuna               1.1.0<br>nest-asyncio\
          \                 1.5.5<br>networkx                     2.8.4<br>nltk  \
          \                       3.7<br>nodeenv                      1.8.0<br>notebook\
          \                     6.4.12<br>numba                        0.55.1<br>numexpr\
          \                      2.8.4<br>numpy                        1.21.5<br>oauthlib\
          \                     3.2.0<br>openai                       0.27.4<br>openapi-schema-pydantic\
          \      1.2.4<br>openpyxl                     3.1.2<br>opt-einsum       \
          \            3.3.0<br>optuna                       3.3.0<br>packaging  \
          \                  21.3<br>pandas                       1.4.4<br>pandocfilters\
          \                1.5.0<br>paramiko                     2.9.2<br>parso  \
          \                      0.8.3<br>pathspec                     0.9.0<br>pathy\
          \                        0.10.1<br>patsy                        0.5.2<br>petastorm\
          \                    0.12.1<br>pexpect                      4.8.0<br>phik\
          \                         0.12.3<br>pickleshare                  0.7.5<br>Pillow\
          \                       9.2.0<br>pip                          23.2.1<br>platformdirs\
          \                 2.5.2<br>plotly                       5.9.0<br>pluggy\
          \                       1.0.0<br>pmdarima                     2.0.3<br>pooch\
          \                        1.7.0<br>preshed                      3.0.8<br>prompt-toolkit\
          \               3.0.36<br>prophet                      1.1.2<br>protobuf\
          \                     3.19.4<br>psutil                       5.9.0<br>psycopg2\
          \                     2.9.3<br>ptyprocess                   0.7.0<br>pure-eval\
          \                    0.2.2<br>pyarrow                      8.0.0<br>pyasn1\
          \                       0.4.8<br>pyasn1-modules               0.2.8<br>pybind11\
          \                     2.10.4<br>pycparser                    2.21<br>pydantic\
          \                     1.10.6<br>pyflakes                     3.0.1<br>Pygments\
          \                     2.11.2<br>PyGObject                    3.42.1<br>PyJWT\
          \                        2.3.0<br>PyMeeus                      0.5.12<br>PyNaCl\
          \                       1.5.0<br>pyodbc                       4.0.32<br>pyparsing\
          \                    3.0.9<br>PyPDF2                       3.0.1<br>pyright\
          \                      1.1.294<br>pyrsistent                   0.18.0<br>pytesseract\
          \                  0.3.10<br>python-apt                   2.4.0+ubuntu2<br>python-dateutil\
          \              2.8.2<br>python-docx                  0.8.11<br>python-editor\
          \                1.0.4<br>python-lsp-jsonrpc           1.0.0<br>python-lsp-server\
          \            1.7.1<br>python-magic                 0.4.27<br>pytoolconfig\
          \                 1.2.2<br>pytz                         2022.1<br>PyWavelets\
          \                   1.3.0<br>PyYAML                       6.0<br>pyzmq \
          \                       23.2.0<br>ragas                        0.0.12<br>regex\
          \                        2022.7.9<br>requests                     2.28.1<br>requests-oauthlib\
          \            1.3.1<br>responses                    0.18.0<br>rfc3339-validator\
          \            0.1.4<br>rfc3987                      1.3.8<br>rope       \
          \                  1.7.0<br>rsa                          4.9<br>s3transfer\
          \                   0.6.0<br>safetensors                  0.3.3<br>scikit-learn\
          \                 1.1.1<br>scipy                        1.9.1<br>seaborn\
          \                      0.11.2<br>SecretStorage                3.3.1<br>Send2Trash\
          \                   1.8.0<br>sentence-transformers        2.2.2<br>sentencepiece\
          \                0.1.97<br>setuptools                   63.4.1<br>shap \
          \                        0.41.0<br>simplejson                   3.17.6<br>six\
          \                          1.16.0<br>skops                        0.8.0<br>slicer\
          \                       0.0.7<br>smart-open                   5.2.1<br>smmap\
          \                        5.0.0<br>soundfile                    0.12.1<br>soupsieve\
          \                    2.3.1<br>soxr                         0.3.5<br>spacy\
          \                        3.5.1<br>spacy-cleaner                3.1.3<br>spacy-legacy\
          \                 3.0.12<br>spacy-loggers                1.0.4<br>spacy-lookups-data\
          \           1.0.5<br>spark-tensorflow-distributor 1.0.0<br>SQLAlchemy  \
          \                 1.4.39<br>sqlparse                     0.4.2<br>srsly\
          \                        2.4.6<br>ssh-import-id                5.11<br>stack-data\
          \                   0.6.2<br>statsmodels                  0.13.2<br>swagger-spec-validator\
          \       3.0.3<br>tabulate                     0.8.10<br>tangled-up-in-unicode\
          \        0.2.0<br>tenacity                     8.1.0<br>tensorboard    \
          \              2.11.0<br>tensorboard-data-server      0.6.1<br>tensorboard-plugin-profile\
          \   2.11.2<br>tensorboard-plugin-wit       1.8.1<br>tensorflow         \
          \          2.11.1<br>tensorflow-estimator         2.11.0<br>tensorflow-io-gcs-filesystem\
          \ 0.32.0<br>termcolor                    2.3.0<br>terminado            \
          \        0.13.1<br>testpath                     0.6.0<br>thinc         \
          \               8.1.10<br>threadpoolctl                2.2.0<br>tiktoken\
          \                     0.3.3<br>tokenize-rt                  4.2.1<br>tokenizers\
          \                   0.13.3<br>tomli                        2.0.1<br>torch\
          \                        1.13.1+cu117<br>torchvision                  0.14.1+cu117<br>tornado\
          \                      6.1<br>tqdm                         4.64.1<br>traitlets\
          \                    5.1.1<br>transformers                 4.33.3<br>typeguard\
          \                    2.13.3<br>typer                        0.7.0<br>typing_extensions\
          \            4.3.0<br>typing-inspect               0.8.0<br>ujson      \
          \                  5.4.0<br>unattended-upgrades          0.1<br>unstructured\
          \                 0.9.0<br>uri-template                 1.3.0<br>urllib3\
          \                      1.26.11<br>virtualenv                   20.16.3<br>visions\
          \                      0.7.5<br>wadllib                      1.3.6<br>wasabi\
          \                       0.10.1<br>watermark                    2.4.3<br>wcwidth\
          \                      0.2.5<br>webcolors                    1.13<br>webencodings\
          \                 0.5.1<br>websocket-client             0.58.0<br>Werkzeug\
          \                     2.0.3<br>whatthepatch                 1.0.2<br>wheel\
          \                        0.37.1<br>widgetsnbextension           3.6.1<br>wrapt\
          \                        1.14.1<br>xgboost                      1.7.5<br>xxhash\
          \                       3.2.0<br>yapf                         0.31.0<br>yarl\
          \                         1.9.2<br>ydata-profiling              4.1.2<br>zipp\
          \                         3.8.0</p>\n</details>\n\n<p>Here are two lines\
          \ of the sample code pulled from the <a href=\"https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1\"\
          >model card</a>:</p>\n<pre><code class=\"language-python\">model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\">\"\
          mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n</code></pre>\n<details>\n\
          <summary>Here is the error I am receiving:</summary>\n<br>\n\n<pre><code\
          \ class=\"language-sh\">---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          File &lt;command-4309329534262302&gt;:1\n----&gt; 1 model = AutoModelForCausalLM.from_pretrained(<span\
          \ class=\"hljs-string\">\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\
          \      2 tokenizer = AutoTokenizer.from_pretrained(<span class=\"hljs-string\"\
          >\"mistralai/Mistral-7B-Instruct-v0.1\"</span>)\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ <span class=\"hljs-keyword\">in</span> _BaseAutoModelClass.from_pretrained(cls,\
          \ pretrained_model_name_or_path, *model_args, **kwargs)\n    438     <span\
          \ class=\"hljs-keyword\">if</span> kwargs_copy.get(<span class=\"hljs-string\"\
          >\"torch_dtype\"</span>, None) == <span class=\"hljs-string\">\"auto\"</span>:\n\
          \    439         _ = kwargs_copy.pop(<span class=\"hljs-string\">\"torch_dtype\"\
          </span>)\n--&gt; 441     config, kwargs = AutoConfig.from_pretrained(\n\
          \    442         pretrained_model_name_or_path,\n    443         return_unused_kwargs=True,\n\
          \    444         trust_remote_code=trust_remote_code,\n    445         **hub_kwargs,\n\
          \    446         **kwargs_copy,\n    447     )\n    448 <span class=\"hljs-keyword\"\
          >if</span> hasattr(config, <span class=\"hljs-string\">\"auto_map\"</span>)\
          \ and cls.__name__ <span class=\"hljs-keyword\">in</span> config.auto_map:\n\
          \    449     <span class=\"hljs-keyword\">if</span> not trust_remote_code:\n\
          \nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ <span class=\"hljs-keyword\">in</span> AutoConfig.from_pretrained(cls,\
          \ pretrained_model_name_or_path, **kwargs)\n    935     <span class=\"hljs-built_in\"\
          >return</span> config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n    936 <span class=\"hljs-keyword\">elif</span> <span class=\"\
          hljs-string\">\"model_type\"</span> <span class=\"hljs-keyword\">in</span>\
          \ config_dict:\n--&gt; 937     config_class = CONFIG_MAPPING[config_dict[<span\
          \ class=\"hljs-string\">\"model_type\"</span>]]\n    938     <span class=\"\
          hljs-built_in\">return</span> config_class.from_dict(config_dict, **unused_kwargs)\n\
          \    939 <span class=\"hljs-keyword\">else</span>:\n    940     <span class=\"\
          hljs-comment\"># Fallback: use pattern matching on the string.</span>\n\
          \    941     <span class=\"hljs-comment\"># We go from longer names to shorter\
          \ names to catch roberta before bert (for instance)</span>\n\nFile /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ <span class=\"hljs-keyword\">in</span> _LazyConfigMapping.__getitem__(self,\
          \ key)\n    641     <span class=\"hljs-built_in\">return</span> self._extra_content[key]\n\
          \    642 <span class=\"hljs-keyword\">if</span> key not <span class=\"hljs-keyword\"\
          >in</span> self._mapping:\n--&gt; 643     raise KeyError(key)\n    644 value\
          \ = self._mapping[key]\n    645 module_name = model_type_to_module_name(key)\n\
          \nKeyError: <span class=\"hljs-string\">'mistral'</span>\n</code></pre>\n\
          </details>\n</blockquote>\n<p>you need to update the transformers package\
          \ to the latest.</p>\n</blockquote>\n<p><code>transformers == 4.33.3</code>\
          \ is not the latest?</p>\n<p>That is what I shared above and from what I\
          \ can see on GitHub, <code>4.33.3</code> <a rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/releases\"\
          >appears to be the latest release</a> (released 12 hours ago).</p>\n</blockquote>\n\
          <p>pip install git+<a rel=\"nofollow\" href=\"https://huggingface/transformers.git\"\
          >https://huggingface/transformers.git</a><br>4.34.0dev support it</p>\n"
        raw: "> > > I am also getting this error as well using the sample code for\
          \ this model.\n> > > \n> > > <details>\n> > > <summary>Here is an abbreviated\
          \ environment:</summary>\n> > > <br>\n> > > \n> > > Package            \
          \                Version\n> > > --------------------------     -------------\n\
          > > > absl-py                             1.0.0\n> > > accelerate      \
          \                 0.21.0\n> > > aiohttp                             3.8.4\n\
          > > > aiosignal                         1.3.1\n> > > alembic           \
          \               1.12.0\n> > > appdirs                           1.4.4\n\
          > > > argon2-cffi                    21.3.0\n> > > argon2-cffi-bindings\
          \         21.2.0\n> > > arrow                        1.2.3\n> > > astor\
          \                        0.8.1\n> > > asttokens                    2.2.1\n\
          > > > astunparse                   1.6.3\n> > > async-timeout          \
          \      4.0.2\n> > > attrs                        21.4.0\n> > > audioread\
          \                    3.0.0\n> > > azure-core                   1.26.4\n\
          > > > azure-cosmos                 4.3.1b1\n> > > azure-storage-blob   \
          \        12.16.0\n> > > azure-storage-file-datalake  12.11.0\n> > > backcall\
          \                     0.2.0\n> > > bcrypt                       3.2.0\n\
          > > > beautifulsoup4               4.11.1\n> > > bitsandbytes          \
          \       0.41.0\n> > > black                        22.6.0\n> > > bleach\
          \                       4.1.0\n> > > blinker                      1.4\n\
          > > > blis                         0.7.9\n> > > boto3                  \
          \      1.24.28\n> > > botocore                     1.27.28\n> > > bravado\
          \                      11.0.3\n> > > bravado-core                 6.1.0\n\
          > > > cachetools                   4.2.4\n> > > catalogue              \
          \      2.0.8\n> > > category-encoders            2.6.0\n> > > certifi  \
          \                    2022.9.14\n> > > cffi                         1.15.1\n\
          > > > chardet                      4.0.0\n> > > charset-normalizer     \
          \      2.0.4\n> > > click                        8.0.4\n> > > cloudpickle\
          \                  2.0.0\n> > > cmaes                        0.10.0\n> >\
          \ > cmdstanpy                    1.1.0\n> > > colorlog                 \
          \    6.7.0\n> > > confection                   0.0.4\n> > > configparser\
          \                 5.2.0\n> > > convertdate                  2.4.0\n> > >\
          \ cryptography                 37.0.1\n> > > cycler                    \
          \   0.11.0\n> > > cymem                        2.0.7\n> > > Cython     \
          \                  0.29.32\n> > > databricks-automl-runtime    0.2.16\n\
          > > > databricks-cli               0.17.6\n> > > databricks-feature-store\
          \     0.12.1\n> > > dataclasses-json             0.5.7\n> > > datasets \
          \                    2.12.0\n> > > dbl-tempo                    0.1.23\n\
          > > > dbus-python                  1.2.18\n> > > debugpy               \
          \       1.5.1\n> > > decorator                    5.1.1\n> > > defusedxml\
          \                   0.7.1\n> > > dill                         0.3.4\n> >\
          \ > diskcache                    5.6.1\n> > > distlib                  \
          \    0.3.6\n> > > distro                       1.7.0\n> > > distro-info\
          \                  1.1+ubuntu0.1\n> > > doc2text                     0.2.4\n\
          > > > docstring-to-markdown        0.12\n> > > einops                  \
          \     0.6.1\n> > > entrypoints                  0.4\n> > > ephem       \
          \                 4.1.4\n> > > et-xmlfile                   1.1.0\n> > >\
          \ evaluate                     0.4.0\n> > > executing                  \
          \  1.2.0\n> > > facets-overview              1.0.3\n> > > faiss-gpu    \
          \                1.7.2\n> > > fastjsonschema               2.16.3\n> > >\
          \ fasttext                     0.9.2\n> > > filelock                   \
          \  3.6.0\n> > > filetype                     1.2.0\n> > > Flask        \
          \                1.1.2+db1\n> > > flatbuffers                  23.5.9\n\
          > > > fonttools                    4.25.0\n> > > fqdn                  \
          \       1.5.1\n> > > frozenlist                   1.3.3\n> > > fsspec  \
          \                     2022.7.1\n> > > future                       0.18.2\n\
          > > > gast                         0.4.0\n> > > gitdb                  \
          \      4.0.10\n> > > GitPython                    3.1.27\n> > > google-api-core\
          \              2.8.2\n> > > google-auth                  1.33.0\n> > > google-auth-oauthlib\
          \         0.4.6\n> > > google-cloud-core            2.3.2\n> > > google-cloud-storage\
          \         2.9.0\n> > > google-crc32c                1.5.0\n> > > google-pasta\
          \                 0.2.0\n> > > google-resumable-media       2.5.0\n> > >\
          \ googleapis-common-protos     1.56.4\n> > > greenlet                  \
          \   1.1.1\n> > > grpcio                       1.48.1\n> > > grpcio-status\
          \                1.48.1\n> > > gunicorn                     20.1.0\n> >\
          \ > gviz-api                     1.10.0\n> > > h5py                    \
          \     3.7.0\n> > > hijri-converter              2.3.1\n> > > holidays  \
          \                   0.22\n> > > horovod                      0.27.0\n> >\
          \ > htmlmin                      0.1.12\n> > > httplib2                \
          \     0.20.2\n> > > huggingface-hub              0.17.3\n> > > idna    \
          \                     3.3\n> > > ImageHash                    4.3.1\n> >\
          \ > imbalanced-learn             0.8.1\n> > > importlib-metadata       \
          \    4.11.3\n> > > ipykernel                    6.17.1\n> > > ipython  \
          \                    8.10.0\n> > > ipython-genutils             0.2.0\n\
          > > > ipywidgets                   7.7.2\n> > > isodate                \
          \      0.6.1\n> > > isoduration                  20.11.0\n> > > itsdangerous\
          \                 2.0.1\n> > > jedi                         0.18.1\n> >\
          \ > jeepney                      0.7.1\n> > > Jinja2                   \
          \    2.11.3\n> > > jmespath                     0.10.0\n> > > joblib   \
          \                    1.2.0\n> > > joblibspark                  0.5.1\n>\
          \ > > jsonpointer                  2.4\n> > > jsonref                  \
          \    1.1.0\n> > > jsonschema                   4.16.0\n> > > jupyter-client\
          \               7.3.4\n> > > jupyter_core                 4.11.2\n> > >\
          \ jupyterlab-pygments          0.1.2\n> > > jupyterlab-widgets         \
          \  1.0.0\n> > > keras                        2.11.0\n> > > keyring     \
          \                 23.5.0\n> > > kiwisolver                   1.4.2\n> >\
          \ > korean-lunar-calendar        0.3.1\n> > > langchain                \
          \    0.0.285\n> > > langcodes                    3.3.0\n> > > langsmith\
          \                    0.0.41\n> > > launchpadlib                 1.10.16\n\
          > > > lazr.restfulclient           0.14.4\n> > > lazr.uri              \
          \       1.0.6\n> > > lazy_loader                  0.2\n> > > libclang  \
          \                   15.0.6.1\n> > > librosa                      0.10.0\n\
          > > > lightgbm                     3.3.5\n> > > llvmlite               \
          \      0.38.0\n> > > LunarCalendar                0.0.9\n> > > lxml    \
          \                     4.9.3\n> > > Mako                         1.2.0\n\
          > > > Markdown                     3.3.4\n> > > MarkupSafe             \
          \      2.0.1\n> > > marshmallow                  3.19.0\n> > > marshmallow-enum\
          \             1.5.1\n> > > matplotlib                   3.5.2\n> > > matplotlib-inline\
          \            0.1.6\n> > > mccabe                       0.7.0\n> > > mime\
          \                         0.1.0\n> > > mistune                      0.8.4\n\
          > > > mleap                        0.20.0\n> > > mlflow-skinny         \
          \       2.3.1\n> > > monotonic                    1.6\n> > > more-itertools\
          \               8.10.0\n> > > msgpack                      1.0.5\n> > >\
          \ multidict                    6.0.4\n> > > multimethod                \
          \  1.9.1\n> > > multiprocess                 0.70.12.2\n> > > murmurhash\
          \                   1.0.9\n> > > mypy-extensions              0.4.3\n> >\
          \ > nbclient                     0.5.13\n> > > nbconvert               \
          \     6.4.4\n> > > nbformat                     5.5.0\n> > > neptune-client\
          \               0.16.18\n> > > neptune-optuna               1.1.0\n> > >\
          \ nest-asyncio                 1.5.5\n> > > networkx                   \
          \  2.8.4\n> > > nltk                         3.7\n> > > nodeenv        \
          \              1.8.0\n> > > notebook                     6.4.12\n> > > numba\
          \                        0.55.1\n> > > numexpr                      2.8.4\n\
          > > > numpy                        1.21.5\n> > > oauthlib              \
          \       3.2.0\n> > > openai                       0.27.4\n> > > openapi-schema-pydantic\
          \      1.2.4\n> > > openpyxl                     3.1.2\n> > > opt-einsum\
          \                   3.3.0\n> > > optuna                       3.3.0\n> >\
          \ > packaging                    21.3\n> > > pandas                    \
          \   1.4.4\n> > > pandocfilters                1.5.0\n> > > paramiko    \
          \                 2.9.2\n> > > parso                        0.8.3\n> > >\
          \ pathspec                     0.9.0\n> > > pathy                      \
          \  0.10.1\n> > > patsy                        0.5.2\n> > > petastorm   \
          \                 0.12.1\n> > > pexpect                      4.8.0\n> >\
          \ > phik                         0.12.3\n> > > pickleshare             \
          \     0.7.5\n> > > Pillow                       9.2.0\n> > > pip       \
          \                   23.2.1\n> > > platformdirs                 2.5.2\n>\
          \ > > plotly                       5.9.0\n> > > pluggy                 \
          \      1.0.0\n> > > pmdarima                     2.0.3\n> > > pooch    \
          \                    1.7.0\n> > > preshed                      3.0.8\n>\
          \ > > prompt-toolkit               3.0.36\n> > > prophet               \
          \       1.1.2\n> > > protobuf                     3.19.4\n> > > psutil \
          \                      5.9.0\n> > > psycopg2                     2.9.3\n\
          > > > ptyprocess                   0.7.0\n> > > pure-eval              \
          \      0.2.2\n> > > pyarrow                      8.0.0\n> > > pyasn1   \
          \                    0.4.8\n> > > pyasn1-modules               0.2.8\n>\
          \ > > pybind11                     2.10.4\n> > > pycparser             \
          \       2.21\n> > > pydantic                     1.10.6\n> > > pyflakes\
          \                     3.0.1\n> > > Pygments                     2.11.2\n\
          > > > PyGObject                    3.42.1\n> > > PyJWT                 \
          \       2.3.0\n> > > PyMeeus                      0.5.12\n> > > PyNaCl \
          \                      1.5.0\n> > > pyodbc                       4.0.32\n\
          > > > pyparsing                    3.0.9\n> > > PyPDF2                 \
          \      3.0.1\n> > > pyright                      1.1.294\n> > > pyrsistent\
          \                   0.18.0\n> > > pytesseract                  0.3.10\n\
          > > > python-apt                   2.4.0+ubuntu2\n> > > python-dateutil\
          \              2.8.2\n> > > python-docx                  0.8.11\n> > > python-editor\
          \                1.0.4\n> > > python-lsp-jsonrpc           1.0.0\n> > >\
          \ python-lsp-server            1.7.1\n> > > python-magic               \
          \  0.4.27\n> > > pytoolconfig                 1.2.2\n> > > pytz        \
          \                 2022.1\n> > > PyWavelets                   1.3.0\n> >\
          \ > PyYAML                       6.0\n> > > pyzmq                      \
          \  23.2.0\n> > > ragas                        0.0.12\n> > > regex      \
          \                  2022.7.9\n> > > requests                     2.28.1\n\
          > > > requests-oauthlib            1.3.1\n> > > responses              \
          \      0.18.0\n> > > rfc3339-validator            0.1.4\n> > > rfc3987 \
          \                     1.3.8\n> > > rope                         1.7.0\n\
          > > > rsa                          4.9\n> > > s3transfer               \
          \    0.6.0\n> > > safetensors                  0.3.3\n> > > scikit-learn\
          \                 1.1.1\n> > > scipy                        1.9.1\n> > >\
          \ seaborn                      0.11.2\n> > > SecretStorage             \
          \   3.3.1\n> > > Send2Trash                   1.8.0\n> > > sentence-transformers\
          \        2.2.2\n> > > sentencepiece                0.1.97\n> > > setuptools\
          \                   63.4.1\n> > > shap                         0.41.0\n\
          > > > simplejson                   3.17.6\n> > > six                   \
          \       1.16.0\n> > > skops                        0.8.0\n> > > slicer \
          \                      0.0.7\n> > > smart-open                   5.2.1\n\
          > > > smmap                        5.0.0\n> > > soundfile              \
          \      0.12.1\n> > > soupsieve                    2.3.1\n> > > soxr    \
          \                     0.3.5\n> > > spacy                        3.5.1\n\
          > > > spacy-cleaner                3.1.3\n> > > spacy-legacy           \
          \      3.0.12\n> > > spacy-loggers                1.0.4\n> > > spacy-lookups-data\
          \           1.0.5\n> > > spark-tensorflow-distributor 1.0.0\n> > > SQLAlchemy\
          \                   1.4.39\n> > > sqlparse                     0.4.2\n>\
          \ > > srsly                        2.4.6\n> > > ssh-import-id          \
          \      5.11\n> > > stack-data                   0.6.2\n> > > statsmodels\
          \                  0.13.2\n> > > swagger-spec-validator       3.0.3\n> >\
          \ > tabulate                     0.8.10\n> > > tangled-up-in-unicode   \
          \     0.2.0\n> > > tenacity                     8.1.0\n> > > tensorboard\
          \                  2.11.0\n> > > tensorboard-data-server      0.6.1\n> >\
          \ > tensorboard-plugin-profile   2.11.2\n> > > tensorboard-plugin-wit  \
          \     1.8.1\n> > > tensorflow                   2.11.1\n> > > tensorflow-estimator\
          \         2.11.0\n> > > tensorflow-io-gcs-filesystem 0.32.0\n> > > termcolor\
          \                    2.3.0\n> > > terminado                    0.13.1\n\
          > > > testpath                     0.6.0\n> > > thinc                  \
          \      8.1.10\n> > > threadpoolctl                2.2.0\n> > > tiktoken\
          \                     0.3.3\n> > > tokenize-rt                  4.2.1\n\
          > > > tokenizers                   0.13.3\n> > > tomli                 \
          \       2.0.1\n> > > torch                        1.13.1+cu117\n> > > torchvision\
          \                  0.14.1+cu117\n> > > tornado                      6.1\n\
          > > > tqdm                         4.64.1\n> > > traitlets             \
          \       5.1.1\n> > > transformers                 4.33.3\n> > > typeguard\
          \                    2.13.3\n> > > typer                        0.7.0\n\
          > > > typing_extensions            4.3.0\n> > > typing-inspect         \
          \      0.8.0\n> > > ujson                        5.4.0\n> > > unattended-upgrades\
          \          0.1\n> > > unstructured                 0.9.0\n> > > uri-template\
          \                 1.3.0\n> > > urllib3                      1.26.11\n> >\
          \ > virtualenv                   20.16.3\n> > > visions                \
          \      0.7.5\n> > > wadllib                      1.3.6\n> > > wasabi   \
          \                    0.10.1\n> > > watermark                    2.4.3\n\
          > > > wcwidth                      0.2.5\n> > > webcolors              \
          \      1.13\n> > > webencodings                 0.5.1\n> > > websocket-client\
          \             0.58.0\n> > > Werkzeug                     2.0.3\n> > > whatthepatch\
          \                 1.0.2\n> > > wheel                        0.37.1\n> >\
          \ > widgetsnbextension           3.6.1\n> > > wrapt                    \
          \    1.14.1\n> > > xgboost                      1.7.5\n> > > xxhash    \
          \                   3.2.0\n> > > yapf                         0.31.0\n>\
          \ > > yarl                         1.9.2\n> > > ydata-profiling        \
          \      4.1.2\n> > > zipp                         3.8.0\n> > > \n> > > </details>\n\
          > > > \n> > > Here are two lines of the sample code pulled from the [model\
          \ card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n> >\
          \ > \n> > > ```python\n> > > model = AutoModelForCausalLM.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> > > tokenizer = AutoTokenizer.from_pretrained(\"\
          mistralai/Mistral-7B-Instruct-v0.1\")\n> > > ```\n> > > \n> > > <details>\n\
          > > > <summary>Here is the error I am receiving:</summary>\n> > > <br>\n\
          > > > \n> > > ```sh\n> > > ---------------------------------------------------------------------------\n\
          > > > KeyError                                  Traceback (most recent call\
          \ last)\n> > > File <command-4309329534262302>:1\n> > > ----> 1 model =\
          \ AutoModelForCausalLM.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\n> > >       2 tokenizer = AutoTokenizer.from_pretrained(\"mistralai/Mistral-7B-Instruct-v0.1\"\
          )\n> > > \n> > > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
          \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path,\
          \ *model_args, **kwargs)\n> > >     438     if kwargs_copy.get(\"torch_dtype\"\
          , None) == \"auto\":\n> > >     439         _ = kwargs_copy.pop(\"torch_dtype\"\
          )\n> > > --> 441     config, kwargs = AutoConfig.from_pretrained(\n> > >\
          \     442         pretrained_model_name_or_path,\n> > >     443        \
          \ return_unused_kwargs=True,\n> > >     444         trust_remote_code=trust_remote_code,\n\
          > > >     445         **hub_kwargs,\n> > >     446         **kwargs_copy,\n\
          > > >     447     )\n> > >     448 if hasattr(config, \"auto_map\") and\
          \ cls.__name__ in config.auto_map:\n> > >     449     if not trust_remote_code:\n\
          > > > \n> > > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
          \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
          > > >     935     return config_class.from_pretrained(pretrained_model_name_or_path,\
          \ **kwargs)\n> > >     936 elif \"model_type\" in config_dict:\n> > > -->\
          \ 937     config_class = CONFIG_MAPPING[config_dict[\"model_type\"]]\n>\
          \ > >     938     return config_class.from_dict(config_dict, **unused_kwargs)\n\
          > > >     939 else:\n> > >     940     # Fallback: use pattern matching\
          \ on the string.\n> > >     941     # We go from longer names to shorter\
          \ names to catch roberta before bert (for instance)\n> > > \n> > > File\
          \ /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
          \ in _LazyConfigMapping.__getitem__(self, key)\n> > >     641     return\
          \ self._extra_content[key]\n> > >     642 if key not in self._mapping:\n\
          > > > --> 643     raise KeyError(key)\n> > >     644 value = self._mapping[key]\n\
          > > >     645 module_name = model_type_to_module_name(key)\n> > > \n> >\
          \ > KeyError: 'mistral'\n> > > ```\n> > > \n> > > </details>\n> > \n> >\
          \ you need to update the transformers package to the latest.\n> \n> `transformers\
          \ == 4.33.3` is not the latest?\n> \n> That is what I shared above and from\
          \ what I can see on GitHub, `4.33.3` [appears to be the latest release](https://github.com/huggingface/transformers/releases)\
          \ (released 12 hours ago).\n\npip install git+https://huggingface/transformers.git\
          \   \n4.34.0dev support it"
        updatedAt: '2023-09-28T05:51:40.770Z'
      numEdits: 0
      reactions: []
    id: 6515146c6e0d30ed7e149bed
    type: comment
  author: dongXL
  content: "> > > I am also getting this error as well using the sample code for this\
    \ model.\n> > > \n> > > <details>\n> > > <summary>Here is an abbreviated environment:</summary>\n\
    > > > <br>\n> > > \n> > > Package                            Version\n> > > --------------------------\
    \     -------------\n> > > absl-py                             1.0.0\n> > > accelerate\
    \                       0.21.0\n> > > aiohttp                             3.8.4\n\
    > > > aiosignal                         1.3.1\n> > > alembic                 \
    \         1.12.0\n> > > appdirs                           1.4.4\n> > > argon2-cffi\
    \                    21.3.0\n> > > argon2-cffi-bindings         21.2.0\n> > >\
    \ arrow                        1.2.3\n> > > astor                        0.8.1\n\
    > > > asttokens                    2.2.1\n> > > astunparse                   1.6.3\n\
    > > > async-timeout                4.0.2\n> > > attrs                        21.4.0\n\
    > > > audioread                    3.0.0\n> > > azure-core                   1.26.4\n\
    > > > azure-cosmos                 4.3.1b1\n> > > azure-storage-blob         \
    \  12.16.0\n> > > azure-storage-file-datalake  12.11.0\n> > > backcall       \
    \              0.2.0\n> > > bcrypt                       3.2.0\n> > > beautifulsoup4\
    \               4.11.1\n> > > bitsandbytes                 0.41.0\n> > > black\
    \                        22.6.0\n> > > bleach                       4.1.0\n> >\
    \ > blinker                      1.4\n> > > blis                         0.7.9\n\
    > > > boto3                        1.24.28\n> > > botocore                   \
    \  1.27.28\n> > > bravado                      11.0.3\n> > > bravado-core    \
    \             6.1.0\n> > > cachetools                   4.2.4\n> > > catalogue\
    \                    2.0.8\n> > > category-encoders            2.6.0\n> > > certifi\
    \                      2022.9.14\n> > > cffi                         1.15.1\n\
    > > > chardet                      4.0.0\n> > > charset-normalizer           2.0.4\n\
    > > > click                        8.0.4\n> > > cloudpickle                  2.0.0\n\
    > > > cmaes                        0.10.0\n> > > cmdstanpy                   \
    \ 1.1.0\n> > > colorlog                     6.7.0\n> > > confection          \
    \         0.0.4\n> > > configparser                 5.2.0\n> > > convertdate \
    \                 2.4.0\n> > > cryptography                 37.0.1\n> > > cycler\
    \                       0.11.0\n> > > cymem                        2.0.7\n> >\
    \ > Cython                       0.29.32\n> > > databricks-automl-runtime    0.2.16\n\
    > > > databricks-cli               0.17.6\n> > > databricks-feature-store    \
    \ 0.12.1\n> > > dataclasses-json             0.5.7\n> > > datasets           \
    \          2.12.0\n> > > dbl-tempo                    0.1.23\n> > > dbus-python\
    \                  1.2.18\n> > > debugpy                      1.5.1\n> > > decorator\
    \                    5.1.1\n> > > defusedxml                   0.7.1\n> > > dill\
    \                         0.3.4\n> > > diskcache                    5.6.1\n> >\
    \ > distlib                      0.3.6\n> > > distro                       1.7.0\n\
    > > > distro-info                  1.1+ubuntu0.1\n> > > doc2text             \
    \        0.2.4\n> > > docstring-to-markdown        0.12\n> > > einops        \
    \               0.6.1\n> > > entrypoints                  0.4\n> > > ephem   \
    \                     4.1.4\n> > > et-xmlfile                   1.1.0\n> > > evaluate\
    \                     0.4.0\n> > > executing                    1.2.0\n> > > facets-overview\
    \              1.0.3\n> > > faiss-gpu                    1.7.2\n> > > fastjsonschema\
    \               2.16.3\n> > > fasttext                     0.9.2\n> > > filelock\
    \                     3.6.0\n> > > filetype                     1.2.0\n> > > Flask\
    \                        1.1.2+db1\n> > > flatbuffers                  23.5.9\n\
    > > > fonttools                    4.25.0\n> > > fqdn                        \
    \ 1.5.1\n> > > frozenlist                   1.3.3\n> > > fsspec              \
    \         2022.7.1\n> > > future                       0.18.2\n> > > gast    \
    \                     0.4.0\n> > > gitdb                        4.0.10\n> > >\
    \ GitPython                    3.1.27\n> > > google-api-core              2.8.2\n\
    > > > google-auth                  1.33.0\n> > > google-auth-oauthlib        \
    \ 0.4.6\n> > > google-cloud-core            2.3.2\n> > > google-cloud-storage\
    \         2.9.0\n> > > google-crc32c                1.5.0\n> > > google-pasta\
    \                 0.2.0\n> > > google-resumable-media       2.5.0\n> > > googleapis-common-protos\
    \     1.56.4\n> > > greenlet                     1.1.1\n> > > grpcio         \
    \              1.48.1\n> > > grpcio-status                1.48.1\n> > > gunicorn\
    \                     20.1.0\n> > > gviz-api                     1.10.0\n> > >\
    \ h5py                         3.7.0\n> > > hijri-converter              2.3.1\n\
    > > > holidays                     0.22\n> > > horovod                      0.27.0\n\
    > > > htmlmin                      0.1.12\n> > > httplib2                    \
    \ 0.20.2\n> > > huggingface-hub              0.17.3\n> > > idna              \
    \           3.3\n> > > ImageHash                    4.3.1\n> > > imbalanced-learn\
    \             0.8.1\n> > > importlib-metadata           4.11.3\n> > > ipykernel\
    \                    6.17.1\n> > > ipython                      8.10.0\n> > >\
    \ ipython-genutils             0.2.0\n> > > ipywidgets                   7.7.2\n\
    > > > isodate                      0.6.1\n> > > isoduration                  20.11.0\n\
    > > > itsdangerous                 2.0.1\n> > > jedi                         0.18.1\n\
    > > > jeepney                      0.7.1\n> > > Jinja2                       2.11.3\n\
    > > > jmespath                     0.10.0\n> > > joblib                      \
    \ 1.2.0\n> > > joblibspark                  0.5.1\n> > > jsonpointer         \
    \         2.4\n> > > jsonref                      1.1.0\n> > > jsonschema    \
    \               4.16.0\n> > > jupyter-client               7.3.4\n> > > jupyter_core\
    \                 4.11.2\n> > > jupyterlab-pygments          0.1.2\n> > > jupyterlab-widgets\
    \           1.0.0\n> > > keras                        2.11.0\n> > > keyring  \
    \                    23.5.0\n> > > kiwisolver                   1.4.2\n> > > korean-lunar-calendar\
    \        0.3.1\n> > > langchain                    0.0.285\n> > > langcodes  \
    \                  3.3.0\n> > > langsmith                    0.0.41\n> > > launchpadlib\
    \                 1.10.16\n> > > lazr.restfulclient           0.14.4\n> > > lazr.uri\
    \                     1.0.6\n> > > lazy_loader                  0.2\n> > > libclang\
    \                     15.0.6.1\n> > > librosa                      0.10.0\n> >\
    \ > lightgbm                     3.3.5\n> > > llvmlite                     0.38.0\n\
    > > > LunarCalendar                0.0.9\n> > > lxml                         4.9.3\n\
    > > > Mako                         1.2.0\n> > > Markdown                     3.3.4\n\
    > > > MarkupSafe                   2.0.1\n> > > marshmallow                  3.19.0\n\
    > > > marshmallow-enum             1.5.1\n> > > matplotlib                   3.5.2\n\
    > > > matplotlib-inline            0.1.6\n> > > mccabe                       0.7.0\n\
    > > > mime                         0.1.0\n> > > mistune                      0.8.4\n\
    > > > mleap                        0.20.0\n> > > mlflow-skinny               \
    \ 2.3.1\n> > > monotonic                    1.6\n> > > more-itertools        \
    \       8.10.0\n> > > msgpack                      1.0.5\n> > > multidict    \
    \                6.0.4\n> > > multimethod                  1.9.1\n> > > multiprocess\
    \                 0.70.12.2\n> > > murmurhash                   1.0.9\n> > > mypy-extensions\
    \              0.4.3\n> > > nbclient                     0.5.13\n> > > nbconvert\
    \                    6.4.4\n> > > nbformat                     5.5.0\n> > > neptune-client\
    \               0.16.18\n> > > neptune-optuna               1.1.0\n> > > nest-asyncio\
    \                 1.5.5\n> > > networkx                     2.8.4\n> > > nltk\
    \                         3.7\n> > > nodeenv                      1.8.0\n> > >\
    \ notebook                     6.4.12\n> > > numba                        0.55.1\n\
    > > > numexpr                      2.8.4\n> > > numpy                        1.21.5\n\
    > > > oauthlib                     3.2.0\n> > > openai                       0.27.4\n\
    > > > openapi-schema-pydantic      1.2.4\n> > > openpyxl                     3.1.2\n\
    > > > opt-einsum                   3.3.0\n> > > optuna                       3.3.0\n\
    > > > packaging                    21.3\n> > > pandas                       1.4.4\n\
    > > > pandocfilters                1.5.0\n> > > paramiko                     2.9.2\n\
    > > > parso                        0.8.3\n> > > pathspec                     0.9.0\n\
    > > > pathy                        0.10.1\n> > > patsy                       \
    \ 0.5.2\n> > > petastorm                    0.12.1\n> > > pexpect            \
    \          4.8.0\n> > > phik                         0.12.3\n> > > pickleshare\
    \                  0.7.5\n> > > Pillow                       9.2.0\n> > > pip\
    \                          23.2.1\n> > > platformdirs                 2.5.2\n\
    > > > plotly                       5.9.0\n> > > pluggy                       1.0.0\n\
    > > > pmdarima                     2.0.3\n> > > pooch                        1.7.0\n\
    > > > preshed                      3.0.8\n> > > prompt-toolkit               3.0.36\n\
    > > > prophet                      1.1.2\n> > > protobuf                     3.19.4\n\
    > > > psutil                       5.9.0\n> > > psycopg2                     2.9.3\n\
    > > > ptyprocess                   0.7.0\n> > > pure-eval                    0.2.2\n\
    > > > pyarrow                      8.0.0\n> > > pyasn1                       0.4.8\n\
    > > > pyasn1-modules               0.2.8\n> > > pybind11                     2.10.4\n\
    > > > pycparser                    2.21\n> > > pydantic                     1.10.6\n\
    > > > pyflakes                     3.0.1\n> > > Pygments                     2.11.2\n\
    > > > PyGObject                    3.42.1\n> > > PyJWT                       \
    \ 2.3.0\n> > > PyMeeus                      0.5.12\n> > > PyNaCl             \
    \          1.5.0\n> > > pyodbc                       4.0.32\n> > > pyparsing \
    \                   3.0.9\n> > > PyPDF2                       3.0.1\n> > > pyright\
    \                      1.1.294\n> > > pyrsistent                   0.18.0\n> >\
    \ > pytesseract                  0.3.10\n> > > python-apt                   2.4.0+ubuntu2\n\
    > > > python-dateutil              2.8.2\n> > > python-docx                  0.8.11\n\
    > > > python-editor                1.0.4\n> > > python-lsp-jsonrpc           1.0.0\n\
    > > > python-lsp-server            1.7.1\n> > > python-magic                 0.4.27\n\
    > > > pytoolconfig                 1.2.2\n> > > pytz                         2022.1\n\
    > > > PyWavelets                   1.3.0\n> > > PyYAML                       6.0\n\
    > > > pyzmq                        23.2.0\n> > > ragas                       \
    \ 0.0.12\n> > > regex                        2022.7.9\n> > > requests        \
    \             2.28.1\n> > > requests-oauthlib            1.3.1\n> > > responses\
    \                    0.18.0\n> > > rfc3339-validator            0.1.4\n> > > rfc3987\
    \                      1.3.8\n> > > rope                         1.7.0\n> > >\
    \ rsa                          4.9\n> > > s3transfer                   0.6.0\n\
    > > > safetensors                  0.3.3\n> > > scikit-learn                 1.1.1\n\
    > > > scipy                        1.9.1\n> > > seaborn                      0.11.2\n\
    > > > SecretStorage                3.3.1\n> > > Send2Trash                   1.8.0\n\
    > > > sentence-transformers        2.2.2\n> > > sentencepiece                0.1.97\n\
    > > > setuptools                   63.4.1\n> > > shap                        \
    \ 0.41.0\n> > > simplejson                   3.17.6\n> > > six               \
    \           1.16.0\n> > > skops                        0.8.0\n> > > slicer   \
    \                    0.0.7\n> > > smart-open                   5.2.1\n> > > smmap\
    \                        5.0.0\n> > > soundfile                    0.12.1\n> >\
    \ > soupsieve                    2.3.1\n> > > soxr                         0.3.5\n\
    > > > spacy                        3.5.1\n> > > spacy-cleaner                3.1.3\n\
    > > > spacy-legacy                 3.0.12\n> > > spacy-loggers               \
    \ 1.0.4\n> > > spacy-lookups-data           1.0.5\n> > > spark-tensorflow-distributor\
    \ 1.0.0\n> > > SQLAlchemy                   1.4.39\n> > > sqlparse           \
    \          0.4.2\n> > > srsly                        2.4.6\n> > > ssh-import-id\
    \                5.11\n> > > stack-data                   0.6.2\n> > > statsmodels\
    \                  0.13.2\n> > > swagger-spec-validator       3.0.3\n> > > tabulate\
    \                     0.8.10\n> > > tangled-up-in-unicode        0.2.0\n> > >\
    \ tenacity                     8.1.0\n> > > tensorboard                  2.11.0\n\
    > > > tensorboard-data-server      0.6.1\n> > > tensorboard-plugin-profile   2.11.2\n\
    > > > tensorboard-plugin-wit       1.8.1\n> > > tensorflow                   2.11.1\n\
    > > > tensorflow-estimator         2.11.0\n> > > tensorflow-io-gcs-filesystem\
    \ 0.32.0\n> > > termcolor                    2.3.0\n> > > terminado          \
    \          0.13.1\n> > > testpath                     0.6.0\n> > > thinc     \
    \                   8.1.10\n> > > threadpoolctl                2.2.0\n> > > tiktoken\
    \                     0.3.3\n> > > tokenize-rt                  4.2.1\n> > > tokenizers\
    \                   0.13.3\n> > > tomli                        2.0.1\n> > > torch\
    \                        1.13.1+cu117\n> > > torchvision                  0.14.1+cu117\n\
    > > > tornado                      6.1\n> > > tqdm                         4.64.1\n\
    > > > traitlets                    5.1.1\n> > > transformers                 4.33.3\n\
    > > > typeguard                    2.13.3\n> > > typer                       \
    \ 0.7.0\n> > > typing_extensions            4.3.0\n> > > typing-inspect      \
    \         0.8.0\n> > > ujson                        5.4.0\n> > > unattended-upgrades\
    \          0.1\n> > > unstructured                 0.9.0\n> > > uri-template \
    \                1.3.0\n> > > urllib3                      1.26.11\n> > > virtualenv\
    \                   20.16.3\n> > > visions                      0.7.5\n> > > wadllib\
    \                      1.3.6\n> > > wasabi                       0.10.1\n> > >\
    \ watermark                    2.4.3\n> > > wcwidth                      0.2.5\n\
    > > > webcolors                    1.13\n> > > webencodings                 0.5.1\n\
    > > > websocket-client             0.58.0\n> > > Werkzeug                    \
    \ 2.0.3\n> > > whatthepatch                 1.0.2\n> > > wheel               \
    \         0.37.1\n> > > widgetsnbextension           3.6.1\n> > > wrapt      \
    \                  1.14.1\n> > > xgboost                      1.7.5\n> > > xxhash\
    \                       3.2.0\n> > > yapf                         0.31.0\n> >\
    \ > yarl                         1.9.2\n> > > ydata-profiling              4.1.2\n\
    > > > zipp                         3.8.0\n> > > \n> > > </details>\n> > > \n>\
    \ > > Here are two lines of the sample code pulled from the [model card](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1):\n\
    > > > \n> > > ```python\n> > > model = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> > > tokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> > > ```\n> > > \n> > > <details>\n> >\
    \ > <summary>Here is the error I am receiving:</summary>\n> > > <br>\n> > > \n\
    > > > ```sh\n> > > ---------------------------------------------------------------------------\n\
    > > > KeyError                                  Traceback (most recent call last)\n\
    > > > File <command-4309329534262302>:1\n> > > ----> 1 model = AutoModelForCausalLM.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> > >       2 tokenizer = AutoTokenizer.from_pretrained(\"\
    mistralai/Mistral-7B-Instruct-v0.1\")\n> > > \n> > > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py:441,\
    \ in _BaseAutoModelClass.from_pretrained(cls, pretrained_model_name_or_path, *model_args,\
    \ **kwargs)\n> > >     438     if kwargs_copy.get(\"torch_dtype\", None) == \"\
    auto\":\n> > >     439         _ = kwargs_copy.pop(\"torch_dtype\")\n> > > -->\
    \ 441     config, kwargs = AutoConfig.from_pretrained(\n> > >     442        \
    \ pretrained_model_name_or_path,\n> > >     443         return_unused_kwargs=True,\n\
    > > >     444         trust_remote_code=trust_remote_code,\n> > >     445    \
    \     **hub_kwargs,\n> > >     446         **kwargs_copy,\n> > >     447     )\n\
    > > >     448 if hasattr(config, \"auto_map\") and cls.__name__ in config.auto_map:\n\
    > > >     449     if not trust_remote_code:\n> > > \n> > > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:937,\
    \ in AutoConfig.from_pretrained(cls, pretrained_model_name_or_path, **kwargs)\n\
    > > >     935     return config_class.from_pretrained(pretrained_model_name_or_path,\
    \ **kwargs)\n> > >     936 elif \"model_type\" in config_dict:\n> > > --> 937\
    \     config_class = CONFIG_MAPPING[config_dict[\"model_type\"]]\n> > >     938\
    \     return config_class.from_dict(config_dict, **unused_kwargs)\n> > >     939\
    \ else:\n> > >     940     # Fallback: use pattern matching on the string.\n>\
    \ > >     941     # We go from longer names to shorter names to catch roberta\
    \ before bert (for instance)\n> > > \n> > > File /databricks/python/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py:643,\
    \ in _LazyConfigMapping.__getitem__(self, key)\n> > >     641     return self._extra_content[key]\n\
    > > >     642 if key not in self._mapping:\n> > > --> 643     raise KeyError(key)\n\
    > > >     644 value = self._mapping[key]\n> > >     645 module_name = model_type_to_module_name(key)\n\
    > > > \n> > > KeyError: 'mistral'\n> > > ```\n> > > \n> > > </details>\n> > \n\
    > > you need to update the transformers package to the latest.\n> \n> `transformers\
    \ == 4.33.3` is not the latest?\n> \n> That is what I shared above and from what\
    \ I can see on GitHub, `4.33.3` [appears to be the latest release](https://github.com/huggingface/transformers/releases)\
    \ (released 12 hours ago).\n\npip install git+https://huggingface/transformers.git\
    \   \n4.34.0dev support it"
  created_at: 2023-09-28 04:51:40+00:00
  edited: false
  hidden: false
  id: 6515146c6e0d30ed7e149bed
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9264f49b84e272fb3548be20ab1b31c0.svg
      fullname: Dhaval Taunk
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dhavaltaunk08
      type: user
    createdAt: '2023-09-28T06:20:38.000Z'
    data:
      edited: false
      editors:
      - dhavaltaunk08
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9163121581077576
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9264f49b84e272fb3548be20ab1b31c0.svg
          fullname: Dhaval Taunk
          isHf: false
          isPro: false
          name: dhavaltaunk08
          type: user
        html: "<p>Running the following command seems to be working:</p>\n<pre><code>pip\
          \ install git+https://github.com/huggingface/transformers \n</code></pre>\n"
        raw: "Running the following command seems to be working:\n\n```\npip install\
          \ git+https://github.com/huggingface/transformers \n```"
        updatedAt: '2023-09-28T06:20:38.999Z'
      numEdits: 0
      reactions:
      - count: 12
        reaction: "\U0001F44D"
        users:
        - GourabHazra
        - bigclebowski
        - guiba44
        - perfectatdat
        - Groule
        - devendrachaplot
        - tiwari93
        - 907Resident
        - iftach-avital
        - sergey1252
        - KadirErturk
        - evergreen09
    id: 65151b364a0c7cab1666f66e
    type: comment
  author: dhavaltaunk08
  content: "Running the following command seems to be working:\n\n```\npip install\
    \ git+https://github.com/huggingface/transformers \n```"
  created_at: 2023-09-28 05:20:38+00:00
  edited: false
  hidden: false
  id: 65151b364a0c7cab1666f66e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/73ad395f7e35daae42dc1086631aa906.svg
      fullname: Abdul
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 1littlecoder
      type: user
    createdAt: '2023-09-28T13:42:32.000Z'
    data:
      edited: false
      editors:
      - 1littlecoder
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9099006652832031
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/73ad395f7e35daae42dc1086631aa906.svg
          fullname: Abdul
          isHf: false
          isPro: false
          name: 1littlecoder
          type: user
        html: '<p>Did the model load for anyone on Free Colab? The RAM keeps crashing
          for me </p>

          '
        raw: 'Did the model load for anyone on Free Colab? The RAM keeps crashing
          for me '
        updatedAt: '2023-09-28T13:42:32.751Z'
      numEdits: 0
      reactions: []
    id: 651582c899e8060f1e711f9c
    type: comment
  author: 1littlecoder
  content: 'Did the model load for anyone on Free Colab? The RAM keeps crashing for
    me '
  created_at: 2023-09-28 12:42:32+00:00
  edited: false
  hidden: false
  id: 651582c899e8060f1e711f9c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f7a30f3bc7deebd161deab76f61b6643.svg
      fullname: Manuj Malik
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: manujmalik
      type: user
    createdAt: '2023-09-29T09:22:39.000Z'
    data:
      edited: false
      editors:
      - manujmalik
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9477127194404602
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f7a30f3bc7deebd161deab76f61b6643.svg
          fullname: Manuj Malik
          isHf: false
          isPro: false
          name: manujmalik
          type: user
        html: '<blockquote>

          <p>Did the model load for anyone on Free Colab? The RAM keeps crashing for
          me</p>

          </blockquote>

          <p>maybe try using gguf model by TheBloke?</p>

          '
        raw: '> Did the model load for anyone on Free Colab? The RAM keeps crashing
          for me


          maybe try using gguf model by TheBloke?'
        updatedAt: '2023-09-29T09:22:39.600Z'
      numEdits: 0
      reactions: []
    id: 6516975f01d873dd19234a97
    type: comment
  author: manujmalik
  content: '> Did the model load for anyone on Free Colab? The RAM keeps crashing
    for me


    maybe try using gguf model by TheBloke?'
  created_at: 2023-09-29 08:22:39+00:00
  edited: false
  hidden: false
  id: 6516975f01d873dd19234a97
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9e31aeb4210a7b77f7dfdec6a7ae8149.svg
      fullname: stop fogs
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: stopfogs
      type: user
    createdAt: '2023-09-29T22:19:12.000Z'
    data:
      edited: false
      editors:
      - stopfogs
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9908100366592407
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9e31aeb4210a7b77f7dfdec6a7ae8149.svg
          fullname: stop fogs
          isHf: false
          isPro: false
          name: stopfogs
          type: user
        html: '<p>has anyone ran this on a MBP16 32k ?</p>

          '
        raw: 'has anyone ran this on a MBP16 32k ?

          '
        updatedAt: '2023-09-29T22:19:12.392Z'
      numEdits: 0
      reactions: []
    id: 65174d60684223da5981f4c0
    type: comment
  author: stopfogs
  content: 'has anyone ran this on a MBP16 32k ?

    '
  created_at: 2023-09-29 21:19:12+00:00
  edited: false
  hidden: false
  id: 65174d60684223da5981f4c0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
      fullname: Abishek Nair
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AbishekNairM
      type: user
    createdAt: '2023-10-05T10:49:31.000Z'
    data:
      edited: false
      editors:
      - AbishekNairM
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6469693779945374
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
          fullname: Abishek Nair
          isHf: false
          isPro: false
          name: AbishekNairM
          type: user
        html: '<p>this code: import torch<br>import transformers<br>from transformers
          import GenerationConfig, pipeline<br>from transformers import AutoTokenizer,
          AutoModelForCausalLM<br>from transformers import BitsAndBytesConfig<br>import
          bitsandbytes as bnb</p>

          <p>import torch<br>import transformers<br>from transformers import GenerationConfig,
          pipeline<br>from transformers import AutoTokenizer, AutoModelForCausalLM</p>

          <p>tokenizer = AutoTokenizer.from_pretrained("ehartford/samantha-mistral-7b",use_fast=False)<br>model
          = AutoModelForCausalLM.from_pretrained("ehartford/samantha-mistral-7b",<br>                                              load_in_8bit=True,<br>                                              device_map=''auto'',<br>                                              torch_dtype=torch.float16,<br>                                              low_cpu_mem_usage=True,<br>                                              )<br>gave
          the same mentioned error: ---------------------------------------------------------------------------<br>KeyError                                  Traceback
          (most recent call last)<br> in &lt;cell line: 14&gt;()<br>     12<br>     13
          tokenizer = AutoTokenizer.from_pretrained("ehartford/samantha-mistral-7b",use_fast=False)<br>---&gt;
          14 model = AutoModelForCausalLM.from_pretrained("ehartford/samantha-mistral-7b",<br>     15                                               load_in_8bit=True,<br>     16                                               device_map=''auto'',</p>

          <p>2 frames<br>/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py
          in <strong>getitem</strong>(self, key)<br>    708<br>    709 def model_type_to_module_name(key):<br>--&gt;
          710     """Converts a config key to the corresponding module."""<br>    711     #
          Special treatment<br>    712     if key in SPECIAL_MODEL_TYPE_TO_MODULE_NAME:</p>

          <p>KeyError: ''mistral''<br>then u tried the installation of tranformers
          as given above: pip install git+<a rel="nofollow" href="https://github.com/huggingface/transformers">https://github.com/huggingface/transformers</a></p>

          <p>I tried following this guide from hugging face and got the issue: <a
          href="https://huggingface.co/blog/Andyrasika/samantha-and-mistral-7b">https://huggingface.co/blog/Andyrasika/samantha-and-mistral-7b</a></p>

          <p>I DID THIS ON GOOGLE COLLAB FREE VERSION.</p>

          <p>Help would be appreciated, I was tryna run langchain to see its performance
          in presenting information from a chroma vector database (Chroma seems to
          be the goto), I tried for falcon and got repetition error, LLama 13b ggml
          quantized had a guide and it worked beautifully. So trying to run with Mistral,
          whichever works.</p>

          <p>I just told the last part for context. Help will be appreciated!!</p>

          '
        raw: "this code: import torch\nimport transformers\nfrom transformers import\
          \ GenerationConfig, pipeline\nfrom transformers import AutoTokenizer, AutoModelForCausalLM\n\
          from transformers import BitsAndBytesConfig\nimport bitsandbytes as bnb\n\
          \nimport torch\nimport transformers\nfrom transformers import GenerationConfig,\
          \ pipeline\nfrom transformers import AutoTokenizer, AutoModelForCausalLM\n\
          \ntokenizer = AutoTokenizer.from_pretrained(\"ehartford/samantha-mistral-7b\"\
          ,use_fast=False)\nmodel = AutoModelForCausalLM.from_pretrained(\"ehartford/samantha-mistral-7b\"\
          ,\n                                              load_in_8bit=True,\n  \
          \                                            device_map='auto',\n      \
          \                                        torch_dtype=torch.float16,\n  \
          \                                            low_cpu_mem_usage=True,\n \
          \                                             )\ngave the same mentioned\
          \ error: ---------------------------------------------------------------------------\n\
          KeyError                                  Traceback (most recent call last)\n\
          <ipython-input-23-de16999e6154> in <cell line: 14>()\n     12 \n     13\
          \ tokenizer = AutoTokenizer.from_pretrained(\"ehartford/samantha-mistral-7b\"\
          ,use_fast=False)\n---> 14 model = AutoModelForCausalLM.from_pretrained(\"\
          ehartford/samantha-mistral-7b\",\n     15                              \
          \                 load_in_8bit=True,\n     16                          \
          \                     device_map='auto',\n\n2 frames\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
          \ in __getitem__(self, key)\n    708 \n    709 def model_type_to_module_name(key):\n\
          --> 710     \"\"\"Converts a config key to the corresponding module.\"\"\
          \"\n    711     # Special treatment\n    712     if key in SPECIAL_MODEL_TYPE_TO_MODULE_NAME:\n\
          \nKeyError: 'mistral'\nthen u tried the installation of tranformers as given\
          \ above: pip install git+https://github.com/huggingface/transformers\n\n\
          I tried following this guide from hugging face and got the issue: https://huggingface.co/blog/Andyrasika/samantha-and-mistral-7b\n\
          \nI DID THIS ON GOOGLE COLLAB FREE VERSION.\n\nHelp would be appreciated,\
          \ I was tryna run langchain to see its performance in presenting information\
          \ from a chroma vector database (Chroma seems to be the goto), I tried for\
          \ falcon and got repetition error, LLama 13b ggml quantized had a guide\
          \ and it worked beautifully. So trying to run with Mistral, whichever works.\n\
          \nI just told the last part for context. Help will be appreciated!!"
        updatedAt: '2023-10-05T10:49:31.000Z'
      numEdits: 0
      reactions: []
    id: 651e94bb5e63a1f80796023a
    type: comment
  author: AbishekNairM
  content: "this code: import torch\nimport transformers\nfrom transformers import\
    \ GenerationConfig, pipeline\nfrom transformers import AutoTokenizer, AutoModelForCausalLM\n\
    from transformers import BitsAndBytesConfig\nimport bitsandbytes as bnb\n\nimport\
    \ torch\nimport transformers\nfrom transformers import GenerationConfig, pipeline\n\
    from transformers import AutoTokenizer, AutoModelForCausalLM\n\ntokenizer = AutoTokenizer.from_pretrained(\"\
    ehartford/samantha-mistral-7b\",use_fast=False)\nmodel = AutoModelForCausalLM.from_pretrained(\"\
    ehartford/samantha-mistral-7b\",\n                                           \
    \   load_in_8bit=True,\n                                              device_map='auto',\n\
    \                                              torch_dtype=torch.float16,\n  \
    \                                            low_cpu_mem_usage=True,\n       \
    \                                       )\ngave the same mentioned error: ---------------------------------------------------------------------------\n\
    KeyError                                  Traceback (most recent call last)\n\
    <ipython-input-23-de16999e6154> in <cell line: 14>()\n     12 \n     13 tokenizer\
    \ = AutoTokenizer.from_pretrained(\"ehartford/samantha-mistral-7b\",use_fast=False)\n\
    ---> 14 model = AutoModelForCausalLM.from_pretrained(\"ehartford/samantha-mistral-7b\"\
    ,\n     15                                               load_in_8bit=True,\n\
    \     16                                               device_map='auto',\n\n\
    2 frames\n/usr/local/lib/python3.10/dist-packages/transformers/models/auto/configuration_auto.py\
    \ in __getitem__(self, key)\n    708 \n    709 def model_type_to_module_name(key):\n\
    --> 710     \"\"\"Converts a config key to the corresponding module.\"\"\"\n \
    \   711     # Special treatment\n    712     if key in SPECIAL_MODEL_TYPE_TO_MODULE_NAME:\n\
    \nKeyError: 'mistral'\nthen u tried the installation of tranformers as given above:\
    \ pip install git+https://github.com/huggingface/transformers\n\nI tried following\
    \ this guide from hugging face and got the issue: https://huggingface.co/blog/Andyrasika/samantha-and-mistral-7b\n\
    \nI DID THIS ON GOOGLE COLLAB FREE VERSION.\n\nHelp would be appreciated, I was\
    \ tryna run langchain to see its performance in presenting information from a\
    \ chroma vector database (Chroma seems to be the goto), I tried for falcon and\
    \ got repetition error, LLama 13b ggml quantized had a guide and it worked beautifully.\
    \ So trying to run with Mistral, whichever works.\n\nI just told the last part\
    \ for context. Help will be appreciated!!"
  created_at: 2023-10-05 09:49:31+00:00
  edited: false
  hidden: false
  id: 651e94bb5e63a1f80796023a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/378797a848c9b195229008a071f2ca6d.svg
      fullname: Federico Jensen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Kromtar
      type: user
    createdAt: '2023-10-11T20:40:35.000Z'
    data:
      edited: false
      editors:
      - Kromtar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6637532711029053
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/378797a848c9b195229008a071f2ca6d.svg
          fullname: Federico Jensen
          isHf: false
          isPro: false
          name: Kromtar
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;AbishekNairM&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/AbishekNairM\"\
          >@<span class=\"underline\">AbishekNairM</span></a></span>\n\n\t</span></span>\
          \ </p>\n<p>Install the last version of transformers:<br>%pip install git+<a\
          \ rel=\"nofollow\" href=\"https://github.com/huggingface/transformers\"\
          >https://github.com/huggingface/transformers</a> </p>\n<p>And then restart\
          \ the runtime to apply the changes</p>\n"
        raw: "@AbishekNairM \n\nInstall the last version of transformers:\n%pip install\
          \ git+https://github.com/huggingface/transformers \n\nAnd then restart the\
          \ runtime to apply the changes"
        updatedAt: '2023-10-11T20:40:35.962Z'
      numEdits: 0
      reactions: []
    id: 652708436e26ebe203b6cd8c
    type: comment
  author: Kromtar
  content: "@AbishekNairM \n\nInstall the last version of transformers:\n%pip install\
    \ git+https://github.com/huggingface/transformers \n\nAnd then restart the runtime\
    \ to apply the changes"
  created_at: 2023-10-11 19:40:35+00:00
  edited: false
  hidden: false
  id: 652708436e26ebe203b6cd8c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
      fullname: Abishek Nair
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AbishekNairM
      type: user
    createdAt: '2023-10-12T05:16:30.000Z'
    data:
      edited: false
      editors:
      - AbishekNairM
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9113392233848572
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
          fullname: Abishek Nair
          isHf: false
          isPro: false
          name: AbishekNairM
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Kromtar&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Kromtar\">@<span class=\"\
          underline\">Kromtar</span></a></span>\n\n\t</span></span><br>Ah I just ran\
          \ a GGML quantised version of Mistral 7b with Llama-index and it worked\
          \ perfectly well with fast inferences. The framework just made the entire\
          \ process more convenient. Trying to figure out how to calculate max input/output\
          \ token length for queries and cpu/gpu usage and of course time elapsed.\
          \ If you have any leads please tell me.</p>\n"
        raw: '@Kromtar

          Ah I just ran a GGML quantised version of Mistral 7b with Llama-index and
          it worked perfectly well with fast inferences. The framework just made the
          entire process more convenient. Trying to figure out how to calculate max
          input/output token length for queries and cpu/gpu usage and of course time
          elapsed. If you have any leads please tell me.'
        updatedAt: '2023-10-12T05:16:30.848Z'
      numEdits: 0
      reactions: []
    id: 6527812ef39fb903370f4b44
    type: comment
  author: AbishekNairM
  content: '@Kromtar

    Ah I just ran a GGML quantised version of Mistral 7b with Llama-index and it worked
    perfectly well with fast inferences. The framework just made the entire process
    more convenient. Trying to figure out how to calculate max input/output token
    length for queries and cpu/gpu usage and of course time elapsed. If you have any
    leads please tell me.'
  created_at: 2023-10-12 04:16:30+00:00
  edited: false
  hidden: false
  id: 6527812ef39fb903370f4b44
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8d532cc13e38ee78ea896ffcd10fe710.svg
      fullname: Darrshan Seshathrri K S
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: i-darrshan
      type: user
    createdAt: '2023-11-05T05:34:33.000Z'
    data:
      edited: false
      editors:
      - i-darrshan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7527185678482056
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8d532cc13e38ee78ea896ffcd10fe710.svg
          fullname: Darrshan Seshathrri K S
          isHf: false
          isPro: false
          name: i-darrshan
          type: user
        html: '<blockquote>

          <p>Did the model load for anyone on Free Colab? The RAM keeps crashing for
          me</p>

          </blockquote>

          <p>Try using Kaggle. Use a T4 or P100 instance</p>

          '
        raw: '> Did the model load for anyone on Free Colab? The RAM keeps crashing
          for me


          Try using Kaggle. Use a T4 or P100 instance'
        updatedAt: '2023-11-05T05:34:33.462Z'
      numEdits: 0
      reactions: []
    id: 65472969b6cf806280e506d0
    type: comment
  author: i-darrshan
  content: '> Did the model load for anyone on Free Colab? The RAM keeps crashing
    for me


    Try using Kaggle. Use a T4 or P100 instance'
  created_at: 2023-11-05 04:34:33+00:00
  edited: false
  hidden: false
  id: 65472969b6cf806280e506d0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
      fullname: Abishek Nair
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AbishekNairM
      type: user
    createdAt: '2023-11-05T05:36:57.000Z'
    data:
      edited: false
      editors:
      - AbishekNairM
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9318148493766785
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
          fullname: Abishek Nair
          isHf: false
          isPro: false
          name: AbishekNairM
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;i-darrshan&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/i-darrshan\">@<span class=\"\
          underline\">i-darrshan</span></a></span>\n\n\t</span></span> yes. I ran\
          \ it on Collab with llama-index and llama-cpp. But I ran a GGUF version\
          \ of it.</p>\n"
        raw: '@i-darrshan yes. I ran it on Collab with llama-index and llama-cpp.
          But I ran a GGUF version of it.'
        updatedAt: '2023-11-05T05:36:57.954Z'
      numEdits: 0
      reactions: []
    id: 654729f92a2a4830421aced7
    type: comment
  author: AbishekNairM
  content: '@i-darrshan yes. I ran it on Collab with llama-index and llama-cpp. But
    I ran a GGUF version of it.'
  created_at: 2023-11-05 04:36:57+00:00
  edited: false
  hidden: false
  id: 654729f92a2a4830421aced7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8d532cc13e38ee78ea896ffcd10fe710.svg
      fullname: Darrshan Seshathrri K S
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: i-darrshan
      type: user
    createdAt: '2023-11-05T05:40:35.000Z'
    data:
      edited: true
      editors:
      - i-darrshan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9444567561149597
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8d532cc13e38ee78ea896ffcd10fe710.svg
          fullname: Darrshan Seshathrri K S
          isHf: false
          isPro: false
          name: i-darrshan
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;AbishekNairM&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/AbishekNairM\"\
          >@<span class=\"underline\">AbishekNairM</span></a></span>\n\n\t</span></span>.\
          \ Hey mate, I have a doubt. Have you ever used ctransformers. I used \"\
          TheBloke's Mistral 7B gguf with Q4_K_M\" in colab with ctransformers. I'm\
          \ getting incomplete answers and also sometimes no answer. Being a beginner,\
          \ I'm unable to figure out why. Could anyone help on this?</p>\n"
        raw: '@AbishekNairM. Hey mate, I have a doubt. Have you ever used ctransformers.
          I used "TheBloke''s Mistral 7B gguf with Q4_K_M" in colab with ctransformers.
          I''m getting incomplete answers and also sometimes no answer. Being a beginner,
          I''m unable to figure out why. Could anyone help on this?'
        updatedAt: '2023-11-05T05:41:14.328Z'
      numEdits: 1
      reactions: []
    id: 65472ad36c818bb7b5ba3c25
    type: comment
  author: i-darrshan
  content: '@AbishekNairM. Hey mate, I have a doubt. Have you ever used ctransformers.
    I used "TheBloke''s Mistral 7B gguf with Q4_K_M" in colab with ctransformers.
    I''m getting incomplete answers and also sometimes no answer. Being a beginner,
    I''m unable to figure out why. Could anyone help on this?'
  created_at: 2023-11-05 04:40:35+00:00
  edited: true
  hidden: false
  id: 65472ad36c818bb7b5ba3c25
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
      fullname: Abishek Nair
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AbishekNairM
      type: user
    createdAt: '2023-11-05T05:45:50.000Z'
    data:
      edited: false
      editors:
      - AbishekNairM
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9743518829345703
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c70d726e8ac6678a3cd91be65824d95d.svg
          fullname: Abishek Nair
          isHf: false
          isPro: false
          name: AbishekNairM
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;i-darrshan&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/i-darrshan\">@<span class=\"\
          underline\">i-darrshan</span></a></span>\n\n\t</span></span> I have only\
          \ used hugging faces auto tokenizers before this but since mistral didn't\
          \ have one at the time I was about to use ctransformers since it's the goto\
          \ if u don't have prebuilt tokenizers. But I read llama index worked really\
          \ well with these two. In my opinion you should just use llama index. If\
          \ you were trying to use maybe falcon you can consider ctransformer, since\
          \ your gonna have to edit preprompts in llamaindex. Well I would still just\
          \ try to figure that out in llamaindex tbh. It's just so much better and\
          \ convenient. I vouch for llama index for Mistral and Llama models 100 percent.</p>\n"
        raw: '@i-darrshan I have only used hugging faces auto tokenizers before this
          but since mistral didn''t have one at the time I was about to use ctransformers
          since it''s the goto if u don''t have prebuilt tokenizers. But I read llama
          index worked really well with these two. In my opinion you should just use
          llama index. If you were trying to use maybe falcon you can consider ctransformer,
          since your gonna have to edit preprompts in llamaindex. Well I would still
          just try to figure that out in llamaindex tbh. It''s just so much better
          and convenient. I vouch for llama index for Mistral and Llama models 100
          percent.'
        updatedAt: '2023-11-05T05:45:50.455Z'
      numEdits: 0
      reactions: []
    id: 65472c0e49feb5082b5ba77b
    type: comment
  author: AbishekNairM
  content: '@i-darrshan I have only used hugging faces auto tokenizers before this
    but since mistral didn''t have one at the time I was about to use ctransformers
    since it''s the goto if u don''t have prebuilt tokenizers. But I read llama index
    worked really well with these two. In my opinion you should just use llama index.
    If you were trying to use maybe falcon you can consider ctransformer, since your
    gonna have to edit preprompts in llamaindex. Well I would still just try to figure
    that out in llamaindex tbh. It''s just so much better and convenient. I vouch
    for llama index for Mistral and Llama models 100 percent.'
  created_at: 2023-11-05 04:45:50+00:00
  edited: false
  hidden: false
  id: 65472c0e49feb5082b5ba77b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8d532cc13e38ee78ea896ffcd10fe710.svg
      fullname: Darrshan Seshathrri K S
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: i-darrshan
      type: user
    createdAt: '2023-11-05T05:48:24.000Z'
    data:
      edited: false
      editors:
      - i-darrshan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9654728174209595
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8d532cc13e38ee78ea896ffcd10fe710.svg
          fullname: Darrshan Seshathrri K S
          isHf: false
          isPro: false
          name: i-darrshan
          type: user
        html: "<blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;i-darrshan&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/i-darrshan\"\
          >@<span class=\"underline\">i-darrshan</span></a></span>\n\n\t</span></span>\
          \ I have only used hugging faces auto tokenizers before this but since mistral\
          \ didn't have one at the time I was about to use ctransformers since it's\
          \ the goto if u don't have prebuilt tokenizers. But I read llama index worked\
          \ really well with these two. In my opinion you should just use llama index.\
          \ If you were trying to use maybe falcon you can consider ctransformer,\
          \ since your gonna have to edit preprompts in llamaindex. Well I would still\
          \ just try to figure that out in llamaindex tbh. It's just so much better\
          \ and convenient. I vouch for llama index for Mistral and Llama models 100\
          \ percent.</p>\n</blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;AbishekNairM&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/AbishekNairM\"\
          >@<span class=\"underline\">AbishekNairM</span></a></span>\n\n\t</span></span>\
          \ sure, I will try using llama-cpp-python. Thanks</p>\n"
        raw: '> @i-darrshan I have only used hugging faces auto tokenizers before
          this but since mistral didn''t have one at the time I was about to use ctransformers
          since it''s the goto if u don''t have prebuilt tokenizers. But I read llama
          index worked really well with these two. In my opinion you should just use
          llama index. If you were trying to use maybe falcon you can consider ctransformer,
          since your gonna have to edit preprompts in llamaindex. Well I would still
          just try to figure that out in llamaindex tbh. It''s just so much better
          and convenient. I vouch for llama index for Mistral and Llama models 100
          percent.


          @AbishekNairM sure, I will try using llama-cpp-python. Thanks'
        updatedAt: '2023-11-05T05:48:24.304Z'
      numEdits: 0
      reactions: []
    id: 65472ca8c6dadd513f27f080
    type: comment
  author: i-darrshan
  content: '> @i-darrshan I have only used hugging faces auto tokenizers before this
    but since mistral didn''t have one at the time I was about to use ctransformers
    since it''s the goto if u don''t have prebuilt tokenizers. But I read llama index
    worked really well with these two. In my opinion you should just use llama index.
    If you were trying to use maybe falcon you can consider ctransformer, since your
    gonna have to edit preprompts in llamaindex. Well I would still just try to figure
    that out in llamaindex tbh. It''s just so much better and convenient. I vouch
    for llama index for Mistral and Llama models 100 percent.


    @AbishekNairM sure, I will try using llama-cpp-python. Thanks'
  created_at: 2023-11-05 04:48:24+00:00
  edited: false
  hidden: false
  id: 65472ca8c6dadd513f27f080
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: mistralai/Mistral-7B-Instruct-v0.1
repo_type: model
status: open
target_branch: null
title: How do I run this model?
