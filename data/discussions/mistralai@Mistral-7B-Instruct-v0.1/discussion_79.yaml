!!python/object:huggingface_hub.community.DiscussionWithDetails
author: KeithCu
conflicting_files: null
created_at: 2023-11-19 19:17:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f9b82d88ae8b73e30a89713d8efb4145.svg
      fullname: Keith Curtis
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: KeithCu
      type: user
    createdAt: '2023-11-19T19:17:52.000Z'
    data:
      edited: false
      editors:
      - KeithCu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9197372198104858
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f9b82d88ae8b73e30a89713d8efb4145.svg
          fullname: Keith Curtis
          isHf: false
          isPro: true
          name: KeithCu
          type: user
        html: "<p>I've been playing around with Mistral, and think it would be an\
          \ awesome LLM for LibreOffice, for everything from helping with grammar\
          \ checking, to fixing spreadsheet errors, to helping format a resume to\
          \ look more professional, and even being a research assistant.</p>\n<p>However,\
          \ it fails at a few easy commands. Here are my prompts and results.</p>\n\
          <p>I want to check your ability to count characters. Given the following\
          \ sentence \"She go to the store.\" Assuming the first character is index\
          \ 0, what is the character index and length of the word \"go\" in the sentence?</p>\n\
          <p>Mistral-Instruct: The character index of the word \"go\" in the sentence\
          \ \"She goes to the store\" would be from index 12 to index 15 (inclusive).\
          \ This means that there are a total of 4 characters in the word \"go\".</p>\n\
          <p>ParisNeo created a dataset for this: <a href=\"https://huggingface.co/datasets/ParisNeo/Word_in_Sentence_Database\"\
          >https://huggingface.co/datasets/ParisNeo/Word_in_Sentence_Database</a></p>\n\
          <p>And for grammar checking:</p>\n<p>\uFEFF\uFEFF\uFEFFPlease perform a\
          \ grammar check on the sentence at the end and provide a list of errors.<br>For\
          \ each error, describe the problem, suggest a fix, and include the character\
          \ index of the start and length of the mistaken letters suggested to be\
          \ replaced with the fix.<br>Make sure the fix is minimal (the fewest letters\
          \ that need to be changed) and if fixing one error makes another go away,\
          \ don\u2019t include the subsequent error.<br>Put into a JSON format so\
          \ it can be easily loaded and used by others.<br>Sentence for Grammar Check:\
          \ \"She go to the store.\" </p>\n<p>Mistral-Instruct:<br>{<br>\"Errors\"\
          : [<br>{<br>\"Problem\": \"Subject-verb agreement\",<br>\"Fix\": \"goes\"\
          ,<br>\"StartIndex\": 0,<br>\"Length\": 3<br>},<br>{<br>\"Problem\": \"Missing\
          \ article before noun\",<br>\"Fix\": \"a\",<br>\"StartIndex\": 4,<br>\"\
          Length\": 1<br>}<br>],<br>\"CorrectedSentence\": \"She goes to the store.\"\
          <br>}</p>\n"
        raw: "I've been playing around with Mistral, and think it would be an awesome\
          \ LLM for LibreOffice, for everything from helping with grammar checking,\
          \ to fixing spreadsheet errors, to helping format a resume to look more\
          \ professional, and even being a research assistant.\r\n\r\nHowever, it\
          \ fails at a few easy commands. Here are my prompts and results.\r\n\r\n\
          I want to check your ability to count characters. Given the following sentence\
          \ \"She go to the store.\" Assuming the first character is index 0, what\
          \ is the character index and length of the word \"go\" in the sentence?\r\
          \n\r\nMistral-Instruct: The character index of the word \"go\" in the sentence\
          \ \"She goes to the store\" would be from index 12 to index 15 (inclusive).\
          \ This means that there are a total of 4 characters in the word \"go\".\r\
          \n\r\nParisNeo created a dataset for this: https://huggingface.co/datasets/ParisNeo/Word_in_Sentence_Database\r\
          \n\r\nAnd for grammar checking:\r\n\r\n\uFEFF\uFEFF\uFEFFPlease perform\
          \ a grammar check on the sentence at the end and provide a list of errors.\
          \ \r\nFor each error, describe the problem, suggest a fix, and include the\
          \ character index of the start and length of the mistaken letters suggested\
          \ to be replaced with the fix.\r\nMake sure the fix is minimal (the fewest\
          \ letters that need to be changed) and if fixing one error makes another\
          \ go away, don\u2019t include the subsequent error.\r\nPut into a JSON format\
          \ so it can be easily loaded and used by others. \r\nSentence for Grammar\
          \ Check: \"She go to the store.\" \r\n\r\nMistral-Instruct:\r\n{\r\n\"Errors\"\
          : [\r\n{\r\n\"Problem\": \"Subject-verb agreement\",\r\n\"Fix\": \"goes\"\
          ,\r\n\"StartIndex\": 0,\r\n\"Length\": 3\r\n},\r\n{\r\n\"Problem\": \"Missing\
          \ article before noun\",\r\n\"Fix\": \"a\",\r\n\"StartIndex\": 4,\r\n\"\
          Length\": 1\r\n}\r\n],\r\n\"CorrectedSentence\": \"She goes to the store.\"\
          \r\n}\r\n\r\n"
        updatedAt: '2023-11-19T19:17:52.583Z'
      numEdits: 0
      reactions: []
    id: 655a5f60c1f2352d23c224e0
    type: comment
  author: KeithCu
  content: "I've been playing around with Mistral, and think it would be an awesome\
    \ LLM for LibreOffice, for everything from helping with grammar checking, to fixing\
    \ spreadsheet errors, to helping format a resume to look more professional, and\
    \ even being a research assistant.\r\n\r\nHowever, it fails at a few easy commands.\
    \ Here are my prompts and results.\r\n\r\nI want to check your ability to count\
    \ characters. Given the following sentence \"She go to the store.\" Assuming the\
    \ first character is index 0, what is the character index and length of the word\
    \ \"go\" in the sentence?\r\n\r\nMistral-Instruct: The character index of the\
    \ word \"go\" in the sentence \"She goes to the store\" would be from index 12\
    \ to index 15 (inclusive). This means that there are a total of 4 characters in\
    \ the word \"go\".\r\n\r\nParisNeo created a dataset for this: https://huggingface.co/datasets/ParisNeo/Word_in_Sentence_Database\r\
    \n\r\nAnd for grammar checking:\r\n\r\n\uFEFF\uFEFF\uFEFFPlease perform a grammar\
    \ check on the sentence at the end and provide a list of errors. \r\nFor each\
    \ error, describe the problem, suggest a fix, and include the character index\
    \ of the start and length of the mistaken letters suggested to be replaced with\
    \ the fix.\r\nMake sure the fix is minimal (the fewest letters that need to be\
    \ changed) and if fixing one error makes another go away, don\u2019t include the\
    \ subsequent error.\r\nPut into a JSON format so it can be easily loaded and used\
    \ by others. \r\nSentence for Grammar Check: \"She go to the store.\" \r\n\r\n\
    Mistral-Instruct:\r\n{\r\n\"Errors\": [\r\n{\r\n\"Problem\": \"Subject-verb agreement\"\
    ,\r\n\"Fix\": \"goes\",\r\n\"StartIndex\": 0,\r\n\"Length\": 3\r\n},\r\n{\r\n\"\
    Problem\": \"Missing article before noun\",\r\n\"Fix\": \"a\",\r\n\"StartIndex\"\
    : 4,\r\n\"Length\": 1\r\n}\r\n],\r\n\"CorrectedSentence\": \"She goes to the store.\"\
    \r\n}\r\n\r\n"
  created_at: 2023-11-19 19:17:52+00:00
  edited: false
  hidden: false
  id: 655a5f60c1f2352d23c224e0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bf22d0ded3407be69886f53de96d3f46.svg
      fullname: andy s
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: andysalerno
      type: user
    createdAt: '2023-11-19T21:27:32.000Z'
    data:
      edited: false
      editors:
      - andysalerno
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9482299089431763
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bf22d0ded3407be69886f53de96d3f46.svg
          fullname: andy s
          isHf: false
          isPro: false
          name: andysalerno
          type: user
        html: '<p>I''m not an expert, nor am I associated with Mistral :D But I don''t
          think Mistral (or GPT-4, or GPT-3.5) could handle this prompt the way you
          are describing it, since it involves counting characters, and LLMs infamously
          do not understand characters well at all. Their view of the world is tokens.</p>

          <p>I just asked ChatGPT 3.5:</p>

          <blockquote>

          <p>reverse the string "Even gpt 3.5 can''t reverse strings very well"</p>

          </blockquote>

          <p>with the response:</p>

          <blockquote>

          <p>Sure, here is the reversed string:</p>

          <p>"llew yrev sgnirver t''nac 5.3 tpg nevE"</p>

          </blockquote>

          <p>I asked ChatGPT 4, and amazingly it got it right, and for a second I
          thought they somehow upgraded ChatGPT to understand on a character-by-character
          basis. But then I saw the little "analysis" button and clicked it and realized
          that ChatGPT decided to execute Python to reverse the string :D</p>

          '
        raw: 'I''m not an expert, nor am I associated with Mistral :D But I don''t
          think Mistral (or GPT-4, or GPT-3.5) could handle this prompt the way you
          are describing it, since it involves counting characters, and LLMs infamously
          do not understand characters well at all. Their view of the world is tokens.


          I just asked ChatGPT 3.5:

          > reverse the string "Even gpt 3.5 can''t reverse strings very well"


          with the response:


          > Sure, here is the reversed string:

          >

          > "llew yrev sgnirver t''nac 5.3 tpg nevE"


          I asked ChatGPT 4, and amazingly it got it right, and for a second I thought
          they somehow upgraded ChatGPT to understand on a character-by-character
          basis. But then I saw the little "analysis" button and clicked it and realized
          that ChatGPT decided to execute Python to reverse the string :D'
        updatedAt: '2023-11-19T21:27:32.085Z'
      numEdits: 0
      reactions: []
    id: 655a7dc4cafc48de3658b34d
    type: comment
  author: andysalerno
  content: 'I''m not an expert, nor am I associated with Mistral :D But I don''t think
    Mistral (or GPT-4, or GPT-3.5) could handle this prompt the way you are describing
    it, since it involves counting characters, and LLMs infamously do not understand
    characters well at all. Their view of the world is tokens.


    I just asked ChatGPT 3.5:

    > reverse the string "Even gpt 3.5 can''t reverse strings very well"


    with the response:


    > Sure, here is the reversed string:

    >

    > "llew yrev sgnirver t''nac 5.3 tpg nevE"


    I asked ChatGPT 4, and amazingly it got it right, and for a second I thought they
    somehow upgraded ChatGPT to understand on a character-by-character basis. But
    then I saw the little "analysis" button and clicked it and realized that ChatGPT
    decided to execute Python to reverse the string :D'
  created_at: 2023-11-19 21:27:32+00:00
  edited: false
  hidden: false
  id: 655a7dc4cafc48de3658b34d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f9b82d88ae8b73e30a89713d8efb4145.svg
      fullname: Keith Curtis
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: KeithCu
      type: user
    createdAt: '2023-11-19T23:39:09.000Z'
    data:
      edited: false
      editors:
      - KeithCu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9501685500144958
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f9b82d88ae8b73e30a89713d8efb4145.svg
          fullname: Keith Curtis
          isHf: false
          isPro: true
          name: KeithCu
          type: user
        html: "<p>GPT 3.5 and 4, and Claude (usually) handle it without any problems.\
          \ However, nearly every other one screws it up! It's like I found a bug\
          \ in the entire LLM world ;-)</p>\n<p>They definitely understand characters\
          \ from any programming experience, but I think this sort of stuff is outside\
          \ their training. Usually it is to write code to calculate where a word\
          \ is in a sentence, but in this case, when it's changing part of a sentence,\
          \ I need it to be able to tell me where.</p>\n<p>It's possible to get LLMs\
          \ to use Python to calculate word indexes, but if there are multiple uses\
          \ of the same word in a sentence, it could more confusing to figure out\
          \ what it is talking about.</p>\n<p>Otherwise I'm just so impressed at Mistral's\
          \ ability to be a helper for an app like LibreOffice (which has ~100M users)\
          \ without any fine-tuning.</p>\n<p>I did find a workaround is to have it\
          \ generate a new complete sentence, and then the app figures out what to\
          \ change.</p>\n<p>\uFEFFPlease perform a grammar check on the sentence at\
          \ the end and return the simplest error you find.<br>Describe the problem,\
          \ and create an improved sentence to fix that error.<br>Put into a JSON\
          \ format so it can be easily loaded and used by others.<br>Sentence for\
          \ Grammar Check: \"She go to the store.\" </p>\n<p>If I just have it (hopefully\
          \ without hallucination!) return the entire improved sentence, the app can\
          \ figure out what minimal characters to replace. (You would never replace\
          \ the entire sentence if only some of it changed because it could have different\
          \ formatting in different spots.)</p>\n<p>With that change, it generally\
          \ seems to do a pretty great job as a grammar checker. </p>\n<p>LibreOffice\
          \ has integrated Python support, here's a simple Python grammar checker\
          \ that plugs into LibreOffice and could be used as a baseline in case anyone\
          \ wants to work on it: <a rel=\"nofollow\" href=\"https://cgit.freedesktop.org/libreoffice/lightproof/\"\
          >https://cgit.freedesktop.org/libreoffice/lightproof/</a></p>\n"
        raw: "GPT 3.5 and 4, and Claude (usually) handle it without any problems.\
          \ However, nearly every other one screws it up! It's like I found a bug\
          \ in the entire LLM world ;-)\n\nThey definitely understand characters from\
          \ any programming experience, but I think this sort of stuff is outside\
          \ their training. Usually it is to write code to calculate where a word\
          \ is in a sentence, but in this case, when it's changing part of a sentence,\
          \ I need it to be able to tell me where.\n\nIt's possible to get LLMs to\
          \ use Python to calculate word indexes, but if there are multiple uses of\
          \ the same word in a sentence, it could more confusing to figure out what\
          \ it is talking about.\n\nOtherwise I'm just so impressed at Mistral's ability\
          \ to be a helper for an app like LibreOffice (which has ~100M users) without\
          \ any fine-tuning.\n\nI did find a workaround is to have it generate a new\
          \ complete sentence, and then the app figures out what to change.\n\n\uFEFF\
          Please perform a grammar check on the sentence at the end and return the\
          \ simplest error you find. \nDescribe the problem, and create an improved\
          \ sentence to fix that error.\nPut into a JSON format so it can be easily\
          \ loaded and used by others. \nSentence for Grammar Check: \"She go to the\
          \ store.\" \n\nIf I just have it (hopefully without hallucination!) return\
          \ the entire improved sentence, the app can figure out what minimal characters\
          \ to replace. (You would never replace the entire sentence if only some\
          \ of it changed because it could have different formatting in different\
          \ spots.)\n\nWith that change, it generally seems to do a pretty great job\
          \ as a grammar checker. \n\nLibreOffice has integrated Python support, here's\
          \ a simple Python grammar checker that plugs into LibreOffice and could\
          \ be used as a baseline in case anyone wants to work on it: https://cgit.freedesktop.org/libreoffice/lightproof/\n\
          \n"
        updatedAt: '2023-11-19T23:39:09.227Z'
      numEdits: 0
      reactions: []
    id: 655a9c9d6412aaeed681883b
    type: comment
  author: KeithCu
  content: "GPT 3.5 and 4, and Claude (usually) handle it without any problems. However,\
    \ nearly every other one screws it up! It's like I found a bug in the entire LLM\
    \ world ;-)\n\nThey definitely understand characters from any programming experience,\
    \ but I think this sort of stuff is outside their training. Usually it is to write\
    \ code to calculate where a word is in a sentence, but in this case, when it's\
    \ changing part of a sentence, I need it to be able to tell me where.\n\nIt's\
    \ possible to get LLMs to use Python to calculate word indexes, but if there are\
    \ multiple uses of the same word in a sentence, it could more confusing to figure\
    \ out what it is talking about.\n\nOtherwise I'm just so impressed at Mistral's\
    \ ability to be a helper for an app like LibreOffice (which has ~100M users) without\
    \ any fine-tuning.\n\nI did find a workaround is to have it generate a new complete\
    \ sentence, and then the app figures out what to change.\n\n\uFEFFPlease perform\
    \ a grammar check on the sentence at the end and return the simplest error you\
    \ find. \nDescribe the problem, and create an improved sentence to fix that error.\n\
    Put into a JSON format so it can be easily loaded and used by others. \nSentence\
    \ for Grammar Check: \"She go to the store.\" \n\nIf I just have it (hopefully\
    \ without hallucination!) return the entire improved sentence, the app can figure\
    \ out what minimal characters to replace. (You would never replace the entire\
    \ sentence if only some of it changed because it could have different formatting\
    \ in different spots.)\n\nWith that change, it generally seems to do a pretty\
    \ great job as a grammar checker. \n\nLibreOffice has integrated Python support,\
    \ here's a simple Python grammar checker that plugs into LibreOffice and could\
    \ be used as a baseline in case anyone wants to work on it: https://cgit.freedesktop.org/libreoffice/lightproof/\n\
    \n"
  created_at: 2023-11-19 23:39:09+00:00
  edited: false
  hidden: false
  id: 655a9c9d6412aaeed681883b
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 79
repo_id: mistralai/Mistral-7B-Instruct-v0.1
repo_type: model
status: open
target_branch: null
title: Mistral-Instruct can't count characters
