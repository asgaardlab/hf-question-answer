!!python/object:huggingface_hub.community.DiscussionWithDetails
author: BobbertWobbert
conflicting_files: null
created_at: 2023-12-28 22:22:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/01372f4e59633aed68ff6f26240590d1.svg
      fullname: Ji
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: BobbertWobbert
      type: user
    createdAt: '2023-12-28T22:22:28.000Z'
    data:
      edited: true
      editors:
      - BobbertWobbert
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8621899485588074
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/01372f4e59633aed68ff6f26240590d1.svg
          fullname: Ji
          isHf: false
          isPro: false
          name: BobbertWobbert
          type: user
        html: '<p>Noticed that there is a question concerning multiple eos characters
          in the chat template that was not fully answered in this <a href="https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1/discussions/86">post</a>.</p>

          <p>The chat template adds eos characters after every pair of user-assistant
          messages. Just want to confirm that this is intended and not a bug in the
          chat template? Thanks.</p>

          <p>Example:</p>

          <pre><code>print(tokenizer.apply_chat_template([{''role'':''user'',''content'':''inst1''},{''role'':''assistant'',''content'':''aswer1''},
          {''role'':''user'',''content'':''inst2''},{''role'':''assistant'',''content'':''answ2''}],tokenize=False,add_generation_prompt=False))

          &lt;s&gt;[INST] inst1 [/INST]aswer1&lt;/s&gt; [INST] inst2 [/INST]answ2&lt;/s&gt;

          </code></pre>

          '
        raw: 'Noticed that there is a question concerning multiple eos characters
          in the chat template that was not fully answered in this [post](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1/discussions/86).


          The chat template adds eos characters after every pair of user-assistant
          messages. Just want to confirm that this is intended and not a bug in the
          chat template? Thanks.



          Example:

          ```

          print(tokenizer.apply_chat_template([{''role'':''user'',''content'':''inst1''},{''role'':''assistant'',''content'':''aswer1''},
          {''role'':''user'',''content'':''inst2''},{''role'':''assistant'',''content'':''answ2''}],tokenize=False,add_generation_prompt=False))

          <s>[INST] inst1 [/INST]aswer1</s> [INST] inst2 [/INST]answ2</s>

          ```'
        updatedAt: '2023-12-28T22:23:06.445Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - darshana1406
    id: 658df5241adf6d577e269061
    type: comment
  author: BobbertWobbert
  content: 'Noticed that there is a question concerning multiple eos characters in
    the chat template that was not fully answered in this [post](https://huggingface.co/mistralai/Mistral-7B-Instruct-v0.1/discussions/86).


    The chat template adds eos characters after every pair of user-assistant messages.
    Just want to confirm that this is intended and not a bug in the chat template?
    Thanks.



    Example:

    ```

    print(tokenizer.apply_chat_template([{''role'':''user'',''content'':''inst1''},{''role'':''assistant'',''content'':''aswer1''},
    {''role'':''user'',''content'':''inst2''},{''role'':''assistant'',''content'':''answ2''}],tokenize=False,add_generation_prompt=False))

    <s>[INST] inst1 [/INST]aswer1</s> [INST] inst2 [/INST]answ2</s>

    ```'
  created_at: 2023-12-28 22:22:28+00:00
  edited: true
  hidden: false
  id: 658df5241adf6d577e269061
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 95
repo_id: mistralai/Mistral-7B-Instruct-v0.1
repo_type: model
status: open
target_branch: null
title: Multiple eos tokens in chat template.
