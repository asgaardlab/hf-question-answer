!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ingo-m
conflicting_files: null
created_at: 2023-11-03 10:01:33+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1662672956916-noauth.jpeg?w=200&h=200&f=face
      fullname: ingo-m
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ingo-m
      type: user
    createdAt: '2023-11-03T11:01:33.000Z'
    data:
      edited: false
      editors:
      - ingo-m
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6836181879043579
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1662672956916-noauth.jpeg?w=200&h=200&f=face
          fullname: ingo-m
          isHf: false
          isPro: false
          name: ingo-m
          type: user
        html: '<p>According to the <a href="https://huggingface.co/docs/transformers/main/model_doc/mistral#transformers.MistralConfig.pad_token_id">documentation</a>,
          the <code>pad_token_id</code> is optional?</p>

          <p>As confirmed by:</p>

          <pre><code class="language-python"><span class="hljs-keyword">from</span>
          transformers <span class="hljs-keyword">import</span> AutoTokenizer


          base_model_name = <span class="hljs-string">"mistralai/Mistral-7B-Instruct-v0.1"</span>


          tokenizer = AutoTokenizer.from_pretrained(base_model_name)


          <span class="hljs-built_in">print</span>(tokenizer.pad_token_id)

          <span class="hljs-comment"># None</span>

          </code></pre>

          <p>I don''t understand why, surely a padding token must have been used during
          training?</p>

          '
        raw: "According to the [documentation](https://huggingface.co/docs/transformers/main/model_doc/mistral#transformers.MistralConfig.pad_token_id),\
          \ the `pad_token_id` is optional?\r\n\r\nAs confirmed by:\r\n```python\r\
          \nfrom transformers import AutoTokenizer\r\n\r\nbase_model_name = \"mistralai/Mistral-7B-Instruct-v0.1\"\
          \r\n\r\ntokenizer = AutoTokenizer.from_pretrained(base_model_name)\r\n\r\
          \nprint(tokenizer.pad_token_id)\r\n# None\r\n```\r\n\r\nI don't understand\
          \ why, surely a padding token must have been used during training?"
        updatedAt: '2023-11-03T11:01:33.937Z'
      numEdits: 0
      reactions: []
    id: 6544d30d985758479b4ee02f
    type: comment
  author: ingo-m
  content: "According to the [documentation](https://huggingface.co/docs/transformers/main/model_doc/mistral#transformers.MistralConfig.pad_token_id),\
    \ the `pad_token_id` is optional?\r\n\r\nAs confirmed by:\r\n```python\r\nfrom\
    \ transformers import AutoTokenizer\r\n\r\nbase_model_name = \"mistralai/Mistral-7B-Instruct-v0.1\"\
    \r\n\r\ntokenizer = AutoTokenizer.from_pretrained(base_model_name)\r\n\r\nprint(tokenizer.pad_token_id)\r\
    \n# None\r\n```\r\n\r\nI don't understand why, surely a padding token must have\
    \ been used during training?"
  created_at: 2023-11-03 10:01:33+00:00
  edited: false
  hidden: false
  id: 6544d30d985758479b4ee02f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7c8ae4dd2e744b7daa97cc3ae820fe97.svg
      fullname: Jinghui
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xceman
      type: user
    createdAt: '2023-12-22T02:27:36.000Z'
    data:
      edited: false
      editors:
      - xceman
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9746899604797363
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7c8ae4dd2e744b7daa97cc3ae820fe97.svg
          fullname: Jinghui
          isHf: false
          isPro: false
          name: xceman
          type: user
        html: '<p>I encountered the same issue when I tried to fine-tune it, and wondered
          how it is supposed to set? Thanks!</p>

          '
        raw: I encountered the same issue when I tried to fine-tune it, and wondered
          how it is supposed to set? Thanks!
        updatedAt: '2023-12-22T02:27:36.183Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - ingo-m
    id: 6584f418c7918aa0448f2912
    type: comment
  author: xceman
  content: I encountered the same issue when I tried to fine-tune it, and wondered
    how it is supposed to set? Thanks!
  created_at: 2023-12-22 02:27:36+00:00
  edited: false
  hidden: false
  id: 6584f418c7918aa0448f2912
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1662672956916-noauth.jpeg?w=200&h=200&f=face
      fullname: ingo-m
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ingo-m
      type: user
    createdAt: '2023-12-22T19:45:16.000Z'
    data:
      edited: false
      editors:
      - ingo-m
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9260760545730591
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1662672956916-noauth.jpeg?w=200&h=200&f=face
          fullname: ingo-m
          isHf: false
          isPro: false
          name: ingo-m
          type: user
        html: '<p>There''s also a question about it on reddit:<br><a rel="nofollow"
          href="https://www.reddit.com/r/LocalLLaMA/comments/184g120/mistral_fine_tuning_eos_and_padding/">https://www.reddit.com/r/LocalLLaMA/comments/184g120/mistral_fine_tuning_eos_and_padding/</a></p>

          <p>I''m wondering whether it even matter what''s the padding token as long
          as it is masked out with the attention mask?</p>

          '
        raw: 'There''s also a question about it on reddit:

          https://www.reddit.com/r/LocalLLaMA/comments/184g120/mistral_fine_tuning_eos_and_padding/


          I''m wondering whether it even matter what''s the padding token as long
          as it is masked out with the attention mask?'
        updatedAt: '2023-12-22T19:45:16.722Z'
      numEdits: 0
      reactions: []
    id: 6585e74caee2d4cccb3adc07
    type: comment
  author: ingo-m
  content: 'There''s also a question about it on reddit:

    https://www.reddit.com/r/LocalLLaMA/comments/184g120/mistral_fine_tuning_eos_and_padding/


    I''m wondering whether it even matter what''s the padding token as long as it
    is masked out with the attention mask?'
  created_at: 2023-12-22 19:45:16+00:00
  edited: false
  hidden: false
  id: 6585e74caee2d4cccb3adc07
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 66
repo_id: mistralai/Mistral-7B-Instruct-v0.1
repo_type: model
status: open
target_branch: null
title: "Mistral doesn't have a `pad_token_id`? \U0001F914"
