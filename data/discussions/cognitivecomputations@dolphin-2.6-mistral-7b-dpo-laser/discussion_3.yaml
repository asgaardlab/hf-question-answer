!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Deniaud
conflicting_files: null
created_at: 2024-01-03 19:40:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/uMag-RB_o26MXDkWlqWF2.png?w=200&h=200&f=face
      fullname: Michel Deniaud
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Deniaud
      type: user
    createdAt: '2024-01-03T19:40:08.000Z'
    data:
      edited: false
      editors:
      - Deniaud
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8272597193717957
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/uMag-RB_o26MXDkWlqWF2.png?w=200&h=200&f=face
          fullname: Michel Deniaud
          isHf: false
          isPro: false
          name: Deniaud
          type: user
        html: '<p>Can we hope that you will post your Laser code implementation using
          Random Matrix Theory?</p>

          '
        raw: Can we hope that you will post your Laser code implementation using Random
          Matrix Theory?
        updatedAt: '2024-01-03T19:40:08.496Z'
      numEdits: 0
      reactions: []
    id: 6595b8187cda5685b31f8119
    type: comment
  author: Deniaud
  content: Can we hope that you will post your Laser code implementation using Random
    Matrix Theory?
  created_at: 2024-01-03 19:40:08+00:00
  edited: false
  hidden: false
  id: 6595b8187cda5685b31f8119
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646e57a5cb6ea6e6b6df1ad4/PlGhM2SUynFBUdYAylaZK.jpeg?w=200&h=200&f=face
      fullname: Fernando Fernandes Neto
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: fernandofernandes
      type: user
    createdAt: '2024-01-03T21:08:14.000Z'
    data:
      edited: false
      editors:
      - fernandofernandes
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9242433309555054
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646e57a5cb6ea6e6b6df1ad4/PlGhM2SUynFBUdYAylaZK.jpeg?w=200&h=200&f=face
          fullname: Fernando Fernandes Neto
          isHf: false
          isPro: true
          name: fernandofernandes
          type: user
        html: '<p>Yes. you can :)<br>Keep following our next steps &lt;3</p>

          '
        raw: 'Yes. you can :)

          Keep following our next steps <3'
        updatedAt: '2024-01-03T21:08:14.042Z'
      numEdits: 0
      reactions:
      - count: 4
        reaction: "\u2764\uFE0F"
        users:
        - Deniaud
        - roffmonster
        - quboshi
        - nguyenphuthien
    id: 6595ccbef80b20c057c0e3bf
    type: comment
  author: fernandofernandes
  content: 'Yes. you can :)

    Keep following our next steps <3'
  created_at: 2024-01-03 21:08:14+00:00
  edited: false
  hidden: false
  id: 6595ccbef80b20c057c0e3bf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7abaa1c25cd191dff10344308a516935.svg
      fullname: Lee Gao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: leegao19
      type: user
    createdAt: '2024-01-03T23:40:52.000Z'
    data:
      edited: true
      editors:
      - leegao19
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9491673707962036
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7abaa1c25cd191dff10344308a516935.svg
          fullname: Lee Gao
          isHf: false
          isPro: false
          name: leegao19
          type: user
        html: "<p>Do y'all have a quick/brief overview of how the pruning rates are\
          \ selected? Is it some variation of selecting a singular value cut-off from\
          \ the Marchenko\u2013Pastur distribution (say retain just 10% for layer\
          \ N, 20% of N-10, etc), and then normalize that based on the norm of the\
          \ matrix?</p>\n<p>I believe the paper did a first-order grid-search from\
          \ (highest layer, lowest-pruning-rate) across each weight. This encodes\
          \ the intuition in their paper that you shouldn't prune the early layers,\
          \ but pruning the later layers is extra beneficial. Is that strategy (favor\
          \ later layers) also applicable here?</p>\n<p>Additional question - would\
          \ we see a significant (inference) performance boost via preprocessing the\
          \ model? I thought a big part of the speedup due to using SVD is that SVD\
          \ matmul is much faster, I believe the resulting LASER-ed weights are still\
          \ data-dense with the same dimensions as before? That would suggest no speedup\
          \ in inference until the engine can take advantage of the knowledge that\
          \ some of the weights are low-rank right?</p>\n"
        raw: "Do y'all have a quick/brief overview of how the pruning rates are selected?\
          \ Is it some variation of selecting a singular value cut-off from the Marchenko\u2013\
          Pastur distribution (say retain just 10% for layer N, 20% of N-10, etc),\
          \ and then normalize that based on the norm of the matrix?\n\nI believe\
          \ the paper did a first-order grid-search from (highest layer, lowest-pruning-rate)\
          \ across each weight. This encodes the intuition in their paper that you\
          \ shouldn't prune the early layers, but pruning the later layers is extra\
          \ beneficial. Is that strategy (favor later layers) also applicable here?\n\
          \nAdditional question - would we see a significant (inference) performance\
          \ boost via preprocessing the model? I thought a big part of the speedup\
          \ due to using SVD is that SVD matmul is much faster, I believe the resulting\
          \ LASER-ed weights are still data-dense with the same dimensions as before?\
          \ That would suggest no speedup in inference until the engine can take advantage\
          \ of the knowledge that some of the weights are low-rank right?"
        updatedAt: '2024-01-03T23:44:23.470Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Deniaud
    id: 6595f084f63f23d56a8a6a95
    type: comment
  author: leegao19
  content: "Do y'all have a quick/brief overview of how the pruning rates are selected?\
    \ Is it some variation of selecting a singular value cut-off from the Marchenko\u2013\
    Pastur distribution (say retain just 10% for layer N, 20% of N-10, etc), and then\
    \ normalize that based on the norm of the matrix?\n\nI believe the paper did a\
    \ first-order grid-search from (highest layer, lowest-pruning-rate) across each\
    \ weight. This encodes the intuition in their paper that you shouldn't prune the\
    \ early layers, but pruning the later layers is extra beneficial. Is that strategy\
    \ (favor later layers) also applicable here?\n\nAdditional question - would we\
    \ see a significant (inference) performance boost via preprocessing the model?\
    \ I thought a big part of the speedup due to using SVD is that SVD matmul is much\
    \ faster, I believe the resulting LASER-ed weights are still data-dense with the\
    \ same dimensions as before? That would suggest no speedup in inference until\
    \ the engine can take advantage of the knowledge that some of the weights are\
    \ low-rank right?"
  created_at: 2024-01-03 23:40:52+00:00
  edited: true
  hidden: false
  id: 6595f084f63f23d56a8a6a95
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646e57a5cb6ea6e6b6df1ad4/PlGhM2SUynFBUdYAylaZK.jpeg?w=200&h=200&f=face
      fullname: Fernando Fernandes Neto
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: fernandofernandes
      type: user
    createdAt: '2024-01-04T02:53:55.000Z'
    data:
      edited: false
      editors:
      - fernandofernandes
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.935756504535675
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646e57a5cb6ea6e6b6df1ad4/PlGhM2SUynFBUdYAylaZK.jpeg?w=200&h=200&f=face
          fullname: Fernando Fernandes Neto
          isHf: false
          isPro: true
          name: fernandofernandes
          type: user
        html: '<p>We use marchenko pastur to define which is the threshold cut for
          singular values.<br>And yes, we start the search from top layers downwards,
          which is optimal. </p>

          <p>Stay tuned because we will release the code in the next few days.</p>

          '
        raw: "We use marchenko pastur to define which is the threshold cut for singular\
          \ values.\nAnd yes, we start the search from top layers downwards, which\
          \ is optimal. \n\nStay tuned because we will release the code in the next\
          \ few days."
        updatedAt: '2024-01-04T02:53:55.160Z'
      numEdits: 0
      reactions: []
    id: 65961dc3d94ead37189cadb7
    type: comment
  author: fernandofernandes
  content: "We use marchenko pastur to define which is the threshold cut for singular\
    \ values.\nAnd yes, we start the search from top layers downwards, which is optimal.\
    \ \n\nStay tuned because we will release the code in the next few days."
  created_at: 2024-01-04 02:53:55+00:00
  edited: false
  hidden: false
  id: 65961dc3d94ead37189cadb7
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: cognitivecomputations/dolphin-2.6-mistral-7b-dpo-laser
repo_type: model
status: open
target_branch: null
title: Open Code
