!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ayazdan
conflicting_files: null
created_at: 2022-11-08 05:57:01+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/76e5e7b51515b58e207c7d2a4b360d30.svg
      fullname: Amir Yazdanbakhsh
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ayazdan
      type: user
    createdAt: '2022-11-08T05:57:01.000Z'
    data:
      edited: false
      editors:
      - ayazdan
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/76e5e7b51515b58e207c7d2a4b360d30.svg
          fullname: Amir Yazdanbakhsh
          isHf: false
          isPro: false
          name: ayazdan
          type: user
        html: "<p>Thanks for the model. The accuracy of the model seems to be 79.42\
          \ (slightly lower). I am using the following script to evaluate:</p>\n<pre><code>python3\
          \ transformer-sparsity/examples/pytorch/text-classification/run_glue.py\
          \ \\\n        --model_name_or_path ${ckpt} \\\n        --task_name \"rte\"\
          \ \\\n        --do_eval \\\n        --max_seq_length 512 \\\n        --per_device_eval_batch_size\
          \ 32 \\\n        --evaluation_strategy steps \\\n        --logging_steps\
          \ ${eval_steps} \\\n        --logging_strategy steps \\\n        --overwrite_output_dir\
          \ \\\n        --output_dir ${ckpt_path} 2&gt;&amp;1 | tee ~/${ckpt_path}/finetune_run_$(date\
          \ +\"%Y_%m_%d_%I_%M_%p\").log\n</code></pre>\n"
        raw: "Thanks for the model. The accuracy of the model seems to be 79.42 (slightly\
          \ lower). I am using the following script to evaluate:\r\n\r\n```\r\npython3\
          \ transformer-sparsity/examples/pytorch/text-classification/run_glue.py\
          \ \\\r\n        --model_name_or_path ${ckpt} \\\r\n        --task_name \"\
          rte\" \\\r\n        --do_eval \\\r\n        --max_seq_length 512 \\\r\n\
          \        --per_device_eval_batch_size 32 \\\r\n        --evaluation_strategy\
          \ steps \\\r\n        --logging_steps ${eval_steps} \\\r\n        --logging_strategy\
          \ steps \\\r\n        --overwrite_output_dir \\\r\n        --output_dir\
          \ ${ckpt_path} 2>&1 | tee ~/${ckpt_path}/finetune_run_$(date +\"%Y_%m_%d_%I_%M_%p\"\
          ).log\r\n```"
        updatedAt: '2022-11-08T05:57:01.089Z'
      numEdits: 0
      reactions: []
    id: 6369efad56d1f9349814aa91
    type: comment
  author: ayazdan
  content: "Thanks for the model. The accuracy of the model seems to be 79.42 (slightly\
    \ lower). I am using the following script to evaluate:\r\n\r\n```\r\npython3 transformer-sparsity/examples/pytorch/text-classification/run_glue.py\
    \ \\\r\n        --model_name_or_path ${ckpt} \\\r\n        --task_name \"rte\"\
    \ \\\r\n        --do_eval \\\r\n        --max_seq_length 512 \\\r\n        --per_device_eval_batch_size\
    \ 32 \\\r\n        --evaluation_strategy steps \\\r\n        --logging_steps ${eval_steps}\
    \ \\\r\n        --logging_strategy steps \\\r\n        --overwrite_output_dir\
    \ \\\r\n        --output_dir ${ckpt_path} 2>&1 | tee ~/${ckpt_path}/finetune_run_$(date\
    \ +\"%Y_%m_%d_%I_%M_%p\").log\r\n```"
  created_at: 2022-11-08 05:57:01+00:00
  edited: false
  hidden: false
  id: 6369efad56d1f9349814aa91
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9e7b4fc709835c0934bf2671298c9b33.svg
      fullname: Jeremiah Zhou
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: JeremiahZ
      type: user
    createdAt: '2022-11-08T08:35:38.000Z'
    data:
      edited: false
      editors:
      - JeremiahZ
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9e7b4fc709835c0934bf2671298c9b33.svg
          fullname: Jeremiah Zhou
          isHf: false
          isPro: false
          name: JeremiahZ
          type: user
        html: '<p><code>AutoEvaluator</code> provided by <code>Huggingface</code>
          gives <code>0.791</code>, which means that your results are actually slightly
          better.<br>The results that I posted was <strong>auto-generated</strong>
          by <code>Trainer</code>. I am assuming that the discrepancy should be imputed
          to the <code>per_device_eval_batch_size</code> argument. By default, <code>Trainer</code>
          would discard examples that cannot fill a full batch.</p>

          '
        raw: '`AutoEvaluator` provided by `Huggingface` gives `0.791`, which means
          that your results are actually slightly better.

          The results that I posted was **auto-generated** by `Trainer`. I am assuming
          that the discrepancy should be imputed to the `per_device_eval_batch_size`
          argument. By default, `Trainer` would discard examples that cannot fill
          a full batch.'
        updatedAt: '2022-11-08T08:35:38.795Z'
      numEdits: 0
      reactions: []
      relatedEventId: 636a14da32bde55ebc0e31be
    id: 636a14da32bde55ebc0e31bd
    type: comment
  author: JeremiahZ
  content: '`AutoEvaluator` provided by `Huggingface` gives `0.791`, which means that
    your results are actually slightly better.

    The results that I posted was **auto-generated** by `Trainer`. I am assuming that
    the discrepancy should be imputed to the `per_device_eval_batch_size` argument.
    By default, `Trainer` would discard examples that cannot fill a full batch.'
  created_at: 2022-11-08 08:35:38+00:00
  edited: false
  hidden: false
  id: 636a14da32bde55ebc0e31bd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/9e7b4fc709835c0934bf2671298c9b33.svg
      fullname: Jeremiah Zhou
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: JeremiahZ
      type: user
    createdAt: '2022-11-08T08:35:38.000Z'
    data:
      status: closed
    id: 636a14da32bde55ebc0e31be
    type: status-change
  author: JeremiahZ
  created_at: 2022-11-08 08:35:38+00:00
  id: 636a14da32bde55ebc0e31be
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: JeremiahZ/roberta-base-rte
repo_type: model
status: closed
target_branch: null
title: Accuracy results seems to be wrong
