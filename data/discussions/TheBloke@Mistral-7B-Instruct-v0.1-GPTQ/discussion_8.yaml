!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Rohith1016
conflicting_files: null
created_at: 2023-11-16 09:01:32+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/214f490ef5705cde7a1f68df55d65388.svg
      fullname: RohithVaddeti
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Rohith1016
      type: user
    createdAt: '2023-11-16T09:01:32.000Z'
    data:
      edited: true
      editors:
      - Rohith1016
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3452623188495636
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/214f490ef5705cde7a1f68df55d65388.svg
          fullname: RohithVaddeti
          isHf: false
          isPro: false
          name: Rohith1016
          type: user
        html: '<p>Getting This error while using specific GPU<br>    ( eg [input_ids
          = tokenizer(prompt_template, return_tensors=''pt'').to(''cuda:3''])<br>but
          when using multiple GPU it is Working Fine  [input_ids = tokenizer(prompt_template,
          return_tensors=''pt'').input_ids.cuda()]</p>

          <p>ERROR:<br>Traceback (most recent call last):<br>  File "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/tokenization_utils_base.py",
          line 266, in <strong>getattr</strong><br>    return self.data[item]<br>KeyError:
          ''shape''</p>

          <p>During handling of the above exception, another exception occurred:</p>

          <p>Traceback (most recent call last):<br>  File "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py",
          line 1455, in wsgi_app<br>    response = self.full_dispatch_request()<br>  File
          "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py",
          line 869, in full_dispatch_request<br>    rv = self.handle_user_exception(e)<br>  File
          "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py",
          line 867, in full_dispatch_request<br>    rv = self.dispatch_request()<br>  File
          "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py",
          line 852, in dispatch_request<br>    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)<br>  File
          "/home2/asgtestdrive2023/Text2SQL/sql_api.py", line 16, in chat<br>    return
          jsonify({''response'' : get_data(query)})<br>  File "/home2/asgtestdrive2023/Text2SQL/sql_api.py",
          line 20, in get_data<br>    return text2sql(input)<br>  File "/home2/asgtestdrive2023/Text2SQL/pipeline_v3.py",
          line 205, in text2sql<br>    output = model.generate(inputs=input_ids, temperature=0.3,
          do_sample=True, top_p=0.95, top_k=1, max_new_tokens=512)<br>  File "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/torch/utils/_contextlib.py",
          line 115, in decorate_context<br>    return func(*args, **kwargs)<br>  File
          "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/generation/utils.py",
          line 1459, in generate<br>    batch_size = inputs_tensor.shape[0]<br>  File
          "/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/tokenization_utils_base.py",
          line 268, in <strong>getattr</strong><br>    raise AttributeError<br>AttributeError</p>

          '
        raw: "Getting This error while using specific GPU \n    ( eg [input_ids =\
          \ tokenizer(prompt_template, return_tensors='pt').to('cuda:3'])\nbut when\
          \ using multiple GPU it is Working Fine  [input_ids = tokenizer(prompt_template,\
          \ return_tensors='pt').input_ids.cuda()]\n\n\nERROR:\nTraceback (most recent\
          \ call last):\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
          , line 266, in __getattr__\n    return self.data[item]\nKeyError: 'shape'\n\
          \nDuring handling of the above exception, another exception occurred:\n\n\
          Traceback (most recent call last):\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
          , line 1455, in wsgi_app\n    response = self.full_dispatch_request()\n\
          \  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
          , line 869, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n\
          \  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
          , line 867, in full_dispatch_request\n    rv = self.dispatch_request()\n\
          \  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
          , line 852, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\n\
          \  File \"/home2/asgtestdrive2023/Text2SQL/sql_api.py\", line 16, in chat\n\
          \    return jsonify({'response' : get_data(query)})\n  File \"/home2/asgtestdrive2023/Text2SQL/sql_api.py\"\
          , line 20, in get_data\n    return text2sql(input)\n  File \"/home2/asgtestdrive2023/Text2SQL/pipeline_v3.py\"\
          , line 205, in text2sql\n    output = model.generate(inputs=input_ids, temperature=0.3,\
          \ do_sample=True, top_p=0.95, top_k=1, max_new_tokens=512)\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/torch/utils/_contextlib.py\"\
          , line 115, in decorate_context\n    return func(*args, **kwargs)\n  File\
          \ \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/generation/utils.py\"\
          , line 1459, in generate\n    batch_size = inputs_tensor.shape[0]\n  File\
          \ \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
          , line 268, in __getattr__\n    raise AttributeError\nAttributeError\n"
        updatedAt: '2023-11-16T09:53:15.934Z'
      numEdits: 2
      reactions: []
    id: 6555da6c795cd3777f27ba8d
    type: comment
  author: Rohith1016
  content: "Getting This error while using specific GPU \n    ( eg [input_ids = tokenizer(prompt_template,\
    \ return_tensors='pt').to('cuda:3'])\nbut when using multiple GPU it is Working\
    \ Fine  [input_ids = tokenizer(prompt_template, return_tensors='pt').input_ids.cuda()]\n\
    \n\nERROR:\nTraceback (most recent call last):\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
    , line 266, in __getattr__\n    return self.data[item]\nKeyError: 'shape'\n\n\
    During handling of the above exception, another exception occurred:\n\nTraceback\
    \ (most recent call last):\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
    , line 1455, in wsgi_app\n    response = self.full_dispatch_request()\n  File\
    \ \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
    , line 869, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n\
    \  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
    , line 867, in full_dispatch_request\n    rv = self.dispatch_request()\n  File\
    \ \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/flask/app.py\"\
    , line 852, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\n\
    \  File \"/home2/asgtestdrive2023/Text2SQL/sql_api.py\", line 16, in chat\n  \
    \  return jsonify({'response' : get_data(query)})\n  File \"/home2/asgtestdrive2023/Text2SQL/sql_api.py\"\
    , line 20, in get_data\n    return text2sql(input)\n  File \"/home2/asgtestdrive2023/Text2SQL/pipeline_v3.py\"\
    , line 205, in text2sql\n    output = model.generate(inputs=input_ids, temperature=0.3,\
    \ do_sample=True, top_p=0.95, top_k=1, max_new_tokens=512)\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/torch/utils/_contextlib.py\"\
    , line 115, in decorate_context\n    return func(*args, **kwargs)\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/generation/utils.py\"\
    , line 1459, in generate\n    batch_size = inputs_tensor.shape[0]\n  File \"/home2/asgtestdrive2023/Text2SQL/testvenv/lib/python3.10/site-packages/transformers/tokenization_utils_base.py\"\
    , line 268, in __getattr__\n    raise AttributeError\nAttributeError\n"
  created_at: 2023-11-16 09:01:32+00:00
  edited: true
  hidden: false
  id: 6555da6c795cd3777f27ba8d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/214f490ef5705cde7a1f68df55d65388.svg
      fullname: RohithVaddeti
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Rohith1016
      type: user
    createdAt: '2023-11-16T09:49:22.000Z'
    data:
      status: closed
    id: 6555e5a22da2e4f12e8c8f79
    type: status-change
  author: Rohith1016
  created_at: 2023-11-16 09:49:22+00:00
  id: 6555e5a22da2e4f12e8c8f79
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/214f490ef5705cde7a1f68df55d65388.svg
      fullname: RohithVaddeti
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Rohith1016
      type: user
    createdAt: '2023-11-16T09:49:24.000Z'
    data:
      status: open
    id: 6555e5a487dac33c9b23b096
    type: status-change
  author: Rohith1016
  created_at: 2023-11-16 09:49:24+00:00
  id: 6555e5a487dac33c9b23b096
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/214f490ef5705cde7a1f68df55d65388.svg
      fullname: RohithVaddeti
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Rohith1016
      type: user
    createdAt: '2023-11-17T04:59:21.000Z'
    data:
      from: AttributeError
      to: AttributeError, When using Specific GPU
    id: 6556f32934fcde24c63d1f16
    type: title-change
  author: Rohith1016
  created_at: 2023-11-17 04:59:21+00:00
  id: 6556f32934fcde24c63d1f16
  new_title: AttributeError, When using Specific GPU
  old_title: AttributeError
  type: title-change
is_pull_request: false
merge_commit_oid: null
num: 8
repo_id: TheBloke/Mistral-7B-Instruct-v0.1-GPTQ
repo_type: model
status: open
target_branch: null
title: AttributeError, When using Specific GPU
