!!python/object:huggingface_hub.community.DiscussionWithDetails
author: CrazyAIGC
conflicting_files: null
created_at: 2023-02-18 08:48:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e750058f3a364181ecc1728692639e8e.svg
      fullname: CrazyAIGC
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: CrazyAIGC
      type: user
    createdAt: '2023-02-18T08:48:28.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: /avatars/e750058f3a364181ecc1728692639e8e.svg
          fullname: CrazyAIGC
          isHf: false
          isPro: false
          name: CrazyAIGC
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-02-18T12:32:54.047Z'
      numEdits: 0
      reactions: []
    id: 63f090dc2f7c0152e86a0f0e
    type: comment
  author: CrazyAIGC
  content: This comment has been hidden
  created_at: 2023-02-18 08:48:28+00:00
  edited: true
  hidden: true
  id: 63f090dc2f7c0152e86a0f0e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608042047613-5f1158120c833276f61f1a84.jpeg?w=200&h=200&f=face
      fullname: Niels Rogge
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nielsr
      type: user
    createdAt: '2023-02-18T10:10:39.000Z'
    data:
      edited: true
      editors:
      - nielsr
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608042047613-5f1158120c833276f61f1a84.jpeg?w=200&h=200&f=face
          fullname: Niels Rogge
          isHf: true
          isPro: false
          name: nielsr
          type: user
        html: '<p>You need to also put your model on the GPU, i.e. <code>model.to("cuda")</code></p>

          '
        raw: You need to also put your model on the GPU, i.e. `model.to("cuda")`
        updatedAt: '2023-02-18T10:11:09.559Z'
      numEdits: 2
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - CrazyAIGC
    id: 63f0a41f36d0cf11412284b8
    type: comment
  author: nielsr
  content: You need to also put your model on the GPU, i.e. `model.to("cuda")`
  created_at: 2023-02-18 10:10:39+00:00
  edited: true
  hidden: false
  id: 63f0a41f36d0cf11412284b8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/06a88e438336fe4e1882680561cc8a3d.svg
      fullname: jacob
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jacobzlogar
      type: user
    createdAt: '2023-02-23T14:40:35.000Z'
    data:
      edited: false
      editors:
      - jacobzlogar
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/06a88e438336fe4e1882680561cc8a3d.svg
          fullname: jacob
          isHf: false
          isPro: false
          name: jacobzlogar
          type: user
        html: '<p>may not be able to on a 16gb V100</p>

          '
        raw: may not be able to on a 16gb V100
        updatedAt: '2023-02-23T14:40:35.731Z'
      numEdits: 0
      reactions: []
    id: 63f77ae34313d4ea9dc4b4df
    type: comment
  author: jacobzlogar
  content: may not be able to on a 16gb V100
  created_at: 2023-02-23 14:40:35+00:00
  edited: false
  hidden: false
  id: 63f77ae34313d4ea9dc4b4df
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608042047613-5f1158120c833276f61f1a84.jpeg?w=200&h=200&f=face
      fullname: Niels Rogge
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nielsr
      type: user
    createdAt: '2023-02-23T15:57:17.000Z'
    data:
      edited: true
      editors:
      - nielsr
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608042047613-5f1158120c833276f61f1a84.jpeg?w=200&h=200&f=face
          fullname: Niels Rogge
          isHf: true
          isPro: false
          name: nielsr
          type: user
        html: '<p>This model requires about 30 GB of GPU RAM if you use 8 bit inference
          (i.e. pass <code>load_in_8bit=True</code> to <code>from_pretrained</code>)</p>

          <p>So I''d recommend to check out smaller BLIP-2 variants.</p>

          '
        raw: 'This model requires about 30 GB of GPU RAM if you use 8 bit inference
          (i.e. pass `load_in_8bit=True` to `from_pretrained`)


          So I''d recommend to check out smaller BLIP-2 variants.'
        updatedAt: '2023-02-23T15:57:34.090Z'
      numEdits: 1
      reactions: []
    id: 63f78cdd0074cebe75d26c68
    type: comment
  author: nielsr
  content: 'This model requires about 30 GB of GPU RAM if you use 8 bit inference
    (i.e. pass `load_in_8bit=True` to `from_pretrained`)


    So I''d recommend to check out smaller BLIP-2 variants.'
  created_at: 2023-02-23 15:57:17+00:00
  edited: true
  hidden: false
  id: 63f78cdd0074cebe75d26c68
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6eb7c0dadfff3b3771832cbc62ed1033.svg
      fullname: Qinhong Zhou
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zhouqh
      type: user
    createdAt: '2023-03-12T06:55:38.000Z'
    data:
      edited: false
      editors:
      - zhouqh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6eb7c0dadfff3b3771832cbc62ed1033.svg
          fullname: Qinhong Zhou
          isHf: false
          isPro: false
          name: zhouqh
          type: user
        html: '<p>I use 8 bit inference on my 32gb V100 but failed.<br>I''ve already
          converted the input to fp16, but this bug still occurred.<br><code>AssertionError:
          The input data type needs to be fp16 but torch.float32 was found!</code><br>Has
          anyone successfully run the xxl model on the V100?</p>

          '
        raw: 'I use 8 bit inference on my 32gb V100 but failed.

          I''ve already converted the input to fp16, but this bug still occurred.

          `AssertionError: The input data type needs to be fp16 but torch.float32
          was found!`

          Has anyone successfully run the xxl model on the V100?'
        updatedAt: '2023-03-12T06:55:38.890Z'
      numEdits: 0
      reactions: []
    id: 640d776aa904b2e1bcf6dd45
    type: comment
  author: zhouqh
  content: 'I use 8 bit inference on my 32gb V100 but failed.

    I''ve already converted the input to fp16, but this bug still occurred.

    `AssertionError: The input data type needs to be fp16 but torch.float32 was found!`

    Has anyone successfully run the xxl model on the V100?'
  created_at: 2023-03-12 06:55:38+00:00
  edited: false
  hidden: false
  id: 640d776aa904b2e1bcf6dd45
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2023-03-12T09:20:18.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;zhouqh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/zhouqh\">@<span class=\"\
          underline\">zhouqh</span></a></span>\n\n\t</span></span><br>Can you share\
          \ with us the full traceback?</p>\n"
        raw: "@zhouqh \nCan you share with us the full traceback?"
        updatedAt: '2023-03-12T09:20:18.522Z'
      numEdits: 0
      reactions: []
    id: 640d99526e7c017374a3347d
    type: comment
  author: ybelkada
  content: "@zhouqh \nCan you share with us the full traceback?"
  created_at: 2023-03-12 08:20:18+00:00
  edited: false
  hidden: false
  id: 640d99526e7c017374a3347d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/06a88e438336fe4e1882680561cc8a3d.svg
      fullname: jacob
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jacobzlogar
      type: user
    createdAt: '2023-03-13T13:49:05.000Z'
    data:
      edited: false
      editors:
      - jacobzlogar
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/06a88e438336fe4e1882680561cc8a3d.svg
          fullname: jacob
          isHf: false
          isPro: false
          name: jacobzlogar
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;zhouqh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/zhouqh\">@<span class=\"\
          underline\">zhouqh</span></a></span>\n\n\t</span></span> i've run the <code>opt_6.7b</code>\
          \ variant on a 24gb a10 with fp16</p>\n"
        raw: '@zhouqh i''ve run the `opt_6.7b` variant on a 24gb a10 with fp16'
        updatedAt: '2023-03-13T13:49:05.380Z'
      numEdits: 0
      reactions: []
    id: 640f29d1df24a851b3743a35
    type: comment
  author: jacobzlogar
  content: '@zhouqh i''ve run the `opt_6.7b` variant on a 24gb a10 with fp16'
  created_at: 2023-03-13 12:49:05+00:00
  edited: false
  hidden: false
  id: 640f29d1df24a851b3743a35
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6eb7c0dadfff3b3771832cbc62ed1033.svg
      fullname: Qinhong Zhou
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zhouqh
      type: user
    createdAt: '2023-03-13T14:23:24.000Z'
    data:
      edited: true
      editors:
      - zhouqh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6eb7c0dadfff3b3771832cbc62ed1033.svg
          fullname: Qinhong Zhou
          isHf: false
          isPro: false
          name: zhouqh
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;ybelkada&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/ybelkada\">@<span class=\"\
          underline\">ybelkada</span></a></span>\n\n\t</span></span><br>The traceback\
          \ is very long and I only screenshot the head and the tail<br><a rel=\"\
          nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/1678717333975-640d7688c63516d41ed413ec.png\"\
          ><img alt=\"1.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/1678717333975-640d7688c63516d41ed413ec.png\"\
          ></a><br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/1678717333976-640d7688c63516d41ed413ec.png\"\
          ><img alt=\"5.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/1678717333976-640d7688c63516d41ed413ec.png\"\
          ></a></p>\n<blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;zhouqh&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/zhouqh\"\
          >@<span class=\"underline\">zhouqh</span></a></span>\n\n\t</span></span><br>Can\
          \ you share with us the full traceback?</p>\n</blockquote>\n"
        raw: "@ybelkada\nThe traceback is very long and I only screenshot the head\
          \ and the tail\n![1.png](https://cdn-uploads.huggingface.co/production/uploads/1678717333975-640d7688c63516d41ed413ec.png)\n\
          ![5.png](https://cdn-uploads.huggingface.co/production/uploads/1678717333976-640d7688c63516d41ed413ec.png)\n\
          > @zhouqh \n> Can you share with us the full traceback?"
        updatedAt: '2023-03-13T14:25:02.357Z'
      numEdits: 1
      reactions: []
    id: 640f31dc56a3dda8aecd26df
    type: comment
  author: zhouqh
  content: "@ybelkada\nThe traceback is very long and I only screenshot the head and\
    \ the tail\n![1.png](https://cdn-uploads.huggingface.co/production/uploads/1678717333975-640d7688c63516d41ed413ec.png)\n\
    ![5.png](https://cdn-uploads.huggingface.co/production/uploads/1678717333976-640d7688c63516d41ed413ec.png)\n\
    > @zhouqh \n> Can you share with us the full traceback?"
  created_at: 2023-03-13 13:23:24+00:00
  edited: true
  hidden: false
  id: 640f31dc56a3dda8aecd26df
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2023-03-13T15:34:47.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;zhouqh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/zhouqh\">@<span class=\"\
          underline\">zhouqh</span></a></span>\n\n\t</span></span><br>Thanks! Can\
          \ you try to update your bnb version? <code>pip install --upgrade bitsandbytes</code></p>\n"
        raw: "@zhouqh \nThanks! Can you try to update your bnb version? `pip install\
          \ --upgrade bitsandbytes`"
        updatedAt: '2023-03-13T15:34:47.606Z'
      numEdits: 0
      reactions: []
    id: 640f4297fafdc2ecff536cf7
    type: comment
  author: ybelkada
  content: "@zhouqh \nThanks! Can you try to update your bnb version? `pip install\
    \ --upgrade bitsandbytes`"
  created_at: 2023-03-13 14:34:47+00:00
  edited: false
  hidden: false
  id: 640f4297fafdc2ecff536cf7
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: Salesforce/blip2-flan-t5-xxl
repo_type: model
status: open
target_branch: null
title: can not run it on V100
