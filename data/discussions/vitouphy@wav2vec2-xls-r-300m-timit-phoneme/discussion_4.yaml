!!python/object:huggingface_hub.community.DiscussionWithDetails
author: chaney
conflicting_files: null
created_at: 2022-10-01 01:52:20+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/438fba609fc2f4abc26300512bd55e70.svg
      fullname: chris h
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: chaney
      type: user
    createdAt: '2022-10-01T02:52:20.000Z'
    data:
      edited: false
      editors:
      - chaney
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/438fba609fc2f4abc26300512bd55e70.svg
          fullname: chris h
          isHf: false
          isPro: true
          name: chaney
          type: user
        html: '<p>with torch.no_grad():<br>    logits = model(inputs.input_values,
          attention_mask=inputs.attention_mask).logits</p>

          <p>Gives this error </p>

          <hr>

          <p>RuntimeError                              Traceback (most recent call
          last)<br> in <br>      1 with torch.no_grad():<br>----&gt; 2     logits
          = model(inputs.input_values, attention_mask=inputs.attention_mask).logits</p>

          <p>10 frames<br>/usr/local/lib/python3.7/dist-packages/torch/nn/modules/conv.py
          in _conv_forward(self, input, weight, bias)<br>    302                             _single(0),
          self.dilation, self.groups)<br>    303         return F.conv1d(input, weight,
          bias, self.stride,<br>--&gt; 304                         self.padding, self.dilation,
          self.groups)<br>    305<br>    306     def forward(self, input: Tensor)
          -&gt; Tensor:</p>

          <p>RuntimeError: Expected 2D (unbatched) or 3D (batched) input to conv1d,
          but got input of size: [1, 1, 111177, 2]</p>

          '
        raw: "with torch.no_grad():\r\n    logits = model(inputs.input_values, attention_mask=inputs.attention_mask).logits\r\
          \n\r\nGives this error \r\n\r\n---------------------------------------------------------------------------\r\
          \nRuntimeError                              Traceback (most recent call\
          \ last)\r\n<ipython-input-7-5c88b70006bd> in <module>\r\n      1 with torch.no_grad():\r\
          \n----> 2     logits = model(inputs.input_values, attention_mask=inputs.attention_mask).logits\r\
          \n\r\n10 frames\r\n/usr/local/lib/python3.7/dist-packages/torch/nn/modules/conv.py\
          \ in _conv_forward(self, input, weight, bias)\r\n    302               \
          \              _single(0), self.dilation, self.groups)\r\n    303      \
          \   return F.conv1d(input, weight, bias, self.stride,\r\n--> 304       \
          \                  self.padding, self.dilation, self.groups)\r\n    305\
          \ \r\n    306     def forward(self, input: Tensor) -> Tensor:\r\n\r\nRuntimeError:\
          \ Expected 2D (unbatched) or 3D (batched) input to conv1d, but got input\
          \ of size: [1, 1, 111177, 2]"
        updatedAt: '2022-10-01T02:52:20.860Z'
      numEdits: 0
      reactions: []
    id: 6337ab64164fd6b346eb7ee5
    type: comment
  author: chaney
  content: "with torch.no_grad():\r\n    logits = model(inputs.input_values, attention_mask=inputs.attention_mask).logits\r\
    \n\r\nGives this error \r\n\r\n---------------------------------------------------------------------------\r\
    \nRuntimeError                              Traceback (most recent call last)\r\
    \n<ipython-input-7-5c88b70006bd> in <module>\r\n      1 with torch.no_grad():\r\
    \n----> 2     logits = model(inputs.input_values, attention_mask=inputs.attention_mask).logits\r\
    \n\r\n10 frames\r\n/usr/local/lib/python3.7/dist-packages/torch/nn/modules/conv.py\
    \ in _conv_forward(self, input, weight, bias)\r\n    302                     \
    \        _single(0), self.dilation, self.groups)\r\n    303         return F.conv1d(input,\
    \ weight, bias, self.stride,\r\n--> 304                         self.padding,\
    \ self.dilation, self.groups)\r\n    305 \r\n    306     def forward(self, input:\
    \ Tensor) -> Tensor:\r\n\r\nRuntimeError: Expected 2D (unbatched) or 3D (batched)\
    \ input to conv1d, but got input of size: [1, 1, 111177, 2]"
  created_at: 2022-10-01 01:52:20+00:00
  edited: false
  hidden: false
  id: 6337ab64164fd6b346eb7ee5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: vitouphy/wav2vec2-xls-r-300m-timit-phoneme
repo_type: model
status: open
target_branch: null
title: Error when running code
