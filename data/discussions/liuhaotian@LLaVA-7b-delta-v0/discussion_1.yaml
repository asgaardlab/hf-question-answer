!!python/object:huggingface_hub.community.DiscussionWithDetails
author: cheese111
conflicting_files: null
created_at: 2023-07-17 15:04:58+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/071c258a1b3ad2d5ea8744b2ab636f04.svg
      fullname: Bryan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cheese111
      type: user
    createdAt: '2023-07-17T16:04:58.000Z'
    data:
      edited: true
      editors:
      - cheese111
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3745516240596771
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/071c258a1b3ad2d5ea8744b2ab636f04.svg
          fullname: Bryan
          isHf: false
          isPro: false
          name: cheese111
          type: user
        html: '<p>Hi, tried running this locally but faced some errors. Followed the
          steps on the LLaVA github; applied delta weights to llama weights but got
          the following error.</p>

          <p>wondering if anyone knows what caused the error. Thanks &amp; sorry for
          the inconvience</p>

          <p>extra info: download llama 7B from <a href="https://huggingface.co/huggyllama/llama-7b/tree/main">https://huggingface.co/huggyllama/llama-7b/tree/main</a>,
          then these delta weights, tried reapplying weights, installed all libraries
          except deepspeed because I''m using windows</p>

          <p>2023-07-17 23:34:54 | INFO | model_worker | args: Namespace(host=''0.0.0.0'',
          port=40000, worker_address=''<a rel="nofollow" href="http://localhost:40000''">http://localhost:40000''</a>,
          controller_address=''<a rel="nofollow" href="http://localhost:10000''">http://localhost:10000''</a>,
          model_path=''C:\Users\rotte\Downloads\llama-7b'', model_base=None, model_name=None,
          multi_modal=False, keep_aspect_ratio=False, num_gpus=1, limit_model_concurrency=5,
          stream_interval=2, no_register=False)<br>2023-07-17 23:34:54 | INFO | model_worker
          | Loading the model C:\Users\rotte\Downloads\llama-7b on worker abaf9f ...<br>2023-07-17
          23:34:54 | ERROR | stderr |<br>Loading checkpoint shards:   0%|                                                                                                                                          |
          0/2 [00:00&lt;?, ?it/s]<br>2023-07-17 23:34:54 | ERROR | stderr | --- Logging
          error ---<br>2023-07-17 23:34:54 | ERROR | stderr | Traceback (most recent
          call last):<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init__.py",
          line 1103, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg
          + self.terminator)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\encodings\cp1252.py",
          line 19, in encode<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          codecs.charmap_encode(input,self.errors,encoding_table)[0]<br>2023-07-17
          23:34:54 | ERROR | stderr | UnicodeEncodeError: ''charmap'' codec can''t
          encode characters in position 72-201: character maps to <br>2023-07-17 23:34:54
          | ERROR | stderr |<br>2023-07-17 23:34:54 | ERROR | stderr | During handling
          of the above exception, another exception occurred:<br>2023-07-17 23:34:54
          | ERROR | stderr |<br>2023-07-17 23:34:54 | ERROR | stderr | Traceback (most
          recent call last):<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1103, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg
          + self.terminator)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\encodings\cp1252.py",
          line 19, in encode<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          codecs.charmap_encode(input,self.errors,encoding_table)[0]<br>2023-07-17
          23:34:54 | ERROR | stderr | UnicodeEncodeError: ''charmap'' codec can''t
          encode characters in position 71-200: character maps to <br>2023-07-17 23:34:54
          | ERROR | stderr | Call stack:<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\runpy.py", line 196, in <em>run_module_as_main<br>2023-07-17
          23:34:54 | ERROR | stderr |     return <em>run_code(code, main_globals,
          None,<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\runpy.py",
          line 86, in <em>run_code<br>2023-07-17 23:34:54 | ERROR | stderr |     exec(code,
          run_globals)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\serve\model_worker.py",
          line 416, in <br>2023-07-17 23:34:54 | ERROR | stderr |     worker = ModelWorker(args.controller_address,<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\serve\model_worker.py",
          line 164, in <strong>init</strong><br>2023-07-17 23:34:54 | ERROR | stderr
          |     self.tokenizer, self.model, self.image_processor, self.context_len
          = load_model(<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\serve\model_worker.py",
          line 106, in load_model<br>2023-07-17 23:34:54 | ERROR | stderr |     model
          = AutoModelForCausalLM.from_pretrained(model_path, torch_dtype=torch.float16,
          low_cpu_mem_usage=True, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr
          |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\transformers\models\auto\auto_factory.py",
          line 471, in from_pretrained<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          model_class.from_pretrained(<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\transformers\modeling_utils.py",
          line 2643, in from_pretrained<br>2023-07-17 23:34:54 | ERROR | stderr |     )
          = cls.<em>load_pretrained_model(<br>2023-07-17 23:34:54 | ERROR | stderr
          |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\transformers\modeling_utils.py",
          line 2948, in <em>load_pretrained_model<br>2023-07-17 23:34:54 | ERROR |
          stderr |     for shard_file in resolved_archive_file:<br>2023-07-17 23:34:54
          | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1188, in <strong>iter</strong><br>2023-07-17 23:34:54 | ERROR | stderr
          |     self.update(n - last_print_n)<br>2023-07-17 23:34:54 | ERROR | stderr
          |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1239, in update<br>2023-07-17 23:34:54 | ERROR | stderr |     self.refresh(lock_args=self.lock_args)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1344, in refresh<br>2023-07-17 23:34:54 | ERROR | stderr |     self.display()<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1492, in display<br>2023-07-17 23:34:54 | ERROR | stderr |     self.sp(self.<strong>str</strong>()
          if msg is None else msg)<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py", line
          347, in print_status<br>2023-07-17 23:34:54 | ERROR | stderr |     fp_write(''\r''
          + s + ('' '' * max(last_len[0] - len_s, 0)))<br>2023-07-17 23:34:54 | ERROR
          | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 341, in fp_write<br>2023-07-17 23:34:54 | ERROR | stderr |     fp_flush()<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\utils.py",
          line 127, in inner<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          func(*args, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\utils.py",
          line 89, in flush<br>2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,
          self.linebuf.rstrip())<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1547, in log<br>2023-07-17 23:34:54 | ERROR | stderr |     self.<em>log(level,
          msg, args, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1624, in <em>log<br>2023-07-17 23:34:54 | ERROR | stderr |     self.handle(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1634, in handle<br>2023-07-17 23:34:54 | ERROR | stderr |     self.callHandlers(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1696, in callHandlers<br>2023-07-17 23:34:54 | ERROR | stderr |     hdlr.handle(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 968, in handle<br>2023-07-17 23:34:54 | ERROR | stderr |     self.emit(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging\handlers.py",
          line 75, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     logging.FileHandler.emit(self,
          record)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1218, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     StreamHandler.emit(self,
          record)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1108, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     self.handleError(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em><em>.py",
          line 1021, in handleError<br>2023-07-17 23:34:54 | ERROR | stderr |     sys.stderr.write(''---
          Logging error ---\n'')<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\Downloads\LLaVA\llava\utils.py", line 83, in write<br>2023-07-17
          23:34:54 | ERROR | stderr |     self.logger.log(self.log_level, line.rstrip())<br>2023-07-17
          23:34:54 | ERROR | stderr | --- Logging error ---<br>2023-07-17 23:34:54
          | ERROR | stderr | Traceback (most recent call last):<br>2023-07-17 23:34:54
          | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1103, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg
          + self.terminator)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\encodings\cp1252.py",
          line 19, in encode<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          codecs.charmap_encode(input,self.errors,encoding_table)[0]<br>2023-07-17
          23:34:54 | ERROR | stderr | UnicodeEncodeError: ''charmap'' codec can''t
          encode characters in position 72-201: character maps to <br>2023-07-17 23:34:54
          | ERROR | stderr |<br>2023-07-17 23:34:54 | ERROR | stderr | During handling
          of the above exception, another exception occurred:<br>2023-07-17 23:34:54
          | ERROR | stderr |<br>2023-07-17 23:34:54 | ERROR | stderr | Traceback (most
          recent call last):<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em><em>.py",
          line 1103, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg
          + self.terminator)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\encodings\cp1252.py",
          line 19, in encode<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          codecs.charmap_encode(input,self.errors,encoding_table)[0]<br>2023-07-17
          23:34:54 | ERROR | stderr | UnicodeEncodeError: ''charmap'' codec can''t
          encode characters in position 71-200: character maps to <br>2023-07-17 23:34:54
          | ERROR | stderr |<br>2023-07-17 23:34:54 | ERROR | stderr | During handling
          of the above exception, another exception occurred:<br>2023-07-17 23:34:54
          | ERROR | stderr |<br>2023-07-17 23:34:54 | ERROR | stderr | Traceback (most
          recent call last):<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1103, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg
          + self.terminator)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\encodings\cp1252.py",
          line 19, in encode<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          codecs.charmap_encode(input,self.errors,encoding_table)[0]<br>2023-07-17
          23:34:54 | ERROR | stderr | UnicodeEncodeError: ''charmap'' codec can''t
          encode characters in position 81-210: character maps to <br>2023-07-17 23:34:54
          | ERROR | stderr | Call stack:<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\runpy.py", line 196, in <em>run_module_as_main<br>2023-07-17
          23:34:54 | ERROR | stderr |     return <em>run_code(code, main_globals,
          None,<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\runpy.py",
          line 86, in <em>run_code<br>2023-07-17 23:34:54 | ERROR | stderr |     exec(code,
          run_globals)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\serve\model_worker.py",
          line 416, in <br>2023-07-17 23:34:54 | ERROR | stderr |     worker = ModelWorker(args.controller_address,<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\serve\model_worker.py",
          line 164, in <strong>init</strong><br>2023-07-17 23:34:54 | ERROR | stderr
          |     self.tokenizer, self.model, self.image_processor, self.context_len
          = load_model(<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\serve\model_worker.py",
          line 106, in load_model<br>2023-07-17 23:34:54 | ERROR | stderr |     model
          = AutoModelForCausalLM.from_pretrained(model_path, torch_dtype=torch.float16,
          low_cpu_mem_usage=True, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr
          |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\transformers\models\auto\auto_factory.py",
          line 471, in from_pretrained<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          model_class.from_pretrained(<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\transformers\modeling_utils.py",
          line 2643, in from_pretrained<br>2023-07-17 23:34:54 | ERROR | stderr |     )
          = cls.<em>load_pretrained_model(<br>2023-07-17 23:34:54 | ERROR | stderr
          |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\transformers\modeling_utils.py",
          line 2948, in <em>load_pretrained_model<br>2023-07-17 23:34:54 | ERROR |
          stderr |     for shard_file in resolved_archive_file:<br>2023-07-17 23:34:54
          | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1188, in <strong>iter</strong><br>2023-07-17 23:34:54 | ERROR | stderr
          |     self.update(n - last_print_n)<br>2023-07-17 23:34:54 | ERROR | stderr
          |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1239, in update<br>2023-07-17 23:34:54 | ERROR | stderr |     self.refresh(lock_args=self.lock_args)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1344, in refresh<br>2023-07-17 23:34:54 | ERROR | stderr |     self.display()<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 1492, in display<br>2023-07-17 23:34:54 | ERROR | stderr |     self.sp(self.<strong>str</strong>()
          if msg is None else msg)<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py", line
          347, in print_status<br>2023-07-17 23:34:54 | ERROR | stderr |     fp_write(''\r''
          + s + ('' '' * max(last_len[0] - len_s, 0)))<br>2023-07-17 23:34:54 | ERROR
          | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\std.py",
          line 341, in fp_write<br>2023-07-17 23:34:54 | ERROR | stderr |     fp_flush()<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\site-packages\tqdm\utils.py",
          line 127, in inner<br>2023-07-17 23:34:54 | ERROR | stderr |     return
          func(*args, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\utils.py",
          line 89, in flush<br>2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,
          self.linebuf.rstrip())<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1547, in log<br>2023-07-17 23:34:54 | ERROR | stderr |     self.<em>log(level,
          msg, args, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1624, in <em>log<br>2023-07-17 23:34:54 | ERROR | stderr |     self.handle(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1634, in handle<br>2023-07-17 23:34:54 | ERROR | stderr |     self.callHandlers(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1696, in callHandlers<br>2023-07-17 23:34:54 | ERROR | stderr |     hdlr.handle(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 968, in handle<br>2023-07-17 23:34:54 | ERROR | stderr |     self.emit(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging\handlers.py",
          line 75, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     logging.FileHandler.emit(self,
          record)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1218, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     StreamHandler.emit(self,
          record)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1108, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     self.handleError(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em><em>.py",
          line 1021, in handleError<br>2023-07-17 23:34:54 | ERROR | stderr |     sys.stderr.write(''---
          Logging error ---\n'')<br>2023-07-17 23:34:54 | ERROR | stderr |   File
          "C:\Users\rotte\Downloads\LLaVA\llava\utils.py", line 83, in write<br>2023-07-17
          23:34:54 | ERROR | stderr |     self.logger.log(self.log_level, line.rstrip())<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1547, in log<br>2023-07-17 23:34:54 | ERROR | stderr |     self.<em>log(level,
          msg, args, **kwargs)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1624, in <em>log<br>2023-07-17 23:34:54 | ERROR | stderr |     self.handle(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1634, in handle<br>2023-07-17 23:34:54 | ERROR | stderr |     self.callHandlers(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em><em>.py",
          line 1696, in callHandlers<br>2023-07-17 23:34:54 | ERROR | stderr |     hdlr.handle(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 968, in handle<br>2023-07-17 23:34:54 | ERROR | stderr |     self.emit(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging\handlers.py",
          line 75, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     logging.FileHandler.emit(self,
          record)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em><em>.py",
          line 1218, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     StreamHandler.emit(self,
          record)<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em></em>.py",
          line 1108, in emit<br>2023-07-17 23:34:54 | ERROR | stderr |     self.handleError(record)<br>2023-07-17
          23:34:54 | ERROR | stderr |   File "C:\Users\rotte\miniconda3\envs\llava\lib\logging_<em>init</em>_.py",
          line 1038, in handleError<br>2023-07-17 23:34:54 | ERROR | stderr |     sys.stderr.write(''Message:
          %r\n''<br>2023-07-17 23:34:54 | ERROR | stderr |   File "C:\Users\rotte\Downloads\LLaVA\llava\utils.py",
          line 83, in write<br>2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,
          line.rstrip())</p>

          <p>Env:<br>Package                   Version      Editable project location</p>

          <hr>

          <p>accelerate                0.21.0<br>aiofiles                  23.1.0<br>aiohttp                   3.8.4<br>aiosignal                 1.3.1<br>altair                    5.0.1<br>annotated-types           0.5.0<br>anyio                     3.7.1<br>appdirs                   1.4.4<br>async-timeout             4.0.2<br>attrs                     23.1.0<br>brotlipy                  0.7.0<br>certifi                   2023.5.7<br>cffi                      1.15.1<br>chardet                   5.1.0<br>charset-normalizer        2.0.4<br>click                     8.1.5<br>colorama                  0.4.6<br>contourpy                 1.1.0<br>cryptography              39.0.1<br>cycler                    0.11.0<br>docker-pycreds            0.4.0<br>einops                    0.6.1<br>exceptiongroup            1.1.2<br>fastapi                   0.100.0<br>ffmpy                     0.3.1<br>filelock                  3.12.2<br>fonttools                 4.41.0<br>frozenlist                1.4.0<br>fsspec                    2023.6.0<br>gitdb                     4.0.10<br>GitPython                 3.1.32<br>gradio                    3.35.2<br>gradio_client             0.2.9<br>h11                       0.14.0<br>httpcore                  0.17.3<br>httpx                     0.24.0<br>huggingface-hub           0.16.4<br>idna                      3.4<br>Jinja2                    3.1.2<br>jsonschema                4.18.3<br>jsonschema-specifications
          2023.6.1<br>kiwisolver                1.4.4<br>libaio                    0.9.1<br>linkify-it-py             2.0.2<br>llava                     0.2.0        C:\Users\rotte\Downloads\LLaVA<br>markdown-it-py            2.2.0<br>markdown2                 2.4.9<br>MarkupSafe                2.1.1<br>matplotlib                3.7.2<br>mdit-py-plugins           0.3.3<br>mdurl                     0.1.2<br>mkl-fft                   1.3.6<br>mkl-random                1.2.2<br>mkl-service               2.4.0<br>mpmath                    1.2.1<br>multidict                 6.0.4<br>networkx                  2.8.4<br>ninja                     1.11.1<br>numpy                     1.25.0<br>orjson                    3.9.2<br>packaging                 23.1<br>pandas                    2.0.3<br>pathtools                 0.1.2<br>peft                      0.3.0<br>Pillow                    9.3.0<br>pip                       23.1.2<br>protobuf                  3.20.3<br>psutil                    5.9.5<br>pycparser                 2.21<br>pydantic                  2.0.3<br>pydantic_core             2.3.0<br>pydub                     0.25.1<br>Pygments                  2.15.1<br>pyOpenSSL                 23.0.0<br>pyparsing                 3.0.9<br>PySocks                   1.7.1<br>python-dateutil           2.8.2<br>python-multipart          0.0.6<br>pytz                      2023.3<br>PyYAML                    6.0<br>referencing               0.29.1<br>regex                     2023.6.3<br>requests                  2.29.0<br>rpds-py                   0.8.11<br>safetensors               0.3.1<br>semantic-version          2.10.0<br>sentencepiece             0.1.99<br>sentry-sdk                1.28.1<br>setproctitle              1.3.2<br>setuptools                67.8.0<br>shortuuid                 1.0.11<br>six                       1.16.0<br>smmap                     5.0.0<br>sniffio                   1.3.0<br>starlette                 0.27.0<br>svgwrite                  1.4.3<br>sympy                     1.11.1<br>tokenizers                0.12.1<br>toolz                     0.12.0<br>torch                     2.0.1<br>torchaudio                2.0.2+cu118<br>torchvision               0.15.2+cu118<br>tqdm                      4.65.0<br>transformers              4.28.0.dev0<br>typing_extensions         4.6.3<br>tzdata                    2023.3<br>uc-micro-py               1.0.2<br>urllib3                   1.26.16<br>uvicorn                   0.23.0<br>wandb                     0.15.5<br>wavedrom                  2.0.3.post3<br>websockets                11.0.3<br>wheel                     0.38.4<br>win-inet-pton             1.1.0<br>yarl                      1.9.2</p>

          '
        raw: "Hi, tried running this locally but faced some errors. Followed the steps\
          \ on the LLaVA github; applied delta weights to llama weights but got the\
          \ following error.\n\nwondering if anyone knows what caused the error. Thanks\
          \ & sorry for the inconvience\n\nextra info: download llama 7B from https://huggingface.co/huggyllama/llama-7b/tree/main,\
          \ then these delta weights, tried reapplying weights, installed all libraries\
          \ except deepspeed because I'm using windows\n\n\n2023-07-17 23:34:54 |\
          \ INFO | model_worker | args: Namespace(host='0.0.0.0', port=40000, worker_address='http://localhost:40000',\
          \ controller_address='http://localhost:10000', model_path='C:\\\\Users\\\
          \\rotte\\\\Downloads\\\\llama-7b', model_base=None, model_name=None, multi_modal=False,\
          \ keep_aspect_ratio=False, num_gpus=1, limit_model_concurrency=5, stream_interval=2,\
          \ no_register=False)\n2023-07-17 23:34:54 | INFO | model_worker | Loading\
          \ the model C:\\Users\\rotte\\Downloads\\llama-7b on worker abaf9f ...\n\
          2023-07-17 23:34:54 | ERROR | stderr | \nLoading checkpoint shards:   0%|\
          \                                                                      \
          \                                                                    | 0/2\
          \ [00:00<?, ?it/s]\n2023-07-17 23:34:54 | ERROR | stderr | --- Logging error\
          \ ---\n2023-07-17 23:34:54 | ERROR | stderr | Traceback (most recent call\
          \ last):\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\\
          miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1103, in emit\n\
          2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg + self.terminator)\n\
          2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
          envs\\llava\\lib\\encodings\\cp1252.py\", line 19, in encode\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
          2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec\
          \ can't encode characters in position 72-201: character maps to <undefined>\n\
          2023-07-17 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr\
          \ | During handling of the above exception, another exception occurred:\n\
          2023-07-17 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr\
          \ | Traceback (most recent call last):\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1103, in emit\n2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg\
          \ + self.terminator)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
          Users\\rotte\\miniconda3\\envs\\llava\\lib\\encodings\\cp1252.py\", line\
          \ 19, in encode\n2023-07-17 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
          2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec\
          \ can't encode characters in position 71-200: character maps to <undefined>\n\
          2023-07-17 23:34:54 | ERROR | stderr | Call stack:\n2023-07-17 23:34:54\
          \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
          lib\\runpy.py\", line 196, in _run_module_as_main\n2023-07-17 23:34:54 |\
          \ ERROR | stderr |     return _run_code(code, main_globals, None,\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\runpy.py\", line 86, in _run_code\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |     exec(code, run_globals)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\serve\\model_worker.py\"\
          , line 416, in <module>\n2023-07-17 23:34:54 | ERROR | stderr |     worker\
          \ = ModelWorker(args.controller_address,\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\serve\\model_worker.py\"\
          , line 164, in __init__\n2023-07-17 23:34:54 | ERROR | stderr |     self.tokenizer,\
          \ self.model, self.image_processor, self.context_len = load_model(\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\\
          llava\\serve\\model_worker.py\", line 106, in load_model\n2023-07-17 23:34:54\
          \ | ERROR | stderr |     model = AutoModelForCausalLM.from_pretrained(model_path,\
          \ torch_dtype=torch.float16, low_cpu_mem_usage=True, **kwargs)\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\site-packages\\transformers\\models\\auto\\auto_factory.py\"\
          , line 471, in from_pretrained\n2023-07-17 23:34:54 | ERROR | stderr | \
          \    return model_class.from_pretrained(\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          transformers\\modeling_utils.py\", line 2643, in from_pretrained\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     ) = cls._load_pretrained_model(\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\site-packages\\transformers\\modeling_utils.py\", line 2948,\
          \ in _load_pretrained_model\n2023-07-17 23:34:54 | ERROR | stderr |    \
          \ for shard_file in resolved_archive_file:\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\std.py\", line 1188, in __iter__\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.update(n - last_print_n)\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\std.py\", line 1239, in update\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.refresh(lock_args=self.lock_args)\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\std.py\", line 1344, in refresh\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.display()\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
          C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\std.py\"\
          , line 1492, in display\n2023-07-17 23:34:54 | ERROR | stderr |     self.sp(self.__str__()\
          \ if msg is None else msg)\n2023-07-17 23:34:54 | ERROR | stderr |   File\
          \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\\
          std.py\", line 347, in print_status\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     fp_write('\\r' + s + (' ' * max(last_len[0] - len_s, 0)))\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\site-packages\\tqdm\\std.py\", line 341, in fp_write\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     fp_flush()\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\utils.py\", line 127, in inner\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     return func(*args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line\
          \ 89, in flush\n2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,\
          \ self.linebuf.rstrip())\n2023-07-17 23:34:54 | ERROR | stderr |   File\
          \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1547, in log\n2023-07-17 23:34:54 | ERROR | stderr |     self._log(level,\
          \ msg, args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
          C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\",\
          \ line 1624, in _log\n2023-07-17 23:34:54 | ERROR | stderr |     self.handle(record)\n\
          2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
          envs\\llava\\lib\\logging\\__init__.py\", line 1634, in handle\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     self.callHandlers(record)\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\logging\\__init__.py\", line 1696, in callHandlers\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     hdlr.handle(record)\n2023-07-17 23:34:54\
          \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
          lib\\logging\\__init__.py\", line 968, in handle\n2023-07-17 23:34:54 |\
          \ ERROR | stderr |     self.emit(record)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          handlers.py\", line 75, in emit\n2023-07-17 23:34:54 | ERROR | stderr |\
          \     logging.FileHandler.emit(self, record)\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          __init__.py\", line 1218, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     StreamHandler.emit(self, record)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          __init__.py\", line 1108, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.handleError(record)\n2023-07-17 23:34:54 | ERROR | stderr |\
          \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1021, in handleError\n2023-07-17 23:34:54 | ERROR | stderr |    \
          \ sys.stderr.write('--- Logging error ---\\n')\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\"\
          , line 83, in write\n2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,\
          \ line.rstrip())\n2023-07-17 23:34:54 | ERROR | stderr | --- Logging error\
          \ ---\n2023-07-17 23:34:54 | ERROR | stderr | Traceback (most recent call\
          \ last):\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\\
          miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1103, in emit\n\
          2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg + self.terminator)\n\
          2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
          envs\\llava\\lib\\encodings\\cp1252.py\", line 19, in encode\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
          2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec\
          \ can't encode characters in position 72-201: character maps to <undefined>\n\
          2023-07-17 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr\
          \ | During handling of the above exception, another exception occurred:\n\
          2023-07-17 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr\
          \ | Traceback (most recent call last):\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1103, in emit\n2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg\
          \ + self.terminator)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
          Users\\rotte\\miniconda3\\envs\\llava\\lib\\encodings\\cp1252.py\", line\
          \ 19, in encode\n2023-07-17 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
          2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec\
          \ can't encode characters in position 71-200: character maps to <undefined>\n\
          2023-07-17 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr\
          \ | During handling of the above exception, another exception occurred:\n\
          2023-07-17 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr\
          \ | Traceback (most recent call last):\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1103, in emit\n2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg\
          \ + self.terminator)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
          Users\\rotte\\miniconda3\\envs\\llava\\lib\\encodings\\cp1252.py\", line\
          \ 19, in encode\n2023-07-17 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
          2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec\
          \ can't encode characters in position 81-210: character maps to <undefined>\n\
          2023-07-17 23:34:54 | ERROR | stderr | Call stack:\n2023-07-17 23:34:54\
          \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
          lib\\runpy.py\", line 196, in _run_module_as_main\n2023-07-17 23:34:54 |\
          \ ERROR | stderr |     return _run_code(code, main_globals, None,\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\runpy.py\", line 86, in _run_code\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |     exec(code, run_globals)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\serve\\model_worker.py\"\
          , line 416, in <module>\n2023-07-17 23:34:54 | ERROR | stderr |     worker\
          \ = ModelWorker(args.controller_address,\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\serve\\model_worker.py\"\
          , line 164, in __init__\n2023-07-17 23:34:54 | ERROR | stderr |     self.tokenizer,\
          \ self.model, self.image_processor, self.context_len = load_model(\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\\
          llava\\serve\\model_worker.py\", line 106, in load_model\n2023-07-17 23:34:54\
          \ | ERROR | stderr |     model = AutoModelForCausalLM.from_pretrained(model_path,\
          \ torch_dtype=torch.float16, low_cpu_mem_usage=True, **kwargs)\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\site-packages\\transformers\\models\\auto\\auto_factory.py\"\
          , line 471, in from_pretrained\n2023-07-17 23:34:54 | ERROR | stderr | \
          \    return model_class.from_pretrained(\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          transformers\\modeling_utils.py\", line 2643, in from_pretrained\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     ) = cls._load_pretrained_model(\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\site-packages\\transformers\\modeling_utils.py\", line 2948,\
          \ in _load_pretrained_model\n2023-07-17 23:34:54 | ERROR | stderr |    \
          \ for shard_file in resolved_archive_file:\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\std.py\", line 1188, in __iter__\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.update(n - last_print_n)\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\std.py\", line 1239, in update\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.refresh(lock_args=self.lock_args)\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\std.py\", line 1344, in refresh\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.display()\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
          C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\std.py\"\
          , line 1492, in display\n2023-07-17 23:34:54 | ERROR | stderr |     self.sp(self.__str__()\
          \ if msg is None else msg)\n2023-07-17 23:34:54 | ERROR | stderr |   File\
          \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\\
          std.py\", line 347, in print_status\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     fp_write('\\r' + s + (' ' * max(last_len[0] - len_s, 0)))\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\site-packages\\tqdm\\std.py\", line 341, in fp_write\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     fp_flush()\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
          tqdm\\utils.py\", line 127, in inner\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     return func(*args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line\
          \ 89, in flush\n2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,\
          \ self.linebuf.rstrip())\n2023-07-17 23:34:54 | ERROR | stderr |   File\
          \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1547, in log\n2023-07-17 23:34:54 | ERROR | stderr |     self._log(level,\
          \ msg, args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
          C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\",\
          \ line 1624, in _log\n2023-07-17 23:34:54 | ERROR | stderr |     self.handle(record)\n\
          2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
          envs\\llava\\lib\\logging\\__init__.py\", line 1634, in handle\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     self.callHandlers(record)\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\logging\\__init__.py\", line 1696, in callHandlers\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     hdlr.handle(record)\n2023-07-17 23:34:54\
          \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
          lib\\logging\\__init__.py\", line 968, in handle\n2023-07-17 23:34:54 |\
          \ ERROR | stderr |     self.emit(record)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          handlers.py\", line 75, in emit\n2023-07-17 23:34:54 | ERROR | stderr |\
          \     logging.FileHandler.emit(self, record)\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          __init__.py\", line 1218, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     StreamHandler.emit(self, record)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          __init__.py\", line 1108, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.handleError(record)\n2023-07-17 23:34:54 | ERROR | stderr |\
          \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1021, in handleError\n2023-07-17 23:34:54 | ERROR | stderr |    \
          \ sys.stderr.write('--- Logging error ---\\n')\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\"\
          , line 83, in write\n2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,\
          \ line.rstrip())\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
          rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1547,\
          \ in log\n2023-07-17 23:34:54 | ERROR | stderr |     self._log(level, msg,\
          \ args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
          Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line\
          \ 1624, in _log\n2023-07-17 23:34:54 | ERROR | stderr |     self.handle(record)\n\
          2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
          envs\\llava\\lib\\logging\\__init__.py\", line 1634, in handle\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     self.callHandlers(record)\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\\
          llava\\lib\\logging\\__init__.py\", line 1696, in callHandlers\n2023-07-17\
          \ 23:34:54 | ERROR | stderr |     hdlr.handle(record)\n2023-07-17 23:34:54\
          \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
          lib\\logging\\__init__.py\", line 968, in handle\n2023-07-17 23:34:54 |\
          \ ERROR | stderr |     self.emit(record)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          handlers.py\", line 75, in emit\n2023-07-17 23:34:54 | ERROR | stderr |\
          \     logging.FileHandler.emit(self, record)\n2023-07-17 23:34:54 | ERROR\
          \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          __init__.py\", line 1218, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     StreamHandler.emit(self, record)\n2023-07-17 23:34:54 | ERROR |\
          \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
          __init__.py\", line 1108, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |     self.handleError(record)\n2023-07-17 23:34:54 | ERROR | stderr |\
          \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\"\
          , line 1038, in handleError\n2023-07-17 23:34:54 | ERROR | stderr |    \
          \ sys.stderr.write('Message: %r\\n'\n2023-07-17 23:34:54 | ERROR | stderr\
          \ |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line\
          \ 83, in write\n2023-07-17 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level,\
          \ line.rstrip())\n\nEnv:\nPackage                   Version      Editable\
          \ project location\n------------------------- ------------ ------------------------------\n\
          accelerate                0.21.0\naiofiles                  23.1.0\naiohttp\
          \                   3.8.4\naiosignal                 1.3.1\naltair     \
          \               5.0.1\nannotated-types           0.5.0\nanyio          \
          \           3.7.1\nappdirs                   1.4.4\nasync-timeout      \
          \       4.0.2\nattrs                     23.1.0\nbrotlipy              \
          \    0.7.0\ncertifi                   2023.5.7\ncffi                   \
          \   1.15.1\nchardet                   5.1.0\ncharset-normalizer        2.0.4\n\
          click                     8.1.5\ncolorama                  0.4.6\ncontourpy\
          \                 1.1.0\ncryptography              39.0.1\ncycler      \
          \              0.11.0\ndocker-pycreds            0.4.0\neinops         \
          \           0.6.1\nexceptiongroup            1.1.2\nfastapi            \
          \       0.100.0\nffmpy                     0.3.1\nfilelock             \
          \     3.12.2\nfonttools                 4.41.0\nfrozenlist             \
          \   1.4.0\nfsspec                    2023.6.0\ngitdb                   \
          \  4.0.10\nGitPython                 3.1.32\ngradio                    3.35.2\n\
          gradio_client             0.2.9\nh11                       0.14.0\nhttpcore\
          \                  0.17.3\nhttpx                     0.24.0\nhuggingface-hub\
          \           0.16.4\nidna                      3.4\nJinja2              \
          \      3.1.2\njsonschema                4.18.3\njsonschema-specifications\
          \ 2023.6.1\nkiwisolver                1.4.4\nlibaio                    0.9.1\n\
          linkify-it-py             2.0.2\nllava                     0.2.0       \
          \ C:\\Users\\rotte\\Downloads\\LLaVA\nmarkdown-it-py            2.2.0\n\
          markdown2                 2.4.9\nMarkupSafe                2.1.1\nmatplotlib\
          \                3.7.2\nmdit-py-plugins           0.3.3\nmdurl         \
          \            0.1.2\nmkl-fft                   1.3.6\nmkl-random        \
          \        1.2.2\nmkl-service               2.4.0\nmpmath                \
          \    1.2.1\nmultidict                 6.0.4\nnetworkx                  2.8.4\n\
          ninja                     1.11.1\nnumpy                     1.25.0\norjson\
          \                    3.9.2\npackaging                 23.1\npandas     \
          \               2.0.3\npathtools                 0.1.2\npeft           \
          \           0.3.0\nPillow                    9.3.0\npip                \
          \       23.1.2\nprotobuf                  3.20.3\npsutil               \
          \     5.9.5\npycparser                 2.21\npydantic                  2.0.3\n\
          pydantic_core             2.3.0\npydub                     0.25.1\nPygments\
          \                  2.15.1\npyOpenSSL                 23.0.0\npyparsing \
          \                3.0.9\nPySocks                   1.7.1\npython-dateutil\
          \           2.8.2\npython-multipart          0.0.6\npytz               \
          \       2023.3\nPyYAML                    6.0\nreferencing             \
          \  0.29.1\nregex                     2023.6.3\nrequests                \
          \  2.29.0\nrpds-py                   0.8.11\nsafetensors               0.3.1\n\
          semantic-version          2.10.0\nsentencepiece             0.1.99\nsentry-sdk\
          \                1.28.1\nsetproctitle              1.3.2\nsetuptools   \
          \             67.8.0\nshortuuid                 1.0.11\nsix            \
          \           1.16.0\nsmmap                     5.0.0\nsniffio           \
          \        1.3.0\nstarlette                 0.27.0\nsvgwrite             \
          \     1.4.3\nsympy                     1.11.1\ntokenizers              \
          \  0.12.1\ntoolz                     0.12.0\ntorch                     2.0.1\n\
          torchaudio                2.0.2+cu118\ntorchvision               0.15.2+cu118\n\
          tqdm                      4.65.0\ntransformers              4.28.0.dev0\n\
          typing_extensions         4.6.3\ntzdata                    2023.3\nuc-micro-py\
          \               1.0.2\nurllib3                   1.26.16\nuvicorn      \
          \             0.23.0\nwandb                     0.15.5\nwavedrom       \
          \           2.0.3.post3\nwebsockets                11.0.3\nwheel       \
          \              0.38.4\nwin-inet-pton             1.1.0\nyarl           \
          \           1.9.2"
        updatedAt: '2023-07-17T16:08:44.831Z'
      numEdits: 1
      reactions: []
    id: 64b566aa7d1c24f1bad1a526
    type: comment
  author: cheese111
  content: "Hi, tried running this locally but faced some errors. Followed the steps\
    \ on the LLaVA github; applied delta weights to llama weights but got the following\
    \ error.\n\nwondering if anyone knows what caused the error. Thanks & sorry for\
    \ the inconvience\n\nextra info: download llama 7B from https://huggingface.co/huggyllama/llama-7b/tree/main,\
    \ then these delta weights, tried reapplying weights, installed all libraries\
    \ except deepspeed because I'm using windows\n\n\n2023-07-17 23:34:54 | INFO |\
    \ model_worker | args: Namespace(host='0.0.0.0', port=40000, worker_address='http://localhost:40000',\
    \ controller_address='http://localhost:10000', model_path='C:\\\\Users\\\\rotte\\\
    \\Downloads\\\\llama-7b', model_base=None, model_name=None, multi_modal=False,\
    \ keep_aspect_ratio=False, num_gpus=1, limit_model_concurrency=5, stream_interval=2,\
    \ no_register=False)\n2023-07-17 23:34:54 | INFO | model_worker | Loading the\
    \ model C:\\Users\\rotte\\Downloads\\llama-7b on worker abaf9f ...\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | \nLoading checkpoint shards:   0%|             \
    \                                                                            \
    \                                                 | 0/2 [00:00<?, ?it/s]\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | --- Logging error ---\n2023-07-17 23:34:54 | ERROR\
    \ | stderr | Traceback (most recent call last):\n2023-07-17 23:34:54 | ERROR |\
    \ stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
    __init__.py\", line 1103, in emit\n2023-07-17 23:34:54 | ERROR | stderr |    \
    \ stream.write(msg + self.terminator)\n2023-07-17 23:34:54 | ERROR | stderr |\
    \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\encodings\\cp1252.py\"\
    , line 19, in encode\n2023-07-17 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
    2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec can't\
    \ encode characters in position 72-201: character maps to <undefined>\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr | During\
    \ handling of the above exception, another exception occurred:\n2023-07-17 23:34:54\
    \ | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr | Traceback (most\
    \ recent call last):\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1103, in emit\n\
    2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg + self.terminator)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\encodings\\cp1252.py\", line 19, in encode\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
    2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec can't\
    \ encode characters in position 71-200: character maps to <undefined>\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | Call stack:\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\runpy.py\", line\
    \ 196, in _run_module_as_main\n2023-07-17 23:34:54 | ERROR | stderr |     return\
    \ _run_code(code, main_globals, None,\n2023-07-17 23:34:54 | ERROR | stderr |\
    \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\runpy.py\", line 86,\
    \ in _run_code\n2023-07-17 23:34:54 | ERROR | stderr |     exec(code, run_globals)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\\
    LLaVA\\llava\\serve\\model_worker.py\", line 416, in <module>\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     worker = ModelWorker(args.controller_address,\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\\
    serve\\model_worker.py\", line 164, in __init__\n2023-07-17 23:34:54 | ERROR |\
    \ stderr |     self.tokenizer, self.model, self.image_processor, self.context_len\
    \ = load_model(\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\\
    Downloads\\LLaVA\\llava\\serve\\model_worker.py\", line 106, in load_model\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     model = AutoModelForCausalLM.from_pretrained(model_path,\
    \ torch_dtype=torch.float16, low_cpu_mem_usage=True, **kwargs)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    site-packages\\transformers\\models\\auto\\auto_factory.py\", line 471, in from_pretrained\n\
    2023-07-17 23:34:54 | ERROR | stderr |     return model_class.from_pretrained(\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\site-packages\\transformers\\modeling_utils.py\", line 2643,\
    \ in from_pretrained\n2023-07-17 23:34:54 | ERROR | stderr |     ) = cls._load_pretrained_model(\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\site-packages\\transformers\\modeling_utils.py\", line 2948,\
    \ in _load_pretrained_model\n2023-07-17 23:34:54 | ERROR | stderr |     for shard_file\
    \ in resolved_archive_file:\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
    C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\std.py\"\
    , line 1188, in __iter__\n2023-07-17 23:34:54 | ERROR | stderr |     self.update(n\
    \ - last_print_n)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\std.py\", line 1239,\
    \ in update\n2023-07-17 23:34:54 | ERROR | stderr |     self.refresh(lock_args=self.lock_args)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\site-packages\\tqdm\\std.py\", line 1344, in refresh\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     self.display()\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
    tqdm\\std.py\", line 1492, in display\n2023-07-17 23:34:54 | ERROR | stderr |\
    \     self.sp(self.__str__() if msg is None else msg)\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
    tqdm\\std.py\", line 347, in print_status\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     fp_write('\\r' + s + (' ' * max(last_len[0] - len_s, 0)))\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
    lib\\site-packages\\tqdm\\std.py\", line 341, in fp_write\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     fp_flush()\n2023-07-17 23:34:54 | ERROR | stderr |  \
    \ File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\\
    utils.py\", line 127, in inner\n2023-07-17 23:34:54 | ERROR | stderr |     return\
    \ func(*args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
    Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line 89, in flush\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level, self.linebuf.rstrip())\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1547, in log\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     self._log(level, msg, args, **kwargs)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    logging\\__init__.py\", line 1624, in _log\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.handle(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
    C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1634,\
    \ in handle\n2023-07-17 23:34:54 | ERROR | stderr |     self.callHandlers(record)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1696, in callHandlers\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     hdlr.handle(record)\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
    __init__.py\", line 968, in handle\n2023-07-17 23:34:54 | ERROR | stderr |   \
    \  self.emit(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\logging\\handlers.py\", line 75, in emit\n\
    2023-07-17 23:34:54 | ERROR | stderr |     logging.FileHandler.emit(self, record)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1218, in emit\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     StreamHandler.emit(self, record)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    logging\\__init__.py\", line 1108, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.handleError(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File\
    \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line\
    \ 1021, in handleError\n2023-07-17 23:34:54 | ERROR | stderr |     sys.stderr.write('---\
    \ Logging error ---\\n')\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
    Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line 83, in write\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level, line.rstrip())\n\
    2023-07-17 23:34:54 | ERROR | stderr | --- Logging error ---\n2023-07-17 23:34:54\
    \ | ERROR | stderr | Traceback (most recent call last):\n2023-07-17 23:34:54 |\
    \ ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
    __init__.py\", line 1103, in emit\n2023-07-17 23:34:54 | ERROR | stderr |    \
    \ stream.write(msg + self.terminator)\n2023-07-17 23:34:54 | ERROR | stderr |\
    \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\encodings\\cp1252.py\"\
    , line 19, in encode\n2023-07-17 23:34:54 | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
    2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec can't\
    \ encode characters in position 72-201: character maps to <undefined>\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr | During\
    \ handling of the above exception, another exception occurred:\n2023-07-17 23:34:54\
    \ | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr | Traceback (most\
    \ recent call last):\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1103, in emit\n\
    2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg + self.terminator)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\encodings\\cp1252.py\", line 19, in encode\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
    2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec can't\
    \ encode characters in position 71-200: character maps to <undefined>\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr | During\
    \ handling of the above exception, another exception occurred:\n2023-07-17 23:34:54\
    \ | ERROR | stderr | \n2023-07-17 23:34:54 | ERROR | stderr | Traceback (most\
    \ recent call last):\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1103, in emit\n\
    2023-07-17 23:34:54 | ERROR | stderr |     stream.write(msg + self.terminator)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\encodings\\cp1252.py\", line 19, in encode\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     return codecs.charmap_encode(input,self.errors,encoding_table)[0]\n\
    2023-07-17 23:34:54 | ERROR | stderr | UnicodeEncodeError: 'charmap' codec can't\
    \ encode characters in position 81-210: character maps to <undefined>\n2023-07-17\
    \ 23:34:54 | ERROR | stderr | Call stack:\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\runpy.py\", line\
    \ 196, in _run_module_as_main\n2023-07-17 23:34:54 | ERROR | stderr |     return\
    \ _run_code(code, main_globals, None,\n2023-07-17 23:34:54 | ERROR | stderr |\
    \   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\runpy.py\", line 86,\
    \ in _run_code\n2023-07-17 23:34:54 | ERROR | stderr |     exec(code, run_globals)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\\
    LLaVA\\llava\\serve\\model_worker.py\", line 416, in <module>\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     worker = ModelWorker(args.controller_address,\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\LLaVA\\llava\\\
    serve\\model_worker.py\", line 164, in __init__\n2023-07-17 23:34:54 | ERROR |\
    \ stderr |     self.tokenizer, self.model, self.image_processor, self.context_len\
    \ = load_model(\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\\
    Downloads\\LLaVA\\llava\\serve\\model_worker.py\", line 106, in load_model\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     model = AutoModelForCausalLM.from_pretrained(model_path,\
    \ torch_dtype=torch.float16, low_cpu_mem_usage=True, **kwargs)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    site-packages\\transformers\\models\\auto\\auto_factory.py\", line 471, in from_pretrained\n\
    2023-07-17 23:34:54 | ERROR | stderr |     return model_class.from_pretrained(\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\site-packages\\transformers\\modeling_utils.py\", line 2643,\
    \ in from_pretrained\n2023-07-17 23:34:54 | ERROR | stderr |     ) = cls._load_pretrained_model(\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\site-packages\\transformers\\modeling_utils.py\", line 2948,\
    \ in _load_pretrained_model\n2023-07-17 23:34:54 | ERROR | stderr |     for shard_file\
    \ in resolved_archive_file:\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
    C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\std.py\"\
    , line 1188, in __iter__\n2023-07-17 23:34:54 | ERROR | stderr |     self.update(n\
    \ - last_print_n)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\std.py\", line 1239,\
    \ in update\n2023-07-17 23:34:54 | ERROR | stderr |     self.refresh(lock_args=self.lock_args)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\site-packages\\tqdm\\std.py\", line 1344, in refresh\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     self.display()\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
    tqdm\\std.py\", line 1492, in display\n2023-07-17 23:34:54 | ERROR | stderr |\
    \     self.sp(self.__str__() if msg is None else msg)\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\\
    tqdm\\std.py\", line 347, in print_status\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     fp_write('\\r' + s + (' ' * max(last_len[0] - len_s, 0)))\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\\
    lib\\site-packages\\tqdm\\std.py\", line 341, in fp_write\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     fp_flush()\n2023-07-17 23:34:54 | ERROR | stderr |  \
    \ File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\site-packages\\tqdm\\\
    utils.py\", line 127, in inner\n2023-07-17 23:34:54 | ERROR | stderr |     return\
    \ func(*args, **kwargs)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
    Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line 89, in flush\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level, self.linebuf.rstrip())\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1547, in log\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     self._log(level, msg, args, **kwargs)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    logging\\__init__.py\", line 1624, in _log\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.handle(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
    C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1634,\
    \ in handle\n2023-07-17 23:34:54 | ERROR | stderr |     self.callHandlers(record)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1696, in callHandlers\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     hdlr.handle(record)\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
    __init__.py\", line 968, in handle\n2023-07-17 23:34:54 | ERROR | stderr |   \
    \  self.emit(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\logging\\handlers.py\", line 75, in emit\n\
    2023-07-17 23:34:54 | ERROR | stderr |     logging.FileHandler.emit(self, record)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1218, in emit\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     StreamHandler.emit(self, record)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    logging\\__init__.py\", line 1108, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.handleError(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File\
    \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line\
    \ 1021, in handleError\n2023-07-17 23:34:54 | ERROR | stderr |     sys.stderr.write('---\
    \ Logging error ---\\n')\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\\
    Users\\rotte\\Downloads\\LLaVA\\llava\\utils.py\", line 83, in write\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     self.logger.log(self.log_level, line.rstrip())\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1547, in log\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     self._log(level, msg, args, **kwargs)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    logging\\__init__.py\", line 1624, in _log\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.handle(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"\
    C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line 1634,\
    \ in handle\n2023-07-17 23:34:54 | ERROR | stderr |     self.callHandlers(record)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1696, in callHandlers\n2023-07-17\
    \ 23:34:54 | ERROR | stderr |     hdlr.handle(record)\n2023-07-17 23:34:54 | ERROR\
    \ | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\\
    __init__.py\", line 968, in handle\n2023-07-17 23:34:54 | ERROR | stderr |   \
    \  self.emit(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\\
    rotte\\miniconda3\\envs\\llava\\lib\\logging\\handlers.py\", line 75, in emit\n\
    2023-07-17 23:34:54 | ERROR | stderr |     logging.FileHandler.emit(self, record)\n\
    2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\\
    envs\\llava\\lib\\logging\\__init__.py\", line 1218, in emit\n2023-07-17 23:34:54\
    \ | ERROR | stderr |     StreamHandler.emit(self, record)\n2023-07-17 23:34:54\
    \ | ERROR | stderr |   File \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\\
    logging\\__init__.py\", line 1108, in emit\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.handleError(record)\n2023-07-17 23:34:54 | ERROR | stderr |   File\
    \ \"C:\\Users\\rotte\\miniconda3\\envs\\llava\\lib\\logging\\__init__.py\", line\
    \ 1038, in handleError\n2023-07-17 23:34:54 | ERROR | stderr |     sys.stderr.write('Message:\
    \ %r\\n'\n2023-07-17 23:34:54 | ERROR | stderr |   File \"C:\\Users\\rotte\\Downloads\\\
    LLaVA\\llava\\utils.py\", line 83, in write\n2023-07-17 23:34:54 | ERROR | stderr\
    \ |     self.logger.log(self.log_level, line.rstrip())\n\nEnv:\nPackage      \
    \             Version      Editable project location\n-------------------------\
    \ ------------ ------------------------------\naccelerate                0.21.0\n\
    aiofiles                  23.1.0\naiohttp                   3.8.4\naiosignal \
    \                1.3.1\naltair                    5.0.1\nannotated-types     \
    \      0.5.0\nanyio                     3.7.1\nappdirs                   1.4.4\n\
    async-timeout             4.0.2\nattrs                     23.1.0\nbrotlipy  \
    \                0.7.0\ncertifi                   2023.5.7\ncffi             \
    \         1.15.1\nchardet                   5.1.0\ncharset-normalizer        2.0.4\n\
    click                     8.1.5\ncolorama                  0.4.6\ncontourpy  \
    \               1.1.0\ncryptography              39.0.1\ncycler              \
    \      0.11.0\ndocker-pycreds            0.4.0\neinops                    0.6.1\n\
    exceptiongroup            1.1.2\nfastapi                   0.100.0\nffmpy    \
    \                 0.3.1\nfilelock                  3.12.2\nfonttools         \
    \        4.41.0\nfrozenlist                1.4.0\nfsspec                    2023.6.0\n\
    gitdb                     4.0.10\nGitPython                 3.1.32\ngradio   \
    \                 3.35.2\ngradio_client             0.2.9\nh11               \
    \        0.14.0\nhttpcore                  0.17.3\nhttpx                     0.24.0\n\
    huggingface-hub           0.16.4\nidna                      3.4\nJinja2      \
    \              3.1.2\njsonschema                4.18.3\njsonschema-specifications\
    \ 2023.6.1\nkiwisolver                1.4.4\nlibaio                    0.9.1\n\
    linkify-it-py             2.0.2\nllava                     0.2.0        C:\\Users\\\
    rotte\\Downloads\\LLaVA\nmarkdown-it-py            2.2.0\nmarkdown2          \
    \       2.4.9\nMarkupSafe                2.1.1\nmatplotlib                3.7.2\n\
    mdit-py-plugins           0.3.3\nmdurl                     0.1.2\nmkl-fft    \
    \               1.3.6\nmkl-random                1.2.2\nmkl-service          \
    \     2.4.0\nmpmath                    1.2.1\nmultidict                 6.0.4\n\
    networkx                  2.8.4\nninja                     1.11.1\nnumpy     \
    \                1.25.0\norjson                    3.9.2\npackaging          \
    \       23.1\npandas                    2.0.3\npathtools                 0.1.2\n\
    peft                      0.3.0\nPillow                    9.3.0\npip        \
    \               23.1.2\nprotobuf                  3.20.3\npsutil             \
    \       5.9.5\npycparser                 2.21\npydantic                  2.0.3\n\
    pydantic_core             2.3.0\npydub                     0.25.1\nPygments  \
    \                2.15.1\npyOpenSSL                 23.0.0\npyparsing         \
    \        3.0.9\nPySocks                   1.7.1\npython-dateutil           2.8.2\n\
    python-multipart          0.0.6\npytz                      2023.3\nPyYAML    \
    \                6.0\nreferencing               0.29.1\nregex                \
    \     2023.6.3\nrequests                  2.29.0\nrpds-py                   0.8.11\n\
    safetensors               0.3.1\nsemantic-version          2.10.0\nsentencepiece\
    \             0.1.99\nsentry-sdk                1.28.1\nsetproctitle         \
    \     1.3.2\nsetuptools                67.8.0\nshortuuid                 1.0.11\n\
    six                       1.16.0\nsmmap                     5.0.0\nsniffio   \
    \                1.3.0\nstarlette                 0.27.0\nsvgwrite           \
    \       1.4.3\nsympy                     1.11.1\ntokenizers                0.12.1\n\
    toolz                     0.12.0\ntorch                     2.0.1\ntorchaudio\
    \                2.0.2+cu118\ntorchvision               0.15.2+cu118\ntqdm   \
    \                   4.65.0\ntransformers              4.28.0.dev0\ntyping_extensions\
    \         4.6.3\ntzdata                    2023.3\nuc-micro-py               1.0.2\n\
    urllib3                   1.26.16\nuvicorn                   0.23.0\nwandb   \
    \                  0.15.5\nwavedrom                  2.0.3.post3\nwebsockets \
    \               11.0.3\nwheel                     0.38.4\nwin-inet-pton      \
    \       1.1.0\nyarl                      1.9.2"
  created_at: 2023-07-17 15:04:58+00:00
  edited: true
  hidden: false
  id: 64b566aa7d1c24f1bad1a526
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/071c258a1b3ad2d5ea8744b2ab636f04.svg
      fullname: Bryan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cheese111
      type: user
    createdAt: '2023-07-18T14:30:29.000Z'
    data:
      edited: false
      editors:
      - cheese111
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9381944537162781
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/071c258a1b3ad2d5ea8744b2ab636f04.svg
          fullname: Bryan
          isHf: false
          isPro: false
          name: cheese111
          type: user
        html: '<p>update: appears to be a gradio issue, model runs fine with CLI inference</p>

          '
        raw: 'update: appears to be a gradio issue, model runs fine with CLI inference'
        updatedAt: '2023-07-18T14:30:29.665Z'
      numEdits: 0
      reactions: []
    id: 64b6a20572461f8ef32bd9b8
    type: comment
  author: cheese111
  content: 'update: appears to be a gradio issue, model runs fine with CLI inference'
  created_at: 2023-07-18 13:30:29+00:00
  edited: false
  hidden: false
  id: 64b6a20572461f8ef32bd9b8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/071c258a1b3ad2d5ea8744b2ab636f04.svg
      fullname: Bryan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cheese111
      type: user
    createdAt: '2023-07-31T12:18:22.000Z'
    data:
      status: closed
    id: 64c7a68e7b4d0d947cba20ed
    type: status-change
  author: cheese111
  created_at: 2023-07-31 11:18:22+00:00
  id: 64c7a68e7b4d0d947cba20ed
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: liuhaotian/LLaVA-7b-delta-v0
repo_type: model
status: closed
target_branch: null
title: Error when running model worker
