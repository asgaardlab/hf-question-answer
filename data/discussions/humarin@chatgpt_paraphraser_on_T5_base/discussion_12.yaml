!!python/object:huggingface_hub.community.DiscussionWithDetails
author: shezibabu
conflicting_files: null
created_at: 2023-11-11 05:52:12+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5bd5975c1a397f62d69b9903183c6c0d.svg
      fullname: Asad Shehzad
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shezibabu
      type: user
    createdAt: '2023-11-11T05:52:12.000Z'
    data:
      edited: false
      editors:
      - shezibabu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8705645203590393
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5bd5975c1a397f62d69b9903183c6c0d.svg
          fullname: Asad Shehzad
          isHf: false
          isPro: false
          name: shezibabu
          type: user
        html: '<p>Following is the code to send requests to inference endpoint. Problem
          is when i send "parameters" with "inputs" as mentioned in <a href="https://huggingface.co/docs/inference-endpoints/supported_tasks#additional-parameters">https://huggingface.co/docs/inference-endpoints/supported_tasks#additional-parameters</a>.
          Parameters are not accepted by the model. </p>

          <p>import requests</p>

          <p>API_URL = API_URL<br>headers = {<br>    "Authorization": "Bearer XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",<br>    "Content-Type":
          "application/json"<br>}</p>

          <p>def query(payload):<br>    response = requests.post(API_URL, headers=headers,
          json=payload)<br>    return response.json()</p>

          <p>output = query({<br>    "inputs": "The answer to the universe is",<br>})</p>

          <p>Is there any solution?</p>

          '
        raw: "Following is the code to send requests to inference endpoint. Problem\
          \ is when i send \"parameters\" with \"inputs\" as mentioned in https://huggingface.co/docs/inference-endpoints/supported_tasks#additional-parameters.\
          \ Parameters are not accepted by the model. \r\n\r\nimport requests\r\n\r\
          \nAPI_URL = API_URL\r\nheaders = {\r\n\t\"Authorization\": \"Bearer XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\
          ,\r\n\t\"Content-Type\": \"application/json\"\r\n}\r\n\r\ndef query(payload):\r\
          \n\tresponse = requests.post(API_URL, headers=headers, json=payload)\r\n\
          \treturn response.json()\r\n\t\r\noutput = query({\r\n\t\"inputs\": \"The\
          \ answer to the universe is\",\r\n})\r\n\r\nIs there any solution?"
        updatedAt: '2023-11-11T05:52:12.687Z'
      numEdits: 0
      reactions: []
    id: 654f168c7490049d62ff0e2b
    type: comment
  author: shezibabu
  content: "Following is the code to send requests to inference endpoint. Problem\
    \ is when i send \"parameters\" with \"inputs\" as mentioned in https://huggingface.co/docs/inference-endpoints/supported_tasks#additional-parameters.\
    \ Parameters are not accepted by the model. \r\n\r\nimport requests\r\n\r\nAPI_URL\
    \ = API_URL\r\nheaders = {\r\n\t\"Authorization\": \"Bearer XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\
    ,\r\n\t\"Content-Type\": \"application/json\"\r\n}\r\n\r\ndef query(payload):\r\
    \n\tresponse = requests.post(API_URL, headers=headers, json=payload)\r\n\treturn\
    \ response.json()\r\n\t\r\noutput = query({\r\n\t\"inputs\": \"The answer to the\
    \ universe is\",\r\n})\r\n\r\nIs there any solution?"
  created_at: 2023-11-11 05:52:12+00:00
  edited: false
  hidden: false
  id: 654f168c7490049d62ff0e2b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5bd5975c1a397f62d69b9903183c6c0d.svg
      fullname: Asad Shehzad
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shezibabu
      type: user
    createdAt: '2023-11-11T05:53:48.000Z'
    data:
      edited: true
      editors:
      - shezibabu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5515781044960022
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5bd5975c1a397f62d69b9903183c6c0d.svg
          fullname: Asad Shehzad
          isHf: false
          isPro: false
          name: shezibabu
          type: user
        html: '<p>Here is how i am trying to send payload </p>

          <p> single_payload = [{<br>        "inputs": sent,<br>        "parameters":{<br>            "num_beams":5,<br>            "num_beam_groups":5,<br>            "num_return_sequences":10,<br>            "repetition_penalty":10.0,<br>            "diversity_penalty":3.0,<br>            "no_repeat_ngram_size":2,<br>            "temperature":0.7,<br>            "max_length":
          2048<br>        }<br>    }]</p>

          <p>and i am getting results like the following</p>

          <p>[{''generated_text'': "A man''s life is marked by fluctuations, ranging
          from sudden changes to death."}]</p>

          '
        raw: "Here is how i am trying to send payload \n\n single_payload = [{\n \
          \       \"inputs\": sent,\n        \"parameters\":{\n            \"num_beams\"\
          :5,\n            \"num_beam_groups\":5,\n            \"num_return_sequences\"\
          :10,\n            \"repetition_penalty\":10.0,\n            \"diversity_penalty\"\
          :3.0,\n            \"no_repeat_ngram_size\":2,\n            \"temperature\"\
          :0.7,\n            \"max_length\": 2048\n        }\n    }]\n\nand i am getting\
          \ results like the following\n\n[{'generated_text': \"A man's life is marked\
          \ by fluctuations, ranging from sudden changes to death.\"}]"
        updatedAt: '2023-11-11T05:55:03.519Z'
      numEdits: 1
      reactions: []
    id: 654f16ecc67f60a3686d0a2a
    type: comment
  author: shezibabu
  content: "Here is how i am trying to send payload \n\n single_payload = [{\n   \
    \     \"inputs\": sent,\n        \"parameters\":{\n            \"num_beams\":5,\n\
    \            \"num_beam_groups\":5,\n            \"num_return_sequences\":10,\n\
    \            \"repetition_penalty\":10.0,\n            \"diversity_penalty\":3.0,\n\
    \            \"no_repeat_ngram_size\":2,\n            \"temperature\":0.7,\n \
    \           \"max_length\": 2048\n        }\n    }]\n\nand i am getting results\
    \ like the following\n\n[{'generated_text': \"A man's life is marked by fluctuations,\
    \ ranging from sudden changes to death.\"}]"
  created_at: 2023-11-11 05:53:48+00:00
  edited: true
  hidden: false
  id: 654f16ecc67f60a3686d0a2a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: humarin/chatgpt_paraphraser_on_T5_base
repo_type: model
status: open
target_branch: null
title: Not able to get exact result as inference endpoint not receiving any "parameteres"
