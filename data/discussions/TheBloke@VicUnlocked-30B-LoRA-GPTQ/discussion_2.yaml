!!python/object:huggingface_hub.community.DiscussionWithDetails
author: nichedreams
conflicting_files: null
created_at: 2023-05-20 23:49:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/42648bec3fc52ddb3b8a11d485d4548c.svg
      fullname: King  Bull
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nichedreams
      type: user
    createdAt: '2023-05-21T00:49:51.000Z'
    data:
      edited: true
      editors:
      - nichedreams
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/42648bec3fc52ddb3b8a11d485d4548c.svg
          fullname: King  Bull
          isHf: false
          isPro: false
          name: nichedreams
          type: user
        html: "<p>Using this gptq in TheBloke Local LLMs One-Click UI I get this error:</p>\n\
          <p>pid = tl.program_id(axis=0)<br>num_pid_m = tl.cdiv(M, BLOCK_SIZE_M)<br>num_pid_n\
          \ = tl.cdiv(N, BLOCK_SIZE_N)<br>num_pid_k = tl.cdiv(K, BLOCK_SIZE_K)<br>num_pid_in_group\
          \ = GROUP_SIZE_M * num_pid_n<br>group_id = pid // num_pid_in_group<br>first_pid_m\
          \ = group_id * GROUP_SIZE_M<br>group_size_m = min(num_pid_m - first_pid_m,\
          \ GROUP_SIZE_M)<br>pid_m = first_pid_m + (pid % group_size_m)<br>pid_n =\
          \ (pid % num_pid_in_group) // group_size_m</p>\n<p>offs_am = pid_m * BLOCK_SIZE_M\
          \ + tl.arange(0, BLOCK_SIZE_M)<br>offs_bn = pid_n * BLOCK_SIZE_N + tl.arange(0,\
          \ BLOCK_SIZE_N)<br>offs_k = tl.arange(0, BLOCK_SIZE_K)<br>a_ptrs = a_ptr\
          \ + (offs_am[:, None] * stride_am + offs_k[None, :] * stride_ak)  # (BLOCK_SIZE_M,\
          \ BLOCK_SIZE_K)<br>a_mask = (offs_am[:, None] &lt; M)</p>\n<h1 id=\"b_ptrs-is-set-up-such-that-it-repeats-elements-along-the-k-axis-8-times\"\
          >b_ptrs is set up such that it repeats elements along the K axis 8 times</h1>\n\
          <p>b_ptrs = b_ptr + ((offs_k[:, None] // infearure_per_bits) * stride_bk\
          \ + offs_bn[None, :] * stride_bn)  # (BLOCK_SIZE_K, BLOCK_SIZE_N)<br>g_ptrs\
          \ = g_ptr + offs_k</p>\n<h1 id=\"shifter-is-used-to-extract-the-n-bits-of-each-element-in-the-32-bit-word-from-b\"\
          >shifter is used to extract the N bits of each element in the 32-bit word\
          \ from B</h1>\n<p>scales_ptrs = scales_ptr + offs_bn[None, :]<br>zeros_ptrs\
          \ = zeros_ptr + (offs_bn[None, :] // infearure_per_bits)</p>\n<p>if NO_GROUP:<br>\
          \    scales = tl.load(scales_ptrs)  # (BLOCK_SIZE_K, BLOCK_SIZE_N,)<br>\
          \    zeros = tl.load(zeros_ptrs)  # (BLOCK_SIZE_K, BLOCK_SIZE_N,)</p>\n\
          <pre><code>zeros = (zeros &gt;&gt; zeros_shifter[None, :]) &amp; maxq\n\
          \                  ^\n</code></pre>\n<p>How can I fix this?</p>\n"
        raw: "Using this gptq in TheBloke Local LLMs One-Click UI I get this error:\n\
          \npid = tl.program_id(axis=0)\nnum_pid_m = tl.cdiv(M, BLOCK_SIZE_M)\nnum_pid_n\
          \ = tl.cdiv(N, BLOCK_SIZE_N)\nnum_pid_k = tl.cdiv(K, BLOCK_SIZE_K)\nnum_pid_in_group\
          \ = GROUP_SIZE_M * num_pid_n\ngroup_id = pid // num_pid_in_group\nfirst_pid_m\
          \ = group_id * GROUP_SIZE_M\ngroup_size_m = min(num_pid_m - first_pid_m,\
          \ GROUP_SIZE_M)\npid_m = first_pid_m + (pid % group_size_m)\npid_n = (pid\
          \ % num_pid_in_group) // group_size_m\n\noffs_am = pid_m * BLOCK_SIZE_M\
          \ + tl.arange(0, BLOCK_SIZE_M)\noffs_bn = pid_n * BLOCK_SIZE_N + tl.arange(0,\
          \ BLOCK_SIZE_N)\noffs_k = tl.arange(0, BLOCK_SIZE_K)\na_ptrs = a_ptr + (offs_am[:,\
          \ None] * stride_am + offs_k[None, :] * stride_ak)  # (BLOCK_SIZE_M, BLOCK_SIZE_K)\n\
          a_mask = (offs_am[:, None] < M)\n# b_ptrs is set up such that it repeats\
          \ elements along the K axis 8 times\nb_ptrs = b_ptr + ((offs_k[:, None]\
          \ // infearure_per_bits) * stride_bk + offs_bn[None, :] * stride_bn)  #\
          \ (BLOCK_SIZE_K, BLOCK_SIZE_N)\ng_ptrs = g_ptr + offs_k\n# shifter is used\
          \ to extract the N bits of each element in the 32-bit word from B\nscales_ptrs\
          \ = scales_ptr + offs_bn[None, :]\nzeros_ptrs = zeros_ptr + (offs_bn[None,\
          \ :] // infearure_per_bits)\n\nif NO_GROUP:\n    scales = tl.load(scales_ptrs)\
          \  # (BLOCK_SIZE_K, BLOCK_SIZE_N,)\n    zeros = tl.load(zeros_ptrs)  # (BLOCK_SIZE_K,\
          \ BLOCK_SIZE_N,)\n\n    zeros = (zeros >> zeros_shifter[None, :]) & maxq\n\
          \                      ^\n\nHow can I fix this?"
        updatedAt: '2023-05-21T00:50:08.147Z'
      numEdits: 1
      reactions: []
    id: 64696aaf72d9180d4acd83e3
    type: comment
  author: nichedreams
  content: "Using this gptq in TheBloke Local LLMs One-Click UI I get this error:\n\
    \npid = tl.program_id(axis=0)\nnum_pid_m = tl.cdiv(M, BLOCK_SIZE_M)\nnum_pid_n\
    \ = tl.cdiv(N, BLOCK_SIZE_N)\nnum_pid_k = tl.cdiv(K, BLOCK_SIZE_K)\nnum_pid_in_group\
    \ = GROUP_SIZE_M * num_pid_n\ngroup_id = pid // num_pid_in_group\nfirst_pid_m\
    \ = group_id * GROUP_SIZE_M\ngroup_size_m = min(num_pid_m - first_pid_m, GROUP_SIZE_M)\n\
    pid_m = first_pid_m + (pid % group_size_m)\npid_n = (pid % num_pid_in_group) //\
    \ group_size_m\n\noffs_am = pid_m * BLOCK_SIZE_M + tl.arange(0, BLOCK_SIZE_M)\n\
    offs_bn = pid_n * BLOCK_SIZE_N + tl.arange(0, BLOCK_SIZE_N)\noffs_k = tl.arange(0,\
    \ BLOCK_SIZE_K)\na_ptrs = a_ptr + (offs_am[:, None] * stride_am + offs_k[None,\
    \ :] * stride_ak)  # (BLOCK_SIZE_M, BLOCK_SIZE_K)\na_mask = (offs_am[:, None]\
    \ < M)\n# b_ptrs is set up such that it repeats elements along the K axis 8 times\n\
    b_ptrs = b_ptr + ((offs_k[:, None] // infearure_per_bits) * stride_bk + offs_bn[None,\
    \ :] * stride_bn)  # (BLOCK_SIZE_K, BLOCK_SIZE_N)\ng_ptrs = g_ptr + offs_k\n#\
    \ shifter is used to extract the N bits of each element in the 32-bit word from\
    \ B\nscales_ptrs = scales_ptr + offs_bn[None, :]\nzeros_ptrs = zeros_ptr + (offs_bn[None,\
    \ :] // infearure_per_bits)\n\nif NO_GROUP:\n    scales = tl.load(scales_ptrs)\
    \  # (BLOCK_SIZE_K, BLOCK_SIZE_N,)\n    zeros = tl.load(zeros_ptrs)  # (BLOCK_SIZE_K,\
    \ BLOCK_SIZE_N,)\n\n    zeros = (zeros >> zeros_shifter[None, :]) & maxq\n   \
    \                   ^\n\nHow can I fix this?"
  created_at: 2023-05-20 23:49:51+00:00
  edited: true
  hidden: false
  id: 64696aaf72d9180d4acd83e3
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: TheBloke/VicUnlocked-30B-LoRA-GPTQ
repo_type: model
status: open
target_branch: null
title: Getting an error in runpod
