!!python/object:huggingface_hub.community.DiscussionWithDetails
author: thelou1s
conflicting_files: null
created_at: 2023-10-27 06:33:46+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a5f8f20a6be127f964615dff2f3aac42.svg
      fullname: thelou1s
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: thelou1s
      type: user
    createdAt: '2023-10-27T07:33:46.000Z'
    data:
      edited: false
      editors:
      - thelou1s
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6023001670837402
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a5f8f20a6be127f964615dff2f3aac42.svg
          fullname: thelou1s
          isHf: false
          isPro: false
          name: thelou1s
          type: user
        html: '<p>Traceback (most recent call last):<br>  File "/home/user/.local/lib/python3.10/site-packages/gradio/routes.py",
          line 534, in predict<br>    output = await route_utils.call_process_api(<br>  File
          "/home/user/.local/lib/python3.10/site-packages/gradio/route_utils.py",
          line 226, in call_process_api<br>    output = await app.get_blocks().process_api(<br>  File
          "/home/user/.local/lib/python3.10/site-packages/gradio/blocks.py", line
          1550, in process_api<br>    result = await self.call_function(<br>  File
          "/home/user/.local/lib/python3.10/site-packages/gradio/blocks.py", line
          1185, in call_function<br>    prediction = await anyio.to_thread.run_sync(<br>  File
          "/home/user/.local/lib/python3.10/site-packages/anyio/to_thread.py", line
          33, in run_sync<br>    return await get_asynclib().run_sync_in_worker_thread(<br>  File
          "/home/user/.local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py",
          line 877, in run_sync_in_worker_thread<br>    return await future<br>  File
          "/home/user/.local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py",
          line 807, in run<br>    result = context.run(func, *args)<br>  File "/home/user/.local/lib/python3.10/site-packages/gradio/utils.py",
          line 661, in wrapper<br>    response = f(*args, **kwargs)<br>  File "/home/user/.local/lib/python3.10/site-packages/gradio/external.py",
          line 414, in query_huggingface_api<br>    response = requests.request("POST",
          api_url, headers=headers, data=data)<br>  File "/home/user/.local/lib/python3.10/site-packages/requests/api.py",
          line 59, in request<br>    return session.request(method=method, url=url,
          **kwargs)<br>  File "/home/user/.local/lib/python3.10/site-packages/requests/sessions.py",
          line 589, in request<br>    resp = self.send(prep, **send_kwargs)<br>  File
          "/home/user/.local/lib/python3.10/site-packages/requests/sessions.py", line
          703, in send<br>    r = adapter.send(request, **kwargs)<br>  File "/home/user/.local/lib/python3.10/site-packages/requests/adapters.py",
          line 486, in send<br>    resp = conn.urlopen(<br>  File "/home/user/.local/lib/python3.10/site-packages/urllib3/connectionpool.py",
          line 791, in urlopen<br>    response = self._make_request(<br>  File "/home/user/.local/lib/python3.10/site-packages/urllib3/connectionpool.py",
          line 497, in _make_request<br>    conn.request(<br>  File "/home/user/.local/lib/python3.10/site-packages/urllib3/connection.py",
          line 363, in request<br>    chunks_and_cl = body_to_chunks(body, method=method,
          blocksize=self.blocksize)<br>  File "/home/user/.local/lib/python3.10/site-packages/urllib3/util/request.py",
          line 247, in body_to_chunks<br>    raise TypeError(<br>TypeError: ''body''
          must be a bytes-like object, file-like object, or iterable. Instead was
          &lt;function to_binary at 0x40192e03a0&gt;</p>

          '
        raw: "Traceback (most recent call last):\r\n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/routes.py\"\
          , line 534, in predict\r\n    output = await route_utils.call_process_api(\r\
          \n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/route_utils.py\"\
          , line 226, in call_process_api\r\n    output = await app.get_blocks().process_api(\r\
          \n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/blocks.py\"\
          , line 1550, in process_api\r\n    result = await self.call_function(\r\n\
          \  File \"/home/user/.local/lib/python3.10/site-packages/gradio/blocks.py\"\
          , line 1185, in call_function\r\n    prediction = await anyio.to_thread.run_sync(\r\
          \n  File \"/home/user/.local/lib/python3.10/site-packages/anyio/to_thread.py\"\
          , line 33, in run_sync\r\n    return await get_asynclib().run_sync_in_worker_thread(\r\
          \n  File \"/home/user/.local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
          , line 877, in run_sync_in_worker_thread\r\n    return await future\r\n\
          \  File \"/home/user/.local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
          , line 807, in run\r\n    result = context.run(func, *args)\r\n  File \"\
          /home/user/.local/lib/python3.10/site-packages/gradio/utils.py\", line 661,\
          \ in wrapper\r\n    response = f(*args, **kwargs)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/external.py\"\
          , line 414, in query_huggingface_api\r\n    response = requests.request(\"\
          POST\", api_url, headers=headers, data=data)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/requests/api.py\"\
          , line 59, in request\r\n    return session.request(method=method, url=url,\
          \ **kwargs)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/requests/sessions.py\"\
          , line 589, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n\
          \  File \"/home/user/.local/lib/python3.10/site-packages/requests/sessions.py\"\
          , line 703, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File\
          \ \"/home/user/.local/lib/python3.10/site-packages/requests/adapters.py\"\
          , line 486, in send\r\n    resp = conn.urlopen(\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/connectionpool.py\"\
          , line 791, in urlopen\r\n    response = self._make_request(\r\n  File \"\
          /home/user/.local/lib/python3.10/site-packages/urllib3/connectionpool.py\"\
          , line 497, in _make_request\r\n    conn.request(\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/connection.py\"\
          , line 363, in request\r\n    chunks_and_cl = body_to_chunks(body, method=method,\
          \ blocksize=self.blocksize)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/util/request.py\"\
          , line 247, in body_to_chunks\r\n    raise TypeError(\r\nTypeError: 'body'\
          \ must be a bytes-like object, file-like object, or iterable. Instead was\
          \ <function to_binary at 0x40192e03a0>"
        updatedAt: '2023-10-27T07:33:46.889Z'
      numEdits: 0
      reactions: []
    id: 653b67da024b6cd30f15497b
    type: comment
  author: thelou1s
  content: "Traceback (most recent call last):\r\n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/routes.py\"\
    , line 534, in predict\r\n    output = await route_utils.call_process_api(\r\n\
    \  File \"/home/user/.local/lib/python3.10/site-packages/gradio/route_utils.py\"\
    , line 226, in call_process_api\r\n    output = await app.get_blocks().process_api(\r\
    \n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/blocks.py\",\
    \ line 1550, in process_api\r\n    result = await self.call_function(\r\n  File\
    \ \"/home/user/.local/lib/python3.10/site-packages/gradio/blocks.py\", line 1185,\
    \ in call_function\r\n    prediction = await anyio.to_thread.run_sync(\r\n  File\
    \ \"/home/user/.local/lib/python3.10/site-packages/anyio/to_thread.py\", line\
    \ 33, in run_sync\r\n    return await get_asynclib().run_sync_in_worker_thread(\r\
    \n  File \"/home/user/.local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
    , line 877, in run_sync_in_worker_thread\r\n    return await future\r\n  File\
    \ \"/home/user/.local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
    , line 807, in run\r\n    result = context.run(func, *args)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/utils.py\"\
    , line 661, in wrapper\r\n    response = f(*args, **kwargs)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/gradio/external.py\"\
    , line 414, in query_huggingface_api\r\n    response = requests.request(\"POST\"\
    , api_url, headers=headers, data=data)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/requests/api.py\"\
    , line 59, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\
    \n  File \"/home/user/.local/lib/python3.10/site-packages/requests/sessions.py\"\
    , line 589, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File\
    \ \"/home/user/.local/lib/python3.10/site-packages/requests/sessions.py\", line\
    \ 703, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/requests/adapters.py\"\
    , line 486, in send\r\n    resp = conn.urlopen(\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/connectionpool.py\"\
    , line 791, in urlopen\r\n    response = self._make_request(\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/connectionpool.py\"\
    , line 497, in _make_request\r\n    conn.request(\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/connection.py\"\
    , line 363, in request\r\n    chunks_and_cl = body_to_chunks(body, method=method,\
    \ blocksize=self.blocksize)\r\n  File \"/home/user/.local/lib/python3.10/site-packages/urllib3/util/request.py\"\
    , line 247, in body_to_chunks\r\n    raise TypeError(\r\nTypeError: 'body' must\
    \ be a bytes-like object, file-like object, or iterable. Instead was <function\
    \ to_binary at 0x40192e03a0>"
  created_at: 2023-10-27 06:33:46+00:00
  edited: false
  hidden: false
  id: 653b67da024b6cd30f15497b
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: MIT/ast-finetuned-audioset-10-10-0.4593
repo_type: model
status: open
target_branch: null
title: TypeError when deployed in hf-space or docker, please help. thank
