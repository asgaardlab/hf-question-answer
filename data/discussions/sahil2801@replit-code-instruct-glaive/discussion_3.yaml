!!python/object:huggingface_hub.community.DiscussionWithDetails
author: matorus
conflicting_files: null
created_at: 2023-07-06 13:33:36+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/238bd62a0edbd0522c4afa3009f79853.svg
      fullname: Matthias Geihs
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: matorus
      type: user
    createdAt: '2023-07-06T14:33:36.000Z'
    data:
      edited: false
      editors:
      - matorus
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.854857861995697
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/238bd62a0edbd0522c4afa3009f79853.svg
          fullname: Matthias Geihs
          isHf: false
          isPro: false
          name: matorus
          type: user
        html: '<p>It seems like the canonical solutions from the human eval test dataset
          have leaked into the training data.<br>In my case, <strong>57% of the canonical
          solutions are contained in the code completions generated by the model</strong>.<br>For
          other models this value is well below 10%.</p>

          <pre><code>replit_glaive: 56.71%

          replit: 7.32%

          wizard: 4.88%

          </code></pre>

          <p>Here is the validation code: <a rel="nofollow" href="https://github.com/torusresearch/code-eval/blob/main/validate.py">https://github.com/torusresearch/code-eval/blob/main/validate.py</a><br>(You
          need to run <code>python eval_[model_name].py</code> before running <code>python
          validate.py</code>. See repository README.)</p>

          '
        raw: "It seems like the canonical solutions from the human eval test dataset\
          \ have leaked into the training data.\r\nIn my case, **57% of the canonical\
          \ solutions are contained in the code completions generated by the model**.\r\
          \nFor other models this value is well below 10%.\r\n\r\n```\r\nreplit_glaive:\
          \ 56.71%\r\nreplit: 7.32%\r\nwizard: 4.88%\r\n```\r\n\r\nHere is the validation\
          \ code: https://github.com/torusresearch/code-eval/blob/main/validate.py\r\
          \n(You need to run `python eval_[model_name].py` before running `python\
          \ validate.py`. See repository README.)\r\n\r\n"
        updatedAt: '2023-07-06T14:33:36.193Z'
      numEdits: 0
      reactions:
      - count: 8
        reaction: "\U0001F44D"
        users:
        - truefit-ai
        - julien-c
        - insop
        - codelion
        - Daoguang
        - TokenBender
        - siq
        - zarga
    id: 64a6d0c09f034b9eeb5b5a09
    type: comment
  author: matorus
  content: "It seems like the canonical solutions from the human eval test dataset\
    \ have leaked into the training data.\r\nIn my case, **57% of the canonical solutions\
    \ are contained in the code completions generated by the model**.\r\nFor other\
    \ models this value is well below 10%.\r\n\r\n```\r\nreplit_glaive: 56.71%\r\n\
    replit: 7.32%\r\nwizard: 4.88%\r\n```\r\n\r\nHere is the validation code: https://github.com/torusresearch/code-eval/blob/main/validate.py\r\
    \n(You need to run `python eval_[model_name].py` before running `python validate.py`.\
    \ See repository README.)\r\n\r\n"
  created_at: 2023-07-06 13:33:36+00:00
  edited: false
  hidden: false
  id: 64a6d0c09f034b9eeb5b5a09
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/04e159adc513ebae72f6679f3661e3d2.svg
      fullname: Sahil Chaudhary
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: sahil2801
      type: user
    createdAt: '2023-07-06T14:40:25.000Z'
    data:
      edited: false
      editors:
      - sahil2801
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9693391919136047
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/04e159adc513ebae72f6679f3661e3d2.svg
          fullname: Sahil Chaudhary
          isHf: false
          isPro: false
          name: sahil2801
          type: user
        html: '<p>Interesting, I''m working on publishing the dataset as well soon
          so would be good analyse that for the canonical solutions because I couldn''t
          find any exact matches </p>

          '
        raw: 'Interesting, I''m working on publishing the dataset as well soon so
          would be good analyse that for the canonical solutions because I couldn''t
          find any exact matches '
        updatedAt: '2023-07-06T14:40:25.175Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - matorus
        - lixiaoqian0208
        - insop
    id: 64a6d25956dfae7689fd826b
    type: comment
  author: sahil2801
  content: 'Interesting, I''m working on publishing the dataset as well soon so would
    be good analyse that for the canonical solutions because I couldn''t find any
    exact matches '
  created_at: 2023-07-06 13:40:25+00:00
  edited: false
  hidden: false
  id: 64a6d25956dfae7689fd826b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/238bd62a0edbd0522c4afa3009f79853.svg
      fullname: Matthias Geihs
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: matorus
      type: user
    createdAt: '2023-07-06T15:16:50.000Z'
    data:
      edited: false
      editors:
      - matorus
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8440476655960083
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/238bd62a0edbd0522c4afa3009f79853.svg
          fullname: Matthias Geihs
          isHf: false
          isPro: false
          name: matorus
          type: user
        html: '<p>Note that I trimmed the canonical solutions from white spaces at
          front and back.<br><a rel="nofollow" href="https://github.com/torusresearch/code-eval/blob/dbd9cc380fdb8f4baad8a83d3372600dfacf98d4/validate.py#L16"><code>if
          problem["canonical_solution"].strip() in r["completion"]:</code></a><br>Otherwise
          it would not match anything. (I think because the canonical solutions contain
          some additional new lines at the end which are not present in generated
          code.)</p>

          '
        raw: 'Note that I trimmed the canonical solutions from white spaces at front
          and back.

          [`if problem["canonical_solution"].strip() in r["completion"]:`](https://github.com/torusresearch/code-eval/blob/dbd9cc380fdb8f4baad8a83d3372600dfacf98d4/validate.py#L16)

          Otherwise it would not match anything. (I think because the canonical solutions
          contain some additional new lines at the end which are not present in generated
          code.)'
        updatedAt: '2023-07-06T15:16:50.951Z'
      numEdits: 0
      reactions:
      - count: 5
        reaction: "\U0001F44D"
        users:
        - truefit-ai
        - lixiaoqian0208
        - codelion
        - Daoguang
        - siq
    id: 64a6dae2b869cc3dd67017e7
    type: comment
  author: matorus
  content: 'Note that I trimmed the canonical solutions from white spaces at front
    and back.

    [`if problem["canonical_solution"].strip() in r["completion"]:`](https://github.com/torusresearch/code-eval/blob/dbd9cc380fdb8f4baad8a83d3372600dfacf98d4/validate.py#L16)

    Otherwise it would not match anything. (I think because the canonical solutions
    contain some additional new lines at the end which are not present in generated
    code.)'
  created_at: 2023-07-06 14:16:50+00:00
  edited: false
  hidden: false
  id: 64a6dae2b869cc3dd67017e7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/48663c9d3a8d69ed55ce7b8b19bf1f30.svg
      fullname: anon
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: anon13370
      type: user
    createdAt: '2023-08-05T03:29:13.000Z'
    data:
      edited: false
      editors:
      - anon13370
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6075639724731445
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/48663c9d3a8d69ed55ce7b8b19bf1f30.svg
          fullname: anon
          isHf: false
          isPro: false
          name: anon13370
          type: user
        html: '<p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/63ac23423332855f913d5f1c/hvsZol1det45zqOrc7ePQ.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/63ac23423332855f913d5f1c/hvsZol1det45zqOrc7ePQ.png"></a></p>

          <p>It''s almost the same. Can we verify the dataset integrity indenpendently?
          </p>

          '
        raw: '

          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/63ac23423332855f913d5f1c/hvsZol1det45zqOrc7ePQ.png)


          It''s almost the same. Can we verify the dataset integrity indenpendently? '
        updatedAt: '2023-08-05T03:29:13.817Z'
      numEdits: 0
      reactions: []
    id: 64cdc209e13e7c2bc578173b
    type: comment
  author: anon13370
  content: '

    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/63ac23423332855f913d5f1c/hvsZol1det45zqOrc7ePQ.png)


    It''s almost the same. Can we verify the dataset integrity indenpendently? '
  created_at: 2023-08-05 02:29:13+00:00
  edited: false
  hidden: false
  id: 64cdc209e13e7c2bc578173b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1dbcd98373383e0c1631898259b8aad1.svg
      fullname: Sarvjeet Ghotra
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sarvghotra
      type: user
    createdAt: '2023-08-09T00:12:35.000Z'
    data:
      edited: false
      editors:
      - sarvghotra
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8995407223701477
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1dbcd98373383e0c1631898259b8aad1.svg
          fullname: Sarvjeet Ghotra
          isHf: false
          isPro: false
          name: sarvghotra
          type: user
        html: '<p>Any update on it?</p>

          '
        raw: Any update on it?
        updatedAt: '2023-08-09T00:12:35.108Z'
      numEdits: 0
      reactions: []
    id: 64d2d9f3dafee18fafa23e44
    type: comment
  author: sarvghotra
  content: Any update on it?
  created_at: 2023-08-08 23:12:35+00:00
  edited: false
  hidden: false
  id: 64d2d9f3dafee18fafa23e44
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: sahil2801/replit-code-instruct-glaive
repo_type: model
status: open
target_branch: null
title: Human eval test data might have leaked into training data
