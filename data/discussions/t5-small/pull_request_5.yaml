!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Narsil
conflicting_files:
- config.json
created_at: 2022-11-04 08:36:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608285816082-5e2967b819407e3277369b95.png?w=200&h=200&f=face
      fullname: Nicolas Patry
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Narsil
      type: user
    createdAt: '2022-11-04T09:36:57.000Z'
    data:
      edited: false
      editors:
      - Narsil
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608285816082-5e2967b819407e3277369b95.png?w=200&h=200&f=face
          fullname: Nicolas Patry
          isHf: true
          isPro: false
          name: Narsil
          type: user
        html: '<p>Leaving it for potential older versions of the lib.<br>But adding
          it so that <code>infer_framework_load_model</code> from the pipeline can
          load the model directly without needing to refer to the pipeline task.</p>

          <p><a rel="nofollow" href="https://github.com/huggingface/transformers/blob/main/src/transformers/models/t5/modeling_t5.py#L1466">https://github.com/huggingface/transformers/blob/main/src/transformers/models/t5/modeling_t5.py#L1466</a></p>

          '
        raw: 'Leaving it for potential older versions of the lib.

          But adding it so that `infer_framework_load_model` from the pipeline can
          load the model directly without needing to refer to the pipeline task.


          https://github.com/huggingface/transformers/blob/main/src/transformers/models/t5/modeling_t5.py#L1466'
        updatedAt: '2022-11-04T09:36:57.066Z'
      numEdits: 0
      reactions: []
    id: 6364dd3925aa3bd177cc685c
    type: comment
  author: Narsil
  content: 'Leaving it for potential older versions of the lib.

    But adding it so that `infer_framework_load_model` from the pipeline can load
    the model directly without needing to refer to the pipeline task.


    https://github.com/huggingface/transformers/blob/main/src/transformers/models/t5/modeling_t5.py#L1466'
  created_at: 2022-11-04 08:36:57+00:00
  edited: false
  hidden: false
  id: 6364dd3925aa3bd177cc685c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608285816082-5e2967b819407e3277369b95.png?w=200&h=200&f=face
      fullname: Nicolas Patry
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Narsil
      type: user
    createdAt: '2022-11-04T09:36:58.000Z'
    data:
      oid: b453bcd15c447d7be9258676c8a93dce12316359
      parents:
      - d78aea13fa7ecd06c29e3e46195d6341255065d5
      subject: It seems `T5WithLMHead` is outdated
    id: 6364dd3a0000000000000000
    type: commit
  author: Narsil
  created_at: 2022-11-04 08:36:58+00:00
  id: 6364dd3a0000000000000000
  oid: b453bcd15c447d7be9258676c8a93dce12316359
  summary: It seems `T5WithLMHead` is outdated
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608285816082-5e2967b819407e3277369b95.png?w=200&h=200&f=face
      fullname: Nicolas Patry
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Narsil
      type: user
    createdAt: '2022-11-04T09:37:06.000Z'
    data:
      edited: false
      editors:
      - Narsil
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1608285816082-5e2967b819407e3277369b95.png?w=200&h=200&f=face
          fullname: Nicolas Patry
          isHf: true
          isPro: false
          name: Narsil
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sgugger&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/sgugger\">@<span class=\"\
          underline\">sgugger</span></a></span>\n\n\t</span></span></p>\n"
        raw: '@sgugger'
        updatedAt: '2022-11-04T09:37:06.375Z'
      numEdits: 0
      reactions: []
    id: 6364dd42e7a78348d81996b2
    type: comment
  author: Narsil
  content: '@sgugger'
  created_at: 2022-11-04 08:37:06+00:00
  edited: false
  hidden: false
  id: 6364dd42e7a78348d81996b2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5dd96eb166059660ed1ee413/NQtzmrDdbG0H8qkZvRyGk.jpeg?w=200&h=200&f=face
      fullname: Julien Chaumond
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: true
      name: julien-c
      type: user
    createdAt: '2022-11-07T08:36:37.000Z'
    data:
      edited: false
      editors:
      - julien-c
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5dd96eb166059660ed1ee413/NQtzmrDdbG0H8qkZvRyGk.jpeg?w=200&h=200&f=face
          fullname: Julien Chaumond
          isHf: true
          isPro: true
          name: julien-c
          type: user
        html: '<p>BTW on the Hub side we always use the first element of <code>architectures</code>
          ie. <code>architectures[0]</code> (to populate the "Use in Transformers"
          modal)</p>

          <p>So you need to swap those two if you want the newer kind of AutoModel
          to appear</p>

          '
        raw: 'BTW on the Hub side we always use the first element of `architectures`
          ie. `architectures[0]` (to populate the "Use in Transformers" modal)


          So you need to swap those two if you want the newer kind of AutoModel to
          appear'
        updatedAt: '2022-11-07T08:36:37.308Z'
      numEdits: 0
      reactions: []
    id: 6368c3954d42a9444f3ec71f
    type: comment
  author: julien-c
  content: 'BTW on the Hub side we always use the first element of `architectures`
    ie. `architectures[0]` (to populate the "Use in Transformers" modal)


    So you need to swap those two if you want the newer kind of AutoModel to appear'
  created_at: 2022-11-07 08:36:37+00:00
  edited: false
  hidden: false
  id: 6368c3954d42a9444f3ec71f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1593126474392-5ef50182b71947201082a4e5.jpeg?w=200&h=200&f=face
      fullname: Sylvain Gugger
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sgugger
      type: user
    createdAt: '2022-11-07T15:39:04.000Z'
    data:
      edited: false
      editors:
      - sgugger
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1593126474392-5ef50182b71947201082a4e5.jpeg?w=200&h=200&f=face
          fullname: Sylvain Gugger
          isHf: false
          isPro: false
          name: sgugger
          type: user
        html: '<p>I have dived into the old code of Transformers since the rename
          was done a looooong time ago.<br>At that time, modeling_auto did not look
          at the architectures field of the config at all, so you can just replace
          the name and it will still work with older versions of Transformers.</p>

          '
        raw: 'I have dived into the old code of Transformers since the rename was
          done a looooong time ago.

          At that time, modeling_auto did not look at the architectures field of the
          config at all, so you can just replace the name and it will still work with
          older versions of Transformers.'
        updatedAt: '2022-11-07T15:39:04.081Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Narsil
    id: 63692698f944bf39d83682bf
    type: comment
  author: sgugger
  content: 'I have dived into the old code of Transformers since the rename was done
    a looooong time ago.

    At that time, modeling_auto did not look at the architectures field of the config
    at all, so you can just replace the name and it will still work with older versions
    of Transformers.'
  created_at: 2022-11-07 15:39:04+00:00
  edited: false
  hidden: false
  id: 63692698f944bf39d83682bf
  type: comment
is_pull_request: true
merge_commit_oid: null
num: 5
repo_id: t5-small
repo_type: model
status: open
target_branch: refs/heads/main
title: It seems `T5WithLMHead` is outdated
