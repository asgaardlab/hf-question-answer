!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Aravinth-Megnath
conflicting_files: null
created_at: 2023-08-04 01:30:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6e71dfe01cbcf2f583e14ecbe21f2cef.svg
      fullname: Aravinth Meganathan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aravinth-Megnath
      type: user
    createdAt: '2023-08-04T02:30:08.000Z'
    data:
      edited: true
      editors:
      - Aravinth-Megnath
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.683258056640625
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6e71dfe01cbcf2f583e14ecbe21f2cef.svg
          fullname: Aravinth Meganathan
          isHf: false
          isPro: false
          name: Aravinth-Megnath
          type: user
        html: '<p>Code which I use for "bert-base-uncased" :</p>

          <p>from transformers import Trainer</p>

          <p>trainer = Trainer( model, training_args, train_dataset=tokenized_datasets["train"],
          eval_dataset=tokenized_datasets["test"], data_collator=data_collator, tokenizer=tokenizer,
          )</p>

          <p>trainer.train()</p>

          <p>Error:</p>

          <p>ValueError Traceback (most recent call last) in &lt;cell line: 1&gt;()
          ----&gt; 1 trainer.train()</p>

          <p>3 frames /usr/local/lib/python3.10/dist-packages/transformers/trainer.py
          in compute_loss(self, model, inputs, return_outputs) 2690 else: 2691 if
          isinstance(outputs, dict) and "loss" not in outputs: -&gt; 2692 raise ValueError(
          2693 "The model did not return a loss from the inputs, only the following
          keys: " 2694 f"{'',''.join(outputs.keys())}. For reference, the inputs it
          received are {'',''.join(inputs.keys())}."</p>

          <p>ValueError: The model did not return a loss from the inputs, only the
          following keys: logits. For reference, the inputs it received are input_ids,token_type_ids,attention_mask.</p>

          <p>As suggested in a stack I have changed the columns into text and labels
          and I still facing this error.</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/647ef3f3b0e96764589c7648/DXhb8vQW2qeFEHBPJch66.png"><img
          alt="loss bert.png" src="https://cdn-uploads.huggingface.co/production/uploads/647ef3f3b0e96764589c7648/DXhb8vQW2qeFEHBPJch66.png"></a></p>

          <p>Help me rectify</p>

          '
        raw: 'Code which I use for "bert-base-uncased" :


          from transformers import Trainer


          trainer = Trainer( model, training_args, train_dataset=tokenized_datasets["train"],
          eval_dataset=tokenized_datasets["test"], data_collator=data_collator, tokenizer=tokenizer,
          )


          trainer.train()


          Error:


          ValueError Traceback (most recent call last) in <cell line: 1>() ----> 1
          trainer.train()


          3 frames /usr/local/lib/python3.10/dist-packages/transformers/trainer.py
          in compute_loss(self, model, inputs, return_outputs) 2690 else: 2691 if
          isinstance(outputs, dict) and "loss" not in outputs: -> 2692 raise ValueError(
          2693 "The model did not return a loss from the inputs, only the following
          keys: " 2694 f"{'',''.join(outputs.keys())}. For reference, the inputs it
          received are {'',''.join(inputs.keys())}."


          ValueError: The model did not return a loss from the inputs, only the following
          keys: logits. For reference, the inputs it received are input_ids,token_type_ids,attention_mask.


          As suggested in a stack I have changed the columns into text and labels
          and I still facing this error.


          ![loss bert.png](https://cdn-uploads.huggingface.co/production/uploads/647ef3f3b0e96764589c7648/DXhb8vQW2qeFEHBPJch66.png)



          Help me rectify'
        updatedAt: '2023-08-04T02:31:02.056Z'
      numEdits: 1
      reactions: []
    id: 64cc62b0a34a1fab19384b77
    type: comment
  author: Aravinth-Megnath
  content: 'Code which I use for "bert-base-uncased" :


    from transformers import Trainer


    trainer = Trainer( model, training_args, train_dataset=tokenized_datasets["train"],
    eval_dataset=tokenized_datasets["test"], data_collator=data_collator, tokenizer=tokenizer,
    )


    trainer.train()


    Error:


    ValueError Traceback (most recent call last) in <cell line: 1>() ----> 1 trainer.train()


    3 frames /usr/local/lib/python3.10/dist-packages/transformers/trainer.py in compute_loss(self,
    model, inputs, return_outputs) 2690 else: 2691 if isinstance(outputs, dict) and
    "loss" not in outputs: -> 2692 raise ValueError( 2693 "The model did not return
    a loss from the inputs, only the following keys: " 2694 f"{'',''.join(outputs.keys())}.
    For reference, the inputs it received are {'',''.join(inputs.keys())}."


    ValueError: The model did not return a loss from the inputs, only the following
    keys: logits. For reference, the inputs it received are input_ids,token_type_ids,attention_mask.


    As suggested in a stack I have changed the columns into text and labels and I
    still facing this error.


    ![loss bert.png](https://cdn-uploads.huggingface.co/production/uploads/647ef3f3b0e96764589c7648/DXhb8vQW2qeFEHBPJch66.png)



    Help me rectify'
  created_at: 2023-08-04 01:30:08+00:00
  edited: true
  hidden: false
  id: 64cc62b0a34a1fab19384b77
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/6e71dfe01cbcf2f583e14ecbe21f2cef.svg
      fullname: Aravinth Meganathan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aravinth-Megnath
      type: user
    createdAt: '2023-08-05T01:33:37.000Z'
    data:
      status: closed
    id: 64cda6f15de9e1e91159595c
    type: status-change
  author: Aravinth-Megnath
  created_at: 2023-08-05 00:33:37+00:00
  id: 64cda6f15de9e1e91159595c
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 49
repo_id: bert-base-uncased
repo_type: model
status: closed
target_branch: null
title: ' ValueError: The model did not return a loss from the inputs, only the following
  keys: logits. For reference, the inputs it received are input_ids,token_type_ids,attention_mask.'
