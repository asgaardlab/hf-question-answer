!!python/object:huggingface_hub.community.DiscussionWithDetails
author: drmeir
conflicting_files: null
created_at: 2023-07-16 13:57:13+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
      fullname: Meir Goldenberg
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: drmeir
      type: user
    createdAt: '2023-07-16T14:57:13.000Z'
    data:
      edited: true
      editors:
      - drmeir
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8908489346504211
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
          fullname: Meir Goldenberg
          isHf: false
          isPro: false
          name: drmeir
          type: user
        html: "<p>I would like to use <code>bert-base-uncased</code> to split text\
          \ into paragraphs based on shifts in meaning. I do not want to install heavy\
          \ packages and download the model, but rather use <code>requests</code>\
          \ to submit a post request to the model's endpoint.</p>\n<p>I guess it should\
          \ be something of the kind:</p>\n<pre><code class=\"language-py\">hf_token\
          \ = <span class=\"hljs-string\">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span>\n\
          headers = {<span class=\"hljs-string\">\"Authorization\"</span>: <span class=\"\
          hljs-string\">f\"Bearer <span class=\"hljs-subst\">{hf_token}</span>\"</span>}\n\
          url = <span class=\"hljs-string\">\"https://api-inference.huggingface.co/models/bert-base-uncased\"\
          </span>\n\ndata = {\n    <span class=\"hljs-string\">\"inputs\"</span>:\
          \ <span class=\"hljs-string\">\"Some text without paragraph breaks. And\
          \ here is a new thought.\"</span>,\n}\nresponse = requests.post(url, json=data,\
          \ headers=headers)\n<span class=\"hljs-built_in\">print</span>(response)\n\
          </code></pre>\n<p>I get 400 response. Since I have used the authorization\
          \ details for other models, I know that those are correct. So I guess that\
          \ something is wrong with the request. Unfortunately, I don't see the expected\
          \ request format documented. So, how do I use this model to split text into\
          \ paragraphs? (If this model is not suited for this task, please correct\
          \ me and make a suggestion for another model.)</p>\n"
        raw: "I would like to use `bert-base-uncased` to split text into paragraphs\
          \ based on shifts in meaning. I do not want to install heavy packages and\
          \ download the model, but rather use `requests` to submit a post request\
          \ to the model's endpoint.\n\nI guess it should be something of the kind:\n\
          \n```py\nhf_token = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\nheaders\
          \ = {\"Authorization\": f\"Bearer {hf_token}\"}\nurl = \"https://api-inference.huggingface.co/models/bert-base-uncased\"\
          \n\ndata = {\n    \"inputs\": \"Some text without paragraph breaks. And\
          \ here is a new thought.\",\n}\nresponse = requests.post(url, json=data,\
          \ headers=headers)\nprint(response)\n```\nI get 400 response. Since I have\
          \ used the authorization details for other models, I know that those are\
          \ correct. So I guess that something is wrong with the request. Unfortunately,\
          \ I don't see the expected request format documented. So, how do I use this\
          \ model to split text into paragraphs? (If this model is not suited for\
          \ this task, please correct me and make a suggestion for another model.)\n\
          \n"
        updatedAt: '2023-07-16T14:58:45.493Z'
      numEdits: 1
      reactions: []
    id: 64b405496d953e7c75fc1440
    type: comment
  author: drmeir
  content: "I would like to use `bert-base-uncased` to split text into paragraphs\
    \ based on shifts in meaning. I do not want to install heavy packages and download\
    \ the model, but rather use `requests` to submit a post request to the model's\
    \ endpoint.\n\nI guess it should be something of the kind:\n\n```py\nhf_token\
    \ = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'\nheaders = {\"Authorization\"\
    : f\"Bearer {hf_token}\"}\nurl = \"https://api-inference.huggingface.co/models/bert-base-uncased\"\
    \n\ndata = {\n    \"inputs\": \"Some text without paragraph breaks. And here is\
    \ a new thought.\",\n}\nresponse = requests.post(url, json=data, headers=headers)\n\
    print(response)\n```\nI get 400 response. Since I have used the authorization\
    \ details for other models, I know that those are correct. So I guess that something\
    \ is wrong with the request. Unfortunately, I don't see the expected request format\
    \ documented. So, how do I use this model to split text into paragraphs? (If this\
    \ model is not suited for this task, please correct me and make a suggestion for\
    \ another model.)\n\n"
  created_at: 2023-07-16 13:57:13+00:00
  edited: true
  hidden: false
  id: 64b405496d953e7c75fc1440
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 47
repo_id: bert-base-uncased
repo_type: model
status: open
target_branch: null
title: Splitting text into paragraphs based on shifts of meaning
