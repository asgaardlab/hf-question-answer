!!python/object:huggingface_hub.community.DiscussionWithDetails
author: latitude
conflicting_files: null
created_at: 2022-05-25 19:17:09+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9d56ff540a95d44b791149922d4b93dd.svg
      fullname: Latitude
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: latitude
      type: user
    createdAt: '2022-05-25T20:17:09.000Z'
    data:
      edited: false
      editors:
      - latitude
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9d56ff540a95d44b791149922d4b93dd.svg
          fullname: Latitude
          isHf: false
          isPro: false
          name: latitude
          type: user
        html: '<p>Suppose I know the beginning and end of a text, but don''t know
          exactly how many tokens I want filled in. Maybe I can just set a minimum
          and maximum number of tokens. Can I do this with the Inference API? If not,
          how would I do it in my own code?</p>

          '
        raw: Suppose I know the beginning and end of a text, but don't know exactly
          how many tokens I want filled in. Maybe I can just set a minimum and maximum
          number of tokens. Can I do this with the Inference API? If not, how would
          I do it in my own code?
        updatedAt: '2022-05-25T20:17:09.000Z'
      numEdits: 0
      reactions: []
    id: 628e8ec554698ce61d1d1c53
    type: comment
  author: latitude
  content: Suppose I know the beginning and end of a text, but don't know exactly
    how many tokens I want filled in. Maybe I can just set a minimum and maximum number
    of tokens. Can I do this with the Inference API? If not, how would I do it in
    my own code?
  created_at: 2022-05-25 19:17:09+00:00
  edited: false
  hidden: false
  id: 628e8ec554698ce61d1d1c53
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-05-27T02:59:48.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>In this case I would also advise to simply iterate over multiple
          </p>

          '
        raw: 'In this case I would also advise to simply iterate over multiple <mask>
          tokens. Also, I don''t really know whether `bert-base-cased` is the most
          model for it. I think you''ll get better quality samples with GPT2 and constrained
          generation:  https://huggingface.co/blog/constrained-beam-search (cc @cwkean) '
        updatedAt: '2022-05-27T02:59:48.000Z'
      numEdits: 0
      reactions: []
    id: 62903ea4267c3813eb5d2629
    type: comment
  author: patrickvonplaten
  content: 'In this case I would also advise to simply iterate over multiple <mask>
    tokens. Also, I don''t really know whether `bert-base-cased` is the most model
    for it. I think you''ll get better quality samples with GPT2 and constrained generation:  https://huggingface.co/blog/constrained-beam-search
    (cc @cwkean) '
  created_at: 2022-05-27 01:59:48+00:00
  edited: false
  hidden: false
  id: 62903ea4267c3813eb5d2629
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-05-27T03:00:55.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p><code>&lt;mask&gt;</code> tokens. However, you''ll probably get
          better results with  + constrained generation where the constraint are your
          end tokens. See: <a href="https://huggingface.co/blog/constrained-beam-search">https://huggingface.co/blog/constrained-beam-search</a>
          (cc @cwkean)</p>

          '
        raw: '`<mask>` tokens. However, you''ll probably get better results with <prompt>
          + constrained generation where the constraint are your end tokens. See:
          https://huggingface.co/blog/constrained-beam-search (cc @cwkean)'
        updatedAt: '2022-05-27T03:00:55.000Z'
      numEdits: 0
      reactions: []
    id: 62903ee7dd993507cfd01197
    type: comment
  author: patrickvonplaten
  content: '`<mask>` tokens. However, you''ll probably get better results with <prompt>
    + constrained generation where the constraint are your end tokens. See: https://huggingface.co/blog/constrained-beam-search
    (cc @cwkean)'
  created_at: 2022-05-27 02:00:55+00:00
  edited: false
  hidden: false
  id: 62903ee7dd993507cfd01197
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-05-27T03:01:13.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: "<p>Sorry <span data-props=\"{&quot;user&quot;:&quot;cwkeam&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/cwkeam\"\
          >@<span class=\"underline\">cwkeam</span></a></span>\n\n\t</span></span>\
          \ </p>\n"
        raw: 'Sorry @cwkeam '
        updatedAt: '2022-05-27T03:01:13.000Z'
      numEdits: 0
      reactions: []
    id: 62903ef9b90dde28ef5c44b5
    type: comment
  author: patrickvonplaten
  content: 'Sorry @cwkeam '
  created_at: 2022-05-27 02:01:13+00:00
  edited: false
  hidden: false
  id: 62903ef9b90dde28ef5c44b5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1646650865237-noauth.jpeg?w=200&h=200&f=face
      fullname: Chan Woo Kim
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cwkeam
      type: user
    createdAt: '2022-05-27T05:34:59.000Z'
    data:
      edited: false
      editors:
      - cwkeam
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1646650865237-noauth.jpeg?w=200&h=200&f=face
          fullname: Chan Woo Kim
          isHf: false
          isPro: false
          name: cwkeam
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;latitude&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/latitude\">@<span class=\"\
          underline\">latitude</span></a></span>\n\n\t</span></span> Right, you could\
          \ force the beginning of text trivially (just start the generation from\
          \ that token), but forcing the end token is a trickier concept (especially\
          \ since you don't know how many tokens should be in between).</p>\n<p>Like\
          \ Patrick said, what I'd do right now is do constrained generation with\
          \ that end token then filtering for your needs.</p>\n<p>This is a pretty\
          \ interesting use-case though; could you explain your situation with an\
          \ example? </p>\n<p>I think I could easily make a new Constraint object\
          \ dedicated for this sort of <a href=\"https://huggingface.co/blog/constrained-beam-search#more-about-constraint-classes-and-custom-constraints\"\
          >\"templating\"</a>  as I actually meant to do previously</p>\n"
        raw: "@latitude Right, you could force the beginning of text trivially (just\
          \ start the generation from that token), but forcing the end token is a\
          \ trickier concept (especially since you don't know how many tokens should\
          \ be in between).\n\nLike Patrick said, what I'd do right now is do constrained\
          \ generation with that end token then filtering for your needs.\n\nThis\
          \ is a pretty interesting use-case though; could you explain your situation\
          \ with an example? \n\nI think I could easily make a new Constraint object\
          \ dedicated for this sort of [\"templating\"](https://huggingface.co/blog/constrained-beam-search#more-about-constraint-classes-and-custom-constraints)\
          \  as I actually meant to do previously"
        updatedAt: '2022-05-27T05:34:59.000Z'
      numEdits: 0
      reactions: []
    id: 629063030ea7e76254c18aac
    type: comment
  author: cwkeam
  content: "@latitude Right, you could force the beginning of text trivially (just\
    \ start the generation from that token), but forcing the end token is a trickier\
    \ concept (especially since you don't know how many tokens should be in between).\n\
    \nLike Patrick said, what I'd do right now is do constrained generation with that\
    \ end token then filtering for your needs.\n\nThis is a pretty interesting use-case\
    \ though; could you explain your situation with an example? \n\nI think I could\
    \ easily make a new Constraint object dedicated for this sort of [\"templating\"\
    ](https://huggingface.co/blog/constrained-beam-search#more-about-constraint-classes-and-custom-constraints)\
    \  as I actually meant to do previously"
  created_at: 2022-05-27 04:34:59+00:00
  edited: false
  hidden: false
  id: 629063030ea7e76254c18aac
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9d56ff540a95d44b791149922d4b93dd.svg
      fullname: Latitude
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: latitude
      type: user
    createdAt: '2022-05-27T08:37:05.000Z'
    data:
      edited: false
      editors:
      - latitude
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9d56ff540a95d44b791149922d4b93dd.svg
          fullname: Latitude
          isHf: false
          isPro: false
          name: latitude
          type: user
        html: '<p>Thanks for your help! One example is rhyming poetry. There are a
          very limited number of rhymes for the previous line, so I could pick a rhyme
          first and then fill in the rest of the line and check that it fits the meter.<br>The
          other application we''ve been discussing is short Choose-Your-Own-Adventure
          stories where two plotlines come together.</p>

          '
        raw: "Thanks for your help! One example is rhyming poetry. There are a very\
          \ limited number of rhymes for the previous line, so I could pick a rhyme\
          \ first and then fill in the rest of the line and check that it fits the\
          \ meter. \nThe other application we've been discussing is short Choose-Your-Own-Adventure\
          \ stories where two plotlines come together."
        updatedAt: '2022-05-27T08:37:05.000Z'
      numEdits: 0
      reactions: []
    id: 62908db1c740ebb981a7189c
    type: comment
  author: latitude
  content: "Thanks for your help! One example is rhyming poetry. There are a very\
    \ limited number of rhymes for the previous line, so I could pick a rhyme first\
    \ and then fill in the rest of the line and check that it fits the meter. \nThe\
    \ other application we've been discussing is short Choose-Your-Own-Adventure stories\
    \ where two plotlines come together."
  created_at: 2022-05-27 07:37:05+00:00
  edited: false
  hidden: false
  id: 62908db1c740ebb981a7189c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/eb08cbb31cf253fd9eee81f9440103f2.svg
      fullname: ZZ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zeutrap
      type: user
    createdAt: '2022-09-26T08:55:59.000Z'
    data:
      edited: false
      editors:
      - zeutrap
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/eb08cbb31cf253fd9eee81f9440103f2.svg
          fullname: ZZ
          isHf: false
          isPro: false
          name: zeutrap
          type: user
        html: '<p>thx</p>

          '
        raw: thx
        updatedAt: '2022-09-26T08:55:59.342Z'
      numEdits: 0
      reactions: []
    id: 6331691f5102481d8dceb6b2
    type: comment
  author: zeutrap
  content: thx
  created_at: 2022-09-26 07:55:59+00:00
  edited: false
  hidden: false
  id: 6331691f5102481d8dceb6b2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4bc6e7adca1e6b3f7dd41cd22452a6bf.svg
      fullname: Zeswell
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Swell
      type: user
    createdAt: '2022-10-15T06:16:29.000Z'
    data:
      edited: false
      editors:
      - Swell
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4bc6e7adca1e6b3f7dd41cd22452a6bf.svg
          fullname: Zeswell
          isHf: false
          isPro: false
          name: Swell
          type: user
        html: "<blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;latitude&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/latitude\"\
          >@<span class=\"underline\">latitude</span></a></span>\n\n\t</span></span>\
          \ Right, you could force the beginning of text trivially (just start the\
          \ generation from that token), but forcing the end token is a trickier concept\
          \ (especially since you don't know how many tokens should be in between).</p>\n\
          <p>Like Patrick said, what I'd do right now is do constrained generation\
          \ with that end token then filtering for your needs.</p>\n<p>This is a pretty\
          \ interesting use-case though; could you explain your situation with an\
          \ example? </p>\n<p>I think I could easily make a new Constraint object\
          \ dedicated for this sort of <a href=\"https://huggingface.co/blog/constrained-beam-search#more-about-constraint-classes-and-custom-constraints\"\
          >\"templating\"</a>  as I actually meant to do previously</p>\n</blockquote>\n\
          <p>thx</p>\n"
        raw: "> @latitude Right, you could force the beginning of text trivially (just\
          \ start the generation from that token), but forcing the end token is a\
          \ trickier concept (especially since you don't know how many tokens should\
          \ be in between).\n> \n> Like Patrick said, what I'd do right now is do\
          \ constrained generation with that end token then filtering for your needs.\n\
          > \n> This is a pretty interesting use-case though; could you explain your\
          \ situation with an example? \n> \n> I think I could easily make a new Constraint\
          \ object dedicated for this sort of [\"templating\"](https://huggingface.co/blog/constrained-beam-search#more-about-constraint-classes-and-custom-constraints)\
          \  as I actually meant to do previously\n\nthx"
        updatedAt: '2022-10-15T06:16:29.056Z'
      numEdits: 0
      reactions: []
    id: 634a503d574bb72b10ee5569
    type: comment
  author: Swell
  content: "> @latitude Right, you could force the beginning of text trivially (just\
    \ start the generation from that token), but forcing the end token is a trickier\
    \ concept (especially since you don't know how many tokens should be in between).\n\
    > \n> Like Patrick said, what I'd do right now is do constrained generation with\
    \ that end token then filtering for your needs.\n> \n> This is a pretty interesting\
    \ use-case though; could you explain your situation with an example? \n> \n> I\
    \ think I could easily make a new Constraint object dedicated for this sort of\
    \ [\"templating\"](https://huggingface.co/blog/constrained-beam-search#more-about-constraint-classes-and-custom-constraints)\
    \  as I actually meant to do previously\n\nthx"
  created_at: 2022-10-15 05:16:29+00:00
  edited: false
  hidden: false
  id: 634a503d574bb72b10ee5569
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: bert-base-uncased
repo_type: model
status: open
target_branch: null
title: Multi-token masks?
