!!python/object:huggingface_hub.community.DiscussionWithDetails
author: agoto
conflicting_files: null
created_at: 2023-07-31 01:53:29+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fbcc2a94f39d3aaaf71f19152a2189d9.svg
      fullname: junnan liu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: agoto
      type: user
    createdAt: '2023-07-31T02:53:29.000Z'
    data:
      edited: false
      editors:
      - agoto
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.19409167766571045
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fbcc2a94f39d3aaaf71f19152a2189d9.svg
          fullname: junnan liu
          isHf: false
          isPro: false
          name: agoto
          type: user
        html: "<p>model = AutoModelForCausalLM.from_pretrained(raw_model_dir, torch_dtype=torch.float16,\
          \ trust_remote_code=True)<br>model = model.quantize(8).cuda()<br>model.save_pretrained(quantize_model_dir)</p>\n\
          <h1 id=\"modelsave_pretrainedquantize_model_dir-state_dictmodelstate_dict\"\
          >model.save_pretrained(quantize_model_dir, state_dict=model.state_dict())</h1>\n\
          <p>\u90FD\u4FDD\u5B58\u4E86 \u53EA\u67091.3G\u7684\u4E00\u4E2A\u6587\u4EF6\
          \ \u8BF7\u95EE\u662F\u54EA\u91CC\u7528\u7684\u4E0D\u5BF9\u4E48?</p>\n"
        raw: "model = AutoModelForCausalLM.from_pretrained(raw_model_dir, torch_dtype=torch.float16,\
          \ trust_remote_code=True)\r\nmodel = model.quantize(8).cuda() \r\nmodel.save_pretrained(quantize_model_dir)\r\
          \n# model.save_pretrained(quantize_model_dir, state_dict=model.state_dict())\r\
          \n\u90FD\u4FDD\u5B58\u4E86 \u53EA\u67091.3G\u7684\u4E00\u4E2A\u6587\u4EF6\
          \ \u8BF7\u95EE\u662F\u54EA\u91CC\u7528\u7684\u4E0D\u5BF9\u4E48?"
        updatedAt: '2023-07-31T02:53:29.612Z'
      numEdits: 0
      reactions: []
    id: 64c72229d07620bdc9dcf97d
    type: comment
  author: agoto
  content: "model = AutoModelForCausalLM.from_pretrained(raw_model_dir, torch_dtype=torch.float16,\
    \ trust_remote_code=True)\r\nmodel = model.quantize(8).cuda() \r\nmodel.save_pretrained(quantize_model_dir)\r\
    \n# model.save_pretrained(quantize_model_dir, state_dict=model.state_dict())\r\
    \n\u90FD\u4FDD\u5B58\u4E86 \u53EA\u67091.3G\u7684\u4E00\u4E2A\u6587\u4EF6 \u8BF7\
    \u95EE\u662F\u54EA\u91CC\u7528\u7684\u4E0D\u5BF9\u4E48?"
  created_at: 2023-07-31 01:53:29+00:00
  edited: false
  hidden: false
  id: 64c72229d07620bdc9dcf97d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d25c44eebe21a2590e24c241ef7a18ec.svg
      fullname: trillionmonster
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: trillionmonster
      type: user
    createdAt: '2023-07-31T07:45:21.000Z'
    data:
      edited: false
      editors:
      - trillionmonster
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9956784844398499
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d25c44eebe21a2590e24c241ef7a18ec.svg
          fullname: trillionmonster
          isHf: false
          isPro: false
          name: trillionmonster
          type: user
        html: "<p>\u53EF\u4EE5\u4E86\u89E3\u4E00\u4E0B state_dict=model.state_dict()\
          \ \u7684\u542B\u4E49\uFF0C\u53EF\u80FD\u662F\u4E0D\u5FC5\u8981\u7684\u3002\
          </p>\n"
        raw: "\u53EF\u4EE5\u4E86\u89E3\u4E00\u4E0B state_dict=model.state_dict() \u7684\
          \u542B\u4E49\uFF0C\u53EF\u80FD\u662F\u4E0D\u5FC5\u8981\u7684\u3002"
        updatedAt: '2023-07-31T07:45:21.037Z'
      numEdits: 0
      reactions: []
    id: 64c766911d44fc06af126801
    type: comment
  author: trillionmonster
  content: "\u53EF\u4EE5\u4E86\u89E3\u4E00\u4E0B state_dict=model.state_dict() \u7684\
    \u542B\u4E49\uFF0C\u53EF\u80FD\u662F\u4E0D\u5FC5\u8981\u7684\u3002"
  created_at: 2023-07-31 06:45:21+00:00
  edited: false
  hidden: false
  id: 64c766911d44fc06af126801
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fbcc2a94f39d3aaaf71f19152a2189d9.svg
      fullname: junnan liu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: agoto
      type: user
    createdAt: '2023-08-01T07:04:49.000Z'
    data:
      edited: false
      editors:
      - agoto
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9659256339073181
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fbcc2a94f39d3aaaf71f19152a2189d9.svg
          fullname: junnan liu
          isHf: false
          isPro: false
          name: agoto
          type: user
        html: "<p>\u8C22\u8C22\u56DE\u590D,<br>model.save_pretrained(quantize_model_dir)<br>\u8FD9\
          \u4E2A\u65B9\u5F0F \u6211\u4E5F\u5C1D\u8BD5\u4E86, \u4E5F\u6CA1\u6709\u6548\
          \u679C<br>\u662F\u5426\u8FD8\u9700\u8981\u5176\u4ED6\u64CD\u4F5C\u5462</p>\n"
        raw: "\u8C22\u8C22\u56DE\u590D,\nmodel.save_pretrained(quantize_model_dir)\
          \ \n\u8FD9\u4E2A\u65B9\u5F0F \u6211\u4E5F\u5C1D\u8BD5\u4E86, \u4E5F\u6CA1\
          \u6709\u6548\u679C\n\u662F\u5426\u8FD8\u9700\u8981\u5176\u4ED6\u64CD\u4F5C\
          \u5462"
        updatedAt: '2023-08-01T07:04:49.337Z'
      numEdits: 0
      reactions: []
    id: 64c8ae91b8685df8003870fa
    type: comment
  author: agoto
  content: "\u8C22\u8C22\u56DE\u590D,\nmodel.save_pretrained(quantize_model_dir) \n\
    \u8FD9\u4E2A\u65B9\u5F0F \u6211\u4E5F\u5C1D\u8BD5\u4E86, \u4E5F\u6CA1\u6709\u6548\
    \u679C\n\u662F\u5426\u8FD8\u9700\u8981\u5176\u4ED6\u64CD\u4F5C\u5462"
  created_at: 2023-08-01 06:04:49+00:00
  edited: false
  hidden: false
  id: 64c8ae91b8685df8003870fa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/742402df38578e6a0a5af690897b26b5.svg
      fullname: wanglaiqi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FutureMiracle
      type: user
    createdAt: '2023-08-22T06:06:09.000Z'
    data:
      edited: false
      editors:
      - FutureMiracle
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.253844678401947
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/742402df38578e6a0a5af690897b26b5.svg
          fullname: wanglaiqi
          isHf: false
          isPro: false
          name: FutureMiracle
          type: user
        html: "<p>model = AutoModelForCausalLM.from_pretrained(raw_model_dir, torch_dtype=torch.float16,\
          \ trust_remote_code=True)<br>model = model.quantize(8).cuda()<br>model.save_pretrained(quantize_model_dir)<br>\u6211\
          \u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u5BF9\u91CF\u5316\u540E\u7684\u6A21\
          \u578B\u4FDD\u5B58\u600E\u4E48\u53EA\u751F\u6210\u4E00\u4E2A1.3G\u7684\u6587\
          \u4EF6\uFF0C\u6C42\u89E3\uFF1F</p>\n"
        raw: "model = AutoModelForCausalLM.from_pretrained(raw_model_dir, torch_dtype=torch.float16,\
          \ trust_remote_code=True)\nmodel = model.quantize(8).cuda()\nmodel.save_pretrained(quantize_model_dir)\n\
          \u6211\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u5BF9\u91CF\u5316\u540E\u7684\
          \u6A21\u578B\u4FDD\u5B58\u600E\u4E48\u53EA\u751F\u6210\u4E00\u4E2A1.3G\u7684\
          \u6587\u4EF6\uFF0C\u6C42\u89E3\uFF1F"
        updatedAt: '2023-08-22T06:06:09.919Z'
      numEdits: 0
      reactions: []
    id: 64e4505154e18f390efe34ca
    type: comment
  author: FutureMiracle
  content: "model = AutoModelForCausalLM.from_pretrained(raw_model_dir, torch_dtype=torch.float16,\
    \ trust_remote_code=True)\nmodel = model.quantize(8).cuda()\nmodel.save_pretrained(quantize_model_dir)\n\
    \u6211\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u5BF9\u91CF\u5316\u540E\u7684\u6A21\
    \u578B\u4FDD\u5B58\u600E\u4E48\u53EA\u751F\u6210\u4E00\u4E2A1.3G\u7684\u6587\u4EF6\
    \uFF0C\u6C42\u89E3\uFF1F"
  created_at: 2023-08-22 05:06:09+00:00
  edited: false
  hidden: false
  id: 64e4505154e18f390efe34ca
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: trillionmonster/Baichuan-13B-Chat-8bit
repo_type: model
status: open
target_branch: null
title: "\u8BF7\u6559\u4E0B \u4F60\u5982\u4F55\u91CF\u5316\u4FDD\u5B58\u7684\u6A21\u578B\
  ?"
