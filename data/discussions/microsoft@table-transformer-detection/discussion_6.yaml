!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Vishfeb27
conflicting_files: null
created_at: 2023-04-09 01:31:51+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/37f8ff1137050a03f7d7703bb75c966f.svg
      fullname: Srichand Vishnu S
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Vishfeb27
      type: user
    createdAt: '2023-04-09T02:31:51.000Z'
    data:
      edited: false
      editors:
      - Vishfeb27
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/37f8ff1137050a03f7d7703bb75c966f.svg
          fullname: Srichand Vishnu S
          isHf: false
          isPro: false
          name: Vishfeb27
          type: user
        html: '<p>Hi Team,<br>I have a pdf of 20 pages and I am using pdf2image library
          to convert to images and passing each image for detection using threads
          and I could see the memory gets piles up and is not getting deallocated
          unless the entire application is exited... I tried debugging the code just
          when using table detection or table structure det the memory gets piledup..
          in my flask application i am loading the model once and reusing in my function
          for infering each pages of pdf and also tried gc.collect() and del the variables
          but no luck... Is there any work around that could help in release the memory?</p>

          '
        raw: "Hi Team, \r\nI have a pdf of 20 pages and I am using pdf2image library\
          \ to convert to images and passing each image for detection using threads\
          \ and I could see the memory gets piles up and is not getting deallocated\
          \ unless the entire application is exited... I tried debugging the code\
          \ just when using table detection or table structure det the memory gets\
          \ piledup.. in my flask application i am loading the model once and reusing\
          \ in my function for infering each pages of pdf and also tried gc.collect()\
          \ and del the variables but no luck... Is there any work around that could\
          \ help in release the memory?"
        updatedAt: '2023-04-09T02:31:51.851Z'
      numEdits: 0
      reactions: []
    id: 64322397faac480f27c8259e
    type: comment
  author: Vishfeb27
  content: "Hi Team, \r\nI have a pdf of 20 pages and I am using pdf2image library\
    \ to convert to images and passing each image for detection using threads and\
    \ I could see the memory gets piles up and is not getting deallocated unless the\
    \ entire application is exited... I tried debugging the code just when using table\
    \ detection or table structure det the memory gets piledup.. in my flask application\
    \ i am loading the model once and reusing in my function for infering each pages\
    \ of pdf and also tried gc.collect() and del the variables but no luck... Is there\
    \ any work around that could help in release the memory?"
  created_at: 2023-04-09 01:31:51+00:00
  edited: false
  hidden: false
  id: 64322397faac480f27c8259e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: microsoft/table-transformer-detection
repo_type: model
status: open
target_branch: null
title: Memory leak while using table detection
