!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ymoslem
conflicting_files: null
created_at: 2023-03-01 21:57:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/609bb531a1027a037fdba8a21d6ca586.svg
      fullname: Yasmin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ymoslem
      type: user
    createdAt: '2023-03-01T21:57:49.000Z'
    data:
      edited: true
      editors:
      - ymoslem
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/609bb531a1027a037fdba8a21d6ca586.svg
          fullname: Yasmin
          isHf: false
          isPro: false
          name: ymoslem
          type: user
        html: "<p>Hello!</p>\n<p>I have an issue while using BLOOM via the Inference\
          \ API with <a href=\"https://huggingface.co/docs/api-inference/parallelism#streaming\"\
          >batch processing / parallelism</a> as the provided Python code gives the\
          \ following error.</p>\n<pre><code>---------------------------------------------------------------------------\n\
          IncompleteReadError                       Traceback (most recent call last)\n\
          [/usr/local/lib/python3.8/dist-packages/websockets/legacy/protocol.py](https://localhost:8080/#)\
          \ in transfer_data(self)\n    967             while True:\n--&gt; 968  \
          \               message = await self.read_message()\n    969 \n\n14 frames\n\
          IncompleteReadError: 0 bytes read on a total of 2 expected bytes\n\nThe\
          \ above exception was the direct cause of the following exception:\n\nConnectionClosedError\
          \                     Traceback (most recent call last)\n[/usr/local/lib/python3.8/dist-packages/websockets/legacy/protocol.py](https://localhost:8080/#)\
          \ in ensure_open(self)\n    942 \n    943         if self.state is State.CLOSED:\n\
          --&gt; 944             raise self.connection_closed_exc()\n    945 \n  \
          \  946         if self.state is State.CLOSING:\n\nConnectionClosedError:\
          \ no close frame received or sent\n</code></pre>\n<p>Your help is appreciated.\
          \ If this is not the right place to send this issue, I will appreciate guiding\
          \ me to where I should send it. Thanks!</p>\n"
        raw: "Hello!\n\nI have an issue while using BLOOM via the Inference API with\
          \ [batch processing / parallelism](https://huggingface.co/docs/api-inference/parallelism#streaming)\
          \ as the provided Python code gives the following error.\n\n```\n---------------------------------------------------------------------------\n\
          IncompleteReadError                       Traceback (most recent call last)\n\
          [/usr/local/lib/python3.8/dist-packages/websockets/legacy/protocol.py](https://localhost:8080/#)\
          \ in transfer_data(self)\n    967             while True:\n--> 968     \
          \            message = await self.read_message()\n    969 \n\n14 frames\n\
          IncompleteReadError: 0 bytes read on a total of 2 expected bytes\n\nThe\
          \ above exception was the direct cause of the following exception:\n\nConnectionClosedError\
          \                     Traceback (most recent call last)\n[/usr/local/lib/python3.8/dist-packages/websockets/legacy/protocol.py](https://localhost:8080/#)\
          \ in ensure_open(self)\n    942 \n    943         if self.state is State.CLOSED:\n\
          --> 944             raise self.connection_closed_exc()\n    945 \n    946\
          \         if self.state is State.CLOSING:\n\nConnectionClosedError: no close\
          \ frame received or sent\n```\n\nYour help is appreciated. If this is not\
          \ the right place to send this issue, I will appreciate guiding me to where\
          \ I should send it. Thanks!"
        updatedAt: '2023-03-02T15:48:55.725Z'
      numEdits: 1
      reactions: []
    id: 63ffca5de7767a89533b5db7
    type: comment
  author: ymoslem
  content: "Hello!\n\nI have an issue while using BLOOM via the Inference API with\
    \ [batch processing / parallelism](https://huggingface.co/docs/api-inference/parallelism#streaming)\
    \ as the provided Python code gives the following error.\n\n```\n---------------------------------------------------------------------------\n\
    IncompleteReadError                       Traceback (most recent call last)\n\
    [/usr/local/lib/python3.8/dist-packages/websockets/legacy/protocol.py](https://localhost:8080/#)\
    \ in transfer_data(self)\n    967             while True:\n--> 968           \
    \      message = await self.read_message()\n    969 \n\n14 frames\nIncompleteReadError:\
    \ 0 bytes read on a total of 2 expected bytes\n\nThe above exception was the direct\
    \ cause of the following exception:\n\nConnectionClosedError                 \
    \    Traceback (most recent call last)\n[/usr/local/lib/python3.8/dist-packages/websockets/legacy/protocol.py](https://localhost:8080/#)\
    \ in ensure_open(self)\n    942 \n    943         if self.state is State.CLOSED:\n\
    --> 944             raise self.connection_closed_exc()\n    945 \n    946    \
    \     if self.state is State.CLOSING:\n\nConnectionClosedError: no close frame\
    \ received or sent\n```\n\nYour help is appreciated. If this is not the right\
    \ place to send this issue, I will appreciate guiding me to where I should send\
    \ it. Thanks!"
  created_at: 2023-03-01 21:57:49+00:00
  edited: true
  hidden: false
  id: 63ffca5de7767a89533b5db7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/acf4e9e0204a7ff7445aecc4102700cd.svg
      fullname: Phi Nguyen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nxphi47
      type: user
    createdAt: '2023-03-14T14:53:52.000Z'
    data:
      edited: false
      editors:
      - nxphi47
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/acf4e9e0204a7ff7445aecc4102700cd.svg
          fullname: Phi Nguyen
          isHf: false
          isPro: false
          name: nxphi47
          type: user
        html: '<p>same issue here!</p>

          '
        raw: same issue here!
        updatedAt: '2023-03-14T14:53:52.973Z'
      numEdits: 0
      reactions: []
    id: 64108a807f6bd7278da7ea52
    type: comment
  author: nxphi47
  content: same issue here!
  created_at: 2023-03-14 13:53:52+00:00
  edited: false
  hidden: false
  id: 64108a807f6bd7278da7ea52
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 203
repo_id: bigscience/bloom
repo_type: model
status: open
target_branch: null
title: Batch Processing / Parallelism
