!!python/object:huggingface_hub.community.DiscussionWithDetails
author: surya-narayanan
conflicting_files: null
created_at: 2023-08-03 01:26:26+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/317df1c0b62410524f26d177b30f0fa1.svg
      fullname: Surya Narayanan Hari
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: surya-narayanan
      type: user
    createdAt: '2023-08-03T02:26:26.000Z'
    data:
      edited: false
      editors:
      - surya-narayanan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4757033586502075
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/317df1c0b62410524f26d177b30f0fa1.svg
          fullname: Surya Narayanan Hari
          isHf: false
          isPro: false
          name: surya-narayanan
          type: user
        html: "<p>Downloading model.safetensors: 100%|\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588| 1.12G/1.12G [00:13&lt;00:00, 80.0MB/s]<br>Unexpected\
          \ exception formatting exception. Falling back to standard exception<br>Traceback\
          \ (most recent call last):<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/interactiveshell.py\"\
          , line 3442, in run_code<br>    exec(code_obj, self.user_global_ns, self.user_ns)<br>\
          \  File \"/tmp/ipykernel_1800858/148860320.py\", line 21, in <br>    query_model_pipelines.append(pipeline(\"\
          text-generation\",<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/pipelines/<strong>init</strong>.py\"\
          , line 779, in pipeline<br>    if torch_dtype is not None:<br>  File \"\
          /home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/pipelines/base.py\"\
          , line 262, in infer_framework_load_model<br>    \"Model might be a PyTorch\
          \ model (ending with <code>.bin</code>) but PyTorch is not available. \"\
          <br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py\"\
          , line 471, in from_pretrained<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2560, in from_pretrained<br>    resolved_archive_file = cached_file(<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 429, in load_state_dict<br>    for shard_file in shard_files:<br>NameError:\
          \ name 'safe_open' is not defined</p>\n<p>During handling of the above exception,\
          \ another exception occurred:</p>\n<p>Traceback (most recent call last):<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/interactiveshell.py\"\
          , line 2057, in showtraceback<br>    stb = self.InteractiveTB.structured_traceback(<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 1118, in structured_traceback<br>    return FormattedTB.structured_traceback(<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 1012, in structured_traceback<br>    return VerboseTB.structured_traceback(<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 865, in structured_traceback<br>    formatted_exception = self.format_exception_as_a_whole(etype,\
          \ evalue, etb, number_of_lines_of_context,<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 818, in format_exception_as_a_whole<br>    frames.append(self.format_record(r))<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 736, in format_record<br>    result += ''.join(_format_traceback_lines(frame_info.lines,\
          \ Colors, self.has_colors, lvals))<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
          , line 145, in cached_property_wrapper<br>    value = obj.<strong>dict</strong>[self.func.<strong>name</strong>]\
          \ = self.func(obj)<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
          , line 698, in lines<br>    pieces = self.included_pieces<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
          , line 145, in cached_property_wrapper<br>    value = obj.<strong>dict</strong>[self.func.<strong>name</strong>]\
          \ = self.func(obj)<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
          , line 649, in included_pieces<br>    pos = scope_pieces.index(self.executing_piece)<br>\
          \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
          , line 145, in cached_property_wrapper<br>    value = obj.<strong>dict</strong>[self.func.<strong>name</strong>]\
          \ = self.func(obj)<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
          , line 628, in executing_piece<br>    return only(<br>  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/executing/executing.py\"\
          , line 164, in only<br>    raise NotOneValueFound('Expected one value, found\
          \ 0')<br>executing.executing.NotOneValueFound: Expected one value, found\
          \ 0</p>\n"
        raw: "Downloading model.safetensors: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588| 1.12G/1.12G [00:13<00:00, 80.0MB/s]\r\nUnexpected\
          \ exception formatting exception. Falling back to standard exception\r\n\
          Traceback (most recent call last):\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/interactiveshell.py\"\
          , line 3442, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\
          \n  File \"/tmp/ipykernel_1800858/148860320.py\", line 21, in <module>\r\
          \n    query_model_pipelines.append(pipeline(\"text-generation\",\r\n  File\
          \ \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/pipelines/__init__.py\"\
          , line 779, in pipeline\r\n    if torch_dtype is not None:\r\n  File \"\
          /home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/pipelines/base.py\"\
          , line 262, in infer_framework_load_model\r\n    \"Model might be a PyTorch\
          \ model (ending with `.bin`) but PyTorch is not available. \"\r\n  File\
          \ \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py\"\
          , line 471, in from_pretrained\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2560, in from_pretrained\r\n    resolved_archive_file = cached_file(\r\
          \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 429, in load_state_dict\r\n    for shard_file in shard_files:\r\n\
          NameError: name 'safe_open' is not defined\r\n\r\nDuring handling of the\
          \ above exception, another exception occurred:\r\n\r\nTraceback (most recent\
          \ call last):\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/interactiveshell.py\"\
          , line 2057, in showtraceback\r\n    stb = self.InteractiveTB.structured_traceback(\r\
          \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 1118, in structured_traceback\r\n    return FormattedTB.structured_traceback(\r\
          \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 1012, in structured_traceback\r\n    return VerboseTB.structured_traceback(\r\
          \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 865, in structured_traceback\r\n    formatted_exception = self.format_exception_as_a_whole(etype,\
          \ evalue, etb, number_of_lines_of_context,\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 818, in format_exception_as_a_whole\r\n    frames.append(self.format_record(r))\r\
          \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
          , line 736, in format_record\r\n    result += ''.join(_format_traceback_lines(frame_info.lines,\
          \ Colors, self.has_colors, lvals))\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
          , line 145, in cached_property_wrapper\r\n    value = obj.__dict__[self.func.__name__]\
          \ = self.func(obj)\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
          , line 698, in lines\r\n    pieces = self.included_pieces\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
          , line 145, in cached_property_wrapper\r\n    value = obj.__dict__[self.func.__name__]\
          \ = self.func(obj)\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
          , line 649, in included_pieces\r\n    pos = scope_pieces.index(self.executing_piece)\r\
          \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
          , line 145, in cached_property_wrapper\r\n    value = obj.__dict__[self.func.__name__]\
          \ = self.func(obj)\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
          , line 628, in executing_piece\r\n    return only(\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/executing/executing.py\"\
          , line 164, in only\r\n    raise NotOneValueFound('Expected one value, found\
          \ 0')\r\nexecuting.executing.NotOneValueFound: Expected one value, found\
          \ 0"
        updatedAt: '2023-08-03T02:26:26.312Z'
      numEdits: 0
      reactions: []
    id: 64cb1052ec9a33183ac4a580
    type: comment
  author: surya-narayanan
  content: "Downloading model.safetensors: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588| 1.12G/1.12G [00:13<00:00, 80.0MB/s]\r\nUnexpected exception\
    \ formatting exception. Falling back to standard exception\r\nTraceback (most\
    \ recent call last):\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/interactiveshell.py\"\
    , line 3442, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\
    \n  File \"/tmp/ipykernel_1800858/148860320.py\", line 21, in <module>\r\n   \
    \ query_model_pipelines.append(pipeline(\"text-generation\",\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/pipelines/__init__.py\"\
    , line 779, in pipeline\r\n    if torch_dtype is not None:\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/pipelines/base.py\"\
    , line 262, in infer_framework_load_model\r\n    \"Model might be a PyTorch model\
    \ (ending with `.bin`) but PyTorch is not available. \"\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/models/auto/auto_factory.py\"\
    , line 471, in from_pretrained\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2560, in from_pretrained\r\n    resolved_archive_file = cached_file(\r\n\
    \  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 429, in load_state_dict\r\n    for shard_file in shard_files:\r\nNameError:\
    \ name 'safe_open' is not defined\r\n\r\nDuring handling of the above exception,\
    \ another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File\
    \ \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/interactiveshell.py\"\
    , line 2057, in showtraceback\r\n    stb = self.InteractiveTB.structured_traceback(\r\
    \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
    , line 1118, in structured_traceback\r\n    return FormattedTB.structured_traceback(\r\
    \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
    , line 1012, in structured_traceback\r\n    return VerboseTB.structured_traceback(\r\
    \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
    , line 865, in structured_traceback\r\n    formatted_exception = self.format_exception_as_a_whole(etype,\
    \ evalue, etb, number_of_lines_of_context,\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
    , line 818, in format_exception_as_a_whole\r\n    frames.append(self.format_record(r))\r\
    \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/IPython/core/ultratb.py\"\
    , line 736, in format_record\r\n    result += ''.join(_format_traceback_lines(frame_info.lines,\
    \ Colors, self.has_colors, lvals))\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
    , line 145, in cached_property_wrapper\r\n    value = obj.__dict__[self.func.__name__]\
    \ = self.func(obj)\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
    , line 698, in lines\r\n    pieces = self.included_pieces\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
    , line 145, in cached_property_wrapper\r\n    value = obj.__dict__[self.func.__name__]\
    \ = self.func(obj)\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
    , line 649, in included_pieces\r\n    pos = scope_pieces.index(self.executing_piece)\r\
    \n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/utils.py\"\
    , line 145, in cached_property_wrapper\r\n    value = obj.__dict__[self.func.__name__]\
    \ = self.func(obj)\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/stack_data/core.py\"\
    , line 628, in executing_piece\r\n    return only(\r\n  File \"/home/suryahari/miniconda3/envs/vornoi/lib/python3.10/site-packages/executing/executing.py\"\
    , line 164, in only\r\n    raise NotOneValueFound('Expected one value, found 0')\r\
    \nexecuting.executing.NotOneValueFound: Expected one value, found 0"
  created_at: 2023-08-03 01:26:26+00:00
  edited: false
  hidden: false
  id: 64cb1052ec9a33183ac4a580
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 260
repo_id: bigscience/bloom
repo_type: model
status: open
target_branch: null
title: getting this bug on the 560 m model
