!!python/object:huggingface_hub.community.DiscussionWithDetails
author: luoguanran
conflicting_files: null
created_at: 2022-09-15 06:15:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4412e61d3d030cd4712cf3d8556813fd.svg
      fullname: luoguanran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: luoguanran
      type: user
    createdAt: '2022-09-15T07:15:59.000Z'
    data:
      edited: false
      editors:
      - luoguanran
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4412e61d3d030cd4712cf3d8556813fd.svg
          fullname: luoguanran
          isHf: false
          isPro: false
          name: luoguanran
          type: user
        html: '<p>When I use BLOOM to generate text, the input text is English, but
          sometimes the generated text is Chinese or other languages</p>

          '
        raw: When I use BLOOM to generate text, the input text is English, but sometimes
          the generated text is Chinese or other languages
        updatedAt: '2022-09-15T07:15:59.598Z'
      numEdits: 0
      reactions: []
    id: 6322d12fbbdf0769a8e1da29
    type: comment
  author: luoguanran
  content: When I use BLOOM to generate text, the input text is English, but sometimes
    the generated text is Chinese or other languages
  created_at: 2022-09-15 06:15:59+00:00
  edited: false
  hidden: false
  id: 6322d12fbbdf0769a8e1da29
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
      fullname: Niklas Muennighoff
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Muennighoff
      type: user
    createdAt: '2022-09-22T15:56:58.000Z'
    data:
      edited: false
      editors:
      - Muennighoff
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
          fullname: Niklas Muennighoff
          isHf: false
          isPro: false
          name: Muennighoff
          type: user
        html: '<p>Two ways come to mind:</p>

          <ol>

          <li>Prompt: Ideally the prompt makes it clear what the desired language
          is. You can try to explicitly add the language, e.g. <code>English Text:
          ...</code> etc</li>

          <li>Logprob selection: You could probably also do some fancy token selection
          to ensure that the generated language is the language you''d like (e.g.
          don''t pick chinese tokens), but this wouldn''t work well for similar languages
          and requires significant engineering.</li>

          </ol>

          '
        raw: 'Two ways come to mind:

          1) Prompt: Ideally the prompt makes it clear what the desired language is.
          You can try to explicitly add the language, e.g. `English Text: ...` etc

          2) Logprob selection: You could probably also do some fancy token selection
          to ensure that the generated language is the language you''d like (e.g.
          don''t pick chinese tokens), but this wouldn''t work well for similar languages
          and requires significant engineering.'
        updatedAt: '2022-09-22T15:56:58.098Z'
      numEdits: 0
      reactions: []
    id: 632c85ca456c312527792737
    type: comment
  author: Muennighoff
  content: 'Two ways come to mind:

    1) Prompt: Ideally the prompt makes it clear what the desired language is. You
    can try to explicitly add the language, e.g. `English Text: ...` etc

    2) Logprob selection: You could probably also do some fancy token selection to
    ensure that the generated language is the language you''d like (e.g. don''t pick
    chinese tokens), but this wouldn''t work well for similar languages and requires
    significant engineering.'
  created_at: 2022-09-22 14:56:58+00:00
  edited: false
  hidden: false
  id: 632c85ca456c312527792737
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3d6e4b4d02eda7b5ef28e1cc0fb8e08a.svg
      fullname: Thomas Wang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: TimeRobber
      type: user
    createdAt: '2022-09-27T15:58:39.000Z'
    data:
      edited: false
      editors:
      - TimeRobber
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3d6e4b4d02eda7b5ef28e1cc0fb8e08a.svg
          fullname: Thomas Wang
          isHf: false
          isPro: false
          name: TimeRobber
          type: user
        html: '<p>Also something to be careful about is trailing spaces. </p>

          <p>Our tokenization tends to merge spaces in from of a word with the word
          so that instead of having <code>["word1", " ", "word2", " ", "word3"]</code>
          in the tokenization, we get <code>["word1", " word2", " word3"]</code> (notice
          the prefix space). This is used to be token efficient and to reduce the
          number of tokens needed to encode a specific sequence. This does have the
          tendency of having english text to have very little space statistically
          as you would need consecutives spaces within a sentences to generate a space
          token. In chinese, you get a lot more space.</p>

          '
        raw: "Also something to be careful about is trailing spaces. \n\nOur tokenization\
          \ tends to merge spaces in from of a word with the word so that instead\
          \ of having `[\"word1\", \" \", \"word2\", \" \", \"word3\"]` in the tokenization,\
          \ we get `[\"word1\", \" word2\", \" word3\"]` (notice the prefix space).\
          \ This is used to be token efficient and to reduce the number of tokens\
          \ needed to encode a specific sequence. This does have the tendency of having\
          \ english text to have very little space statistically as you would need\
          \ consecutives spaces within a sentences to generate a space token. In chinese,\
          \ you get a lot more space."
        updatedAt: '2022-09-27T15:58:39.886Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - pie3636
    id: 63331dafa90c64c6997ba793
    type: comment
  author: TimeRobber
  content: "Also something to be careful about is trailing spaces. \n\nOur tokenization\
    \ tends to merge spaces in from of a word with the word so that instead of having\
    \ `[\"word1\", \" \", \"word2\", \" \", \"word3\"]` in the tokenization, we get\
    \ `[\"word1\", \" word2\", \" word3\"]` (notice the prefix space). This is used\
    \ to be token efficient and to reduce the number of tokens needed to encode a\
    \ specific sequence. This does have the tendency of having english text to have\
    \ very little space statistically as you would need consecutives spaces within\
    \ a sentences to generate a space token. In chinese, you get a lot more space."
  created_at: 2022-09-27 14:58:39+00:00
  edited: false
  hidden: false
  id: 63331dafa90c64c6997ba793
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/4412e61d3d030cd4712cf3d8556813fd.svg
      fullname: luoguanran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: luoguanran
      type: user
    createdAt: '2022-09-29T01:45:46.000Z'
    data:
      status: closed
    id: 6334f8ca86c3fdcdc7b10c38
    type: status-change
  author: luoguanran
  created_at: 2022-09-29 00:45:46+00:00
  id: 6334f8ca86c3fdcdc7b10c38
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 110
repo_id: bigscience/bloom
repo_type: model
status: closed
target_branch: null
title: "how to specify the language for generating text\uFF1F"
