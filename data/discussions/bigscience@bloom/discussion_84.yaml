!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Muennighoff
conflicting_files: null
created_at: 2022-08-15 08:48:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
      fullname: Niklas Muennighoff
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Muennighoff
      type: user
    createdAt: '2022-08-15T09:48:05.000Z'
    data:
      edited: false
      editors:
      - Muennighoff
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
          fullname: Niklas Muennighoff
          isHf: false
          isPro: false
          name: Muennighoff
          type: user
        html: "<pre><code>PreTrainedTokenizerFast(name_or_path='bigscience/tokenizer',\
          \ vocab_size=250680, model_max_len=1000000000000000019884624838656, is_fast=True,\
          \ padding_side='right', truncation_side='right', special_tokens={'bos_token':\
          \ '&lt;s&gt;', 'eos_token': '&lt;/s&gt;', 'unk_token': '&lt;unk&gt;', 'pad_token':\
          \ '&lt;pad&gt;'})\n\nPreTrainedTokenizerFast(name_or_path='bigscience/bloom',\
          \ vocab_size=250680, model_max_len=1000000000000000019884624838656, is_fast=True,\
          \ padding_side='left', truncation_side='right', special_tokens={'bos_token':\
          \ '&lt;s&gt;', 'eos_token': '&lt;/s&gt;', 'unk_token': '&lt;unk&gt;', 'pad_token':\
          \ '&lt;pad&gt;'})\n</code></pre>\n<p>I think the two should be the same\
          \ no? cc <span data-props=\"{&quot;user&quot;:&quot;ybelkada&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/ybelkada\">@<span class=\"\
          underline\">ybelkada</span></a></span>\n\n\t</span></span></p>\n"
        raw: "```\r\nPreTrainedTokenizerFast(name_or_path='bigscience/tokenizer',\
          \ vocab_size=250680, model_max_len=1000000000000000019884624838656, is_fast=True,\
          \ padding_side='right', truncation_side='right', special_tokens={'bos_token':\
          \ '<s>', 'eos_token': '</s>', 'unk_token': '<unk>', 'pad_token': '<pad>'})\r\
          \n\r\nPreTrainedTokenizerFast(name_or_path='bigscience/bloom', vocab_size=250680,\
          \ model_max_len=1000000000000000019884624838656, is_fast=True, padding_side='left',\
          \ truncation_side='right', special_tokens={'bos_token': '<s>', 'eos_token':\
          \ '</s>', 'unk_token': '<unk>', 'pad_token': '<pad>'})\r\n```\r\n\r\nI think\
          \ the two should be the same no? cc @ybelkada"
        updatedAt: '2022-08-15T09:48:05.092Z'
      numEdits: 0
      reactions: []
    id: 62fa1655d8a067d3b3680145
    type: comment
  author: Muennighoff
  content: "```\r\nPreTrainedTokenizerFast(name_or_path='bigscience/tokenizer', vocab_size=250680,\
    \ model_max_len=1000000000000000019884624838656, is_fast=True, padding_side='right',\
    \ truncation_side='right', special_tokens={'bos_token': '<s>', 'eos_token': '</s>',\
    \ 'unk_token': '<unk>', 'pad_token': '<pad>'})\r\n\r\nPreTrainedTokenizerFast(name_or_path='bigscience/bloom',\
    \ vocab_size=250680, model_max_len=1000000000000000019884624838656, is_fast=True,\
    \ padding_side='left', truncation_side='right', special_tokens={'bos_token': '<s>',\
    \ 'eos_token': '</s>', 'unk_token': '<unk>', 'pad_token': '<pad>'})\r\n```\r\n\
    \r\nI think the two should be the same no? cc @ybelkada"
  created_at: 2022-08-15 08:48:05+00:00
  edited: false
  hidden: false
  id: 62fa1655d8a067d3b3680145
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2022-08-15T13:58:25.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: '<p>Yeah you are right, the <code>padding_side</code> of <code>bigscience/tokenizer</code>
          should be set to <code>left</code>, opened a PR at: <a href="https://huggingface.co/bigscience/tokenizer/discussions/3">https://huggingface.co/bigscience/tokenizer/discussions/3</a><br>Feel
          free to merge it ;)</p>

          '
        raw: 'Yeah you are right, the `padding_side` of `bigscience/tokenizer` should
          be set to `left`, opened a PR at: https://huggingface.co/bigscience/tokenizer/discussions/3

          Feel free to merge it ;)'
        updatedAt: '2022-08-15T13:58:25.037Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - ingo-m
    id: 62fa510186456e5334503719
    type: comment
  author: ybelkada
  content: 'Yeah you are right, the `padding_side` of `bigscience/tokenizer` should
    be set to `left`, opened a PR at: https://huggingface.co/bigscience/tokenizer/discussions/3

    Feel free to merge it ;)'
  created_at: 2022-08-15 12:58:25+00:00
  edited: false
  hidden: false
  id: 62fa510186456e5334503719
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/3d6e4b4d02eda7b5ef28e1cc0fb8e08a.svg
      fullname: Thomas Wang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: TimeRobber
      type: user
    createdAt: '2023-01-27T07:47:16.000Z'
    data:
      status: closed
    id: 63d3818422d51714e2a6f665
    type: status-change
  author: TimeRobber
  created_at: 2023-01-27 07:47:16+00:00
  id: 63d3818422d51714e2a6f665
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/74e0b5a36f7fbfc86d30dc901a810dac.svg
      fullname: Paul Lerner
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PaulLerner
      type: user
    createdAt: '2024-01-18T17:58:30.000Z'
    data:
      edited: false
      editors:
      - PaulLerner
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5015542507171631
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/74e0b5a36f7fbfc86d30dc901a810dac.svg
          fullname: Paul Lerner
          isHf: false
          isPro: false
          name: PaulLerner
          type: user
        html: "<p>padding_side='left'?? if it's a left-to-right LM the padding should\
          \ be on the right. Here's the current behavior:</p>\n<pre><code>In [72]:\
          \ tokenizer([\"foo\",\"foo bar baz\"],return_tensors=\"pt\", padding=\"\
          longest\")['input_ids']\nOut[72]: \ntensor([[    3,     3, 27988],\n   \
          \     [27988,  2879, 20300]])\n</code></pre>\n"
        raw: "padding_side='left'?? if it's a left-to-right LM the padding should\
          \ be on the right. Here's the current behavior:\n```\nIn [72]: tokenizer([\"\
          foo\",\"foo bar baz\"],return_tensors=\"pt\", padding=\"longest\")['input_ids']\n\
          Out[72]: \ntensor([[    3,     3, 27988],\n        [27988,  2879, 20300]])\n\
          ```"
        updatedAt: '2024-01-18T17:58:30.924Z'
      numEdits: 0
      reactions: []
    id: 65a966c6f06996740a5eaac8
    type: comment
  author: PaulLerner
  content: "padding_side='left'?? if it's a left-to-right LM the padding should be\
    \ on the right. Here's the current behavior:\n```\nIn [72]: tokenizer([\"foo\"\
    ,\"foo bar baz\"],return_tensors=\"pt\", padding=\"longest\")['input_ids']\nOut[72]:\
    \ \ntensor([[    3,     3, 27988],\n        [27988,  2879, 20300]])\n```"
  created_at: 2024-01-18 17:58:30+00:00
  edited: false
  hidden: false
  id: 65a966c6f06996740a5eaac8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/74e0b5a36f7fbfc86d30dc901a810dac.svg
      fullname: Paul Lerner
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PaulLerner
      type: user
    createdAt: '2024-01-23T15:37:09.000Z'
    data:
      edited: false
      editors:
      - PaulLerner
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.726745069026947
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/74e0b5a36f7fbfc86d30dc901a810dac.svg
          fullname: Paul Lerner
          isHf: false
          isPro: false
          name: PaulLerner
          type: user
        html: '<p>If it is correct it is also needed in <a href="https://huggingface.co/bigscience/bloomz-7b1-mt/blob/main/tokenizer_config.json">https://huggingface.co/bigscience/bloomz-7b1-mt/blob/main/tokenizer_config.json</a></p>

          '
        raw: If it is correct it is also needed in https://huggingface.co/bigscience/bloomz-7b1-mt/blob/main/tokenizer_config.json
        updatedAt: '2024-01-23T15:37:09.310Z'
      numEdits: 0
      reactions: []
    id: 65afdd25aa335c2842e992bd
    type: comment
  author: PaulLerner
  content: If it is correct it is also needed in https://huggingface.co/bigscience/bloomz-7b1-mt/blob/main/tokenizer_config.json
  created_at: 2024-01-23 15:37:09+00:00
  edited: false
  hidden: false
  id: 65afdd25aa335c2842e992bd
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 84
repo_id: bigscience/bloom
repo_type: model
status: closed
target_branch: null
title: padding_side discrepancy
