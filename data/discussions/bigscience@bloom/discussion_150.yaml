!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Matuesz
conflicting_files: null
created_at: 2022-12-03 21:27:15+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c4e8d4fb5283bbc357dc1ac9b3cc6758.svg
      fullname: Prezes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Matuesz
      type: user
    createdAt: '2022-12-03T21:27:15.000Z'
    data:
      edited: true
      editors:
      - Matuesz
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c4e8d4fb5283bbc357dc1ac9b3cc6758.svg
          fullname: Prezes
          isHf: false
          isPro: false
          name: Matuesz
          type: user
        html: '<p>Hi, I''ve been playing around with the API and discovered two interesting
          things that maybe someone could explain to me.<br><strong>First:</strong>
          when I switch the model to greedy in the huggingface API, it works fine,
          but when I set <code>"do_sample": False</code> in my request, it returns
          different results each time. Is there any possibility to force Bloom to
          be more deterministic?<br><strong>Second:</strong>  when i get response
          in json it skips space before punctuation e. g. "bla , bla" -&gt; "bla,
          bla". Is there a way to avoid this behavior?<br>Thanks for answers!</p>

          '
        raw: 'Hi, I''ve been playing around with the API and discovered two interesting
          things that maybe someone could explain to me.

          **First:** when I switch the model to greedy in the huggingface API, it
          works fine, but when I set `"do_sample": False` in my request, it returns
          different results each time. Is there any possibility to force Bloom to
          be more deterministic?

          **Second:**  when i get response in json it skips space before punctuation
          e. g. "bla , bla" -> "bla, bla". Is there a way to avoid this behavior?

          Thanks for answers!'
        updatedAt: '2022-12-03T21:41:34.350Z'
      numEdits: 1
      reactions: []
    id: 638bbf33bb4068fd07c52cd5
    type: comment
  author: Matuesz
  content: 'Hi, I''ve been playing around with the API and discovered two interesting
    things that maybe someone could explain to me.

    **First:** when I switch the model to greedy in the huggingface API, it works
    fine, but when I set `"do_sample": False` in my request, it returns different
    results each time. Is there any possibility to force Bloom to be more deterministic?

    **Second:**  when i get response in json it skips space before punctuation e.
    g. "bla , bla" -> "bla, bla". Is there a way to avoid this behavior?

    Thanks for answers!'
  created_at: 2022-12-03 21:27:15+00:00
  edited: true
  hidden: false
  id: 638bbf33bb4068fd07c52cd5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1646492542174-5e70f6048ce3c604d78fe133.jpeg?w=200&h=200&f=face
      fullname: Christopher Akiki
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: cakiki
      type: user
    createdAt: '2022-12-03T21:38:00.000Z'
    data:
      edited: false
      editors:
      - cakiki
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1646492542174-5e70f6048ce3c604d78fe133.jpeg?w=200&h=200&f=face
          fullname: Christopher Akiki
          isHf: false
          isPro: false
          name: cakiki
          type: user
        html: '<p>To your first question, the parameter to set is <code>do_sample</code>
          which might explain the non-determinism you''re observing.</p>

          '
        raw: To your first question, the parameter to set is `do_sample` which might
          explain the non-determinism you're observing.
        updatedAt: '2022-12-03T21:38:00.745Z'
      numEdits: 0
      reactions: []
    id: 638bc1b8e775b31ff31ebd36
    type: comment
  author: cakiki
  content: To your first question, the parameter to set is `do_sample` which might
    explain the non-determinism you're observing.
  created_at: 2022-12-03 21:38:00+00:00
  edited: false
  hidden: false
  id: 638bc1b8e775b31ff31ebd36
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c4e8d4fb5283bbc357dc1ac9b3cc6758.svg
      fullname: Prezes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Matuesz
      type: user
    createdAt: '2022-12-03T21:41:54.000Z'
    data:
      edited: false
      editors:
      - Matuesz
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c4e8d4fb5283bbc357dc1ac9b3cc6758.svg
          fullname: Prezes
          isHf: false
          isPro: false
          name: Matuesz
          type: user
        html: '<p>oh yess, I used <code>do_sample</code>, typo here so I quickly edited
          question</p>

          '
        raw: oh yess, I used `do_sample`, typo here so I quickly edited question
        updatedAt: '2022-12-03T21:41:54.093Z'
      numEdits: 0
      reactions: []
    id: 638bc2a272d5e4aa0123c3bc
    type: comment
  author: Matuesz
  content: oh yess, I used `do_sample`, typo here so I quickly edited question
  created_at: 2022-12-03 21:41:54+00:00
  edited: false
  hidden: false
  id: 638bc2a272d5e4aa0123c3bc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a60bcf3644989ce5e868882621edc7f2.svg
      fullname: Daniele Lanciotti
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ilLancio
      type: user
    createdAt: '2022-12-12T20:24:47.000Z'
    data:
      edited: true
      editors:
      - ilLancio
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a60bcf3644989ce5e868882621edc7f2.svg
          fullname: Daniele Lanciotti
          isHf: false
          isPro: false
          name: ilLancio
          type: user
        html: '<p>I encountered the same problem as explained in your second question,
          is this perhaps the cause of the <code>return_full_text</code> parameter
          not working which always seems to be True?<br><a href="https://huggingface.co/bigscience/bloom/discussions/153#6397907b71eb2455d898e0a4">https://huggingface.co/bigscience/bloom/discussions/153#6397907b71eb2455d898e0a4</a></p>

          '
        raw: 'I encountered the same problem as explained in your second question,
          is this perhaps the cause of the `return_full_text` parameter not working
          which always seems to be True?

          https://huggingface.co/bigscience/bloom/discussions/153#6397907b71eb2455d898e0a4'
        updatedAt: '2022-12-14T18:49:03.994Z'
      numEdits: 1
      reactions: []
    id: 63978e0f3fbb7d49d232a4cf
    type: comment
  author: ilLancio
  content: 'I encountered the same problem as explained in your second question, is
    this perhaps the cause of the `return_full_text` parameter not working which always
    seems to be True?

    https://huggingface.co/bigscience/bloom/discussions/153#6397907b71eb2455d898e0a4'
  created_at: 2022-12-12 20:24:47+00:00
  edited: true
  hidden: false
  id: 63978e0f3fbb7d49d232a4cf
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 150
repo_id: bigscience/bloom
repo_type: model
status: open
target_branch: null
title: BLOOM API inference
