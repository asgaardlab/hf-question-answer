!!python/object:huggingface_hub.community.DiscussionWithDetails
author: molntamas
conflicting_files: null
created_at: 2023-04-11 11:01:27+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7991abe99cc7a5e6d657eb6f34d92702.svg
      fullname: Tamas Molnar
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: molntamas
      type: user
    createdAt: '2023-04-11T12:01:27.000Z'
    data:
      edited: false
      editors:
      - molntamas
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7991abe99cc7a5e6d657eb6f34d92702.svg
          fullname: Tamas Molnar
          isHf: false
          isPro: false
          name: molntamas
          type: user
        html: '<p>This model needs a bounding box to specify which widget to describe.<br>But
          there is no example for this on the model card.<br>What is unclear how the
          bounding box should be specified.</p>

          <p>As I understand the code should look something like this:</p>

          <p>model = Pix2StructForConditionalGeneration.from_pretrained("google/pix2struct-widget-captioning-base")<br>processor
          = Pix2StructProcessor.from_pretrained("google/pix2struct-widget-captioning-base")</p>

          <p>question = "? bounding box ?"</p>

          <p>inputs = processor(images=image, text=question, return_tensors="pt")</p>

          <p>predictions = model.generate(**inputs)<br>print(processor.decode(predictions[0],
          skip_special_tokens=True))</p>

          '
        raw: "This model needs a bounding box to specify which widget to describe.\r\
          \nBut there is no example for this on the model card.\r\nWhat is unclear\
          \ how the bounding box should be specified.\r\n\r\nAs I understand the code\
          \ should look something like this:\r\n\r\nmodel = Pix2StructForConditionalGeneration.from_pretrained(\"\
          google/pix2struct-widget-captioning-base\")\r\nprocessor = Pix2StructProcessor.from_pretrained(\"\
          google/pix2struct-widget-captioning-base\")\r\n\r\nquestion = \"? bounding\
          \ box ?\"\r\n\r\ninputs = processor(images=image, text=question, return_tensors=\"\
          pt\")\r\n\r\npredictions = model.generate(**inputs)\r\nprint(processor.decode(predictions[0],\
          \ skip_special_tokens=True))"
        updatedAt: '2023-04-11T12:01:27.452Z'
      numEdits: 0
      reactions: []
    id: 64354c17a4bd75c62cbb21e8
    type: comment
  author: molntamas
  content: "This model needs a bounding box to specify which widget to describe.\r\
    \nBut there is no example for this on the model card.\r\nWhat is unclear how the\
    \ bounding box should be specified.\r\n\r\nAs I understand the code should look\
    \ something like this:\r\n\r\nmodel = Pix2StructForConditionalGeneration.from_pretrained(\"\
    google/pix2struct-widget-captioning-base\")\r\nprocessor = Pix2StructProcessor.from_pretrained(\"\
    google/pix2struct-widget-captioning-base\")\r\n\r\nquestion = \"? bounding box\
    \ ?\"\r\n\r\ninputs = processor(images=image, text=question, return_tensors=\"\
    pt\")\r\n\r\npredictions = model.generate(**inputs)\r\nprint(processor.decode(predictions[0],\
    \ skip_special_tokens=True))"
  created_at: 2023-04-11 11:01:27+00:00
  edited: false
  hidden: false
  id: 64354c17a4bd75c62cbb21e8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f7e6700c331fe677ad8c33f84d7442b9.svg
      fullname: Sunjae Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sunjae1294
      type: user
    createdAt: '2023-06-27T10:03:08.000Z'
    data:
      edited: false
      editors:
      - sunjae1294
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9394718408584595
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f7e6700c331fe677ad8c33f84d7442b9.svg
          fullname: Sunjae Lee
          isHf: false
          isPro: false
          name: sunjae1294
          type: user
        html: '<p>Same issue here.<br>The model seems to return same caption regardless
          of the bounding box.</p>

          '
        raw: 'Same issue here.

          The model seems to return same caption regardless of the bounding box.'
        updatedAt: '2023-06-27T10:03:08.791Z'
      numEdits: 0
      reactions: []
    id: 649ab3dc244a9b1daac31fd5
    type: comment
  author: sunjae1294
  content: 'Same issue here.

    The model seems to return same caption regardless of the bounding box.'
  created_at: 2023-06-27 09:03:08+00:00
  edited: false
  hidden: false
  id: 649ab3dc244a9b1daac31fd5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: google/pix2struct-widget-captioning-base
repo_type: model
status: open
target_branch: null
title: Missing example for running the model
