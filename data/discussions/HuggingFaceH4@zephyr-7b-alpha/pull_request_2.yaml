!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lewtun
conflicting_files: []
created_at: 2023-10-11 13:28:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1594651707950-noauth.jpeg?w=200&h=200&f=face
      fullname: Lewis Tunstall
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lewtun
      type: user
    createdAt: '2023-10-11T14:28:48.000Z'
    data:
      oid: 8a7552fdecc0df5400b3f3d29fd3b6f2c9a85972
      parents:
      - 19ac75375dbb461e4fed182c02a33315aa141646
      subject: Upload tokenizer
    id: 6526b1200000000000000000
    type: commit
  author: lewtun
  created_at: 2023-10-11 13:28:48+00:00
  id: 6526b1200000000000000000
  oid: 8a7552fdecc0df5400b3f3d29fd3b6f2c9a85972
  summary: Upload tokenizer
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1594651707950-noauth.jpeg?w=200&h=200&f=face
      fullname: Lewis Tunstall
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lewtun
      type: user
    createdAt: '2023-10-11T14:28:49.000Z'
    data:
      edited: false
      editors:
      - lewtun
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.11044929921627045
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1594651707950-noauth.jpeg?w=200&h=200&f=face
          fullname: Lewis Tunstall
          isHf: true
          isPro: false
          name: lewtun
          type: user
        html: ''
        raw: ''
        updatedAt: '2023-10-11T14:28:49.069Z'
      numEdits: 0
      reactions: []
    id: 6526b1215567b6fa61632bc8
    type: comment
  author: lewtun
  content: ''
  created_at: 2023-10-11 13:28:49+00:00
  edited: false
  hidden: false
  id: 6526b1215567b6fa61632bc8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1594651707950-noauth.jpeg?w=200&h=200&f=face
      fullname: Lewis Tunstall
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lewtun
      type: user
    createdAt: '2023-10-11T14:29:12.000Z'
    data:
      from: Upload tokenizer
      to: Add chat template
    id: 6526b138283bc2b5e0424a8c
    type: title-change
  author: lewtun
  created_at: 2023-10-11 13:29:12+00:00
  id: 6526b138283bc2b5e0424a8c
  new_title: Add chat template
  old_title: Upload tokenizer
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1594651707950-noauth.jpeg?w=200&h=200&f=face
      fullname: Lewis Tunstall
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lewtun
      type: user
    createdAt: '2023-10-11T14:29:26.000Z'
    data:
      status: merged
    id: 6526b1462b9713f339e78674
    type: status-change
  author: lewtun
  created_at: 2023-10-11 13:29:26+00:00
  id: 6526b1462b9713f339e78674
  new_status: merged
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0cda41fd401eec11c9c5478a1af946f5.svg
      fullname: Derek Simkowiak
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dereks-hf
      type: user
    createdAt: '2023-11-27T22:43:45.000Z'
    data:
      edited: true
      editors:
      - dereks-hf
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8948512673377991
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0cda41fd401eec11c9c5478a1af946f5.svg
          fullname: Derek Simkowiak
          isHf: false
          isPro: false
          name: dereks-hf
          type: user
        html: '<p>Note, according to the model publisher, a "<code>&lt;/s&gt;</code>"
          token was not used in the training, so I think this is incorrect. See the
          format the author described here:</p>

          <p><a href="https://huggingface.co/HuggingFaceH4/zephyr-7b-beta/discussions/7">https://huggingface.co/HuggingFaceH4/zephyr-7b-beta/discussions/7</a></p>

          <p>Furthermore, the author had this note about the trailing token. See the
          author''s comment in the link above:</p>

          <p>---------------- BEGIN COMMENT IN LINK ABOVE ------------------<br>I
          had problems making the model stop generating content. So I found the solution
          in this link (<a rel="nofollow" href="https://medium.com/@parikshitsaikia1619/mistral-mastery-fine-tuning-fast-inference-guide-62e163198b06">https://medium.com/@parikshitsaikia1619/mistral-mastery-fine-tuning-fast-inference-guide-62e163198b06</a>)</p>

          <p>This change before starting the training solved my problem<br>tokenizer
          = AutoTokenizer.from_pretrained("HuggingFaceH4/zephyr-7b-beta")<br>#tokenizer.pad_token
          = tokenizer.eos_token</p>

          <p>tokenizer.pad_token = tokenizer.unk_token &lt;----<br>tokenizer.padding_side
          = "right" &lt;----<br>---------------- END COMMENT IN LINK ABOVE  ------------------</p>

          <p>Any help is greatly appreciated. Thank you!</p>

          '
        raw: 'Note, according to the model publisher, a "`</s>`" token was not used
          in the training, so I think this is incorrect. See the format the author
          described here:


          https://huggingface.co/HuggingFaceH4/zephyr-7b-beta/discussions/7


          Furthermore, the author had this note about the trailing token. See the
          author''s comment in the link above:


          ---------------- BEGIN COMMENT IN LINK ABOVE ------------------

          I had problems making the model stop generating content. So I found the
          solution in this link (https://medium.com/@parikshitsaikia1619/mistral-mastery-fine-tuning-fast-inference-guide-62e163198b06)


          This change before starting the training solved my problem

          tokenizer = AutoTokenizer.from_pretrained("HuggingFaceH4/zephyr-7b-beta")

          #tokenizer.pad_token = tokenizer.eos_token


          tokenizer.pad_token = tokenizer.unk_token <----

          tokenizer.padding_side = "right" <----

          ---------------- END COMMENT IN LINK ABOVE  ------------------


          Any help is greatly appreciated. Thank you!'
        updatedAt: '2023-11-28T06:28:22.158Z'
      numEdits: 1
      reactions: []
    id: 65651ba1b3537258b42d0365
    type: comment
  author: dereks-hf
  content: 'Note, according to the model publisher, a "`</s>`" token was not used
    in the training, so I think this is incorrect. See the format the author described
    here:


    https://huggingface.co/HuggingFaceH4/zephyr-7b-beta/discussions/7


    Furthermore, the author had this note about the trailing token. See the author''s
    comment in the link above:


    ---------------- BEGIN COMMENT IN LINK ABOVE ------------------

    I had problems making the model stop generating content. So I found the solution
    in this link (https://medium.com/@parikshitsaikia1619/mistral-mastery-fine-tuning-fast-inference-guide-62e163198b06)


    This change before starting the training solved my problem

    tokenizer = AutoTokenizer.from_pretrained("HuggingFaceH4/zephyr-7b-beta")

    #tokenizer.pad_token = tokenizer.eos_token


    tokenizer.pad_token = tokenizer.unk_token <----

    tokenizer.padding_side = "right" <----

    ---------------- END COMMENT IN LINK ABOVE  ------------------


    Any help is greatly appreciated. Thank you!'
  created_at: 2023-11-27 22:43:45+00:00
  edited: true
  hidden: false
  id: 65651ba1b3537258b42d0365
  type: comment
is_pull_request: true
merge_commit_oid: 9894b57ddbf18306364d91d67c297356fd2d6509
num: 2
repo_id: HuggingFaceH4/zephyr-7b-alpha
repo_type: model
status: merged
target_branch: refs/heads/main
title: Add chat template
