!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AbdouS
conflicting_files: null
created_at: 2023-05-04 11:06:26+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ddec073513879d336b6ed5c918a98e4e.svg
      fullname: Abdoullah
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AbdouS
      type: user
    createdAt: '2023-05-04T12:06:26.000Z'
    data:
      edited: true
      editors:
      - AbdouS
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ddec073513879d336b6ed5c918a98e4e.svg
          fullname: Abdoullah
          isHf: false
          isPro: false
          name: AbdouS
          type: user
        html: "<p>Hello Sir,</p>\n<p>I tried passing this prompt using this code :</p>\n\
          <pre><code class=\"language-python\"><span class=\"hljs-keyword\">from</span>\
          \ transformers <span class=\"hljs-keyword\">import</span> AutoModelForCausalLM,\
          \ LlamaTokenizer\n<span class=\"hljs-keyword\">from</span> accelerate <span\
          \ class=\"hljs-keyword\">import</span> load_checkpoint_and_dispatch\n\n\
          model_id = <span class=\"hljs-string\">\"TheBloke/stable-vicuna-13B-HF\"\
          </span>\nTokenizer = LlamaTokenizer.from_pretrained(model_id)\nmodel = AutoModelForCausalLM.from_pretrained(model_id,\
          \ device_map=<span class=\"hljs-string\">\"auto\"</span>, load_in_8bit=<span\
          \ class=\"hljs-literal\">True</span>)\n\nyour_prompt_here = <span class=\"\
          hljs-string\">\"BEST SECTORS:  Healthcare (0.11%), Communication Svcs. (0.17%),\
          \ Utilities (0.31%), Industrials (0.38%), Real Estate (0.59%) WORST SECTORS:\
          \  Energy (1.92%), Financials (1.19%), Materials (1.11%), Tech (0.83%),\
          \ Consumer Spls. (0.79%), Consumer Disc. (0.71%) +11.6% GNRC (Generac):\
          \  Q1 EBITDA ahead and company maintained FY guidance; takeaways noted help\
          \ from better C&amp;I demand and margins; also some discussion about favorable\
          \ HSB lead indicators and elevated Q1 outage activity and field inventory\
          \ progress; expects Residential rebound in 2H. +7.0% LTHM (Livent Corp.):\
          \  Big Q1 EBITDA beat on strong pricing, while volumes saw a small decline;\
          \ raised FY guidance; takeaways noted record levels of revenue and profitability,\
          \ expectations for further price increased and a recovery in volume as year\
          \ progresses, favorable contracts with 70% of prices fixed for 2023, strong\
          \ lithium demand. +6.7% LLY (Eli Lilly):  Announced its phase 3 study of\
          \ donenemab for Alzheimer's met primary and all secondary endpoints measuring\
          \ cognitive/functional decline; said patients displayed ~35% slowing of\
          \ decline while 47% of participants showed no decline; some concerns on\
          \ safety profile vs BIIB's lecanemab. +4.7% CLX (Clorox):  Fiscal Q3 results\
          \ strong and company raised FY EPS guidance by 6% at midpoint; takeaways\
          \ focused on pricing power(price/mix +19%), margin expansion, more elastic\
          \ than expected volumes (though still declined), improved execution; more\
          \ cautious commentary revolved around valuation. +2.0% EMR (Emerson Electric):\
          \  Big fiscal Q2 EBITDA and EPS beat with revenues also ahead; organic growth\
          \ accelerated to 14% from 6% in prior Q; order growth improved to 7% y/y\
          \ from 5%; highlighted strong end market demand and excellent operational\
          \ execution; raised FY guidance; noted no slowdown in orders despite improving\
          \ lead times. -17.3% EL (Est\xE9e Lauder):  Fiscal Q3 EPS missed and company\
          \ slashed FY guidance by more than 30% (third straight Q of lower FY23 guide);\
          \ noted Asia travel retail business continued to be pressured by slower\
          \ than anticipated recovery from Covid; flagged slower prestige beauty growth\
          \ in China; inventory rebalancing in Hainan another issue. -12.3% SPR (Spirit\
          \ AeroSystems Holdings):  Q1 loss larger than expected; takeaways focused\
          \ on charges for the 737, 787, A350 and A220, driving another loss in the\
          \ Commercial segment; company said it has identified the quality issue surrounding\
          \ the 737 and has begun implementing repairs; expects work to be completed\
          \ by end of July. -9.3% AMD (Advanced Micro Devices):  Q1 results better\
          \ but company guided Q2 below; takeaways focused on weak PC and data center;\
          \ company flagged continued inventory destocking for some bigger cloud customers\
          \ and soft enterprise demand in the cloud; also some discussion about rising\
          \ competition; however, expects strong data center ramp in 2H and reaffirmed\
          \ PCs bottomed in Q1 and should start to improve; downgraded at BofA. -9.2%\
          \ SBUX (Starbucks):  Fiscal Q2 results better with takeaways focused on\
          \ China comp rebound and 12% increase in US comps; however, some disappointment\
          \ company only reiterated FY guidance; takeaways noted caution surrounding\
          \ more difficult macro backdrop, though company said no impact yet; also\
          \ flagged recent normalization in US comp trends and more difficult near-term\
          \ comparisons; however, lot of talk about how guidance looks conservative.\
          \ -3.9% YUM (YUM! Brands):  Q1 earnings missed though revenue better; comp\
          \ growth better across all brands; highlighted strong digital-sales trends;\
          \ analysts noted some concerns about weaker margins (particularly at KFC).\"\
          </span>\n\n<span class=\"hljs-comment\"># Test input text</span>\ninput_text\
          \ = [<span class=\"hljs-string\">f\"### Human: Resume this text: \\n\\n<span\
          \ class=\"hljs-subst\">{your_prompt_here}</span>\\n\\n  ### Assistant:\"\
          </span>]\n\n<span class=\"hljs-comment\"># Tokenize the input text</span>\n\
          input_ids = Tokenizer.encode(input_text, return_tensors=<span class=\"hljs-string\"\
          >\"pt\"</span>)\n\n<span class=\"hljs-comment\"># Generate output text</span>\n\
          <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">\"\
          Before generating text\"</span>)\noutput_ids = model.generate(input_ids,\
          \ max_length=<span class=\"hljs-number\">50</span>)\n<span class=\"hljs-built_in\"\
          >print</span>(<span class=\"hljs-string\">\"After generating text\"</span>)\n\
          \n<span class=\"hljs-comment\"># Decode the output tokens</span>\noutput_text\
          \ = Tokenizer.decode(output_ids[<span class=\"hljs-number\">0</span>], skip_special_tokens=<span\
          \ class=\"hljs-literal\">True</span>)\n<span class=\"hljs-built_in\">print</span>(<span\
          \ class=\"hljs-string\">\"Generated text:\"</span>, output_text)\n<span\
          \ class=\"hljs-comment\"># Check if GPU is available and set the device\
          \ accordingly</span>\ndevice = torch.device(<span class=\"hljs-string\"\
          >\"cuda\"</span> <span class=\"hljs-keyword\">if</span> torch.cuda.is_available()\
          \ <span class=\"hljs-keyword\">else</span> <span class=\"hljs-string\">\"\
          cpu\"</span>)\n</code></pre>\n<p>This is the result of the prompt :<br>Generated\
          \ text: A chat between a curious human and the Internet assistant. The assistant\
          \ gives helpful, detailed, and polite answers to the human's questions.</p>\n\
          <h3 id=\"human-what-is-the-name-of-the-song-that-was-released-as-a\">Human:\
          \ What is the name of the song that was released as a</h3>\n"
        raw: "Hello Sir,\n\nI tried passing this prompt using this code :\n\n\n```\
          \ python\nfrom transformers import AutoModelForCausalLM, LlamaTokenizer\n\
          from accelerate import load_checkpoint_and_dispatch\n\nmodel_id = \"TheBloke/stable-vicuna-13B-HF\"\
          \nTokenizer = LlamaTokenizer.from_pretrained(model_id)\nmodel = AutoModelForCausalLM.from_pretrained(model_id,\
          \ device_map=\"auto\", load_in_8bit=True)\n\nyour_prompt_here = \"BEST SECTORS:\
          \  Healthcare (0.11%), Communication Svcs. (0.17%), Utilities (0.31%), Industrials\
          \ (0.38%), Real Estate (0.59%) WORST SECTORS:  Energy (1.92%), Financials\
          \ (1.19%), Materials (1.11%), Tech (0.83%), Consumer Spls. (0.79%), Consumer\
          \ Disc. (0.71%) +11.6% GNRC (Generac):  Q1 EBITDA ahead and company maintained\
          \ FY guidance; takeaways noted help from better C&I demand and margins;\
          \ also some discussion about favorable HSB lead indicators and elevated\
          \ Q1 outage activity and field inventory progress; expects Residential rebound\
          \ in 2H. +7.0% LTHM (Livent Corp.):  Big Q1 EBITDA beat on strong pricing,\
          \ while volumes saw a small decline; raised FY guidance; takeaways noted\
          \ record levels of revenue and profitability, expectations for further price\
          \ increased and a recovery in volume as year progresses, favorable contracts\
          \ with 70% of prices fixed for 2023, strong lithium demand. +6.7% LLY (Eli\
          \ Lilly):  Announced its phase 3 study of donenemab for Alzheimer's met\
          \ primary and all secondary endpoints measuring cognitive/functional decline;\
          \ said patients displayed ~35% slowing of decline while 47% of participants\
          \ showed no decline; some concerns on safety profile vs BIIB's lecanemab.\
          \ +4.7% CLX (Clorox):  Fiscal Q3 results strong and company raised FY EPS\
          \ guidance by 6% at midpoint; takeaways focused on pricing power(price/mix\
          \ +19%), margin expansion, more elastic than expected volumes (though still\
          \ declined), improved execution; more cautious commentary revolved around\
          \ valuation. +2.0% EMR (Emerson Electric):  Big fiscal Q2 EBITDA and EPS\
          \ beat with revenues also ahead; organic growth accelerated to 14% from\
          \ 6% in prior Q; order growth improved to 7% y/y from 5%; highlighted strong\
          \ end market demand and excellent operational execution; raised FY guidance;\
          \ noted no slowdown in orders despite improving lead times. -17.3% EL (Est\xE9\
          e Lauder):  Fiscal Q3 EPS missed and company slashed FY guidance by more\
          \ than 30% (third straight Q of lower FY23 guide); noted Asia travel retail\
          \ business continued to be pressured by slower than anticipated recovery\
          \ from Covid; flagged slower prestige beauty growth in China; inventory\
          \ rebalancing in Hainan another issue. -12.3% SPR (Spirit AeroSystems Holdings):\
          \  Q1 loss larger than expected; takeaways focused on charges for the 737,\
          \ 787, A350 and A220, driving another loss in the Commercial segment; company\
          \ said it has identified the quality issue surrounding the 737 and has begun\
          \ implementing repairs; expects work to be completed by end of July. -9.3%\
          \ AMD (Advanced Micro Devices):  Q1 results better but company guided Q2\
          \ below; takeaways focused on weak PC and data center; company flagged continued\
          \ inventory destocking for some bigger cloud customers and soft enterprise\
          \ demand in the cloud; also some discussion about rising competition; however,\
          \ expects strong data center ramp in 2H and reaffirmed PCs bottomed in Q1\
          \ and should start to improve; downgraded at BofA. -9.2% SBUX (Starbucks):\
          \  Fiscal Q2 results better with takeaways focused on China comp rebound\
          \ and 12% increase in US comps; however, some disappointment company only\
          \ reiterated FY guidance; takeaways noted caution surrounding more difficult\
          \ macro backdrop, though company said no impact yet; also flagged recent\
          \ normalization in US comp trends and more difficult near-term comparisons;\
          \ however, lot of talk about how guidance looks conservative. -3.9% YUM\
          \ (YUM! Brands):  Q1 earnings missed though revenue better; comp growth\
          \ better across all brands; highlighted strong digital-sales trends; analysts\
          \ noted some concerns about weaker margins (particularly at KFC).\"\n\n\
          # Test input text\ninput_text = [f\"### Human: Resume this text: \\n\\n{your_prompt_here}\\\
          n\\n  ### Assistant:\"]\n\n# Tokenize the input text\ninput_ids = Tokenizer.encode(input_text,\
          \ return_tensors=\"pt\")\n\n# Generate output text\nprint(\"Before generating\
          \ text\")\noutput_ids = model.generate(input_ids, max_length=50)\nprint(\"\
          After generating text\")\n\n# Decode the output tokens\noutput_text = Tokenizer.decode(output_ids[0],\
          \ skip_special_tokens=True)\nprint(\"Generated text:\", output_text)\n#\
          \ Check if GPU is available and set the device accordingly\ndevice = torch.device(\"\
          cuda\" if torch.cuda.is_available() else \"cpu\")\n```\n\nThis is the result\
          \ of the prompt :\nGenerated text: A chat between a curious human and the\
          \ Internet assistant. The assistant gives helpful, detailed, and polite\
          \ answers to the human's questions.\n\n### Human: What is the name of the\
          \ song that was released as a"
        updatedAt: '2023-05-04T15:57:54.496Z'
      numEdits: 1
      reactions: []
    id: 64539fc2fc2b5f69e8faf084
    type: comment
  author: AbdouS
  content: "Hello Sir,\n\nI tried passing this prompt using this code :\n\n\n``` python\n\
    from transformers import AutoModelForCausalLM, LlamaTokenizer\nfrom accelerate\
    \ import load_checkpoint_and_dispatch\n\nmodel_id = \"TheBloke/stable-vicuna-13B-HF\"\
    \nTokenizer = LlamaTokenizer.from_pretrained(model_id)\nmodel = AutoModelForCausalLM.from_pretrained(model_id,\
    \ device_map=\"auto\", load_in_8bit=True)\n\nyour_prompt_here = \"BEST SECTORS:\
    \  Healthcare (0.11%), Communication Svcs. (0.17%), Utilities (0.31%), Industrials\
    \ (0.38%), Real Estate (0.59%) WORST SECTORS:  Energy (1.92%), Financials (1.19%),\
    \ Materials (1.11%), Tech (0.83%), Consumer Spls. (0.79%), Consumer Disc. (0.71%)\
    \ +11.6% GNRC (Generac):  Q1 EBITDA ahead and company maintained FY guidance;\
    \ takeaways noted help from better C&I demand and margins; also some discussion\
    \ about favorable HSB lead indicators and elevated Q1 outage activity and field\
    \ inventory progress; expects Residential rebound in 2H. +7.0% LTHM (Livent Corp.):\
    \  Big Q1 EBITDA beat on strong pricing, while volumes saw a small decline; raised\
    \ FY guidance; takeaways noted record levels of revenue and profitability, expectations\
    \ for further price increased and a recovery in volume as year progresses, favorable\
    \ contracts with 70% of prices fixed for 2023, strong lithium demand. +6.7% LLY\
    \ (Eli Lilly):  Announced its phase 3 study of donenemab for Alzheimer's met primary\
    \ and all secondary endpoints measuring cognitive/functional decline; said patients\
    \ displayed ~35% slowing of decline while 47% of participants showed no decline;\
    \ some concerns on safety profile vs BIIB's lecanemab. +4.7% CLX (Clorox):  Fiscal\
    \ Q3 results strong and company raised FY EPS guidance by 6% at midpoint; takeaways\
    \ focused on pricing power(price/mix +19%), margin expansion, more elastic than\
    \ expected volumes (though still declined), improved execution; more cautious\
    \ commentary revolved around valuation. +2.0% EMR (Emerson Electric):  Big fiscal\
    \ Q2 EBITDA and EPS beat with revenues also ahead; organic growth accelerated\
    \ to 14% from 6% in prior Q; order growth improved to 7% y/y from 5%; highlighted\
    \ strong end market demand and excellent operational execution; raised FY guidance;\
    \ noted no slowdown in orders despite improving lead times. -17.3% EL (Est\xE9\
    e Lauder):  Fiscal Q3 EPS missed and company slashed FY guidance by more than\
    \ 30% (third straight Q of lower FY23 guide); noted Asia travel retail business\
    \ continued to be pressured by slower than anticipated recovery from Covid; flagged\
    \ slower prestige beauty growth in China; inventory rebalancing in Hainan another\
    \ issue. -12.3% SPR (Spirit AeroSystems Holdings):  Q1 loss larger than expected;\
    \ takeaways focused on charges for the 737, 787, A350 and A220, driving another\
    \ loss in the Commercial segment; company said it has identified the quality issue\
    \ surrounding the 737 and has begun implementing repairs; expects work to be completed\
    \ by end of July. -9.3% AMD (Advanced Micro Devices):  Q1 results better but company\
    \ guided Q2 below; takeaways focused on weak PC and data center; company flagged\
    \ continued inventory destocking for some bigger cloud customers and soft enterprise\
    \ demand in the cloud; also some discussion about rising competition; however,\
    \ expects strong data center ramp in 2H and reaffirmed PCs bottomed in Q1 and\
    \ should start to improve; downgraded at BofA. -9.2% SBUX (Starbucks):  Fiscal\
    \ Q2 results better with takeaways focused on China comp rebound and 12% increase\
    \ in US comps; however, some disappointment company only reiterated FY guidance;\
    \ takeaways noted caution surrounding more difficult macro backdrop, though company\
    \ said no impact yet; also flagged recent normalization in US comp trends and\
    \ more difficult near-term comparisons; however, lot of talk about how guidance\
    \ looks conservative. -3.9% YUM (YUM! Brands):  Q1 earnings missed though revenue\
    \ better; comp growth better across all brands; highlighted strong digital-sales\
    \ trends; analysts noted some concerns about weaker margins (particularly at KFC).\"\
    \n\n# Test input text\ninput_text = [f\"### Human: Resume this text: \\n\\n{your_prompt_here}\\\
    n\\n  ### Assistant:\"]\n\n# Tokenize the input text\ninput_ids = Tokenizer.encode(input_text,\
    \ return_tensors=\"pt\")\n\n# Generate output text\nprint(\"Before generating\
    \ text\")\noutput_ids = model.generate(input_ids, max_length=50)\nprint(\"After\
    \ generating text\")\n\n# Decode the output tokens\noutput_text = Tokenizer.decode(output_ids[0],\
    \ skip_special_tokens=True)\nprint(\"Generated text:\", output_text)\n# Check\
    \ if GPU is available and set the device accordingly\ndevice = torch.device(\"\
    cuda\" if torch.cuda.is_available() else \"cpu\")\n```\n\nThis is the result of\
    \ the prompt :\nGenerated text: A chat between a curious human and the Internet\
    \ assistant. The assistant gives helpful, detailed, and polite answers to the\
    \ human's questions.\n\n### Human: What is the name of the song that was released\
    \ as a"
  created_at: 2023-05-04 11:06:26+00:00
  edited: true
  hidden: false
  id: 64539fc2fc2b5f69e8faf084
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: TheBloke/stable-vicuna-13B-HF
repo_type: model
status: open
target_branch: null
title: Gibberish response with seemingly the right prompt
