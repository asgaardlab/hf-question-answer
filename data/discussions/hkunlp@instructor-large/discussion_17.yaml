!!python/object:huggingface_hub.community.DiscussionWithDetails
author: hiranya911
conflicting_files: null
created_at: 2023-08-15 05:42:33+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/43879c82b86659e5298bec3837d9d038.svg
      fullname: Hiranya Jayathilaka
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: hiranya911
      type: user
    createdAt: '2023-08-15T06:42:33.000Z'
    data:
      edited: false
      editors:
      - hiranya911
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6403089761734009
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/43879c82b86659e5298bec3837d9d038.svg
          fullname: Hiranya Jayathilaka
          isHf: false
          isPro: false
          name: hiranya911
          type: user
        html: '<p>Are Instructor embeddings normalized by default? I see a <code>normalize_embeddings</code>
          boolean parameter in the encode API. But with or without this parameter,
          encode seems to produce the same result, and it does indeed looks normalized.</p>

          <pre><code>from InstructorEmbedding import INSTRUCTOR


          model = INSTRUCTOR(''hkunlp/instructor-large'')

          a = model.encode([[''Embed for retrieval:'', ''Hello world'']])

          b = model.encode([[''Embed for retrieval:'', ''Hello world'']], normalize_embeddings=True)

          print(sum(item * item for item in a[0])) # Prints 1.0000

          print(sum(item * item for item in b[0])) # Also prints 1.0000

          </code></pre>

          '
        raw: "Are Instructor embeddings normalized by default? I see a `normalize_embeddings`\
          \ boolean parameter in the encode API. But with or without this parameter,\
          \ encode seems to produce the same result, and it does indeed looks normalized.\r\
          \n\r\n```\r\nfrom InstructorEmbedding import INSTRUCTOR\r\n\r\nmodel = INSTRUCTOR('hkunlp/instructor-large')\r\
          \na = model.encode([['Embed for retrieval:', 'Hello world']])\r\nb = model.encode([['Embed\
          \ for retrieval:', 'Hello world']], normalize_embeddings=True)\r\nprint(sum(item\
          \ * item for item in a[0])) # Prints 1.0000\r\nprint(sum(item * item for\
          \ item in b[0])) # Also prints 1.0000\r\n```"
        updatedAt: '2023-08-15T06:42:33.834Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - lefman
    id: 64db1e5978864cd2223496f5
    type: comment
  author: hiranya911
  content: "Are Instructor embeddings normalized by default? I see a `normalize_embeddings`\
    \ boolean parameter in the encode API. But with or without this parameter, encode\
    \ seems to produce the same result, and it does indeed looks normalized.\r\n\r\
    \n```\r\nfrom InstructorEmbedding import INSTRUCTOR\r\n\r\nmodel = INSTRUCTOR('hkunlp/instructor-large')\r\
    \na = model.encode([['Embed for retrieval:', 'Hello world']])\r\nb = model.encode([['Embed\
    \ for retrieval:', 'Hello world']], normalize_embeddings=True)\r\nprint(sum(item\
    \ * item for item in a[0])) # Prints 1.0000\r\nprint(sum(item * item for item\
    \ in b[0])) # Also prints 1.0000\r\n```"
  created_at: 2023-08-15 05:42:33+00:00
  edited: false
  hidden: false
  id: 64db1e5978864cd2223496f5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c63e99fa2f5d3fee4248ca4f4869a6e3.svg
      fullname: Myles Pember
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: myles-ds123
      type: user
    createdAt: '2023-12-20T23:52:12.000Z'
    data:
      edited: false
      editors:
      - myles-ds123
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9621285796165466
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c63e99fa2f5d3fee4248ca4f4869a6e3.svg
          fullname: Myles Pember
          isHf: false
          isPro: false
          name: myles-ds123
          type: user
        html: '<p>nice.</p>

          '
        raw: nice.
        updatedAt: '2023-12-20T23:52:12.792Z'
      numEdits: 0
      reactions: []
    id: 65837e2c2ae92808738f53ee
    type: comment
  author: myles-ds123
  content: nice.
  created_at: 2023-12-20 23:52:12+00:00
  edited: false
  hidden: false
  id: 65837e2c2ae92808738f53ee
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 17
repo_id: hkunlp/instructor-large
repo_type: model
status: open
target_branch: null
title: Normalizing embedding vectors
