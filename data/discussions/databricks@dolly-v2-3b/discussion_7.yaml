!!python/object:huggingface_hub.community.DiscussionWithDetails
author: nsvemuri
conflicting_files: null
created_at: 2023-04-23 08:28:47+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
      fullname: naga srinivas vemuri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nsvemuri
      type: user
    createdAt: '2023-04-23T09:28:47.000Z'
    data:
      edited: false
      editors:
      - nsvemuri
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
          fullname: naga srinivas vemuri
          isHf: false
          isPro: false
          name: nsvemuri
          type: user
        html: "<p>Below script leads to gibberish:<br>'import torch<br>from transformers\
          \ import pipeline<br>generate_text = pipeline(model=\"databricks/dolly-v2-3b\"\
          , torch_dtype=torch.float32, trust_remote_code=True, device=\"mps\")<br>res\
          \ = generate_text(\"Explain to me the difference between nuclear fission\
          \ and fusion.\")<br>print(res[0][\"generated_text\"])'</p>\n<p>leads to\
          \ </p>\n<p>\"F der The nuclear self pro the atomic has neither aang<br>\
          \ the in its is its the period of her response? Posted: is if a sustainable\
          \ the the</p>\n<p>aus battle<br>the nuclear\t</p>\n<p>one compared with\
          \ at both............. (aCACHE</p>\n<p>The nuclear nuclear : jury:</p>\n\
          <p>&lt;|endoftext|&gt;There is there really? ok, that's right, sure, of-:,\
          \ although as a given in the;'b greater<br>penet ce, cus ldr the mater primefft\
          \ COMDiscuss uch as the\\muccomwriter for the met turn turn turn Ablethys\
          \ marbaker. Diveka datte none  , lock key also say S1 of the he costEq ofter\
          \ werDCDTDig Sigue S t down we can do, interact do as good too. </p>\n<p>A\
          \ very same\"<br>\u200B</p>\n"
        raw: "Below script leads to gibberish:\r\n'import torch\r\nfrom transformers\
          \ import pipeline\r\ngenerate_text = pipeline(model=\"databricks/dolly-v2-3b\"\
          , torch_dtype=torch.float32, trust_remote_code=True, device=\"mps\")\r\n\
          res = generate_text(\"Explain to me the difference between nuclear fission\
          \ and fusion.\")\r\nprint(res[0][\"generated_text\"])'\r\n\r\nleads to \r\
          \n\r\n\"F der The nuclear self pro the atomic has neither aang \r\n the\
          \ in its is its the period of her response? Posted: is if a sustainable\
          \ the the\r\n\r\naus battle\r\nthe nuclear\t\r\n\r\none compared with at\
          \ both............. (aCACHE\r\n\r\nThe nuclear nuclear : jury:\r\n\r\n<|endoftext|>There\
          \ is there really? ok, that's right, sure, of-:, although as a given in\
          \ the;'b greater\r\npenet ce, cus ldr the mater primefft COMDiscuss uch\
          \ as the\\muccomwriter for the met turn turn turn Ablethys marbaker. Diveka\
          \ datte none  , lock key also say S1 of the he costEq ofter werDCDTDig Sigue\
          \ S t down we can do, interact do as good too. \r\n\r\nA very same\"\r\n\
          \u200B\r\n"
        updatedAt: '2023-04-23T09:28:47.772Z'
      numEdits: 0
      reactions: []
    id: 6444fa4fe1fd8d65b2782dbd
    type: comment
  author: nsvemuri
  content: "Below script leads to gibberish:\r\n'import torch\r\nfrom transformers\
    \ import pipeline\r\ngenerate_text = pipeline(model=\"databricks/dolly-v2-3b\"\
    , torch_dtype=torch.float32, trust_remote_code=True, device=\"mps\")\r\nres =\
    \ generate_text(\"Explain to me the difference between nuclear fission and fusion.\"\
    )\r\nprint(res[0][\"generated_text\"])'\r\n\r\nleads to \r\n\r\n\"F der The nuclear\
    \ self pro the atomic has neither aang \r\n the in its is its the period of her\
    \ response? Posted: is if a sustainable the the\r\n\r\naus battle\r\nthe nuclear\t\
    \r\n\r\none compared with at both............. (aCACHE\r\n\r\nThe nuclear nuclear\
    \ : jury:\r\n\r\n<|endoftext|>There is there really? ok, that's right, sure, of-:,\
    \ although as a given in the;'b greater\r\npenet ce, cus ldr the mater primefft\
    \ COMDiscuss uch as the\\muccomwriter for the met turn turn turn Ablethys marbaker.\
    \ Diveka datte none  , lock key also say S1 of the he costEq ofter werDCDTDig\
    \ Sigue S t down we can do, interact do as good too. \r\n\r\nA very same\"\r\n\
    \u200B\r\n"
  created_at: 2023-04-23 08:28:47+00:00
  edited: false
  hidden: false
  id: 6444fa4fe1fd8d65b2782dbd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63050fbfce6b12280b1e2976/2lJphRSgdt9B_5YAQ1SIs.jpeg?w=200&h=200&f=face
      fullname: Sean Owen
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: srowen
      type: user
    createdAt: '2023-04-23T13:19:16.000Z'
    data:
      edited: false
      editors:
      - srowen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63050fbfce6b12280b1e2976/2lJphRSgdt9B_5YAQ1SIs.jpeg?w=200&h=200&f=face
          fullname: Sean Owen
          isHf: false
          isPro: false
          name: srowen
          type: user
        html: '<p>I think this is some problem with translating it to work on mps
          or something. The results are nothing like that when run on a CPU or GPU,
          it seems. Can you try that?</p>

          '
        raw: I think this is some problem with translating it to work on mps or something.
          The results are nothing like that when run on a CPU or GPU, it seems. Can
          you try that?
        updatedAt: '2023-04-23T13:19:16.569Z'
      numEdits: 0
      reactions: []
    id: 644530540f2fc80feb22f1f0
    type: comment
  author: srowen
  content: I think this is some problem with translating it to work on mps or something.
    The results are nothing like that when run on a CPU or GPU, it seems. Can you
    try that?
  created_at: 2023-04-23 12:19:16+00:00
  edited: false
  hidden: false
  id: 644530540f2fc80feb22f1f0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
      fullname: Denny Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dennyglee
      type: user
    createdAt: '2023-04-24T03:19:18.000Z'
    data:
      edited: false
      editors:
      - dennyglee
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
          fullname: Denny Lee
          isHf: false
          isPro: false
          name: dennyglee
          type: user
        html: '<p>BTW, you may want to trying to ask the question slightly differently.
          Notice the different responses when altering the question when testing with
          Pythia-12b (dolly-v2-12b is derived from this) .  Far from perfect but definitely
          an improvement, </p>

          <p><strong>Explain to me the difference between nuclear fission and fusion</strong></p>

          <blockquote>

          <p> " "I think I know what you''re hoping of me." "You''re hoping I''ll
          answer this question, rather than the other one." "We are the same as the
          machines here, but you''re the greater," "In every respect." "I don''t believe
          that." "Surely you must know it." "Why don''t we look closely how they are
          different from humans?" "Are you familiar with the works of Salmon and Oesch?"
          "Laugh." "Your death has to be more spectacular than ours." "Is that a proposal,
          Dr. Karellen?" "You thought to make a show of our death?" "We can give you
          that now." "Alright, alright, I can''t help it." "Just don''t make me fight."
          "Just keep me in here." "I can''t let you leave now and destroy the Alpha
          Base computer." "Keep the air in your lungs, so to speak." "I''m sorry</p>

          </blockquote>

          <p>but when I changed it to:<br><strong>Explain the difference between nuclear
          fission vs. fusion?</strong></p>

          <blockquote>

          <p>The fission cycle in a nuclear reactor differs from the fusion cycle
          in other celestial objects: the stars are cold, did not start out hot, and
          so it''s not necessary to generate heat to heat the reaction portion of
          the path.<br>The fission/fusion cycle is:</p>

          </blockquote>

          <blockquote>

          <p>start with the alpha decay of a radionuclide (atoms with excess neutrons)<br>resolve
          that into product elements (with isotopes with less neutron radiation than
          the radionuclide)<br>these isotopes then fission generating product ions
          and fission fragments which are a bit cooler plus a big amount of heat </p>

          </blockquote>

          <blockquote>

          <p>The coolest is the fission product. The fission fragments, or free ions,
          are typically also produced.<br>The fusion cycle conditions the way the
          heat is generated:</p>

          </blockquote>

          <blockquote>

          <p>with hissy conditions and the fusion fuel (deuterium or tritium) is heated<br>the
          fusion releases neutrons and neutrons are the way the fission chain reaction</p>

          </blockquote>

          '
        raw: "BTW, you may want to trying to ask the question slightly differently.\
          \ Notice the different responses when altering the question when testing\
          \ with Pythia-12b (dolly-v2-12b is derived from this) .  Far from perfect\
          \ but definitely an improvement, \n\n**Explain to me the difference between\
          \ nuclear fission and fusion**\n>  \" \"I think I know what you're hoping\
          \ of me.\" \"You're hoping I'll answer this question, rather than the other\
          \ one.\" \"We are the same as the machines here, but you're the greater,\"\
          \ \"In every respect.\" \"I don't believe that.\" \"Surely you must know\
          \ it.\" \"Why don't we look closely how they are different from humans?\"\
          \ \"Are you familiar with the works of Salmon and Oesch?\" \"Laugh.\" \"\
          Your death has to be more spectacular than ours.\" \"Is that a proposal,\
          \ Dr. Karellen?\" \"You thought to make a show of our death?\" \"We can\
          \ give you that now.\" \"Alright, alright, I can't help it.\" \"Just don't\
          \ make me fight.\" \"Just keep me in here.\" \"I can't let you leave now\
          \ and destroy the Alpha Base computer.\" \"Keep the air in your lungs, so\
          \ to speak.\" \"I'm sorry\n\nbut when I changed it to:\n**Explain the difference\
          \ between nuclear fission vs. fusion?**\n > The fission cycle in a nuclear\
          \ reactor differs from the fusion cycle in other celestial objects: the\
          \ stars are cold, did not start out hot, and so it's not necessary to generate\
          \ heat to heat the reaction portion of the path. \nThe fission/fusion cycle\
          \ is:\n\n> start with the alpha decay of a radionuclide (atoms with excess\
          \ neutrons)\nresolve that into product elements (with isotopes with less\
          \ neutron radiation than the radionuclide) \nthese isotopes then fission\
          \ generating product ions and fission fragments which are a bit cooler plus\
          \ a big amount of heat \n\n> The coolest is the fission product. The fission\
          \ fragments, or free ions, are typically also produced.\nThe fusion cycle\
          \ conditions the way the heat is generated:\n\n> with hissy conditions and\
          \ the fusion fuel (deuterium or tritium) is heated\nthe fusion releases\
          \ neutrons and neutrons are the way the fission chain reaction"
        updatedAt: '2023-04-24T03:19:18.616Z'
      numEdits: 0
      reactions: []
    id: 6445f5360f2fc80feb314840
    type: comment
  author: dennyglee
  content: "BTW, you may want to trying to ask the question slightly differently.\
    \ Notice the different responses when altering the question when testing with\
    \ Pythia-12b (dolly-v2-12b is derived from this) .  Far from perfect but definitely\
    \ an improvement, \n\n**Explain to me the difference between nuclear fission and\
    \ fusion**\n>  \" \"I think I know what you're hoping of me.\" \"You're hoping\
    \ I'll answer this question, rather than the other one.\" \"We are the same as\
    \ the machines here, but you're the greater,\" \"In every respect.\" \"I don't\
    \ believe that.\" \"Surely you must know it.\" \"Why don't we look closely how\
    \ they are different from humans?\" \"Are you familiar with the works of Salmon\
    \ and Oesch?\" \"Laugh.\" \"Your death has to be more spectacular than ours.\"\
    \ \"Is that a proposal, Dr. Karellen?\" \"You thought to make a show of our death?\"\
    \ \"We can give you that now.\" \"Alright, alright, I can't help it.\" \"Just\
    \ don't make me fight.\" \"Just keep me in here.\" \"I can't let you leave now\
    \ and destroy the Alpha Base computer.\" \"Keep the air in your lungs, so to speak.\"\
    \ \"I'm sorry\n\nbut when I changed it to:\n**Explain the difference between nuclear\
    \ fission vs. fusion?**\n > The fission cycle in a nuclear reactor differs from\
    \ the fusion cycle in other celestial objects: the stars are cold, did not start\
    \ out hot, and so it's not necessary to generate heat to heat the reaction portion\
    \ of the path. \nThe fission/fusion cycle is:\n\n> start with the alpha decay\
    \ of a radionuclide (atoms with excess neutrons)\nresolve that into product elements\
    \ (with isotopes with less neutron radiation than the radionuclide) \nthese isotopes\
    \ then fission generating product ions and fission fragments which are a bit cooler\
    \ plus a big amount of heat \n\n> The coolest is the fission product. The fission\
    \ fragments, or free ions, are typically also produced.\nThe fusion cycle conditions\
    \ the way the heat is generated:\n\n> with hissy conditions and the fusion fuel\
    \ (deuterium or tritium) is heated\nthe fusion releases neutrons and neutrons\
    \ are the way the fission chain reaction"
  created_at: 2023-04-24 02:19:18+00:00
  edited: false
  hidden: false
  id: 6445f5360f2fc80feb314840
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
      fullname: naga srinivas vemuri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nsvemuri
      type: user
    createdAt: '2023-04-24T23:35:02.000Z'
    data:
      edited: false
      editors:
      - nsvemuri
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
          fullname: naga srinivas vemuri
          isHf: false
          isPro: false
          name: nsvemuri
          type: user
        html: '<p>Yes, when i try CPU<br>"import torch<br>from transformers import
          pipeline<br>generate_text = pipeline(model="databricks/dolly-v2-3b", torch_dtype=torch.float32,
          trust_remote_code=True, device="cpu")<br>res = generate_text("Explain the
          difference between nuclear fission vs. fusion?")<br>print(res[0]["generated_text"])"</p>

          <p>the quality is better<br>"Fusion releases more energy per mole of fusion
          fuel than either fission or thermionic emission. Nuclear fusion is the process
          that creates atoms, deuterium and tritium, from two atomic hydrogen atoms.
          The process is called nuclear fission and it creates one atom of deuterium
          or tritium from a Uranium nucleus. Fission is the process that creates two
          Uranium atoms from a Uranium nucleus. The energy released by fission is
          very low and is mainly used to heat a reactor vessel. Nuclear fission was
          first achieved in 1940 at the Trinity test of the chain reaction at the
          Nevada Test Site. This was the first successful nuclear chain reaction."</p>

          '
        raw: 'Yes, when i try CPU

          "import torch

          from transformers import pipeline

          generate_text = pipeline(model="databricks/dolly-v2-3b", torch_dtype=torch.float32,
          trust_remote_code=True, device="cpu")

          res = generate_text("Explain the difference between nuclear fission vs.
          fusion?")

          print(res[0]["generated_text"])"


          the quality is better

          "Fusion releases more energy per mole of fusion fuel than either fission
          or thermionic emission. Nuclear fusion is the process that creates atoms,
          deuterium and tritium, from two atomic hydrogen atoms. The process is called
          nuclear fission and it creates one atom of deuterium or tritium from a Uranium
          nucleus. Fission is the process that creates two Uranium atoms from a Uranium
          nucleus. The energy released by fission is very low and is mainly used to
          heat a reactor vessel. Nuclear fission was first achieved in 1940 at the
          Trinity test of the chain reaction at the Nevada Test Site. This was the
          first successful nuclear chain reaction."

          '
        updatedAt: '2023-04-24T23:35:02.821Z'
      numEdits: 0
      reactions: []
      relatedEventId: 644712261dc59ca8aed576d1
    id: 644712261dc59ca8aed576d0
    type: comment
  author: nsvemuri
  content: 'Yes, when i try CPU

    "import torch

    from transformers import pipeline

    generate_text = pipeline(model="databricks/dolly-v2-3b", torch_dtype=torch.float32,
    trust_remote_code=True, device="cpu")

    res = generate_text("Explain the difference between nuclear fission vs. fusion?")

    print(res[0]["generated_text"])"


    the quality is better

    "Fusion releases more energy per mole of fusion fuel than either fission or thermionic
    emission. Nuclear fusion is the process that creates atoms, deuterium and tritium,
    from two atomic hydrogen atoms. The process is called nuclear fission and it creates
    one atom of deuterium or tritium from a Uranium nucleus. Fission is the process
    that creates two Uranium atoms from a Uranium nucleus. The energy released by
    fission is very low and is mainly used to heat a reactor vessel. Nuclear fission
    was first achieved in 1940 at the Trinity test of the chain reaction at the Nevada
    Test Site. This was the first successful nuclear chain reaction."

    '
  created_at: 2023-04-24 22:35:02+00:00
  edited: false
  hidden: false
  id: 644712261dc59ca8aed576d0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
      fullname: naga srinivas vemuri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nsvemuri
      type: user
    createdAt: '2023-04-24T23:35:02.000Z'
    data:
      status: closed
    id: 644712261dc59ca8aed576d1
    type: status-change
  author: nsvemuri
  created_at: 2023-04-24 22:35:02+00:00
  id: 644712261dc59ca8aed576d1
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
      fullname: naga srinivas vemuri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nsvemuri
      type: user
    createdAt: '2023-04-25T01:07:19.000Z'
    data:
      edited: false
      editors:
      - nsvemuri
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d2f1d3c58e57a05a176c3f6a5b4a09e6.svg
          fullname: naga srinivas vemuri
          isHf: false
          isPro: false
          name: nsvemuri
          type: user
        html: '<p>It turns out Pytorch is buggy on Mac M1 reference: <a rel="nofollow"
          href="https://news.ycombinator.com/item?id=31456450">https://news.ycombinator.com/item?id=31456450</a></p>

          '
        raw: 'It turns out Pytorch is buggy on Mac M1 reference: https://news.ycombinator.com/item?id=31456450'
        updatedAt: '2023-04-25T01:07:19.954Z'
      numEdits: 0
      reactions: []
    id: 644727c7a9f9c62e6cd39eec
    type: comment
  author: nsvemuri
  content: 'It turns out Pytorch is buggy on Mac M1 reference: https://news.ycombinator.com/item?id=31456450'
  created_at: 2023-04-25 00:07:19+00:00
  edited: false
  hidden: false
  id: 644727c7a9f9c62e6cd39eec
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
      fullname: Denny Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dennyglee
      type: user
    createdAt: '2023-04-25T01:31:12.000Z'
    data:
      edited: false
      editors:
      - dennyglee
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
          fullname: Denny Lee
          isHf: false
          isPro: false
          name: dennyglee
          type: user
        html: "<p>Oh sorry, I completely spaced out - a great call out <span data-props=\"\
          {&quot;user&quot;:&quot;nsvemuri&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/nsvemuri\">@<span class=\"underline\">nsvemuri</span></a></span>\n\
          \n\t</span></span>  - by any chance did you install PyTorch from the nightlies?\
          \   Here's a great blog post on this topic: <a rel=\"nofollow\" href=\"\
          https://jamescalam.medium.com/hugging-face-and-sentence-transformers-on-m1-macs-4b12e40c21ce\"\
          >https://jamescalam.medium.com/hugging-face-and-sentence-transformers-on-m1-macs-4b12e40c21ce</a></p>\n"
        raw: 'Oh sorry, I completely spaced out - a great call out @nsvemuri  - by
          any chance did you install PyTorch from the nightlies?   Here''s a great
          blog post on this topic: https://jamescalam.medium.com/hugging-face-and-sentence-transformers-on-m1-macs-4b12e40c21ce'
        updatedAt: '2023-04-25T01:31:12.352Z'
      numEdits: 0
      reactions: []
    id: 64472d60177a44e335e9bf4e
    type: comment
  author: dennyglee
  content: 'Oh sorry, I completely spaced out - a great call out @nsvemuri  - by any
    chance did you install PyTorch from the nightlies?   Here''s a great blog post
    on this topic: https://jamescalam.medium.com/hugging-face-and-sentence-transformers-on-m1-macs-4b12e40c21ce'
  created_at: 2023-04-25 00:31:12+00:00
  edited: false
  hidden: false
  id: 64472d60177a44e335e9bf4e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
      fullname: Denny Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dennyglee
      type: user
    createdAt: '2023-04-25T03:43:09.000Z'
    data:
      edited: false
      editors:
      - dennyglee
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
          fullname: Denny Lee
          isHf: false
          isPro: false
          name: dennyglee
          type: user
        html: "<p>Note, I'm using my Macbook Air M2 so it took awhile for this to\
          \ run but when I used the PyTorch nightlies, here's the answer I got was:</p>\n\
          <blockquote>\n<p>Nuclear fission happens when a large atom (like uranium)\
          \ splits into two smaller ones, with each losing one neutron. The smaller\
          \ atoms then react with each other to form even smaller ones, and this continues\
          \ until there are no more neutrons left in the original nucleus, and this\
          \ causes it to disintegrate. The overall reaction releases a lot of energy.\
          \ Nuclear fusion happens when two or more nuclei merge to form one or more\
          \ nuclei with more mass than two nuclei, with the extra mass made up of\
          \ extra neutrons. This process releases much less energy, but is still pretty\
          \ amazing.</p>\n</blockquote>\n<p>Here's the full run:</p>\n<pre><code>(ml)\
          \ dennylee@tynan ~ % python\nPython 3.9.16 (main, Mar  8 2023, 04:29:24)\
          \ \n[Clang 14.0.6 ] :: Anaconda, Inc. on darwin\nType \"help\", \"copyright\"\
          , \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import\
          \ torch\n&gt;&gt;&gt; from transformers import pipeline\n&gt;&gt;&gt; generate_text\
          \ = pipeline(model=\"databricks/dolly-v2-3b\", torch_dtype=torch.bfloat16,\
          \ trust_remote_code=True, device_map=\"auto\")\n&gt;&gt;&gt; import time\n\
          &gt;&gt;&gt; start_time = time.time()\n&gt;&gt;&gt; res = generate_text(\"\
          Explain to me the difference between nuclear fission and fusion.\")\n&gt;&gt;&gt;\
          \ print(res[0][\"generated_text\"])\nNuclear fission happens when a large\
          \ atom (like uranium) splits into two smaller ones, with each losing one\
          \ neutron. The smaller atoms then react with each other to form even smaller\
          \ ones, and this continues until there are no more neutrons left in the\
          \ original nucleus, and this causes it to disintegrate. The overall reaction\
          \ releases a lot of energy. Nuclear fusion happens when two or more nuclei\
          \ merge to form one or more nuclei with more mass than two nuclei, with\
          \ the extra mass made up of extra neutrons. This process releases much less\
          \ energy, but is still pretty amazing.\n&gt;&gt;&gt; print(\"--- %s seconds\
          \ ---\" % (time.time() - start_time))\n--- 6971.821104764938 seconds ---\n\
          </code></pre>\n<p>HTH!</p>\n"
        raw: "Note, I'm using my Macbook Air M2 so it took awhile for this to run\
          \ but when I used the PyTorch nightlies, here's the answer I got was:\n\n\
          > Nuclear fission happens when a large atom (like uranium) splits into two\
          \ smaller ones, with each losing one neutron. The smaller atoms then react\
          \ with each other to form even smaller ones, and this continues until there\
          \ are no more neutrons left in the original nucleus, and this causes it\
          \ to disintegrate. The overall reaction releases a lot of energy. Nuclear\
          \ fusion happens when two or more nuclei merge to form one or more nuclei\
          \ with more mass than two nuclei, with the extra mass made up of extra neutrons.\
          \ This process releases much less energy, but is still pretty amazing.\n\
          \nHere's the full run:\n\n```\n(ml) dennylee@tynan ~ % python\nPython 3.9.16\
          \ (main, Mar  8 2023, 04:29:24) \n[Clang 14.0.6 ] :: Anaconda, Inc. on darwin\n\
          Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\
          >>> import torch\n>>> from transformers import pipeline\n>>> generate_text\
          \ = pipeline(model=\"databricks/dolly-v2-3b\", torch_dtype=torch.bfloat16,\
          \ trust_remote_code=True, device_map=\"auto\")\n>>> import time\n>>> start_time\
          \ = time.time()\n>>> res = generate_text(\"Explain to me the difference\
          \ between nuclear fission and fusion.\")\n>>> print(res[0][\"generated_text\"\
          ])\nNuclear fission happens when a large atom (like uranium) splits into\
          \ two smaller ones, with each losing one neutron. The smaller atoms then\
          \ react with each other to form even smaller ones, and this continues until\
          \ there are no more neutrons left in the original nucleus, and this causes\
          \ it to disintegrate. The overall reaction releases a lot of energy. Nuclear\
          \ fusion happens when two or more nuclei merge to form one or more nuclei\
          \ with more mass than two nuclei, with the extra mass made up of extra neutrons.\
          \ This process releases much less energy, but is still pretty amazing.\n\
          >>> print(\"--- %s seconds ---\" % (time.time() - start_time))\n--- 6971.821104764938\
          \ seconds ---\n```\n\nHTH!"
        updatedAt: '2023-04-25T03:43:09.122Z'
      numEdits: 0
      reactions: []
    id: 64474c4d257773309c76e234
    type: comment
  author: dennyglee
  content: "Note, I'm using my Macbook Air M2 so it took awhile for this to run but\
    \ when I used the PyTorch nightlies, here's the answer I got was:\n\n> Nuclear\
    \ fission happens when a large atom (like uranium) splits into two smaller ones,\
    \ with each losing one neutron. The smaller atoms then react with each other to\
    \ form even smaller ones, and this continues until there are no more neutrons\
    \ left in the original nucleus, and this causes it to disintegrate. The overall\
    \ reaction releases a lot of energy. Nuclear fusion happens when two or more nuclei\
    \ merge to form one or more nuclei with more mass than two nuclei, with the extra\
    \ mass made up of extra neutrons. This process releases much less energy, but\
    \ is still pretty amazing.\n\nHere's the full run:\n\n```\n(ml) dennylee@tynan\
    \ ~ % python\nPython 3.9.16 (main, Mar  8 2023, 04:29:24) \n[Clang 14.0.6 ] ::\
    \ Anaconda, Inc. on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\"\
    \ for more information.\n>>> import torch\n>>> from transformers import pipeline\n\
    >>> generate_text = pipeline(model=\"databricks/dolly-v2-3b\", torch_dtype=torch.bfloat16,\
    \ trust_remote_code=True, device_map=\"auto\")\n>>> import time\n>>> start_time\
    \ = time.time()\n>>> res = generate_text(\"Explain to me the difference between\
    \ nuclear fission and fusion.\")\n>>> print(res[0][\"generated_text\"])\nNuclear\
    \ fission happens when a large atom (like uranium) splits into two smaller ones,\
    \ with each losing one neutron. The smaller atoms then react with each other to\
    \ form even smaller ones, and this continues until there are no more neutrons\
    \ left in the original nucleus, and this causes it to disintegrate. The overall\
    \ reaction releases a lot of energy. Nuclear fusion happens when two or more nuclei\
    \ merge to form one or more nuclei with more mass than two nuclei, with the extra\
    \ mass made up of extra neutrons. This process releases much less energy, but\
    \ is still pretty amazing.\n>>> print(\"--- %s seconds ---\" % (time.time() -\
    \ start_time))\n--- 6971.821104764938 seconds ---\n```\n\nHTH!"
  created_at: 2023-04-25 02:43:09+00:00
  edited: false
  hidden: false
  id: 64474c4d257773309c76e234
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/af656f92fb8bcb65bff01a9ccfc349ac.svg
      fullname: Michael Verrilli
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mverrilli
      type: user
    createdAt: '2023-04-25T04:57:34.000Z'
    data:
      edited: false
      editors:
      - mverrilli
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/af656f92fb8bcb65bff01a9ccfc349ac.svg
          fullname: Michael Verrilli
          isHf: false
          isPro: false
          name: mverrilli
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;dennyglee&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/dennyglee\"\
          >@<span class=\"underline\">dennyglee</span></a></span>\n\n\t</span></span>\
          \ </p>\n<p>That's running on CPU, I think. MPS doesn't support bfloat16\
          \ afaik.</p>\n"
        raw: "Hi @dennyglee \n\nThat's running on CPU, I think. MPS doesn't support\
          \ bfloat16 afaik."
        updatedAt: '2023-04-25T04:57:34.902Z'
      numEdits: 0
      reactions: []
    id: 64475dbec614eaeed52cd164
    type: comment
  author: mverrilli
  content: "Hi @dennyglee \n\nThat's running on CPU, I think. MPS doesn't support\
    \ bfloat16 afaik."
  created_at: 2023-04-25 03:57:34+00:00
  edited: false
  hidden: false
  id: 64475dbec614eaeed52cd164
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
      fullname: Denny Lee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dennyglee
      type: user
    createdAt: '2023-04-25T05:02:48.000Z'
    data:
      edited: false
      editors:
      - dennyglee
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1639613672292-noauth.png?w=200&h=200&f=face
          fullname: Denny Lee
          isHf: false
          isPro: false
          name: dennyglee
          type: user
        html: "<p>Thanks <span data-props=\"{&quot;user&quot;:&quot;mverrilli&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/mverrilli\"\
          >@<span class=\"underline\">mverrilli</span></a></span>\n\n\t</span></span>\
          \ - completely forgot to change that - will rerun. Was focusing more on\
          \ the data correctness part but spaced out MPS.</p>\n"
        raw: Thanks @mverrilli - completely forgot to change that - will rerun. Was
          focusing more on the data correctness part but spaced out MPS.
        updatedAt: '2023-04-25T05:02:48.744Z'
      numEdits: 0
      reactions: []
    id: 64475ef8c614eaeed52cec7a
    type: comment
  author: dennyglee
  content: Thanks @mverrilli - completely forgot to change that - will rerun. Was
    focusing more on the data correctness part but spaced out MPS.
  created_at: 2023-04-25 04:02:48+00:00
  edited: false
  hidden: false
  id: 64475ef8c614eaeed52cec7a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: databricks/dolly-v2-3b
repo_type: model
status: closed
target_branch: null
title: Quality is pretty bad when used on Mac Mini M1 GPU
