!!python/object:huggingface_hub.community.DiscussionWithDetails
author: yusuke1997
conflicting_files: null
created_at: 2023-11-07 06:57:48+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661785772920-noauth.jpeg?w=200&h=200&f=face
      fullname: Yusuke Sakai
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yusuke1997
      type: user
    createdAt: '2023-11-07T06:57:48.000Z'
    data:
      edited: false
      editors:
      - yusuke1997
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6662625670433044
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661785772920-noauth.jpeg?w=200&h=200&f=face
          fullname: Yusuke Sakai
          isHf: false
          isPro: false
          name: yusuke1997
          type: user
        html: "<p>Hi,  I tried to fine-tune using huggingface trainer, but I got following\
          \ error message</p>\n<pre><code>  File \"(My_Cache_File_Path)/modeling_chatglm.py\"\
          , line 691, in get_masks\n    full_attention_mask -= padding_mask.unsqueeze(-1)\
          \ - 1\nRuntimeError: Subtraction, the `-` operator, with a bool tensor is\
          \ not supported. If you are trying to invert a mask, use the `~` or `logical_not()`\
          \ operator instead.\n</code></pre>\n<p>transformers==4.34.0<br>torch==2.1.0</p>\n"
        raw: "Hi,  I tried to fine-tune using huggingface trainer, but I got following\
          \ error message\r\n```\r\n  File \"(My_Cache_File_Path)/modeling_chatglm.py\"\
          , line 691, in get_masks\r\n    full_attention_mask -= padding_mask.unsqueeze(-1)\
          \ - 1\r\nRuntimeError: Subtraction, the `-` operator, with a bool tensor\
          \ is not supported. If you are trying to invert a mask, use the `~` or `logical_not()`\
          \ operator instead.\r\n```\r\ntransformers==4.34.0\r\ntorch==2.1.0"
        updatedAt: '2023-11-07T06:57:48.627Z'
      numEdits: 0
      reactions: []
    id: 6549dfecf72772583aee5f4f
    type: comment
  author: yusuke1997
  content: "Hi,  I tried to fine-tune using huggingface trainer, but I got following\
    \ error message\r\n```\r\n  File \"(My_Cache_File_Path)/modeling_chatglm.py\"\
    , line 691, in get_masks\r\n    full_attention_mask -= padding_mask.unsqueeze(-1)\
    \ - 1\r\nRuntimeError: Subtraction, the `-` operator, with a bool tensor is not\
    \ supported. If you are trying to invert a mask, use the `~` or `logical_not()`\
    \ operator instead.\r\n```\r\ntransformers==4.34.0\r\ntorch==2.1.0"
  created_at: 2023-11-07 06:57:48+00:00
  edited: false
  hidden: false
  id: 6549dfecf72772583aee5f4f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: THUDM/chatglm3-6b-base
repo_type: model
status: open
target_branch: null
title: 'RuntimeError: Subtraction'
