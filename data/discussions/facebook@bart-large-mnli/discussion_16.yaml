!!python/object:huggingface_hub.community.DiscussionWithDetails
author: marcj
conflicting_files: null
created_at: 2023-04-30 13:48:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0cbbf101378e0c99b4d6d2b5ca300e00.svg
      fullname: Marc Schmidt
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: marcj
      type: user
    createdAt: '2023-04-30T14:48:28.000Z'
    data:
      edited: true
      editors:
      - marcj
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0cbbf101378e0c99b4d6d2b5ca300e00.svg
          fullname: Marc Schmidt
          isHf: false
          isPro: false
          name: marcj
          type: user
        html: "<p>Just FYI, the template (hypothesis) used in the manual PyTorch section\
          \ is different to the template used in explanation.</p>\n<p>In the README\
          \ is</p>\n<pre><code>we could construct a hypothesis of \"This text is about\
          \ politics.\".\n</code></pre>\n<p>but in pipeline the following template\
          \ is used</p>\n<pre><code>\"This example is {}.\"\n</code></pre>\n<p>which\
          \ seems to be the correct one since this yields good results.</p>\n<p>So\
          \ make sure to not use <code>This text is about {}.</code> or anything else.\
          \ Using the correct hypothesis format is important to get consistent/good\
          \ predictions. </p>\n<p>Example, if you slightly change (because you think\
          \ you are smarter) the hypothesis text from \"This example is {}.\" to \"\
          This example is about {}.\" then the results totally crash:</p>\n<pre><code>text\
          \ = \"it's quite cheap, but the quality is not compromised \u2013 love the\
          \ colors and the smooth application\"\ntopic = \"price\"\n\n# this is the\
          \ correct one and used per default\nclassifier(text, topic, hypothesis_template=\"\
          This example is {}.\")\n// =&gt;  'scores': [0.9757905602455139]}\n\n# wrong\
          \ from the README\nclassifier(text, topic, hypothesis_template=\"This text\
          \ is about {}.\")\n// =&gt; 'scores': [0.2925598919391632]}\n\n# wrong,\
          \ too\nclassifier(text, topic, hypothesis_template=\"This example is about\
          \ {}.\")\n// =&gt; 'scores': [0.3993900716304779]}\n</code></pre>\n"
        raw: "Just FYI, the template (hypothesis) used in the manual PyTorch section\
          \ is different to the template used in explanation.\n\nIn the README is\n\
          \n```\nwe could construct a hypothesis of \"This text is about politics.\"\
          .\n```\n\nbut in pipeline the following template is used\n\n```\n\"This\
          \ example is {}.\"\n```\n\nwhich seems to be the correct one since this\
          \ yields good results.\n\nSo make sure to not use `This text is about {}.`\
          \ or anything else. Using the correct hypothesis format is important to\
          \ get consistent/good predictions. \n\nExample, if you slightly change (because\
          \ you think you are smarter) the hypothesis text from \"This example is\
          \ {}.\" to \"This example is about {}.\" then the results totally crash:\n\
          \n```\ntext = \"it's quite cheap, but the quality is not compromised \u2013\
          \ love the colors and the smooth application\"\ntopic = \"price\"\n\n# this\
          \ is the correct one and used per default\nclassifier(text, topic, hypothesis_template=\"\
          This example is {}.\")\n// =>  'scores': [0.9757905602455139]}\n\n# wrong\
          \ from the README\nclassifier(text, topic, hypothesis_template=\"This text\
          \ is about {}.\")\n// => 'scores': [0.2925598919391632]}\n\n# wrong, too\n\
          classifier(text, topic, hypothesis_template=\"This example is about {}.\"\
          )\n// => 'scores': [0.3993900716304779]}\n```"
        updatedAt: '2023-04-30T15:25:21.288Z'
      numEdits: 11
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Johnny-OS1NT
    id: 644e7fbcf2ada99b2eb6629d
    type: comment
  author: marcj
  content: "Just FYI, the template (hypothesis) used in the manual PyTorch section\
    \ is different to the template used in explanation.\n\nIn the README is\n\n```\n\
    we could construct a hypothesis of \"This text is about politics.\".\n```\n\n\
    but in pipeline the following template is used\n\n```\n\"This example is {}.\"\
    \n```\n\nwhich seems to be the correct one since this yields good results.\n\n\
    So make sure to not use `This text is about {}.` or anything else. Using the correct\
    \ hypothesis format is important to get consistent/good predictions. \n\nExample,\
    \ if you slightly change (because you think you are smarter) the hypothesis text\
    \ from \"This example is {}.\" to \"This example is about {}.\" then the results\
    \ totally crash:\n\n```\ntext = \"it's quite cheap, but the quality is not compromised\
    \ \u2013 love the colors and the smooth application\"\ntopic = \"price\"\n\n#\
    \ this is the correct one and used per default\nclassifier(text, topic, hypothesis_template=\"\
    This example is {}.\")\n// =>  'scores': [0.9757905602455139]}\n\n# wrong from\
    \ the README\nclassifier(text, topic, hypothesis_template=\"This text is about\
    \ {}.\")\n// => 'scores': [0.2925598919391632]}\n\n# wrong, too\nclassifier(text,\
    \ topic, hypothesis_template=\"This example is about {}.\")\n// => 'scores': [0.3993900716304779]}\n\
    ```"
  created_at: 2023-04-30 13:48:28+00:00
  edited: true
  hidden: false
  id: 644e7fbcf2ada99b2eb6629d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/0cbbf101378e0c99b4d6d2b5ca300e00.svg
      fullname: Marc Schmidt
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: marcj
      type: user
    createdAt: '2023-04-30T14:49:57.000Z'
    data:
      from: pipeline vs manual PyTorch results
      to: pipeline vs manual PyTorch results, due to different hypothesis text
    id: 644e8015bf9683cba461aae3
    type: title-change
  author: marcj
  created_at: 2023-04-30 13:49:57+00:00
  id: 644e8015bf9683cba461aae3
  new_title: pipeline vs manual PyTorch results, due to different hypothesis text
  old_title: pipeline vs manual PyTorch results
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/0cbbf101378e0c99b4d6d2b5ca300e00.svg
      fullname: Marc Schmidt
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: marcj
      type: user
    createdAt: '2023-04-30T15:14:35.000Z'
    data:
      status: closed
    id: 644e85dba00f4b11d3940c45
    type: status-change
  author: marcj
  created_at: 2023-04-30 14:14:35+00:00
  id: 644e85dba00f4b11d3940c45
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/0cbbf101378e0c99b4d6d2b5ca300e00.svg
      fullname: Marc Schmidt
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: marcj
      type: user
    createdAt: '2023-04-30T15:23:14.000Z'
    data:
      status: open
    id: 644e87e2ddf20748b059303f
    type: status-change
  author: marcj
  created_at: 2023-04-30 14:23:14+00:00
  id: 644e87e2ddf20748b059303f
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/0cbbf101378e0c99b4d6d2b5ca300e00.svg
      fullname: Marc Schmidt
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: marcj
      type: user
    createdAt: '2023-04-30T15:23:35.000Z'
    data:
      from: pipeline vs manual PyTorch results, due to different hypothesis text
      to: Different hypothesis format/text
    id: 644e87f7bf9683cba46269c0
    type: title-change
  author: marcj
  created_at: 2023-04-30 14:23:35+00:00
  id: 644e87f7bf9683cba46269c0
  new_title: Different hypothesis format/text
  old_title: pipeline vs manual PyTorch results, due to different hypothesis text
  type: title-change
is_pull_request: false
merge_commit_oid: null
num: 16
repo_id: facebook/bart-large-mnli
repo_type: model
status: open
target_branch: null
title: Different hypothesis format/text
