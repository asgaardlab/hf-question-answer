!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Anand-Keshavan
conflicting_files: null
created_at: 2023-06-07 05:18:36+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f763a6a8f5e2f536b963a9770ac36282.svg
      fullname: Anand Keshavan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Anand-Keshavan
      type: user
    createdAt: '2023-06-07T06:18:36.000Z'
    data:
      edited: false
      editors:
      - Anand-Keshavan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.32698971033096313
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f763a6a8f5e2f536b963a9770ac36282.svg
          fullname: Anand Keshavan
          isHf: false
          isPro: false
          name: Anand-Keshavan
          type: user
        html: '<p>Input data format:</p>

          <p>Dataset({<br>    features: [''labels'', ''input_ids'', ''attention_mask'',
          ''input_sentence''],<br>    num_rows: 694<br>})<br>{''labels'': 2, ''input_ids'':
          [0, 44758, 3457, 13, 5, 1263, 829, 31, 5, 1263, 8401, 4001, 438, 34, 5,
          511, 7390, 2, 2, 713, 1246, 16, 4287, 92, 3457, 4, 2], ''attention_mask'':
          [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
          1, 1, 1], ''input_sentence'': ''<s>Create tests for the response received
          from the response whihc has the following format</s>This example is Add
          new tests.''}</p>

          <p>Training configuration:</p>

          <p>model_name=''facebook/bart-large-mnli''</p>

          <h1 id="hyperparameters-which-are-passed-into-the-training-job">hyperparameters,
          which are passed into the training job</h1>

          <p>hyperparameters={#''epochs'': 1,<br>                 #''train_batch_size'':
          8,<br>                 ''do_train'' : True,<br>                 ''do_eval''
          : True,<br>                 ''model_name'':model_name,<br>                 ''task_name'':
          ''mnli'',<br>                 #''output_data_dir'': ''/opt/ml/output/data/'',<br>                 ''output_dir'':
          ''/opt/ml/output/'',<br>                 ''ignore_mismatched_sizes'': True,<br>                 ''overwrite_output_dir''
          : True<br>                 }</p>

          <p>git_config = {''repo'': ''<a rel="nofollow" href="https://github.com/huggingface/transformers.git'',''branch''">https://github.com/huggingface/transformers.git'',''branch''</a>:
          ''v4.26.0''}</p>

          <h1 id="creates-hugging-face-estimator">creates Hugging Face estimator</h1>

          <p>huggingface_estimator = HuggingFace(</p>

          <pre><code>entry_point=''run_glue.py'',

          source_dir=''./examples/pytorch/text-classification'',

          instance_type=''ml.p3dn.24xlarge'',

          instance_count=1,

          role=role,

          git_config=git_config,

          transformers_version=''4.26.0'',

          pytorch_version=''1.13.1'',

          py_version=''py39'',

          hyperparameters = hyperparameters,

          distribution = distribution

          </code></pre>

          <p>)</p>

          '
        raw: "Input data format:\r\n\r\nDataset({\r\n    features: ['labels', 'input_ids',\
          \ 'attention_mask', 'input_sentence'],\r\n    num_rows: 694\r\n})\r\n{'labels':\
          \ 2, 'input_ids': [0, 44758, 3457, 13, 5, 1263, 829, 31, 5, 1263, 8401,\
          \ 4001, 438, 34, 5, 511, 7390, 2, 2, 713, 1246, 16, 4287, 92, 3457, 4, 2],\
          \ 'attention_mask': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
          \ 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], 'input_sentence': '<s>Create tests for\
          \ the response received from the response whihc has the following format</s></s>This\
          \ example is Add new tests.</s>'}\r\n\r\nTraining configuration:\r\n\r\n\
          model_name='facebook/bart-large-mnli'\r\n# hyperparameters, which are passed\
          \ into the training job\r\nhyperparameters={#'epochs': 1,\r\n          \
          \       #'train_batch_size': 8,\r\n                 'do_train' : True,\r\
          \n                 'do_eval' : True,\r\n                 'model_name':model_name,\r\
          \n                 'task_name': 'mnli',\r\n                 #'output_data_dir':\
          \ '/opt/ml/output/data/',\r\n                 'output_dir': '/opt/ml/output/',\r\
          \n                 'ignore_mismatched_sizes': True,\r\n                \
          \ 'overwrite_output_dir' : True\r\n                 }\r\n\r\ngit_config\
          \ = {'repo': 'https://github.com/huggingface/transformers.git','branch':\
          \ 'v4.26.0'}\r\n\r\n \r\n# creates Hugging Face estimator\r\nhuggingface_estimator\
          \ = HuggingFace(\r\n  \r\n\tentry_point='run_glue.py',\r\n\tsource_dir='./examples/pytorch/text-classification',\r\
          \n\tinstance_type='ml.p3dn.24xlarge',\r\n\tinstance_count=1,\r\n\trole=role,\r\
          \n\tgit_config=git_config,\r\n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\
          \n\tpy_version='py39',\r\n\thyperparameters = hyperparameters,\r\n    distribution\
          \ = distribution\r\n)"
        updatedAt: '2023-06-07T06:18:36.349Z'
      numEdits: 0
      reactions: []
    id: 6480213c6698c820dc30afb4
    type: comment
  author: Anand-Keshavan
  content: "Input data format:\r\n\r\nDataset({\r\n    features: ['labels', 'input_ids',\
    \ 'attention_mask', 'input_sentence'],\r\n    num_rows: 694\r\n})\r\n{'labels':\
    \ 2, 'input_ids': [0, 44758, 3457, 13, 5, 1263, 829, 31, 5, 1263, 8401, 4001,\
    \ 438, 34, 5, 511, 7390, 2, 2, 713, 1246, 16, 4287, 92, 3457, 4, 2], 'attention_mask':\
    \ [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\
    \ 1, 1], 'input_sentence': '<s>Create tests for the response received from the\
    \ response whihc has the following format</s></s>This example is Add new tests.</s>'}\r\
    \n\r\nTraining configuration:\r\n\r\nmodel_name='facebook/bart-large-mnli'\r\n\
    # hyperparameters, which are passed into the training job\r\nhyperparameters={#'epochs':\
    \ 1,\r\n                 #'train_batch_size': 8,\r\n                 'do_train'\
    \ : True,\r\n                 'do_eval' : True,\r\n                 'model_name':model_name,\r\
    \n                 'task_name': 'mnli',\r\n                 #'output_data_dir':\
    \ '/opt/ml/output/data/',\r\n                 'output_dir': '/opt/ml/output/',\r\
    \n                 'ignore_mismatched_sizes': True,\r\n                 'overwrite_output_dir'\
    \ : True\r\n                 }\r\n\r\ngit_config = {'repo': 'https://github.com/huggingface/transformers.git','branch':\
    \ 'v4.26.0'}\r\n\r\n \r\n# creates Hugging Face estimator\r\nhuggingface_estimator\
    \ = HuggingFace(\r\n  \r\n\tentry_point='run_glue.py',\r\n\tsource_dir='./examples/pytorch/text-classification',\r\
    \n\tinstance_type='ml.p3dn.24xlarge',\r\n\tinstance_count=1,\r\n\trole=role,\r\
    \n\tgit_config=git_config,\r\n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\
    \n\tpy_version='py39',\r\n\thyperparameters = hyperparameters,\r\n    distribution\
    \ = distribution\r\n)"
  created_at: 2023-06-07 05:18:36+00:00
  edited: false
  hidden: false
  id: 6480213c6698c820dc30afb4
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 19
repo_id: facebook/bart-large-mnli
repo_type: model
status: open
target_branch: null
title: Getting the "Dropping the following result as it does not have all the necessary
  fields" while fine tuning this model
