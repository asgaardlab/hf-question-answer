!!python/object:huggingface_hub.community.DiscussionWithDetails
author: nottakumasato
conflicting_files: null
created_at: 2023-12-20 21:39:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/be4489fe2e39939d68c1ef99cbff5113.svg
      fullname: nottakumasato
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nottakumasato
      type: user
    createdAt: '2023-12-20T21:39:52.000Z'
    data:
      edited: false
      editors:
      - nottakumasato
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8731842041015625
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/be4489fe2e39939d68c1ef99cbff5113.svg
          fullname: nottakumasato
          isHf: false
          isPro: false
          name: nottakumasato
          type: user
        html: '<p>Hi,</p>

          <p>I have been getting the below warning message when running inference.
          How can I fix it editing the example code in the docs?</p>

          <pre><code>The attention mask and the pad token id were not set. As a consequence,
          you may observe unexpected behavior. Please pass your input''s `attention_mask`
          to obtain reliable results.

          Setting `pad_token_id` to `eos_token_id`:2 for open-end generation.

          </code></pre>

          '
        raw: "Hi,\r\n\r\nI have been getting the below warning message when running\
          \ inference. How can I fix it editing the example code in the docs?\r\n\r\
          \n```\r\nThe attention mask and the pad token id were not set. As a consequence,\
          \ you may observe unexpected behavior. Please pass your input's `attention_mask`\
          \ to obtain reliable results.\r\nSetting `pad_token_id` to `eos_token_id`:2\
          \ for open-end generation.\r\n```"
        updatedAt: '2023-12-20T21:39:52.618Z'
      numEdits: 0
      reactions:
      - count: 5
        reaction: "\U0001F44D"
        users:
        - takkii
        - Sher
        - Hazarapet
        - larryyin
        - Teejeigh
    id: 65835f283925d68d7c454dcf
    type: comment
  author: nottakumasato
  content: "Hi,\r\n\r\nI have been getting the below warning message when running\
    \ inference. How can I fix it editing the example code in the docs?\r\n\r\n```\r\
    \nThe attention mask and the pad token id were not set. As a consequence, you\
    \ may observe unexpected behavior. Please pass your input's `attention_mask` to\
    \ obtain reliable results.\r\nSetting `pad_token_id` to `eos_token_id`:2 for open-end\
    \ generation.\r\n```"
  created_at: 2023-12-20 21:39:52+00:00
  edited: false
  hidden: false
  id: 65835f283925d68d7c454dcf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/xeFweFVzTVHTwm3KCWezV.jpeg?w=200&h=200&f=face
      fullname: Elias Helle Kalland
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: stinkyElias
      type: user
    createdAt: '2024-01-25T09:41:22.000Z'
    data:
      edited: false
      editors:
      - stinkyElias
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.674946665763855
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/xeFweFVzTVHTwm3KCWezV.jpeg?w=200&h=200&f=face
          fullname: Elias Helle Kalland
          isHf: false
          isPro: false
          name: stinkyElias
          type: user
        html: '<p>Hello</p>

          <p>I don''t know if you still need help, but if you do you can suppress
          the warnings by setting pad_token_id to eos_token_id in the generate method
          from the example code.<br>For example, you can update the example code with</p>

          <p>generated_ids = model.generate(model_inputs, pad_token_id=tokenizer.eos_token_id,
          max_new_tokens=1000, do_sample=True).</p>

          <p>Hope this helps:)</p>

          '
        raw: 'Hello


          I don''t know if you still need help, but if you do you can suppress the
          warnings by setting pad_token_id to eos_token_id in the generate method
          from the example code.

          For example, you can update the example code with


          generated_ids = model.generate(model_inputs, pad_token_id=tokenizer.eos_token_id,
          max_new_tokens=1000, do_sample=True).


          Hope this helps:)'
        updatedAt: '2024-01-25T09:41:22.909Z'
      numEdits: 0
      reactions: []
    id: 65b22cc21566a60bda826816
    type: comment
  author: stinkyElias
  content: 'Hello


    I don''t know if you still need help, but if you do you can suppress the warnings
    by setting pad_token_id to eos_token_id in the generate method from the example
    code.

    For example, you can update the example code with


    generated_ids = model.generate(model_inputs, pad_token_id=tokenizer.eos_token_id,
    max_new_tokens=1000, do_sample=True).


    Hope this helps:)'
  created_at: 2024-01-25 09:41:22+00:00
  edited: false
  hidden: false
  id: 65b22cc21566a60bda826816
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 28
repo_id: mistralai/Mistral-7B-Instruct-v0.2
repo_type: model
status: open
target_branch: null
title: Attention mask and pad token id warning
