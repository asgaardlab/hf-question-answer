!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xrayoneshow
conflicting_files: null
created_at: 2023-06-06 10:18:07+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d80cf3bc44f7c49125ce403f81dcd134.svg
      fullname: 'Slava met '
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xrayoneshow
      type: user
    createdAt: '2023-06-06T11:18:07.000Z'
    data:
      edited: false
      editors:
      - xrayoneshow
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.48022422194480896
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d80cf3bc44f7c49125ce403f81dcd134.svg
          fullname: 'Slava met '
          isHf: false
          isPro: false
          name: xrayoneshow
          type: user
        html: '<p>using: runtime\python.exe myinfer-v2-0528.py 0 "I:\tmp\1950922385_1261.wav"  "I:\Retrieval-based-Voice-Conversion-WebUI\weights\added_IVF725_Flat_nprobe_1.index"
          harvest "test.wav" "I:\Retrieval-based-Voice-Conversion-WebUI\weights\nmodel2333333.pth"
          0.66 cuda:0 True 3 0 1 0.33 and  getting an error :<br>Traceback (most recent
          call last):<br>  File "I:\Retrieval-based-Voice-Conversion-WebUI\myinfer-v2-0528.py",
          line 167, in <br>    wav_opt=vc_single(0,input_path,f0up_key,None,f0method,index_path,index_rate)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\myinfer-v2-0528.py", line 133,
          in vc_single<br>    audio_opt=vc.pipeline(hubert_model,net_g,sid,audio,input_audio,times,f0_up_key,f0_method,file_index,index_rate,if_f0,filter_radius,tgt_sr,resample_sr,rms_mix_rate,version,protect,f0_file=f0_file)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\vc_infer_pipeline.py", line 382,
          in pipeline<br>    self.vc(<br>  File "I:\Retrieval-based-Voice-Conversion-WebUI\vc_infer_pipeline.py",
          line 185, in vc<br>    logits = model.extract_features(**inputs)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\fairseq\models\hubert\hubert.py",
          line 535, in extract_features<br>    res = self.forward(<br>  File "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\fairseq\models\hubert\hubert.py",
          line 437, in forward<br>    features = self.forward_features(source)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\fairseq\models\hubert\hubert.py",
          line 392, in forward_features<br>    features = self.feature_extractor(source)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\torch\nn\modules\module.py",
          line 1501, in _call_impl<br>    return forward_call(*args, **kwargs)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\fairseq\models\wav2vec\wav2vec2.py",
          line 895, in forward<br>    x = conv(x)<br>  File "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\torch\nn\modules\module.py",
          line 1501, in _call_impl<br>    return forward_call(*args, **kwargs)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\torch\nn\modules\container.py",
          line 217, in forward<br>    input = module(input)<br>  File "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\torch\nn\modules\module.py",
          line 1501, in _call_impl<br>    return forward_call(*args, **kwargs)<br>  File
          "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\torch\nn\modules\conv.py",
          line 313, in forward<br>    return self._conv_forward(input, self.weight,
          self.bias)<br>  File "I:\Retrieval-based-Voice-Conversion-WebUI\runtime\lib\site-packages\torch\nn\modules\conv.py",
          line 309, in _conv_forward<br>    return F.conv1d(input, weight, bias, self.stride,<br>RuntimeError:
          Input type (torch.cuda.FloatTensor) and weight type (torch.cuda.HalfTensor)
          should be the same</p>

          '
        raw: "using: runtime\\python.exe myinfer-v2-0528.py 0 \"I:\\tmp\\1950922385_1261.wav\"\
          \  \"I:\\Retrieval-based-Voice-Conversion-WebUI\\weights\\added_IVF725_Flat_nprobe_1.index\"\
          \ harvest \"test.wav\" \"I:\\Retrieval-based-Voice-Conversion-WebUI\\weights\\\
          nmodel2333333.pth\" 0.66 cuda:0 True 3 0 1 0.33 and  getting an error :<All\
          \ keys matched successfully>\r\nTraceback (most recent call last):\r\n \
          \ File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\myinfer-v2-0528.py\"\
          , line 167, in <module>\r\n    wav_opt=vc_single(0,input_path,f0up_key,None,f0method,index_path,index_rate)\r\
          \n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\myinfer-v2-0528.py\"\
          , line 133, in vc_single\r\n    audio_opt=vc.pipeline(hubert_model,net_g,sid,audio,input_audio,times,f0_up_key,f0_method,file_index,index_rate,if_f0,filter_radius,tgt_sr,resample_sr,rms_mix_rate,version,protect,f0_file=f0_file)\r\
          \n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\vc_infer_pipeline.py\"\
          , line 382, in pipeline\r\n    self.vc(\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
          vc_infer_pipeline.py\", line 185, in vc\r\n    logits = model.extract_features(**inputs)\r\
          \n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\\
          fairseq\\models\\hubert\\hubert.py\", line 535, in extract_features\r\n\
          \    res = self.forward(\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
          runtime\\lib\\site-packages\\fairseq\\models\\hubert\\hubert.py\", line\
          \ 437, in forward\r\n    features = self.forward_features(source)\r\n  File\
          \ \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\\
          fairseq\\models\\hubert\\hubert.py\", line 392, in forward_features\r\n\
          \    features = self.feature_extractor(source)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
          runtime\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1501,\
          \ in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"\
          I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\\
          fairseq\\models\\wav2vec\\wav2vec2.py\", line 895, in forward\r\n    x =\
          \ conv(x)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\\
          lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1501, in _call_impl\r\
          \n    return forward_call(*args, **kwargs)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
          runtime\\lib\\site-packages\\torch\\nn\\modules\\container.py\", line 217,\
          \ in forward\r\n    input = module(input)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
          runtime\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1501,\
          \ in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"\
          I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\\
          torch\\nn\\modules\\conv.py\", line 313, in forward\r\n    return self._conv_forward(input,\
          \ self.weight, self.bias)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
          runtime\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 309, in\
          \ _conv_forward\r\n    return F.conv1d(input, weight, bias, self.stride,\r\
          \nRuntimeError: Input type (torch.cuda.FloatTensor) and weight type (torch.cuda.HalfTensor)\
          \ should be the same\r\n"
        updatedAt: '2023-06-06T11:18:07.280Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - DayTripper420
    id: 647f15efe9c81260ff85beb0
    type: comment
  author: xrayoneshow
  content: "using: runtime\\python.exe myinfer-v2-0528.py 0 \"I:\\tmp\\1950922385_1261.wav\"\
    \  \"I:\\Retrieval-based-Voice-Conversion-WebUI\\weights\\added_IVF725_Flat_nprobe_1.index\"\
    \ harvest \"test.wav\" \"I:\\Retrieval-based-Voice-Conversion-WebUI\\weights\\\
    nmodel2333333.pth\" 0.66 cuda:0 True 3 0 1 0.33 and  getting an error :<All keys\
    \ matched successfully>\r\nTraceback (most recent call last):\r\n  File \"I:\\\
    Retrieval-based-Voice-Conversion-WebUI\\myinfer-v2-0528.py\", line 167, in <module>\r\
    \n    wav_opt=vc_single(0,input_path,f0up_key,None,f0method,index_path,index_rate)\r\
    \n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\myinfer-v2-0528.py\", line\
    \ 133, in vc_single\r\n    audio_opt=vc.pipeline(hubert_model,net_g,sid,audio,input_audio,times,f0_up_key,f0_method,file_index,index_rate,if_f0,filter_radius,tgt_sr,resample_sr,rms_mix_rate,version,protect,f0_file=f0_file)\r\
    \n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\vc_infer_pipeline.py\"\
    , line 382, in pipeline\r\n    self.vc(\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
    vc_infer_pipeline.py\", line 185, in vc\r\n    logits = model.extract_features(**inputs)\r\
    \n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\\
    fairseq\\models\\hubert\\hubert.py\", line 535, in extract_features\r\n    res\
    \ = self.forward(\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\\
    lib\\site-packages\\fairseq\\models\\hubert\\hubert.py\", line 437, in forward\r\
    \n    features = self.forward_features(source)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
    runtime\\lib\\site-packages\\fairseq\\models\\hubert\\hubert.py\", line 392, in\
    \ forward_features\r\n    features = self.feature_extractor(source)\r\n  File\
    \ \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\\
    torch\\nn\\modules\\module.py\", line 1501, in _call_impl\r\n    return forward_call(*args,\
    \ **kwargs)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\\
    lib\\site-packages\\fairseq\\models\\wav2vec\\wav2vec2.py\", line 895, in forward\r\
    \n    x = conv(x)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\runtime\\\
    lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1501, in _call_impl\r\
    \n    return forward_call(*args, **kwargs)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
    runtime\\lib\\site-packages\\torch\\nn\\modules\\container.py\", line 217, in\
    \ forward\r\n    input = module(input)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
    runtime\\lib\\site-packages\\torch\\nn\\modules\\module.py\", line 1501, in _call_impl\r\
    \n    return forward_call(*args, **kwargs)\r\n  File \"I:\\Retrieval-based-Voice-Conversion-WebUI\\\
    runtime\\lib\\site-packages\\torch\\nn\\modules\\conv.py\", line 313, in forward\r\
    \n    return self._conv_forward(input, self.weight, self.bias)\r\n  File \"I:\\\
    Retrieval-based-Voice-Conversion-WebUI\\runtime\\lib\\site-packages\\torch\\nn\\\
    modules\\conv.py\", line 309, in _conv_forward\r\n    return F.conv1d(input, weight,\
    \ bias, self.stride,\r\nRuntimeError: Input type (torch.cuda.FloatTensor) and\
    \ weight type (torch.cuda.HalfTensor) should be the same\r\n"
  created_at: 2023-06-06 10:18:07+00:00
  edited: false
  hidden: false
  id: 647f15efe9c81260ff85beb0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b9065b1db98ec504e348128f25ae93d4.svg
      fullname: liu
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: lj1995
      type: user
    createdAt: '2023-06-06T12:22:29.000Z'
    data:
      edited: false
      editors:
      - lj1995
      hidden: false
      identifiedLanguage:
        language: hr
        probability: 0.28667929768562317
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b9065b1db98ec504e348128f25ae93d4.svg
          fullname: liu
          isHf: false
          isPro: false
          name: lj1995
          type: user
        html: '<p>try:<br> cuda:0 True 3<br>-&gt;<br> cuda:0 False 3</p>

          '
        raw: "try:\n cuda:0 True 3\n->\n cuda:0 False 3"
        updatedAt: '2023-06-06T12:22:29.134Z'
      numEdits: 0
      reactions: []
    id: 647f25051a446a624a3f1d57
    type: comment
  author: lj1995
  content: "try:\n cuda:0 True 3\n->\n cuda:0 False 3"
  created_at: 2023-06-06 11:22:29+00:00
  edited: false
  hidden: false
  id: 647f25051a446a624a3f1d57
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d80cf3bc44f7c49125ce403f81dcd134.svg
      fullname: 'Slava met '
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xrayoneshow
      type: user
    createdAt: '2023-06-06T15:11:42.000Z'
    data:
      edited: false
      editors:
      - xrayoneshow
      hidden: false
      identifiedLanguage:
        language: hr
        probability: 0.28391212224960327
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d80cf3bc44f7c49125ce403f81dcd134.svg
          fullname: 'Slava met '
          isHf: false
          isPro: false
          name: xrayoneshow
          type: user
        html: '<blockquote>

          <p>try:<br> cuda:0 True 3<br>-&gt;<br> cuda:0 False 3</p>

          </blockquote>

          <p>same</p>

          '
        raw: '> try:

          >  cuda:0 True 3

          > ->

          >  cuda:0 False 3


          same'
        updatedAt: '2023-06-06T15:11:42.833Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - DayTripper420
    id: 647f4cae1a446a624a45726c
    type: comment
  author: xrayoneshow
  content: '> try:

    >  cuda:0 True 3

    > ->

    >  cuda:0 False 3


    same'
  created_at: 2023-06-06 14:11:42+00:00
  edited: false
  hidden: false
  id: 647f4cae1a446a624a45726c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d9df0439b9a7ec228783475ca8d99cd5.svg
      fullname: Tripper
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: DayTripper420
      type: user
    createdAt: '2023-06-06T18:16:54.000Z'
    data:
      edited: false
      editors:
      - DayTripper420
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.32132387161254883
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d9df0439b9a7ec228783475ca8d99cd5.svg
          fullname: Tripper
          isHf: false
          isPro: false
          name: DayTripper420
          type: user
        html: '<p>I get the 100 % same error</p>

          '
        raw: I get the 100 % same error
        updatedAt: '2023-06-06T18:16:54.454Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F614"
        users:
        - xrayoneshow
    id: 647f78162a7bcaa307aad196
    type: comment
  author: DayTripper420
  content: I get the 100 % same error
  created_at: 2023-06-06 17:16:54+00:00
  edited: false
  hidden: false
  id: 647f78162a7bcaa307aad196
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: lj1995/VoiceConversionWebUI
repo_type: model
status: open
target_branch: null
title: myinfer-v2-0528.py
