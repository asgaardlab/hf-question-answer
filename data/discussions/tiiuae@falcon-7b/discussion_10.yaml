!!python/object:huggingface_hub.community.DiscussionWithDetails
author: keremturgutlu
conflicting_files: null
created_at: 2023-05-30 05:15:41+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fc290459efb12b9fad90cb11b01c671a.svg
      fullname: Kerem Turgutlu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: keremturgutlu
      type: user
    createdAt: '2023-05-30T06:15:41.000Z'
    data:
      edited: false
      editors:
      - keremturgutlu
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fc290459efb12b9fad90cb11b01c671a.svg
          fullname: Kerem Turgutlu
          isHf: false
          isPro: false
          name: keremturgutlu
          type: user
        html: "<p>Config and tokenizer has different special token ids, which can\
          \ be a problem for finetuning.</p>\n<pre><code>pretrained_config = AutoConfig.from_pretrained(\"\
          tiiuae/falcon-7b\", trust_remote_code=True)\ntokenizer = AutoTokenizer.from_pretrained(\"\
          tiiuae/falcon-7b\")\n\n(pretrained_config.eos_token_id, tokenizer.eos_token_id,\
          \ \npretrained_config.bos_token_id, tokenizer.bos_token_id)\n&gt;&gt;\n\
          (2, 11, 1, None)\n</code></pre>\n"
        raw: "Config and tokenizer has different special token ids, which can be a\
          \ problem for finetuning.\r\n```\r\npretrained_config = AutoConfig.from_pretrained(\"\
          tiiuae/falcon-7b\", trust_remote_code=True)\r\ntokenizer = AutoTokenizer.from_pretrained(\"\
          tiiuae/falcon-7b\")\r\n\r\n(pretrained_config.eos_token_id, tokenizer.eos_token_id,\
          \ \r\npretrained_config.bos_token_id, tokenizer.bos_token_id)\r\n>>\r\n\
          (2, 11, 1, None)\r\n```"
        updatedAt: '2023-05-30T06:15:41.225Z'
      numEdits: 0
      reactions: []
    id: 6475948d10c83acbd69991d7
    type: comment
  author: keremturgutlu
  content: "Config and tokenizer has different special token ids, which can be a problem\
    \ for finetuning.\r\n```\r\npretrained_config = AutoConfig.from_pretrained(\"\
    tiiuae/falcon-7b\", trust_remote_code=True)\r\ntokenizer = AutoTokenizer.from_pretrained(\"\
    tiiuae/falcon-7b\")\r\n\r\n(pretrained_config.eos_token_id, tokenizer.eos_token_id,\
    \ \r\npretrained_config.bos_token_id, tokenizer.bos_token_id)\r\n>>\r\n(2, 11,\
    \ 1, None)\r\n```"
  created_at: 2023-05-30 05:15:41+00:00
  edited: false
  hidden: false
  id: 6475948d10c83acbd69991d7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
      fullname: lucasjin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lucasjin
      type: user
    createdAt: '2023-05-30T07:43:11.000Z'
    data:
      edited: false
      editors:
      - lucasjin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
          fullname: lucasjin
          isHf: false
          isPro: false
          name: lucasjin
          type: user
        html: '<p>Yes, this is really redicoulous.</p>

          '
        raw: Yes, this is really redicoulous.
        updatedAt: '2023-05-30T07:43:11.338Z'
      numEdits: 0
      reactions: []
    id: 6475a90fab17a37d0b16ed6d
    type: comment
  author: lucasjin
  content: Yes, this is really redicoulous.
  created_at: 2023-05-30 06:43:11+00:00
  edited: false
  hidden: false
  id: 6475a90fab17a37d0b16ed6d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304c78e9aef62c4013e91ae/DccjU9447vyJFHvc_5IHw.jpeg?w=200&h=200&f=face
      fullname: Dmytro Ishchenko
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dimaischenko
      type: user
    createdAt: '2023-05-30T08:50:43.000Z'
    data:
      edited: false
      editors:
      - dimaischenko
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304c78e9aef62c4013e91ae/DccjU9447vyJFHvc_5IHw.jpeg?w=200&h=200&f=face
          fullname: Dmytro Ishchenko
          isHf: false
          isPro: false
          name: dimaischenko
          type: user
        html: '<p>I agree too, and actually don''t understand what we have to choose</p>

          '
        raw: I agree too, and actually don't understand what we have to choose
        updatedAt: '2023-05-30T08:50:43.348Z'
      numEdits: 0
      reactions: []
    id: 6475b8e3e9b57ce0caa3896c
    type: comment
  author: dimaischenko
  content: I agree too, and actually don't understand what we have to choose
  created_at: 2023-05-30 07:50:43+00:00
  edited: false
  hidden: false
  id: 6475b8e3e9b57ce0caa3896c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
      fullname: lucasjin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lucasjin
      type: user
    createdAt: '2023-05-30T09:25:51.000Z'
    data:
      edited: false
      editors:
      - lucasjin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
          fullname: lucasjin
          isHf: false
          isPro: false
          name: lucasjin
          type: user
        html: '<p>@tiiuae Please avoid upload a wrong model (wrong tokenizer), this
          will missleading lots of people .</p>

          '
        raw: '@tiiuae Please avoid upload a wrong model (wrong tokenizer), this will
          missleading lots of people .'
        updatedAt: '2023-05-30T09:25:51.722Z'
      numEdits: 0
      reactions: []
    id: 6475c11fab17a37d0b199403
    type: comment
  author: lucasjin
  content: '@tiiuae Please avoid upload a wrong model (wrong tokenizer), this will
    missleading lots of people .'
  created_at: 2023-05-30 08:25:51+00:00
  edited: false
  hidden: false
  id: 6475c11fab17a37d0b199403
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6471c2c76facfb01d8ac3278/ii7e_5o4jBoK3pS8WMaWK.png?w=200&h=200&f=face
      fullname: Falcon LLM TII UAE
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: FalconLLM
      type: user
    createdAt: '2023-05-30T09:36:45.000Z'
    data:
      status: closed
    id: 6475c3ade9b57ce0caa4e4e5
    type: status-change
  author: FalconLLM
  created_at: 2023-05-30 08:36:45+00:00
  id: 6475c3ade9b57ce0caa4e4e5
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
      fullname: lucasjin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lucasjin
      type: user
    createdAt: '2023-05-31T02:26:56.000Z'
    data:
      edited: false
      editors:
      - lucasjin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
          fullname: lucasjin
          isHf: false
          isPro: false
          name: lucasjin
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;FalconLLM&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/FalconLLM\">@<span class=\"\
          underline\">FalconLLM</span></a></span>\n\n\t</span></span> Please fix the\
          \ issue, or at least post some explain on this, otherwise your behaviour\
          \ might against hugginface community rules.<br>Users might get confused\
          \ by your uploaded model. And <strong>this is not good for you as well</strong>.</p>\n"
        raw: '@FalconLLM Please fix the issue, or at least post some explain on this,
          otherwise your behaviour might against hugginface community rules.

          Users might get confused by your uploaded model. And **this is not good
          for you as well**.'
        updatedAt: '2023-05-31T02:26:56.967Z'
      numEdits: 0
      reactions: []
    id: 6476b070a4ebdbfb138583e2
    type: comment
  author: lucasjin
  content: '@FalconLLM Please fix the issue, or at least post some explain on this,
    otherwise your behaviour might against hugginface community rules.

    Users might get confused by your uploaded model. And **this is not good for you
    as well**.'
  created_at: 2023-05-31 01:26:56+00:00
  edited: false
  hidden: false
  id: 6476b070a4ebdbfb138583e2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304c78e9aef62c4013e91ae/DccjU9447vyJFHvc_5IHw.jpeg?w=200&h=200&f=face
      fullname: Dmytro Ishchenko
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dimaischenko
      type: user
    createdAt: '2023-05-31T03:43:08.000Z'
    data:
      edited: false
      editors:
      - dimaischenko
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6304c78e9aef62c4013e91ae/DccjU9447vyJFHvc_5IHw.jpeg?w=200&h=200&f=face
          fullname: Dmytro Ishchenko
          isHf: false
          isPro: false
          name: dimaischenko
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;lucasjin&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/lucasjin\">@<span class=\"\
          underline\">lucasjin</span></a></span>\n\n\t</span></span> they fixed  <code>config.json</code></p>\n\
          <pre><code>  \"bos_token_id\": 11,\n  \"eos_token_id\": 11,\n</code></pre>\n"
        raw: "@lucasjin they fixed  `config.json`\n\n```\n  \"bos_token_id\": 11,\n\
          \  \"eos_token_id\": 11,\n```"
        updatedAt: '2023-05-31T03:43:08.563Z'
      numEdits: 0
      reactions: []
    id: 6476c24c0214fec3e76d9549
    type: comment
  author: dimaischenko
  content: "@lucasjin they fixed  `config.json`\n\n```\n  \"bos_token_id\": 11,\n\
    \  \"eos_token_id\": 11,\n```"
  created_at: 2023-05-31 02:43:08+00:00
  edited: false
  hidden: false
  id: 6476c24c0214fec3e76d9549
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
      fullname: lucasjin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lucasjin
      type: user
    createdAt: '2023-05-31T04:03:25.000Z'
    data:
      edited: false
      editors:
      - lucasjin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
          fullname: lucasjin
          isHf: false
          isPro: false
          name: lucasjin
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;dimaischenko&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/dimaischenko\"\
          >@<span class=\"underline\">dimaischenko</span></a></span>\n\n\t</span></span>\
          \ OK, but this still make me confused, why bos is 11? Very strange</p>\n"
        raw: '@dimaischenko OK, but this still make me confused, why bos is 11? Very
          strange'
        updatedAt: '2023-05-31T04:03:25.218Z'
      numEdits: 0
      reactions: []
    id: 6476c70da4ebdbfb1387421b
    type: comment
  author: lucasjin
  content: '@dimaischenko OK, but this still make me confused, why bos is 11? Very
    strange'
  created_at: 2023-05-31 03:03:25+00:00
  edited: false
  hidden: false
  id: 6476c70da4ebdbfb1387421b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
      fullname: lucasjin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lucasjin
      type: user
    createdAt: '2023-05-31T04:07:49.000Z'
    data:
      edited: false
      editors:
      - lucasjin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9fbbb8eaaa7b19752b336cf228d4679e.svg
          fullname: lucasjin
          isHf: false
          isPro: false
          name: lucasjin
          type: user
        html: '<p>And the bos same as eos...... Very strange....</p>

          '
        raw: And the bos same as eos...... Very strange....
        updatedAt: '2023-05-31T04:07:49.079Z'
      numEdits: 0
      reactions: []
    id: 6476c815a4ebdbfb13875691
    type: comment
  author: lucasjin
  content: And the bos same as eos...... Very strange....
  created_at: 2023-05-31 03:07:49+00:00
  edited: false
  hidden: false
  id: 6476c815a4ebdbfb13875691
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 10
repo_id: tiiuae/falcon-7b
repo_type: model
status: closed
target_branch: null
title: Tokenizer and Model Config Mismatch
