!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jdjayakaran
conflicting_files: null
created_at: 2023-10-11 09:14:39+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
      fullname: Jennifer Deborah Jayakaran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdjayakaran
      type: user
    createdAt: '2023-10-11T10:14:39.000Z'
    data:
      edited: false
      editors:
      - jdjayakaran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8029031753540039
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
          fullname: Jennifer Deborah Jayakaran
          isHf: false
          isPro: false
          name: jdjayakaran
          type: user
        html: '<p>Hi all,<br>I tried creating a chatbot with the LEOLM model. But,
          I face the error that at times it responds in German and at times in English.
          How to make the responses to be only in German?<br>Adding an example below.<br><a
          rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64f72ac74fed3e8792ca53c6/9vANux68PoONGiBSeuEv5.png"><img
          alt="Screenshot 2023-10-11 at 12.12.03.png" src="https://cdn-uploads.huggingface.co/production/uploads/64f72ac74fed3e8792ca53c6/9vANux68PoONGiBSeuEv5.png"></a></p>

          '
        raw: "\r\nHi all,\r\nI tried creating a chatbot with the LEOLM model. But,\
          \ I face the error that at times it responds in German and at times in English.\
          \ How to make the responses to be only in German? \r\nAdding an example\
          \ below.\r\n![Screenshot 2023-10-11 at 12.12.03.png](https://cdn-uploads.huggingface.co/production/uploads/64f72ac74fed3e8792ca53c6/9vANux68PoONGiBSeuEv5.png)\r\
          \n"
        updatedAt: '2023-10-11T10:14:39.396Z'
      numEdits: 0
      reactions: []
    id: 6526758f4e278408784200e4
    type: comment
  author: jdjayakaran
  content: "\r\nHi all,\r\nI tried creating a chatbot with the LEOLM model. But, I\
    \ face the error that at times it responds in German and at times in English.\
    \ How to make the responses to be only in German? \r\nAdding an example below.\r\
    \n![Screenshot 2023-10-11 at 12.12.03.png](https://cdn-uploads.huggingface.co/production/uploads/64f72ac74fed3e8792ca53c6/9vANux68PoONGiBSeuEv5.png)\r\
    \n"
  created_at: 2023-10-11 09:14:39+00:00
  edited: false
  hidden: false
  id: 6526758f4e278408784200e4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
      fullname: "Bj\xF6rn Pl\xFCster "
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bjoernp
      type: user
    createdAt: '2023-10-11T11:10:04.000Z'
    data:
      edited: false
      editors:
      - bjoernp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6192238330841064
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
          fullname: "Bj\xF6rn Pl\xFCster "
          isHf: false
          isPro: false
          name: bjoernp
          type: user
        html: '<p>I would recommend using a German system prompt, this has worked
          very well for us. Something like <code>Das ist eine Unterhaltung zwischen
          einem freundlichen, hilfreichen Assistenten und einem neugierig Nutzer.</code>.
          Changing the system prompt significantly influences how the model responds.
          Follow the ChatML chat template (<a href="https://huggingface.co/docs/transformers/main/chat_templating">https://huggingface.co/docs/transformers/main/chat_templating</a>)
          for best results. It''s included in this repo.</p>

          '
        raw: I would recommend using a German system prompt, this has worked very
          well for us. Something like `Das ist eine Unterhaltung zwischen einem freundlichen,
          hilfreichen Assistenten und einem neugierig Nutzer.`. Changing the system
          prompt significantly influences how the model responds. Follow the ChatML
          chat template (https://huggingface.co/docs/transformers/main/chat_templating)
          for best results. It's included in this repo.
        updatedAt: '2023-10-11T11:10:04.049Z'
      numEdits: 0
      reactions: []
    id: 6526828c80dae88f3de6bf42
    type: comment
  author: bjoernp
  content: I would recommend using a German system prompt, this has worked very well
    for us. Something like `Das ist eine Unterhaltung zwischen einem freundlichen,
    hilfreichen Assistenten und einem neugierig Nutzer.`. Changing the system prompt
    significantly influences how the model responds. Follow the ChatML chat template
    (https://huggingface.co/docs/transformers/main/chat_templating) for best results.
    It's included in this repo.
  created_at: 2023-10-11 10:10:04+00:00
  edited: false
  hidden: false
  id: 6526828c80dae88f3de6bf42
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
      fullname: Jennifer Deborah Jayakaran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdjayakaran
      type: user
    createdAt: '2023-10-11T12:26:41.000Z'
    data:
      edited: false
      editors:
      - jdjayakaran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7382923364639282
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd9a8649ac09f1b183d669afe9758db5.svg
          fullname: Jennifer Deborah Jayakaran
          isHf: false
          isPro: false
          name: jdjayakaran
          type: user
        html: '<p>I use a chain retrieval qa from langchain and use my own embeddings
          on the LEO model. So it faces quite some challenges on the Chat ML template</p>

          '
        raw: I use a chain retrieval qa from langchain and use my own embeddings on
          the LEO model. So it faces quite some challenges on the Chat ML template
        updatedAt: '2023-10-11T12:26:41.886Z'
      numEdits: 0
      reactions: []
    id: 65269481947b25a24891720d
    type: comment
  author: jdjayakaran
  content: I use a chain retrieval qa from langchain and use my own embeddings on
    the LEO model. So it faces quite some challenges on the Chat ML template
  created_at: 2023-10-11 11:26:41+00:00
  edited: false
  hidden: false
  id: 65269481947b25a24891720d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f264547fc0f4536f9c0399f492dd5115.svg
      fullname: Phil
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: humpf
      type: user
    createdAt: '2023-10-13T08:21:56.000Z'
    data:
      edited: false
      editors:
      - humpf
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7549343109130859
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f264547fc0f4536f9c0399f492dd5115.svg
          fullname: Phil
          isHf: false
          isPro: false
          name: humpf
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;bjoernp&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/bjoernp\">@<span class=\"\
          underline\">bjoernp</span></a></span>\n\n\t</span></span> unfortunately\
          \ this doesn't help. I used the following prompts and it still responded\
          \ in English.<br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/6306016a1e731505a76c87a6/i-PGI9UE0k1YhbjyXocEW.png\"\
          ><img alt=\"Bildschirmfoto 2023-10-13 um 10.20.40.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/6306016a1e731505a76c87a6/i-PGI9UE0k1YhbjyXocEW.png\"\
          ></a></p>\n"
        raw: "@bjoernp unfortunately this doesn't help. I used the following prompts\
          \ and it still responded in English. \n![Bildschirmfoto 2023-10-13 um 10.20.40.png](https://cdn-uploads.huggingface.co/production/uploads/6306016a1e731505a76c87a6/i-PGI9UE0k1YhbjyXocEW.png)\n"
        updatedAt: '2023-10-13T08:21:56.756Z'
      numEdits: 0
      reactions: []
    id: 6528fe24ad4a7ea3a535e730
    type: comment
  author: humpf
  content: "@bjoernp unfortunately this doesn't help. I used the following prompts\
    \ and it still responded in English. \n![Bildschirmfoto 2023-10-13 um 10.20.40.png](https://cdn-uploads.huggingface.co/production/uploads/6306016a1e731505a76c87a6/i-PGI9UE0k1YhbjyXocEW.png)\n"
  created_at: 2023-10-13 07:21:56+00:00
  edited: false
  hidden: false
  id: 6528fe24ad4a7ea3a535e730
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
      fullname: "Bj\xF6rn Pl\xFCster "
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bjoernp
      type: user
    createdAt: '2023-10-18T21:50:00.000Z'
    data:
      edited: false
      editors:
      - bjoernp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9516309499740601
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4a0cff546914b0f094f4a33e376a2f16.svg
          fullname: "Bj\xF6rn Pl\xFCster "
          isHf: false
          isPro: false
          name: bjoernp
          type: user
        html: '<p>I haven''t seen language switching in our chat demo, so I''m not
          sure this is an issue on the model side. Is the context you are giving to
          the model English? Also, you are missing a "\n" after the "&lt;|im_start|&gt;system".
          </p>

          '
        raw: 'I haven''t seen language switching in our chat demo, so I''m not sure
          this is an issue on the model side. Is the context you are giving to the
          model English? Also, you are missing a "\n" after the "<|im_start|>system". '
        updatedAt: '2023-10-18T21:50:00.461Z'
      numEdits: 0
      reactions: []
    id: 65305308db5ea9beb87c75c3
    type: comment
  author: bjoernp
  content: 'I haven''t seen language switching in our chat demo, so I''m not sure
    this is an issue on the model side. Is the context you are giving to the model
    English? Also, you are missing a "\n" after the "<|im_start|>system". '
  created_at: 2023-10-18 20:50:00+00:00
  edited: false
  hidden: false
  id: 65305308db5ea9beb87c75c3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6400c075f4ff62c2617023f7/DNrK0LTDuj9ZEpXl0_k_A.jpeg?w=200&h=200&f=face
      fullname: SebastianBoo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: SebastianBodza
      type: user
    createdAt: '2023-10-19T07:46:19.000Z'
    data:
      edited: false
      editors:
      - SebastianBodza
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.537106454372406
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6400c075f4ff62c2617023f7/DNrK0LTDuj9ZEpXl0_k_A.jpeg?w=200&h=200&f=face
          fullname: SebastianBoo
          isHf: false
          isPro: false
          name: SebastianBodza
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;jdjayakaran&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/jdjayakaran\"\
          >@<span class=\"underline\">jdjayakaran</span></a></span>\n\n\t</span></span>\
          \ Because langchain just uses english prompt templates. Either skip the\
          \ whole langchain part and use just the document splitting and create your\
          \ own templates. </p>\n"
        raw: '@jdjayakaran Because langchain just uses english prompt templates. Either
          skip the whole langchain part and use just the document splitting and create
          your own templates. '
        updatedAt: '2023-10-19T07:46:19.870Z'
      numEdits: 0
      reactions: []
    id: 6530decbbce21215c3a0ffaa
    type: comment
  author: SebastianBodza
  content: '@jdjayakaran Because langchain just uses english prompt templates. Either
    skip the whole langchain part and use just the document splitting and create your
    own templates. '
  created_at: 2023-10-19 06:46:19+00:00
  edited: false
  hidden: false
  id: 6530decbbce21215c3a0ffaa
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: LeoLM/leo-hessianai-13b-chat
repo_type: model
status: open
target_branch: null
title: Ambiguity in Language detection
