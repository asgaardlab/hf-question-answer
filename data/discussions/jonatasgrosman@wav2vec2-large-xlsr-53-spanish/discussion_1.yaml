!!python/object:huggingface_hub.community.DiscussionWithDetails
author: alberto-agudo
conflicting_files: null
created_at: 2022-07-23 19:31:22+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658608109964-noauth.jpeg?w=200&h=200&f=face
      fullname: Alberto Agudo Dominguez
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: alberto-agudo
      type: user
    createdAt: '2022-07-23T20:31:22.000Z'
    data:
      edited: false
      editors:
      - alberto-agudo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658608109964-noauth.jpeg?w=200&h=200&f=face
          fullname: Alberto Agudo Dominguez
          isHf: false
          isPro: false
          name: alberto-agudo
          type: user
        html: "<p>I am using the pre-trained <a href=\"https://huggingface.co/jonatasgrosman/wav2vec2-large-xlsr-53-spanish\"\
          >jonatasgrosman/wav2vec2-large-xlsr-53-spanish</a> model for Speech Recognition\
          \ in Spanish to transcribe text from 922 .mp3 files. Nevertheless, after\
          \ transcribing less than 10 files, it breaks, showing the following message:</p>\n\
          <blockquote>\n<p>Kernel Restarting: The kernel for .ipynb appears to have\
          \ died. It will restart automatically</p>\n</blockquote>\n<p>I have tried\
          \ other alternatives mentioned in other questions, like reinstalling <code>conda</code>\
          \ or <code>mkl</code>, or trying cloud servers like Saturn Cloud or Colab.\
          \ But the same happens in Saturn Cloud, and in plain Colab the runtime is\
          \ capped.</p>\n<p>The code is the following:</p>\n<pre><code class=\"language-{python}\"\
          >from huggingsound import SpeechRecognitionModel\nmodel = SpeechRecognitionModel(\"\
          jonatasgrosman/wav2vec2-large-xlsr-53-spanish\")\n\n# Get file paths to\
          \ each .mp3 file\nroot_dir = os.path.join(\"..\", \"data\", \"raw\", \"\
          audio_files\")\n\n# Filter .mp3 files only\nfile_paths = [os.path.join(root_dir,\
          \ file) for file in os.listdir(root_dir)]\nfile_paths = [file for file in\
          \ file_paths if (os.path.isfile(file) and \n                           \
          \                   file[-4:] == \".mp3\")]\n\n# Transcribe all audios:\n\
          transcriptions = []\nfor file_id in range(len(file_paths)):\n    transcript\
          \ = model.transcribe([file_paths[file_id]])\n    transcriptions.append(transcript)\n\
          </code></pre>\n<p>Python: 3.8.5</p>\n<p><strong>Files info:</strong><br>.mp3\
          \ files of political speeches sampled at 44kHz, even though the package\
          \ recommends to sample them at 16kHz</p>\n<p><strong>Packages info:</strong></p>\n\
          <p>NumPy: 1.23.1</p>\n<p>SciPy: 1.8.1</p>\n<p>Model: jonatasgrosman/wav2vec2-large-xlsr-53-spanish\
          \ (22nd July 2022 version)</p>\n<p><strong>Jupyter notebook packages info:</strong></p>\n\
          <p>IPython          : 7.29.0</p>\n<p>ipykernel        : 6.4.1</p>\n<p>ipywidgets\
          \       : 7.6.5</p>\n<p>jupyter_client   : 7.0.6</p>\n<p>jupyter_core  \
          \   : 4.9.1</p>\n<p>jupyter_server   : 1.4.1</p>\n<p>jupyterlab       :\
          \ 3.2.1</p>\n<p>nbclient         : 0.5.3</p>\n<p>nbconvert        : 6.1.0</p>\n\
          <p>nbformat         : 5.1.3</p>\n<p>notebook         : 6.4.6</p>\n<p>qtconsole\
          \        : 5.2.2</p>\n<p>traitlets        : 5.1.1</p>\n<p>Any help into\
          \ how to solve this would be much appreciated.</p>\n"
        raw: "I am using the pre-trained [jonatasgrosman/wav2vec2-large-xlsr-53-spanish](https://huggingface.co/jonatasgrosman/wav2vec2-large-xlsr-53-spanish)\
          \ model for Speech Recognition in Spanish to transcribe text from 922 .mp3\
          \ files. Nevertheless, after transcribing less than 10 files, it breaks,\
          \ showing the following message:\r\n\r\n> Kernel Restarting: The kernel\
          \ for .ipynb appears to have died. It will restart automatically\r\n\r\n\
          I have tried other alternatives mentioned in other questions, like reinstalling\
          \ `conda` or `mkl`, or trying cloud servers like Saturn Cloud or Colab.\
          \ But the same happens in Saturn Cloud, and in plain Colab the runtime is\
          \ capped.\r\n\r\nThe code is the following:\r\n```{python}\r\nfrom huggingsound\
          \ import SpeechRecognitionModel\r\nmodel = SpeechRecognitionModel(\"jonatasgrosman/wav2vec2-large-xlsr-53-spanish\"\
          )\r\n\r\n# Get file paths to each .mp3 file\r\nroot_dir = os.path.join(\"\
          ..\", \"data\", \"raw\", \"audio_files\")\r\n\r\n# Filter .mp3 files only\r\
          \nfile_paths = [os.path.join(root_dir, file) for file in os.listdir(root_dir)]\r\
          \nfile_paths = [file for file in file_paths if (os.path.isfile(file) and\
          \ \r\n                                              file[-4:] == \".mp3\"\
          )]\r\n\r\n# Transcribe all audios:\r\ntranscriptions = []\r\nfor file_id\
          \ in range(len(file_paths)):\r\n    transcript = model.transcribe([file_paths[file_id]])\r\
          \n    transcriptions.append(transcript)\r\n```\r\n\r\nPython: 3.8.5\r\n\r\
          \n**Files info:**\r\n.mp3 files of political speeches sampled at 44kHz,\
          \ even though the package recommends to sample them at 16kHz\r\n\r\n**Packages\
          \ info:**\r\n\r\nNumPy: 1.23.1\r\n\r\nSciPy: 1.8.1\r\n\r\nModel: jonatasgrosman/wav2vec2-large-xlsr-53-spanish\
          \ (22nd July 2022 version)\r\n\r\n\r\n**Jupyter notebook packages info:**\r\
          \n\r\nIPython          : 7.29.0\r\n\r\nipykernel        : 6.4.1\r\n\r\n\
          ipywidgets       : 7.6.5\r\n\r\njupyter_client   : 7.0.6\r\n\r\njupyter_core\
          \     : 4.9.1\r\n\r\njupyter_server   : 1.4.1\r\n\r\njupyterlab       :\
          \ 3.2.1\r\n\r\nnbclient         : 0.5.3\r\n\r\nnbconvert        : 6.1.0\r\
          \n\r\nnbformat         : 5.1.3\r\n\r\nnotebook         : 6.4.6\r\n\r\nqtconsole\
          \        : 5.2.2\r\n\r\ntraitlets        : 5.1.1\r\n\r\n\r\nAny help into\
          \ how to solve this would be much appreciated."
        updatedAt: '2022-07-23T20:31:22.643Z'
      numEdits: 0
      reactions: []
    id: 62dc5a9afdb18b5f6cb365ee
    type: comment
  author: alberto-agudo
  content: "I am using the pre-trained [jonatasgrosman/wav2vec2-large-xlsr-53-spanish](https://huggingface.co/jonatasgrosman/wav2vec2-large-xlsr-53-spanish)\
    \ model for Speech Recognition in Spanish to transcribe text from 922 .mp3 files.\
    \ Nevertheless, after transcribing less than 10 files, it breaks, showing the\
    \ following message:\r\n\r\n> Kernel Restarting: The kernel for .ipynb appears\
    \ to have died. It will restart automatically\r\n\r\nI have tried other alternatives\
    \ mentioned in other questions, like reinstalling `conda` or `mkl`, or trying\
    \ cloud servers like Saturn Cloud or Colab. But the same happens in Saturn Cloud,\
    \ and in plain Colab the runtime is capped.\r\n\r\nThe code is the following:\r\
    \n```{python}\r\nfrom huggingsound import SpeechRecognitionModel\r\nmodel = SpeechRecognitionModel(\"\
    jonatasgrosman/wav2vec2-large-xlsr-53-spanish\")\r\n\r\n# Get file paths to each\
    \ .mp3 file\r\nroot_dir = os.path.join(\"..\", \"data\", \"raw\", \"audio_files\"\
    )\r\n\r\n# Filter .mp3 files only\r\nfile_paths = [os.path.join(root_dir, file)\
    \ for file in os.listdir(root_dir)]\r\nfile_paths = [file for file in file_paths\
    \ if (os.path.isfile(file) and \r\n                                          \
    \    file[-4:] == \".mp3\")]\r\n\r\n# Transcribe all audios:\r\ntranscriptions\
    \ = []\r\nfor file_id in range(len(file_paths)):\r\n    transcript = model.transcribe([file_paths[file_id]])\r\
    \n    transcriptions.append(transcript)\r\n```\r\n\r\nPython: 3.8.5\r\n\r\n**Files\
    \ info:**\r\n.mp3 files of political speeches sampled at 44kHz, even though the\
    \ package recommends to sample them at 16kHz\r\n\r\n**Packages info:**\r\n\r\n\
    NumPy: 1.23.1\r\n\r\nSciPy: 1.8.1\r\n\r\nModel: jonatasgrosman/wav2vec2-large-xlsr-53-spanish\
    \ (22nd July 2022 version)\r\n\r\n\r\n**Jupyter notebook packages info:**\r\n\r\
    \nIPython          : 7.29.0\r\n\r\nipykernel        : 6.4.1\r\n\r\nipywidgets\
    \       : 7.6.5\r\n\r\njupyter_client   : 7.0.6\r\n\r\njupyter_core     : 4.9.1\r\
    \n\r\njupyter_server   : 1.4.1\r\n\r\njupyterlab       : 3.2.1\r\n\r\nnbclient\
    \         : 0.5.3\r\n\r\nnbconvert        : 6.1.0\r\n\r\nnbformat         : 5.1.3\r\
    \n\r\nnotebook         : 6.4.6\r\n\r\nqtconsole        : 5.2.2\r\n\r\ntraitlets\
    \        : 5.1.1\r\n\r\n\r\nAny help into how to solve this would be much appreciated."
  created_at: 2022-07-23 19:31:22+00:00
  edited: false
  hidden: false
  id: 62dc5a9afdb18b5f6cb365ee
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658608109964-noauth.jpeg?w=200&h=200&f=face
      fullname: Alberto Agudo Dominguez
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: alberto-agudo
      type: user
    createdAt: '2022-07-26T11:50:10.000Z'
    data:
      edited: false
      editors:
      - alberto-agudo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658608109964-noauth.jpeg?w=200&h=200&f=face
          fullname: Alberto Agudo Dominguez
          isHf: false
          isPro: false
          name: alberto-agudo
          type: user
        html: '<p>Solved after resorting to a Cloud instance with bigger RAM and more
          cores.</p>

          '
        raw: Solved after resorting to a Cloud instance with bigger RAM and more cores.
        updatedAt: '2022-07-26T11:50:10.700Z'
      numEdits: 0
      reactions: []
      relatedEventId: 62dfd4f2c78c084375ee282b
    id: 62dfd4f2c78c084375ee282a
    type: comment
  author: alberto-agudo
  content: Solved after resorting to a Cloud instance with bigger RAM and more cores.
  created_at: 2022-07-26 10:50:10+00:00
  edited: false
  hidden: false
  id: 62dfd4f2c78c084375ee282a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658608109964-noauth.jpeg?w=200&h=200&f=face
      fullname: Alberto Agudo Dominguez
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: alberto-agudo
      type: user
    createdAt: '2022-07-26T11:50:10.000Z'
    data:
      status: closed
    id: 62dfd4f2c78c084375ee282b
    type: status-change
  author: alberto-agudo
  created_at: 2022-07-26 10:50:10+00:00
  id: 62dfd4f2c78c084375ee282b
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: jonatasgrosman/wav2vec2-large-xlsr-53-spanish
repo_type: model
status: closed
target_branch: null
title: 'Kernel Restarting: The kernel for .ipynb appears to have died. It will restart
  automatically'
