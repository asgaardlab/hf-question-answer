!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bysdan
conflicting_files: null
created_at: 2022-09-28 13:14:27+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a2741c92b51fc1283f96851eddc55a76.svg
      fullname: Dan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bysdan
      type: user
    createdAt: '2022-09-28T14:14:27.000Z'
    data:
      edited: true
      editors:
      - bysdan
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a2741c92b51fc1283f96851eddc55a76.svg
          fullname: Dan
          isHf: false
          isPro: false
          name: bysdan
          type: user
        html: "<p>I try to run with a local <strong>cache_dir</strong> and get and\
          \ error:</p>\n<pre><code>&lt;ipython-input-11-a98d9b5ff3cc&gt; in &lt;module&gt;\n\
          \      1 transformers.models.bloom.modeling_bloom.BloomBlock = BloomBlock\n\
          ----&gt; 2 model = BloomForCausalLM.from_pretrained('joaoalvarenga/bloom-8bit',\
          \ cache_dir='/path to shared drive', low_cpu_mem_usage=True)\n      3 tokenizer\
          \ = BloomTokenizerFast.from_pretrained('joaoalvarenga/bloom-8bit', cache_dir='/path\
          \ to shared drive')\n\n5 frames\n&lt;ipython-input-10-21a49de45658&gt; in\
          \ __init__(self, config, layer_number)\n    126 class BloomBlock(transformers.models.bloom.modeling_bloom.BloomBlock):\n\
          \    127     def __init__(self, config, layer_number=None):\n--&gt; 128\
          \         super().__init__(config, layer_number)\n    129         convert_to_int8(self.self_attention)\n\
          \    130         convert_to_int8(self.mlp)\n\nTypeError: __init__() takes\
          \ 2 positional arguments but 3 were given \n</code></pre>\n"
        raw: "I try to run with a local **cache_dir** and get and error:\n```\n<ipython-input-11-a98d9b5ff3cc>\
          \ in <module>\n      1 transformers.models.bloom.modeling_bloom.BloomBlock\
          \ = BloomBlock\n----> 2 model = BloomForCausalLM.from_pretrained('joaoalvarenga/bloom-8bit',\
          \ cache_dir='/path to shared drive', low_cpu_mem_usage=True)\n      3 tokenizer\
          \ = BloomTokenizerFast.from_pretrained('joaoalvarenga/bloom-8bit', cache_dir='/path\
          \ to shared drive')\n\n5 frames\n<ipython-input-10-21a49de45658> in __init__(self,\
          \ config, layer_number)\n    126 class BloomBlock(transformers.models.bloom.modeling_bloom.BloomBlock):\n\
          \    127     def __init__(self, config, layer_number=None):\n--> 128   \
          \      super().__init__(config, layer_number)\n    129         convert_to_int8(self.self_attention)\n\
          \    130         convert_to_int8(self.mlp)\n\nTypeError: __init__() takes\
          \ 2 positional arguments but 3 were given \n```"
        updatedAt: '2022-09-28T14:15:54.309Z'
      numEdits: 1
      reactions: []
    id: 633456c3ffacdca2bdf9a371
    type: comment
  author: bysdan
  content: "I try to run with a local **cache_dir** and get and error:\n```\n<ipython-input-11-a98d9b5ff3cc>\
    \ in <module>\n      1 transformers.models.bloom.modeling_bloom.BloomBlock = BloomBlock\n\
    ----> 2 model = BloomForCausalLM.from_pretrained('joaoalvarenga/bloom-8bit', cache_dir='/path\
    \ to shared drive', low_cpu_mem_usage=True)\n      3 tokenizer = BloomTokenizerFast.from_pretrained('joaoalvarenga/bloom-8bit',\
    \ cache_dir='/path to shared drive')\n\n5 frames\n<ipython-input-10-21a49de45658>\
    \ in __init__(self, config, layer_number)\n    126 class BloomBlock(transformers.models.bloom.modeling_bloom.BloomBlock):\n\
    \    127     def __init__(self, config, layer_number=None):\n--> 128         super().__init__(config,\
    \ layer_number)\n    129         convert_to_int8(self.self_attention)\n    130\
    \         convert_to_int8(self.mlp)\n\nTypeError: __init__() takes 2 positional\
    \ arguments but 3 were given \n```"
  created_at: 2022-09-28 13:14:27+00:00
  edited: true
  hidden: false
  id: 633456c3ffacdca2bdf9a371
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: joaoalvarenga/bloom-8bit
repo_type: model
status: open
target_branch: null
title: Running with local cache error
