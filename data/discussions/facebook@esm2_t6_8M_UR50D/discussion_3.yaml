!!python/object:huggingface_hub.community.DiscussionWithDetails
author: mahdi-b
conflicting_files: null
created_at: 2022-11-24 00:59:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0c6250689237e4e359d35373997ddbb.svg
      fullname: Madi B
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mahdi-b
      type: user
    createdAt: '2022-11-24T00:59:57.000Z'
    data:
      edited: true
      editors:
      - mahdi-b
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0c6250689237e4e359d35373997ddbb.svg
          fullname: Madi B
          isHf: false
          isPro: false
          name: mahdi-b
          type: user
        html: '<p>The ESM2 <code>forward</code> function shuld also be able to take
          a <code>return_contacts</code> param but passing this param to the <code>transformers.model</code>
          returns an error.  In general, how can one pass parameters to a model wrapper
          by <code>transformers.models</code> class?<br>Thank you,</p>

          '
        raw: 'The ESM2 `forward` function shuld also be able to take a `return_contacts`
          param but passing this param to the `transformers.model` returns an error.  In
          general, how can one pass parameters to a model wrapper by `transformers.models`
          class?

          Thank you,'
        updatedAt: '2022-11-24T01:00:23.104Z'
      numEdits: 2
      reactions: []
    id: 637ec20dfb70160a3069a13d
    type: comment
  author: mahdi-b
  content: 'The ESM2 `forward` function shuld also be able to take a `return_contacts`
    param but passing this param to the `transformers.model` returns an error.  In
    general, how can one pass parameters to a model wrapper by `transformers.models`
    class?

    Thank you,'
  created_at: 2022-11-24 00:59:57+00:00
  edited: true
  hidden: false
  id: 637ec20dfb70160a3069a13d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660312628256-60ba519750effef3a58beac3.png?w=200&h=200&f=face
      fullname: Matthew Carrigan
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Rocketknight1
      type: user
    createdAt: '2022-11-28T15:15:59.000Z'
    data:
      edited: false
      editors:
      - Rocketknight1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660312628256-60ba519750effef3a58beac3.png?w=200&h=200&f=face
          fullname: Matthew Carrigan
          isHf: true
          isPro: false
          name: Rocketknight1
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;mahdi-b&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/mahdi-b\">@<span class=\"\
          underline\">mahdi-b</span></a></span>\n\n\t</span></span>! This parameter\
          \ is currently not supported in our port of ESM, but we're aiming to add\
          \ it in the next couple of weeks. Once it's added you should be able to\
          \ pass that argument.</p>\n"
        raw: Hi @mahdi-b! This parameter is currently not supported in our port of
          ESM, but we're aiming to add it in the next couple of weeks. Once it's added
          you should be able to pass that argument.
        updatedAt: '2022-11-28T15:15:59.507Z'
      numEdits: 0
      reactions: []
    id: 6384d0afe57073c0ba1910a0
    type: comment
  author: Rocketknight1
  content: Hi @mahdi-b! This parameter is currently not supported in our port of ESM,
    but we're aiming to add it in the next couple of weeks. Once it's added you should
    be able to pass that argument.
  created_at: 2022-11-28 15:15:59+00:00
  edited: false
  hidden: false
  id: 6384d0afe57073c0ba1910a0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0c6250689237e4e359d35373997ddbb.svg
      fullname: Madi B
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mahdi-b
      type: user
    createdAt: '2022-11-28T18:19:36.000Z'
    data:
      edited: false
      editors:
      - mahdi-b
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0c6250689237e4e359d35373997ddbb.svg
          fullname: Madi B
          isHf: false
          isPro: false
          name: mahdi-b
          type: user
        html: "<p>Thank you, <span data-props=\"{&quot;user&quot;:&quot;Rocketknight1&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Rocketknight1\"\
          >@<span class=\"underline\">Rocketknight1</span></a></span>\n\n\t</span></span>.</p>\n"
        raw: Thank you, @Rocketknight1.
        updatedAt: '2022-11-28T18:19:36.373Z'
      numEdits: 0
      reactions: []
    id: 6384fbb838f4aec99c4c5866
    type: comment
  author: mahdi-b
  content: Thank you, @Rocketknight1.
  created_at: 2022-11-28 18:19:36+00:00
  edited: false
  hidden: false
  id: 6384fbb838f4aec99c4c5866
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660312628256-60ba519750effef3a58beac3.png?w=200&h=200&f=face
      fullname: Matthew Carrigan
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Rocketknight1
      type: user
    createdAt: '2022-12-02T14:07:51.000Z'
    data:
      edited: false
      editors:
      - Rocketknight1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660312628256-60ba519750effef3a58beac3.png?w=200&h=200&f=face
          fullname: Matthew Carrigan
          isHf: true
          isPro: false
          name: Rocketknight1
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;mahdi-b&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/mahdi-b\">@<span class=\"\
          underline\">mahdi-b</span></a></span>\n\n\t</span></span>, this feature\
          \ has just been added. It is currently only available on the <code>main</code>\
          \ branch, but will be included in the next release of transformers, which\
          \ will probably be in January.</p>\n<p>You can install from main with the\
          \ command <code>pip install --upgrade git+https://github.com/huggingface/transformers.git</code>.\
          \ After that, you can use the <code>predict_contacts</code> method on any\
          \ ESM-2 or ESM-1b model. The method also exists on ESM-1v models, but the\
          \ head has not been trained there and so the results will be incorrect.\
          \ Because we just added this feature about ten minutes ago, please let me\
          \ know if you encounter any issues!</p>\n"
        raw: 'Hi @mahdi-b, this feature has just been added. It is currently only
          available on the `main` branch, but will be included in the next release
          of transformers, which will probably be in January.


          You can install from main with the command `pip install --upgrade git+https://github.com/huggingface/transformers.git`.
          After that, you can use the `predict_contacts` method on any ESM-2 or ESM-1b
          model. The method also exists on ESM-1v models, but the head has not been
          trained there and so the results will be incorrect. Because we just added
          this feature about ten minutes ago, please let me know if you encounter
          any issues!'
        updatedAt: '2022-12-02T14:07:51.468Z'
      numEdits: 0
      reactions: []
    id: 638a06b7203f0dcd24603501
    type: comment
  author: Rocketknight1
  content: 'Hi @mahdi-b, this feature has just been added. It is currently only available
    on the `main` branch, but will be included in the next release of transformers,
    which will probably be in January.


    You can install from main with the command `pip install --upgrade git+https://github.com/huggingface/transformers.git`.
    After that, you can use the `predict_contacts` method on any ESM-2 or ESM-1b model.
    The method also exists on ESM-1v models, but the head has not been trained there
    and so the results will be incorrect. Because we just added this feature about
    ten minutes ago, please let me know if you encounter any issues!'
  created_at: 2022-12-02 14:07:51+00:00
  edited: false
  hidden: false
  id: 638a06b7203f0dcd24603501
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0c6250689237e4e359d35373997ddbb.svg
      fullname: Madi B
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mahdi-b
      type: user
    createdAt: '2022-12-04T21:15:32.000Z'
    data:
      edited: true
      editors:
      - mahdi-b
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0c6250689237e4e359d35373997ddbb.svg
          fullname: Madi B
          isHf: false
          isPro: false
          name: mahdi-b
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Rocketknight1&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Rocketknight1\"\
          >@<span class=\"underline\">Rocketknight1</span></a></span>\n\n\t</span></span>,\
          \ thanks for adding that functionality and for taking the time to msg back\
          \ to inform me. I was going to send a message saying it wasn't working for\
          \ me  ( I was using <code>return_contacts=True</code> as an argument to\
          \ model), but I saw your most push in which you implemented it as a separate\
          \ method (<code>predict_contacts</code>). Works better since I don't actually\
          \ need the embeddings.<br>That said, it's customary to pass tokens to hugging\
          \ face models using the <code>input_ids</code> parameter rather than <code>tokens</code>\
          \ as implemented in <code>predict_contacts</code>, was that deliberate decision?<br>Thank\
          \ you!</p>\n"
        raw: '@Rocketknight1, thanks for adding that functionality and for taking
          the time to msg back to inform me. I was going to send a message saying
          it wasn''t working for me  ( I was using `return_contacts=True` as an argument
          to model), but I saw your most push in which you implemented it as a separate
          method (`predict_contacts`). Works better since I don''t actually need the
          embeddings.

          That said, it''s customary to pass tokens to hugging face models using the
          `input_ids` parameter rather than `tokens` as implemented in `predict_contacts`,
          was that deliberate decision?

          Thank you!'
        updatedAt: '2022-12-04T21:15:53.574Z'
      numEdits: 2
      reactions: []
    id: 638d0df4d1c4bf949b1a4d0f
    type: comment
  author: mahdi-b
  content: '@Rocketknight1, thanks for adding that functionality and for taking the
    time to msg back to inform me. I was going to send a message saying it wasn''t
    working for me  ( I was using `return_contacts=True` as an argument to model),
    but I saw your most push in which you implemented it as a separate method (`predict_contacts`).
    Works better since I don''t actually need the embeddings.

    That said, it''s customary to pass tokens to hugging face models using the `input_ids`
    parameter rather than `tokens` as implemented in `predict_contacts`, was that
    deliberate decision?

    Thank you!'
  created_at: 2022-12-04 21:15:32+00:00
  edited: true
  hidden: false
  id: 638d0df4d1c4bf949b1a4d0f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: facebook/esm2_t6_8M_UR50D
repo_type: model
status: open
target_branch: null
title: passing parameters to the underlying model's forward
