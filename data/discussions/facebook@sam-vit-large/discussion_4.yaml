!!python/object:huggingface_hub.community.DiscussionWithDetails
author: payamahv
conflicting_files: null
created_at: 2023-10-26 15:55:30+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3508132aa19e8804f81127a611e04f32.svg
      fullname: Payam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: payamahv
      type: user
    createdAt: '2023-10-26T16:55:30.000Z'
    data:
      edited: true
      editors:
      - payamahv
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4618256092071533
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3508132aa19e8804f81127a611e04f32.svg
          fullname: Payam
          isHf: false
          isPro: false
          name: payamahv
          type: user
        html: "<p>I am trying to pass an model to this model like this</p>\n<p>with\
          \ open(\"/root/aws-sam/02.JPG\", \"rb\") as f:<br>    data = f.read() </p>\n\
          <p>response = runtime.invoke_endpoint(EndpointName=ENDPOINT_NAME,<br>  \
          \                                 ContentType='image/jpeg',<br>        \
          \                             Body=data)</p>\n<p>result = json.loads(response['Body'].read().decode())</p>\n\
          <p>I am getting this error</p>\n<p>2023-10-26T09:42:33.354-07:00</p>\n<p>Copy<br>2023-10-26T16:42:33,265\
          \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ -     raise KeyError(key)<br>2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
          \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - raise KeyError(key)\tAllTraffic/i-0dad3e9d16762a67f</p>\n\
          <p>2023-10-26T09:42:33.354-07:00</p>\n<p>Copy<br>2023-10-26T16:42:33,265\
          \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ - KeyError: 'sam'<br>2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
          \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - KeyError: 'sam'\tAllTraffic/i-0dad3e9d16762a67f</p>\n\
          <p>2023-10-26T09:42:37.363-07:00</p>\n<p>Copy<br>2023-10-26T16:42:33,265\
          \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ - Model facebook__sam-vit-large loaded io_fd=966296fffe2e23f7-00000015-00000000-a9415483c6ddb70e-6cd401cc<br>2023-10-26T16:42:33,265\
          \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ - Model facebook__sam-vit-large loaded io_fd=966296fffe2e23f7-00000015-00000000-a9415483c6ddb70e-6cd401cc\t\
          </p>\n"
        raw: "I am trying to pass an model to this model like this\n\n\nwith open(\"\
          /root/aws-sam/02.JPG\", \"rb\") as f:\n    data = f.read() \n\nresponse\
          \ = runtime.invoke_endpoint(EndpointName=ENDPOINT_NAME,\n              \
          \                     ContentType='image/jpeg',  \n                    \
          \                 Body=data)\n    \nresult = json.loads(response['Body'].read().decode())\n\
          \    \n\nI am getting this error\n\n2023-10-26T09:42:33.354-07:00\n\nCopy\n\
          2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ -     raise KeyError(key)\n2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
          \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - raise KeyError(key)\tAllTraffic/i-0dad3e9d16762a67f\n\
          \n2023-10-26T09:42:33.354-07:00\n\nCopy\n2023-10-26T16:42:33,265 [INFO ]\
          \ W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ - KeyError: 'sam'\n2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
          \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - KeyError: 'sam'\tAllTraffic/i-0dad3e9d16762a67f\n\
          \n2023-10-26T09:42:37.363-07:00\n\nCopy\n2023-10-26T16:42:33,265 [INFO ]\
          \ W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ - Model facebook__sam-vit-large loaded io_fd=966296fffe2e23f7-00000015-00000000-a9415483c6ddb70e-6cd401cc\n\
          2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
          \ - Model facebook__sam-vit-large loaded io_fd=966296fffe2e23f7-00000015-00000000-a9415483c6ddb70e-6cd401cc\t"
        updatedAt: '2023-10-27T23:17:53.684Z'
      numEdits: 1
      reactions: []
    id: 653a9a02d994e992e264a41d
    type: comment
  author: payamahv
  content: "I am trying to pass an model to this model like this\n\n\nwith open(\"\
    /root/aws-sam/02.JPG\", \"rb\") as f:\n    data = f.read() \n\nresponse = runtime.invoke_endpoint(EndpointName=ENDPOINT_NAME,\n\
    \                                   ContentType='image/jpeg',  \n            \
    \                         Body=data)\n    \nresult = json.loads(response['Body'].read().decode())\n\
    \    \n\nI am getting this error\n\n2023-10-26T09:42:33.354-07:00\n\nCopy\n2023-10-26T16:42:33,265\
    \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
    \ -     raise KeyError(key)\n2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
    \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - raise KeyError(key)\tAllTraffic/i-0dad3e9d16762a67f\n\
    \n2023-10-26T09:42:33.354-07:00\n\nCopy\n2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
    \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - KeyError: 'sam'\n2023-10-26T16:42:33,265\
    \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
    \ - KeyError: 'sam'\tAllTraffic/i-0dad3e9d16762a67f\n\n2023-10-26T09:42:37.363-07:00\n\
    \nCopy\n2023-10-26T16:42:33,265 [INFO ] W-9000-facebook__sam-vit-large-stdout\
    \ com.amazonaws.ml.mms.wlm.WorkerLifeCycle - Model facebook__sam-vit-large loaded\
    \ io_fd=966296fffe2e23f7-00000015-00000000-a9415483c6ddb70e-6cd401cc\n2023-10-26T16:42:33,265\
    \ [INFO ] W-9000-facebook__sam-vit-large-stdout com.amazonaws.ml.mms.wlm.WorkerLifeCycle\
    \ - Model facebook__sam-vit-large loaded io_fd=966296fffe2e23f7-00000015-00000000-a9415483c6ddb70e-6cd401cc\t"
  created_at: 2023-10-26 15:55:30+00:00
  edited: true
  hidden: false
  id: 653a9a02d994e992e264a41d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618450692745-5e3aec01f55e2b62848a5217.jpeg?w=200&h=200&f=face
      fullname: Lysandre
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lysandre
      type: user
    createdAt: '2023-10-27T10:18:09.000Z'
    data:
      edited: false
      editors:
      - lysandre
      hidden: false
      identifiedLanguage:
        language: tr
        probability: 0.10496710985898972
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618450692745-5e3aec01f55e2b62848a5217.jpeg?w=200&h=200&f=face
          fullname: Lysandre
          isHf: true
          isPro: false
          name: lysandre
          type: user
        html: "<p>cc <span data-props=\"{&quot;user&quot;:&quot;ybelkada&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/ybelkada\"\
          >@<span class=\"underline\">ybelkada</span></a></span>\n\n\t</span></span>\
          \ </p>\n"
        raw: 'cc @ybelkada '
        updatedAt: '2023-10-27T10:18:09.867Z'
      numEdits: 0
      reactions: []
    id: 653b8e615e23130a2b06321f
    type: comment
  author: lysandre
  content: 'cc @ybelkada '
  created_at: 2023-10-27 09:18:09+00:00
  edited: false
  hidden: false
  id: 653b8e615e23130a2b06321f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2023-10-27T10:22:00.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9213334321975708
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;payamahv&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/payamahv\"\
          >@<span class=\"underline\">payamahv</span></a></span>\n\n\t</span></span><br>Thanks\
          \ for raising the issue, can you share a full reproducible small snippet\
          \ ? What is also the transformers version you are using?</p>\n"
        raw: "Hi @payamahv \nThanks for raising the issue, can you share a full reproducible\
          \ small snippet ? What is also the transformers version you are using?"
        updatedAt: '2023-10-27T10:22:00.391Z'
      numEdits: 0
      reactions: []
    id: 653b8f48f8cbc595fb3e41ea
    type: comment
  author: ybelkada
  content: "Hi @payamahv \nThanks for raising the issue, can you share a full reproducible\
    \ small snippet ? What is also the transformers version you are using?"
  created_at: 2023-10-27 09:22:00+00:00
  edited: false
  hidden: false
  id: 653b8f48f8cbc595fb3e41ea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3508132aa19e8804f81127a611e04f32.svg
      fullname: Payam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: payamahv
      type: user
    createdAt: '2023-10-27T23:13:08.000Z'
    data:
      edited: false
      editors:
      - payamahv
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8650209903717041
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3508132aa19e8804f81127a611e04f32.svg
          fullname: Payam
          isHf: false
          isPro: false
          name: payamahv
          type: user
        html: '<p> probably you just need to  just adding the latest transformers
          version (transformers==4.25.1) to the requirements.txt file .</p>

          <p>The issue is here:<br><a rel="nofollow" href="https://www.kaggle.com/code/vinayakshanawad/bring-your-bert-model-to-aws-sagemaker">https://www.kaggle.com/code/vinayakshanawad/bring-your-bert-model-to-aws-sagemaker</a></p>

          '
        raw: ' probably you just need to  just adding the latest transformers version
          (transformers==4.25.1) to the requirements.txt file .


          The issue is here:

          https://www.kaggle.com/code/vinayakshanawad/bring-your-bert-model-to-aws-sagemaker'
        updatedAt: '2023-10-27T23:13:08.239Z'
      numEdits: 0
      reactions: []
    id: 653c440481277ed968ef3a03
    type: comment
  author: payamahv
  content: ' probably you just need to  just adding the latest transformers version
    (transformers==4.25.1) to the requirements.txt file .


    The issue is here:

    https://www.kaggle.com/code/vinayakshanawad/bring-your-bert-model-to-aws-sagemaker'
  created_at: 2023-10-27 22:13:08+00:00
  edited: false
  hidden: false
  id: 653c440481277ed968ef3a03
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2023-10-28T09:52:18.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7264444231987
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;payamahv&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/payamahv\"\
          >@<span class=\"underline\">payamahv</span></a></span>\n\n\t</span></span><br>The\
          \ latest transformers version is <code>4.34.1</code>, can you update your\
          \ transformers version to the latest one and see if you get the same issue?</p>\n"
        raw: "Hi @payamahv \nThe latest transformers version is `4.34.1`, can you\
          \ update your transformers version to the latest one and see if you get\
          \ the same issue?"
        updatedAt: '2023-10-28T09:52:18.821Z'
      numEdits: 0
      reactions: []
    id: 653cd9d2aabbf15fc722802e
    type: comment
  author: ybelkada
  content: "Hi @payamahv \nThe latest transformers version is `4.34.1`, can you update\
    \ your transformers version to the latest one and see if you get the same issue?"
  created_at: 2023-10-28 08:52:18+00:00
  edited: false
  hidden: false
  id: 653cd9d2aabbf15fc722802e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: facebook/sam-vit-large
repo_type: model
status: open
target_branch: null
title: 'KeyError: ''sam'' error'
