!!python/object:huggingface_hub.community.DiscussionWithDetails
author: francisurias
conflicting_files: null
created_at: 2023-08-25 05:45:36+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6842c17d851fca312f71e60dc615187f.svg
      fullname: Francis
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: francisurias
      type: user
    createdAt: '2023-08-25T06:45:36.000Z'
    data:
      edited: false
      editors:
      - francisurias
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6764252185821533
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6842c17d851fca312f71e60dc615187f.svg
          fullname: Francis
          isHf: false
          isPro: false
          name: francisurias
          type: user
        html: "<p>Hi, </p>\n<p>I'm trying to deploy SAM as a SageMaker endpoint; I've\
          \ managed to deploy SAM as a SageMaker endpoint using the given deployment\
          \ code (found below), but I'm having difficulty doing the inference to the\
          \ endpoint because I'm unsure what the input for the endpoint is, is there\
          \ an example input I can try to do SAM inference on SageMaker?</p>\n<p>Thanks\
          \ for the help!</p>\n<pre><code>import sagemaker\nimport boto3\nfrom sagemaker.huggingface\
          \ import HuggingFaceModel\n\ntry:\n    role = sagemaker.get_execution_role()\n\
          except ValueError:\n    iam = boto3.client('iam')\n    role = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\n\
          \n# Hub Model configuration. https://huggingface.co/models\nhub = {\n  \
          \  'HF_MODEL_ID':'facebook/sam-vit-large',\n    'HF_TASK':'undefined'\n\
          }\n\n# create Hugging Face Model Class\nhuggingface_model = HuggingFaceModel(\n\
          \    transformers_version='4.26.0',\n    pytorch_version='1.13.1',\n   \
          \ py_version='py39',\n    env=hub,\n    role=role, \n)\n\n# deploy model\
          \ to SageMaker Inference\npredictor = huggingface_model.deploy(\n    initial_instance_count=1,\
          \ # number of instances\n    instance_type='ml.m5.xlarge' # ec2 instance\
          \ type\n)\n\n</code></pre>\n"
        raw: "Hi, \r\n\r\nI'm trying to deploy SAM as a SageMaker endpoint; I've managed\
          \ to deploy SAM as a SageMaker endpoint using the given deployment code\
          \ (found below), but I'm having difficulty doing the inference to the endpoint\
          \ because I'm unsure what the input for the endpoint is, is there an example\
          \ input I can try to do SAM inference on SageMaker?\r\n\r\nThanks for the\
          \ help!\r\n\r\n```\r\nimport sagemaker\r\nimport boto3\r\nfrom sagemaker.huggingface\
          \ import HuggingFaceModel\r\n\r\ntry:\r\n\trole = sagemaker.get_execution_role()\r\
          \nexcept ValueError:\r\n\tiam = boto3.client('iam')\r\n\trole = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\r\
          \n\r\n# Hub Model configuration. https://huggingface.co/models\r\nhub =\
          \ {\r\n\t'HF_MODEL_ID':'facebook/sam-vit-large',\r\n\t'HF_TASK':'undefined'\r\
          \n}\r\n\r\n# create Hugging Face Model Class\r\nhuggingface_model = HuggingFaceModel(\r\
          \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\t\
          py_version='py39',\r\n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\n# deploy model\
          \ to SageMaker Inference\r\npredictor = huggingface_model.deploy(\r\n\t\
          initial_instance_count=1, # number of instances\r\n\tinstance_type='ml.m5.xlarge'\
          \ # ec2 instance type\r\n)\r\n\r\n\r\n```"
        updatedAt: '2023-08-25T06:45:36.424Z'
      numEdits: 0
      reactions: []
    id: 64e84e1031442d6e3034078e
    type: comment
  author: francisurias
  content: "Hi, \r\n\r\nI'm trying to deploy SAM as a SageMaker endpoint; I've managed\
    \ to deploy SAM as a SageMaker endpoint using the given deployment code (found\
    \ below), but I'm having difficulty doing the inference to the endpoint because\
    \ I'm unsure what the input for the endpoint is, is there an example input I can\
    \ try to do SAM inference on SageMaker?\r\n\r\nThanks for the help!\r\n\r\n```\r\
    \nimport sagemaker\r\nimport boto3\r\nfrom sagemaker.huggingface import HuggingFaceModel\r\
    \n\r\ntry:\r\n\trole = sagemaker.get_execution_role()\r\nexcept ValueError:\r\n\
    \tiam = boto3.client('iam')\r\n\trole = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\r\
    \n\r\n# Hub Model configuration. https://huggingface.co/models\r\nhub = {\r\n\t\
    'HF_MODEL_ID':'facebook/sam-vit-large',\r\n\t'HF_TASK':'undefined'\r\n}\r\n\r\n\
    # create Hugging Face Model Class\r\nhuggingface_model = HuggingFaceModel(\r\n\
    \ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\tpy_version='py39',\r\
    \n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\n# deploy model to SageMaker Inference\r\
    \npredictor = huggingface_model.deploy(\r\n\tinitial_instance_count=1, # number\
    \ of instances\r\n\tinstance_type='ml.m5.xlarge' # ec2 instance type\r\n)\r\n\r\
    \n\r\n```"
  created_at: 2023-08-25 05:45:36+00:00
  edited: false
  hidden: false
  id: 64e84e1031442d6e3034078e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3508132aa19e8804f81127a611e04f32.svg
      fullname: Payam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: payamahv
      type: user
    createdAt: '2023-10-24T20:11:36.000Z'
    data:
      edited: false
      editors:
      - payamahv
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.982809841632843
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3508132aa19e8804f81127a611e04f32.svg
          fullname: Payam
          isHf: false
          isPro: false
          name: payamahv
          type: user
        html: '<p>I have the issue, any solution? </p>

          '
        raw: 'I have the issue, any solution? '
        updatedAt: '2023-10-24T20:11:36.346Z'
      numEdits: 0
      reactions: []
    id: 653824f81dd7a3dc459d6143
    type: comment
  author: payamahv
  content: 'I have the issue, any solution? '
  created_at: 2023-10-24 19:11:36+00:00
  edited: false
  hidden: false
  id: 653824f81dd7a3dc459d6143
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: facebook/sam-vit-large
repo_type: model
status: open
target_branch: null
title: SAM inference on SageMaker
