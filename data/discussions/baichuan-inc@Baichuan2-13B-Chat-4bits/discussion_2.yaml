!!python/object:huggingface_hub.community.DiscussionWithDetails
author: JianSun
conflicting_files: null
created_at: 2023-09-19 10:59:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e8898e9731095dfebea8eca8ce106865.svg
      fullname: Sun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JianSun
      type: user
    createdAt: '2023-09-19T11:59:05.000Z'
    data:
      edited: false
      editors:
      - JianSun
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.36290690302848816
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e8898e9731095dfebea8eca8ce106865.svg
          fullname: Sun
          isHf: false
          isPro: false
          name: JianSun
          type: user
        html: "<p>\u4E0B\u8F7D\u4E86\u6240\u6709\u7684\u6587\u4EF6\uFF0C\u5305\u62EC\
          \u5B8C\u6574\u7684pytorch_model.bin\u6587\u4EF6\uFF08\u56FE1\uFF09\uFF0C\
          \u4F46\u5728\u5F15\u5165\u6A21\u578B\u65F6\uFF08\u56FE2\uFF09\u62A5\u9519\
          \u201CNeeds import model weight init func to run quantize.\u201D\uFF0C\u62A5\
          \u9519\u4F4D\u7F6E\u662Fmodeling_baichuan.py\u6587\u4EF6\u7684\u7B2C611\u884C\
          \uFF0C\u4E0A\u4E0B\u6587\u5982\u56FE3\u3002\u8BF7\u95EE\u662Fbin\u6587\u4EF6\
          \u6709\u6B8B\u7F3A\u6216\u8005\u7F3A\u5C11\u5176\u4ED6model weight\u6587\
          \u4EF6\u5417\uFF1F<br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/PCI8wEQm8YZwnCsLKxhjn.png\"\
          ><img alt=\"1.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/PCI8wEQm8YZwnCsLKxhjn.png\"\
          ></a><br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/BMPY--4aAwJWsmNMgXWan.png\"\
          ><img alt=\"2.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/BMPY--4aAwJWsmNMgXWan.png\"\
          ></a><br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/r9612WOEiijynuKEYQt6f.png\"\
          ><img alt=\"3.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/r9612WOEiijynuKEYQt6f.png\"\
          ></a></p>\n"
        raw: "\u4E0B\u8F7D\u4E86\u6240\u6709\u7684\u6587\u4EF6\uFF0C\u5305\u62EC\u5B8C\
          \u6574\u7684pytorch_model.bin\u6587\u4EF6\uFF08\u56FE1\uFF09\uFF0C\u4F46\
          \u5728\u5F15\u5165\u6A21\u578B\u65F6\uFF08\u56FE2\uFF09\u62A5\u9519\u201C\
          Needs import model weight init func to run quantize.\u201D\uFF0C\u62A5\u9519\
          \u4F4D\u7F6E\u662Fmodeling_baichuan.py\u6587\u4EF6\u7684\u7B2C611\u884C\uFF0C\
          \u4E0A\u4E0B\u6587\u5982\u56FE3\u3002\u8BF7\u95EE\u662Fbin\u6587\u4EF6\u6709\
          \u6B8B\u7F3A\u6216\u8005\u7F3A\u5C11\u5176\u4ED6model weight\u6587\u4EF6\
          \u5417\uFF1F\r\n![1.png](https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/PCI8wEQm8YZwnCsLKxhjn.png)\r\
          \n![2.png](https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/BMPY--4aAwJWsmNMgXWan.png)\r\
          \n![3.png](https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/r9612WOEiijynuKEYQt6f.png)\r\
          \n"
        updatedAt: '2023-09-19T11:59:05.483Z'
      numEdits: 0
      reactions: []
    id: 65098d09f6a2bf0be7c89a34
    type: comment
  author: JianSun
  content: "\u4E0B\u8F7D\u4E86\u6240\u6709\u7684\u6587\u4EF6\uFF0C\u5305\u62EC\u5B8C\
    \u6574\u7684pytorch_model.bin\u6587\u4EF6\uFF08\u56FE1\uFF09\uFF0C\u4F46\u5728\
    \u5F15\u5165\u6A21\u578B\u65F6\uFF08\u56FE2\uFF09\u62A5\u9519\u201CNeeds import\
    \ model weight init func to run quantize.\u201D\uFF0C\u62A5\u9519\u4F4D\u7F6E\u662F\
    modeling_baichuan.py\u6587\u4EF6\u7684\u7B2C611\u884C\uFF0C\u4E0A\u4E0B\u6587\u5982\
    \u56FE3\u3002\u8BF7\u95EE\u662Fbin\u6587\u4EF6\u6709\u6B8B\u7F3A\u6216\u8005\u7F3A\
    \u5C11\u5176\u4ED6model weight\u6587\u4EF6\u5417\uFF1F\r\n![1.png](https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/PCI8wEQm8YZwnCsLKxhjn.png)\r\
    \n![2.png](https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/BMPY--4aAwJWsmNMgXWan.png)\r\
    \n![3.png](https://cdn-uploads.huggingface.co/production/uploads/64e48beeebeb049d7a70c874/r9612WOEiijynuKEYQt6f.png)\r\
    \n"
  created_at: 2023-09-19 10:59:05+00:00
  edited: false
  hidden: false
  id: 65098d09f6a2bf0be7c89a34
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e8898e9731095dfebea8eca8ce106865.svg
      fullname: Sun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JianSun
      type: user
    createdAt: '2023-09-19T12:04:14.000Z'
    data:
      edited: false
      editors:
      - JianSun
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9265077114105225
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e8898e9731095dfebea8eca8ce106865.svg
          fullname: Sun
          isHf: false
          isPro: false
          name: JianSun
          type: user
        html: "<p>\u8865\u5145\u80CC\u666F\uFF0C\u60F3\u8981\u4F7F\u7528cpu\u63A8\u7406\
          \uFF0C\u6240\u4EE5\u6CA1\u6709\u52A0\u53C2\u6570device_map=\"auto\"</p>\n"
        raw: "\u8865\u5145\u80CC\u666F\uFF0C\u60F3\u8981\u4F7F\u7528cpu\u63A8\u7406\
          \uFF0C\u6240\u4EE5\u6CA1\u6709\u52A0\u53C2\u6570device_map=\"auto\""
        updatedAt: '2023-09-19T12:04:14.743Z'
      numEdits: 0
      reactions: []
    id: 65098e3ece81b73e6363de16
    type: comment
  author: JianSun
  content: "\u8865\u5145\u80CC\u666F\uFF0C\u60F3\u8981\u4F7F\u7528cpu\u63A8\u7406\uFF0C\
    \u6240\u4EE5\u6CA1\u6709\u52A0\u53C2\u6570device_map=\"auto\""
  created_at: 2023-09-19 11:04:14+00:00
  edited: false
  hidden: false
  id: 65098e3ece81b73e6363de16
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
      fullname: wuzhiying2023
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: wuzhiying2023
      type: user
    createdAt: '2023-09-20T01:17:34.000Z'
    data:
      edited: false
      editors:
      - wuzhiying2023
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9728095531463623
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cd9725a883f4cc4ae64a3f35697e6533.svg
          fullname: wuzhiying2023
          isHf: false
          isPro: false
          name: wuzhiying2023
          type: user
        html: "<p>4bits\u76EE\u524D\u4E0D\u652F\u6301CPU\u63A8\u7406\uFF0C\u5982\u679C\
          \u4F60\u60F3\u7528cpu\u63A8\u7406\uFF0C\u6700\u597D\u7528\u975E\u91CF\u5316\
          \u7248\u672C\uFF0C\u4E14\u6700\u597D\u7528float32\u63A8\u7406\uFF0C\u56E0\
          \u4E3Afloat16\u5728cpu\u7AEF\u63A8\u7406\u53EF\u80FD\u5B58\u5728\u901F\u5EA6\
          \u6162\u6216\u8005\u7B97\u5B50\u4E0D\u652F\u6301\u60C5\u51B5</p>\n"
        raw: "4bits\u76EE\u524D\u4E0D\u652F\u6301CPU\u63A8\u7406\uFF0C\u5982\u679C\
          \u4F60\u60F3\u7528cpu\u63A8\u7406\uFF0C\u6700\u597D\u7528\u975E\u91CF\u5316\
          \u7248\u672C\uFF0C\u4E14\u6700\u597D\u7528float32\u63A8\u7406\uFF0C\u56E0\
          \u4E3Afloat16\u5728cpu\u7AEF\u63A8\u7406\u53EF\u80FD\u5B58\u5728\u901F\u5EA6\
          \u6162\u6216\u8005\u7B97\u5B50\u4E0D\u652F\u6301\u60C5\u51B5"
        updatedAt: '2023-09-20T01:17:34.017Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - JianSun
    id: 650a482ec19e5b4c8a67742b
    type: comment
  author: wuzhiying2023
  content: "4bits\u76EE\u524D\u4E0D\u652F\u6301CPU\u63A8\u7406\uFF0C\u5982\u679C\u4F60\
    \u60F3\u7528cpu\u63A8\u7406\uFF0C\u6700\u597D\u7528\u975E\u91CF\u5316\u7248\u672C\
    \uFF0C\u4E14\u6700\u597D\u7528float32\u63A8\u7406\uFF0C\u56E0\u4E3Afloat16\u5728\
    cpu\u7AEF\u63A8\u7406\u53EF\u80FD\u5B58\u5728\u901F\u5EA6\u6162\u6216\u8005\u7B97\
    \u5B50\u4E0D\u652F\u6301\u60C5\u51B5"
  created_at: 2023-09-20 00:17:34+00:00
  edited: false
  hidden: false
  id: 650a482ec19e5b4c8a67742b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5fa7a3fa563ce106c8d845d5283462d5.svg
      fullname: Jing
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: WJing123
      type: user
    createdAt: '2023-10-19T06:40:40.000Z'
    data:
      edited: false
      editors:
      - WJing123
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.975371241569519
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5fa7a3fa563ce106c8d845d5283462d5.svg
          fullname: Jing
          isHf: false
          isPro: false
          name: WJing123
          type: user
        html: "<p>\u6211\u4E5F\u662F\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F\u6211\
          \u7528\u4E86\u53C2\u6570device_map=\"auto\"\uFF0C\u8BF7\u95EE\u4E3A\u4EC0\
          \u4E48\u54C7\uFF1F</p>\n"
        raw: "\u6211\u4E5F\u662F\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F\u6211\u7528\
          \u4E86\u53C2\u6570device_map=\"auto\"\uFF0C\u8BF7\u95EE\u4E3A\u4EC0\u4E48\
          \u54C7\uFF1F"
        updatedAt: '2023-10-19T06:40:40.177Z'
      numEdits: 0
      reactions: []
    id: 6530cf683ecbe51d6a85816e
    type: comment
  author: WJing123
  content: "\u6211\u4E5F\u662F\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F\u6211\u7528\
    \u4E86\u53C2\u6570device_map=\"auto\"\uFF0C\u8BF7\u95EE\u4E3A\u4EC0\u4E48\u54C7\
    \uFF1F"
  created_at: 2023-10-19 05:40:40+00:00
  edited: false
  hidden: false
  id: 6530cf683ecbe51d6a85816e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5fa7a3fa563ce106c8d845d5283462d5.svg
      fullname: Jing
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: WJing123
      type: user
    createdAt: '2023-10-20T01:15:57.000Z'
    data:
      edited: false
      editors:
      - WJing123
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9389864802360535
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5fa7a3fa563ce106c8d845d5283462d5.svg
          fullname: Jing
          isHf: false
          isPro: false
          name: WJing123
          type: user
        html: "<blockquote>\n<p>\u6211\u4E5F\u662F\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\
          \u662F\u6211\u7528\u4E86\u53C2\u6570device_map=\"auto\"\uFF0C\u8BF7\u95EE\
          \u4E3A\u4EC0\u4E48\u54C7\uFF1F</p>\n</blockquote>\n<p>\u5DF2\u89E3\u51B3\
          \uFF0Caccelerate\u4FEE\u6539\u4E3A0.23.0</p>\n"
        raw: "> \u6211\u4E5F\u662F\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F\u6211\
          \u7528\u4E86\u53C2\u6570device_map=\"auto\"\uFF0C\u8BF7\u95EE\u4E3A\u4EC0\
          \u4E48\u54C7\uFF1F\n\n\u5DF2\u89E3\u51B3\uFF0Caccelerate\u4FEE\u6539\u4E3A\
          0.23.0"
        updatedAt: '2023-10-20T01:15:57.418Z'
      numEdits: 0
      reactions: []
    id: 6531d4cdb8eda78acc9e851b
    type: comment
  author: WJing123
  content: "> \u6211\u4E5F\u662F\u8FD9\u4E2A\u95EE\u9898\uFF0C\u4F46\u662F\u6211\u7528\
    \u4E86\u53C2\u6570device_map=\"auto\"\uFF0C\u8BF7\u95EE\u4E3A\u4EC0\u4E48\u54C7\
    \uFF1F\n\n\u5DF2\u89E3\u51B3\uFF0Caccelerate\u4FEE\u6539\u4E3A0.23.0"
  created_at: 2023-10-20 00:15:57+00:00
  edited: false
  hidden: false
  id: 6531d4cdb8eda78acc9e851b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1d3ad778279ddb97f8cc371e49a3a548.svg
      fullname: zouyonghua
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dkzyh
      type: user
    createdAt: '2023-10-21T12:44:01.000Z'
    data:
      edited: true
      editors:
      - dkzyh
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.97850102186203
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1d3ad778279ddb97f8cc371e49a3a548.svg
          fullname: zouyonghua
          isHf: false
          isPro: false
          name: dkzyh
          type: user
        html: "<p>\u6211\u4E0A\u9762\u7684accelerate\u662F0.23.0\uFF0C\u8FD8\u662F\
          \u6709\u8FD9\u4E2A\u95EE\u9898\u3002</p>\n<p>\u901A\u8FC7\u6267\u884Cpip\u5B89\
          \u88C5xformers\u3001scipy<br>\u7136\u540E\u5728tokenization_baichuan.py\u4E2D\
          \u5C06self.sp_model = spm.SentencePieceProcessor(**self.sp_model_kwargs)\u653E\
          \u5728super().<strong>init</strong>()\u4E4B\u524D\u5373\u53EF\u3002</p>\n"
        raw: "\u6211\u4E0A\u9762\u7684accelerate\u662F0.23.0\uFF0C\u8FD8\u662F\u6709\
          \u8FD9\u4E2A\u95EE\u9898\u3002\n\n\u901A\u8FC7\u6267\u884Cpip\u5B89\u88C5\
          xformers\u3001scipy\n\u7136\u540E\u5728tokenization_baichuan.py\u4E2D\u5C06\
          self.sp_model = spm.SentencePieceProcessor(**self.sp_model_kwargs)\u653E\
          \u5728super().__init__()\u4E4B\u524D\u5373\u53EF\u3002"
        updatedAt: '2023-10-24T04:57:51.528Z'
      numEdits: 2
      reactions: []
    id: 6533c791fca2c10e43dd079a
    type: comment
  author: dkzyh
  content: "\u6211\u4E0A\u9762\u7684accelerate\u662F0.23.0\uFF0C\u8FD8\u662F\u6709\
    \u8FD9\u4E2A\u95EE\u9898\u3002\n\n\u901A\u8FC7\u6267\u884Cpip\u5B89\u88C5xformers\u3001\
    scipy\n\u7136\u540E\u5728tokenization_baichuan.py\u4E2D\u5C06self.sp_model = spm.SentencePieceProcessor(**self.sp_model_kwargs)\u653E\
    \u5728super().__init__()\u4E4B\u524D\u5373\u53EF\u3002"
  created_at: 2023-10-21 11:44:01+00:00
  edited: true
  hidden: false
  id: 6533c791fca2c10e43dd079a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: baichuan-inc/Baichuan2-13B-Chat-4bits
repo_type: model
status: open
target_branch: null
title: "\u4E0B\u8F7D\u4E86\u6240\u6709\u6587\u4EF6\u4F46\u62A5\u9519\u201CNeeds import\
  \ model weight init func to run quantize.\u201D"
