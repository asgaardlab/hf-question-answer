!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Arcticweasel
conflicting_files: null
created_at: 2022-08-12 08:21:45+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/32676adc0cc4d621813a0217c8f0440c.svg
      fullname: Laura Noetzel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Arcticweasel
      type: user
    createdAt: '2022-08-12T09:21:45.000Z'
    data:
      edited: false
      editors:
      - Arcticweasel
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/32676adc0cc4d621813a0217c8f0440c.svg
          fullname: Laura Noetzel
          isHf: false
          isPro: false
          name: Arcticweasel
          type: user
        html: '<p>Hello everyone,</p>

          <p>I wondered if it is possible to receive the probabilities for the different
          classes as an output when using your package instead of the predicted class
          with the highest probability? </p>

          <p>Thanks in advance for any responses!</p>

          '
        raw: "Hello everyone,\r\n\r\nI wondered if it is possible to receive the probabilities\
          \ for the different classes as an output when using your package instead\
          \ of the predicted class with the highest probability? \r\n\r\nThanks in\
          \ advance for any responses!"
        updatedAt: '2022-08-12T09:21:45.594Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F91D"
        users:
        - tanjafranziska
    id: 62f61ba9d3bdacb7eebc895d
    type: comment
  author: Arcticweasel
  content: "Hello everyone,\r\n\r\nI wondered if it is possible to receive the probabilities\
    \ for the different classes as an output when using your package instead of the\
    \ predicted class with the highest probability? \r\n\r\nThanks in advance for\
    \ any responses!"
  created_at: 2022-08-12 08:21:45+00:00
  edited: false
  hidden: false
  id: 62f61ba9d3bdacb7eebc895d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/71eab6d8b0c6aca3619b285e69a4017a.svg
      fullname: Tanja Pfaffel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tanjafranziska
      type: user
    createdAt: '2022-09-06T11:49:11.000Z'
    data:
      edited: false
      editors:
      - tanjafranziska
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/71eab6d8b0c6aca3619b285e69a4017a.svg
          fullname: Tanja Pfaffel
          isHf: false
          isPro: false
          name: tanjafranziska
          type: user
        html: "<p>Take the original code from <a rel=\"nofollow\" href=\"https://github.com/oliverguhr/german-sentiment-lib/blob/master/germansentiment/sentimentmodel.py\"\
          >https://github.com/oliverguhr/german-sentiment-lib/blob/master/germansentiment/sentimentmodel.py</a>\
          \ and change the last two lines of the predict_sentiment function to</p>\n\
          <pre><code>    probs = torch.nn.functional.softmax(logits[0], dim=-1).tolist()\n\
          \    label_ids = torch.argmax(logits[0], axis=1)\n    return ([self.model.config.id2label[label_id.item()]\
          \ for label_id in label_ids], probs)\n</code></pre>\n<p>You will get the\
          \ probabilities for positive, negative and neutral when calling the predict_sentiment\
          \ function like</p>\n<pre><code>    preds, probs = model.predict_sentiment(texts)\n\
          </code></pre>\n"
        raw: "Take the original code from https://github.com/oliverguhr/german-sentiment-lib/blob/master/germansentiment/sentimentmodel.py\
          \ and change the last two lines of the predict_sentiment function to\n\n\
          \        probs = torch.nn.functional.softmax(logits[0], dim=-1).tolist()\n\
          \        label_ids = torch.argmax(logits[0], axis=1)\n        return ([self.model.config.id2label[label_id.item()]\
          \ for label_id in label_ids], probs)\n\nYou will get the probabilities for\
          \ positive, negative and neutral when calling the predict_sentiment function\
          \ like\n\n        preds, probs = model.predict_sentiment(texts)"
        updatedAt: '2022-09-06T11:49:11.174Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F91D"
        users:
        - ahjorth
        - Arcticweasel
    id: 631733b70dc3e0e8bc026185
    type: comment
  author: tanjafranziska
  content: "Take the original code from https://github.com/oliverguhr/german-sentiment-lib/blob/master/germansentiment/sentimentmodel.py\
    \ and change the last two lines of the predict_sentiment function to\n\n     \
    \   probs = torch.nn.functional.softmax(logits[0], dim=-1).tolist()\n        label_ids\
    \ = torch.argmax(logits[0], axis=1)\n        return ([self.model.config.id2label[label_id.item()]\
    \ for label_id in label_ids], probs)\n\nYou will get the probabilities for positive,\
    \ negative and neutral when calling the predict_sentiment function like\n\n  \
    \      preds, probs = model.predict_sentiment(texts)"
  created_at: 2022-09-06 10:49:11+00:00
  edited: false
  hidden: false
  id: 631733b70dc3e0e8bc026185
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5ea841a70d1df220780f0433/rpEmnBmuIImkp2yo_pzfO.jpeg?w=200&h=200&f=face
      fullname: Oliver Guhr
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: oliverguhr
      type: user
    createdAt: '2022-10-10T10:16:31.000Z'
    data:
      edited: false
      editors:
      - oliverguhr
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5ea841a70d1df220780f0433/rpEmnBmuIImkp2yo_pzfO.jpeg?w=200&h=200&f=face
          fullname: Oliver Guhr
          isHf: false
          isPro: false
          name: oliverguhr
          type: user
        html: "<p>Thanks <span data-props=\"{&quot;user&quot;:&quot;Arcticweasel&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Arcticweasel\"\
          >@<span class=\"underline\">Arcticweasel</span></a></span>\n\n\t</span></span>\
          \ and <span data-props=\"{&quot;user&quot;:&quot;tanjafranziska&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/tanjafranziska\"\
          >@<span class=\"underline\">tanjafranziska</span></a></span>\n\n\t</span></span>!\
          \ I added an API feature for the  class probabilities:</p>\n<pre><code class=\"\
          language-python\"><span class=\"hljs-keyword\">from</span> germansentiment\
          \ <span class=\"hljs-keyword\">import</span> SentimentModel\n\nmodel = SentimentModel()\n\
          \nclasses, probabilities = model.predict_sentiment([<span class=\"hljs-string\"\
          >\"das ist super\"</span>], output_probabilities = <span class=\"hljs-literal\"\
          >True</span>) \n<span class=\"hljs-built_in\">print</span>(classes, probabilities)\n\
          </code></pre>\n<pre><code class=\"language-python\">[<span class=\"hljs-string\"\
          >'positive'</span>] [[[<span class=\"hljs-string\">'positive'</span>, <span\
          \ class=\"hljs-number\">0.9761366844177246</span>], [<span class=\"hljs-string\"\
          >'negative'</span>, <span class=\"hljs-number\">0.023540444672107697</span>],\
          \ [<span class=\"hljs-string\">'neutral'</span>, <span class=\"hljs-number\"\
          >0.00032294404809363186</span>]]]\n</code></pre>\n"
        raw: "Thanks @Arcticweasel and @tanjafranziska! I added an API feature for\
          \ the  class probabilities:\n\n\n```python\nfrom germansentiment import\
          \ SentimentModel\n\nmodel = SentimentModel()\n\nclasses, probabilities =\
          \ model.predict_sentiment([\"das ist super\"], output_probabilities = True)\
          \ \nprint(classes, probabilities)\n```\n```python\n['positive'] [[['positive',\
          \ 0.9761366844177246], ['negative', 0.023540444672107697], ['neutral', 0.00032294404809363186]]]\n\
          ```\n"
        updatedAt: '2022-10-10T10:16:31.115Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6343f0ffe01a38440ef0f14b
    id: 6343f0ffe01a38440ef0f14a
    type: comment
  author: oliverguhr
  content: "Thanks @Arcticweasel and @tanjafranziska! I added an API feature for the\
    \  class probabilities:\n\n\n```python\nfrom germansentiment import SentimentModel\n\
    \nmodel = SentimentModel()\n\nclasses, probabilities = model.predict_sentiment([\"\
    das ist super\"], output_probabilities = True) \nprint(classes, probabilities)\n\
    ```\n```python\n['positive'] [[['positive', 0.9761366844177246], ['negative',\
    \ 0.023540444672107697], ['neutral', 0.00032294404809363186]]]\n```\n"
  created_at: 2022-10-10 09:16:31+00:00
  edited: false
  hidden: false
  id: 6343f0ffe01a38440ef0f14a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5ea841a70d1df220780f0433/rpEmnBmuIImkp2yo_pzfO.jpeg?w=200&h=200&f=face
      fullname: Oliver Guhr
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: oliverguhr
      type: user
    createdAt: '2022-10-10T10:16:31.000Z'
    data:
      status: closed
    id: 6343f0ffe01a38440ef0f14b
    type: status-change
  author: oliverguhr
  created_at: 2022-10-10 09:16:31+00:00
  id: 6343f0ffe01a38440ef0f14b
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: oliverguhr/german-sentiment-bert
repo_type: model
status: closed
target_branch: null
title: Class Probabilities as Output
