!!python/object:huggingface_hub.community.DiscussionWithDetails
author: therealdarkknight
conflicting_files: null
created_at: 2022-11-26 20:35:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e28d53107074d02774311763ca910f97.svg
      fullname: Danyil Blyschak
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: therealdarkknight
      type: user
    createdAt: '2022-11-26T20:35:57.000Z'
    data:
      edited: false
      editors:
      - therealdarkknight
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e28d53107074d02774311763ca910f97.svg
          fullname: Danyil Blyschak
          isHf: false
          isPro: false
          name: therealdarkknight
          type: user
        html: '<p>Am I the only one struggling to get non-noisy outputs using any
          schedule other than EulerDiscrete? Happy to hear what others have tried/done/noticed.</p>

          '
        raw: Am I the only one struggling to get non-noisy outputs using any schedule
          other than EulerDiscrete? Happy to hear what others have tried/done/noticed.
        updatedAt: '2022-11-26T20:35:57.506Z'
      numEdits: 0
      reactions: []
    id: 638278ada18d1ca096556d73
    type: comment
  author: therealdarkknight
  content: Am I the only one struggling to get non-noisy outputs using any schedule
    other than EulerDiscrete? Happy to hear what others have tried/done/noticed.
  created_at: 2022-11-26 20:35:57+00:00
  edited: false
  hidden: false
  id: 638278ada18d1ca096556d73
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1637711517996-6039478ab3ecf716b1a5fd4d.jpeg?w=200&h=200&f=face
      fullname: taesiri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: taesiri
      type: user
    createdAt: '2022-11-27T19:40:48.000Z'
    data:
      edited: false
      editors:
      - taesiri
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1637711517996-6039478ab3ecf716b1a5fd4d.jpeg?w=200&h=200&f=face
          fullname: taesiri
          isHf: false
          isPro: true
          name: taesiri
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;therealdarkknight&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/therealdarkknight\"\
          >@<span class=\"underline\">therealdarkknight</span></a></span>\n\n\t</span></span>\
          \ </p>\n<p>According to the docs <code>DDIMScheduler</code>, <code>LMSDiscreteScheduler</code>,\
          \ and <code>PNDMScheduler</code> should work.</p>\n<pre><code>A scheduler\
          \ to be used in combination with `unet` to denoise the encoded image latents.\
          \ Can be one of\n        [`DDIMScheduler`], [`LMSDiscreteScheduler`], or\
          \ [`PNDMScheduler`].\n</code></pre>\n<p>I tested <code>DDIMScheduler</code>\
          \ and It worked as expected, but just like you<code>PNDMScheduler</code>\
          \ and <code>LMSDiscreteScheduler</code> are producing noisy output.</p>\n"
        raw: "Hello @therealdarkknight \n\nAccording to the docs `DDIMScheduler`,\
          \ `LMSDiscreteScheduler`, and `PNDMScheduler` should work.\n\n```\nA scheduler\
          \ to be used in combination with `unet` to denoise the encoded image latents.\
          \ Can be one of\n        [`DDIMScheduler`], [`LMSDiscreteScheduler`], or\
          \ [`PNDMScheduler`].\n```\n\nI tested `DDIMScheduler` and It worked as expected,\
          \ but just like you`PNDMScheduler` and `LMSDiscreteScheduler` are producing\
          \ noisy output."
        updatedAt: '2022-11-27T19:40:48.290Z'
      numEdits: 0
      reactions: []
    id: 6383bd404c48969dcf1a81b6
    type: comment
  author: taesiri
  content: "Hello @therealdarkknight \n\nAccording to the docs `DDIMScheduler`, `LMSDiscreteScheduler`,\
    \ and `PNDMScheduler` should work.\n\n```\nA scheduler to be used in combination\
    \ with `unet` to denoise the encoded image latents. Can be one of\n        [`DDIMScheduler`],\
    \ [`LMSDiscreteScheduler`], or [`PNDMScheduler`].\n```\n\nI tested `DDIMScheduler`\
    \ and It worked as expected, but just like you`PNDMScheduler` and `LMSDiscreteScheduler`\
    \ are producing noisy output."
  created_at: 2022-11-27 19:40:48+00:00
  edited: false
  hidden: false
  id: 6383bd404c48969dcf1a81b6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b51c0b98aad43a8253b64f98e60f0c3d.svg
      fullname: Chris
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: enzokro
      type: user
    createdAt: '2022-11-27T22:29:24.000Z'
    data:
      edited: true
      editors:
      - enzokro
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b51c0b98aad43a8253b64f98e60f0c3d.svg
          fullname: Chris
          isHf: false
          isPro: false
          name: enzokro
          type: user
        html: '<p>Hi all, maybe related. But it seems that the current file in this
          folder builds a DDIM scheduler by default.</p>

          <p>However, looking at the docs:<br><a href="https://huggingface.co/docs/diffusers/v0.9.0/en/api/schedulers#diffusers.DDIMScheduler">https://huggingface.co/docs/diffusers/v0.9.0/en/api/schedulers#diffusers.DDIMScheduler</a></p>

          <p>It says the following:<br><code>v-prediction is not supported for this
          class. </code> (Edit: yup. the docs are just outdated. The scheduler has
          an arg for v-prediction now).</p>

          <p>We need some special handling v-prediction schedulers, specifically for
          the 768x768 model. </p>

          <p><strong>NOTE</strong>: The following schedulers support "v_prediction"
          at the moment, but I had to manually pass the argument:</p>

          <ul>

          <li>Euler</li>

          <li>DDIM</li>

          <li>DPMSolverMultistepScheduler</li>

          <li>DDPM</li>

          </ul>

          <p>The LMS scheduler is still missing the argument for v_prediction.</p>

          <p>Edit 2: it seems the AUTOMATIC1111 webui was able to properly integrate
          a bunch of different samplers from <code>k_diffusion</code>. I noticed there
          is a  HuggingFace community example for integrating <code>k_diffusion</code>
          with diffusers, but it is broken for Stable Diffusion v2. Specifically the
          v_prediction part. Looking through the web-ui code, we''ll probably need
          more wrapping and proper handling of v_prediction to use the k_diffusion
          classes.</p>

          '
        raw: "Hi all, maybe related. But it seems that the current file in this folder\
          \ builds a DDIM scheduler by default.\n\nHowever, looking at the docs:\n\
          https://huggingface.co/docs/diffusers/v0.9.0/en/api/schedulers#diffusers.DDIMScheduler\n\
          \nIt says the following:\n`v-prediction is not supported for this class.\
          \ ` (Edit: yup. the docs are just outdated. The scheduler has an arg for\
          \ v-prediction now).\n\nWe need some special handling v-prediction schedulers,\
          \ specifically for the 768x768 model. \n\n**NOTE**: The following schedulers\
          \ support \"v_prediction\" at the moment, but I had to manually pass the\
          \ argument:\n- Euler\n- DDIM\n- DPMSolverMultistepScheduler\n- DDPM\n\n\
          The LMS scheduler is still missing the argument for v_prediction.\n\nEdit\
          \ 2: it seems the AUTOMATIC1111 webui was able to properly integrate a bunch\
          \ of different samplers from `k_diffusion`. I noticed there is a  HuggingFace\
          \ community example for integrating `k_diffusion` with diffusers, but it\
          \ is broken for Stable Diffusion v2. Specifically the v_prediction part.\
          \ Looking through the web-ui code, we'll probably need more wrapping and\
          \ proper handling of v_prediction to use the k_diffusion classes."
        updatedAt: '2022-11-28T01:20:00.221Z'
      numEdits: 8
      reactions:
      - count: 1
        reaction: "\U0001F91D"
        users:
        - taesiri
    id: 6383e4c459424581c3603f0f
    type: comment
  author: enzokro
  content: "Hi all, maybe related. But it seems that the current file in this folder\
    \ builds a DDIM scheduler by default.\n\nHowever, looking at the docs:\nhttps://huggingface.co/docs/diffusers/v0.9.0/en/api/schedulers#diffusers.DDIMScheduler\n\
    \nIt says the following:\n`v-prediction is not supported for this class. ` (Edit:\
    \ yup. the docs are just outdated. The scheduler has an arg for v-prediction now).\n\
    \nWe need some special handling v-prediction schedulers, specifically for the\
    \ 768x768 model. \n\n**NOTE**: The following schedulers support \"v_prediction\"\
    \ at the moment, but I had to manually pass the argument:\n- Euler\n- DDIM\n-\
    \ DPMSolverMultistepScheduler\n- DDPM\n\nThe LMS scheduler is still missing the\
    \ argument for v_prediction.\n\nEdit 2: it seems the AUTOMATIC1111 webui was able\
    \ to properly integrate a bunch of different samplers from `k_diffusion`. I noticed\
    \ there is a  HuggingFace community example for integrating `k_diffusion` with\
    \ diffusers, but it is broken for Stable Diffusion v2. Specifically the v_prediction\
    \ part. Looking through the web-ui code, we'll probably need more wrapping and\
    \ proper handling of v_prediction to use the k_diffusion classes."
  created_at: 2022-11-27 22:29:24+00:00
  edited: true
  hidden: false
  id: 6383e4c459424581c3603f0f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-11-28T12:01:20.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: '<p>DPMEncoder also works with stable diffusion 2 as can be seen in
          the official examples:<br><a href="https://huggingface.co/docs/diffusers/api/pipelines/stable_diffusion_2#tips">https://huggingface.co/docs/diffusers/api/pipelines/stable_diffusion_2#tips</a></p>

          '
        raw: "DPMEncoder also works with stable diffusion 2 as can be seen in the\
          \ official examples: \nhttps://huggingface.co/docs/diffusers/api/pipelines/stable_diffusion_2#tips"
        updatedAt: '2022-11-28T12:01:20.045Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - enzokro
    id: 6384a310cafe4e4ac4045431
    type: comment
  author: patrickvonplaten
  content: "DPMEncoder also works with stable diffusion 2 as can be seen in the official\
    \ examples: \nhttps://huggingface.co/docs/diffusers/api/pipelines/stable_diffusion_2#tips"
  created_at: 2022-11-28 12:01:20+00:00
  edited: false
  hidden: false
  id: 6384a310cafe4e4ac4045431
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 17
repo_id: stabilityai/stable-diffusion-2
repo_type: model
status: open
target_branch: null
title: Does this model only work with the Euler Discrete scheduler?
