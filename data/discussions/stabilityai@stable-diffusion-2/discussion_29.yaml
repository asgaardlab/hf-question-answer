!!python/object:huggingface_hub.community.DiscussionWithDetails
author: linkanjarad
conflicting_files: null
created_at: 2022-12-04 04:54:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62563c7c25cfd82dbb086f33/a3ATolZTIAkwORg8R_oSS.png?w=200&h=200&f=face
      fullname: Link An Jarad
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: linkanjarad
      type: user
    createdAt: '2022-12-04T04:54:37.000Z'
    data:
      edited: false
      editors:
      - linkanjarad
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62563c7c25cfd82dbb086f33/a3ATolZTIAkwORg8R_oSS.png?w=200&h=200&f=face
          fullname: Link An Jarad
          isHf: false
          isPro: false
          name: linkanjarad
          type: user
        html: "<p>Running the example code on the model card gives an error:</p>\n\
          <pre><code class=\"language-python\">      <span class=\"hljs-number\">5</span>\
          \ <span class=\"hljs-comment\"># Use the Euler scheduler here instead</span>\n\
          \      <span class=\"hljs-number\">6</span> scheduler = EulerDiscreteScheduler.from_pretrained(model_id,\
          \ subfolder=<span class=\"hljs-string\">\"scheduler\"</span>)\n----&gt;\
          \ <span class=\"hljs-number\">7</span> pipe = StableDiffusionPipeline.from_pretrained(model_id,\
          \ scheduler=scheduler, revision=<span class=\"hljs-string\">\"fp16\"</span>,\
          \ torch_dtype=torch.float16)\n      <span class=\"hljs-number\">8</span>\
          \ pipe = pipe.to(<span class=\"hljs-string\">\"cuda\"</span>)\n\n<span class=\"\
          hljs-number\">6</span> frames\n/usr/local/lib/python3<span class=\"hljs-number\"\
          >.8</span>/dist-packages/diffusers/models/unet_2d_blocks.py <span class=\"\
          hljs-keyword\">in</span> __init__(self, in_channels, out_channels, temb_channels,\
          \ dropout, num_layers, resnet_eps, resnet_time_scale_shift, resnet_act_fn,\
          \ resnet_groups, resnet_pre_norm, attn_num_head_channels, cross_attention_dim,\
          \ attention_type, output_scale_factor, downsample_padding, add_downsample,\
          \ dual_cross_attention)\n    <span class=\"hljs-number\">552</span>    \
          \                 Transformer2DModel(\n    <span class=\"hljs-number\">553</span>\
          \                         attn_num_head_channels,\n--&gt; <span class=\"\
          hljs-number\">554</span>                         out_channels // attn_num_head_channels,\n\
          \    <span class=\"hljs-number\">555</span>                         in_channels=out_channels,\n\
          \    <span class=\"hljs-number\">556</span>                         num_layers=<span\
          \ class=\"hljs-number\">1</span>,\n\nTypeError: unsupported operand <span\
          \ class=\"hljs-built_in\">type</span>(s) <span class=\"hljs-keyword\">for</span>\
          \ //: <span class=\"hljs-string\">'int'</span> <span class=\"hljs-keyword\"\
          >and</span> <span class=\"hljs-string\">'list'</span>\n</code></pre>\n"
        raw: "Running the example code on the model card gives an error:\r\n\r\n```python\r\
          \n      5 # Use the Euler scheduler here instead\r\n      6 scheduler =\
          \ EulerDiscreteScheduler.from_pretrained(model_id, subfolder=\"scheduler\"\
          )\r\n----> 7 pipe = StableDiffusionPipeline.from_pretrained(model_id, scheduler=scheduler,\
          \ revision=\"fp16\", torch_dtype=torch.float16)\r\n      8 pipe = pipe.to(\"\
          cuda\")\r\n\r\n6 frames\r\n/usr/local/lib/python3.8/dist-packages/diffusers/models/unet_2d_blocks.py\
          \ in __init__(self, in_channels, out_channels, temb_channels, dropout, num_layers,\
          \ resnet_eps, resnet_time_scale_shift, resnet_act_fn, resnet_groups, resnet_pre_norm,\
          \ attn_num_head_channels, cross_attention_dim, attention_type, output_scale_factor,\
          \ downsample_padding, add_downsample, dual_cross_attention)\r\n    552 \
          \                    Transformer2DModel(\r\n    553                    \
          \     attn_num_head_channels,\r\n--> 554                         out_channels\
          \ // attn_num_head_channels,\r\n    555                         in_channels=out_channels,\r\
          \n    556                         num_layers=1,\r\n\r\nTypeError: unsupported\
          \ operand type(s) for //: 'int' and 'list'\r\n```"
        updatedAt: '2022-12-04T04:54:37.222Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - ddxue
    id: 638c280de775b31ff3215690
    type: comment
  author: linkanjarad
  content: "Running the example code on the model card gives an error:\r\n\r\n```python\r\
    \n      5 # Use the Euler scheduler here instead\r\n      6 scheduler = EulerDiscreteScheduler.from_pretrained(model_id,\
    \ subfolder=\"scheduler\")\r\n----> 7 pipe = StableDiffusionPipeline.from_pretrained(model_id,\
    \ scheduler=scheduler, revision=\"fp16\", torch_dtype=torch.float16)\r\n     \
    \ 8 pipe = pipe.to(\"cuda\")\r\n\r\n6 frames\r\n/usr/local/lib/python3.8/dist-packages/diffusers/models/unet_2d_blocks.py\
    \ in __init__(self, in_channels, out_channels, temb_channels, dropout, num_layers,\
    \ resnet_eps, resnet_time_scale_shift, resnet_act_fn, resnet_groups, resnet_pre_norm,\
    \ attn_num_head_channels, cross_attention_dim, attention_type, output_scale_factor,\
    \ downsample_padding, add_downsample, dual_cross_attention)\r\n    552       \
    \              Transformer2DModel(\r\n    553                         attn_num_head_channels,\r\
    \n--> 554                         out_channels // attn_num_head_channels,\r\n\
    \    555                         in_channels=out_channels,\r\n    556        \
    \                 num_layers=1,\r\n\r\nTypeError: unsupported operand type(s)\
    \ for //: 'int' and 'list'\r\n```"
  created_at: 2022-12-04 04:54:37+00:00
  edited: false
  hidden: false
  id: 638c280de775b31ff3215690
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fc6407862f9fbb7ab3179c981337ec1e.svg
      fullname: David Xue
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ddxue
      type: user
    createdAt: '2022-12-07T00:41:44.000Z'
    data:
      edited: false
      editors:
      - ddxue
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fc6407862f9fbb7ab3179c981337ec1e.svg
          fullname: David Xue
          isHf: false
          isPro: false
          name: ddxue
          type: user
        html: '<p>Fixed here I believe: <a rel="nofollow" href="https://github.com/huggingface/diffusers/pull/1397">https://github.com/huggingface/diffusers/pull/1397</a></p>

          '
        raw: 'Fixed here I believe: https://github.com/huggingface/diffusers/pull/1397'
        updatedAt: '2022-12-07T00:41:44.866Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F91D"
        users:
        - patrickvonplaten
    id: 638fe148c3f0d3c3f0c9b1d2
    type: comment
  author: ddxue
  content: 'Fixed here I believe: https://github.com/huggingface/diffusers/pull/1397'
  created_at: 2022-12-07 00:41:44+00:00
  edited: false
  hidden: false
  id: 638fe148c3f0d3c3f0c9b1d2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4363f089a28df941420ede93aa8e3f26.svg
      fullname: fenix lam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fenixlam
      type: user
    createdAt: '2023-03-10T08:29:27.000Z'
    data:
      edited: false
      editors:
      - fenixlam
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4363f089a28df941420ede93aa8e3f26.svg
          fullname: fenix lam
          isHf: false
          isPro: false
          name: fenixlam
          type: user
        html: '<p>No it is not fixed. I still get the error. And I don''t have any
          idea how to solve it.</p>

          '
        raw: No it is not fixed. I still get the error. And I don't have any idea
          how to solve it.
        updatedAt: '2023-03-10T08:29:27.922Z'
      numEdits: 0
      reactions: []
    id: 640aea67d64fb5d7e382840d
    type: comment
  author: fenixlam
  content: No it is not fixed. I still get the error. And I don't have any idea how
    to solve it.
  created_at: 2023-03-10 08:29:27+00:00
  edited: false
  hidden: false
  id: 640aea67d64fb5d7e382840d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f0563b8f631c16c530b58aaf6192854d.svg
      fullname: Kirit Thadaka
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kirit93
      type: user
    createdAt: '2023-03-12T21:30:35.000Z'
    data:
      edited: false
      editors:
      - kirit93
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f0563b8f631c16c530b58aaf6192854d.svg
          fullname: Kirit Thadaka
          isHf: false
          isPro: false
          name: kirit93
          type: user
        html: '<p>I''m facing the same issue as well with diffusers v0.2.2</p>

          '
        raw: I'm facing the same issue as well with diffusers v0.2.2
        updatedAt: '2023-03-12T21:30:35.532Z'
      numEdits: 0
      reactions: []
    id: 640e447b45fc93e0e6db1f45
    type: comment
  author: kirit93
  content: I'm facing the same issue as well with diffusers v0.2.2
  created_at: 2023-03-12 20:30:35+00:00
  edited: false
  hidden: false
  id: 640e447b45fc93e0e6db1f45
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/65c6787bbc1dceaf598ffb8d1f9f079c.svg
      fullname: Dirk Hofmeister
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dho
      type: user
    createdAt: '2023-03-21T15:57:44.000Z'
    data:
      edited: false
      editors:
      - dho
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/65c6787bbc1dceaf598ffb8d1f9f079c.svg
          fullname: Dirk Hofmeister
          isHf: false
          isPro: false
          name: dho
          type: user
        html: '<p>Got the same error:<br>pip install diffusers transformers accelerate
          scipy safetensors --upgrade<br>solved it</p>

          '
        raw: "Got the same error:\npip install diffusers transformers accelerate scipy\
          \ safetensors --upgrade \nsolved it"
        updatedAt: '2023-03-21T15:57:44.247Z'
      numEdits: 0
      reactions: []
    id: 6419d3f8cbec40a14f541268
    type: comment
  author: dho
  content: "Got the same error:\npip install diffusers transformers accelerate scipy\
    \ safetensors --upgrade \nsolved it"
  created_at: 2023-03-21 14:57:44+00:00
  edited: false
  hidden: false
  id: 6419d3f8cbec40a14f541268
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 29
repo_id: stabilityai/stable-diffusion-2
repo_type: model
status: open
target_branch: null
title: 'TypeError: unsupported operand type(s) for //: ''int'' and ''list'''
