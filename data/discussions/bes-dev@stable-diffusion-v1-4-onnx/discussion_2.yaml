!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Molten38
conflicting_files: null
created_at: 2022-10-10 15:51:27+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d9657359a0936e2a5cdf17b806e30f5e.svg
      fullname: Molten38
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Molten38
      type: user
    createdAt: '2022-10-10T16:51:27.000Z'
    data:
      edited: false
      editors:
      - Molten38
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d9657359a0936e2a5cdf17b806e30f5e.svg
          fullname: Molten38
          isHf: false
          isPro: false
          name: Molten38
          type: user
        html: '<p>Hello, I have loaded the unet.onnx model as follows:</p>

          <pre><code>import onnx

          from onnx.external_data_helper import load_external_data_for_model


          onnx_model = onnx.load("unet\\unet.onnx", load_external_data=True)

          load_external_data_for_model(onnx_model, "unet\\")

          </code></pre>

          <p>But when I try to run it via ort, I get the following error<br>onnxruntime.capi.onnxruntime_pybind11_state.InvalidProtobuf:
          [ONNXRuntimeError] : 7 : INVALID_PROTOBUF</p>

          <p>how can I properly load the unet.onnx model aswell as the corresponding
          weights to make it run in ort?</p>

          '
        raw: "Hello, I have loaded the unet.onnx model as follows:\r\n\r\n```\r\n\
          import onnx\r\nfrom onnx.external_data_helper import load_external_data_for_model\r\
          \n\r\nonnx_model = onnx.load(\"unet\\\\unet.onnx\", load_external_data=True)\r\
          \nload_external_data_for_model(onnx_model, \"unet\\\\\")\r\n```\r\n\r\n\
          But when I try to run it via ort, I get the following error\r\nonnxruntime.capi.onnxruntime_pybind11_state.InvalidProtobuf:\
          \ [ONNXRuntimeError] : 7 : INVALID_PROTOBUF\r\n\r\nhow can I properly load\
          \ the unet.onnx model aswell as the corresponding weights to make it run\
          \ in ort?"
        updatedAt: '2022-10-10T16:51:27.347Z'
      numEdits: 0
      reactions: []
    id: 63444d8fcbc4ea2ab73ce8d4
    type: comment
  author: Molten38
  content: "Hello, I have loaded the unet.onnx model as follows:\r\n\r\n```\r\nimport\
    \ onnx\r\nfrom onnx.external_data_helper import load_external_data_for_model\r\
    \n\r\nonnx_model = onnx.load(\"unet\\\\unet.onnx\", load_external_data=True)\r\
    \nload_external_data_for_model(onnx_model, \"unet\\\\\")\r\n```\r\n\r\nBut when\
    \ I try to run it via ort, I get the following error\r\nonnxruntime.capi.onnxruntime_pybind11_state.InvalidProtobuf:\
    \ [ONNXRuntimeError] : 7 : INVALID_PROTOBUF\r\n\r\nhow can I properly load the\
    \ unet.onnx model aswell as the corresponding weights to make it run in ort?"
  created_at: 2022-10-10 15:51:27+00:00
  edited: false
  hidden: false
  id: 63444d8fcbc4ea2ab73ce8d4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/96e744161e2f75c59c65e1cc0878ed15.svg
      fullname: fredrick odhiambo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fredrickodhiambo
      type: user
    createdAt: '2023-01-27T12:13:25.000Z'
    data:
      edited: false
      editors:
      - fredrickodhiambo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/96e744161e2f75c59c65e1cc0878ed15.svg
          fullname: fredrick odhiambo
          isHf: false
          isPro: false
          name: fredrickodhiambo
          type: user
        html: '<p>Hey Molten38 Did you ever find a way around this?</p>

          '
        raw: Hey Molten38 Did you ever find a way around this?
        updatedAt: '2023-01-27T12:13:25.756Z'
      numEdits: 0
      reactions: []
    id: 63d3bfe5ce1a38ea4e90130f
    type: comment
  author: fredrickodhiambo
  content: Hey Molten38 Did you ever find a way around this?
  created_at: 2023-01-27 12:13:25+00:00
  edited: false
  hidden: false
  id: 63d3bfe5ce1a38ea4e90130f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: bes-dev/stable-diffusion-v1-4-onnx
repo_type: model
status: open
target_branch: null
title: how to run the unet.onnx model
