!!python/object:huggingface_hub.community.DiscussionWithDetails
author: barha
conflicting_files: null
created_at: 2023-08-31 06:40:15+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9342ff868ec9099def4cc760967f87c9.svg
      fullname: bar
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: barha
      type: user
    createdAt: '2023-08-31T07:40:15.000Z'
    data:
      edited: false
      editors:
      - barha
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.45442503690719604
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9342ff868ec9099def4cc760967f87c9.svg
          fullname: bar
          isHf: false
          isPro: false
          name: barha
          type: user
        html: '<p>Trying to use <code>convert-llama-ggmlv3-to-gguf.py</code> from
          <code>llama-cpp</code>, I am unable to convert the model <code>llama-2-70b-chat.ggmlv3.q4_K_M.bin</code>
          to gguf format in order to use with llama-cpp. </p>

          <p>Error:<br>"""</p>

          <ul>

          <li>Preparing to save GGUF file</li>

          <li>Adding model parameters and KV items</li>

          <li>Adding 32000 vocab item(s)</li>

          <li>Adding 723 tensor(s)<br>Traceback (most recent call last):<br>File "/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py",
          line 345, in <br>  main()<br>File "/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py",
          line 341, in main<br>  converter.save()<br>File "/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py",
          line 165, in save<br>  self.add_tensors(gguf_writer)<br>File "/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py",
          line 273, in add_tensors<br>  mapped_name = nm.get(name)<br>AttributeError:
          ''TensorNameMap'' object has no attribute ''get''<br>"""</li>

          </ul>

          '
        raw: "Trying to use `convert-llama-ggmlv3-to-gguf.py` from `llama-cpp`, I\
          \ am unable to convert the model `llama-2-70b-chat.ggmlv3.q4_K_M.bin` to\
          \ gguf format in order to use with llama-cpp. \r\n\r\nError:\r\n\"\"\"\r\
          \n* Preparing to save GGUF file\r\n* Adding model parameters and KV items\r\
          \n* Adding 32000 vocab item(s)\r\n* Adding 723 tensor(s)\r\nTraceback (most\
          \ recent call last):\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
          , line 345, in <module>\r\n    main()\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
          , line 341, in main\r\n    converter.save()\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
          , line 165, in save\r\n    self.add_tensors(gguf_writer)\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
          , line 273, in add_tensors\r\n    mapped_name = nm.get(name)\r\nAttributeError:\
          \ 'TensorNameMap' object has no attribute 'get'\r\n\"\"\""
        updatedAt: '2023-08-31T07:40:15.194Z'
      numEdits: 0
      reactions: []
    id: 64f043df99b5560b1ab2543c
    type: comment
  author: barha
  content: "Trying to use `convert-llama-ggmlv3-to-gguf.py` from `llama-cpp`, I am\
    \ unable to convert the model `llama-2-70b-chat.ggmlv3.q4_K_M.bin` to gguf format\
    \ in order to use with llama-cpp. \r\n\r\nError:\r\n\"\"\"\r\n* Preparing to save\
    \ GGUF file\r\n* Adding model parameters and KV items\r\n* Adding 32000 vocab\
    \ item(s)\r\n* Adding 723 tensor(s)\r\nTraceback (most recent call last):\r\n\
    \  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\", line 345, in\
    \ <module>\r\n    main()\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
    , line 341, in main\r\n    converter.save()\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
    , line 165, in save\r\n    self.add_tensors(gguf_writer)\r\n  File \"/llm/barha/llama.cpp/convert-llama-ggmlv3-to-gguf.py\"\
    , line 273, in add_tensors\r\n    mapped_name = nm.get(name)\r\nAttributeError:\
    \ 'TensorNameMap' object has no attribute 'get'\r\n\"\"\""
  created_at: 2023-08-31 06:40:15+00:00
  edited: false
  hidden: false
  id: 64f043df99b5560b1ab2543c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: TheBloke/Llama-2-70B-Chat-GGML
repo_type: model
status: open
target_branch: null
title: Unable to convert `llama-2-70b-chat.ggmlv3.q4_K_M.bin` to GGUF
