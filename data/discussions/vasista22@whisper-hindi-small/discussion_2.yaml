!!python/object:huggingface_hub.community.DiscussionWithDetails
author: tttarun
conflicting_files: null
created_at: 2023-04-30 06:26:02+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
      fullname: Tarun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tttarun
      type: user
    createdAt: '2023-04-30T07:26:02.000Z'
    data:
      edited: true
      editors:
      - tttarun
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
          fullname: Tarun
          isHf: false
          isPro: false
          name: tttarun
          type: user
        html: "<p>I have query regarding a specific behaviour in model's output. Consider\
          \ the two audio inputs to the model:<br>Input 1: \"\u0939\u0947\u0932\u094B\
          \ \u0915\u094D\u092F\u093E \u092E\u0947\u0930\u0940 \u092C\u093E\u0924 \u0930\
          \u091C\u0924 \u0938\u0947 \u0939\u094B \u0930\u0939\u0940 \u0939\u0948 \"\
          <br>Input 2: \"\u0939\u0947\u0932\u094B pause  \u0915\u094D\u092F\u093E\
          \ \u092E\u0947\u0930\u0940 \u092C\u093E\u0924 \u0930\u091C\u0924 \u0938\u0947\
          \ \u0939\u094B \u0930\u0939\u0940 \u0939\u0948 \"</p>\n<p>pause maybe of\
          \ about 1-2 sec.</p>\n<p>In second case I am getting model's output as:\
          \ \"\u0939\u0947\u0932\u094B\"<br>The model is not transcribing anything\
          \ after the pause. </p>\n<p>This behaviour is also shown if I give a long\
          \ audio. In such case, model is missing one or two word after the pause\
          \ everywhere in the audio. </p>\n<p>Can you tell me what could be reason\
          \ behind such behaviour?  I am unable to find out what could be the reason.\
          \ A similar model (trained on the shrutilipi data) by ai4bharat shows no\
          \ such behaviour.  Is it because the architecture is different? What could\
          \ be the possible issue in your opinion?<br>I am asking these questions\
          \ because I was expecting whisper to show better results.</p>\n"
        raw: "I have query regarding a specific behaviour in model's output. Consider\
          \ the two audio inputs to the model:\nInput 1: \"\u0939\u0947\u0932\u094B\
          \ \u0915\u094D\u092F\u093E \u092E\u0947\u0930\u0940 \u092C\u093E\u0924 \u0930\
          \u091C\u0924 \u0938\u0947 \u0939\u094B \u0930\u0939\u0940 \u0939\u0948 \"\
          \nInput 2: \"\u0939\u0947\u0932\u094B pause  \u0915\u094D\u092F\u093E \u092E\
          \u0947\u0930\u0940 \u092C\u093E\u0924 \u0930\u091C\u0924 \u0938\u0947 \u0939\
          \u094B \u0930\u0939\u0940 \u0939\u0948 \"\n\npause maybe of about 1-2 sec.\n\
          \nIn second case I am getting model's output as: \"\u0939\u0947\u0932\u094B\
          \"\nThe model is not transcribing anything after the pause. \n\nThis behaviour\
          \ is also shown if I give a long audio. In such case, model is missing one\
          \ or two word after the pause everywhere in the audio. \n\nCan you tell\
          \ me what could be reason behind such behaviour?  I am unable to find out\
          \ what could be the reason. A similar model (trained on the shrutilipi data)\
          \ by ai4bharat shows no such behaviour.  Is it because the architecture\
          \ is different? What could be the possible issue in your opinion?\nI am\
          \ asking these questions because I was expecting whisper to show better\
          \ results."
        updatedAt: '2023-04-30T07:43:44.218Z'
      numEdits: 1
      reactions: []
    id: 644e180a1565b54e4a5ff071
    type: comment
  author: tttarun
  content: "I have query regarding a specific behaviour in model's output. Consider\
    \ the two audio inputs to the model:\nInput 1: \"\u0939\u0947\u0932\u094B \u0915\
    \u094D\u092F\u093E \u092E\u0947\u0930\u0940 \u092C\u093E\u0924 \u0930\u091C\u0924\
    \ \u0938\u0947 \u0939\u094B \u0930\u0939\u0940 \u0939\u0948 \"\nInput 2: \"\u0939\
    \u0947\u0932\u094B pause  \u0915\u094D\u092F\u093E \u092E\u0947\u0930\u0940 \u092C\
    \u093E\u0924 \u0930\u091C\u0924 \u0938\u0947 \u0939\u094B \u0930\u0939\u0940 \u0939\
    \u0948 \"\n\npause maybe of about 1-2 sec.\n\nIn second case I am getting model's\
    \ output as: \"\u0939\u0947\u0932\u094B\"\nThe model is not transcribing anything\
    \ after the pause. \n\nThis behaviour is also shown if I give a long audio. In\
    \ such case, model is missing one or two word after the pause everywhere in the\
    \ audio. \n\nCan you tell me what could be reason behind such behaviour?  I am\
    \ unable to find out what could be the reason. A similar model (trained on the\
    \ shrutilipi data) by ai4bharat shows no such behaviour.  Is it because the architecture\
    \ is different? What could be the possible issue in your opinion?\nI am asking\
    \ these questions because I was expecting whisper to show better results."
  created_at: 2023-04-30 06:26:02+00:00
  edited: true
  hidden: false
  id: 644e180a1565b54e4a5ff071
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
      fullname: Tarun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tttarun
      type: user
    createdAt: '2023-05-02T16:55:45.000Z'
    data:
      from: Issue in Model's output
      to: Query regarding Model's output
    id: 645140919d916c596e2d2d38
    type: title-change
  author: tttarun
  created_at: 2023-05-02 15:55:45+00:00
  id: 645140919d916c596e2d2d38
  new_title: Query regarding Model's output
  old_title: Issue in Model's output
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61958153ddc6b60c90de310b/XQ0bAjflFmGv0TIdMCQ-k.jpeg?w=200&h=200&f=face
      fullname: Vasista Lodagala
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: vasista22
      type: user
    createdAt: '2023-05-04T10:51:38.000Z'
    data:
      edited: false
      editors:
      - vasista22
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61958153ddc6b60c90de310b/XQ0bAjflFmGv0TIdMCQ-k.jpeg?w=200&h=200&f=face
          fullname: Vasista Lodagala
          isHf: false
          isPro: false
          name: vasista22
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;tttarun&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/tttarun\">@<span class=\"\
          underline\">tttarun</span></a></span>\n\n\t</span></span> ,</p>\n<p>Thanks\
          \ for your query on long audios. When trying to transcribe a long audio,\
          \ it would be beneficial to use an external voice activity detection module\
          \ (Eg: silero-vad) and thereafter pass the segments to whisper for inference.\
          \ This is because, though whisper's silence detection is quite good, it\
          \ does miss some segments at times.</p>\n<p>Regarding the model not transcribing\
          \ after a long pause, I haven't come across such an issue with the test\
          \ audios at my end. Request you to upload the audio sample here for which\
          \ this issue exists. The issue can be looked into better with access to\
          \ the audio sample.</p>\n<p>Thanks</p>\n"
        raw: 'Hi @tttarun ,


          Thanks for your query on long audios. When trying to transcribe a long audio,
          it would be beneficial to use an external voice activity detection module
          (Eg: silero-vad) and thereafter pass the segments to whisper for inference.
          This is because, though whisper''s silence detection is quite good, it does
          miss some segments at times.


          Regarding the model not transcribing after a long pause, I haven''t come
          across such an issue with the test audios at my end. Request you to upload
          the audio sample here for which this issue exists. The issue can be looked
          into better with access to the audio sample.


          Thanks'
        updatedAt: '2023-05-04T10:51:38.767Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - tttarun
    id: 64538e3afef4d71cdd6ebbdc
    type: comment
  author: vasista22
  content: 'Hi @tttarun ,


    Thanks for your query on long audios. When trying to transcribe a long audio,
    it would be beneficial to use an external voice activity detection module (Eg:
    silero-vad) and thereafter pass the segments to whisper for inference. This is
    because, though whisper''s silence detection is quite good, it does miss some
    segments at times.


    Regarding the model not transcribing after a long pause, I haven''t come across
    such an issue with the test audios at my end. Request you to upload the audio
    sample here for which this issue exists. The issue can be looked into better with
    access to the audio sample.


    Thanks'
  created_at: 2023-05-04 09:51:38+00:00
  edited: false
  hidden: false
  id: 64538e3afef4d71cdd6ebbdc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
      fullname: Tarun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tttarun
      type: user
    createdAt: '2023-05-06T12:02:31.000Z'
    data:
      edited: false
      editors:
      - tttarun
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
          fullname: Tarun
          isHf: false
          isPro: false
          name: tttarun
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;vasista22&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/vasista22\"\
          >@<span class=\"underline\">vasista22</span></a></span>\n\n\t</span></span>,\
          \ thanks for the reply.<br>Here I am attaching the sample audio for reproduction\
          \ of the query:<br>input 1: </p>\n<p><video class=\"!max-w-full\" controls=\"\
          \" src=\"https://cdn-uploads.huggingface.co/production/uploads/63774962936772cc89e6f8ba/nwRgocfHUk5aaRnBxAyA2.mp4\"\
          ></video></p>\ninput 2:\n<p><video class=\"!max-w-full\" controls=\"\" src=\"\
          https://cdn-uploads.huggingface.co/production/uploads/63774962936772cc89e6f8ba/wqKrHnW-4-K-ChPpfWXM6.mp4\"\
          ></video></p>"
        raw: "Hi @vasista22, thanks for the reply. \nHere I am attaching the sample\
          \ audio for reproduction of the query:\ninput 1: \nhttps://cdn-uploads.huggingface.co/production/uploads/63774962936772cc89e6f8ba/nwRgocfHUk5aaRnBxAyA2.mp4\n\
          input 2:\nhttps://cdn-uploads.huggingface.co/production/uploads/63774962936772cc89e6f8ba/wqKrHnW-4-K-ChPpfWXM6.mp4"
        updatedAt: '2023-05-06T12:02:31.801Z'
      numEdits: 0
      reactions: []
    id: 645641d7d10badc955594c27
    type: comment
  author: tttarun
  content: "Hi @vasista22, thanks for the reply. \nHere I am attaching the sample\
    \ audio for reproduction of the query:\ninput 1: \nhttps://cdn-uploads.huggingface.co/production/uploads/63774962936772cc89e6f8ba/nwRgocfHUk5aaRnBxAyA2.mp4\n\
    input 2:\nhttps://cdn-uploads.huggingface.co/production/uploads/63774962936772cc89e6f8ba/wqKrHnW-4-K-ChPpfWXM6.mp4"
  created_at: 2023-05-06 11:02:31+00:00
  edited: false
  hidden: false
  id: 645641d7d10badc955594c27
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61958153ddc6b60c90de310b/XQ0bAjflFmGv0TIdMCQ-k.jpeg?w=200&h=200&f=face
      fullname: Vasista Lodagala
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: vasista22
      type: user
    createdAt: '2023-05-06T18:55:22.000Z'
    data:
      edited: false
      editors:
      - vasista22
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61958153ddc6b60c90de310b/XQ0bAjflFmGv0TIdMCQ-k.jpeg?w=200&h=200&f=face
          fullname: Vasista Lodagala
          isHf: false
          isPro: false
          name: vasista22
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;tttarun&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/tttarun\">@<span class=\"\
          underline\">tttarun</span></a></span>\n\n\t</span></span> ,</p>\n<p>Thanks\
          \ for the speech samples.<br>At <code>chunk_length_s=30</code> the transcription\
          \ is \"\u0939\u0947\u0932\u094B\" like you've mentioned.<br>However, when\
          \ I've reduced it to <code>chunk_length_s=5</code>, the output was: \"\u0939\
          \u0947\u0932\u094B\u092C\u093E\u0924 \u0939\u094B \u0930\u0939\u0940 \u0939\
          \u0948\". Though not completely accurate the length of the transcription\
          \ has improved with a shorter <code>chunk_length_s</code>.<br>There is no\
          \ clear reason according to me for this behavior from the model.<br>As every\
          \ model has a few examples it isn't robust to, this might be one such example\
          \ for this model.<br>I would be keen to know if anyone comes up with a way\
          \ to improve the transcription of this model over such an example by any\
          \ means.</p>\n"
        raw: "@tttarun ,\n\nThanks for the speech samples.\nAt `chunk_length_s=30`\
          \ the transcription is \"\u0939\u0947\u0932\u094B\" like you've mentioned.\n\
          However, when I've reduced it to `chunk_length_s=5`, the output was: \"\u0939\
          \u0947\u0932\u094B\u092C\u093E\u0924 \u0939\u094B \u0930\u0939\u0940 \u0939\
          \u0948\". Though not completely accurate the length of the transcription\
          \ has improved with a shorter `chunk_length_s`.\nThere is no clear reason\
          \ according to me for this behavior from the model.\nAs every model has\
          \ a few examples it isn't robust to, this might be one such example for\
          \ this model.\nI would be keen to know if anyone comes up with a way to\
          \ improve the transcription of this model over such an example by any means."
        updatedAt: '2023-05-06T18:55:22.526Z'
      numEdits: 0
      reactions: []
    id: 6456a29a03625871eb792a48
    type: comment
  author: vasista22
  content: "@tttarun ,\n\nThanks for the speech samples.\nAt `chunk_length_s=30` the\
    \ transcription is \"\u0939\u0947\u0932\u094B\" like you've mentioned.\nHowever,\
    \ when I've reduced it to `chunk_length_s=5`, the output was: \"\u0939\u0947\u0932\
    \u094B\u092C\u093E\u0924 \u0939\u094B \u0930\u0939\u0940 \u0939\u0948\". Though\
    \ not completely accurate the length of the transcription has improved with a\
    \ shorter `chunk_length_s`.\nThere is no clear reason according to me for this\
    \ behavior from the model.\nAs every model has a few examples it isn't robust\
    \ to, this might be one such example for this model.\nI would be keen to know\
    \ if anyone comes up with a way to improve the transcription of this model over\
    \ such an example by any means."
  created_at: 2023-05-06 17:55:22+00:00
  edited: false
  hidden: false
  id: 6456a29a03625871eb792a48
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
      fullname: Tarun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tttarun
      type: user
    createdAt: '2023-05-10T04:56:40.000Z'
    data:
      edited: false
      editors:
      - tttarun
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a29a6ae20e813a0bd0446526dace536b.svg
          fullname: Tarun
          isHf: false
          isPro: false
          name: tttarun
          type: user
        html: "<p>hi <span data-props=\"{&quot;user&quot;:&quot;vasista22&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/vasista22\"\
          >@<span class=\"underline\">vasista22</span></a></span>\n\n\t</span></span><br>I\
          \ think I got something to improve model's transcription over the sample\
          \ example.. The audios need to be pre-processed to remove the silences (or\
          \ the pause) before sending them for transcription. Found this ffmpeg code\
          \ for pre-processing:<br>ffmpeg -y -i input.wav -af \"silenceremove=start_periods=0:stop_periods=-1:stop_duration=0.7:stop_threshold=-27dB\"\
          \  processed_input.wav</p>\n<p>I applied it on the above sample and it does\
          \ give the required transcription.</p>\n"
        raw: "hi @vasista22 \nI think I got something to improve model's transcription\
          \ over the sample example.. The audios need to be pre-processed to remove\
          \ the silences (or the pause) before sending them for transcription. Found\
          \ this ffmpeg code for pre-processing:\nffmpeg -y -i input.wav -af \"silenceremove=start_periods=0:stop_periods=-1:stop_duration=0.7:stop_threshold=-27dB\"\
          \  processed_input.wav\n\nI applied it on the above sample and it does give\
          \ the required transcription."
        updatedAt: '2023-05-10T04:56:40.277Z'
      numEdits: 0
      reactions: []
    id: 645b240806c24937a1c72b89
    type: comment
  author: tttarun
  content: "hi @vasista22 \nI think I got something to improve model's transcription\
    \ over the sample example.. The audios need to be pre-processed to remove the\
    \ silences (or the pause) before sending them for transcription. Found this ffmpeg\
    \ code for pre-processing:\nffmpeg -y -i input.wav -af \"silenceremove=start_periods=0:stop_periods=-1:stop_duration=0.7:stop_threshold=-27dB\"\
    \  processed_input.wav\n\nI applied it on the above sample and it does give the\
    \ required transcription."
  created_at: 2023-05-10 03:56:40+00:00
  edited: false
  hidden: false
  id: 645b240806c24937a1c72b89
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: vasista22/whisper-hindi-small
repo_type: model
status: open
target_branch: null
title: Query regarding Model's output
