!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bcui19
conflicting_files: []
created_at: 2023-06-14 16:12:13+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/45975bc7565e33a34fdbbb54f25ede10.svg
      fullname: Brandon Cui
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bcui19
      type: user
    createdAt: '2023-06-14T17:12:13.000Z'
    data:
      edited: false
      editors:
      - bcui19
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6240283250808716
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/45975bc7565e33a34fdbbb54f25ede10.svg
          fullname: Brandon Cui
          isHf: false
          isPro: false
          name: bcui19
          type: user
        html: '<p>Change <code>wte</code> to use shared embedding</p>

          '
        raw: Change `wte` to use shared embedding
        updatedAt: '2023-06-14T17:12:13.670Z'
      numEdits: 0
      reactions: []
    id: 6489f4ed4344b9f97db78eae
    type: comment
  author: bcui19
  content: Change `wte` to use shared embedding
  created_at: 2023-06-14 16:12:13+00:00
  edited: false
  hidden: false
  id: 6489f4ed4344b9f97db78eae
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: /avatars/45975bc7565e33a34fdbbb54f25ede10.svg
      fullname: Brandon Cui
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: bcui19
      type: user
    createdAt: '2023-06-14T17:12:14.000Z'
    data:
      oid: 5fdc9e61729edbd287d220ff11abe5f0fadcc805
      parents:
      - 45aab4fe1c84d2442e3f05b76243eb463f9a508e
      subject: Change `wte` to use shared embedding
    id: 6489f4ee0000000000000000
    type: commit
  author: bcui19
  created_at: 2023-06-14 16:12:14+00:00
  id: 6489f4ee0000000000000000
  oid: 5fdc9e61729edbd287d220ff11abe5f0fadcc805
  summary: Change `wte` to use shared embedding
  type: commit
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1611612244659-5e7bd6f730dc073f817a2ba8.jpeg?w=200&h=200&f=face
      fullname: Daniel King
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: daking
      type: user
    createdAt: '2023-06-14T17:26:50.000Z'
    data:
      status: merged
    id: 6489f85a7ef096373fa777b1
    type: status-change
  author: daking
  created_at: 2023-06-14 16:26:50+00:00
  id: 6489f85a7ef096373fa777b1
  new_status: merged
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Z35Vom4tyX1CdsyoLQzDm.jpeg?w=200&h=200&f=face
      fullname: Stefan Baumann
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: stefanb0305
      type: user
    createdAt: '2023-09-13T21:02:03.000Z'
    data:
      edited: true
      editors:
      - stefanb0305
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5532169938087463
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Z35Vom4tyX1CdsyoLQzDm.jpeg?w=200&h=200&f=face
          fullname: Stefan Baumann
          isHf: false
          isPro: false
          name: stefanb0305
          type: user
        html: "<p>This change leads to the following error with <code>torch==0.2.1</code>:</p>\n\
          <pre><code>\"/home/.cache/huggingface/modules/transformers_modules/mosaicml/mpt-7b-instruct/_____/modeling_mpt.py\"\
          , line 271, in forward\n    logits = self.transformer.wte(outputs.last_hidden_state.to(self.transformer.wte.weight.device),\
          \ True)\n  File \"/home/.venv/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1538, in _call_impl\n    result = forward_call(*args, **kwargs)\n\
          TypeError: forward() takes 2 positional arguments but 3 were given\n</code></pre>\n"
        raw: "This change leads to the following error with `torch==0.2.1`:\n```\n\
          \"/home/.cache/huggingface/modules/transformers_modules/mosaicml/mpt-7b-instruct/_____/modeling_mpt.py\"\
          , line 271, in forward\n    logits = self.transformer.wte(outputs.last_hidden_state.to(self.transformer.wte.weight.device),\
          \ True)\n  File \"/home/.venv/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1538, in _call_impl\n    result = forward_call(*args, **kwargs)\n\
          TypeError: forward() takes 2 positional arguments but 3 were given\n```"
        updatedAt: '2023-09-13T23:31:34.432Z'
      numEdits: 2
      reactions: []
    id: 6502234bbac66e1586b1078f
    type: comment
  author: stefanb0305
  content: "This change leads to the following error with `torch==0.2.1`:\n```\n\"\
    /home/.cache/huggingface/modules/transformers_modules/mosaicml/mpt-7b-instruct/_____/modeling_mpt.py\"\
    , line 271, in forward\n    logits = self.transformer.wte(outputs.last_hidden_state.to(self.transformer.wte.weight.device),\
    \ True)\n  File \"/home/.venv/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1538, in _call_impl\n    result = forward_call(*args, **kwargs)\nTypeError:\
    \ forward() takes 2 positional arguments but 3 were given\n```"
  created_at: 2023-09-13 20:02:03+00:00
  edited: true
  hidden: false
  id: 6502234bbac66e1586b1078f
  type: comment
is_pull_request: true
merge_commit_oid: fe31052a3aeb03f1b709c38471605d0af0486fe8
num: 43
repo_id: mosaicml/mpt-7b-instruct
repo_type: model
status: merged
target_branch: refs/heads/main
title: Change `wte` to use shared embedding
