!!python/object:huggingface_hub.community.DiscussionWithDetails
author: narenzen
conflicting_files: null
created_at: 2023-05-09 11:20:11+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/11401350689b77a10d2f4d72fc216e93.svg
      fullname: Naren Babu R
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: narenzen
      type: user
    createdAt: '2023-05-09T12:20:11.000Z'
    data:
      edited: false
      editors:
      - narenzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/11401350689b77a10d2f4d72fc216e93.svg
          fullname: Naren Babu R
          isHf: false
          isPro: false
          name: narenzen
          type: user
        html: "<p>Using the below configuration i loaded the instruct model</p>\n\
          <pre><code>config = transformers.AutoConfig.from_pretrained(\n  'mosaicml/mpt-7b-instruct',\n\
          \  trust_remote_code=True\n)\nconfig.attn_config['attn_impl'] = 'triton'\n\
          \nmodel = transformers.AutoModelForCausalLM.from_pretrained(\n  'mosaicml/mpt-7b-instruct',\n\
          \  config=config,\n  torch_dtype=torch.bfloat16,\n  trust_remote_code=True\n\
          )\nmodel.to(device='cuda:0')\n</code></pre>\n<p>But I got error:<br><code>TypeError:\
          \ dot() got an unexpected keyword argument 'trans_b'  </code></p>\n"
        raw: "Using the below configuration i loaded the instruct model\r\n\r\n```\r\
          \nconfig = transformers.AutoConfig.from_pretrained(\r\n  'mosaicml/mpt-7b-instruct',\r\
          \n  trust_remote_code=True\r\n)\r\nconfig.attn_config['attn_impl'] = 'triton'\r\
          \n\r\nmodel = transformers.AutoModelForCausalLM.from_pretrained(\r\n  'mosaicml/mpt-7b-instruct',\r\
          \n  config=config,\r\n  torch_dtype=torch.bfloat16,\r\n  trust_remote_code=True\r\
          \n)\r\nmodel.to(device='cuda:0')\r\n```\r\nBut I got error:\r\n`TypeError:\
          \ dot() got an unexpected keyword argument 'trans_b'  `\r\n"
        updatedAt: '2023-05-09T12:20:11.598Z'
      numEdits: 0
      reactions: []
    id: 645a3a7b677237cff7539bc2
    type: comment
  author: narenzen
  content: "Using the below configuration i loaded the instruct model\r\n\r\n```\r\
    \nconfig = transformers.AutoConfig.from_pretrained(\r\n  'mosaicml/mpt-7b-instruct',\r\
    \n  trust_remote_code=True\r\n)\r\nconfig.attn_config['attn_impl'] = 'triton'\r\
    \n\r\nmodel = transformers.AutoModelForCausalLM.from_pretrained(\r\n  'mosaicml/mpt-7b-instruct',\r\
    \n  config=config,\r\n  torch_dtype=torch.bfloat16,\r\n  trust_remote_code=True\r\
    \n)\r\nmodel.to(device='cuda:0')\r\n```\r\nBut I got error:\r\n`TypeError: dot()\
    \ got an unexpected keyword argument 'trans_b'  `\r\n"
  created_at: 2023-05-09 11:20:11+00:00
  edited: false
  hidden: false
  id: 645a3a7b677237cff7539bc2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1611612244659-5e7bd6f730dc073f817a2ba8.jpeg?w=200&h=200&f=face
      fullname: Daniel King
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: daking
      type: user
    createdAt: '2023-05-09T16:56:57.000Z'
    data:
      edited: false
      editors:
      - daking
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1611612244659-5e7bd6f730dc073f817a2ba8.jpeg?w=200&h=200&f=face
          fullname: Daniel King
          isHf: false
          isPro: false
          name: daking
          type: user
        html: '<p>You likely have an incompatible version of something. Please try
          the versions here: <a rel="nofollow" href="https://github.com/mosaicml/llm-foundry/blob/5fe01bcceb146d2a64d3b595c243d55fa7af9c70/setup.py#L74-L77">https://github.com/mosaicml/llm-foundry/blob/5fe01bcceb146d2a64d3b595c243d55fa7af9c70/setup.py#L74-L77</a></p>

          '
        raw: 'You likely have an incompatible version of something. Please try the
          versions here: https://github.com/mosaicml/llm-foundry/blob/5fe01bcceb146d2a64d3b595c243d55fa7af9c70/setup.py#L74-L77'
        updatedAt: '2023-05-09T16:56:57.720Z'
      numEdits: 0
      reactions: []
    id: 645a7b5985db282929d4cf4f
    type: comment
  author: daking
  content: 'You likely have an incompatible version of something. Please try the versions
    here: https://github.com/mosaicml/llm-foundry/blob/5fe01bcceb146d2a64d3b595c243d55fa7af9c70/setup.py#L74-L77'
  created_at: 2023-05-09 15:56:57+00:00
  edited: false
  hidden: false
  id: 645a7b5985db282929d4cf4f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
      fullname: Abhi Venigalla
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: abhi-mosaic
      type: user
    createdAt: '2023-06-03T00:53:32.000Z'
    data:
      edited: true
      editors:
      - abhi-mosaic
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9936800599098206
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
          fullname: Abhi Venigalla
          isHf: false
          isPro: false
          name: abhi-mosaic
          type: user
        html: '<p>Closing as stale.</p>

          <p>We''ve added a <code>requirements.txt</code> file as of this PR: <a href="https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41">https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41</a></p>

          '
        raw: 'Closing as stale.


          We''ve added a `requirements.txt` file as of this PR: https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41'
        updatedAt: '2023-06-03T00:53:55.090Z'
      numEdits: 1
      reactions: []
      relatedEventId: 647a8f0c822b7e8ccbddceed
    id: 647a8f0c822b7e8ccbddceeb
    type: comment
  author: abhi-mosaic
  content: 'Closing as stale.


    We''ve added a `requirements.txt` file as of this PR: https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41'
  created_at: 2023-06-02 23:53:32+00:00
  edited: true
  hidden: false
  id: 647a8f0c822b7e8ccbddceeb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
      fullname: Abhi Venigalla
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: abhi-mosaic
      type: user
    createdAt: '2023-06-03T00:53:32.000Z'
    data:
      status: closed
    id: 647a8f0c822b7e8ccbddceed
    type: status-change
  author: abhi-mosaic
  created_at: 2023-06-02 23:53:32+00:00
  id: 647a8f0c822b7e8ccbddceed
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: mosaicml/mpt-7b-instruct
repo_type: model
status: closed
target_branch: null
title: Error in Triton implementation
