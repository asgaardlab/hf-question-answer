!!python/object:huggingface_hub.community.DiscussionWithDetails
author: souvik0306
conflicting_files: null
created_at: 2023-05-19 11:39:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
      fullname: Souvik Datta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: souvik0306
      type: user
    createdAt: '2023-05-19T12:39:57.000Z'
    data:
      edited: true
      editors:
      - souvik0306
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
          fullname: Souvik Datta
          isHf: false
          isPro: false
          name: souvik0306
          type: user
        html: '<p>I am trying to use the "mosaicml/mpt-7b-instruct" model for my project.
          However, when I instantiate the model, I encounter a TypeError with the
          message "init() got an unexpected keyword argument ''approximate''". This
          error seems to be related to the nn.GELU activation function.</p>

          <p>Here is the relevant code snippet:<br><code>generate = InstructionTextGenerationPipeline(     "mosaicml/mpt-7b-instruct",     torch_dtype=torch.bfloat16,     trust_remote_code=True,
          ) stop_token_ids = generate.tokenizer.convert_tokens_to_ids([""])</code></p>

          <p>I am using the latest version of the transformers library and the model
          checkpoint. I have also ensured that all the dependencies are up to date.</p>

          <p>Can anyone help me understand why I am getting this error and how I can
          resolve it? Is there a specific version of the "mosaicml/mpt-7b-instruct"
          model that supports the ''approximate'' argument in nn.GELU?</p>

          <p>Any assistance would be greatly appreciated. Thank you!</p>

          <p>Note: Make sure to include relevant details about your environment, such
          as the versions of transformers and PyTorch you are using.</p>

          <p>My System -<br>GPU - NVIDIA GeForce RTX40490<br>PyTorch - Cuda 11.1</p>

          '
        raw: "I am trying to use the \"mosaicml/mpt-7b-instruct\" model for my project.\
          \ However, when I instantiate the model, I encounter a TypeError with the\
          \ message \"init() got an unexpected keyword argument 'approximate'\". This\
          \ error seems to be related to the nn.GELU activation function.\n\nHere\
          \ is the relevant code snippet:\n`generate = InstructionTextGenerationPipeline(\n\
          \    \"mosaicml/mpt-7b-instruct\",\n    torch_dtype=torch.bfloat16,\n  \
          \  trust_remote_code=True,\n)\nstop_token_ids = generate.tokenizer.convert_tokens_to_ids([\"\
          \"])`\n\nI am using the latest version of the transformers library and the\
          \ model checkpoint. I have also ensured that all the dependencies are up\
          \ to date.\n\nCan anyone help me understand why I am getting this error\
          \ and how I can resolve it? Is there a specific version of the \"mosaicml/mpt-7b-instruct\"\
          \ model that supports the 'approximate' argument in nn.GELU?\n\nAny assistance\
          \ would be greatly appreciated. Thank you!\n\nNote: Make sure to include\
          \ relevant details about your environment, such as the versions of transformers\
          \ and PyTorch you are using.\n\nMy System - \nGPU - NVIDIA GeForce RTX40490\n\
          PyTorch - Cuda 11.1"
        updatedAt: '2023-05-19T13:22:08.027Z'
      numEdits: 1
      reactions: []
    id: 64676e1de7a6a374fd181b10
    type: comment
  author: souvik0306
  content: "I am trying to use the \"mosaicml/mpt-7b-instruct\" model for my project.\
    \ However, when I instantiate the model, I encounter a TypeError with the message\
    \ \"init() got an unexpected keyword argument 'approximate'\". This error seems\
    \ to be related to the nn.GELU activation function.\n\nHere is the relevant code\
    \ snippet:\n`generate = InstructionTextGenerationPipeline(\n    \"mosaicml/mpt-7b-instruct\"\
    ,\n    torch_dtype=torch.bfloat16,\n    trust_remote_code=True,\n)\nstop_token_ids\
    \ = generate.tokenizer.convert_tokens_to_ids([\"\"])`\n\nI am using the latest\
    \ version of the transformers library and the model checkpoint. I have also ensured\
    \ that all the dependencies are up to date.\n\nCan anyone help me understand why\
    \ I am getting this error and how I can resolve it? Is there a specific version\
    \ of the \"mosaicml/mpt-7b-instruct\" model that supports the 'approximate' argument\
    \ in nn.GELU?\n\nAny assistance would be greatly appreciated. Thank you!\n\nNote:\
    \ Make sure to include relevant details about your environment, such as the versions\
    \ of transformers and PyTorch you are using.\n\nMy System - \nGPU - NVIDIA GeForce\
    \ RTX40490\nPyTorch - Cuda 11.1"
  created_at: 2023-05-19 11:39:57+00:00
  edited: true
  hidden: false
  id: 64676e1de7a6a374fd181b10
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
      fullname: Abhi Venigalla
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: abhi-mosaic
      type: user
    createdAt: '2023-06-03T00:52:13.000Z'
    data:
      edited: false
      editors:
      - abhi-mosaic
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9027185440063477
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
          fullname: Abhi Venigalla
          isHf: false
          isPro: false
          name: abhi-mosaic
          type: user
        html: '<p>Hi, we added a <code>requirements.txt</code> file in this PR, could
          you try confirming that you have the same deps? <a href="https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41">https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41</a></p>

          '
        raw: Hi, we added a `requirements.txt` file in this PR, could you try confirming
          that you have the same deps? https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41
        updatedAt: '2023-06-03T00:52:13.881Z'
      numEdits: 0
      reactions: []
    id: 647a8ebd42abe27747627550
    type: comment
  author: abhi-mosaic
  content: Hi, we added a `requirements.txt` file in this PR, could you try confirming
    that you have the same deps? https://huggingface.co/mosaicml/mpt-7b-instruct/discussions/41
  created_at: 2023-06-02 23:52:13+00:00
  edited: false
  hidden: false
  id: 647a8ebd42abe27747627550
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-06-14T06:49:14.000Z'
    data:
      edited: false
      editors:
      - sam-mosaic
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9809279441833496
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
          fullname: Sam Havens
          isHf: false
          isPro: false
          name: sam-mosaic
          type: user
        html: '<p>Closing as stale.</p>

          '
        raw: Closing as stale.
        updatedAt: '2023-06-14T06:49:14.072Z'
      numEdits: 0
      reactions: []
      relatedEventId: 648962ea8d0f499a3e4a08cc
    id: 648962ea8d0f499a3e4a08cb
    type: comment
  author: sam-mosaic
  content: Closing as stale.
  created_at: 2023-06-14 05:49:14+00:00
  edited: false
  hidden: false
  id: 648962ea8d0f499a3e4a08cb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-06-14T06:49:14.000Z'
    data:
      status: closed
    id: 648962ea8d0f499a3e4a08cc
    type: status-change
  author: sam-mosaic
  created_at: 2023-06-14 05:49:14+00:00
  id: 648962ea8d0f499a3e4a08cc
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 24
repo_id: mosaicml/mpt-7b-instruct
repo_type: model
status: closed
target_branch: null
title: Error in Installation Setup
