!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Softology
conflicting_files: null
created_at: 2023-08-27 09:24:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T10:24:10.000Z'
    data:
      edited: true
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9440957903862
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: '<p>Once all the initial models are downloaded and under the user cache
          folder is there a way to tell the script not to try and access modelscope.cn
          every time it is run?</p>

          <p>If you use a VPN provider it seems modelscope blocks access, so you need
          to disable VPN for image2video to work.  If you are offline then the script
          hangs for 60 seconds before timing out and dying.<br>ie this error<br>ValueError:
          invalid model repo path HTTPConnectionPool(host=''<a rel="nofollow" href="http://www.modelscope.cn''">www.modelscope.cn''</a>,
          port=80): Max retries exceeded with url: /api/v1/models/damo/Image-to-Video?Revision=v1.1.0
          (Caused by ConnectTimeoutError(&lt;urllib3.connection.HTTPConnection object
          at 0x0000023B4430E050&gt;, ''Connection to <a rel="nofollow" href="http://www.modelscope.cn">www.modelscope.cn</a>
          timed out. (connect timeout=60)''))</p>

          <p>Why does it need to access modelscope.cn each time it is run if all the
          models have already been downloaded?</p>

          '
        raw: 'Once all the initial models are downloaded and under the user cache
          folder is there a way to tell the script not to try and access modelscope.cn
          every time it is run?


          If you use a VPN provider it seems modelscope blocks access, so you need
          to disable VPN for image2video to work.  If you are offline then the script
          hangs for 60 seconds before timing out and dying.

          ie this error

          ValueError: invalid model repo path HTTPConnectionPool(host=''www.modelscope.cn'',
          port=80): Max retries exceeded with url: /api/v1/models/damo/Image-to-Video?Revision=v1.1.0
          (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object
          at 0x0000023B4430E050>, ''Connection to www.modelscope.cn timed out. (connect
          timeout=60)''))


          Why does it need to access modelscope.cn each time it is run if all the
          models have already been downloaded?


          '
        updatedAt: '2023-08-27T12:09:27.151Z'
      numEdits: 2
      reactions: []
    id: 64eb244af156bb3ae1daf091
    type: comment
  author: Softology
  content: 'Once all the initial models are downloaded and under the user cache folder
    is there a way to tell the script not to try and access modelscope.cn every time
    it is run?


    If you use a VPN provider it seems modelscope blocks access, so you need to disable
    VPN for image2video to work.  If you are offline then the script hangs for 60
    seconds before timing out and dying.

    ie this error

    ValueError: invalid model repo path HTTPConnectionPool(host=''www.modelscope.cn'',
    port=80): Max retries exceeded with url: /api/v1/models/damo/Image-to-Video?Revision=v1.1.0
    (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x0000023B4430E050>,
    ''Connection to www.modelscope.cn timed out. (connect timeout=60)''))


    Why does it need to access modelscope.cn each time it is run if all the models
    have already been downloaded?


    '
  created_at: 2023-08-27 09:24:10+00:00
  edited: true
  hidden: false
  id: 64eb244af156bb3ae1daf091
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T10:34:50.000Z'
    data:
      from: Stop scipt needing online access to modelscope.cn
      to: Stop script needing online access to modelscope.cn
    id: 64eb26ca03728c2a7d71a0cb
    type: title-change
  author: Softology
  created_at: 2023-08-27 09:34:50+00:00
  id: 64eb26ca03728c2a7d71a0cb
  new_title: Stop script needing online access to modelscope.cn
  old_title: Stop scipt needing online access to modelscope.cn
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T12:24:34.000Z'
    data:
      edited: true
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.37572941184043884
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: '<p>For offline abilities, change this</p>

          <p>pipe = pipeline(task=''image-to-video'', model=''damo/Image-to-Video'',
          model_revision=''v1.1.0'', device=''cuda:0'')</p>

          <p>to</p>

          <p>pipe = pipeline(task=''image-to-video'', model=''C:\Users\YourUserName\.cache\modelscope\hub\damo\Image-to-Video\'',
          model_revision=''v1.1.0'', device=''cuda:0'')</p>

          <p>Set the model location to your local cache folder with the model files.  You
          do need to have allowed the models to all download at least once while online.</p>

          '
        raw: 'For offline abilities, change this


          pipe = pipeline(task=''image-to-video'', model=''damo/Image-to-Video'',
          model_revision=''v1.1.0'', device=''cuda:0'')


          to


          pipe = pipeline(task=''image-to-video'', model=''C:\\Users\\YourUserName\\.cache\\modelscope\\hub\\damo\\Image-to-Video\\'',
          model_revision=''v1.1.0'', device=''cuda:0'')


          Set the model location to your local cache folder with the model files.  You
          do need to have allowed the models to all download at least once while online.'
        updatedAt: '2023-08-27T13:02:59.840Z'
      numEdits: 2
      reactions: []
    id: 64eb4082f156bb3ae1ddaed3
    type: comment
  author: Softology
  content: 'For offline abilities, change this


    pipe = pipeline(task=''image-to-video'', model=''damo/Image-to-Video'', model_revision=''v1.1.0'',
    device=''cuda:0'')


    to


    pipe = pipeline(task=''image-to-video'', model=''C:\\Users\\YourUserName\\.cache\\modelscope\\hub\\damo\\Image-to-Video\\'',
    model_revision=''v1.1.0'', device=''cuda:0'')


    Set the model location to your local cache folder with the model files.  You do
    need to have allowed the models to all download at least once while online.'
  created_at: 2023-08-27 11:24:34+00:00
  edited: true
  hidden: false
  id: 64eb4082f156bb3ae1ddaed3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T12:54:56.000Z'
    data:
      edited: false
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.35999178886413574
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: '<p>Or, better yet, something like this, to only go online if a model
          is needed...</p>

          <p>try:<br>    pipe = pipeline(task=''image-to-video'', model=''full path
          to local cache directory'', model_revision=''v1.1.0'', device=''cuda:0'')<br>except:<br>    pipe
          = pipeline(task=''image-to-video'', model=''damo/Image-to-Video'', model_revision=''v1.1.0'',
          device=''cuda:0'')</p>

          '
        raw: "Or, better yet, something like this, to only go online if a model is\
          \ needed...\n\ntry:\n    pipe = pipeline(task='image-to-video', model='full\
          \ path to local cache directory', model_revision='v1.1.0', device='cuda:0')\n\
          except:\n    pipe = pipeline(task='image-to-video', model='damo/Image-to-Video',\
          \ model_revision='v1.1.0', device='cuda:0')\n"
        updatedAt: '2023-08-27T12:54:56.602Z'
      numEdits: 0
      reactions: []
    id: 64eb47a06a38b6958659c254
    type: comment
  author: Softology
  content: "Or, better yet, something like this, to only go online if a model is needed...\n\
    \ntry:\n    pipe = pipeline(task='image-to-video', model='full path to local cache\
    \ directory', model_revision='v1.1.0', device='cuda:0')\nexcept:\n    pipe = pipeline(task='image-to-video',\
    \ model='damo/Image-to-Video', model_revision='v1.1.0', device='cuda:0')\n"
  created_at: 2023-08-27 11:54:56+00:00
  edited: false
  hidden: false
  id: 64eb47a06a38b6958659c254
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T13:03:04.000Z'
    data:
      status: closed
    id: 64eb4988b36ed038b67d4dc3
    type: status-change
  author: Softology
  created_at: 2023-08-27 12:03:04+00:00
  id: 64eb4988b36ed038b67d4dc3
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: ali-vilab/MS-Image2Video
repo_type: model
status: closed
target_branch: null
title: Stop script needing online access to modelscope.cn
