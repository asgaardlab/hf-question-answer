!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Softology
conflicting_files: null
created_at: 2023-08-25 23:01:42+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-26T00:01:42.000Z'
    data:
      edited: true
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.39950239658355713
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: '<p>Using your example code</p>

          <p>from modelscope.pipelines import pipeline<br>from modelscope.outputs
          import OutputKeys<br>pipe = pipeline("image-to-video", ''damo/Image-to-Video'')<br>output_video_path
          = pipe(''MonaLisaColor.jpg'', output_video=''./output.mp4'')[OutputKeys.OUTPUT_VIDEO]<br>print(output_video_path)</p>

          <p>fails with this error</p>

          <p>Traceback (most recent call last):<br>  File "D:\MS-Image2Video\image2video.py",
          line 3, in <br>    pipe = pipeline("image-to-video", ''damo/Image-to-Video'')<br>  File
          "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\pipelines\builder.py",
          line 100, in pipeline<br>    model = normalize_model_input(model, model_revision)<br>  File
          "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\pipelines\builder.py",
          line 29, in normalize_model_input<br>    model = snapshot_download(<br>  File
          "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\hub\snapshot_download.py",
          line 94, in snapshot_download<br>    revision = _api.get_valid_revision(<br>  File
          "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\hub\api.py",
          line 446, in get_valid_revision<br>    raise NoValidRevisionError(<br>modelscope.hub.errors.NoValidRevisionError:
          The model: damo/Image-to-Video has no valid revision!</p>

          <p>Any ideas on what I need to change to fix it?</p>

          <p>Also, you need to add tensorflow to the requirements packages list.</p>

          '
        raw: "Using your example code\n\nfrom modelscope.pipelines import pipeline\n\
          from modelscope.outputs import OutputKeys\npipe = pipeline(\"image-to-video\"\
          , 'damo/Image-to-Video')\noutput_video_path = pipe('MonaLisaColor.jpg',\
          \ output_video='./output.mp4')[OutputKeys.OUTPUT_VIDEO]\nprint(output_video_path)\n\
          \nfails with this error\n\nTraceback (most recent call last):\n  File \"\
          D:\\MS-Image2Video\\image2video.py\", line 3, in <module>\n    pipe = pipeline(\"\
          image-to-video\", 'damo/Image-to-Video')\n  File \"D:\\MS-Image2Video\\\
          voc_msimage2video\\lib\\site-packages\\modelscope\\pipelines\\builder.py\"\
          , line 100, in pipeline\n    model = normalize_model_input(model, model_revision)\n\
          \  File \"D:\\MS-Image2Video\\voc_msimage2video\\lib\\site-packages\\modelscope\\\
          pipelines\\builder.py\", line 29, in normalize_model_input\n    model =\
          \ snapshot_download(\n  File \"D:\\MS-Image2Video\\voc_msimage2video\\lib\\\
          site-packages\\modelscope\\hub\\snapshot_download.py\", line 94, in snapshot_download\n\
          \    revision = _api.get_valid_revision(\n  File \"D:\\MS-Image2Video\\\
          voc_msimage2video\\lib\\site-packages\\modelscope\\hub\\api.py\", line 446,\
          \ in get_valid_revision\n    raise NoValidRevisionError(\nmodelscope.hub.errors.NoValidRevisionError:\
          \ The model: damo/Image-to-Video has no valid revision!\n\nAny ideas on\
          \ what I need to change to fix it?\n\nAlso, you need to add tensorflow to\
          \ the requirements packages list."
        updatedAt: '2023-08-26T01:14:18.137Z'
      numEdits: 3
      reactions: []
    id: 64e940e6b36ed038b6456a73
    type: comment
  author: Softology
  content: "Using your example code\n\nfrom modelscope.pipelines import pipeline\n\
    from modelscope.outputs import OutputKeys\npipe = pipeline(\"image-to-video\"\
    , 'damo/Image-to-Video')\noutput_video_path = pipe('MonaLisaColor.jpg', output_video='./output.mp4')[OutputKeys.OUTPUT_VIDEO]\n\
    print(output_video_path)\n\nfails with this error\n\nTraceback (most recent call\
    \ last):\n  File \"D:\\MS-Image2Video\\image2video.py\", line 3, in <module>\n\
    \    pipe = pipeline(\"image-to-video\", 'damo/Image-to-Video')\n  File \"D:\\\
    MS-Image2Video\\voc_msimage2video\\lib\\site-packages\\modelscope\\pipelines\\\
    builder.py\", line 100, in pipeline\n    model = normalize_model_input(model,\
    \ model_revision)\n  File \"D:\\MS-Image2Video\\voc_msimage2video\\lib\\site-packages\\\
    modelscope\\pipelines\\builder.py\", line 29, in normalize_model_input\n    model\
    \ = snapshot_download(\n  File \"D:\\MS-Image2Video\\voc_msimage2video\\lib\\\
    site-packages\\modelscope\\hub\\snapshot_download.py\", line 94, in snapshot_download\n\
    \    revision = _api.get_valid_revision(\n  File \"D:\\MS-Image2Video\\voc_msimage2video\\\
    lib\\site-packages\\modelscope\\hub\\api.py\", line 446, in get_valid_revision\n\
    \    raise NoValidRevisionError(\nmodelscope.hub.errors.NoValidRevisionError:\
    \ The model: damo/Image-to-Video has no valid revision!\n\nAny ideas on what I\
    \ need to change to fix it?\n\nAlso, you need to add tensorflow to the requirements\
    \ packages list."
  created_at: 2023-08-25 23:01:42+00:00
  edited: true
  hidden: false
  id: 64e940e6b36ed038b6456a73
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e84f0b045f32c5b8b4da43458650b925.svg
      fullname: Shiwei Zhang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: StevenZhang
      type: user
    createdAt: '2023-08-26T02:58:07.000Z'
    data:
      edited: false
      editors:
      - StevenZhang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6866050958633423
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e84f0b045f32c5b8b4da43458650b925.svg
          fullname: Shiwei Zhang
          isHf: false
          isPro: false
          name: StevenZhang
          type: user
        html: '<p>Hi, please try the following code:</p>

          <pre><code class="language-python"><span class="hljs-keyword">from</span>
          modelscope.pipelines <span class="hljs-keyword">import</span> pipeline

          <span class="hljs-keyword">from</span> modelscope.outputs <span class="hljs-keyword">import</span>
          OutputKeys


          pipe = pipeline(task=<span class="hljs-string">''image-to-video''</span>,
          model=<span class="hljs-string">''damo/Image-to-Video''</span>, model_revision=<span
          class="hljs-string">''v1.1.0''</span>)


          <span class="hljs-comment"># IMG_PATH: your image path (url or local file)</span>

          output_video_path = pipe(IMG_PATH, output_video=<span class="hljs-string">''./output.mp4''</span>)[OutputKeys.OUTPUT_VIDEO]

          <span class="hljs-built_in">print</span>(output_video_path)

          </code></pre>

          <p>Moreover, we will update the latest introduction as soon as possible,
          and you can also refer to the introduction on our ModelScope. (<a rel="nofollow"
          href="https://modelscope.cn/models/damo/Image-to-Video/summary">https://modelscope.cn/models/damo/Image-to-Video/summary</a>)</p>

          '
        raw: 'Hi, please try the following code:


          ```python

          from modelscope.pipelines import pipeline

          from modelscope.outputs import OutputKeys


          pipe = pipeline(task=''image-to-video'', model=''damo/Image-to-Video'',
          model_revision=''v1.1.0'')


          # IMG_PATH: your image path (url or local file)

          output_video_path = pipe(IMG_PATH, output_video=''./output.mp4'')[OutputKeys.OUTPUT_VIDEO]

          print(output_video_path)

          ```

          Moreover, we will update the latest introduction as soon as possible, and
          you can also refer to the introduction on our ModelScope. (https://modelscope.cn/models/damo/Image-to-Video/summary)'
        updatedAt: '2023-08-26T02:58:07.937Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Rean
    id: 64e96a3ff494f8b2a059307b
    type: comment
  author: StevenZhang
  content: 'Hi, please try the following code:


    ```python

    from modelscope.pipelines import pipeline

    from modelscope.outputs import OutputKeys


    pipe = pipeline(task=''image-to-video'', model=''damo/Image-to-Video'', model_revision=''v1.1.0'')


    # IMG_PATH: your image path (url or local file)

    output_video_path = pipe(IMG_PATH, output_video=''./output.mp4'')[OutputKeys.OUTPUT_VIDEO]

    print(output_video_path)

    ```

    Moreover, we will update the latest introduction as soon as possible, and you
    can also refer to the introduction on our ModelScope. (https://modelscope.cn/models/damo/Image-to-Video/summary)'
  created_at: 2023-08-26 01:58:07+00:00
  edited: false
  hidden: false
  id: 64e96a3ff494f8b2a059307b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-26T05:06:40.000Z'
    data:
      edited: true
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5243951678276062
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: '<p>Got past the first error, all the model downloads finish, but now...</p>

          <p>2023-08-26 15:04:57,396 - modelscope - INFO - PyTorch version 2.0.0+cu118
          Found.<br>2023-08-26 15:04:57,399 - modelscope - INFO - TensorFlow version
          2.13.0 Found.<br>2023-08-26 15:04:57,399 - modelscope - INFO - Loading ast
          index from C:\Users\Jason.cache\modelscope\ast_indexer<br>2023-08-26 15:04:57,459
          - modelscope - INFO - Loading done! Current index file version is 1.4.2,
          with md5 f35527cadca2e72caec4f646bd8d2127 and a total number of 842 components
          indexed<br>2023-08-26 15:05:02,721 - modelscope - INFO - Use user-specified
          model revision: v1.1.0<br>2023-08-26 15:05:06,181 - modelscope - WARNING
          - (''PIPELINES'', ''image-to-video'', ''image-to-video-task-pipeline'')
          not found in ast index file<br>Traceback (most recent call last):<br>  File
          "D:\MS-Image2Video\image2video.py", line 3, in <br>    pipe = pipeline(task=''image-to-video'',
          model=''damo/Image-to-Video'', model_revision=''v1.1.0'')<br>  File "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\pipelines\builder.py",
          line 140, in pipeline<br>    return build_pipeline(cfg, task_name=task)<br>  File
          "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\pipelines\builder.py",
          line 56, in build_pipeline<br>    return build_from_cfg(<br>  File "D:\MS-Image2Video\voc_msimage2video\lib\site-packages\modelscope\utils\registry.py",
          line 198, in build_from_cfg<br>    raise KeyError(<br>KeyError: ''image-to-video-task-pipeline
          is not in the pipelines registry group image-to-video. Please make sure
          the correct version of ModelScope library is used.''</p>

          <p>Modelscope is v 1.4.2.  Is there a way to stop it needing online access
          once all the initial model files are downloaded?  It also seems to download
          the models from modelscope rather than this hugging face repostiory.  Hugging
          face would have better performance for users.</p>

          '
        raw: "Got past the first error, all the model downloads finish, but now...\n\
          \n2023-08-26 15:04:57,396 - modelscope - INFO - PyTorch version 2.0.0+cu118\
          \ Found.\n2023-08-26 15:04:57,399 - modelscope - INFO - TensorFlow version\
          \ 2.13.0 Found.\n2023-08-26 15:04:57,399 - modelscope - INFO - Loading ast\
          \ index from C:\\Users\\Jason\\.cache\\modelscope\\ast_indexer\n2023-08-26\
          \ 15:04:57,459 - modelscope - INFO - Loading done! Current index file version\
          \ is 1.4.2, with md5 f35527cadca2e72caec4f646bd8d2127 and a total number\
          \ of 842 components indexed\n2023-08-26 15:05:02,721 - modelscope - INFO\
          \ - Use user-specified model revision: v1.1.0\n2023-08-26 15:05:06,181 -\
          \ modelscope - WARNING - ('PIPELINES', 'image-to-video', 'image-to-video-task-pipeline')\
          \ not found in ast index file\nTraceback (most recent call last):\n  File\
          \ \"D:\\MS-Image2Video\\image2video.py\", line 3, in <module>\n    pipe\
          \ = pipeline(task='image-to-video', model='damo/Image-to-Video', model_revision='v1.1.0')\n\
          \  File \"D:\\MS-Image2Video\\voc_msimage2video\\lib\\site-packages\\modelscope\\\
          pipelines\\builder.py\", line 140, in pipeline\n    return build_pipeline(cfg,\
          \ task_name=task)\n  File \"D:\\MS-Image2Video\\voc_msimage2video\\lib\\\
          site-packages\\modelscope\\pipelines\\builder.py\", line 56, in build_pipeline\n\
          \    return build_from_cfg(\n  File \"D:\\MS-Image2Video\\voc_msimage2video\\\
          lib\\site-packages\\modelscope\\utils\\registry.py\", line 198, in build_from_cfg\n\
          \    raise KeyError(\nKeyError: 'image-to-video-task-pipeline is not in\
          \ the pipelines registry group image-to-video. Please make sure the correct\
          \ version of ModelScope library is used.'\n\nModelscope is v 1.4.2.  Is\
          \ there a way to stop it needing online access once all the initial model\
          \ files are downloaded?  It also seems to download the models from modelscope\
          \ rather than this hugging face repostiory.  Hugging face would have better\
          \ performance for users."
        updatedAt: '2023-08-26T07:31:16.433Z'
      numEdits: 5
      reactions: []
    id: 64e98860e74f54587cb3366b
    type: comment
  author: Softology
  content: "Got past the first error, all the model downloads finish, but now...\n\
    \n2023-08-26 15:04:57,396 - modelscope - INFO - PyTorch version 2.0.0+cu118 Found.\n\
    2023-08-26 15:04:57,399 - modelscope - INFO - TensorFlow version 2.13.0 Found.\n\
    2023-08-26 15:04:57,399 - modelscope - INFO - Loading ast index from C:\\Users\\\
    Jason\\.cache\\modelscope\\ast_indexer\n2023-08-26 15:04:57,459 - modelscope -\
    \ INFO - Loading done! Current index file version is 1.4.2, with md5 f35527cadca2e72caec4f646bd8d2127\
    \ and a total number of 842 components indexed\n2023-08-26 15:05:02,721 - modelscope\
    \ - INFO - Use user-specified model revision: v1.1.0\n2023-08-26 15:05:06,181\
    \ - modelscope - WARNING - ('PIPELINES', 'image-to-video', 'image-to-video-task-pipeline')\
    \ not found in ast index file\nTraceback (most recent call last):\n  File \"D:\\\
    MS-Image2Video\\image2video.py\", line 3, in <module>\n    pipe = pipeline(task='image-to-video',\
    \ model='damo/Image-to-Video', model_revision='v1.1.0')\n  File \"D:\\MS-Image2Video\\\
    voc_msimage2video\\lib\\site-packages\\modelscope\\pipelines\\builder.py\", line\
    \ 140, in pipeline\n    return build_pipeline(cfg, task_name=task)\n  File \"\
    D:\\MS-Image2Video\\voc_msimage2video\\lib\\site-packages\\modelscope\\pipelines\\\
    builder.py\", line 56, in build_pipeline\n    return build_from_cfg(\n  File \"\
    D:\\MS-Image2Video\\voc_msimage2video\\lib\\site-packages\\modelscope\\utils\\\
    registry.py\", line 198, in build_from_cfg\n    raise KeyError(\nKeyError: 'image-to-video-task-pipeline\
    \ is not in the pipelines registry group image-to-video. Please make sure the\
    \ correct version of ModelScope library is used.'\n\nModelscope is v 1.4.2.  Is\
    \ there a way to stop it needing online access once all the initial model files\
    \ are downloaded?  It also seems to download the models from modelscope rather\
    \ than this hugging face repostiory.  Hugging face would have better performance\
    \ for users."
  created_at: 2023-08-26 04:06:40+00:00
  edited: true
  hidden: false
  id: 64e98860e74f54587cb3366b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T01:39:39.000Z'
    data:
      edited: false
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7950546741485596
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: '<p>I also deleted the C:\Users\Jason.cache\modelscope\ directory and
          let it download all the models again and recreate the ast_indexer.<br>Same
          error.</p>

          <p>KeyError: ''image-to-video-task-pipeline is not in the pipelines registry
          group image-to-video. Please make sure the correct version of ModelScope
          library is used.''</p>

          <p>Any ideas?</p>

          '
        raw: 'I also deleted the C:\Users\Jason.cache\modelscope\ directory and let
          it download all the models again and recreate the ast_indexer.

          Same error.


          KeyError: ''image-to-video-task-pipeline is not in the pipelines registry
          group image-to-video. Please make sure the correct version of ModelScope
          library is used.''


          Any ideas?'
        updatedAt: '2023-08-27T01:39:39.373Z'
      numEdits: 0
      reactions: []
    id: 64eaa95b2ca4ff1d53ba16ce
    type: comment
  author: Softology
  content: 'I also deleted the C:\Users\Jason.cache\modelscope\ directory and let
    it download all the models again and recreate the ast_indexer.

    Same error.


    KeyError: ''image-to-video-task-pipeline is not in the pipelines registry group
    image-to-video. Please make sure the correct version of ModelScope library is
    used.''


    Any ideas?'
  created_at: 2023-08-27 00:39:39+00:00
  edited: false
  hidden: false
  id: 64eaa95b2ca4ff1d53ba16ce
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T02:16:13.000Z'
    data:
      edited: true
      editors:
      - Softology
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8652980923652649
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
          fullname: Jason Rampe
          isHf: false
          isPro: false
          name: Softology
          type: user
        html: ''
        raw: '

          '
        updatedAt: '2023-08-27T06:57:47.521Z'
      numEdits: 2
      reactions: []
    id: 64eab1ed5ba66cfe77869dc6
    type: comment
  author: Softology
  content: '

    '
  created_at: 2023-08-27 01:16:13+00:00
  edited: true
  hidden: false
  id: 64eab1ed5ba66cfe77869dc6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/d3cb5920a046bbc259f3607992eedb69.svg
      fullname: Jason Rampe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Softology
      type: user
    createdAt: '2023-08-27T07:03:38.000Z'
    data:
      status: closed
    id: 64eaf54a3d76028d805cf318
    type: status-change
  author: Softology
  created_at: 2023-08-27 06:03:38+00:00
  id: 64eaf54a3d76028d805cf318
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: ali-vilab/MS-Image2Video
repo_type: model
status: closed
target_branch: null
title: Example code does not work
