!!python/object:huggingface_hub.community.DiscussionWithDetails
author: sdranju
conflicting_files: null
created_at: 2023-08-25 12:51:41+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/51a8fecfd7d35ca6ad4bcbdb7cf1442e.svg
      fullname: Shamsuddoha Ranju
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sdranju
      type: user
    createdAt: '2023-08-25T13:51:41.000Z'
    data:
      edited: false
      editors:
      - sdranju
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9293431639671326
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/51a8fecfd7d35ca6ad4bcbdb7cf1442e.svg
          fullname: Shamsuddoha Ranju
          isHf: false
          isPro: false
          name: sdranju
          type: user
        html: '<p>I always get repetitive response and it''s just endless.</p>

          <blockquote>

          <blockquote>

          </blockquote>

          <p>Setting <code>pad_token_id</code> to <code>eos_token_id</code>:0 for
          open-end generation.<br> Paris</p>

          </blockquote>

          <p>Q: What is the capital of the U.S. state of California?<br>A: Sacramento</p>

          <p>Q: What is the name of the country that has the largest population in
          Europe?<br>A: Russia</p>

          <p>Q: What is the capital of the country that has the largest population
          in Europe?<br>A: Moscow</p>

          <p>Q: What is the capital of the country that has the largest population
          in Europe?<br>A: Moscow</p>

          <p>Q: What is the capital of the country that has the largest population
          in Europe?<br>A: Moscow</p>

          '
        raw: "I always get repetitive response and it's just endless.\r\n\r\n>>\r\n\
          Setting `pad_token_id` to `eos_token_id`:0 for open-end generation.\r\n\
          \ Paris\r\n\r\nQ: What is the capital of the U.S. state of California?\r\
          \nA: Sacramento\r\n\r\nQ: What is the name of the country that has the largest\
          \ population in Europe?\r\nA: Russia\r\n\r\nQ: What is the capital of the\
          \ country that has the largest population in Europe?\r\nA: Moscow\r\n\r\n\
          Q: What is the capital of the country that has the largest population in\
          \ Europe?\r\nA: Moscow\r\n\r\nQ: What is the capital of the country that\
          \ has the largest population in Europe?\r\nA: Moscow\r\n"
        updatedAt: '2023-08-25T13:51:41.438Z'
      numEdits: 0
      reactions: []
    id: 64e8b1ede5c0b9bdf020513b
    type: comment
  author: sdranju
  content: "I always get repetitive response and it's just endless.\r\n\r\n>>\r\n\
    Setting `pad_token_id` to `eos_token_id`:0 for open-end generation.\r\n Paris\r\
    \n\r\nQ: What is the capital of the U.S. state of California?\r\nA: Sacramento\r\
    \n\r\nQ: What is the name of the country that has the largest population in Europe?\r\
    \nA: Russia\r\n\r\nQ: What is the capital of the country that has the largest\
    \ population in Europe?\r\nA: Moscow\r\n\r\nQ: What is the capital of the country\
    \ that has the largest population in Europe?\r\nA: Moscow\r\n\r\nQ: What is the\
    \ capital of the country that has the largest population in Europe?\r\nA: Moscow\r\
    \n"
  created_at: 2023-08-25 12:51:41+00:00
  edited: false
  hidden: false
  id: 64e8b1ede5c0b9bdf020513b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6329ee3dab49d487dd1439ec/vxGvdBK0XMZaCpc5dGOIa.jpeg?w=200&h=200&f=face
      fullname: Maurice Weber
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mauriceweber
      type: user
    createdAt: '2023-08-31T15:34:19.000Z'
    data:
      edited: false
      editors:
      - mauriceweber
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7668437361717224
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6329ee3dab49d487dd1439ec/vxGvdBK0XMZaCpc5dGOIa.jpeg?w=200&h=200&f=face
          fullname: Maurice Weber
          isHf: false
          isPro: false
          name: mauriceweber
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;sdranju&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/sdranju\">@<span class=\"\
          underline\">sdranju</span></a></span>\n\n\t</span></span> , thanks for your\
          \ feedback! Can you let me know what prompt template and generation parameters\
          \ you are using? </p>\n"
        raw: 'Hi @sdranju , thanks for your feedback! Can you let me know what prompt
          template and generation parameters you are using? '
        updatedAt: '2023-08-31T15:34:19.943Z'
      numEdits: 0
      reactions: []
    id: 64f0b2fbd1d77772e1e6ba39
    type: comment
  author: mauriceweber
  content: 'Hi @sdranju , thanks for your feedback! Can you let me know what prompt
    template and generation parameters you are using? '
  created_at: 2023-08-31 14:34:19+00:00
  edited: false
  hidden: false
  id: 64f0b2fbd1d77772e1e6ba39
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62a439fded431f8151c0f320/2Z2xgT_N7meYzADhlzLJj.jpeg?w=200&h=200&f=face
      fullname: Mazzeschi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Michelangiolo
      type: user
    createdAt: '2023-09-02T16:13:50.000Z'
    data:
      edited: false
      editors:
      - Michelangiolo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9220386743545532
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62a439fded431f8151c0f320/2Z2xgT_N7meYzADhlzLJj.jpeg?w=200&h=200&f=face
          fullname: Mazzeschi
          isHf: false
          isPro: false
          name: Michelangiolo
          type: user
        html: '<p>Hi, same for me if I ask the model the model to generate questions
          based on a paragraph:<br>(I am not very successful at making it follow any
          instructions)</p>

          <p>My prompt:<br>{paragraph}<br>Generate questions for a quiz:</p>

          <ol>

          <li>What is Machine Learning?</li>

          <li>Why...</li>

          </ol>

          <p>Response:<br>{paragraph}<br>Generate questions for a quiz:</p>

          <ol>

          <li>What is Machine Learning?</li>

          <li>Why are neural networks used?</li>

          <li>What are adversarial networks?</li>

          <li>What are adversarial networks?</li>

          <li>What are adversarial networks?</li>

          <li>What are adversarial networks?<br>...</li>

          </ol>

          '
        raw: "Hi, same for me if I ask the model the model to generate questions based\
          \ on a paragraph:\n(I am not very successful at making it follow any instructions)\n\
          \nMy prompt: \n{paragraph}\nGenerate questions for a quiz:\n1. What is Machine\
          \ Learning?\n2. Why...\n\nResponse:\n{paragraph}\nGenerate questions for\
          \ a quiz:\n1. What is Machine Learning?\n2. Why are neural networks used?\n\
          3. What are adversarial networks?\n4. What are adversarial networks?\n5.\
          \ What are adversarial networks?\n6. What are adversarial networks?\n..."
        updatedAt: '2023-09-02T16:13:50.034Z'
      numEdits: 0
      reactions: []
    id: 64f35f3e82fc091e71f1a7e3
    type: comment
  author: Michelangiolo
  content: "Hi, same for me if I ask the model the model to generate questions based\
    \ on a paragraph:\n(I am not very successful at making it follow any instructions)\n\
    \nMy prompt: \n{paragraph}\nGenerate questions for a quiz:\n1. What is Machine\
    \ Learning?\n2. Why...\n\nResponse:\n{paragraph}\nGenerate questions for a quiz:\n\
    1. What is Machine Learning?\n2. Why are neural networks used?\n3. What are adversarial\
    \ networks?\n4. What are adversarial networks?\n5. What are adversarial networks?\n\
    6. What are adversarial networks?\n..."
  created_at: 2023-09-02 15:13:50+00:00
  edited: false
  hidden: false
  id: 64f35f3e82fc091e71f1a7e3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6329ee3dab49d487dd1439ec/vxGvdBK0XMZaCpc5dGOIa.jpeg?w=200&h=200&f=face
      fullname: Maurice Weber
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mauriceweber
      type: user
    createdAt: '2023-09-04T15:01:50.000Z'
    data:
      edited: false
      editors:
      - mauriceweber
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.664904773235321
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6329ee3dab49d487dd1439ec/vxGvdBK0XMZaCpc5dGOIa.jpeg?w=200&h=200&f=face
          fullname: Maurice Weber
          isHf: false
          isPro: false
          name: mauriceweber
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;Michelangiolo&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Michelangiolo\"\
          >@<span class=\"underline\">Michelangiolo</span></a></span>\n\n\t</span></span>\
          \ , did you try to set the parameter <code>repetition_penalty</code> to\
          \ something &gt; 1.0? Setting it to e.g. 1.2 can help in eliminating repetitions\
          \ (see <a rel=\"nofollow\" href=\"https://arxiv.org/pdf/1909.05858.pdf\"\
          >this</a> paper for details).</p>\n"
        raw: Hi @Michelangiolo , did you try to set the parameter `repetition_penalty`
          to something > 1.0? Setting it to e.g. 1.2 can help in eliminating repetitions
          (see [this](https://arxiv.org/pdf/1909.05858.pdf) paper for details).
        updatedAt: '2023-09-04T15:01:50.046Z'
      numEdits: 0
      reactions: []
    id: 64f5f15ea539ca3ba2c80c14
    type: comment
  author: mauriceweber
  content: Hi @Michelangiolo , did you try to set the parameter `repetition_penalty`
    to something > 1.0? Setting it to e.g. 1.2 can help in eliminating repetitions
    (see [this](https://arxiv.org/pdf/1909.05858.pdf) paper for details).
  created_at: 2023-09-04 14:01:50+00:00
  edited: false
  hidden: false
  id: 64f5f15ea539ca3ba2c80c14
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: togethercomputer/RedPajama-INCITE-Instruct-3B-v1
repo_type: model
status: open
target_branch: null
title: Unwanted repetitive response
