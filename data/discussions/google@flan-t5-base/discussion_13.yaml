!!python/object:huggingface_hub.community.DiscussionWithDetails
author: mihirinamdar
conflicting_files: null
created_at: 2023-03-03 16:42:56+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675183944470-noauth.png?w=200&h=200&f=face
      fullname: Mihir Inamdar
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mihirinamdar
      type: user
    createdAt: '2023-03-03T16:42:56.000Z'
    data:
      edited: false
      editors:
      - mihirinamdar
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675183944470-noauth.png?w=200&h=200&f=face
          fullname: Mihir Inamdar
          isHf: false
          isPro: false
          name: mihirinamdar
          type: user
        html: '<p>Tokenize input data<br>text = "Sample text for fine-tuning flan
          t5 base model." inputs = tokenizer.encode(text, return_tensors=''pt'') </p>

          <p>Prepare labels<br>labels = inputs.clone()<br>labels[0, :-1] = labels[0,
          1:]</p>

          <p>It should work but I got this error: RuntimeError Traceback (most recent
          call last) in 5 # Prepare labels 6 labels = inputs.clone() ----&gt; 7 labels[0,
          :-1] = labels[0, 1:]</p>

          <p>RuntimeError: unsupported operation: some elements of the input tensor
          and the written-to tensor refer to a single memory location. Please clone()
          the tensor before performing the operation.</p>

          <p>Can somebody help fix this issue? Thank you</p>

          '
        raw: "Tokenize input data\r\ntext = \"Sample text for fine-tuning flan t5\
          \ base model.\" inputs = tokenizer.encode(text, return_tensors='pt') \r\n\
          \r\nPrepare labels\r\nlabels = inputs.clone() \r\nlabels[0, :-1] = labels[0,\
          \ 1:]\r\n\r\nIt should work but I got this error: RuntimeError Traceback\
          \ (most recent call last) in 5 # Prepare labels 6 labels = inputs.clone()\
          \ ----> 7 labels[0, :-1] = labels[0, 1:]\r\n\r\nRuntimeError: unsupported\
          \ operation: some elements of the input tensor and the written-to tensor\
          \ refer to a single memory location. Please clone() the tensor before performing\
          \ the operation.\r\n\r\nCan somebody help fix this issue? Thank you"
        updatedAt: '2023-03-03T16:42:56.970Z'
      numEdits: 0
      reactions: []
    id: 640223904ad6464af9b36b31
    type: comment
  author: mihirinamdar
  content: "Tokenize input data\r\ntext = \"Sample text for fine-tuning flan t5 base\
    \ model.\" inputs = tokenizer.encode(text, return_tensors='pt') \r\n\r\nPrepare\
    \ labels\r\nlabels = inputs.clone() \r\nlabels[0, :-1] = labels[0, 1:]\r\n\r\n\
    It should work but I got this error: RuntimeError Traceback (most recent call\
    \ last) in 5 # Prepare labels 6 labels = inputs.clone() ----> 7 labels[0, :-1]\
    \ = labels[0, 1:]\r\n\r\nRuntimeError: unsupported operation: some elements of\
    \ the input tensor and the written-to tensor refer to a single memory location.\
    \ Please clone() the tensor before performing the operation.\r\n\r\nCan somebody\
    \ help fix this issue? Thank you"
  created_at: 2023-03-03 16:42:56+00:00
  edited: false
  hidden: false
  id: 640223904ad6464af9b36b31
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 13
repo_id: google/flan-t5-base
repo_type: model
status: open
target_branch: null
title: Issues in fine tuning flan T5 model?
