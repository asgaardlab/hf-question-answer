!!python/object:huggingface_hub.community.DiscussionWithDetails
author: hzhou17
conflicting_files: null
created_at: 2023-07-04 21:06:39+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c448e108ee63fba961244b15aecbbb9f.svg
      fullname: Heran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: hzhou17
      type: user
    createdAt: '2023-07-04T22:06:39.000Z'
    data:
      edited: false
      editors:
      - hzhou17
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7200708985328674
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c448e108ee63fba961244b15aecbbb9f.svg
          fullname: Heran
          isHf: false
          isPro: false
          name: hzhou17
          type: user
        html: '<p>I am loving the model. </p>

          <p>But I have a question about how to use the Inpaint .safetensors model
          with Diffusers... </p>

          <p>Calling "Lykon/DreamShaper" will lead to the default, non-inpaint model.
          </p>

          <p>But calling "/home/user/Dreamshaper/DreamShaper_7-INPAINTING.inpainting.safetensors"
          will give me the error of "huggingface_hub.utils._validators.HFValidationError:
          Repo id must be in the form ''repo_name'' or ''namespace/repo_name'': ''/home/heran/DreamShaper/DreamShaper_7_INPAINTING.inpainting.safetensors''.
          Use <code>repo_type</code> argument if needed."</p>

          <p>Would really appreciate if anyone can help me with this.</p>

          '
        raw: "I am loving the model. \r\n\r\nBut I have a question about how to use\
          \ the Inpaint .safetensors model with Diffusers... \r\n\r\nCalling \"Lykon/DreamShaper\"\
          \ will lead to the default, non-inpaint model. \r\n\r\nBut calling \"/home/user/Dreamshaper/DreamShaper_7-INPAINTING.inpainting.safetensors\"\
          \ will give me the error of \"huggingface_hub.utils._validators.HFValidationError:\
          \ Repo id must be in the form 'repo_name' or 'namespace/repo_name': '/home/heran/DreamShaper/DreamShaper_7_INPAINTING.inpainting.safetensors'.\
          \ Use `repo_type` argument if needed.\"\r\n\r\nWould really appreciate if\
          \ anyone can help me with this.\r\n"
        updatedAt: '2023-07-04T22:06:39.722Z'
      numEdits: 0
      reactions: []
    id: 64a497ef4c10e36754a40c34
    type: comment
  author: hzhou17
  content: "I am loving the model. \r\n\r\nBut I have a question about how to use\
    \ the Inpaint .safetensors model with Diffusers... \r\n\r\nCalling \"Lykon/DreamShaper\"\
    \ will lead to the default, non-inpaint model. \r\n\r\nBut calling \"/home/user/Dreamshaper/DreamShaper_7-INPAINTING.inpainting.safetensors\"\
    \ will give me the error of \"huggingface_hub.utils._validators.HFValidationError:\
    \ Repo id must be in the form 'repo_name' or 'namespace/repo_name': '/home/heran/DreamShaper/DreamShaper_7_INPAINTING.inpainting.safetensors'.\
    \ Use `repo_type` argument if needed.\"\r\n\r\nWould really appreciate if anyone\
    \ can help me with this.\r\n"
  created_at: 2023-07-04 21:06:39+00:00
  edited: false
  hidden: false
  id: 64a497ef4c10e36754a40c34
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63c09b32dd793d5a62895a95/27FwQlh3am6xCh9f1mExM.jpeg?w=200&h=200&f=face
      fullname: Duskfall Crew
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Duskfallcrew
      type: user
    createdAt: '2023-07-04T23:24:59.000Z'
    data:
      edited: false
      editors:
      - Duskfallcrew
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9726417064666748
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63c09b32dd793d5a62895a95/27FwQlh3am6xCh9f1mExM.jpeg?w=200&h=200&f=face
          fullname: Duskfall Crew
          isHf: false
          isPro: false
          name: Duskfallcrew
          type: user
        html: '<p>Not sure Lykon made the diffusers version for inpainting yet, i
          could be wrong.</p>

          '
        raw: Not sure Lykon made the diffusers version for inpainting yet, i could
          be wrong.
        updatedAt: '2023-07-04T23:24:59.695Z'
      numEdits: 0
      reactions: []
    id: 64a4aa4b37d7d6eb4faa82b8
    type: comment
  author: Duskfallcrew
  content: Not sure Lykon made the diffusers version for inpainting yet, i could be
    wrong.
  created_at: 2023-07-04 22:24:59+00:00
  edited: false
  hidden: false
  id: 64a4aa4b37d7d6eb4faa82b8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672788314686-noauth.png?w=200&h=200&f=face
      fullname: '-'
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Lykon
      type: user
    createdAt: '2023-07-05T03:06:59.000Z'
    data:
      edited: false
      editors:
      - Lykon
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9848341941833496
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672788314686-noauth.png?w=200&h=200&f=face
          fullname: '-'
          isHf: false
          isPro: false
          name: Lykon
          type: user
        html: '<p>I didn''t, is it needed? Don''t script support safetensors nowdays?</p>

          '
        raw: I didn't, is it needed? Don't script support safetensors nowdays?
        updatedAt: '2023-07-05T03:06:59.857Z'
      numEdits: 0
      reactions: []
    id: 64a4de53a58bfd089594c4fc
    type: comment
  author: Lykon
  content: I didn't, is it needed? Don't script support safetensors nowdays?
  created_at: 2023-07-05 02:06:59+00:00
  edited: false
  hidden: false
  id: 64a4de53a58bfd089594c4fc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd8dbd15309b3658a9242968c785de9c.svg
      fullname: Mohd zaid
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Mohdzaid18
      type: user
    createdAt: '2023-07-11T08:59:38.000Z'
    data:
      edited: true
      editors:
      - Mohdzaid18
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6451108455657959
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd8dbd15309b3658a9242968c785de9c.svg
          fullname: Mohd zaid
          isHf: false
          isPro: false
          name: Mohdzaid18
          type: user
        html: "<p>I dont think you need to import <strong>Inpaint</strong> by specifying\
          \ <code>url</code>.<br>You could just pass name <code>Lykon/Dreamshaper</code>\
          \ to <code>StablefdiffusionInpaintPipeline</code> and it should work.</p>\n\
          <p>Or you could just unpack the components of main model you have already\
          \ loaded.</p>\n<p>I use the Later, Try this <code>\U0001F40Dpython</code>\
          \ code , this worked out for me. <code>:)</code></p>\n<pre><code>from diffusers\
          \ import DiffusionPipeline\nfrom diffusers import StableDiffusionImg2ImgPipeline\n\
          from diffusers import StableDiffusionInpaintPipeline\n\nGenerationPipe =\
          \ DiffusionPipeline.from_pretrained( GenerationModel, torch_dtype=torch.float16\
          \ ).to( Device )\nVariationPipe = StableDiffusionImg2ImgPipeline.from_pretrained(\
          \ GenerationModel, **GenerationPipe.components ).to( Device )\nInpaintPipe\
          \ = StableDiffusionInpaintPipeline.from_pretrained( GenerationModel, **GenerationPipe.components\
          \ ).to( Device )\n\nGeneratedImage = GenerationPipe( Prompt ).images[0]\n\
          VariedImage  = VariationPipe( VarPrompt, image= GeneratedImage ).images[0]\n\
          InpaintedImage = imageinp=InpaintPipe( InpaintPrompt, image=GeneratedImage,\
          \ mask_image=ImageMask ).images[0]\n</code></pre>\n<p><code> \u26A0\uFE0F\
          </code> Make sure that you set <code>GenerationModel = 'Lykon/DreamShaper'</code>\
          \ and <code>Device='cuda'</code>.<br><code>\U0001F917</code> I Hope it helps\
          \ .</p>\n"
        raw: "I dont think you need to import **Inpaint** by specifying `url`.\nYou\
          \ could just pass name `Lykon/Dreamshaper` to `StablefdiffusionInpaintPipeline`\
          \ and it should work.\n\nOr you could just unpack the components of main\
          \ model you have already loaded.\n\nI use the Later, Try this `\U0001F40D\
          python` code , this worked out for me. `:)`\n```\nfrom diffusers import\
          \ DiffusionPipeline\nfrom diffusers import StableDiffusionImg2ImgPipeline\n\
          from diffusers import StableDiffusionInpaintPipeline\n\nGenerationPipe =\
          \ DiffusionPipeline.from_pretrained( GenerationModel, torch_dtype=torch.float16\
          \ ).to( Device )\nVariationPipe = StableDiffusionImg2ImgPipeline.from_pretrained(\
          \ GenerationModel, **GenerationPipe.components ).to( Device )\nInpaintPipe\
          \ = StableDiffusionInpaintPipeline.from_pretrained( GenerationModel, **GenerationPipe.components\
          \ ).to( Device )\n\nGeneratedImage = GenerationPipe( Prompt ).images[0]\n\
          VariedImage  = VariationPipe( VarPrompt, image= GeneratedImage ).images[0]\n\
          InpaintedImage = imageinp=InpaintPipe( InpaintPrompt, image=GeneratedImage,\
          \ mask_image=ImageMask ).images[0]\n```\n` \u26A0\uFE0F` Make sure that\
          \ you set `GenerationModel = 'Lykon/DreamShaper'` and `Device='cuda'`.\n\
          `\U0001F917` I Hope it helps ."
        updatedAt: '2023-07-11T14:32:49.896Z'
      numEdits: 1
      reactions: []
    id: 64ad19fa5b181f6ccaa48367
    type: comment
  author: Mohdzaid18
  content: "I dont think you need to import **Inpaint** by specifying `url`.\nYou\
    \ could just pass name `Lykon/Dreamshaper` to `StablefdiffusionInpaintPipeline`\
    \ and it should work.\n\nOr you could just unpack the components of main model\
    \ you have already loaded.\n\nI use the Later, Try this `\U0001F40Dpython` code\
    \ , this worked out for me. `:)`\n```\nfrom diffusers import DiffusionPipeline\n\
    from diffusers import StableDiffusionImg2ImgPipeline\nfrom diffusers import StableDiffusionInpaintPipeline\n\
    \nGenerationPipe = DiffusionPipeline.from_pretrained( GenerationModel, torch_dtype=torch.float16\
    \ ).to( Device )\nVariationPipe = StableDiffusionImg2ImgPipeline.from_pretrained(\
    \ GenerationModel, **GenerationPipe.components ).to( Device )\nInpaintPipe = StableDiffusionInpaintPipeline.from_pretrained(\
    \ GenerationModel, **GenerationPipe.components ).to( Device )\n\nGeneratedImage\
    \ = GenerationPipe( Prompt ).images[0]\nVariedImage  = VariationPipe( VarPrompt,\
    \ image= GeneratedImage ).images[0]\nInpaintedImage = imageinp=InpaintPipe( InpaintPrompt,\
    \ image=GeneratedImage, mask_image=ImageMask ).images[0]\n```\n` \u26A0\uFE0F\
    ` Make sure that you set `GenerationModel = 'Lykon/DreamShaper'` and `Device='cuda'`.\n\
    `\U0001F917` I Hope it helps ."
  created_at: 2023-07-11 07:59:38+00:00
  edited: true
  hidden: false
  id: 64ad19fa5b181f6ccaa48367
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672788314686-noauth.png?w=200&h=200&f=face
      fullname: '-'
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Lykon
      type: user
    createdAt: '2023-07-11T09:49:04.000Z'
    data:
      edited: false
      editors:
      - Lykon
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8658031821250916
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672788314686-noauth.png?w=200&h=200&f=face
          fullname: '-'
          isHf: false
          isPro: false
          name: Lykon
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Mohdzaid18&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Mohdzaid18\">@<span class=\"\
          underline\">Mohdzaid18</span></a></span>\n\n\t</span></span> I think <span\
          \ data-props=\"{&quot;user&quot;:&quot;hzhou17&quot;}\" data-target=\"UserMention\"\
          \ class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"\
          ><span class=\"contents\"><a href=\"/hzhou17\">@<span class=\"underline\"\
          >hzhou17</span></a></span>\n\n\t</span></span> was talking about the inpainting\
          \ model specifically, which is this other file <a href=\"https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors\"\
          >https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors</a></p>\n\
          <p>Not to be confused with the main model here <a href=\"https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors\"\
          >https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors</a><br>Or\
          \ with the diffusers (which are the same as the main model)</p>\n"
        raw: '@Mohdzaid18 I think @hzhou17 was talking about the inpainting model
          specifically, which is this other file https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors


          Not to be confused with the main model here https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors

          Or with the diffusers (which are the same as the main model)'
        updatedAt: '2023-07-11T09:49:04.713Z'
      numEdits: 0
      reactions: []
    id: 64ad259080f308a395dab33e
    type: comment
  author: Lykon
  content: '@Mohdzaid18 I think @hzhou17 was talking about the inpainting model specifically,
    which is this other file https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors


    Not to be confused with the main model here https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors

    Or with the diffusers (which are the same as the main model)'
  created_at: 2023-07-11 08:49:04+00:00
  edited: false
  hidden: false
  id: 64ad259080f308a395dab33e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/dd8dbd15309b3658a9242968c785de9c.svg
      fullname: Mohd zaid
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Mohdzaid18
      type: user
    createdAt: '2023-07-11T15:21:29.000Z'
    data:
      edited: true
      editors:
      - Mohdzaid18
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7286180257797241
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/dd8dbd15309b3658a9242968c785de9c.svg
          fullname: Mohd zaid
          isHf: false
          isPro: false
          name: Mohdzaid18
          type: user
        html: '<p>So which model does <code>StableDiffusionInpaintPipeline</code>
          uses? <a href="https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors">Dreamshaper
          7</a> or <a href="https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors">Dreamshaper_7-INPAINTING</a><br>Because
          I have used <code>StableDiffusionInpaintPipeline</code> and it works perfectly
          fine for inpainting purposes.<br>So i assumed it uses <a href="https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors">Dreamshaper_7-INPAINTING</a>
          or any other of which version is set to default.<br><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/646f7764850a938d6c52f7ac/oVpeFhpswZ09GMuPJgZpq.png"><img
          alt="Example" src="https://cdn-uploads.huggingface.co/production/uploads/646f7764850a938d6c52f7ac/oVpeFhpswZ09GMuPJgZpq.png"></a><br>Using
          the above code that i had provided, iwas able to first generate the image
          and then provide the mask and rightmost image is the output from <code>StableDiffusionInpaintPipeline</code>,  i
          really think it uses inpaint model to achive this.</p>

          '
        raw: 'So which model does `StableDiffusionInpaintPipeline` uses? [Dreamshaper
          7](https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors)
          or [Dreamshaper_7-INPAINTING](https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors)

          Because I have used `StableDiffusionInpaintPipeline` and it works perfectly
          fine for inpainting purposes.

          So i assumed it uses [Dreamshaper_7-INPAINTING](https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors)
          or any other of which version is set to default.

          ![Example](https://cdn-uploads.huggingface.co/production/uploads/646f7764850a938d6c52f7ac/oVpeFhpswZ09GMuPJgZpq.png)

          Using the above code that i had provided, iwas able to first generate the
          image and then provide the mask and rightmost image is the output from `StableDiffusionInpaintPipeline`,  i
          really think it uses inpaint model to achive this.'
        updatedAt: '2023-07-11T15:22:19.341Z'
      numEdits: 1
      reactions: []
    id: 64ad73795b181f6ccab00c67
    type: comment
  author: Mohdzaid18
  content: 'So which model does `StableDiffusionInpaintPipeline` uses? [Dreamshaper
    7](https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7_pruned.safetensors)
    or [Dreamshaper_7-INPAINTING](https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors)

    Because I have used `StableDiffusionInpaintPipeline` and it works perfectly fine
    for inpainting purposes.

    So i assumed it uses [Dreamshaper_7-INPAINTING](https://huggingface.co/Lykon/DreamShaper/blob/main/DreamShaper_7-INPAINTING.inpainting.safetensors)
    or any other of which version is set to default.

    ![Example](https://cdn-uploads.huggingface.co/production/uploads/646f7764850a938d6c52f7ac/oVpeFhpswZ09GMuPJgZpq.png)

    Using the above code that i had provided, iwas able to first generate the image
    and then provide the mask and rightmost image is the output from `StableDiffusionInpaintPipeline`,  i
    really think it uses inpaint model to achive this.'
  created_at: 2023-07-11 14:21:29+00:00
  edited: true
  hidden: false
  id: 64ad73795b181f6ccab00c67
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672788314686-noauth.png?w=200&h=200&f=face
      fullname: '-'
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Lykon
      type: user
    createdAt: '2023-12-07T11:07:52.000Z'
    data:
      status: closed
    id: 6571a78800731cb58189b642
    type: status-change
  author: Lykon
  created_at: 2023-12-07 11:07:52+00:00
  id: 6571a78800731cb58189b642
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 45
repo_id: Lykon/DreamShaper
repo_type: model
status: closed
target_branch: null
title: How to use a particular safetensors model with Diffusers?
