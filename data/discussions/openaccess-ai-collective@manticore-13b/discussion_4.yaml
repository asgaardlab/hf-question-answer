!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AlmightYariv
conflicting_files: null
created_at: 2023-05-19 11:17:02+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/_tkpT1VdFsDyfhlAWFJvQ.jpeg?w=200&h=200&f=face
      fullname: Yariv Levy
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlmightYariv
      type: user
    createdAt: '2023-05-19T12:17:02.000Z'
    data:
      edited: true
      editors:
      - AlmightYariv
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/_tkpT1VdFsDyfhlAWFJvQ.jpeg?w=200&h=200&f=face
          fullname: Yariv Levy
          isHf: false
          isPro: false
          name: AlmightYariv
          type: user
        html: "<p>I'm trying to toy with the model in Amazon SageMaker.</p>\n<pre><code>from\
          \ sagemaker.huggingface import HuggingFaceModel\nimport sagemaker\n\nrole\
          \ = sagemaker.get_execution_role()\n# Hub Model configuration. https://huggingface.co/models\n\
          hub = {\n    'HF_MODEL_ID':'openaccess-ai-collective/manticore-13b',\n \
          \   'HF_TASK':'text-generation'\n}\n\n# create Hugging Face Model Class\n\
          huggingface_model = HuggingFaceModel(\n    transformers_version='4.17.0',\n\
          \    pytorch_version='1.10.2',\n    py_version='py38',\n    env=hub,\n \
          \   role=role, \n)\n\n# deploy model to SageMaker Inference\npredictor =\
          \ huggingface_model.deploy(\n    initial_instance_count=1, # number of instances\n\
          \    instance_type='ml.m5.xlarge' # ec2 instance type\n)\n\npredictor.predict({\n\
          \    'inputs': \"Can you please let us know more details about your \"\n\
          })\n</code></pre>\n<p>The response i'm getting is ModelError (BadRequest),\
          \ probably due to inputs not being correctly fed.<br>Any idea?</p>\n"
        raw: "I'm trying to toy with the model in Amazon SageMaker.\n\n```\nfrom sagemaker.huggingface\
          \ import HuggingFaceModel\nimport sagemaker\n\nrole = sagemaker.get_execution_role()\n\
          # Hub Model configuration. https://huggingface.co/models\nhub = {\n\t'HF_MODEL_ID':'openaccess-ai-collective/manticore-13b',\n\
          \t'HF_TASK':'text-generation'\n}\n\n# create Hugging Face Model Class\n\
          huggingface_model = HuggingFaceModel(\n\ttransformers_version='4.17.0',\n\
          \tpytorch_version='1.10.2',\n\tpy_version='py38',\n\tenv=hub,\n\trole=role,\
          \ \n)\n\n# deploy model to SageMaker Inference\npredictor = huggingface_model.deploy(\n\
          \tinitial_instance_count=1, # number of instances\n\tinstance_type='ml.m5.xlarge'\
          \ # ec2 instance type\n)\n\npredictor.predict({\n\t'inputs': \"Can you please\
          \ let us know more details about your \"\n})\n```\n\nThe response i'm getting\
          \ is ModelError (BadRequest), probably due to inputs not being correctly\
          \ fed.\nAny idea?"
        updatedAt: '2023-05-19T12:17:35.750Z'
      numEdits: 1
      reactions: []
    id: 646768be8334813a7ae3cab1
    type: comment
  author: AlmightYariv
  content: "I'm trying to toy with the model in Amazon SageMaker.\n\n```\nfrom sagemaker.huggingface\
    \ import HuggingFaceModel\nimport sagemaker\n\nrole = sagemaker.get_execution_role()\n\
    # Hub Model configuration. https://huggingface.co/models\nhub = {\n\t'HF_MODEL_ID':'openaccess-ai-collective/manticore-13b',\n\
    \t'HF_TASK':'text-generation'\n}\n\n# create Hugging Face Model Class\nhuggingface_model\
    \ = HuggingFaceModel(\n\ttransformers_version='4.17.0',\n\tpytorch_version='1.10.2',\n\
    \tpy_version='py38',\n\tenv=hub,\n\trole=role, \n)\n\n# deploy model to SageMaker\
    \ Inference\npredictor = huggingface_model.deploy(\n\tinitial_instance_count=1,\
    \ # number of instances\n\tinstance_type='ml.m5.xlarge' # ec2 instance type\n\
    )\n\npredictor.predict({\n\t'inputs': \"Can you please let us know more details\
    \ about your \"\n})\n```\n\nThe response i'm getting is ModelError (BadRequest),\
    \ probably due to inputs not being correctly fed.\nAny idea?"
  created_at: 2023-05-19 11:17:02+00:00
  edited: true
  hidden: false
  id: 646768be8334813a7ae3cab1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/641dfddf3bae5a77636817c5/2IwNwh9kK98eCHUmOGoWD.png?w=200&h=200&f=face
      fullname: wing lian
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: winglian
      type: user
    createdAt: '2023-05-19T12:31:40.000Z'
    data:
      edited: false
      editors:
      - winglian
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/641dfddf3bae5a77636817c5/2IwNwh9kK98eCHUmOGoWD.png?w=200&h=200&f=face
          fullname: wing lian
          isHf: false
          isPro: true
          name: winglian
          type: user
        html: '<p>My guess is that <code>transformers_version=''4.17.0'',</code> is
          the problem. Llama support wasn''t added until 4.29.0 iirc (don''t quote
          me on that, but it was only definitely recently added)</p>

          '
        raw: My guess is that `transformers_version='4.17.0',` is the problem. Llama
          support wasn't added until 4.29.0 iirc (don't quote me on that, but it was
          only definitely recently added)
        updatedAt: '2023-05-19T12:31:40.413Z'
      numEdits: 0
      reactions: []
    id: 64676c2c3a7c8dda2303ca1a
    type: comment
  author: winglian
  content: My guess is that `transformers_version='4.17.0',` is the problem. Llama
    support wasn't added until 4.29.0 iirc (don't quote me on that, but it was only
    definitely recently added)
  created_at: 2023-05-19 11:31:40+00:00
  edited: false
  hidden: false
  id: 64676c2c3a7c8dda2303ca1a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: openaccess-ai-collective/manticore-13b
repo_type: model
status: open
target_branch: null
title: What inputs does the model expect?
