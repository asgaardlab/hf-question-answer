!!python/object:huggingface_hub.community.DiscussionWithDetails
author: fxmarty
conflicting_files: []
created_at: 2022-07-25 13:33:04+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2022-07-25T14:33:04.000Z'
    data:
      edited: false
      editors:
      - fxmarty
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
          fullname: "F\xE9lix Marty"
          isHf: true
          isPro: false
          name: fxmarty
          type: user
        html: '<p>Looking at</p>

          <pre><code>from datasets import load_dataset


          raw = load_dataset("imagenet-1k", split="validation")

          cfg = AutoConfig.from_pretrained("facebook/levit-384")


          print(raw.features["label"].names.index("crane"))  # prints 134

          print(raw.features["label"].names.index("crane2"))  # prints 517

          print("crane2" in cfg.label2id)  # prints False

          </code></pre>

          <p>we see that the label mapping is wrong compared to imagenet-1k.</p>

          '
        raw: 'Looking at


          ```

          from datasets import load_dataset


          raw = load_dataset("imagenet-1k", split="validation")

          cfg = AutoConfig.from_pretrained("facebook/levit-384")


          print(raw.features["label"].names.index("crane"))  # prints 134

          print(raw.features["label"].names.index("crane2"))  # prints 517

          print("crane2" in cfg.label2id)  # prints False

          ```


          we see that the label mapping is wrong compared to imagenet-1k.'
        updatedAt: '2022-07-25T14:33:04.587Z'
      numEdits: 0
      reactions: []
    id: 62dea9a076705b1cb392cd35
    type: comment
  author: fxmarty
  content: 'Looking at


    ```

    from datasets import load_dataset


    raw = load_dataset("imagenet-1k", split="validation")

    cfg = AutoConfig.from_pretrained("facebook/levit-384")


    print(raw.features["label"].names.index("crane"))  # prints 134

    print(raw.features["label"].names.index("crane2"))  # prints 517

    print("crane2" in cfg.label2id)  # prints False

    ```


    we see that the label mapping is wrong compared to imagenet-1k.'
  created_at: 2022-07-25 13:33:04+00:00
  edited: false
  hidden: false
  id: 62dea9a076705b1cb392cd35
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2022-07-25T14:33:05.000Z'
    data:
      oid: 160eeac3053ad261f8719a7e491922b4b343fa9d
      parents:
      - f71571497ab7affc0f78cc89432b0bd94704ec22
      subject: Fix wrong labbel mapping
    id: 62dea9a10000000000000000
    type: commit
  author: fxmarty
  created_at: 2022-07-25 13:33:05+00:00
  id: 62dea9a10000000000000000
  oid: 160eeac3053ad261f8719a7e491922b4b343fa9d
  summary: Fix wrong labbel mapping
  type: commit
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2022-07-25T14:33:29.000Z'
    data:
      from: Fix wrong labbel mapping
      to: Fix wrong label mapping
    id: 62dea9b9dcdc9043efa90cde
    type: title-change
  author: fxmarty
  created_at: 2022-07-25 13:33:29+00:00
  id: 62dea9b9dcdc9043efa90cde
  new_title: Fix wrong label mapping
  old_title: Fix wrong labbel mapping
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2022-07-25T14:37:17.000Z'
    data:
      edited: false
      editors:
      - fxmarty
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
          fullname: "F\xE9lix Marty"
          isHf: true
          isPro: false
          name: fxmarty
          type: user
        html: '<p>This seem to be a generalized issue, present as well on e.g. <code>google/vit-base-patch16-224</code>,
          <code>microsoft/resnet-50</code>.</p>

          '
        raw: This seem to be a generalized issue, present as well on e.g. `google/vit-base-patch16-224`,
          `microsoft/resnet-50`.
        updatedAt: '2022-07-25T14:37:17.877Z'
      numEdits: 0
      reactions: []
    id: 62deaa9d76705b1cb392d50c
    type: comment
  author: fxmarty
  content: This seem to be a generalized issue, present as well on e.g. `google/vit-base-patch16-224`,
    `microsoft/resnet-50`.
  created_at: 2022-07-25 13:37:17+00:00
  edited: false
  hidden: false
  id: 62deaa9d76705b1cb392d50c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618450692745-5e3aec01f55e2b62848a5217.jpeg?w=200&h=200&f=face
      fullname: Lysandre
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lysandre
      type: user
    createdAt: '2022-07-25T16:56:23.000Z'
    data:
      edited: false
      editors:
      - lysandre
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618450692745-5e3aec01f55e2b62848a5217.jpeg?w=200&h=200&f=face
          fullname: Lysandre
          isHf: true
          isPro: false
          name: lysandre
          type: user
        html: "<p>cc <span data-props=\"{&quot;user&quot;:&quot;nielsr&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/nielsr\">@<span class=\"\
          underline\">nielsr</span></a></span>\n\n\t</span></span></p>\n"
        raw: cc @nielsr
        updatedAt: '2022-07-25T16:56:23.981Z'
      numEdits: 0
      reactions: []
    id: 62decb3738192ae1f08c947f
    type: comment
  author: lysandre
  content: cc @nielsr
  created_at: 2022-07-25 15:56:23+00:00
  edited: false
  hidden: false
  id: 62decb3738192ae1f08c947f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2022-07-25T20:09:12.000Z'
    data:
      edited: false
      editors:
      - fxmarty
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
          fullname: "F\xE9lix Marty"
          isHf: true
          isPro: false
          name: fxmarty
          type: user
        html: '<p>Discussion moved to <a href="https://huggingface.co/datasets/imagenet-1k/discussions/1">https://huggingface.co/datasets/imagenet-1k/discussions/1</a></p>

          '
        raw: Discussion moved to https://huggingface.co/datasets/imagenet-1k/discussions/1
        updatedAt: '2022-07-25T20:09:12.781Z'
      numEdits: 0
      reactions: []
      relatedEventId: 62def86876705b1cb3957c91
    id: 62def86876705b1cb3957c90
    type: comment
  author: fxmarty
  content: Discussion moved to https://huggingface.co/datasets/imagenet-1k/discussions/1
  created_at: 2022-07-25 19:09:12+00:00
  edited: false
  hidden: false
  id: 62def86876705b1cb3957c90
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1651743336129-624c60cba8ec93a7ac188b56.png?w=200&h=200&f=face
      fullname: "F\xE9lix Marty"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fxmarty
      type: user
    createdAt: '2022-07-25T20:09:12.000Z'
    data:
      status: closed
    id: 62def86876705b1cb3957c91
    type: status-change
  author: fxmarty
  created_at: 2022-07-25 19:09:12+00:00
  id: 62def86876705b1cb3957c91
  new_status: closed
  type: status-change
is_pull_request: true
merge_commit_oid: null
num: 1
repo_id: facebook/levit-384
repo_type: model
status: closed
target_branch: refs/heads/main
title: Fix wrong label mapping
