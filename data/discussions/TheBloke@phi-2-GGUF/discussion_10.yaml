!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jxue005
conflicting_files: null
created_at: 2024-01-16 23:03:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
      fullname: Jiacheng Xue
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jxue005
      type: user
    createdAt: '2024-01-16T23:03:10.000Z'
    data:
      edited: false
      editors:
      - jxue005
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4621250629425049
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
          fullname: Jiacheng Xue
          isHf: false
          isPro: false
          name: jxue005
          type: user
        html: '<p>So I first did a git clone to download the model directory to ./model,
          but when I tried to run the following code, it gave me an error. </p>

          <pre><code>./main \

          -m ./models/phi-2-GGUF/phi-2.Q8_0.gguf \

          -f test.txt \

          -s 1 --grp-attn-n 4 --grp-attn-w 512 --temp 0 --repeat_penalty 1 --no-penalize-nl

          Log start

          main: build = 1894 (5c99960)

          main: built with Apple clang version 15.0.0 (clang-1500.1.0.2.5) for arm64-apple-darwin23.2.0

          main: seed  = 1

          gguf_init_from_file: invalid magic characters ''vers''

          llama_model_load: error loading model: llama_model_loader: failed to load
          model from ./models/phi-2-GGUF/phi-2.Q8_0.gguf


          llama_load_model_from_file: failed to load model

          llama_init_from_gpt_params: error: failed to load model ''./models/phi-2-GGUF/phi-2.Q8_0.gguf''

          main: error: unable to load model

          </code></pre>

          '
        raw: "So I first did a git clone to download the model directory to ./model,\
          \ but when I tried to run the following code, it gave me an error. \r\n\
          ```\r\n./main \\\r\n-m ./models/phi-2-GGUF/phi-2.Q8_0.gguf \\\r\n-f test.txt\
          \ \\\r\n-s 1 --grp-attn-n 4 --grp-attn-w 512 --temp 0 --repeat_penalty 1\
          \ --no-penalize-nl\r\nLog start\r\nmain: build = 1894 (5c99960)\r\nmain:\
          \ built with Apple clang version 15.0.0 (clang-1500.1.0.2.5) for arm64-apple-darwin23.2.0\r\
          \nmain: seed  = 1\r\ngguf_init_from_file: invalid magic characters 'vers'\r\
          \nllama_model_load: error loading model: llama_model_loader: failed to load\
          \ model from ./models/phi-2-GGUF/phi-2.Q8_0.gguf\r\n\r\nllama_load_model_from_file:\
          \ failed to load model\r\nllama_init_from_gpt_params: error: failed to load\
          \ model './models/phi-2-GGUF/phi-2.Q8_0.gguf'\r\nmain: error: unable to\
          \ load model\r\n"
        updatedAt: '2024-01-16T23:03:10.247Z'
      numEdits: 0
      reactions: []
    id: 65a70b2ebd0c4a98e9033fcb
    type: comment
  author: jxue005
  content: "So I first did a git clone to download the model directory to ./model,\
    \ but when I tried to run the following code, it gave me an error. \r\n```\r\n\
    ./main \\\r\n-m ./models/phi-2-GGUF/phi-2.Q8_0.gguf \\\r\n-f test.txt \\\r\n-s\
    \ 1 --grp-attn-n 4 --grp-attn-w 512 --temp 0 --repeat_penalty 1 --no-penalize-nl\r\
    \nLog start\r\nmain: build = 1894 (5c99960)\r\nmain: built with Apple clang version\
    \ 15.0.0 (clang-1500.1.0.2.5) for arm64-apple-darwin23.2.0\r\nmain: seed  = 1\r\
    \ngguf_init_from_file: invalid magic characters 'vers'\r\nllama_model_load: error\
    \ loading model: llama_model_loader: failed to load model from ./models/phi-2-GGUF/phi-2.Q8_0.gguf\r\
    \n\r\nllama_load_model_from_file: failed to load model\r\nllama_init_from_gpt_params:\
    \ error: failed to load model './models/phi-2-GGUF/phi-2.Q8_0.gguf'\r\nmain: error:\
    \ unable to load model\r\n"
  created_at: 2024-01-16 23:03:10+00:00
  edited: false
  hidden: false
  id: 65a70b2ebd0c4a98e9033fcb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6fd083dfb29042ac2d1dea08478ca9ec.svg
      fullname: Jithin Varghese
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jithinanievarghese
      type: user
    createdAt: '2024-01-18T11:35:48.000Z'
    data:
      edited: false
      editors:
      - jithinanievarghese
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6801609396934509
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6fd083dfb29042ac2d1dea08478ca9ec.svg
          fullname: Jithin Varghese
          isHf: false
          isPro: false
          name: jithinanievarghese
          type: user
        html: '<p>I tried to open the model using CTransformers but got the same issue</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png"></a></p>

          '
        raw: '

          I tried to open the model using CTransformers but got the same issue


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png)

          '
        updatedAt: '2024-01-18T11:35:48.095Z'
      numEdits: 0
      reactions: []
    id: 65a90d1417d869bb74a6cc56
    type: comment
  author: jithinanievarghese
  content: '

    I tried to open the model using CTransformers but got the same issue


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png)

    '
  created_at: 2024-01-18 11:35:48+00:00
  edited: false
  hidden: false
  id: 65a90d1417d869bb74a6cc56
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
      fullname: Jiacheng Xue
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jxue005
      type: user
    createdAt: '2024-01-18T21:08:24.000Z'
    data:
      edited: false
      editors:
      - jxue005
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9847143292427063
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
          fullname: Jiacheng Xue
          isHf: false
          isPro: false
          name: jxue005
          type: user
        html: '<p>I found the reason. I didn''t actually download the model to my
          local directory. I was just using !git clone.  The issue is solved when
          I manually download the model.</p>

          '
        raw: I found the reason. I didn't actually download the model to my local
          directory. I was just using !git clone.  The issue is solved when I manually
          download the model.
        updatedAt: '2024-01-18T21:08:24.183Z'
      numEdits: 0
      reactions: []
    id: 65a99348f06996740a69ee1d
    type: comment
  author: jxue005
  content: I found the reason. I didn't actually download the model to my local directory.
    I was just using !git clone.  The issue is solved when I manually download the
    model.
  created_at: 2024-01-18 21:08:24+00:00
  edited: false
  hidden: false
  id: 65a99348f06996740a69ee1d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
      fullname: Jiacheng Xue
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jxue005
      type: user
    createdAt: '2024-01-18T21:09:05.000Z'
    data:
      edited: true
      editors:
      - jxue005
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6666578054428101
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
          fullname: Jiacheng Xue
          isHf: false
          isPro: false
          name: jxue005
          type: user
        html: '<p>Check your model size and see if it is downloaded to your directory.
          </p>

          <blockquote>

          <p>I tried to open the model using CTransformers but got the same issue</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png"></a></p>

          </blockquote>

          '
        raw: "Check your model size and see if it is downloaded to your directory.\
          \ \n> I tried to open the model using CTransformers but got the same issue\n\
          > \n> ![image.png](https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png)\n\
          \n"
        updatedAt: '2024-01-18T21:10:02.201Z'
      numEdits: 3
      reactions: []
      relatedEventId: 65a99371f9e55b5f753e22bf
    id: 65a99371f9e55b5f753e22b3
    type: comment
  author: jxue005
  content: "Check your model size and see if it is downloaded to your directory. \n\
    > I tried to open the model using CTransformers but got the same issue\n> \n>\
    \ ![image.png](https://cdn-uploads.huggingface.co/production/uploads/629cc48288987318a4291692/UxCKPdUVZKnVTFC-1IL6Y.png)\n\
    \n"
  created_at: 2024-01-18 21:09:05+00:00
  edited: true
  hidden: false
  id: 65a99371f9e55b5f753e22b3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/ab047286c748c66e87b51693c4be8185.svg
      fullname: Jiacheng Xue
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jxue005
      type: user
    createdAt: '2024-01-18T21:09:05.000Z'
    data:
      status: closed
    id: 65a99371f9e55b5f753e22bf
    type: status-change
  author: jxue005
  created_at: 2024-01-18 21:09:05+00:00
  id: 65a99371f9e55b5f753e22bf
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 10
repo_id: TheBloke/phi-2-GGUF
repo_type: model
status: closed
target_branch: null
title: Model_load error using llama.cpp
