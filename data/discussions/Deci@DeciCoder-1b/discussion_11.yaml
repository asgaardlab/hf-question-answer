!!python/object:huggingface_hub.community.DiscussionWithDetails
author: pvelosipednikov
conflicting_files: null
created_at: 2023-09-07 19:43:25+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a8791cb87c9a155d3d0a18655310ceb7.svg
      fullname: Piotr Velosipednikov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pvelosipednikov
      type: user
    createdAt: '2023-09-07T20:43:25.000Z'
    data:
      edited: false
      editors:
      - pvelosipednikov
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8592618107795715
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a8791cb87c9a155d3d0a18655310ceb7.svg
          fullname: Piotr Velosipednikov
          isHf: false
          isPro: false
          name: pvelosipednikov
          type: user
        html: '<p>Hello.</p>

          <p>I have the following error while running Trainer to fine-tune a Decider
          model on my own data:</p>

          <pre><code class="language-ValueError:">

          </code></pre>

          <p>I''ve also taken the suggested steps and added naive_attention_prefill
          to True in config.  But then get an error when loading the model:<br> <code>ValueError:
          The model class you are passing has a `config_class` attribute that is not
          consistent with the config class you passed (model has  and you passed .
          Fix one of those so they match!</code></p>

          <p>I describe the issue, along with sample code in a post on the forums
          here from a couple of weeks ago:<br><a rel="nofollow" href="https://discuss.huggingface.co/t/decicoder-finetune-error-understanding-naive-attention-prefill/51998">https://discuss.huggingface.co/t/decicoder-finetune-error-understanding-naive-attention-prefill/51998</a></p>

          '
        raw: "Hello.\r\n\r\nI have the following error while running Trainer to fine-tune\
          \ a Decider model on my own data:\r\n```ValueError: For support of custom\
          \ attention masks please set naive_attention_prefill to True in the config\r\
          \n```\r\n\r\nI've also taken the suggested steps and added naive_attention_prefill\
          \ to True in config.  But then get an error when loading the model:\r\n\
          \ ```ValueError: The model class you are passing has a `config_class` attribute\
          \ that is not consistent with the config class you passed (model has  and\
          \ you passed . Fix one of those so they match!```\r\n\r\nI describe the\
          \ issue, along with sample code in a post on the forums here from a couple\
          \ of weeks ago:\r\nhttps://discuss.huggingface.co/t/decicoder-finetune-error-understanding-naive-attention-prefill/51998\r\
          \n"
        updatedAt: '2023-09-07T20:43:25.701Z'
      numEdits: 0
      reactions: []
    id: 64fa35ed27fb3a92e99cf904
    type: comment
  author: pvelosipednikov
  content: "Hello.\r\n\r\nI have the following error while running Trainer to fine-tune\
    \ a Decider model on my own data:\r\n```ValueError: For support of custom attention\
    \ masks please set naive_attention_prefill to True in the config\r\n```\r\n\r\n\
    I've also taken the suggested steps and added naive_attention_prefill to True\
    \ in config.  But then get an error when loading the model:\r\n ```ValueError:\
    \ The model class you are passing has a `config_class` attribute that is not consistent\
    \ with the config class you passed (model has  and you passed . Fix one of those\
    \ so they match!```\r\n\r\nI describe the issue, along with sample code in a post\
    \ on the forums here from a couple of weeks ago:\r\nhttps://discuss.huggingface.co/t/decicoder-finetune-error-understanding-naive-attention-prefill/51998\r\
    \n"
  created_at: 2023-09-07 19:43:25+00:00
  edited: false
  hidden: false
  id: 64fa35ed27fb3a92e99cf904
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/028ebd51b2b71598f1a070117f109eaa.svg
      fullname: Itay  Levy
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: itay-levy
      type: user
    createdAt: '2023-09-10T12:40:02.000Z'
    data:
      edited: false
      editors:
      - itay-levy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.977545440196991
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/028ebd51b2b71598f1a070117f109eaa.svg
          fullname: Itay  Levy
          isHf: false
          isPro: false
          name: itay-levy
          type: user
        html: '<p>Thank you for pointing it out.<br>The config file has been adjusted
          to resolve the issue.<br>Please give it another try :)</p>

          '
        raw: "Thank you for pointing it out. \nThe config file has been adjusted to\
          \ resolve the issue.\nPlease give it another try :)"
        updatedAt: '2023-09-10T12:40:02.327Z'
      numEdits: 0
      reactions: []
    id: 64fdb922db183db86fdff9aa
    type: comment
  author: itay-levy
  content: "Thank you for pointing it out. \nThe config file has been adjusted to\
    \ resolve the issue.\nPlease give it another try :)"
  created_at: 2023-09-10 11:40:02+00:00
  edited: false
  hidden: false
  id: 64fdb922db183db86fdff9aa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a8791cb87c9a155d3d0a18655310ceb7.svg
      fullname: Piotr Velosipednikov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pvelosipednikov
      type: user
    createdAt: '2023-09-12T17:39:37.000Z'
    data:
      edited: false
      editors:
      - pvelosipednikov
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9365783929824829
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a8791cb87c9a155d3d0a18655310ceb7.svg
          fullname: Piotr Velosipednikov
          isHf: false
          isPro: false
          name: pvelosipednikov
          type: user
        html: '<p>Thank you, it works now!</p>

          '
        raw: Thank you, it works now!
        updatedAt: '2023-09-12T17:39:37.707Z'
      numEdits: 0
      reactions: []
    id: 6500a25969219ce3e4a67c76
    type: comment
  author: pvelosipednikov
  content: Thank you, it works now!
  created_at: 2023-09-12 16:39:37+00:00
  edited: false
  hidden: false
  id: 6500a25969219ce3e4a67c76
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/a8791cb87c9a155d3d0a18655310ceb7.svg
      fullname: Piotr Velosipednikov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pvelosipednikov
      type: user
    createdAt: '2023-09-12T17:39:43.000Z'
    data:
      status: closed
    id: 6500a25ff355a888f9472076
    type: status-change
  author: pvelosipednikov
  created_at: 2023-09-12 16:39:43+00:00
  id: 6500a25ff355a888f9472076
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 11
repo_id: Deci/DeciCoder-1b
repo_type: model
status: closed
target_branch: null
title: Custom attention masks error running Trainer
