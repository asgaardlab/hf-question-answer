!!python/object:huggingface_hub.community.DiscussionWithDetails
author: eliphatfs
conflicting_files: null
created_at: 2023-05-29 09:23:15+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b82149fcf38b7549fa676e4a32c4d076.svg
      fullname: Ruoxi Shi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: eliphatfs
      type: user
    createdAt: '2023-05-29T10:23:15.000Z'
    data:
      edited: false
      editors:
      - eliphatfs
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b82149fcf38b7549fa676e4a32c4d076.svg
          fullname: Ruoxi Shi
          isHf: false
          isPro: false
          name: eliphatfs
          type: user
        html: "<pre><code class=\"language-plain\">&gt;&gt;&gt; import torch\n&gt;&gt;&gt;\
          \ a = torch.load('pytorch_model.fp16.bin')\n&gt;&gt;&gt; a['text_model.embeddings.position_ids']\n\
          tensor([[    8444249301319680,     8725724278030336,     9007199254740992,\n\
          \             9288674231451648,     9570149208162304,     9851624184872960,\n\
          \            10133099161583616,    10414574138294272,    10696049115004928,\n\
          \            10977524091715584,    11258999068426240,    11540474045136896,\n\
          \            11821949021847552,    12103423998558208,    12384898975268864,\n\
          \            12666373951979520,    12947848928690176,    13229323905400832,\n\
          \            13510798882111488,    13792273858822144,    14073748835532800,\n\
          \            14355223812243456,    14636698788954112,    14918173765664768,\n\
          \            15199648742375424,    15481123719086080,    15762598695796736,\n\
          \            16044073672507392,    16325548649218048,    16607023625928704,\n\
          \            16888498602639360,    17169973579350016,    17451448556060672,\n\
          \            17732923532771328,    18014398509481984,    18295873486192640,\n\
          \            18577348462903296,    18858823439613952,    19140298416324608,\n\
          \            19421773393035264,    19703248369745920,    19984723346456576,\n\
          \            20266198323167232,    20547673299877888,    20829148276588544,\n\
          \            21110623253299200,    21392098230009856,  1072419661267599360,\n\
          \         -8173729707676034109,  1596812233387381019, -7972154969943076967,\n\
          \         -7403480456281942721, -8181168058474554682,  1342942162511304923,\n\
          \           909329312444713969, -7522248136750953471,  1588526436168139634,\n\
          \         -7784176620914764754,  1325493393941206319,  1759520036330017771,\n\
          \          1247239510812957021,  1772329200857749871,  1404859622153097035,\n\
          \         -7356894681119385560,   894413786494275126, -7143671278802397751,\n\
          \         -7241769942592547601, -8086757745401361447,  1763898182184829285,\n\
          \         -7537731811784324500,   940012558736919008, -7457098875370928110,\n\
          \           923964022557153547,  1495354434782761292, -8761869511253616922,\n\
          \         -7751670551540885576,  1602881520329496742]])\n</code></pre>\n"
        raw: "```plain\r\n>>> import torch\r\n>>> a = torch.load('pytorch_model.fp16.bin')\r\
          \n>>> a['text_model.embeddings.position_ids']\r\ntensor([[    8444249301319680,\
          \     8725724278030336,     9007199254740992,\r\n             9288674231451648,\
          \     9570149208162304,     9851624184872960,\r\n            10133099161583616,\
          \    10414574138294272,    10696049115004928,\r\n            10977524091715584,\
          \    11258999068426240,    11540474045136896,\r\n            11821949021847552,\
          \    12103423998558208,    12384898975268864,\r\n            12666373951979520,\
          \    12947848928690176,    13229323905400832,\r\n            13510798882111488,\
          \    13792273858822144,    14073748835532800,\r\n            14355223812243456,\
          \    14636698788954112,    14918173765664768,\r\n            15199648742375424,\
          \    15481123719086080,    15762598695796736,\r\n            16044073672507392,\
          \    16325548649218048,    16607023625928704,\r\n            16888498602639360,\
          \    17169973579350016,    17451448556060672,\r\n            17732923532771328,\
          \    18014398509481984,    18295873486192640,\r\n            18577348462903296,\
          \    18858823439613952,    19140298416324608,\r\n            19421773393035264,\
          \    19703248369745920,    19984723346456576,\r\n            20266198323167232,\
          \    20547673299877888,    20829148276588544,\r\n            21110623253299200,\
          \    21392098230009856,  1072419661267599360,\r\n         -8173729707676034109,\
          \  1596812233387381019, -7972154969943076967,\r\n         -7403480456281942721,\
          \ -8181168058474554682,  1342942162511304923,\r\n           909329312444713969,\
          \ -7522248136750953471,  1588526436168139634,\r\n         -7784176620914764754,\
          \  1325493393941206319,  1759520036330017771,\r\n          1247239510812957021,\
          \  1772329200857749871,  1404859622153097035,\r\n         -7356894681119385560,\
          \   894413786494275126, -7143671278802397751,\r\n         -7241769942592547601,\
          \ -8086757745401361447,  1763898182184829285,\r\n         -7537731811784324500,\
          \   940012558736919008, -7457098875370928110,\r\n           923964022557153547,\
          \  1495354434782761292, -8761869511253616922,\r\n         -7751670551540885576,\
          \  1602881520329496742]])\r\n```"
        updatedAt: '2023-05-29T10:23:15.850Z'
      numEdits: 0
      reactions: []
    id: 64747d13a855203d8fea2f73
    type: comment
  author: eliphatfs
  content: "```plain\r\n>>> import torch\r\n>>> a = torch.load('pytorch_model.fp16.bin')\r\
    \n>>> a['text_model.embeddings.position_ids']\r\ntensor([[    8444249301319680,\
    \     8725724278030336,     9007199254740992,\r\n             9288674231451648,\
    \     9570149208162304,     9851624184872960,\r\n            10133099161583616,\
    \    10414574138294272,    10696049115004928,\r\n            10977524091715584,\
    \    11258999068426240,    11540474045136896,\r\n            11821949021847552,\
    \    12103423998558208,    12384898975268864,\r\n            12666373951979520,\
    \    12947848928690176,    13229323905400832,\r\n            13510798882111488,\
    \    13792273858822144,    14073748835532800,\r\n            14355223812243456,\
    \    14636698788954112,    14918173765664768,\r\n            15199648742375424,\
    \    15481123719086080,    15762598695796736,\r\n            16044073672507392,\
    \    16325548649218048,    16607023625928704,\r\n            16888498602639360,\
    \    17169973579350016,    17451448556060672,\r\n            17732923532771328,\
    \    18014398509481984,    18295873486192640,\r\n            18577348462903296,\
    \    18858823439613952,    19140298416324608,\r\n            19421773393035264,\
    \    19703248369745920,    19984723346456576,\r\n            20266198323167232,\
    \    20547673299877888,    20829148276588544,\r\n            21110623253299200,\
    \    21392098230009856,  1072419661267599360,\r\n         -8173729707676034109,\
    \  1596812233387381019, -7972154969943076967,\r\n         -7403480456281942721,\
    \ -8181168058474554682,  1342942162511304923,\r\n           909329312444713969,\
    \ -7522248136750953471,  1588526436168139634,\r\n         -7784176620914764754,\
    \  1325493393941206319,  1759520036330017771,\r\n          1247239510812957021,\
    \  1772329200857749871,  1404859622153097035,\r\n         -7356894681119385560,\
    \   894413786494275126, -7143671278802397751,\r\n         -7241769942592547601,\
    \ -8086757745401361447,  1763898182184829285,\r\n         -7537731811784324500,\
    \   940012558736919008, -7457098875370928110,\r\n           923964022557153547,\
    \  1495354434782761292, -8761869511253616922,\r\n         -7751670551540885576,\
    \  1602881520329496742]])\r\n```"
  created_at: 2023-05-29 09:23:15+00:00
  edited: false
  hidden: false
  id: 64747d13a855203d8fea2f73
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/b82149fcf38b7549fa676e4a32c4d076.svg
      fullname: Ruoxi Shi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: eliphatfs
      type: user
    createdAt: '2023-05-29T10:23:24.000Z'
    data:
      from: wrong `position_ids` in text encoder fp16 variant
      to: Wrong `position_ids` in text encoder fp16 variant
    id: 64747d1cd56974d0c059a5d7
    type: title-change
  author: eliphatfs
  created_at: 2023-05-29 09:23:24+00:00
  id: 64747d1cd56974d0c059a5d7
  new_title: Wrong `position_ids` in text encoder fp16 variant
  old_title: wrong `position_ids` in text encoder fp16 variant
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1649681653581-5f7fbd813e94f16a85448745.jpeg?w=200&h=200&f=face
      fullname: Sayak Paul
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sayakpaul
      type: user
    createdAt: '2023-05-29T14:07:52.000Z'
    data:
      edited: false
      editors:
      - sayakpaul
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1649681653581-5f7fbd813e94f16a85448745.jpeg?w=200&h=200&f=face
          fullname: Sayak Paul
          isHf: true
          isPro: false
          name: sayakpaul
          type: user
        html: "<p>Cc: <span data-props=\"{&quot;user&quot;:&quot;williamberman&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/williamberman\"\
          >@<span class=\"underline\">williamberman</span></a></span>\n\n\t</span></span>\
          \ <span data-props=\"{&quot;user&quot;:&quot;patrickvonplaten&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/patrickvonplaten\">@<span\
          \ class=\"underline\">patrickvonplaten</span></a></span>\n\n\t</span></span></p>\n"
        raw: 'Cc: @williamberman @patrickvonplaten'
        updatedAt: '2023-05-29T14:07:52.581Z'
      numEdits: 0
      reactions: []
    id: 6474b1b8f9e3e0b312ed6b18
    type: comment
  author: sayakpaul
  content: 'Cc: @williamberman @patrickvonplaten'
  created_at: 2023-05-29 13:07:52+00:00
  edited: false
  hidden: false
  id: 6474b1b8f9e3e0b312ed6b18
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: diffusers/stable-diffusion-2-1-unclip-i2i-l
repo_type: model
status: open
target_branch: null
title: Wrong `position_ids` in text encoder fp16 variant
