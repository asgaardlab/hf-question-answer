!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Elucipath
conflicting_files: null
created_at: 2023-06-22 18:46:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/648f53315c94d5955bbc331f15c85781.svg
      fullname: Ely Conn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Elucipath
      type: user
    createdAt: '2023-06-22T19:46:03.000Z'
    data:
      edited: false
      editors:
      - Elucipath
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9957632422447205
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/648f53315c94d5955bbc331f15c85781.svg
          fullname: Ely Conn
          isHf: false
          isPro: false
          name: Elucipath
          type: user
        html: '<p>Looks like the repo doesn''t have a config.json like previous vae
          that were release.</p>

          '
        raw: Looks like the repo doesn't have a config.json like previous vae that
          were release.
        updatedAt: '2023-06-22T19:46:03.129Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - opetliak
        - madebyollin
    id: 6494a4fbccca1617910d3ba7
    type: comment
  author: Elucipath
  content: Looks like the repo doesn't have a config.json like previous vae that were
    release.
  created_at: 2023-06-22 18:46:03+00:00
  edited: false
  hidden: false
  id: 6494a4fbccca1617910d3ba7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/188ad2e654c6b858ae3d0304f7abe569.svg
      fullname: mehmet sat
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mehmetsatcodeway
      type: user
    createdAt: '2023-06-24T11:17:38.000Z'
    data:
      edited: false
      editors:
      - mehmetsatcodeway
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.911348819732666
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/188ad2e654c6b858ae3d0304f7abe569.svg
          fullname: mehmet sat
          isHf: false
          isPro: false
          name: mehmetsatcodeway
          type: user
        html: '<p>even I have converted the ckpt to diffusers it gives black images
          </p>

          '
        raw: 'even I have converted the ckpt to diffusers it gives black images '
        updatedAt: '2023-06-24T11:17:38.955Z'
      numEdits: 0
      reactions: []
    id: 6496d0d251a24359d8a5dfc0
    type: comment
  author: mehmetsatcodeway
  content: 'even I have converted the ckpt to diffusers it gives black images '
  created_at: 2023-06-24 10:17:38+00:00
  edited: false
  hidden: false
  id: 6496d0d251a24359d8a5dfc0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/eWxGBQdUjL3xkk-I_XKwm.png?w=200&h=200&f=face
      fullname: madebyollin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: madebyollin
      type: user
    createdAt: '2023-06-24T14:46:34.000Z'
    data:
      edited: true
      editors:
      - madebyollin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5465911626815796
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/eWxGBQdUjL3xkk-I_XKwm.png?w=200&h=200&f=face
          fullname: madebyollin
          isHf: false
          isPro: false
          name: madebyollin
          type: user
        html: '<p>For reference, I got this VAE to run by</p>

          <ol>

          <li>Using the VAE module implementation from <a rel="nofollow" href="https://github.com/Stability-AI/generative-models/tree/main">https://github.com/Stability-AI/generative-models/tree/main</a>
          (using this VAE in diffusers requires a conversion step)</li>

          <li>Using fp32 precision (fp16 gives NaNs / black images - you have to use
          fp32 or bfloat16)</li>

          </ol>

          <p>Quoting the config here <a rel="nofollow" href="https://github.com/Stability-AI/generative-models/blob/main/configs/inference/sd_xl_base.yaml#L4">https://github.com/Stability-AI/generative-models/blob/main/configs/inference/sd_xl_base.yaml#L4</a>:</p>

          <pre><code>scale_factor: 0.13025

          disable_first_stage_autocast: True

          </code></pre>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/mBhgnxn3-zMNo7W2z1S-y.png"><img
          alt="sdxl_vae.png" src="https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/mBhgnxn3-zMNo7W2z1S-y.png"></a></p>

          '
        raw: 'For reference, I got this VAE to run by

          1. Using the VAE module implementation from https://github.com/Stability-AI/generative-models/tree/main
          (using this VAE in diffusers requires a conversion step)

          2. Using fp32 precision (fp16 gives NaNs / black images - you have to use
          fp32 or bfloat16)


          Quoting the config here https://github.com/Stability-AI/generative-models/blob/main/configs/inference/sd_xl_base.yaml#L4:

          ```

          scale_factor: 0.13025

          disable_first_stage_autocast: True

          ```


          ![sdxl_vae.png](https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/mBhgnxn3-zMNo7W2z1S-y.png)'
        updatedAt: '2023-06-24T16:03:30.676Z'
      numEdits: 2
      reactions:
      - count: 3
        reaction: "\u2764\uFE0F"
        users:
        - mehmetsatcodeway
        - zhuxw
        - GaggiX
    id: 649701ca495016563e946228
    type: comment
  author: madebyollin
  content: 'For reference, I got this VAE to run by

    1. Using the VAE module implementation from https://github.com/Stability-AI/generative-models/tree/main
    (using this VAE in diffusers requires a conversion step)

    2. Using fp32 precision (fp16 gives NaNs / black images - you have to use fp32
    or bfloat16)


    Quoting the config here https://github.com/Stability-AI/generative-models/blob/main/configs/inference/sd_xl_base.yaml#L4:

    ```

    scale_factor: 0.13025

    disable_first_stage_autocast: True

    ```


    ![sdxl_vae.png](https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/mBhgnxn3-zMNo7W2z1S-y.png)'
  created_at: 2023-06-24 13:46:34+00:00
  edited: true
  hidden: false
  id: 649701ca495016563e946228
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ecc4d502278ae77354564beb97bdff10.svg
      fullname: knoopx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: knoopx
      type: user
    createdAt: '2023-06-25T16:48:53.000Z'
    data:
      edited: false
      editors:
      - knoopx
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.812401533126831
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ecc4d502278ae77354564beb97bdff10.svg
          fullname: knoopx
          isHf: false
          isPro: false
          name: knoopx
          type: user
        html: '<p>is it supposed to be backwards compatible? i managed to convert
          it to diffusers format and vae.encode/decode works but diffusion returns
          distorted images.</p>

          '
        raw: is it supposed to be backwards compatible? i managed to convert it to
          diffusers format and vae.encode/decode works but diffusion returns distorted
          images.
        updatedAt: '2023-06-25T16:48:53.308Z'
      numEdits: 0
      reactions: []
    id: 64986ff552236d41ce67701c
    type: comment
  author: knoopx
  content: is it supposed to be backwards compatible? i managed to convert it to diffusers
    format and vae.encode/decode works but diffusion returns distorted images.
  created_at: 2023-06-25 15:48:53+00:00
  edited: false
  hidden: false
  id: 64986ff552236d41ce67701c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/eWxGBQdUjL3xkk-I_XKwm.png?w=200&h=200&f=face
      fullname: madebyollin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: madebyollin
      type: user
    createdAt: '2023-06-25T17:03:19.000Z'
    data:
      edited: false
      editors:
      - madebyollin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8093990683555603
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/eWxGBQdUjL3xkk-I_XKwm.png?w=200&h=200&f=face
          fullname: madebyollin
          isHf: false
          isPro: false
          name: madebyollin
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;knoopx&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/knoopx\">@<span class=\"\
          underline\">knoopx</span></a></span>\n\n\t</span></span> No - they retrained\
          \ the VAE from scratch, so the SDXL VAE latents look totally different from\
          \ the original SD1/2 VAE latents, and the SDXL VAE is only going to work\
          \ with the SDXL UNet. This is what latents from the original VAE look like:</p>\n\
          <p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/d_N9_5lDXpoIdEuM3RFcp.png\"\
          ><img alt=\"doggo_test_sdorig.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/d_N9_5lDXpoIdEuM3RFcp.png\"\
          ></a></p>\n"
        raw: '@knoopx No - they retrained the VAE from scratch, so the SDXL VAE latents
          look totally different from the original SD1/2 VAE latents, and the SDXL
          VAE is only going to work with the SDXL UNet. This is what latents from
          the original VAE look like:


          ![doggo_test_sdorig.png](https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/d_N9_5lDXpoIdEuM3RFcp.png)

          '
        updatedAt: '2023-06-25T17:03:19.965Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - knoopx
    id: 6498735763140b3bcc5a0574
    type: comment
  author: madebyollin
  content: '@knoopx No - they retrained the VAE from scratch, so the SDXL VAE latents
    look totally different from the original SD1/2 VAE latents, and the SDXL VAE is
    only going to work with the SDXL UNet. This is what latents from the original
    VAE look like:


    ![doggo_test_sdorig.png](https://cdn-uploads.huggingface.co/production/uploads/630447d40547362a22a969a2/d_N9_5lDXpoIdEuM3RFcp.png)

    '
  created_at: 2023-06-25 16:03:19+00:00
  edited: false
  hidden: false
  id: 6498735763140b3bcc5a0574
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: stabilityai/sdxl-vae
repo_type: model
status: open
target_branch: null
title: 'OSError: Error no file named config.json found'
