!!python/object:huggingface_hub.community.DiscussionWithDetails
author: DYXDAVE
conflicting_files: null
created_at: 2023-07-05 05:28:34+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/58015c33c4c76a3882ea428ae3c3d399.svg
      fullname: Yuxuan Du
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: DYXDAVE
      type: user
    createdAt: '2023-07-05T06:28:34.000Z'
    data:
      edited: false
      editors:
      - DYXDAVE
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9258172512054443
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/58015c33c4c76a3882ea428ae3c3d399.svg
          fullname: Yuxuan Du
          isHf: false
          isPro: false
          name: DYXDAVE
          type: user
        html: '<p>Hi. Thank you for such a good model. I have fine-tuned my cell classifier
          and classified my sequencing results, the performance is really good on
          tsne.<br>Now I''m trying to use the perturber to analyze different genes.
          But I found that it is hard to interpret the result from it. Are there any
          file that explains what those columns means? (for example the meaning of
          impact component, N_detection, Tset_avg_shift)<br>Thank you so much!</p>

          '
        raw: "Hi. Thank you for such a good model. I have fine-tuned my cell classifier\
          \ and classified my sequencing results, the performance is really good on\
          \ tsne. \r\nNow I'm trying to use the perturber to analyze different genes.\
          \ But I found that it is hard to interpret the result from it. Are there\
          \ any file that explains what those columns means? (for example the meaning\
          \ of impact component, N_detection, Tset_avg_shift)\r\nThank you so much!"
        updatedAt: '2023-07-05T06:28:34.163Z'
      numEdits: 0
      reactions: []
    id: 64a50d92c6e1167c3c689131
    type: comment
  author: DYXDAVE
  content: "Hi. Thank you for such a good model. I have fine-tuned my cell classifier\
    \ and classified my sequencing results, the performance is really good on tsne.\
    \ \r\nNow I'm trying to use the perturber to analyze different genes. But I found\
    \ that it is hard to interpret the result from it. Are there any file that explains\
    \ what those columns means? (for example the meaning of impact component, N_detection,\
    \ Tset_avg_shift)\r\nThank you so much!"
  created_at: 2023-07-05 05:28:34+00:00
  edited: false
  hidden: false
  id: 64a50d92c6e1167c3c689131
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/58015c33c4c76a3882ea428ae3c3d399.svg
      fullname: Yuxuan Du
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: DYXDAVE
      type: user
    createdAt: '2023-07-05T07:50:52.000Z'
    data:
      edited: true
      editors:
      - DYXDAVE
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9491071105003357
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/58015c33c4c76a3882ea428ae3c3d399.svg
          fullname: Yuxuan Du
          isHf: false
          isPro: false
          name: DYXDAVE
          type: user
        html: '<p>Also, I noticed that a gaussian mixture will fit to the perturber
          result and the impact component was determined by the 2 means of the gaussian
          mixture. So I''m wondering would this suggest we always use all gene in
          perturber since only use some of genes might cause the algorithm cannot
          actually separate impact genes and non impact genes?<br>Also, I found that
          I cannot use the anchor gene function.<br>My code was:<br>isp = InSilicoPerturber(perturb_type="delete",<br>                      perturb_rank_shift=None,<br>                      genes_to_perturb=["ENSG00000120217",
          "ENSG00000188389", "ENSG00000163599", "ENSG00000023445", "ENSG00000026950",
          "ENSG00000100368"<br>                                        , "ENSG00000179144",
          "ENSG00000100453", "ENSG00000180353", "ENSG00000043462", "ENSG00000148488",
          "ENSG00000196932",<br>                                       "ENSG00000130348",
          "ENSG00000197168", "ENSG00000049759", "ENSG00000241343", "ENSG00000135862"],<br>                      combos=1,<br>                      anchor_gene=
          "ENSG00000120217",<br>                      model_type="Pretrained",<br>                      num_classes=0,<br>                      emb_mode="cell_and_gene",<br>                      cell_emb_style="mean_pool",<br>                      filter_data={"celltype_minor":(["T
          cells CD8+"]), "subtype":(["TNBC"])},<br>                      cell_states_to_model=None,<br>                      max_ncells=2000,<br>                      emb_layer=-1,<br>                      forward_batch_size=14,<br>                      nproc=8,<br>                      save_raw_data=False)<br>And
          it says my anchor gene input was not string. </p>

          '
        raw: "Also, I noticed that a gaussian mixture will fit to the perturber result\
          \ and the impact component was determined by the 2 means of the gaussian\
          \ mixture. So I'm wondering would this suggest we always use all gene in\
          \ perturber since only use some of genes might cause the algorithm cannot\
          \ actually separate impact genes and non impact genes? \nAlso, I found that\
          \ I cannot use the anchor gene function. \nMy code was: \nisp = InSilicoPerturber(perturb_type=\"\
          delete\",\n                      perturb_rank_shift=None,\n            \
          \          genes_to_perturb=[\"ENSG00000120217\", \"ENSG00000188389\", \"\
          ENSG00000163599\", \"ENSG00000023445\", \"ENSG00000026950\", \"ENSG00000100368\"\
          \n                                        , \"ENSG00000179144\", \"ENSG00000100453\"\
          , \"ENSG00000180353\", \"ENSG00000043462\", \"ENSG00000148488\", \"ENSG00000196932\"\
          ,\n                                       \"ENSG00000130348\", \"ENSG00000197168\"\
          , \"ENSG00000049759\", \"ENSG00000241343\", \"ENSG00000135862\"],\n    \
          \                  combos=1,\n                      anchor_gene= \"ENSG00000120217\"\
          ,\n                      model_type=\"Pretrained\",\n                  \
          \    num_classes=0,\n                      emb_mode=\"cell_and_gene\",\n\
          \                      cell_emb_style=\"mean_pool\",\n                 \
          \     filter_data={\"celltype_minor\":([\"T cells CD8+\"]), \"subtype\"\
          :([\"TNBC\"])},\n                      cell_states_to_model=None,\n    \
          \                  max_ncells=2000,\n                      emb_layer=-1,\n\
          \                      forward_batch_size=14,\n                      nproc=8,\n\
          \                      save_raw_data=False)\nAnd it says my anchor gene\
          \ input was not string. "
        updatedAt: '2023-07-05T08:11:29.657Z'
      numEdits: 1
      reactions: []
    id: 64a520dc281d65447578fa3d
    type: comment
  author: DYXDAVE
  content: "Also, I noticed that a gaussian mixture will fit to the perturber result\
    \ and the impact component was determined by the 2 means of the gaussian mixture.\
    \ So I'm wondering would this suggest we always use all gene in perturber since\
    \ only use some of genes might cause the algorithm cannot actually separate impact\
    \ genes and non impact genes? \nAlso, I found that I cannot use the anchor gene\
    \ function. \nMy code was: \nisp = InSilicoPerturber(perturb_type=\"delete\",\n\
    \                      perturb_rank_shift=None,\n                      genes_to_perturb=[\"\
    ENSG00000120217\", \"ENSG00000188389\", \"ENSG00000163599\", \"ENSG00000023445\"\
    , \"ENSG00000026950\", \"ENSG00000100368\"\n                                 \
    \       , \"ENSG00000179144\", \"ENSG00000100453\", \"ENSG00000180353\", \"ENSG00000043462\"\
    , \"ENSG00000148488\", \"ENSG00000196932\",\n                                \
    \       \"ENSG00000130348\", \"ENSG00000197168\", \"ENSG00000049759\", \"ENSG00000241343\"\
    , \"ENSG00000135862\"],\n                      combos=1,\n                   \
    \   anchor_gene= \"ENSG00000120217\",\n                      model_type=\"Pretrained\"\
    ,\n                      num_classes=0,\n                      emb_mode=\"cell_and_gene\"\
    ,\n                      cell_emb_style=\"mean_pool\",\n                     \
    \ filter_data={\"celltype_minor\":([\"T cells CD8+\"]), \"subtype\":([\"TNBC\"\
    ])},\n                      cell_states_to_model=None,\n                     \
    \ max_ncells=2000,\n                      emb_layer=-1,\n                    \
    \  forward_batch_size=14,\n                      nproc=8,\n                  \
    \    save_raw_data=False)\nAnd it says my anchor gene input was not string. "
  created_at: 2023-07-05 06:50:52+00:00
  edited: true
  hidden: false
  id: 64a520dc281d65447578fa3d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-07-10T18:17:38.000Z'
    data:
      edited: true
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9101101160049438
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for your interest in Geneformer! </p>

          <p>Thank you for your suggestion - I have added explanations for each of
          the possible columns in the output of the in silico perturber stats module,
          which can be accessed by "help(InSilicoPerturberStats)".</p>

          <p>Regarding the anchor gene issue, this was due to the validation of input
          parameters and I have updated the code to resolve this.</p>

          <p>For the mixture model, this strategy is used when the user would like
          to ask the question of which gene perturbations have a larger effect in
          a given cell population compared to other gene perturbations. Therefore,
          this approach necessarily should be comparing many different gene perturbations
          to determine the ones with a predicted larger impact. This approach is intended
          for unbiased discovery. However, even if the user is interested in just
          a few specific genes, the output .csv will also include the mean shift in
          response to each gene perturbation, so groups of genes could also be compared
          statistically by the user dependent on the user''s scientific question.</p>

          <p>On the other hand, if the user would like to ask the question of whether
          a given gene perturbation has a larger effect in a given cell population
          compared to that gene perturbation in other cell populations, the strategy
          to use for the in silico perturber stats would be "vs_null", where perturbation
          results in two different cell populations are presented to the model for
          comparison.</p>

          <p>Finally, if the user would like to ask the question of which gene perturbations
          shift the cells towards a specific goal cell state, the strategy to use
          would be "goal_state_shift".</p>

          '
        raw: "Thank you for your interest in Geneformer! \n\nThank you for your suggestion\
          \ - I have added explanations for each of the possible columns in the output\
          \ of the in silico perturber stats module, which can be accessed by \"help(InSilicoPerturberStats)\"\
          .\n\nRegarding the anchor gene issue, this was due to the validation of\
          \ input parameters and I have updated the code to resolve this.\n\nFor the\
          \ mixture model, this strategy is used when the user would like to ask the\
          \ question of which gene perturbations have a larger effect in a given cell\
          \ population compared to other gene perturbations. Therefore, this approach\
          \ necessarily should be comparing many different gene perturbations to determine\
          \ the ones with a predicted larger impact. This approach is intended for\
          \ unbiased discovery. However, even if the user is interested in just a\
          \ few specific genes, the output .csv will also include the mean shift in\
          \ response to each gene perturbation, so groups of genes could also be compared\
          \ statistically by the user dependent on the user's scientific question.\n\
          \nOn the other hand, if the user would like to ask the question of whether\
          \ a given gene perturbation has a larger effect in a given cell population\
          \ compared to that gene perturbation in other cell populations, the strategy\
          \ to use for the in silico perturber stats would be \"vs_null\", where perturbation\
          \ results in two different cell populations are presented to the model for\
          \ comparison.\n\nFinally, if the user would like to ask the question of\
          \ which gene perturbations shift the cells towards a specific goal cell\
          \ state, the strategy to use would be \"goal_state_shift\"."
        updatedAt: '2023-07-10T18:17:58.554Z'
      numEdits: 1
      reactions: []
      relatedEventId: 64ac4b427a9df1bd4133ff14
    id: 64ac4b427a9df1bd4133ff13
    type: comment
  author: ctheodoris
  content: "Thank you for your interest in Geneformer! \n\nThank you for your suggestion\
    \ - I have added explanations for each of the possible columns in the output of\
    \ the in silico perturber stats module, which can be accessed by \"help(InSilicoPerturberStats)\"\
    .\n\nRegarding the anchor gene issue, this was due to the validation of input\
    \ parameters and I have updated the code to resolve this.\n\nFor the mixture model,\
    \ this strategy is used when the user would like to ask the question of which\
    \ gene perturbations have a larger effect in a given cell population compared\
    \ to other gene perturbations. Therefore, this approach necessarily should be\
    \ comparing many different gene perturbations to determine the ones with a predicted\
    \ larger impact. This approach is intended for unbiased discovery. However, even\
    \ if the user is interested in just a few specific genes, the output .csv will\
    \ also include the mean shift in response to each gene perturbation, so groups\
    \ of genes could also be compared statistically by the user dependent on the user's\
    \ scientific question.\n\nOn the other hand, if the user would like to ask the\
    \ question of whether a given gene perturbation has a larger effect in a given\
    \ cell population compared to that gene perturbation in other cell populations,\
    \ the strategy to use for the in silico perturber stats would be \"vs_null\",\
    \ where perturbation results in two different cell populations are presented to\
    \ the model for comparison.\n\nFinally, if the user would like to ask the question\
    \ of which gene perturbations shift the cells towards a specific goal cell state,\
    \ the strategy to use would be \"goal_state_shift\"."
  created_at: 2023-07-10 17:17:38+00:00
  edited: true
  hidden: false
  id: 64ac4b427a9df1bd4133ff13
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-07-10T18:17:38.000Z'
    data:
      status: closed
    id: 64ac4b427a9df1bd4133ff14
    type: status-change
  author: ctheodoris
  created_at: 2023-07-10 17:17:38+00:00
  id: 64ac4b427a9df1bd4133ff14
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 92
repo_id: ctheodoris/Geneformer
repo_type: model
status: closed
target_branch: null
title: Question about interpreting perturber's output
