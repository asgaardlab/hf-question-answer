!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dynastyteng
conflicting_files: null
created_at: 2024-01-13 21:54:06+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e538c79b14ace68674d05712a4a3d850.svg
      fullname: Mingqing Teng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dynastyteng
      type: user
    createdAt: '2024-01-13T21:54:06.000Z'
    data:
      edited: false
      editors:
      - dynastyteng
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8339027762413025
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e538c79b14ace68674d05712a4a3d850.svg
          fullname: Mingqing Teng
          isHf: false
          isPro: false
          name: dynastyteng
          type: user
        html: '<p>Hi, there,<br>Thanks for your great work for the Geneformer.<br>I''m
          trying to use your fine-tuned model "geneformer-6L-30M_CellClassifier_cardiomyopathies_220224"
          to make the prediction.<br>I can get the number of labels from config.json.
          However, I am not able to figure out what are the label names and the corresponding
          relationship between the label codes and the label names. For example, for
          this fine-tuned model, I know there are 3 types of labels, denoted as 0,1,
          and 2.<br>Without the fine-tunned data, how can I tell what label names
          0,1, and stand for, respectively?<br>I tried to use the TranscriptomeTokenizer
          to figure it out, but unfortunately,  this Tokenizer has no attribute like
          "convert_ids_to_tokens".<br>Could you please help us out?</p>

          <ol>

          <li>Advise the relationship between the label codes and the label names.
          or</li>

          <li>share the fine-tuned data for "geneformer-6L-30M_CellClassifier_cardiomyopathies_220224"<br>Another
          question is, I did the prediction and got the results like:</li>

          </ol>

          <p>PredictionOutput(predictions=array([[-1.2306719,  3.079315 , -2.789999
          ],<br>       [-1.9743141,  3.4066339, -2.78787  ],<br>       [-0.8639904,  3.0388556,
          -2.915512 ],<br>       [ 5.5601993,  1.0048265, -3.614739 ],<br>       [-1.3420024,  3.3629172,
          -3.0273848]], dtype=float32), label_ids=None, metrics={''test_runtime'':
          1.6866, ''test_samples_per_second'': 2.964, ''test_steps_per_second'': 0.593})</p>

          <p>Normally, the prediction gives the results as probabilities and the highest
          number corresponds to the most possible prediction. </p>

          <p>Can you please advise what the numbers stand for? or How do I use these
          numbers? any document for this?</p>

          <p>Thanks.</p>

          <p>Mingqing Teng</p>

          '
        raw: "Hi, there,\r\nThanks for your great work for the Geneformer.\r\nI'm\
          \ trying to use your fine-tuned model \"geneformer-6L-30M_CellClassifier_cardiomyopathies_220224\"\
          \ to make the prediction.\r\nI can get the number of labels from config.json.\
          \ However, I am not able to figure out what are the label names and the\
          \ corresponding relationship between the label codes and the label names.\
          \ For example, for this fine-tuned model, I know there are 3 types of labels,\
          \ denoted as 0,1, and 2.\r\nWithout the fine-tunned data, how can I tell\
          \ what label names 0,1, and stand for, respectively?\r\nI tried to use the\
          \ TranscriptomeTokenizer to figure it out, but unfortunately,  this Tokenizer\
          \ has no attribute like \"convert_ids_to_tokens\".\r\nCould you please help\
          \ us out?\r\n1. Advise the relationship between the label codes and the\
          \ label names. or\r\n2. share the fine-tuned data for \"geneformer-6L-30M_CellClassifier_cardiomyopathies_220224\"\
          \r\nAnother question is, I did the prediction and got the results like:\r\
          \n\r\nPredictionOutput(predictions=array([[-1.2306719,  3.079315 , -2.789999\
          \ ],\r\n       [-1.9743141,  3.4066339, -2.78787  ],\r\n       [-0.8639904,\
          \  3.0388556, -2.915512 ],\r\n       [ 5.5601993,  1.0048265, -3.614739\
          \ ],\r\n       [-1.3420024,  3.3629172, -3.0273848]], dtype=float32), label_ids=None,\
          \ metrics={'test_runtime': 1.6866, 'test_samples_per_second': 2.964, 'test_steps_per_second':\
          \ 0.593})\r\n\r\nNormally, the prediction gives the results as probabilities\
          \ and the highest number corresponds to the most possible prediction. \r\
          \n\r\nCan you please advise what the numbers stand for? or How do I use\
          \ these numbers? any document for this?\r\n\r\nThanks.\r\n\r\nMingqing Teng"
        updatedAt: '2024-01-13T21:54:06.879Z'
      numEdits: 0
      reactions: []
    id: 65a3067ec8a09bd5e806631a
    type: comment
  author: dynastyteng
  content: "Hi, there,\r\nThanks for your great work for the Geneformer.\r\nI'm trying\
    \ to use your fine-tuned model \"geneformer-6L-30M_CellClassifier_cardiomyopathies_220224\"\
    \ to make the prediction.\r\nI can get the number of labels from config.json.\
    \ However, I am not able to figure out what are the label names and the corresponding\
    \ relationship between the label codes and the label names. For example, for this\
    \ fine-tuned model, I know there are 3 types of labels, denoted as 0,1, and 2.\r\
    \nWithout the fine-tunned data, how can I tell what label names 0,1, and stand\
    \ for, respectively?\r\nI tried to use the TranscriptomeTokenizer to figure it\
    \ out, but unfortunately,  this Tokenizer has no attribute like \"convert_ids_to_tokens\"\
    .\r\nCould you please help us out?\r\n1. Advise the relationship between the label\
    \ codes and the label names. or\r\n2. share the fine-tuned data for \"geneformer-6L-30M_CellClassifier_cardiomyopathies_220224\"\
    \r\nAnother question is, I did the prediction and got the results like:\r\n\r\n\
    PredictionOutput(predictions=array([[-1.2306719,  3.079315 , -2.789999 ],\r\n\
    \       [-1.9743141,  3.4066339, -2.78787  ],\r\n       [-0.8639904,  3.0388556,\
    \ -2.915512 ],\r\n       [ 5.5601993,  1.0048265, -3.614739 ],\r\n       [-1.3420024,\
    \  3.3629172, -3.0273848]], dtype=float32), label_ids=None, metrics={'test_runtime':\
    \ 1.6866, 'test_samples_per_second': 2.964, 'test_steps_per_second': 0.593})\r\
    \n\r\nNormally, the prediction gives the results as probabilities and the highest\
    \ number corresponds to the most possible prediction. \r\n\r\nCan you please advise\
    \ what the numbers stand for? or How do I use these numbers? any document for\
    \ this?\r\n\r\nThanks.\r\n\r\nMingqing Teng"
  created_at: 2024-01-13 21:54:06+00:00
  edited: false
  hidden: false
  id: 65a3067ec8a09bd5e806631a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2024-01-15T11:39:47.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6992454528808594
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for your interest in Geneformer and for your questions!</p>

          <ol>

          <li><p>{0: "nf", 1: "hcm", 2: "dcm"}</p>

          </li>

          <li><p>These are the components for fine-tuning the model for cardiomyopathy
          disease classification:</p>

          </li>

          </ol>

          <ul>

          <li>Dataset: <a href="https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/cell_classification/disease_classification/human_dcm_hcm_nf.dataset">https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/cell_classification/disease_classification/human_dcm_hcm_nf.dataset</a></li>

          <li>Code: <a href="https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/hyperparam_optimiz_for_disease_classifier.py">https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/hyperparam_optimiz_for_disease_classifier.py</a></li>

          <li>Fine-tuned model: <a href="https://huggingface.co/ctheodoris/Geneformer/tree/main/fine_tuned_models/geneformer-6L-30M_CellClassifier_cardiomyopathies_220224">https://huggingface.co/ctheodoris/Geneformer/tree/main/fine_tuned_models/geneformer-6L-30M_CellClassifier_cardiomyopathies_220224</a></li>

          </ul>

          <ol start="3">

          <li>You can set the model to eval mode to output prediction logits. Larger
          numbers mean the model interprets this class to be more likely than the
          others. Here is documentation about the outputs of a cell state classifier
          (sequence classifier): <a href="https://huggingface.co/docs/transformers/main_classes/output#transformers.modeling_outputs.SequenceClassifierOutput">https://huggingface.co/docs/transformers/main_classes/output#transformers.modeling_outputs.SequenceClassifierOutput</a></li>

          </ol>

          '
        raw: 'Thank you for your interest in Geneformer and for your questions!


          1) {0: "nf", 1: "hcm", 2: "dcm"}


          2) These are the components for fine-tuning the model for cardiomyopathy
          disease classification:

          - Dataset: https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/cell_classification/disease_classification/human_dcm_hcm_nf.dataset

          - Code: https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/hyperparam_optimiz_for_disease_classifier.py

          - Fine-tuned model: https://huggingface.co/ctheodoris/Geneformer/tree/main/fine_tuned_models/geneformer-6L-30M_CellClassifier_cardiomyopathies_220224


          3) You can set the model to eval mode to output prediction logits. Larger
          numbers mean the model interprets this class to be more likely than the
          others. Here is documentation about the outputs of a cell state classifier
          (sequence classifier): https://huggingface.co/docs/transformers/main_classes/output#transformers.modeling_outputs.SequenceClassifierOutput'
        updatedAt: '2024-01-15T11:39:47.183Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - dynastyteng
      relatedEventId: 65a519837ec6af0f95ba894d
    id: 65a519837ec6af0f95ba894a
    type: comment
  author: ctheodoris
  content: 'Thank you for your interest in Geneformer and for your questions!


    1) {0: "nf", 1: "hcm", 2: "dcm"}


    2) These are the components for fine-tuning the model for cardiomyopathy disease
    classification:

    - Dataset: https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/cell_classification/disease_classification/human_dcm_hcm_nf.dataset

    - Code: https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/hyperparam_optimiz_for_disease_classifier.py

    - Fine-tuned model: https://huggingface.co/ctheodoris/Geneformer/tree/main/fine_tuned_models/geneformer-6L-30M_CellClassifier_cardiomyopathies_220224


    3) You can set the model to eval mode to output prediction logits. Larger numbers
    mean the model interprets this class to be more likely than the others. Here is
    documentation about the outputs of a cell state classifier (sequence classifier):
    https://huggingface.co/docs/transformers/main_classes/output#transformers.modeling_outputs.SequenceClassifierOutput'
  created_at: 2024-01-15 11:39:47+00:00
  edited: false
  hidden: false
  id: 65a519837ec6af0f95ba894a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2024-01-15T11:39:47.000Z'
    data:
      status: closed
    id: 65a519837ec6af0f95ba894d
    type: status-change
  author: ctheodoris
  created_at: 2024-01-15 11:39:47+00:00
  id: 65a519837ec6af0f95ba894d
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e538c79b14ace68674d05712a4a3d850.svg
      fullname: Mingqing Teng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dynastyteng
      type: user
    createdAt: '2024-01-18T15:38:25.000Z'
    data:
      edited: false
      editors:
      - dynastyteng
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7235372066497803
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e538c79b14ace68674d05712a4a3d850.svg
          fullname: Mingqing Teng
          isHf: false
          isPro: false
          name: dynastyteng
          type: user
        html: '<p>Thanks for your reply.<br>Can you please also provide the label
          names for the fine-tunned models? i.e., spleen, kidney,lung,brain,placenta,immune,large_intestine,pancreas,
          and liver?<br>(like this {0: "nf", 1: "hcm", 2: "dcm"})<br><a href="https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/cell_classification.ipynb">https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/cell_classification.ipynb</a></p>

          <p>Thanks.</p>

          '
        raw: 'Thanks for your reply.

          Can you please also provide the label names for the fine-tunned models?
          i.e., spleen, kidney,lung,brain,placenta,immune,large_intestine,pancreas,
          and liver?

          (like this {0: "nf", 1: "hcm", 2: "dcm"})

          https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/cell_classification.ipynb


          Thanks.

          '
        updatedAt: '2024-01-18T15:38:25.450Z'
      numEdits: 0
      reactions: []
    id: 65a945f1d63812c33ea40590
    type: comment
  author: dynastyteng
  content: 'Thanks for your reply.

    Can you please also provide the label names for the fine-tunned models? i.e.,
    spleen, kidney,lung,brain,placenta,immune,large_intestine,pancreas, and liver?

    (like this {0: "nf", 1: "hcm", 2: "dcm"})

    https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/cell_classification.ipynb


    Thanks.

    '
  created_at: 2024-01-18 15:38:25+00:00
  edited: false
  hidden: false
  id: 65a945f1d63812c33ea40590
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2024-01-18T16:01:48.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8787767291069031
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for following up. The only fine-tuned model we currently
          provide is the cardiomyopathy disease classifier model, at the link you
          specified in your initial post. The example code for fine-tuning models
          includes a function to convert classes from strings to numerical IDs, so
          if you use that method, this function would specify the dictionary of relationships
          between your classes and IDs. You can save that at the time of fine-tuning
          for future reference for any model.</p>

          '
        raw: Thank you for following up. The only fine-tuned model we currently provide
          is the cardiomyopathy disease classifier model, at the link you specified
          in your initial post. The example code for fine-tuning models includes a
          function to convert classes from strings to numerical IDs, so if you use
          that method, this function would specify the dictionary of relationships
          between your classes and IDs. You can save that at the time of fine-tuning
          for future reference for any model.
        updatedAt: '2024-01-18T16:01:48.634Z'
      numEdits: 0
      reactions: []
    id: 65a94b6cac588f2a1c85227b
    type: comment
  author: ctheodoris
  content: Thank you for following up. The only fine-tuned model we currently provide
    is the cardiomyopathy disease classifier model, at the link you specified in your
    initial post. The example code for fine-tuning models includes a function to convert
    classes from strings to numerical IDs, so if you use that method, this function
    would specify the dictionary of relationships between your classes and IDs. You
    can save that at the time of fine-tuning for future reference for any model.
  created_at: 2024-01-18 16:01:48+00:00
  edited: false
  hidden: false
  id: 65a94b6cac588f2a1c85227b
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 290
repo_id: ctheodoris/Geneformer
repo_type: model
status: closed
target_branch: null
title: How can I know the lable names of the fine tunned model geneformer-6L-30M_CellClassifier_cardiomyopathies_220224?
