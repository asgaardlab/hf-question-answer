!!python/object:huggingface_hub.community.DiscussionWithDetails
author: pchiang5
conflicting_files: null
created_at: 2023-08-02 01:56:14+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1092f31a9ffd1e9813369b91311f765a.svg
      fullname: PC
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pchiang5
      type: user
    createdAt: '2023-08-02T02:56:14.000Z'
    data:
      edited: false
      editors:
      - pchiang5
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5175536870956421
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1092f31a9ffd1e9813369b91311f765a.svg
          fullname: PC
          isHf: false
          isPro: false
          name: pchiang5
          type: user
        html: "<p>When I used InSilicoPerturber with a fine-tuned model with the input\
          \ below, it showed a warning \"We strongly recommend passing in an <code>attention_mask</code>\
          \ since your input_ids may be padded. See <a href=\"https://huggingface.co/docs/transformers/troubleshooting#incorrect-output-when-padding-tokens-arent-masked.&quot;\"\
          >https://huggingface.co/docs/transformers/troubleshooting#incorrect-output-when-padding-tokens-arent-masked.\"\
          </a> Is it safe to ignore it, or where shall I find the <code>attention_mask</code>\
          \ to avoid this message?  Thank you.</p>\n<pre><code>isp = InSilicoPerturber(perturb_type=\"\
          overexpress\",\n                        perturb_rank_shift=None,\n     \
          \                   genes_to_perturb=\"all\",\n                        combos=0,\n\
          \                        anchor_gene=None,\n                        model_type=\"\
          CellClassifier\",\n                        num_classes=29,\n           \
          \             emb_mode=\"cell\",\n                        cell_emb_style=\"\
          mean_pool\",\n                        cell_states_to_model={\"cell_type\"\
          :([\"A\"],[\"B\"], [])},\n                        max_ncells=2000,\n   \
          \                     emb_layer=0,\n                        forward_batch_size=16,\n\
          \                        nproc=16) \n</code></pre>\n"
        raw: "When I used InSilicoPerturber with a fine-tuned model with the input\
          \ below, it showed a warning \"We strongly recommend passing in an `attention_mask`\
          \ since your input_ids may be padded. See https://huggingface.co/docs/transformers/troubleshooting#incorrect-output-when-padding-tokens-arent-masked.\"\
          \ Is it safe to ignore it, or where shall I find the `attention_mask` to\
          \ avoid this message?  Thank you.\r\n\r\n```\r\nisp = InSilicoPerturber(perturb_type=\"\
          overexpress\",\r\n                        perturb_rank_shift=None,\r\n \
          \                       genes_to_perturb=\"all\",\r\n                  \
          \      combos=0,\r\n                        anchor_gene=None,\r\n      \
          \                  model_type=\"CellClassifier\",\r\n                  \
          \      num_classes=29,\r\n                        emb_mode=\"cell\",\r\n\
          \                        cell_emb_style=\"mean_pool\",\r\n             \
          \           cell_states_to_model={\"cell_type\":([\"A\"],[\"B\"], [])},\r\
          \n                        max_ncells=2000,\r\n                        emb_layer=0,\r\
          \n                        forward_batch_size=16,\r\n                   \
          \     nproc=16) \r\n```"
        updatedAt: '2023-08-02T02:56:14.537Z'
      numEdits: 0
      reactions: []
    id: 64c9c5ce29d2f65419f86803
    type: comment
  author: pchiang5
  content: "When I used InSilicoPerturber with a fine-tuned model with the input below,\
    \ it showed a warning \"We strongly recommend passing in an `attention_mask` since\
    \ your input_ids may be padded. See https://huggingface.co/docs/transformers/troubleshooting#incorrect-output-when-padding-tokens-arent-masked.\"\
    \ Is it safe to ignore it, or where shall I find the `attention_mask` to avoid\
    \ this message?  Thank you.\r\n\r\n```\r\nisp = InSilicoPerturber(perturb_type=\"\
    overexpress\",\r\n                        perturb_rank_shift=None,\r\n       \
    \                 genes_to_perturb=\"all\",\r\n                        combos=0,\r\
    \n                        anchor_gene=None,\r\n                        model_type=\"\
    CellClassifier\",\r\n                        num_classes=29,\r\n             \
    \           emb_mode=\"cell\",\r\n                        cell_emb_style=\"mean_pool\"\
    ,\r\n                        cell_states_to_model={\"cell_type\":([\"A\"],[\"\
    B\"], [])},\r\n                        max_ncells=2000,\r\n                  \
    \      emb_layer=0,\r\n                        forward_batch_size=16,\r\n    \
    \                    nproc=16) \r\n```"
  created_at: 2023-08-02 01:56:14+00:00
  edited: false
  hidden: false
  id: 64c9c5ce29d2f65419f86803
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-08-02T09:42:54.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8492916822433472
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for your question! We added attention masks in locations
          where we are padding - please pull the updated version.</p>

          '
        raw: Thank you for your question! We added attention masks in locations where
          we are padding - please pull the updated version.
        updatedAt: '2023-08-02T09:42:54.038Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - pchiang5
      relatedEventId: 64ca251eead94891d1cf54cb
    id: 64ca251eead94891d1cf54c8
    type: comment
  author: ctheodoris
  content: Thank you for your question! We added attention masks in locations where
    we are padding - please pull the updated version.
  created_at: 2023-08-02 08:42:54+00:00
  edited: false
  hidden: false
  id: 64ca251eead94891d1cf54c8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-08-02T09:42:54.000Z'
    data:
      status: closed
    id: 64ca251eead94891d1cf54cb
    type: status-change
  author: ctheodoris
  created_at: 2023-08-02 08:42:54+00:00
  id: 64ca251eead94891d1cf54cb
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1092f31a9ffd1e9813369b91311f765a.svg
      fullname: PC
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pchiang5
      type: user
    createdAt: '2023-08-04T00:31:22.000Z'
    data:
      edited: true
      editors:
      - pchiang5
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.29385554790496826
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1092f31a9ffd1e9813369b91311f765a.svg
          fullname: PC
          isHf: false
          isPro: false
          name: pchiang5
          type: user
        html: '<p>Will open a new discussion.</p>

          '
        raw: Will open a new discussion.
        updatedAt: '2023-08-04T00:40:57.204Z'
      numEdits: 1
      reactions: []
      relatedEventId: 64cc46da71b435a75dd7b3b0
    id: 64cc46da71b435a75dd7b3ac
    type: comment
  author: pchiang5
  content: Will open a new discussion.
  created_at: 2023-08-03 23:31:22+00:00
  edited: true
  hidden: false
  id: 64cc46da71b435a75dd7b3ac
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/1092f31a9ffd1e9813369b91311f765a.svg
      fullname: PC
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: pchiang5
      type: user
    createdAt: '2023-08-04T00:31:22.000Z'
    data:
      status: open
    id: 64cc46da71b435a75dd7b3b0
    type: status-change
  author: pchiang5
  created_at: 2023-08-03 23:31:22+00:00
  id: 64cc46da71b435a75dd7b3b0
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-08-04T00:38:56.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9183970093727112
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for your question. Since this is unrelated to the attention
          mask, please open a new discussion with a title that is descriptive of this
          discussion so that others can easily find the information should they have
          the same question later. Also, please provide the full set of arguments
          you are using to run the in silico perturber so we can reproduce the error
          and help troubleshoot.</p>

          '
        raw: Thank you for your question. Since this is unrelated to the attention
          mask, please open a new discussion with a title that is descriptive of this
          discussion so that others can easily find the information should they have
          the same question later. Also, please provide the full set of arguments
          you are using to run the in silico perturber so we can reproduce the error
          and help troubleshoot.
        updatedAt: '2023-08-04T00:38:56.430Z'
      numEdits: 0
      reactions: []
      relatedEventId: 64cc48a0a81988d07363b029
    id: 64cc48a0a81988d07363b028
    type: comment
  author: ctheodoris
  content: Thank you for your question. Since this is unrelated to the attention mask,
    please open a new discussion with a title that is descriptive of this discussion
    so that others can easily find the information should they have the same question
    later. Also, please provide the full set of arguments you are using to run the
    in silico perturber so we can reproduce the error and help troubleshoot.
  created_at: 2023-08-03 23:38:56+00:00
  edited: false
  hidden: false
  id: 64cc48a0a81988d07363b028
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-08-04T00:38:56.000Z'
    data:
      status: closed
    id: 64cc48a0a81988d07363b029
    type: status-change
  author: ctheodoris
  created_at: 2023-08-03 23:38:56+00:00
  id: 64cc48a0a81988d07363b029
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 154
repo_id: ctheodoris/Geneformer
repo_type: model
status: closed
target_branch: null
title: passing in an `attention_mask` since your input_ids may be padded
