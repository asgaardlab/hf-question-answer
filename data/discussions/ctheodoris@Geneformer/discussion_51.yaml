!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Renqing
conflicting_files: null
created_at: 2023-06-21 04:39:38+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/96dfc7cd6acde7bc305a6e3d7cfd8f81.svg
      fullname: Renqing Nie
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Renqing
      type: user
    createdAt: '2023-06-21T05:39:38.000Z'
    data:
      edited: false
      editors:
      - Renqing
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8553175330162048
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/96dfc7cd6acde7bc305a6e3d7cfd8f81.svg
          fullname: Renqing Nie
          isHf: false
          isPro: false
          name: Renqing
          type: user
        html: '<p>hello,When I ran the example of <code>cell classification notebook</code>,
          I encountered <code>HIP out of memory. Tried to allocate 674.00 MiB (GPU
          0; 15.98 GiB total capacity; 14.77 GiB already allocated; 0 bytes free;
          15.43 GiB reserved in total by PyTorch) If reserved memory is &gt;&gt; allocated
          memory try setting max_split_size_mb to avoid fragmentation. </code>  error.
          Do you have any improvement measures or any requirements for my memory.</p>

          '
        raw: hello,When I ran the example of `cell classification notebook`, I encountered
          `HIP out of memory. Tried to allocate 674.00 MiB (GPU 0; 15.98 GiB total
          capacity; 14.77 GiB already allocated; 0 bytes free; 15.43 GiB reserved
          in total by PyTorch) If reserved memory is >> allocated memory try setting
          max_split_size_mb to avoid fragmentation. `  error. Do you have any improvement
          measures or any requirements for my memory.
        updatedAt: '2023-06-21T05:39:38.618Z'
      numEdits: 0
      reactions: []
    id: 64928d1af079f0ac4a3475e9
    type: comment
  author: Renqing
  content: hello,When I ran the example of `cell classification notebook`, I encountered
    `HIP out of memory. Tried to allocate 674.00 MiB (GPU 0; 15.98 GiB total capacity;
    14.77 GiB already allocated; 0 bytes free; 15.43 GiB reserved in total by PyTorch)
    If reserved memory is >> allocated memory try setting max_split_size_mb to avoid
    fragmentation. `  error. Do you have any improvement measures or any requirements
    for my memory.
  created_at: 2023-06-21 04:39:38+00:00
  edited: false
  hidden: false
  id: 64928d1af079f0ac4a3475e9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/96dfc7cd6acde7bc305a6e3d7cfd8f81.svg
      fullname: Renqing Nie
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Renqing
      type: user
    createdAt: '2023-06-21T05:57:22.000Z'
    data:
      edited: false
      editors:
      - Renqing
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8077983260154724
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/96dfc7cd6acde7bc305a6e3d7cfd8f81.svg
          fullname: Renqing Nie
          isHf: false
          isPro: false
          name: Renqing
          type: user
        html: '<p>Also in silico perturbation.</p>

          '
        raw: Also in silico perturbation.
        updatedAt: '2023-06-21T05:57:22.158Z'
      numEdits: 0
      reactions: []
    id: 64929142a2430f0dcb65ee61
    type: comment
  author: Renqing
  content: Also in silico perturbation.
  created_at: 2023-06-21 04:57:22+00:00
  edited: false
  hidden: false
  id: 64929142a2430f0dcb65ee61
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-06-21T06:03:33.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9350438714027405
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for your interest in Geneformer. It looks like based on
          your error message that you are close to fitting your analysis on your resources.
          You can change the batch size to fit your resource requirements.</p>

          '
        raw: Thank you for your interest in Geneformer. It looks like based on your
          error message that you are close to fitting your analysis on your resources.
          You can change the batch size to fit your resource requirements.
        updatedAt: '2023-06-21T06:03:33.885Z'
      numEdits: 0
      reactions: []
      relatedEventId: 649292b515180cc729d7e089
    id: 649292b515180cc729d7e088
    type: comment
  author: ctheodoris
  content: Thank you for your interest in Geneformer. It looks like based on your
    error message that you are close to fitting your analysis on your resources. You
    can change the batch size to fit your resource requirements.
  created_at: 2023-06-21 05:03:33+00:00
  edited: false
  hidden: false
  id: 649292b515180cc729d7e088
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-06-21T06:03:33.000Z'
    data:
      status: closed
    id: 649292b515180cc729d7e089
    type: status-change
  author: ctheodoris
  created_at: 2023-06-21 05:03:33+00:00
  id: 649292b515180cc729d7e089
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/96dfc7cd6acde7bc305a6e3d7cfd8f81.svg
      fullname: Renqing Nie
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Renqing
      type: user
    createdAt: '2023-06-21T06:07:12.000Z'
    data:
      edited: true
      editors:
      - Renqing
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.846157431602478
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/96dfc7cd6acde7bc305a6e3d7cfd8f81.svg
          fullname: Renqing Nie
          isHf: false
          isPro: false
          name: Renqing
          type: user
        html: '<p>I used the <code>cell_type_annotation data</code>provided by you
          for testing, and I set the batchsize to 4. But in the <code>silicon pertabution</code>
          you provided, it is the same situation, how to remove this error</p>

          '
        raw: I used the `cell_type_annotation data`provided by you for testing, and
          I set the batchsize to 4. But in the `silicon pertabution` you provided,
          it is the same situation, how to remove this error
        updatedAt: '2023-06-21T06:08:20.233Z'
      numEdits: 1
      reactions: []
    id: 64929390fe1c0c0843f26c82
    type: comment
  author: Renqing
  content: I used the `cell_type_annotation data`provided by you for testing, and
    I set the batchsize to 4. But in the `silicon pertabution` you provided, it is
    the same situation, how to remove this error
  created_at: 2023-06-21 05:07:12+00:00
  edited: true
  hidden: false
  id: 64929390fe1c0c0843f26c82
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-06-21T06:14:01.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9157573580741882
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>As discussed in the Methods of our manuscript, we used 32G GPUs
          for our training. Based on the message you posted, your GPUs are about half
          the size, so this is going to considerably reduce the batch size you can
          use. You can reduce the batch size to fit your resource requirements or,
          if available, increase your resources. If you have smaller GPUs but more
          than one, you can also consider distributing your training.</p>

          '
        raw: As discussed in the Methods of our manuscript, we used 32G GPUs for our
          training. Based on the message you posted, your GPUs are about half the
          size, so this is going to considerably reduce the batch size you can use.
          You can reduce the batch size to fit your resource requirements or, if available,
          increase your resources. If you have smaller GPUs but more than one, you
          can also consider distributing your training.
        updatedAt: '2023-06-21T06:14:01.660Z'
      numEdits: 0
      reactions: []
    id: 6492952914b47c840ef2f080
    type: comment
  author: ctheodoris
  content: As discussed in the Methods of our manuscript, we used 32G GPUs for our
    training. Based on the message you posted, your GPUs are about half the size,
    so this is going to considerably reduce the batch size you can use. You can reduce
    the batch size to fit your resource requirements or, if available, increase your
    resources. If you have smaller GPUs but more than one, you can also consider distributing
    your training.
  created_at: 2023-06-21 05:14:01+00:00
  edited: false
  hidden: false
  id: 6492952914b47c840ef2f080
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 51
repo_id: ctheodoris/Geneformer
repo_type: model
status: closed
target_branch: null
title: HIP out of memory
