!!python/object:huggingface_hub.community.DiscussionWithDetails
author: patrick-yu
conflicting_files: null
created_at: 2023-10-31 18:30:18+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5d78a7c977b77aee128032ca58167ea7.svg
      fullname: Patrick Yu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrick-yu
      type: user
    createdAt: '2023-10-31T19:30:18.000Z'
    data:
      edited: false
      editors:
      - patrick-yu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8910062313079834
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5d78a7c977b77aee128032ca58167ea7.svg
          fullname: Patrick Yu
          isHf: false
          isPro: false
          name: patrick-yu
          type: user
        html: '<p>Thanks again for the great work - I was wondering if you may have
          plans to release code for other downstream tasks for Geneformer? </p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/652d9eee2c5f2e2fcf3fee7a/sNlyPs2TwwX-h0A9GPMqS.png"><img
          alt="Screenshot 2023-10-31 at 12.21.07 PM.png" src="https://cdn-uploads.huggingface.co/production/uploads/652d9eee2c5f2e2fcf3fee7a/sNlyPs2TwwX-h0A9GPMqS.png"></a></p>

          <p>For example, I am greatly interested in gene-level tasks such as your
          gene network centrality tasks/chromatin dynamic/TF target identification,
          or dosage sensitivity. </p>

          <p>I''m also thinking of applying your model on drug and gene perturbation
          experiments - I was wondering if those would be feasible (perhaps by training
          your model by 1) appending the perturbed genes or drug tokens at the beginning
          of the input, before the gene tokens that represent the single cell that
          is being perturbed, and 2) applying some type of "reconstruction error"
          between the predicted gene tokens at the output and the actual perturbed
          single-cell expression rank value encodings).</p>

          <p>Thanks again for your advice!<br>-Patrick</p>

          '
        raw: "Thanks again for the great work - I was wondering if you may have plans\
          \ to release code for other downstream tasks for Geneformer? \r\n\r\n\r\n\
          ![Screenshot 2023-10-31 at 12.21.07 PM.png](https://cdn-uploads.huggingface.co/production/uploads/652d9eee2c5f2e2fcf3fee7a/sNlyPs2TwwX-h0A9GPMqS.png)\r\
          \n\r\n\r\nFor example, I am greatly interested in gene-level tasks such\
          \ as your gene network centrality tasks/chromatin dynamic/TF target identification,\
          \ or dosage sensitivity. \r\n\r\nI'm also thinking of applying your model\
          \ on drug and gene perturbation experiments - I was wondering if those would\
          \ be feasible (perhaps by training your model by 1) appending the perturbed\
          \ genes or drug tokens at the beginning of the input, before the gene tokens\
          \ that represent the single cell that is being perturbed, and 2) applying\
          \ some type of \"reconstruction error\" between the predicted gene tokens\
          \ at the output and the actual perturbed single-cell expression rank value\
          \ encodings).\r\n\r\nThanks again for your advice!\r\n-Patrick"
        updatedAt: '2023-10-31T19:30:18.491Z'
      numEdits: 0
      reactions: []
    id: 654155cac1737a4320ce1438
    type: comment
  author: patrick-yu
  content: "Thanks again for the great work - I was wondering if you may have plans\
    \ to release code for other downstream tasks for Geneformer? \r\n\r\n\r\n![Screenshot\
    \ 2023-10-31 at 12.21.07 PM.png](https://cdn-uploads.huggingface.co/production/uploads/652d9eee2c5f2e2fcf3fee7a/sNlyPs2TwwX-h0A9GPMqS.png)\r\
    \n\r\n\r\nFor example, I am greatly interested in gene-level tasks such as your\
    \ gene network centrality tasks/chromatin dynamic/TF target identification, or\
    \ dosage sensitivity. \r\n\r\nI'm also thinking of applying your model on drug\
    \ and gene perturbation experiments - I was wondering if those would be feasible\
    \ (perhaps by training your model by 1) appending the perturbed genes or drug\
    \ tokens at the beginning of the input, before the gene tokens that represent\
    \ the single cell that is being perturbed, and 2) applying some type of \"reconstruction\
    \ error\" between the predicted gene tokens at the output and the actual perturbed\
    \ single-cell expression rank value encodings).\r\n\r\nThanks again for your advice!\r\
    \n-Patrick"
  created_at: 2023-10-31 18:30:18+00:00
  edited: false
  hidden: false
  id: 654155cac1737a4320ce1438
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-11-02T00:03:21.000Z'
    data:
      edited: false
      editors:
      - ctheodoris
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9204903244972229
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
          fullname: Christina Theodoris
          isHf: false
          isPro: false
          name: ctheodoris
          type: user
        html: '<p>Thank you for your interest in Geneformer! </p>

          <p>Example code for the gene classification tasks is here: <a href="https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/gene_classification.ipynb">https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/gene_classification.ipynb</a></p>

          <p>There is also an open PR that we are currently testing that provides
          a modular approach to this. Please note that although the hyperparameter
          optimization example is written as a cell classification application, we
          also recommend hyperparameter optimization for gene classification applications
          (as with all deep learning models, hyperparameter optimization can have
          a large impact on how well the model is trained). </p>

          <p>Please also see the dataset repository for example gene classification
          labels/datasets:<br><a href="https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/gene_classification">https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/gene_classification</a></p>

          <p>For your question about drugs/gene perturbations:<br>For gene perturbations,
          you could directly encode the perturbation by moving up or down the given
          gene within the rank value encoding (as we do with the in silico perturbation
          code). However, you could potentially take a prompt based approach instead,
          as long as you made clear with a special token the separation between the
          prompt and then encoded transcriptome.<br>For the drug perturbations, the
          approach you outlined would be great to try since the drugs would be a new
          vocabulary that is not already represented in the rank value encoding of
          the transcriptome.</p>

          '
        raw: "Thank you for your interest in Geneformer! \n\nExample code for the\
          \ gene classification tasks is here: https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/gene_classification.ipynb\n\
          \nThere is also an open PR that we are currently testing that provides a\
          \ modular approach to this. Please note that although the hyperparameter\
          \ optimization example is written as a cell classification application,\
          \ we also recommend hyperparameter optimization for gene classification\
          \ applications (as with all deep learning models, hyperparameter optimization\
          \ can have a large impact on how well the model is trained). \n\nPlease\
          \ also see the dataset repository for example gene classification labels/datasets:\n\
          https://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/gene_classification\n\
          \nFor your question about drugs/gene perturbations:\nFor gene perturbations,\
          \ you could directly encode the perturbation by moving up or down the given\
          \ gene within the rank value encoding (as we do with the in silico perturbation\
          \ code). However, you could potentially take a prompt based approach instead,\
          \ as long as you made clear with a special token the separation between\
          \ the prompt and then encoded transcriptome.\nFor the drug perturbations,\
          \ the approach you outlined would be great to try since the drugs would\
          \ be a new vocabulary that is not already represented in the rank value\
          \ encoding of the transcriptome."
        updatedAt: '2023-11-02T00:03:21.560Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6542e749c90d918416d38f32
    id: 6542e749c90d918416d38f30
    type: comment
  author: ctheodoris
  content: "Thank you for your interest in Geneformer! \n\nExample code for the gene\
    \ classification tasks is here: https://huggingface.co/ctheodoris/Geneformer/blob/main/examples/gene_classification.ipynb\n\
    \nThere is also an open PR that we are currently testing that provides a modular\
    \ approach to this. Please note that although the hyperparameter optimization\
    \ example is written as a cell classification application, we also recommend hyperparameter\
    \ optimization for gene classification applications (as with all deep learning\
    \ models, hyperparameter optimization can have a large impact on how well the\
    \ model is trained). \n\nPlease also see the dataset repository for example gene\
    \ classification labels/datasets:\nhttps://huggingface.co/datasets/ctheodoris/Genecorpus-30M/tree/main/example_input_files/gene_classification\n\
    \nFor your question about drugs/gene perturbations:\nFor gene perturbations, you\
    \ could directly encode the perturbation by moving up or down the given gene within\
    \ the rank value encoding (as we do with the in silico perturbation code). However,\
    \ you could potentially take a prompt based approach instead, as long as you made\
    \ clear with a special token the separation between the prompt and then encoded\
    \ transcriptome.\nFor the drug perturbations, the approach you outlined would\
    \ be great to try since the drugs would be a new vocabulary that is not already\
    \ represented in the rank value encoding of the transcriptome."
  created_at: 2023-11-01 23:03:21+00:00
  edited: false
  hidden: false
  id: 6542e749c90d918416d38f30
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671502872617-622d085c8d04fd29a9ccf169.png?w=200&h=200&f=face
      fullname: Christina Theodoris
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: ctheodoris
      type: user
    createdAt: '2023-11-02T00:03:21.000Z'
    data:
      status: closed
    id: 6542e749c90d918416d38f32
    type: status-change
  author: ctheodoris
  created_at: 2023-11-01 23:03:21+00:00
  id: 6542e749c90d918416d38f32
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 273
repo_id: ctheodoris/Geneformer
repo_type: model
status: closed
target_branch: null
title: Example code for other fine-tuning applications (e.g. gene-level experiments,
  gene/drug perturbation)?
