!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Olfway
conflicting_files: null
created_at: 2022-11-01 07:20:18+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
      fullname: Sam Fisher
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Olfway
      type: user
    createdAt: '2022-11-01T08:20:18.000Z'
    data:
      edited: false
      editors:
      - Olfway
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
          fullname: Sam Fisher
          isHf: false
          isPro: false
          name: Olfway
          type: user
        html: '<p>Hi There,<br>I was recently trying to generate images through google
          colab and also kaggle and every time I would try it would pop up with this
          error:<br><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1667290445643-6348fa5326a24bfaf4b0a350.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/1667290445643-6348fa5326a24bfaf4b0a350.png"></a><br>I
          have tried this with a verity of different generations and all return the
          same error.<br>Just wanted to know if this is just me or if everyone is
          having this error. - The google colab I was the vanilla one btw.</p>

          <p>Hope everyone''s days go fine :)</p>

          <p>Here is a text version of the above screenshot:<br>Traceback (most recent
          call last):<br>  File "/usr/local/lib/python3.7/dist-packages/gradio/routes.py",
          line 285, in run_predict<br>    fn_index, raw_input, username, session_state,
          iterators<br>  File "/usr/local/lib/python3.7/dist-packages/gradio/blocks.py",
          line 950, in process_api<br>    result = await self.call_function(fn_index,
          inputs, iterator)<br>  File "/usr/local/lib/python3.7/dist-packages/gradio/blocks.py",
          line 793, in call_function<br>    block_fn.fn, *processed_input, limiter=self.limiter<br>  File
          "/usr/local/lib/python3.7/dist-packages/anyio/to_thread.py", line 32, in
          run_sync<br>    func, *args, cancellable=cancellable, limiter=limiter<br>  File
          "/usr/local/lib/python3.7/dist-packages/anyio/_backends/_asyncio.py", line
          937, in run_sync_in_worker_thread<br>    return await future<br>  File "/usr/local/lib/python3.7/dist-packages/anyio/_backends/_asyncio.py",
          line 867, in run<br>    result = context.run(func, *args)<br>  File "",
          line 20, in infer<br>    images = pipe([prompt] * num_samples, guidance_scale=7.5)["sample"]<br>  File
          "/usr/local/lib/python3.7/dist-packages/diffusers/utils/outputs.py", line
          88, in <strong>getitem</strong><br>    return inner_dict[k]<br>KeyError:
          ''sample''</p>

          '
        raw: "Hi There,\r\nI was recently trying to generate images through google\
          \ colab and also kaggle and every time I would try it would pop up with\
          \ this error:\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1667290445643-6348fa5326a24bfaf4b0a350.png)\r\
          \nI have tried this with a verity of different generations and all return\
          \ the same error.\r\nJust wanted to know if this is just me or if everyone\
          \ is having this error. - The google colab I was the vanilla one btw.\r\n\
          \r\nHope everyone's days go fine :)\r\n\r\nHere is a text version of the\
          \ above screenshot:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.7/dist-packages/gradio/routes.py\"\
          , line 285, in run_predict\r\n    fn_index, raw_input, username, session_state,\
          \ iterators\r\n  File \"/usr/local/lib/python3.7/dist-packages/gradio/blocks.py\"\
          , line 950, in process_api\r\n    result = await self.call_function(fn_index,\
          \ inputs, iterator)\r\n  File \"/usr/local/lib/python3.7/dist-packages/gradio/blocks.py\"\
          , line 793, in call_function\r\n    block_fn.fn, *processed_input, limiter=self.limiter\r\
          \n  File \"/usr/local/lib/python3.7/dist-packages/anyio/to_thread.py\",\
          \ line 32, in run_sync\r\n    func, *args, cancellable=cancellable, limiter=limiter\r\
          \n  File \"/usr/local/lib/python3.7/dist-packages/anyio/_backends/_asyncio.py\"\
          , line 937, in run_sync_in_worker_thread\r\n    return await future\r\n\
          \  File \"/usr/local/lib/python3.7/dist-packages/anyio/_backends/_asyncio.py\"\
          , line 867, in run\r\n    result = context.run(func, *args)\r\n  File \"\
          <ipython-input-2-29bc46ea4780>\", line 20, in infer\r\n    images = pipe([prompt]\
          \ * num_samples, guidance_scale=7.5)[\"sample\"]\r\n  File \"/usr/local/lib/python3.7/dist-packages/diffusers/utils/outputs.py\"\
          , line 88, in __getitem__\r\n    return inner_dict[k]\r\nKeyError: 'sample'"
        updatedAt: '2022-11-01T08:20:18.196Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - Rismal
        - cutefeesh
    id: 6360d6c219e7e4bf456dc459
    type: comment
  author: Olfway
  content: "Hi There,\r\nI was recently trying to generate images through google colab\
    \ and also kaggle and every time I would try it would pop up with this error:\r\
    \n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1667290445643-6348fa5326a24bfaf4b0a350.png)\r\
    \nI have tried this with a verity of different generations and all return the\
    \ same error.\r\nJust wanted to know if this is just me or if everyone is having\
    \ this error. - The google colab I was the vanilla one btw.\r\n\r\nHope everyone's\
    \ days go fine :)\r\n\r\nHere is a text version of the above screenshot:\r\nTraceback\
    \ (most recent call last):\r\n  File \"/usr/local/lib/python3.7/dist-packages/gradio/routes.py\"\
    , line 285, in run_predict\r\n    fn_index, raw_input, username, session_state,\
    \ iterators\r\n  File \"/usr/local/lib/python3.7/dist-packages/gradio/blocks.py\"\
    , line 950, in process_api\r\n    result = await self.call_function(fn_index,\
    \ inputs, iterator)\r\n  File \"/usr/local/lib/python3.7/dist-packages/gradio/blocks.py\"\
    , line 793, in call_function\r\n    block_fn.fn, *processed_input, limiter=self.limiter\r\
    \n  File \"/usr/local/lib/python3.7/dist-packages/anyio/to_thread.py\", line 32,\
    \ in run_sync\r\n    func, *args, cancellable=cancellable, limiter=limiter\r\n\
    \  File \"/usr/local/lib/python3.7/dist-packages/anyio/_backends/_asyncio.py\"\
    , line 937, in run_sync_in_worker_thread\r\n    return await future\r\n  File\
    \ \"/usr/local/lib/python3.7/dist-packages/anyio/_backends/_asyncio.py\", line\
    \ 867, in run\r\n    result = context.run(func, *args)\r\n  File \"<ipython-input-2-29bc46ea4780>\"\
    , line 20, in infer\r\n    images = pipe([prompt] * num_samples, guidance_scale=7.5)[\"\
    sample\"]\r\n  File \"/usr/local/lib/python3.7/dist-packages/diffusers/utils/outputs.py\"\
    , line 88, in __getitem__\r\n    return inner_dict[k]\r\nKeyError: 'sample'"
  created_at: 2022-11-01 07:20:18+00:00
  edited: false
  hidden: false
  id: 6360d6c219e7e4bf456dc459
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
      fullname: Sam Fisher
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Olfway
      type: user
    createdAt: '2022-11-01T23:40:16.000Z'
    data:
      edited: true
      editors:
      - Olfway
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
          fullname: Sam Fisher
          isHf: false
          isPro: false
          name: Olfway
          type: user
        html: '<p>Update: this appears to be an error or incompatibility with new
          diffusers library (0.6.0).<br>Setting the install parameters like this fixes
          it:<br>!pip install transformers gradio scipy ftfy "ipywidgets&gt;=7,&lt;8"
          datasets "diffusers==0.5.1"</p>

          <p>Hope this helps :)</p>

          '
        raw: "Update: this appears to be an error or incompatibility with new diffusers\
          \ library (0.6.0).\nSetting the install parameters like this fixes it: \n\
          !pip install transformers gradio scipy ftfy \"ipywidgets>=7,<8\" datasets\
          \ \"diffusers==0.5.1\"\n\nHope this helps :)"
        updatedAt: '2022-11-02T02:25:29.902Z'
      numEdits: 2
      reactions: []
    id: 6361ae606945df7441b70575
    type: comment
  author: Olfway
  content: "Update: this appears to be an error or incompatibility with new diffusers\
    \ library (0.6.0).\nSetting the install parameters like this fixes it: \n!pip\
    \ install transformers gradio scipy ftfy \"ipywidgets>=7,<8\" datasets \"diffusers==0.5.1\"\
    \n\nHope this helps :)"
  created_at: 2022-11-01 22:40:16+00:00
  edited: true
  hidden: false
  id: 6361ae606945df7441b70575
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
      fullname: Sam Fisher
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Olfway
      type: user
    createdAt: '2022-11-02T00:24:28.000Z'
    data:
      status: closed
    id: 6361b8bc472131c3bc57c438
    type: status-change
  author: Olfway
  created_at: 2022-11-01 23:24:28+00:00
  id: 6361b8bc472131c3bc57c438
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678587551389-noauth.png?w=200&h=200&f=face
      fullname: Jiacong Xu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: f1yingbanana
      type: user
    createdAt: '2023-03-12T04:18:53.000Z'
    data:
      edited: false
      editors:
      - f1yingbanana
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678587551389-noauth.png?w=200&h=200&f=face
          fullname: Jiacong Xu
          isHf: false
          isPro: false
          name: f1yingbanana
          type: user
        html: '<p>Change the line with error to this:</p>

          <pre><code>images = pipe([prompt] * num_samples, guidance_scale=7.5).images

          </code></pre>

          '
        raw: 'Change the line with error to this:

          ```

          images = pipe([prompt] * num_samples, guidance_scale=7.5).images

          ```'
        updatedAt: '2023-03-12T04:18:53.645Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - zylye
    id: 640d52ad1202a95bc6d96d48
    type: comment
  author: f1yingbanana
  content: 'Change the line with error to this:

    ```

    images = pipe([prompt] * num_samples, guidance_scale=7.5).images

    ```'
  created_at: 2023-03-12 04:18:53+00:00
  edited: false
  hidden: false
  id: 640d52ad1202a95bc6d96d48
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 43
repo_id: hakurei/waifu-diffusion
repo_type: model
status: closed
target_branch: null
title: 'Google Colab Error - Keyerror: ''sample'''
