!!python/object:huggingface_hub.community.DiscussionWithDetails
author: KenjieDec
conflicting_files: null
created_at: 2022-10-08 15:07:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3726e1b00049b23311ba315a998ba3de.svg
      fullname: Kenjie Dec
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: KenjieDec
      type: user
    createdAt: '2022-10-08T16:07:37.000Z'
    data:
      edited: false
      editors:
      - KenjieDec
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3726e1b00049b23311ba315a998ba3de.svg
          fullname: Kenjie Dec
          isHf: false
          isPro: false
          name: KenjieDec
          type: user
        html: '<p>Please remove<br>"&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD =======  &gt;&gt;&gt;&gt;&gt;&gt;&gt;
          <a href="/hakurei/waifu-diffusion/commit/b45bafccd9d0e0757b70a54c7ebc32ff56ca9ee1">b45bafccd9d0e0757b70a54c7ebc32ff56ca9ee1</a>"
          from files such as model_index.json</p>

          <p>and sorry for the previous PR, I don''t know how to edit a branch or
          delete a PR</p>

          '
        raw: "Please remove \r\n\"<<<<<<< HEAD =======  >>>>>>> b45bafccd9d0e0757b70a54c7ebc32ff56ca9ee1\"\
          \ from files such as model_index.json\r\n\r\nand sorry for the previous\
          \ PR, I don't know how to edit a branch or delete a PR"
        updatedAt: '2022-10-08T16:07:37.576Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - inha
    id: 6341a049c5565a4b8d45b0a7
    type: comment
  author: KenjieDec
  content: "Please remove \r\n\"<<<<<<< HEAD =======  >>>>>>> b45bafccd9d0e0757b70a54c7ebc32ff56ca9ee1\"\
    \ from files such as model_index.json\r\n\r\nand sorry for the previous PR, I\
    \ don't know how to edit a branch or delete a PR"
  created_at: 2022-10-08 15:07:37+00:00
  edited: false
  hidden: false
  id: 6341a049c5565a4b8d45b0a7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
      fullname: Reimu Hakurei
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: hakurei
      type: user
    createdAt: '2022-10-08T16:08:36.000Z'
    data:
      edited: false
      editors:
      - hakurei
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
          fullname: Reimu Hakurei
          isHf: false
          isPro: false
          name: hakurei
          type: user
        html: '<p>Oops, forgot about that. I''ll remove it in a sec, thanks.</p>

          '
        raw: Oops, forgot about that. I'll remove it in a sec, thanks.
        updatedAt: '2022-10-08T16:08:36.313Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - scoliono
    id: 6341a0844c9a81858b2ec550
    type: comment
  author: hakurei
  content: Oops, forgot about that. I'll remove it in a sec, thanks.
  created_at: 2022-10-08 15:08:36+00:00
  edited: false
  hidden: false
  id: 6341a0844c9a81858b2ec550
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3726e1b00049b23311ba315a998ba3de.svg
      fullname: Kenjie Dec
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: KenjieDec
      type: user
    createdAt: '2022-10-08T16:22:49.000Z'
    data:
      edited: false
      editors:
      - KenjieDec
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3726e1b00049b23311ba315a998ba3de.svg
          fullname: Kenjie Dec
          isHf: false
          isPro: false
          name: KenjieDec
          type: user
        html: '<p>Hey! Thanks for editing it out from model_index.json!<br>But other
          json also seems to be having those texts too. Thank you!</p>

          '
        raw: 'Hey! Thanks for editing it out from model_index.json!

          But other json also seems to be having those texts too. Thank you!'
        updatedAt: '2022-10-08T16:22:49.339Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - rlaneth
        - inha
    id: 6341a3d9df7779d788658c0e
    type: comment
  author: KenjieDec
  content: 'Hey! Thanks for editing it out from model_index.json!

    But other json also seems to be having those texts too. Thank you!'
  created_at: 2022-10-08 15:22:49+00:00
  edited: false
  hidden: false
  id: 6341a3d9df7779d788658c0e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/83c3d18521b497a5b059050b997505e2.svg
      fullname: O. Inha
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: inha
      type: user
    createdAt: '2022-10-08T21:19:46.000Z'
    data:
      edited: true
      editors:
      - inha
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/83c3d18521b497a5b059050b997505e2.svg
          fullname: O. Inha
          isHf: false
          isPro: false
          name: inha
          type: user
        html: "<p>\U0001F446<br><a href=\"https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json\"\
          >https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json</a><br><a\
          \ href=\"https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/config.json\"\
          >https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/config.json</a><br>etc.</p>\n\
          <p>Would have fixed them already but I have no idea how to operate huggingface\
          \ repositories.</p>\n"
        raw: "\U0001F446\nhttps://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json\n\
          https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/config.json\n\
          etc.\n\nWould have fixed them already but I have no idea how to operate\
          \ huggingface repositories."
        updatedAt: '2022-10-08T21:25:43.148Z'
      numEdits: 1
      reactions: []
    id: 6341e972df7779d78868a12a
    type: comment
  author: inha
  content: "\U0001F446\nhttps://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json\n\
    https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/config.json\netc.\n\
    \nWould have fixed them already but I have no idea how to operate huggingface\
    \ repositories."
  created_at: 2022-10-08 20:19:46+00:00
  edited: true
  hidden: false
  id: 6341e972df7779d78868a12a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630fbb62982455e61ccc947e/2GD1YwG-CrMFL86ND7g5V.jpeg?w=200&h=200&f=face
      fullname: Rodrigo Laneth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rlaneth
      type: user
    createdAt: '2022-10-09T05:08:23.000Z'
    data:
      edited: false
      editors:
      - rlaneth
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630fbb62982455e61ccc947e/2GD1YwG-CrMFL86ND7g5V.jpeg?w=200&h=200&f=face
          fullname: Rodrigo Laneth
          isHf: false
          isPro: false
          name: rlaneth
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;hakurei&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/hakurei\">@<span class=\"\
          underline\">hakurei</span></a></span>\n\n\t</span></span> I've noticed this\
          \ was fixed in the unet config at <a href=\"https://huggingface.co/hakurei/waifu-diffusion/commit/dc7f7241d997f963afcb23670b93fd54ed2d85b9\"\
          ></a><a href=\"/hakurei/waifu-diffusion/commit/dc7f724\">dc7f724</a>, but\
          \ the same issue is still present in <a href=\"https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json\"\
          >vae/config.json</a>.</p>\n"
        raw: '@hakurei I''ve noticed this was fixed in the unet config at [dc7f724](https://huggingface.co/hakurei/waifu-diffusion/commit/dc7f7241d997f963afcb23670b93fd54ed2d85b9),
          but the same issue is still present in [vae/config.json](https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json).'
        updatedAt: '2022-10-09T05:08:23.809Z'
      numEdits: 0
      reactions: []
    id: 63425747e5071b0c5cd5b09d
    type: comment
  author: rlaneth
  content: '@hakurei I''ve noticed this was fixed in the unet config at [dc7f724](https://huggingface.co/hakurei/waifu-diffusion/commit/dc7f7241d997f963afcb23670b93fd54ed2d85b9),
    but the same issue is still present in [vae/config.json](https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/vae/config.json).'
  created_at: 2022-10-09 04:08:23+00:00
  edited: false
  hidden: false
  id: 63425747e5071b0c5cd5b09d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
      fullname: Reimu Hakurei
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: hakurei
      type: user
    createdAt: '2022-10-09T05:12:39.000Z'
    data:
      edited: false
      editors:
      - hakurei
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
          fullname: Reimu Hakurei
          isHf: false
          isPro: false
          name: hakurei
          type: user
        html: '<p>i think it should be fixed now. git doesn''t like me</p>

          '
        raw: i think it should be fixed now. git doesn't like me
        updatedAt: '2022-10-09T05:12:39.220Z'
      numEdits: 0
      reactions: []
    id: 63425847df7779d7886d2cb2
    type: comment
  author: hakurei
  content: i think it should be fixed now. git doesn't like me
  created_at: 2022-10-09 04:12:39+00:00
  edited: false
  hidden: false
  id: 63425847df7779d7886d2cb2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630fbb62982455e61ccc947e/2GD1YwG-CrMFL86ND7g5V.jpeg?w=200&h=200&f=face
      fullname: Rodrigo Laneth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rlaneth
      type: user
    createdAt: '2022-10-09T07:30:54.000Z'
    data:
      edited: false
      editors:
      - rlaneth
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630fbb62982455e61ccc947e/2GD1YwG-CrMFL86ND7g5V.jpeg?w=200&h=200&f=face
          fullname: Rodrigo Laneth
          isHf: false
          isPro: false
          name: rlaneth
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;hakurei&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/hakurei\">@<span class=\"\
          underline\">hakurei</span></a></span>\n\n\t</span></span> I can confirm\
          \ the JSON files issue appears to be fixed. However, attempting to load\
          \ the fp16 branch in Diffusers now results in the following error message.\
          \ This also happens in the <a rel=\"nofollow\" href=\"https://colab.research.google.com/drive/1_8wPN7dJO746QXsFnB09Uq2VGgSRFuYE\"\
          >demo Colab</a>.</p>\n<pre><code>OSError: You seem to have cloned a repository\
          \ without having git-lfs installed. Please install git-lfs and run 'git\
          \ lfs install' followed by 'git lfs pull' in the folder you cloned.\n</code></pre>\n\
          <p>I did some brief investigation and it seems like pointer files have been\
          \ added in place of the intended binary files on the fp16 branch. For instance,\
          \ <a href=\"https://huggingface.co/hakurei/waifu-diffusion/blob/main/unet/diffusion_pytorch_model.bin\"\
          >unet/diffusion_pytorch_model.bin</a> is a 3.44 GB file in the main branch,\
          \ but it is listed as having only 297 bytes <a href=\"https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/diffusion_pytorch_model.bin\"\
          >in the fp16 one</a> when it should be closer to 1.7 GB. In the main branch,\
          \ attempting to manually download the .bin works as expected, but in the\
          \ fp16 one, it results in a plaintext Git LFS pointer.</p>\n<p>In any case,\
          \ thanks a lot for your work on Waifu Diffusion!!</p>\n"
        raw: '@hakurei I can confirm the JSON files issue appears to be fixed. However,
          attempting to load the fp16 branch in Diffusers now results in the following
          error message. This also happens in the [demo Colab](https://colab.research.google.com/drive/1_8wPN7dJO746QXsFnB09Uq2VGgSRFuYE).

          ```

          OSError: You seem to have cloned a repository without having git-lfs installed.
          Please install git-lfs and run ''git lfs install'' followed by ''git lfs
          pull'' in the folder you cloned.

          ```

          I did some brief investigation and it seems like pointer files have been
          added in place of the intended binary files on the fp16 branch. For instance,
          [unet/diffusion_pytorch_model.bin](https://huggingface.co/hakurei/waifu-diffusion/blob/main/unet/diffusion_pytorch_model.bin)
          is a 3.44 GB file in the main branch, but it is listed as having only 297
          bytes [in the fp16 one](https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/diffusion_pytorch_model.bin)
          when it should be closer to 1.7 GB. In the main branch, attempting to manually
          download the .bin works as expected, but in the fp16 one, it results in
          a plaintext Git LFS pointer.


          In any case, thanks a lot for your work on Waifu Diffusion!!'
        updatedAt: '2022-10-09T07:30:54.470Z'
      numEdits: 0
      reactions: []
    id: 634278aeaa45ed8ecf903977
    type: comment
  author: rlaneth
  content: '@hakurei I can confirm the JSON files issue appears to be fixed. However,
    attempting to load the fp16 branch in Diffusers now results in the following error
    message. This also happens in the [demo Colab](https://colab.research.google.com/drive/1_8wPN7dJO746QXsFnB09Uq2VGgSRFuYE).

    ```

    OSError: You seem to have cloned a repository without having git-lfs installed.
    Please install git-lfs and run ''git lfs install'' followed by ''git lfs pull''
    in the folder you cloned.

    ```

    I did some brief investigation and it seems like pointer files have been added
    in place of the intended binary files on the fp16 branch. For instance, [unet/diffusion_pytorch_model.bin](https://huggingface.co/hakurei/waifu-diffusion/blob/main/unet/diffusion_pytorch_model.bin)
    is a 3.44 GB file in the main branch, but it is listed as having only 297 bytes
    [in the fp16 one](https://huggingface.co/hakurei/waifu-diffusion/blob/fp16/unet/diffusion_pytorch_model.bin)
    when it should be closer to 1.7 GB. In the main branch, attempting to manually
    download the .bin works as expected, but in the fp16 one, it results in a plaintext
    Git LFS pointer.


    In any case, thanks a lot for your work on Waifu Diffusion!!'
  created_at: 2022-10-09 06:30:54+00:00
  edited: false
  hidden: false
  id: 634278aeaa45ed8ecf903977
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
      fullname: Reimu Hakurei
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: hakurei
      type: user
    createdAt: '2022-10-09T07:56:24.000Z'
    data:
      edited: false
      editors:
      - hakurei
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
          fullname: Reimu Hakurei
          isHf: false
          isPro: false
          name: hakurei
          type: user
        html: '<p>crap. Ill just redo this branch.</p>

          '
        raw: crap. Ill just redo this branch.
        updatedAt: '2022-10-09T07:56:24.597Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - rlaneth
        - RavenMK2
        - KenjieDec
    id: 63427ea8e2647466b4254bf7
    type: comment
  author: hakurei
  content: crap. Ill just redo this branch.
  created_at: 2022-10-09 06:56:24+00:00
  edited: false
  hidden: false
  id: 63427ea8e2647466b4254bf7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b6eb8ba784e021be912ccfb68c130aa5.svg
      fullname: Alexander
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aleh2
      type: user
    createdAt: '2022-10-09T18:50:11.000Z'
    data:
      edited: false
      editors:
      - Aleh2
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b6eb8ba784e021be912ccfb68c130aa5.svg
          fullname: Alexander
          isHf: false
          isPro: false
          name: Aleh2
          type: user
        html: '<p>Honestly, the v1.3 update generally broke the repository for me
          -- and since I''ve been using an auto-download-and-setup sheet on Colab
          that I can''t really edit, it''s cost me the ability to use Waifu Diffusion
          in general. I was in the middle of a project, too (guided recursive image-to-image),
          and v1.3 is an overfit model for my purposes -- all of which I could easily
          fix if there was a full backup of the v1.2 fp16 model <em>somewhere</em>
          on Huggingface.</p>

          <p>Or the ability to branch from old versions. Don''t see that anywhere
          in the interface.</p>

          '
        raw: 'Honestly, the v1.3 update generally broke the repository for me -- and
          since I''ve been using an auto-download-and-setup sheet on Colab that I
          can''t really edit, it''s cost me the ability to use Waifu Diffusion in
          general. I was in the middle of a project, too (guided recursive image-to-image),
          and v1.3 is an overfit model for my purposes -- all of which I could easily
          fix if there was a full backup of the v1.2 fp16 model *somewhere* on Huggingface.


          Or the ability to branch from old versions. Don''t see that anywhere in
          the interface.'
        updatedAt: '2022-10-09T18:50:11.650Z'
      numEdits: 0
      reactions: []
    id: 634317e31bdd3dfa55d8f0ee
    type: comment
  author: Aleh2
  content: 'Honestly, the v1.3 update generally broke the repository for me -- and
    since I''ve been using an auto-download-and-setup sheet on Colab that I can''t
    really edit, it''s cost me the ability to use Waifu Diffusion in general. I was
    in the middle of a project, too (guided recursive image-to-image), and v1.3 is
    an overfit model for my purposes -- all of which I could easily fix if there was
    a full backup of the v1.2 fp16 model *somewhere* on Huggingface.


    Or the ability to branch from old versions. Don''t see that anywhere in the interface.'
  created_at: 2022-10-09 17:50:11+00:00
  edited: false
  hidden: false
  id: 634317e31bdd3dfa55d8f0ee
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
      fullname: Reimu Hakurei
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: hakurei
      type: user
    createdAt: '2022-10-10T14:10:35.000Z'
    data:
      edited: false
      editors:
      - hakurei
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1645138575893-606918bb3959960e820cb47d.jpeg?w=200&h=200&f=face
          fullname: Reimu Hakurei
          isHf: false
          isPro: false
          name: hakurei
          type: user
        html: '<p>hopefully it works now, let me know if something goes wrong</p>

          '
        raw: hopefully it works now, let me know if something goes wrong
        updatedAt: '2022-10-10T14:10:35.490Z'
      numEdits: 0
      reactions: []
    id: 634427db9d1360ad2ab83c96
    type: comment
  author: hakurei
  content: hopefully it works now, let me know if something goes wrong
  created_at: 2022-10-10 13:10:35+00:00
  edited: false
  hidden: false
  id: 634427db9d1360ad2ab83c96
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 15
repo_id: hakurei/waifu-diffusion
repo_type: model
status: open
target_branch: null
title: Please fix fp16
