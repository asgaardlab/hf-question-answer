!!python/object:huggingface_hub.community.DiscussionWithDetails
author: IlyaEfimov
conflicting_files: null
created_at: 2022-11-24 10:19:11+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/072efade306b99018f3d9a24dd27e578.svg
      fullname: Ilya Efimov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: IlyaEfimov
      type: user
    createdAt: '2022-11-24T10:19:11.000Z'
    data:
      edited: true
      editors:
      - IlyaEfimov
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/072efade306b99018f3d9a24dd27e578.svg
          fullname: Ilya Efimov
          isHf: false
          isPro: false
          name: IlyaEfimov
          type: user
        html: '<p>Hello! Excuse me...I don''t know, is it allowed to ask this question,
          was it already discussed. Anyway, I''ll ask it. How to turn NSFW filter
          off?</p>

          '
        raw: Hello! Excuse me...I don't know, is it allowed to ask this question,
          was it already discussed. Anyway, I'll ask it. How to turn NSFW filter off?
        updatedAt: '2022-11-24T10:29:01.533Z'
      numEdits: 3
      reactions: []
    id: 637f451fd8a62e315592153d
    type: comment
  author: IlyaEfimov
  content: Hello! Excuse me...I don't know, is it allowed to ask this question, was
    it already discussed. Anyway, I'll ask it. How to turn NSFW filter off?
  created_at: 2022-11-24 10:19:11+00:00
  edited: true
  hidden: false
  id: 637f451fd8a62e315592153d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bd258770ce21b63f9f6560707ffa242b.svg
      fullname: Andrew Wagner
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: aw2022
      type: user
    createdAt: '2022-11-29T22:02:05.000Z'
    data:
      edited: false
      editors:
      - aw2022
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bd258770ce21b63f9f6560707ffa242b.svg
          fullname: Andrew Wagner
          isHf: false
          isPro: false
          name: aw2022
          type: user
        html: "<p>Save a copy of the txt2img script if something goes wrong in a separate\
          \ place. </p>\n<p>Then, make these changes and save.</p>\n<p>Disabling the\
          \ Safety Checks:</p>\n<p>\u2022\tOpen the \"scripts\" folder and make a\
          \ backup copy of txt2img.py<br>\u2022\tOpen txt2img.py, and find the line\
          \ (might be line 309) that says:<br>x_checked_image, has_nsfw_concept =\
          \ check_safety(x_samples_ddim)<br>\u2022\tReplace it with this (make sure\
          \ to keep the indenting the same as before):<br>x_checked_image = x_samples_ddim</p>\n\
          <hr>\n<p>Optional: Stopping the safety models from even loading to save\
          \ Vram (thanks NotMyMain007)</p>\n<p>\u2022\tIn txt2img.py, find and delete\
          \ the three separate lines (might be 26, 27, 28) that say:<br>safety_model_id\
          \ = \"CompVis/stable-diffusion-safety-checker\"<br>safety_feature_extractor\
          \ = AutoFeatureExtractor.from_pretrained(safety_model_id)<br>safety_checker\
          \ = StableDiffusionSafetyChecker.from_pretrained(safety_model_id)</p>\n"
        raw: "Save a copy of the txt2img script if something goes wrong in a separate\
          \ place. \n\nThen, make these changes and save.\n\nDisabling the Safety\
          \ Checks:\n\n\u2022\tOpen the \"scripts\" folder and make a backup copy\
          \ of txt2img.py\n\u2022\tOpen txt2img.py, and find the line (might be line\
          \ 309) that says:\nx_checked_image, has_nsfw_concept = check_safety(x_samples_ddim)\n\
          \u2022\tReplace it with this (make sure to keep the indenting the same as\
          \ before):\nx_checked_image = x_samples_ddim\n________________________________________\n\
          \nOptional: Stopping the safety models from even loading to save Vram (thanks\
          \ NotMyMain007)\n\n\u2022\tIn txt2img.py, find and delete the three separate\
          \ lines (might be 26, 27, 28) that say:\nsafety_model_id = \"CompVis/stable-diffusion-safety-checker\"\
          \nsafety_feature_extractor = AutoFeatureExtractor.from_pretrained(safety_model_id)\n\
          safety_checker = StableDiffusionSafetyChecker.from_pretrained(safety_model_id)"
        updatedAt: '2022-11-29T22:02:05.822Z'
      numEdits: 0
      reactions: []
    id: 6386815d8b5acae8d251334d
    type: comment
  author: aw2022
  content: "Save a copy of the txt2img script if something goes wrong in a separate\
    \ place. \n\nThen, make these changes and save.\n\nDisabling the Safety Checks:\n\
    \n\u2022\tOpen the \"scripts\" folder and make a backup copy of txt2img.py\n\u2022\
    \tOpen txt2img.py, and find the line (might be line 309) that says:\nx_checked_image,\
    \ has_nsfw_concept = check_safety(x_samples_ddim)\n\u2022\tReplace it with this\
    \ (make sure to keep the indenting the same as before):\nx_checked_image = x_samples_ddim\n\
    ________________________________________\n\nOptional: Stopping the safety models\
    \ from even loading to save Vram (thanks NotMyMain007)\n\n\u2022\tIn txt2img.py,\
    \ find and delete the three separate lines (might be 26, 27, 28) that say:\nsafety_model_id\
    \ = \"CompVis/stable-diffusion-safety-checker\"\nsafety_feature_extractor = AutoFeatureExtractor.from_pretrained(safety_model_id)\n\
    safety_checker = StableDiffusionSafetyChecker.from_pretrained(safety_model_id)"
  created_at: 2022-11-29 22:02:05+00:00
  edited: false
  hidden: false
  id: 6386815d8b5acae8d251334d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/072efade306b99018f3d9a24dd27e578.svg
      fullname: Ilya Efimov
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: IlyaEfimov
      type: user
    createdAt: '2022-11-30T02:29:48.000Z'
    data:
      edited: true
      editors:
      - IlyaEfimov
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/072efade306b99018f3d9a24dd27e578.svg
          fullname: Ilya Efimov
          isHf: false
          isPro: false
          name: IlyaEfimov
          type: user
        html: '<p>Thank you!<br>Some more questions. Were you talking about this website?
          I''m using the website for generating images. I can''t find the folders
          that you mentioned. Is it possible to make it happen on this website too?</p>

          '
        raw: 'Thank you!

          Some more questions. Were you talking about this website? I''m using the
          website for generating images. I can''t find the folders that you mentioned.
          Is it possible to make it happen on this website too?'
        updatedAt: '2022-11-30T02:37:26.021Z'
      numEdits: 1
      reactions: []
    id: 6386c01c06858a85f5964deb
    type: comment
  author: IlyaEfimov
  content: 'Thank you!

    Some more questions. Were you talking about this website? I''m using the website
    for generating images. I can''t find the folders that you mentioned. Is it possible
    to make it happen on this website too?'
  created_at: 2022-11-30 02:29:48+00:00
  edited: true
  hidden: false
  id: 6386c01c06858a85f5964deb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1669755010945-noauth.png?w=200&h=200&f=face
      fullname: "\u041C\u0438\u0445\u0430\u0438\u043B \u0410\u043D\u0434\u0440\u0435\
        \u0435\u0432"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Zombieleaver
      type: user
    createdAt: '2022-12-02T20:26:06.000Z'
    data:
      edited: true
      editors:
      - Zombieleaver
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1669755010945-noauth.png?w=200&h=200&f=face
          fullname: "\u041C\u0438\u0445\u0430\u0438\u043B \u0410\u043D\u0434\u0440\
            \u0435\u0435\u0432"
          isHf: false
          isPro: false
          name: Zombieleaver
          type: user
        html: '<p>But what if there is no such file in the folder? and after a while
          it still turns out a black image. computer version</p>

          '
        raw: But what if there is no such file in the folder? and after a while it
          still turns out a black image. computer version
        updatedAt: '2022-12-02T20:26:37.216Z'
      numEdits: 1
      reactions: []
    id: 638a5f5efc10b2be2224f287
    type: comment
  author: Zombieleaver
  content: But what if there is no such file in the folder? and after a while it still
    turns out a black image. computer version
  created_at: 2022-12-02 20:26:06+00:00
  edited: true
  hidden: false
  id: 638a5f5efc10b2be2224f287
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
      fullname: Sam Fisher
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Olfway
      type: user
    createdAt: '2023-01-19T08:25:56.000Z'
    data:
      edited: true
      editors:
      - Olfway
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
          fullname: Sam Fisher
          isHf: false
          isPro: false
          name: Olfway
          type: user
        html: '<p>Just use google colab or kaggle if you cant access the files.<br>My
          kaggle is here ;) : <a rel="nofollow" href="https://www.kaggle.com/code/olfway/waifu-diffusion-version-1-3-with-web-gui">https://www.kaggle.com/code/olfway/waifu-diffusion-version-1-3-with-web-gui</a></p>

          '
        raw: 'Just use google colab or kaggle if you cant access the files.

          My kaggle is here ;) : https://www.kaggle.com/code/olfway/waifu-diffusion-version-1-3-with-web-gui'
        updatedAt: '2023-01-19T08:26:14.967Z'
      numEdits: 1
      reactions: []
    id: 63c8fe948afd58b44093041d
    type: comment
  author: Olfway
  content: 'Just use google colab or kaggle if you cant access the files.

    My kaggle is here ;) : https://www.kaggle.com/code/olfway/waifu-diffusion-version-1-3-with-web-gui'
  created_at: 2023-01-19 08:25:56+00:00
  edited: true
  hidden: false
  id: 63c8fe948afd58b44093041d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
      fullname: Sam Fisher
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Olfway
      type: user
    createdAt: '2023-01-19T08:30:44.000Z'
    data:
      edited: true
      editors:
      - Olfway
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d878183bf0f6329924e55d7ae95674bf.svg
          fullname: Sam Fisher
          isHf: false
          isPro: false
          name: Olfway
          type: user
        html: '<p>Google colab (easier to access): <a rel="nofollow" href="https://colab.research.google.com/drive/1T8NKPZknFrylmUMAGLsSqUJ9QEgQBs_3">https://colab.research.google.com/drive/1T8NKPZknFrylmUMAGLsSqUJ9QEgQBs_3</a><br>Just
          set:<br>#@title 1.3 Model<br>model_name = "wd-v1-3-float16.ckpt" #@param
          {type:"string"}<br>model_link = "<a href="https://huggingface.co/hakurei/waifu-diffusion-v1-3/resolve/main/wd-v1-3-float16.ckpt&quot;">https://huggingface.co/hakurei/waifu-diffusion-v1-3/resolve/main/wd-v1-3-float16.ckpt"</a>
          #@param {type:"string"}<br>!wget {model_link} -O models/Stable-diffusion/{model_name}<br>To:<br>model_name
          = "wd-1-4-anime_e1.ckpt"<br>model_link = "<a href="https://huggingface.co/hakurei/waifu-diffusion-v1-4/resolve/main/wd-1-4-anime_e1.ckpt&quot;">https://huggingface.co/hakurei/waifu-diffusion-v1-4/resolve/main/wd-1-4-anime_e1.ckpt"</a></p>

          <p>!wget {model_link} -O models/Stable-diffusion/{model_name}<br>%cd /content/stable-diffusion-webui</p>

          <p>!wget <a href="https://huggingface.co/hakurei/waifu-diffusion-v1-4/raw/main/wd-1-4-anime_e1.yaml">https://huggingface.co/hakurei/waifu-diffusion-v1-4/raw/main/wd-1-4-anime_e1.yaml</a>
          -O models/Stable-diffusion/wd-1-4-anime_e1.yaml</p>

          <p>To update it to wd1.4</p>

          '
        raw: 'Google colab (easier to access): https://colab.research.google.com/drive/1T8NKPZknFrylmUMAGLsSqUJ9QEgQBs_3

          Just set:

          #@title 1.3 Model

          model_name = "wd-v1-3-float16.ckpt" #@param {type:"string"}

          model_link = "https://huggingface.co/hakurei/waifu-diffusion-v1-3/resolve/main/wd-v1-3-float16.ckpt"
          #@param {type:"string"}

          !wget {model_link} -O models/Stable-diffusion/{model_name}

          To:

          model_name = "wd-1-4-anime_e1.ckpt"

          model_link = "https://huggingface.co/hakurei/waifu-diffusion-v1-4/resolve/main/wd-1-4-anime_e1.ckpt"


          !wget {model_link} -O models/Stable-diffusion/{model_name}

          %cd /content/stable-diffusion-webui


          !wget https://huggingface.co/hakurei/waifu-diffusion-v1-4/raw/main/wd-1-4-anime_e1.yaml
          -O models/Stable-diffusion/wd-1-4-anime_e1.yaml


          To update it to wd1.4'
        updatedAt: '2023-01-19T08:31:56.872Z'
      numEdits: 1
      reactions: []
    id: 63c8ffb44c74c79fff5dfbe6
    type: comment
  author: Olfway
  content: 'Google colab (easier to access): https://colab.research.google.com/drive/1T8NKPZknFrylmUMAGLsSqUJ9QEgQBs_3

    Just set:

    #@title 1.3 Model

    model_name = "wd-v1-3-float16.ckpt" #@param {type:"string"}

    model_link = "https://huggingface.co/hakurei/waifu-diffusion-v1-3/resolve/main/wd-v1-3-float16.ckpt"
    #@param {type:"string"}

    !wget {model_link} -O models/Stable-diffusion/{model_name}

    To:

    model_name = "wd-1-4-anime_e1.ckpt"

    model_link = "https://huggingface.co/hakurei/waifu-diffusion-v1-4/resolve/main/wd-1-4-anime_e1.ckpt"


    !wget {model_link} -O models/Stable-diffusion/{model_name}

    %cd /content/stable-diffusion-webui


    !wget https://huggingface.co/hakurei/waifu-diffusion-v1-4/raw/main/wd-1-4-anime_e1.yaml
    -O models/Stable-diffusion/wd-1-4-anime_e1.yaml


    To update it to wd1.4'
  created_at: 2023-01-19 08:30:44+00:00
  edited: true
  hidden: false
  id: 63c8ffb44c74c79fff5dfbe6
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 58
repo_id: hakurei/waifu-diffusion
repo_type: model
status: open
target_branch: null
title: NSFW content
