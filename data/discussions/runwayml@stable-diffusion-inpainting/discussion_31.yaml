!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AlienM
conflicting_files: null
created_at: 2023-02-04 15:21:21+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/05ae818f8f3faa8ffb4c19d732ac01d3.svg
      fullname: M
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlienM
      type: user
    createdAt: '2023-02-04T15:21:21.000Z'
    data:
      edited: false
      editors:
      - AlienM
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/05ae818f8f3faa8ffb4c19d732ac01d3.svg
          fullname: M
          isHf: false
          isPro: false
          name: AlienM
          type: user
        html: '<p>Hello.<br>I tested HuggingFace Diffusers  and I found some problems</p>

          <ol>

          <li>The inpaint quality<br>There is what to improve, see for example  the
          dog removal results here:<br><a rel="nofollow" href="https://github.com/antonmilev/MagicInpainter">https://github.com/antonmilev/MagicInpainter</a></li>

          </ol>

          <p>The region where the dog is removed is missing details and is blurred
          but also and other parts of the bench are blurred, making it looking "artificial".
          I don''t know if this is the purpose  - to change the entire picture not
          only what is under the mask?. Usually inpaint is understood as filling in
          only the region under the mask.</p>

          <ol start="2">

          <li>Strange results with bigger inpaint regions placed at the edges<br>I
          further tested with a texture of bricks (it is a hard case for the neural
          networks) and  it is producing  unpredictable and strange results, for each
          call.I made the test with the similar to the COLAB example but with the
          prompt equal to empty text, or "bricks",, "red bricks", etc:</li>

          </ol>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522475423-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522475423-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522439416-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512_mask.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522439416-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522516181-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512_diffusers_bricks2.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522516181-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522578597-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512_diffusers_red_bricks.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522578597-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522666816-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512_diffusers1_empty_text.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522666816-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522724788-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512_diffusers2.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522724788-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1675522795213-63dac1889f2687298a0e42aa.jpeg"><img
          alt="brick_512x512_diffusers_empty_text.jpg" src="https://cdn-uploads.huggingface.co/production/uploads/1675522795213-63dac1889f2687298a0e42aa.jpeg"></a></p>

          <p>Please make it to work consistently - when empty text is provided object
          has to be just removed (inpaint). It would be nice to show and some text
          prompts - for example why when I type  "red bricks" it is not working? I
          should be able to display all text prompts and images with text containing
          the word "bricks".  Otherwise how to make it know that I want just to fill
          in the hole in the bricks wall with the same bricks wall already on the
          picture? It is confusing.....</p>

          <p>Such problems however are not happening with small holes in the middle
          - the model at least tries to fill it with red bricks  even when the text
          prompt is empty, so I think that it is defect when the inpaint region is
          big.</p>

          '
        raw: "Hello.\r\nI tested HuggingFace Diffusers  and I found some problems\r\
          \n\r\n1. The inpaint quality\r\nThere is what to improve, see for example\
          \  the dog removal results here:\r\nhttps://github.com/antonmilev/MagicInpainter\r\
          \n\r\nThe region where the dog is removed is missing details and is blurred\
          \ but also and other parts of the bench are blurred, making it looking \"\
          artificial\". I don't know if this is the purpose  - to change the entire\
          \ picture not only what is under the mask?. Usually inpaint is understood\
          \ as filling in only the region under the mask.\r\n\r\n2.  Strange results\
          \ with bigger inpaint regions placed at the edges \r\nI further tested with\
          \ a texture of bricks (it is a hard case for the neural networks) and  it\
          \ is producing  unpredictable and strange results, for each call.I made\
          \ the test with the similar to the COLAB example but with the prompt equal\
          \ to empty text, or \"bricks\",, \"red bricks\", etc:\r\n\r\n![brick_512x512.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522475423-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\n![brick_512x512_mask.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522439416-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\n![brick_512x512_diffusers_bricks2.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522516181-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\n![brick_512x512_diffusers_red_bricks.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522578597-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\n![brick_512x512_diffusers1_empty_text.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522666816-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\n![brick_512x512_diffusers2.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522724788-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\n![brick_512x512_diffusers_empty_text.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522795213-63dac1889f2687298a0e42aa.jpeg)\r\
          \n\r\nPlease make it to work consistently - when empty text is provided\
          \ object has to be just removed (inpaint). It would be nice to show and\
          \ some text prompts - for example why when I type  \"red bricks\" it is\
          \ not working? I should be able to display all text prompts and images with\
          \ text containing the word \"bricks\".  Otherwise how to make it know that\
          \ I want just to fill in the hole in the bricks wall with the same bricks\
          \ wall already on the picture? It is confusing.....\r\n\r\nSuch problems\
          \ however are not happening with small holes in the middle - the model at\
          \ least tries to fill it with red bricks  even when the text prompt is empty,\
          \ so I think that it is defect when the inpaint region is big.\r\n\r\n\r\
          \n\r\n\r\n\r\n \r\n\r\n\r\n"
        updatedAt: '2023-02-04T15:21:21.719Z'
      numEdits: 0
      reactions: []
    id: 63de77f1e742e86dc91d31ab
    type: comment
  author: AlienM
  content: "Hello.\r\nI tested HuggingFace Diffusers  and I found some problems\r\n\
    \r\n1. The inpaint quality\r\nThere is what to improve, see for example  the dog\
    \ removal results here:\r\nhttps://github.com/antonmilev/MagicInpainter\r\n\r\n\
    The region where the dog is removed is missing details and is blurred but also\
    \ and other parts of the bench are blurred, making it looking \"artificial\".\
    \ I don't know if this is the purpose  - to change the entire picture not only\
    \ what is under the mask?. Usually inpaint is understood as filling in only the\
    \ region under the mask.\r\n\r\n2.  Strange results with bigger inpaint regions\
    \ placed at the edges \r\nI further tested with a texture of bricks (it is a hard\
    \ case for the neural networks) and  it is producing  unpredictable and strange\
    \ results, for each call.I made the test with the similar to the COLAB example\
    \ but with the prompt equal to empty text, or \"bricks\",, \"red bricks\", etc:\r\
    \n\r\n![brick_512x512.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522475423-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\n![brick_512x512_mask.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522439416-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\n![brick_512x512_diffusers_bricks2.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522516181-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\n![brick_512x512_diffusers_red_bricks.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522578597-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\n![brick_512x512_diffusers1_empty_text.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522666816-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\n![brick_512x512_diffusers2.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522724788-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\n![brick_512x512_diffusers_empty_text.jpg](https://cdn-uploads.huggingface.co/production/uploads/1675522795213-63dac1889f2687298a0e42aa.jpeg)\r\
    \n\r\nPlease make it to work consistently - when empty text is provided object\
    \ has to be just removed (inpaint). It would be nice to show and some text prompts\
    \ - for example why when I type  \"red bricks\" it is not working? I should be\
    \ able to display all text prompts and images with text containing the word \"\
    bricks\".  Otherwise how to make it know that I want just to fill in the hole\
    \ in the bricks wall with the same bricks wall already on the picture? It is confusing.....\r\
    \n\r\nSuch problems however are not happening with small holes in the middle -\
    \ the model at least tries to fill it with red bricks  even when the text prompt\
    \ is empty, so I think that it is defect when the inpaint region is big.\r\n\r\
    \n\r\n\r\n\r\n\r\n \r\n\r\n\r\n"
  created_at: 2023-02-04 15:21:21+00:00
  edited: false
  hidden: false
  id: 63de77f1e742e86dc91d31ab
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 31
repo_id: runwayml/stable-diffusion-inpainting
repo_type: model
status: open
target_branch: null
title: Improve quality and make it work stable with empty text and large inpaint regions
