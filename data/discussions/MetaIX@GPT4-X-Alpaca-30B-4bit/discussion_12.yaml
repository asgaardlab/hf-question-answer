!!python/object:huggingface_hub.community.DiscussionWithDetails
author: kbrkbr
conflicting_files: null
created_at: 2023-05-16 14:57:02+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7f9d0aca20d67f364ff7bd6f03d6f9a6.svg
      fullname: Stefan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kbrkbr
      type: user
    createdAt: '2023-05-16T15:57:02.000Z'
    data:
      edited: false
      editors:
      - kbrkbr
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7f9d0aca20d67f364ff7bd6f03d6f9a6.svg
          fullname: Stefan
          isHf: false
          isPro: false
          name: kbrkbr
          type: user
        html: '<p>Hi!<br>This model is awesome in regards to speed and quality of
          generations. However, it ends generations sometimes in "ightarrow"+halluzinations
          or "archivo"+halluzinations. May be an issue with these tokens. Any ideas?<br>I''m
          using gpt4-x-alpaca-30b-128g-4bit.safetensors version in oobabooga''s webui.<br>This
          one works completely normally: <a href="https://huggingface.co/MetaIX/Alpaca-30B-Int4-128G-Safetensors">https://huggingface.co/MetaIX/Alpaca-30B-Int4-128G-Safetensors</a></p>

          '
        raw: "Hi!\r\nThis model is awesome in regards to speed and quality of generations.\
          \ However, it ends generations sometimes in \"ightarrow\"+halluzinations\
          \ or \"archivo\"+halluzinations. May be an issue with these tokens. Any\
          \ ideas?\r\nI'm using gpt4-x-alpaca-30b-128g-4bit.safetensors version in\
          \ oobabooga's webui.\r\nThis one works completely normally: https://huggingface.co/MetaIX/Alpaca-30B-Int4-128G-Safetensors"
        updatedAt: '2023-05-16T15:57:02.849Z'
      numEdits: 0
      reactions: []
    id: 6463a7ce28fafa56c3f0d329
    type: comment
  author: kbrkbr
  content: "Hi!\r\nThis model is awesome in regards to speed and quality of generations.\
    \ However, it ends generations sometimes in \"ightarrow\"+halluzinations or \"\
    archivo\"+halluzinations. May be an issue with these tokens. Any ideas?\r\nI'm\
    \ using gpt4-x-alpaca-30b-128g-4bit.safetensors version in oobabooga's webui.\r\
    \nThis one works completely normally: https://huggingface.co/MetaIX/Alpaca-30B-Int4-128G-Safetensors"
  created_at: 2023-05-16 14:57:02+00:00
  edited: false
  hidden: false
  id: 6463a7ce28fafa56c3f0d329
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bd6d702643cd5875d6a43e3369945ac5.svg
      fullname: Metal
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: MetaIX
      type: user
    createdAt: '2023-05-18T15:37:00.000Z'
    data:
      edited: false
      editors:
      - MetaIX
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bd6d702643cd5875d6a43e3369945ac5.svg
          fullname: Metal
          isHf: false
          isPro: false
          name: MetaIX
          type: user
        html: '<p>Interesting, I haven''t had that happen to me. Both of them were
          quantized using the same environment, the only difference were the flags
          used.</p>

          '
        raw: Interesting, I haven't had that happen to me. Both of them were quantized
          using the same environment, the only difference were the flags used.
        updatedAt: '2023-05-18T15:37:00.265Z'
      numEdits: 0
      reactions: []
    id: 6466461ce0fe831b47919ac7
    type: comment
  author: MetaIX
  content: Interesting, I haven't had that happen to me. Both of them were quantized
    using the same environment, the only difference were the flags used.
  created_at: 2023-05-18 14:37:00+00:00
  edited: false
  hidden: false
  id: 6466461ce0fe831b47919ac7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7f9d0aca20d67f364ff7bd6f03d6f9a6.svg
      fullname: Stefan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kbrkbr
      type: user
    createdAt: '2023-05-18T20:24:56.000Z'
    data:
      edited: false
      editors:
      - kbrkbr
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7f9d0aca20d67f364ff7bd6f03d6f9a6.svg
          fullname: Stefan
          isHf: false
          isPro: false
          name: kbrkbr
          type: user
        html: "<p>That is really interesting. I am just posting the details here if\
          \ anyone has an idea and wants to give feedback in the interest of operating\
          \ llm's. Not requesting anything, I find it already amazing that you share\
          \ your work here. Really really great.<br>How I can reproduce:<br>Vanilla\
          \ oobabooga installer. RTX 3090. i7-11700K. Xubuntu. Only set wbits 4, groupsize\
          \ 128 and max_new_tokens 400.<br>Two prompts from learn.deeplearning.ai:</p>\n\
          <p>gpt4-x-alpaca-30b-128g-4bit.safetensors gives me at least 20% of repeating\
          \ the prompts something like below, while alpaca-30b-128g-4bit.safetensors\
          \ not even once gave me such halluzinations:</p>\n<p>========1========<br>Below\
          \ is an instruction that describes a task. Write a response that appropriately\
          \ completes the request.</p>\n<h3 id=\"instruction\">Instruction:</h3>\n\
          <p>Your task is to perform the following actions:<br>1 - Summarize the following\
          \ text with 1 sentence.<br>2 - Translate the summary into French.<br>3 -\
          \ List each name in the text.<br>4 - Output a json object that contains\
          \ the following keys: french_summary, num_names.</p>\n<p>Use the following\
          \ format:<br>Text: </p><summary><br>Translation: <summary><br>Names: <br>Output\
          \ JSON: <p></p>\n<p>Text: \"In a charming village, siblings Jack and Jill\
          \ set out on<br>a quest to fetch water from a hilltop<br>well. As they climbed,\
          \ singing joyfully, misfortune<br>struck\u2014Jack tripped on a stone and\
          \ tumbled<br>down the hill, with Jill following suit.<br>Though slightly\
          \ battered, the pair returned home to<br>comforting embraces. Despite the\
          \ mishap,<br>their adventurous spirits remained undimmed, and they<br>continued\
          \ exploring with delight.\"</p>\n<h3 id=\"response\">Response:</h3>\n<p>Text:\
          \ In a charming village, siblings Jack and Jill set out on a quest to fetch\
          \ water from a hilltop well. As they climbed, singing joyfully, misfortune\
          \ struck\u2014Jack tripped on a stone and tumbled down the hill, with Jill\
          \ following suit. Though slightly battered, the pair returned home to comforting\
          \ embraces. Despite the mishap, their adventurous spirits remained undimmed,\
          \ and they continued exploring with delight.archivierepublicain.fr/actualite-societe/culture/livres/un-jour-de-pluie-au-paradis-du-petit-prince-708695</p>\n\
          <p>========2========<br>Below is an instruction that describes a task. Write\
          \ a response that appropriately completes the request.</p>\n<h3 id=\"instruction-1\"\
          >Instruction:</h3>\n<p>Proofread and correct the following text and rewrite\
          \ the corrected version. If you don't find and errors, just say \"No errors\
          \ found\". Don't use any punctuation around the text:<br>\"Got this for\
          \ my daughter for her birthday cuz she keeps taking<br>mine from my room.\
          \  Yes, adults also like pandas too.  She takes<br>it everywhere with her,\
          \ and it's super soft and cute.  One of the<br>ears is a bit lower than\
          \ the other, and I don't think that was<br>designed to be asymmetrical.\
          \ It's a bit small for what I paid for it<br>though. I think there might\
          \ be other options that are bigger for<br>the same price.  It arrived a\
          \ day earlier than expected, so I got<br>to play with it myself before I\
          \ gave it to my daughter.\"</p>\n<h3 id=\"response-1\">Response:</h3>\n\
          <p>Corrected Text:<br>I bought this panda plushie for my daughter as a gift\
          \ because she kept stealing mine from my bedroom. Adults can love pandas\
          \ too! My daughter carries it wherever she goes, and it\u2019s very soft\
          \ and adorable. However, one ear seems slightly lower than the other, which\
          \ may not have been intended by the designer. The size is smaller than I\
          \ had anticipated despite paying more money for it. Overall, it came in\
          \ early and I enjoyed playing with it before giving it to my daughter.iation.enoerrorsfound.ightarrow.ightarrow.ightarrow.ightarrow.[etc.]</p>\n\
          </summary></summary>"
        raw: "That is really interesting. I am just posting the details here if anyone\
          \ has an idea and wants to give feedback in the interest of operating llm's.\
          \ Not requesting anything, I find it already amazing that you share your\
          \ work here. Really really great.\nHow I can reproduce:\nVanilla oobabooga\
          \ installer. RTX 3090. i7-11700K. Xubuntu. Only set wbits 4, groupsize 128\
          \ and max_new_tokens 400.\nTwo prompts from learn.deeplearning.ai:\n\ngpt4-x-alpaca-30b-128g-4bit.safetensors\
          \ gives me at least 20% of repeating the prompts something like below, while\
          \ alpaca-30b-128g-4bit.safetensors not even once gave me such halluzinations:\n\
          \n========1========\nBelow is an instruction that describes a task. Write\
          \ a response that appropriately completes the request.\n### Instruction:\n\
          Your task is to perform the following actions: \n1 - Summarize the following\
          \ text with 1 sentence.\n2 - Translate the summary into French.\n3 - List\
          \ each name in the text.\n4 - Output a json object that contains the following\
          \ keys: french_summary, num_names.\n\nUse the following format:\nText: <text\
          \ to summarize>\nSummary: <summary>\nTranslation: <summary translation>\n\
          Names: <list of names in French summary>\nOutput JSON: <json with summary\
          \ and num_names>\n\nText: \"In a charming village, siblings Jack and Jill\
          \ set out on  \na quest to fetch water from a hilltop  \nwell. As they climbed,\
          \ singing joyfully, misfortune  \nstruck\u2014Jack tripped on a stone and\
          \ tumbled  \ndown the hill, with Jill following suit.  \nThough slightly\
          \ battered, the pair returned home to  \ncomforting embraces. Despite the\
          \ mishap,  \ntheir adventurous spirits remained undimmed, and they  \ncontinued\
          \ exploring with delight.\"\n### Response:\nText: In a charming village,\
          \ siblings Jack and Jill set out on a quest to fetch water from a hilltop\
          \ well. As they climbed, singing joyfully, misfortune struck\u2014Jack tripped\
          \ on a stone and tumbled down the hill, with Jill following suit. Though\
          \ slightly battered, the pair returned home to comforting embraces. Despite\
          \ the mishap, their adventurous spirits remained undimmed, and they continued\
          \ exploring with delight.archivierepublicain.fr/actualite-societe/culture/livres/un-jour-de-pluie-au-paradis-du-petit-prince-708695\n\
          \n========2========\nBelow is an instruction that describes a task. Write\
          \ a response that appropriately completes the request.\n### Instruction:\n\
          \nProofread and correct the following text and rewrite the corrected version.\
          \ If you don't find and errors, just say \"No errors found\". Don't use\
          \ any punctuation around the text:\n\"Got this for my daughter for her birthday\
          \ cuz she keeps taking \nmine from my room.  Yes, adults also like pandas\
          \ too.  She takes \nit everywhere with her, and it's super soft and cute.\
          \  One of the \nears is a bit lower than the other, and I don't think that\
          \ was \ndesigned to be asymmetrical. It's a bit small for what I paid for\
          \ it \nthough. I think there might be other options that are bigger for\
          \ \nthe same price.  It arrived a day earlier than expected, so I got \n\
          to play with it myself before I gave it to my daughter.\"\n### Response:\n\
          Corrected Text:\nI bought this panda plushie for my daughter as a gift because\
          \ she kept stealing mine from my bedroom. Adults can love pandas too! My\
          \ daughter carries it wherever she goes, and it\u2019s very soft and adorable.\
          \ However, one ear seems slightly lower than the other, which may not have\
          \ been intended by the designer. The size is smaller than I had anticipated\
          \ despite paying more money for it. Overall, it came in early and I enjoyed\
          \ playing with it before giving it to my daughter.iation.enoerrorsfound.ightarrow.ightarrow.ightarrow.ightarrow.[etc.]"
        updatedAt: '2023-05-18T20:24:56.485Z'
      numEdits: 0
      reactions: []
    id: 646689989c627c78f86f910c
    type: comment
  author: kbrkbr
  content: "That is really interesting. I am just posting the details here if anyone\
    \ has an idea and wants to give feedback in the interest of operating llm's. Not\
    \ requesting anything, I find it already amazing that you share your work here.\
    \ Really really great.\nHow I can reproduce:\nVanilla oobabooga installer. RTX\
    \ 3090. i7-11700K. Xubuntu. Only set wbits 4, groupsize 128 and max_new_tokens\
    \ 400.\nTwo prompts from learn.deeplearning.ai:\n\ngpt4-x-alpaca-30b-128g-4bit.safetensors\
    \ gives me at least 20% of repeating the prompts something like below, while alpaca-30b-128g-4bit.safetensors\
    \ not even once gave me such halluzinations:\n\n========1========\nBelow is an\
    \ instruction that describes a task. Write a response that appropriately completes\
    \ the request.\n### Instruction:\nYour task is to perform the following actions:\
    \ \n1 - Summarize the following text with 1 sentence.\n2 - Translate the summary\
    \ into French.\n3 - List each name in the text.\n4 - Output a json object that\
    \ contains the following keys: french_summary, num_names.\n\nUse the following\
    \ format:\nText: <text to summarize>\nSummary: <summary>\nTranslation: <summary\
    \ translation>\nNames: <list of names in French summary>\nOutput JSON: <json with\
    \ summary and num_names>\n\nText: \"In a charming village, siblings Jack and Jill\
    \ set out on  \na quest to fetch water from a hilltop  \nwell. As they climbed,\
    \ singing joyfully, misfortune  \nstruck\u2014Jack tripped on a stone and tumbled\
    \  \ndown the hill, with Jill following suit.  \nThough slightly battered, the\
    \ pair returned home to  \ncomforting embraces. Despite the mishap,  \ntheir adventurous\
    \ spirits remained undimmed, and they  \ncontinued exploring with delight.\"\n\
    ### Response:\nText: In a charming village, siblings Jack and Jill set out on\
    \ a quest to fetch water from a hilltop well. As they climbed, singing joyfully,\
    \ misfortune struck\u2014Jack tripped on a stone and tumbled down the hill, with\
    \ Jill following suit. Though slightly battered, the pair returned home to comforting\
    \ embraces. Despite the mishap, their adventurous spirits remained undimmed, and\
    \ they continued exploring with delight.archivierepublicain.fr/actualite-societe/culture/livres/un-jour-de-pluie-au-paradis-du-petit-prince-708695\n\
    \n========2========\nBelow is an instruction that describes a task. Write a response\
    \ that appropriately completes the request.\n### Instruction:\n\nProofread and\
    \ correct the following text and rewrite the corrected version. If you don't find\
    \ and errors, just say \"No errors found\". Don't use any punctuation around the\
    \ text:\n\"Got this for my daughter for her birthday cuz she keeps taking \nmine\
    \ from my room.  Yes, adults also like pandas too.  She takes \nit everywhere\
    \ with her, and it's super soft and cute.  One of the \nears is a bit lower than\
    \ the other, and I don't think that was \ndesigned to be asymmetrical. It's a\
    \ bit small for what I paid for it \nthough. I think there might be other options\
    \ that are bigger for \nthe same price.  It arrived a day earlier than expected,\
    \ so I got \nto play with it myself before I gave it to my daughter.\"\n### Response:\n\
    Corrected Text:\nI bought this panda plushie for my daughter as a gift because\
    \ she kept stealing mine from my bedroom. Adults can love pandas too! My daughter\
    \ carries it wherever she goes, and it\u2019s very soft and adorable. However,\
    \ one ear seems slightly lower than the other, which may not have been intended\
    \ by the designer. The size is smaller than I had anticipated despite paying more\
    \ money for it. Overall, it came in early and I enjoyed playing with it before\
    \ giving it to my daughter.iation.enoerrorsfound.ightarrow.ightarrow.ightarrow.ightarrow.[etc.]"
  created_at: 2023-05-18 19:24:56+00:00
  edited: false
  hidden: false
  id: 646689989c627c78f86f910c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: MetaIX/GPT4-X-Alpaca-30B-4bit
repo_type: model
status: open
target_branch: null
title: Best model I tested, but seems to have an issue on some tokens
