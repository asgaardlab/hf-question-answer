!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Farzamfan
conflicting_files: null
created_at: 2023-12-13 10:36:07+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/740a3004e9be4ccfdfbd4528dd7e7f3e.svg
      fullname: Farzam Fanitabasi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Farzamfan
      type: user
    createdAt: '2023-12-13T10:36:07.000Z'
    data:
      edited: false
      editors:
      - Farzamfan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8074537515640259
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/740a3004e9be4ccfdfbd4528dd7e7f3e.svg
          fullname: Farzam Fanitabasi
          isHf: false
          isPro: false
          name: Farzamfan
          type: user
        html: '<p>I downloaded the model form "<a href="https://huggingface.co/mlx-llama&quot;">https://huggingface.co/mlx-llama"</a>
          and ran python llama.py  &lt;path_to_tokenizer.model&gt; "hello". I get
          params.json missing error, and in the weights the "layers.0.feed_forward.w1.weight"
          and "output.weight" keys are missing.</p>

          '
        raw: I downloaded the model form "https://huggingface.co/mlx-llama" and ran
          python llama.py <path_to_model> <path_to_tokenizer.model> "hello". I get
          params.json missing error, and in the weights the "layers.0.feed_forward.w1.weight"
          and "output.weight" keys are missing.
        updatedAt: '2023-12-13T10:36:07.872Z'
      numEdits: 0
      reactions: []
    id: 657989172f03cfb1b55035ea
    type: comment
  author: Farzamfan
  content: I downloaded the model form "https://huggingface.co/mlx-llama" and ran
    python llama.py <path_to_model> <path_to_tokenizer.model> "hello". I get params.json
    missing error, and in the weights the "layers.0.feed_forward.w1.weight" and "output.weight"
    keys are missing.
  created_at: 2023-12-13 10:36:07+00:00
  edited: false
  hidden: false
  id: 657989172f03cfb1b55035ea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-12-13T13:49:49.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8711849451065063
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;Farzamfan&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Farzamfan\"\
          >@<span class=\"underline\">Farzamfan</span></a></span>\n\n\t</span></span>!</p>\n\
          <p>The original inference script <code>llama.py</code> has changed in a\
          \ number of ways:</p>\n<ul>\n<li>The weights filename is now hardcoded.</li>\n\
          <li>It expects a configuration file as you saw.</li>\n<li>Some configurations\
          \ are taken from the weights themselves.</li>\n</ul>\n<p>We need to re-export\
          \ these models accordingly. Meanwhile, can you please use revision 0bf5d0e3bc1e51b82cf8083be422dc61dc88455b\
          \ of <code>https://github.com/ml-explore/mlx-examples.git</code>? That revision\
          \ runs inference fine using this model and the instructions in the model\
          \ card.</p>\n"
        raw: 'Hello @Farzamfan!


          The original inference script `llama.py` has changed in a number of ways:

          - The weights filename is now hardcoded.

          - It expects a configuration file as you saw.

          - Some configurations are taken from the weights themselves.


          We need to re-export these models accordingly. Meanwhile, can you please
          use revision 0bf5d0e3bc1e51b82cf8083be422dc61dc88455b of `https://github.com/ml-explore/mlx-examples.git`?
          That revision runs inference fine using this model and the instructions
          in the model card.'
        updatedAt: '2023-12-13T13:49:49.676Z'
      numEdits: 0
      reactions: []
    id: 6579b67d5aaf15a2c2084ad2
    type: comment
  author: pcuenq
  content: 'Hello @Farzamfan!


    The original inference script `llama.py` has changed in a number of ways:

    - The weights filename is now hardcoded.

    - It expects a configuration file as you saw.

    - Some configurations are taken from the weights themselves.


    We need to re-export these models accordingly. Meanwhile, can you please use revision
    0bf5d0e3bc1e51b82cf8083be422dc61dc88455b of `https://github.com/ml-explore/mlx-examples.git`?
    That revision runs inference fine using this model and the instructions in the
    model card.'
  created_at: 2023-12-13 13:49:49+00:00
  edited: false
  hidden: false
  id: 6579b67d5aaf15a2c2084ad2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/623c830997ddced06d78699b/ucB8joTPONCnc_Gj0mssR.jpeg?w=200&h=200&f=face
      fullname: Awni Hannun
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: awni
      type: user
    createdAt: '2023-12-19T17:33:13.000Z'
    data:
      edited: false
      editors:
      - awni
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8390229940414429
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/623c830997ddced06d78699b/ucB8joTPONCnc_Gj0mssR.jpeg?w=200&h=200&f=face
          fullname: Awni Hannun
          isHf: false
          isPro: false
          name: awni
          type: user
        html: '<p>Btw, the HF models should be updated to work with the latest mlx-examples.
          If you still have issues let me know and/or file an issue in <a rel="nofollow"
          href="https://github.com/ml-explore/mlx-examples">https://github.com/ml-explore/mlx-examples</a></p>

          '
        raw: Btw, the HF models should be updated to work with the latest mlx-examples.
          If you still have issues let me know and/or file an issue in https://github.com/ml-explore/mlx-examples
        updatedAt: '2023-12-19T17:33:13.626Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - pcuenq
    id: 6581d3d9283fdb0c8dcb4a9c
    type: comment
  author: awni
  content: Btw, the HF models should be updated to work with the latest mlx-examples.
    If you still have issues let me know and/or file an issue in https://github.com/ml-explore/mlx-examples
  created_at: 2023-12-19 17:33:13+00:00
  edited: false
  hidden: false
  id: 6581d3d9283fdb0c8dcb4a9c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-12-20T09:08:32.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8869472742080688
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: "<p>Thanks a lot <span data-props=\"{&quot;user&quot;:&quot;awni&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/awni\"\
          >@<span class=\"underline\">awni</span></a></span>\n\n\t</span></span>,\
          \ I saw you updated this repo a couple days ago \U0001F64C. I just changed\
          \ the example to use the <code>--prompt</code> option, so the snippet now\
          \ works with the latest <code>main</code>. Could you please verify if that's\
          \ the case for you as well <span data-props=\"{&quot;user&quot;:&quot;Farzamfan&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Farzamfan\"\
          >@<span class=\"underline\">Farzamfan</span></a></span>\n\n\t</span></span>?</p>\n\
          <p>I'll now go through the other repos and verify whether they work.</p>\n"
        raw: "Thanks a lot @awni, I saw you updated this repo a couple days ago \U0001F64C\
          . I just changed the example to use the `--prompt` option, so the snippet\
          \ now works with the latest `main`. Could you please verify if that's the\
          \ case for you as well @Farzamfan?\n\nI'll now go through the other repos\
          \ and verify whether they work."
        updatedAt: '2023-12-20T09:08:32.699Z'
      numEdits: 0
      reactions: []
    id: 6582af104867f8699d444e79
    type: comment
  author: pcuenq
  content: "Thanks a lot @awni, I saw you updated this repo a couple days ago \U0001F64C\
    . I just changed the example to use the `--prompt` option, so the snippet now\
    \ works with the latest `main`. Could you please verify if that's the case for\
    \ you as well @Farzamfan?\n\nI'll now go through the other repos and verify whether\
    \ they work."
  created_at: 2023-12-20 09:08:32+00:00
  edited: false
  hidden: false
  id: 6582af104867f8699d444e79
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: mlx-community/Llama-2-7b-chat-mlx
repo_type: model
status: open
target_branch: null
title: params.json missing
