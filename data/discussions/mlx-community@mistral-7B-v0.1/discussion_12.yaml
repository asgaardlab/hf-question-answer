!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Klaatu
conflicting_files: null
created_at: 2023-12-21 02:21:58+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7bf3ad2ea4d0ef7b07489d03e05ca73b.svg
      fullname: Eric Suchanek
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Klaatu
      type: user
    createdAt: '2023-12-21T02:21:58.000Z'
    data:
      edited: false
      editors:
      - Klaatu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.42865997552871704
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7bf3ad2ea4d0ef7b07489d03e05ca73b.svg
          fullname: Eric Suchanek
          isHf: false
          isPro: false
          name: Klaatu
          type: user
        html: '<p>Greetings,<br>I''m getting failures when running test.py. Any thoughts?</p>

          <p>======================================================================<br>FAIL:
          test_generate (<strong>main</strong>.TestMistral)</p>

          <hr>

          <p>Traceback (most recent call last):<br>  File "/Users/egs/repos/mlx-examples/llms/mistral/test.py",
          line 75, in test_generate<br>    self.assertEqual(tokens, expected)<br>AssertionError:
          Lists differ: [302, 272, 16762, 9588, 12807, 2867, 2135, 28723, 851[116
          chars] 297] != [302, 272, 11843, 11837, 1587, 28723, 851, 349, 865, [108
          chars], 13]</p>

          <p>First differing element 2:<br>16762<br>11843</p>

          <p>  [302,<br>   272,</p>

          <ul>

          <li>16762,</li>

          <li>9588,</li>

          </ul>

          <ul>

          <li>11843,</li>

          <li>11837,</li>

          </ul>

          <ul>

          <li>12807,<br>?   ^ -</li>

          </ul>

          <ul>

          <li>1587,<br>?   ^</li>

          </ul>

          <ul>

          <li>2867,</li>

          <li>2135,<br>28723,<br>851,<br>349,<br>865,<br>264,<br>1369,<br>28723,<br>13,<br>13,</li>

          </ul>

          <ul>

          <li>3381,</li>

          <li>456,</li>

          <li>654,</li>

          </ul>

          <ul>

          <li>1014,</li>

          <li>16762,</li>

          <li>9588,</li>

          <li>12807,</li>

          <li>2867,</li>

          <li>2135,</li>

          <li>325,</li>

          <li>28749,</li>

          <li>8340,</li>

          <li>28731,</li>

          <li>403,<br>264,</li>

          <li>1587,</li>

          <li>297]</li>

          </ul>

          <ul>

          <li>1353,</li>

          <li>11843,</li>

          <li>28725,</li>

          <li>368,</li>

          <li>682,</li>

          <li>347,</li>

          <li>2240,</li>

          <li>767,</li>

          <li>298,</li>

          <li>511,</li>

          <li>28723,</li>

          <li>13]</li>

          </ul>

          <hr>

          <p>Ran 2 tests in 7.400s</p>

          <p>FAILED (failures=1)</p>

          '
        raw: "Greetings,\r\nI'm getting failures when running test.py. Any thoughts?\r\
          \n\r\n======================================================================\r\
          \nFAIL: test_generate (__main__.TestMistral)\r\n----------------------------------------------------------------------\r\
          \nTraceback (most recent call last):\r\n  File \"/Users/egs/repos/mlx-examples/llms/mistral/test.py\"\
          , line 75, in test_generate\r\n    self.assertEqual(tokens, expected)\r\n\
          AssertionError: Lists differ: [302, 272, 16762, 9588, 12807, 2867, 2135,\
          \ 28723, 851[116 chars] 297] != [302, 272, 11843, 11837, 1587, 28723, 851,\
          \ 349, 865, [108 chars], 13]\r\n\r\nFirst differing element 2:\r\n16762\r\
          \n11843\r\n\r\n  [302,\r\n   272,\r\n-  16762,\r\n-  9588,\r\n+  11843,\r\
          \n+  11837,\r\n-  12807,\r\n?   ^ -\r\n\r\n+  1587,\r\n?   ^\r\n\r\n-  2867,\r\
          \n-  2135,\r\n   28723,\r\n   851,\r\n   349,\r\n   865,\r\n   264,\r\n\
          \   1369,\r\n   28723,\r\n   13,\r\n   13,\r\n+  3381,\r\n+  456,\r\n+ \
          \ 654,\r\n-  1014,\r\n-  16762,\r\n-  9588,\r\n-  12807,\r\n-  2867,\r\n\
          -  2135,\r\n-  325,\r\n-  28749,\r\n-  8340,\r\n-  28731,\r\n-  403,\r\n\
          \   264,\r\n-  1587,\r\n-  297]\r\n+  1353,\r\n+  11843,\r\n+  28725,\r\n\
          +  368,\r\n+  682,\r\n+  347,\r\n+  2240,\r\n+  767,\r\n+  298,\r\n+  511,\r\
          \n+  28723,\r\n+  13]\r\n\r\n----------------------------------------------------------------------\r\
          \nRan 2 tests in 7.400s\r\n\r\nFAILED (failures=1)\r\n\r\n"
        updatedAt: '2023-12-21T02:21:58.672Z'
      numEdits: 0
      reactions: []
    id: 6583a146c73f74776bfe147f
    type: comment
  author: Klaatu
  content: "Greetings,\r\nI'm getting failures when running test.py. Any thoughts?\r\
    \n\r\n======================================================================\r\
    \nFAIL: test_generate (__main__.TestMistral)\r\n----------------------------------------------------------------------\r\
    \nTraceback (most recent call last):\r\n  File \"/Users/egs/repos/mlx-examples/llms/mistral/test.py\"\
    , line 75, in test_generate\r\n    self.assertEqual(tokens, expected)\r\nAssertionError:\
    \ Lists differ: [302, 272, 16762, 9588, 12807, 2867, 2135, 28723, 851[116 chars]\
    \ 297] != [302, 272, 11843, 11837, 1587, 28723, 851, 349, 865, [108 chars], 13]\r\
    \n\r\nFirst differing element 2:\r\n16762\r\n11843\r\n\r\n  [302,\r\n   272,\r\
    \n-  16762,\r\n-  9588,\r\n+  11843,\r\n+  11837,\r\n-  12807,\r\n?   ^ -\r\n\r\
    \n+  1587,\r\n?   ^\r\n\r\n-  2867,\r\n-  2135,\r\n   28723,\r\n   851,\r\n  \
    \ 349,\r\n   865,\r\n   264,\r\n   1369,\r\n   28723,\r\n   13,\r\n   13,\r\n\
    +  3381,\r\n+  456,\r\n+  654,\r\n-  1014,\r\n-  16762,\r\n-  9588,\r\n-  12807,\r\
    \n-  2867,\r\n-  2135,\r\n-  325,\r\n-  28749,\r\n-  8340,\r\n-  28731,\r\n- \
    \ 403,\r\n   264,\r\n-  1587,\r\n-  297]\r\n+  1353,\r\n+  11843,\r\n+  28725,\r\
    \n+  368,\r\n+  682,\r\n+  347,\r\n+  2240,\r\n+  767,\r\n+  298,\r\n+  511,\r\
    \n+  28723,\r\n+  13]\r\n\r\n----------------------------------------------------------------------\r\
    \nRan 2 tests in 7.400s\r\n\r\nFAILED (failures=1)\r\n\r\n"
  created_at: 2023-12-21 02:21:58+00:00
  edited: false
  hidden: false
  id: 6583a146c73f74776bfe147f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: mlx-community/mistral-7B-v0.1
repo_type: model
status: open
target_branch: null
title: Failures when running test.py - M3 Max
