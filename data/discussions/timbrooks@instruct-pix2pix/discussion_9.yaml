!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dylanldionne
conflicting_files: null
created_at: 2023-02-07 22:44:58+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/56283902162dd3909528312efab600c1.svg
      fullname: Dylan Laferriere-Dionne
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dylanldionne
      type: user
    createdAt: '2023-02-07T22:44:58.000Z'
    data:
      edited: false
      editors:
      - dylanldionne
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/56283902162dd3909528312efab600c1.svg
          fullname: Dylan Laferriere-Dionne
          isHf: false
          isPro: false
          name: dylanldionne
          type: user
        html: '<p>This is the message I am getting when selecting the model in Stable
          Diffusion. Can someone tell me what I am doing wrong?</p>

          <p>Loading weights [db9dd001] from D:\Active Projects\AI\stable-diffusion-webui\models\Stable-diffusion\instruct-pix2pix-00-22000.safetensors<br>Failed
          to load checkpoint, restoring previous<br>Loading weights [c88e730a] from
          D:\Active Projects\AI\stable-diffusion-webui\models\Stable-diffusion\protogenX34Photoreal_1.safetensors<br>Applying
          cross attention optimization (Doggettx).<br>changing setting sd_model_checkpoint
          to instruct-pix2pix-00-22000.safetensors [db9dd001]: RuntimeError<br>Traceback
          (most recent call last):<br>  File "D:\Active Projects\AI\stable-diffusion-webui\modules\shared.py",
          line 505, in set<br>    self.data_labels[key].onchange()<br>  File "D:\Active
          Projects\AI\stable-diffusion-webui\modules\call_queue.py", line 15, in f<br>    res
          = func(*args, **kwargs)<br>  File "D:\Active Projects\AI\stable-diffusion-webui\webui.py",
          line 73, in <br>    shared.opts.onchange("sd_model_checkpoint", wrap_queued_call(lambda:
          modules.sd_models.reload_model_weights()))<br>  File "D:\Active Projects\AI\stable-diffusion-webui\modules\sd_models.py",
          line 369, in reload_model_weights<br>    load_model_weights(sd_model, checkpoint_info)<br>  File
          "D:\Active Projects\AI\stable-diffusion-webui\modules\sd_models.py", line
          203, in load_model_weights<br>    model.load_state_dict(sd, strict=False)<br>  File
          "D:\Active Projects\AI\stable-diffusion-webui\venv\lib\site-packages\torch\nn\modules\module.py",
          line 1604, in load_state_dict<br>    raise RuntimeError(''Error(s) in loading
          state_dict for {}:\n\t{}''.format(<br>RuntimeError: Error(s) in loading
          state_dict for LatentDiffusion:<br>        size mismatch for model.diffusion_model.input_blocks.0.0.weight:
          copying a param with shape torch.Size([320, 8, 3, 3]) from checkpoint, the
          shape in current model is torch.Size([320, 4, 3, 3]).</p>

          '
        raw: "This is the message I am getting when selecting the model in Stable\
          \ Diffusion. Can someone tell me what I am doing wrong?\r\n\r\nLoading weights\
          \ [db9dd001] from D:\\Active Projects\\AI\\stable-diffusion-webui\\models\\\
          Stable-diffusion\\instruct-pix2pix-00-22000.safetensors\r\nFailed to load\
          \ checkpoint, restoring previous\r\nLoading weights [c88e730a] from D:\\\
          Active Projects\\AI\\stable-diffusion-webui\\models\\Stable-diffusion\\\
          protogenX34Photoreal_1.safetensors\r\nApplying cross attention optimization\
          \ (Doggettx).\r\nchanging setting sd_model_checkpoint to instruct-pix2pix-00-22000.safetensors\
          \ [db9dd001]: RuntimeError\r\nTraceback (most recent call last):\r\n  File\
          \ \"D:\\Active Projects\\AI\\stable-diffusion-webui\\modules\\shared.py\"\
          , line 505, in set\r\n    self.data_labels[key].onchange()\r\n  File \"\
          D:\\Active Projects\\AI\\stable-diffusion-webui\\modules\\call_queue.py\"\
          , line 15, in f\r\n    res = func(*args, **kwargs)\r\n  File \"D:\\Active\
          \ Projects\\AI\\stable-diffusion-webui\\webui.py\", line 73, in <lambda>\r\
          \n    shared.opts.onchange(\"sd_model_checkpoint\", wrap_queued_call(lambda:\
          \ modules.sd_models.reload_model_weights()))\r\n  File \"D:\\Active Projects\\\
          AI\\stable-diffusion-webui\\modules\\sd_models.py\", line 369, in reload_model_weights\r\
          \n    load_model_weights(sd_model, checkpoint_info)\r\n  File \"D:\\Active\
          \ Projects\\AI\\stable-diffusion-webui\\modules\\sd_models.py\", line 203,\
          \ in load_model_weights\r\n    model.load_state_dict(sd, strict=False)\r\
          \n  File \"D:\\Active Projects\\AI\\stable-diffusion-webui\\venv\\lib\\\
          site-packages\\torch\\nn\\modules\\module.py\", line 1604, in load_state_dict\r\
          \n    raise RuntimeError('Error(s) in loading state_dict for {}:\\n\\t{}'.format(\r\
          \nRuntimeError: Error(s) in loading state_dict for LatentDiffusion:\r\n\
          \        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
          \ copying a param with shape torch.Size([320, 8, 3, 3]) from checkpoint,\
          \ the shape in current model is torch.Size([320, 4, 3, 3])."
        updatedAt: '2023-02-07T22:44:58.175Z'
      numEdits: 0
      reactions: []
    id: 63e2d46ac123238b189cc167
    type: comment
  author: dylanldionne
  content: "This is the message I am getting when selecting the model in Stable Diffusion.\
    \ Can someone tell me what I am doing wrong?\r\n\r\nLoading weights [db9dd001]\
    \ from D:\\Active Projects\\AI\\stable-diffusion-webui\\models\\Stable-diffusion\\\
    instruct-pix2pix-00-22000.safetensors\r\nFailed to load checkpoint, restoring\
    \ previous\r\nLoading weights [c88e730a] from D:\\Active Projects\\AI\\stable-diffusion-webui\\\
    models\\Stable-diffusion\\protogenX34Photoreal_1.safetensors\r\nApplying cross\
    \ attention optimization (Doggettx).\r\nchanging setting sd_model_checkpoint to\
    \ instruct-pix2pix-00-22000.safetensors [db9dd001]: RuntimeError\r\nTraceback\
    \ (most recent call last):\r\n  File \"D:\\Active Projects\\AI\\stable-diffusion-webui\\\
    modules\\shared.py\", line 505, in set\r\n    self.data_labels[key].onchange()\r\
    \n  File \"D:\\Active Projects\\AI\\stable-diffusion-webui\\modules\\call_queue.py\"\
    , line 15, in f\r\n    res = func(*args, **kwargs)\r\n  File \"D:\\Active Projects\\\
    AI\\stable-diffusion-webui\\webui.py\", line 73, in <lambda>\r\n    shared.opts.onchange(\"\
    sd_model_checkpoint\", wrap_queued_call(lambda: modules.sd_models.reload_model_weights()))\r\
    \n  File \"D:\\Active Projects\\AI\\stable-diffusion-webui\\modules\\sd_models.py\"\
    , line 369, in reload_model_weights\r\n    load_model_weights(sd_model, checkpoint_info)\r\
    \n  File \"D:\\Active Projects\\AI\\stable-diffusion-webui\\modules\\sd_models.py\"\
    , line 203, in load_model_weights\r\n    model.load_state_dict(sd, strict=False)\r\
    \n  File \"D:\\Active Projects\\AI\\stable-diffusion-webui\\venv\\lib\\site-packages\\\
    torch\\nn\\modules\\module.py\", line 1604, in load_state_dict\r\n    raise RuntimeError('Error(s)\
    \ in loading state_dict for {}:\\n\\t{}'.format(\r\nRuntimeError: Error(s) in\
    \ loading state_dict for LatentDiffusion:\r\n        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
    \ copying a param with shape torch.Size([320, 8, 3, 3]) from checkpoint, the shape\
    \ in current model is torch.Size([320, 4, 3, 3])."
  created_at: 2023-02-07 22:44:58+00:00
  edited: false
  hidden: false
  id: 63e2d46ac123238b189cc167
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b4fbffdc2de0390adfdc4a919fef8e66.svg
      fullname: Rodney Blevins
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: reblevins
      type: user
    createdAt: '2023-02-13T22:57:26.000Z'
    data:
      edited: false
      editors:
      - reblevins
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b4fbffdc2de0390adfdc4a919fef8e66.svg
          fullname: Rodney Blevins
          isHf: false
          isPro: false
          name: reblevins
          type: user
        html: '<p>I had the same thing, but doing a <code>git pull</code> in the SD
          directory fixed the problem for me. Hope that helps.</p>

          '
        raw: I had the same thing, but doing a `git pull` in the SD directory fixed
          the problem for me. Hope that helps.
        updatedAt: '2023-02-13T22:57:26.033Z'
      numEdits: 0
      reactions: []
    id: 63eac05615821fe67c49ef55
    type: comment
  author: reblevins
  content: I had the same thing, but doing a `git pull` in the SD directory fixed
    the problem for me. Hope that helps.
  created_at: 2023-02-13 22:57:26+00:00
  edited: false
  hidden: false
  id: 63eac05615821fe67c49ef55
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: timbrooks/instruct-pix2pix
repo_type: model
status: open
target_branch: null
title: Unable to select the model in Stable Diffusion
