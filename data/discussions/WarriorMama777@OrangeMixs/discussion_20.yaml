!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Norh
conflicting_files: null
created_at: 2023-01-21 05:09:29+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
      fullname: Yeah And
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Norh
      type: user
    createdAt: '2023-01-21T05:09:29.000Z'
    data:
      edited: false
      editors:
      - Norh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
          fullname: Yeah And
          isHf: false
          isPro: false
          name: Norh
          type: user
        html: '<p>Hello,</p>

          <p>I''ve been getting this error whenever I try to use AbyssOrangeMix2_hard.safetensors,
          and I''m assuming it''s an issue with the LoRA and not the extension because
          other LoRAs work fine:</p>

          <p> Error running process: D:\Downloads\Diffusion\TRYING AGAIN\stable-diffusion-webui\extensions\sd-webui-additional-networks\scripts\additional_networks.py<br>Traceback
          (most recent call last):<br>  File "D:\Downloads\Diffusion\TRYING AGAIN\stable-diffusion-webui\modules\scripts.py",
          line 347, in process<br>    script.process(p, *script_args)<br>  File "D:\Downloads\Diffusion\TRYING
          AGAIN\stable-diffusion-webui\extensions\sd-webui-additional-networks\scripts\additional_networks.py",
          line 238, in process<br>    network, info = lora_compvis.create_network_and_apply_compvis(du_state_dict,
          weight, text_encoder, unet)<br>  File "D:\Downloads\Diffusion\TRYING AGAIN\stable-diffusion-webui\extensions\sd-webui-additional-networks\scripts\lora_compvis.py",
          line 78, in create_network_and_apply_compvis<br>    state_dict = network.apply_lora_modules(du_state_dict)              #
          some weights are applied to text encoder<br>  File "D:\Downloads\Diffusion\TRYING
          AGAIN\stable-diffusion-webui\extensions\sd-webui-additional-networks\scripts\lora_compvis.py",
          line 246, in apply_lora_modules<br>    state_dict = LoRANetworkCompvis.convert_state_dict_name_to_compvis(self.v2,
          du_state_dict)<br>  File "D:\Downloads\Diffusion\TRYING AGAIN\stable-diffusion-webui\extensions\sd-webui-additional-networks\scripts\lora_compvis.py",
          line 152, in convert_state_dict_name_to_compvis<br>    compvis_name = LoRANetworkCompvis.convert_diffusers_name_to_compvis(v2,
          tokens[0])<br>  File "D:\Downloads\Diffusion\TRYING AGAIN\stable-diffusion-webui\extensions\sd-webui-additional-networks\scripts\lora_compvis.py",
          line 141, in convert_diffusers_name_to_compvis<br>    assert cv_name is
          not None, f"conversion failed: {du_name}"<br>AssertionError: conversion
          failed: cond_stage_model</p>

          <p>Anyone know what this is or how to fix it?</p>

          '
        raw: "Hello,\r\n\r\nI've been getting this error whenever I try to use AbyssOrangeMix2_hard.safetensors,\
          \ and I'm assuming it's an issue with the LoRA and not the extension because\
          \ other LoRAs work fine:\r\n\r\n Error running process: D:\\Downloads\\\
          Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\extensions\\sd-webui-additional-networks\\\
          scripts\\additional_networks.py\r\nTraceback (most recent call last):\r\n\
          \  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\\
          modules\\scripts.py\", line 347, in process\r\n    script.process(p, *script_args)\r\
          \n  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\\
          extensions\\sd-webui-additional-networks\\scripts\\additional_networks.py\"\
          , line 238, in process\r\n    network, info = lora_compvis.create_network_and_apply_compvis(du_state_dict,\
          \ weight, text_encoder, unet)\r\n  File \"D:\\Downloads\\Diffusion\\TRYING\
          \ AGAIN\\stable-diffusion-webui\\extensions\\sd-webui-additional-networks\\\
          scripts\\lora_compvis.py\", line 78, in create_network_and_apply_compvis\r\
          \n    state_dict = network.apply_lora_modules(du_state_dict)           \
          \   # some weights are applied to text encoder\r\n  File \"D:\\Downloads\\\
          Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\extensions\\sd-webui-additional-networks\\\
          scripts\\lora_compvis.py\", line 246, in apply_lora_modules\r\n    state_dict\
          \ = LoRANetworkCompvis.convert_state_dict_name_to_compvis(self.v2, du_state_dict)\r\
          \n  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\\
          extensions\\sd-webui-additional-networks\\scripts\\lora_compvis.py\", line\
          \ 152, in convert_state_dict_name_to_compvis\r\n    compvis_name = LoRANetworkCompvis.convert_diffusers_name_to_compvis(v2,\
          \ tokens[0])\r\n  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\\
          extensions\\sd-webui-additional-networks\\scripts\\lora_compvis.py\", line\
          \ 141, in convert_diffusers_name_to_compvis\r\n    assert cv_name is not\
          \ None, f\"conversion failed: {du_name}\"\r\nAssertionError: conversion\
          \ failed: cond_stage_model\r\n\r\n\r\nAnyone know what this is or how to\
          \ fix it?\r\n"
        updatedAt: '2023-01-21T05:09:29.724Z'
      numEdits: 0
      reactions: []
    id: 63cb73895bcb350a589df98a
    type: comment
  author: Norh
  content: "Hello,\r\n\r\nI've been getting this error whenever I try to use AbyssOrangeMix2_hard.safetensors,\
    \ and I'm assuming it's an issue with the LoRA and not the extension because other\
    \ LoRAs work fine:\r\n\r\n Error running process: D:\\Downloads\\Diffusion\\TRYING\
    \ AGAIN\\stable-diffusion-webui\\extensions\\sd-webui-additional-networks\\scripts\\\
    additional_networks.py\r\nTraceback (most recent call last):\r\n  File \"D:\\\
    Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\modules\\scripts.py\"\
    , line 347, in process\r\n    script.process(p, *script_args)\r\n  File \"D:\\\
    Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\extensions\\sd-webui-additional-networks\\\
    scripts\\additional_networks.py\", line 238, in process\r\n    network, info =\
    \ lora_compvis.create_network_and_apply_compvis(du_state_dict, weight, text_encoder,\
    \ unet)\r\n  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\\
    extensions\\sd-webui-additional-networks\\scripts\\lora_compvis.py\", line 78,\
    \ in create_network_and_apply_compvis\r\n    state_dict = network.apply_lora_modules(du_state_dict)\
    \              # some weights are applied to text encoder\r\n  File \"D:\\Downloads\\\
    Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\extensions\\sd-webui-additional-networks\\\
    scripts\\lora_compvis.py\", line 246, in apply_lora_modules\r\n    state_dict\
    \ = LoRANetworkCompvis.convert_state_dict_name_to_compvis(self.v2, du_state_dict)\r\
    \n  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\extensions\\\
    sd-webui-additional-networks\\scripts\\lora_compvis.py\", line 152, in convert_state_dict_name_to_compvis\r\
    \n    compvis_name = LoRANetworkCompvis.convert_diffusers_name_to_compvis(v2,\
    \ tokens[0])\r\n  File \"D:\\Downloads\\Diffusion\\TRYING AGAIN\\stable-diffusion-webui\\\
    extensions\\sd-webui-additional-networks\\scripts\\lora_compvis.py\", line 141,\
    \ in convert_diffusers_name_to_compvis\r\n    assert cv_name is not None, f\"\
    conversion failed: {du_name}\"\r\nAssertionError: conversion failed: cond_stage_model\r\
    \n\r\n\r\nAnyone know what this is or how to fix it?\r\n"
  created_at: 2023-01-21 05:09:29+00:00
  edited: false
  hidden: false
  id: 63cb73895bcb350a589df98a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    createdAt: '2023-01-21T19:01:46.000Z'
    data:
      edited: false
      editors:
      - deleted
      hidden: false
      isReport: false
      latest:
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;Norh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Norh\">@<span class=\"\
          underline\">Norh</span></a></span>\n\n\t</span></span> , I tested a LoRA\
          \ today with _hard, seemed to work fine. I did use the latest automatic1111\
          \ UI native support for LoRAs instead of the extension.</p>\n"
        raw: Hey @Norh , I tested a LoRA today with _hard, seemed to work fine. I
          did use the latest automatic1111 UI native support for LoRAs instead of
          the extension.
        updatedAt: '2023-01-21T19:01:46.972Z'
      numEdits: 0
      reactions: []
    id: 63cc369adf168f678c65053e
    type: comment
  author: deleted
  content: Hey @Norh , I tested a LoRA today with _hard, seemed to work fine. I did
    use the latest automatic1111 UI native support for LoRAs instead of the extension.
  created_at: 2023-01-21 19:01:46+00:00
  edited: false
  hidden: false
  id: 63cc369adf168f678c65053e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
      fullname: Yeah And
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Norh
      type: user
    createdAt: '2023-01-21T21:33:40.000Z'
    data:
      edited: false
      editors:
      - Norh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
          fullname: Yeah And
          isHf: false
          isPro: false
          name: Norh
          type: user
        html: '<p>@m11925 </p>

          <p>Thanks for responding. I tried the latest update, and I ended up getting
          a separate error whenever I tried to load AbyssOrangeMix2_hard, getting
          "Failed to match keys when loading Lora" and then a long list of what I
          assume to be tags? It''s very confusing and only happening with that.</p>

          '
        raw: "@m11925 \n\nThanks for responding. I tried the latest update, and I\
          \ ended up getting a separate error whenever I tried to load AbyssOrangeMix2_hard,\
          \ getting \"Failed to match keys when loading Lora\" and then a long list\
          \ of what I assume to be tags? It's very confusing and only happening with\
          \ that."
        updatedAt: '2023-01-21T21:33:40.461Z'
      numEdits: 0
      reactions: []
    id: 63cc5a347b5b4fad6e8fb94c
    type: comment
  author: Norh
  content: "@m11925 \n\nThanks for responding. I tried the latest update, and I ended\
    \ up getting a separate error whenever I tried to load AbyssOrangeMix2_hard, getting\
    \ \"Failed to match keys when loading Lora\" and then a long list of what I assume\
    \ to be tags? It's very confusing and only happening with that."
  created_at: 2023-01-21 21:33:40+00:00
  edited: false
  hidden: false
  id: 63cc5a347b5b4fad6e8fb94c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    createdAt: '2023-01-22T01:08:40.000Z'
    data:
      edited: false
      editors:
      - deleted
      hidden: false
      isReport: false
      latest:
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Norh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Norh\">@<span class=\"\
          underline\">Norh</span></a></span>\n\n\t</span></span> , strange, perhaps\
          \ try re-downloading AbyssOrangeMix2_hard and the LoRA? I would suspect\
          \ the LoRA, perhaps it is corrupt or has some formatting issue. My other\
          \ thought would be if the LoRA was trained on a 2.X model, while AbyssOrangeMix2\
          \ is a 1.5 model.</p>\n"
        raw: '@Norh , strange, perhaps try re-downloading AbyssOrangeMix2_hard and
          the LoRA? I would suspect the LoRA, perhaps it is corrupt or has some formatting
          issue. My other thought would be if the LoRA was trained on a 2.X model,
          while AbyssOrangeMix2 is a 1.5 model.'
        updatedAt: '2023-01-22T01:08:40.977Z'
      numEdits: 0
      reactions: []
    id: 63cc8c987b5b4fad6e937640
    type: comment
  author: deleted
  content: '@Norh , strange, perhaps try re-downloading AbyssOrangeMix2_hard and the
    LoRA? I would suspect the LoRA, perhaps it is corrupt or has some formatting issue.
    My other thought would be if the LoRA was trained on a 2.X model, while AbyssOrangeMix2
    is a 1.5 model.'
  created_at: 2023-01-22 01:08:40+00:00
  edited: false
  hidden: false
  id: 63cc8c987b5b4fad6e937640
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
      fullname: Yeah And
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Norh
      type: user
    createdAt: '2023-01-22T02:25:51.000Z'
    data:
      edited: false
      editors:
      - Norh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
          fullname: Yeah And
          isHf: false
          isPro: false
          name: Norh
          type: user
        html: '<p>@m11925, forgive me if this is a rather stupid question, but are
          those two not the same thing? Am I missing something? Sorry, I''m really
          new to this.</p>

          '
        raw: '@m11925, forgive me if this is a rather stupid question, but are those
          two not the same thing? Am I missing something? Sorry, I''m really new to
          this.'
        updatedAt: '2023-01-22T02:25:51.304Z'
      numEdits: 0
      reactions: []
    id: 63cc9eafdf168f678c6cbec9
    type: comment
  author: Norh
  content: '@m11925, forgive me if this is a rather stupid question, but are those
    two not the same thing? Am I missing something? Sorry, I''m really new to this.'
  created_at: 2023-01-22 02:25:51+00:00
  edited: false
  hidden: false
  id: 63cc9eafdf168f678c6cbec9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    createdAt: '2023-01-22T02:59:05.000Z'
    data:
      edited: false
      editors:
      - deleted
      hidden: false
      isReport: false
      latest:
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Norh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Norh\">@<span class=\"\
          underline\">Norh</span></a></span>\n\n\t</span></span><br>So there are two\
          \ categories of models based on the base Stable Diffusion model version\
          \ they are based on.</p>\n<p>1.X (e.x. 1.4 and 1.5)<br>2.X (e.x. 2.0 and\
          \ 2.1)</p>\n<p>The way they work is different, so for example, textual inversions\
          \ / TIs / embeddings trained on one version (e.x. 1.X) won't work with the\
          \ other version (e.x. 2.X).</p>\n<p>AbyssOrangeMix2 is based on Stable Diffusion\
          \ 1.X, so it's possible if the LoRA in question was trained on 2.X, it may\
          \ not work with 1.X. I haven't encountered that myself, but it would make\
          \ sense given embeddings aren't cross compatible. While it is possible the\
          \ download of the model could have been corrupted, if it works fine otherwise,\
          \ I'd suspect the LoRA, assuming it's not a version issue.</p>\n"
        raw: "@Norh \nSo there are two categories of models based on the base Stable\
          \ Diffusion model version they are based on.\n\n1.X (e.x. 1.4 and 1.5)\n\
          2.X (e.x. 2.0 and 2.1)\n\nThe way they work is different, so for example,\
          \ textual inversions / TIs / embeddings trained on one version (e.x. 1.X)\
          \ won't work with the other version (e.x. 2.X).\n\nAbyssOrangeMix2 is based\
          \ on Stable Diffusion 1.X, so it's possible if the LoRA in question was\
          \ trained on 2.X, it may not work with 1.X. I haven't encountered that myself,\
          \ but it would make sense given embeddings aren't cross compatible. While\
          \ it is possible the download of the model could have been corrupted, if\
          \ it works fine otherwise, I'd suspect the LoRA, assuming it's not a version\
          \ issue."
        updatedAt: '2023-01-22T02:59:05.362Z'
      numEdits: 0
      reactions: []
    id: 63cca679df168f678c6d3e9c
    type: comment
  author: deleted
  content: "@Norh \nSo there are two categories of models based on the base Stable\
    \ Diffusion model version they are based on.\n\n1.X (e.x. 1.4 and 1.5)\n2.X (e.x.\
    \ 2.0 and 2.1)\n\nThe way they work is different, so for example, textual inversions\
    \ / TIs / embeddings trained on one version (e.x. 1.X) won't work with the other\
    \ version (e.x. 2.X).\n\nAbyssOrangeMix2 is based on Stable Diffusion 1.X, so\
    \ it's possible if the LoRA in question was trained on 2.X, it may not work with\
    \ 1.X. I haven't encountered that myself, but it would make sense given embeddings\
    \ aren't cross compatible. While it is possible the download of the model could\
    \ have been corrupted, if it works fine otherwise, I'd suspect the LoRA, assuming\
    \ it's not a version issue."
  created_at: 2023-01-22 02:59:05+00:00
  edited: false
  hidden: false
  id: 63cca679df168f678c6d3e9c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
      fullname: Yeah And
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Norh
      type: user
    createdAt: '2023-01-22T03:19:45.000Z'
    data:
      edited: false
      editors:
      - Norh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
          fullname: Yeah And
          isHf: false
          isPro: false
          name: Norh
          type: user
        html: '<p>@m11925</p>

          <p>I have discovered the fundamental misunderstanding that I was operating
          on here. I would just like to quickly confirm with accuracy: AbyssOrangeMix2_hard.safetensors
          is a model, and not a LoRA? I think I got confused because I used to just
          dump into into the LoRA folder and it worked fine.</p>

          '
        raw: '@m11925


          I have discovered the fundamental misunderstanding that I was operating
          on here. I would just like to quickly confirm with accuracy: AbyssOrangeMix2_hard.safetensors
          is a model, and not a LoRA? I think I got confused because I used to just
          dump into into the LoRA folder and it worked fine.'
        updatedAt: '2023-01-22T03:19:45.561Z'
      numEdits: 0
      reactions: []
    id: 63ccab5145d9594887553485
    type: comment
  author: Norh
  content: '@m11925


    I have discovered the fundamental misunderstanding that I was operating on here.
    I would just like to quickly confirm with accuracy: AbyssOrangeMix2_hard.safetensors
    is a model, and not a LoRA? I think I got confused because I used to just dump
    into into the LoRA folder and it worked fine.'
  created_at: 2023-01-22 03:19:45+00:00
  edited: false
  hidden: false
  id: 63ccab5145d9594887553485
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    createdAt: '2023-01-22T03:51:34.000Z'
    data:
      edited: false
      editors:
      - deleted
      hidden: false
      isReport: false
      latest:
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Norh&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Norh\">@<span class=\"\
          underline\">Norh</span></a></span>\n\n\t</span></span> yes, AbyssOrangeMix2\
          \ is a full model, not a LoRA.</p>\n"
        raw: '@Norh yes, AbyssOrangeMix2 is a full model, not a LoRA.'
        updatedAt: '2023-01-22T03:51:34.420Z'
      numEdits: 0
      reactions: []
    id: 63ccb2c67b5b4fad6e95ebd2
    type: comment
  author: deleted
  content: '@Norh yes, AbyssOrangeMix2 is a full model, not a LoRA.'
  created_at: 2023-01-22 03:51:34+00:00
  edited: false
  hidden: false
  id: 63ccb2c67b5b4fad6e95ebd2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/58be6c12ff2aaebfe57df4a3c06184f7.svg
      fullname: Yeah And
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Norh
      type: user
    createdAt: '2023-01-31T01:11:54.000Z'
    data:
      status: closed
    id: 63d86ada5ccb2bccedc04509
    type: status-change
  author: Norh
  created_at: 2023-01-31 01:11:54+00:00
  id: 63d86ada5ccb2bccedc04509
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 20
repo_id: WarriorMama777/OrangeMixs
repo_type: model
status: closed
target_branch: null
title: AssertionError
