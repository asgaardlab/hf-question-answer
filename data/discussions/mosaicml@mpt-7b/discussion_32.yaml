!!python/object:huggingface_hub.community.DiscussionWithDetails
author: c0d3r69
conflicting_files: null
created_at: 2023-05-22 11:24:39+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
      fullname: Rajeev M17ra
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: c0d3r69
      type: user
    createdAt: '2023-05-22T12:24:39.000Z'
    data:
      edited: false
      editors:
      - c0d3r69
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
          fullname: Rajeev M17ra
          isHf: false
          isPro: false
          name: c0d3r69
          type: user
        html: '<p>Can we have question answering using the mpt-7b-instruct ? I''m
          searching for this feature since so long. Anyone, if aware with the things,
          please help me out. </p>

          '
        raw: "Can we have question answering using the mpt-7b-instruct ? I'm searching\
          \ for this feature since so long. Anyone, if aware with the things, please\
          \ help me out. \r\n"
        updatedAt: '2023-05-22T12:24:39.580Z'
      numEdits: 0
      reactions: []
    id: 646b5f0731968a60a01efc2c
    type: comment
  author: c0d3r69
  content: "Can we have question answering using the mpt-7b-instruct ? I'm searching\
    \ for this feature since so long. Anyone, if aware with the things, please help\
    \ me out. \r\n"
  created_at: 2023-05-22 11:24:39+00:00
  edited: false
  hidden: false
  id: 646b5f0731968a60a01efc2c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-05-23T05:04:52.000Z'
    data:
      edited: false
      editors:
      - sam-mosaic
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
          fullname: Sam Havens
          isHf: false
          isPro: false
          name: sam-mosaic
          type: user
        html: '<p>you can test it out here <a href="https://huggingface.co/spaces/mosaicml/mpt-7b-instruct">https://huggingface.co/spaces/mosaicml/mpt-7b-instruct</a></p>

          '
        raw: you can test it out here https://huggingface.co/spaces/mosaicml/mpt-7b-instruct
        updatedAt: '2023-05-23T05:04:52.981Z'
      numEdits: 0
      reactions: []
      relatedEventId: 646c4974db697c798a5b155e
    id: 646c4974db697c798a5b155d
    type: comment
  author: sam-mosaic
  content: you can test it out here https://huggingface.co/spaces/mosaicml/mpt-7b-instruct
  created_at: 2023-05-23 04:04:52+00:00
  edited: false
  hidden: false
  id: 646c4974db697c798a5b155d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-05-23T05:04:52.000Z'
    data:
      status: closed
    id: 646c4974db697c798a5b155e
    type: status-change
  author: sam-mosaic
  created_at: 2023-05-23 04:04:52+00:00
  id: 646c4974db697c798a5b155e
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
      fullname: Rajeev M17ra
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: c0d3r69
      type: user
    createdAt: '2023-05-23T05:20:41.000Z'
    data:
      edited: false
      editors:
      - c0d3r69
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
          fullname: Rajeev M17ra
          isHf: false
          isPro: false
          name: c0d3r69
          type: user
        html: '<p>Hi sam, thanks for the response. I tried that where we can ask questions.
          And , it is working perfectly. What I want is: is there any ability to use
          it like the way we can use BERT for question answering.. where a user can
          give a context text and question and the system replies with the answer.
          I''d be happy to hear you on the same. Thankyou.</p>

          '
        raw: 'Hi sam, thanks for the response. I tried that where we can ask questions.
          And , it is working perfectly. What I want is: is there any ability to use
          it like the way we can use BERT for question answering.. where a user can
          give a context text and question and the system replies with the answer.
          I''d be happy to hear you on the same. Thankyou.'
        updatedAt: '2023-05-23T05:20:41.602Z'
      numEdits: 0
      reactions: []
    id: 646c4d29f85ebf65c54defeb
    type: comment
  author: c0d3r69
  content: 'Hi sam, thanks for the response. I tried that where we can ask questions.
    And , it is working perfectly. What I want is: is there any ability to use it
    like the way we can use BERT for question answering.. where a user can give a
    context text and question and the system replies with the answer. I''d be happy
    to hear you on the same. Thankyou.'
  created_at: 2023-05-23 04:20:41+00:00
  edited: false
  hidden: false
  id: 646c4d29f85ebf65c54defeb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
      fullname: Rajeev M17ra
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: c0d3r69
      type: user
    createdAt: '2023-05-23T05:20:45.000Z'
    data:
      status: open
    id: 646c4d2d5d68f5c15a4201ab
    type: status-change
  author: c0d3r69
  created_at: 2023-05-23 04:20:45+00:00
  id: 646c4d2d5d68f5c15a4201ab
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-05-23T05:31:29.000Z'
    data:
      edited: false
      editors:
      - sam-mosaic
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
          fullname: Sam Havens
          isHf: false
          isPro: false
          name: sam-mosaic
          type: user
        html: "<p>I pulled a passage from a random wikipedia article to test it and\
          \ asked a question and got the right answer \xAF_(\u30C4)_/\xAF </p>\n<p>my\
          \ test query was as follows. There were examples like this in the training\
          \ data</p>\n<pre><code>Where and when was Vanadinite discovered?\n\n###\
          \ CONTEXT\nVanadinite is a mineral belonging to the apatite group of phosphates,\
          \ with the chemical formula Pb5(VO4)3Cl. It is one of the main industrial\
          \ ores of the metal vanadium and a minor source of lead. A dense, brittle\
          \ mineral, it is usually found in the form of red hexagonal crystals. It\
          \ is an uncommon mineral, formed by the oxidation of lead ore deposits such\
          \ as galena. First discovered in 1801 in Mexico, vanadinite deposits have\
          \ since been unearthed in South America, Europe, Africa, and North America.\n\
          \nOrigins\nVanadinite is an uncommon mineral, only occurring as the result\
          \ of chemical alterations to a pre-existing material. It is therefore known\
          \ as a secondary mineral. It is found in arid climates and forms by oxidation\
          \ of primary lead minerals. Vanadinite is especially found in association\
          \ with the lead sulfide, galena. Other associated minerals include wulfenite,\
          \ limonite, and barite.[3][5]\n\nIt was originally discovered in Mexico\
          \ by the Spanish mineralogist Andr\xE9s Manuel del R\xEDo in 1801. He called\
          \ the mineral \"brown lead\" and asserted that it contained a new element,\
          \ which he first named pancromium and later, erythronium. However, he was\
          \ later led to believe that this was not a new element but merely an impure\
          \ form of chromium. In 1830, Nils Gabriel Sefstr\xF6m discovered a new element,\
          \ which he named vanadium. It was later revealed that this was identical\
          \ to the metal discovered earlier by Andr\xE9s Manuel del R\xEDo. Del R\xED\
          o's \"brown lead\" was also rediscovered, in 1838 in Zimapan, Hidalgo, Mexico,\
          \ and was named vanadinite because of its high vanadium content. Other names\
          \ that have since been given to vanadinite are johnstonite and lead vanadate.[6]\n\
          \nOccurrence\nVanadinite occurs as a secondary mineral in the oxidized zone\
          \ of lead-bearing deposits, the vanadium is leached from wall-rock silicates.\
          \ Associated minerals include mimetite, pyromorphite, descloizite, mottramite,\
          \ wulfenite, cerussite, anglesite, calcite, barite, and various iron oxide\
          \ minerals.[4]\n\nDeposits of vanadinite are found worldwide including Austria,\
          \ Spain, Scotland, the Ural Mountains, South Africa, Namibia, Morocco, Argentina,\
          \ Mexico, and 4 states of the United States: Arizona, Colorado, New Mexico,\
          \ and South Dakota.[3][5][7]\n\nVanadinite deposits are found in over 400\
          \ mines across the world. Notable vanadinite mines include those at Mibladen\
          \ and Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra\
          \ County, New Mexico, and Gila County, Arizona, in the United States.[8]\n\
          \nStructure\nVanadinite is a lead chlorovanadate with the chemical formula\
          \ Pb5(VO4)3Cl. It is composed (by weight) of 73.15% lead, 10.79% vanadium,\
          \ 13.56% oxygen, and 2.50% chlorine. Each structural unit of vanadinite\
          \ contains a chlorine ion surrounded by six divalent lead ions at the corners\
          \ of a regular octahedron, with one of the lead ions provided by an adjoining\
          \ vanadinite molecule. The distance between each lead and chlorine ion is\
          \ 317 picometres. The shortest distance between each lead ion is 4.48 \xC5\
          . The octahedron shares two of its opposite faces with that of neighbouring\
          \ vanadinite units, forming a continuous chain of octahedrons. Each vanadium\
          \ atom is surrounded by four oxygen atoms at the corners of an irregular\
          \ tetrahedron. The distance between each oxygen and vanadium atom is either\
          \ 1.72 or 1.76 \xC5. Three oxygen tetrahedrons adjoin each of the lead octahedrons\
          \ along the chain.[2][9][10]\n</code></pre>\n"
        raw: "I pulled a passage from a random wikipedia article to test it and asked\
          \ a question and got the right answer \xAF\\_(\u30C4)_/\xAF \n\nmy test\
          \ query was as follows. There were examples like this in the training data\n\
          \n```\nWhere and when was Vanadinite discovered?\n\n### CONTEXT\nVanadinite\
          \ is a mineral belonging to the apatite group of phosphates, with the chemical\
          \ formula Pb5(VO4)3Cl. It is one of the main industrial ores of the metal\
          \ vanadium and a minor source of lead. A dense, brittle mineral, it is usually\
          \ found in the form of red hexagonal crystals. It is an uncommon mineral,\
          \ formed by the oxidation of lead ore deposits such as galena. First discovered\
          \ in 1801 in Mexico, vanadinite deposits have since been unearthed in South\
          \ America, Europe, Africa, and North America.\n\nOrigins\nVanadinite is\
          \ an uncommon mineral, only occurring as the result of chemical alterations\
          \ to a pre-existing material. It is therefore known as a secondary mineral.\
          \ It is found in arid climates and forms by oxidation of primary lead minerals.\
          \ Vanadinite is especially found in association with the lead sulfide, galena.\
          \ Other associated minerals include wulfenite, limonite, and barite.[3][5]\n\
          \nIt was originally discovered in Mexico by the Spanish mineralogist Andr\xE9\
          s Manuel del R\xEDo in 1801. He called the mineral \"brown lead\" and asserted\
          \ that it contained a new element, which he first named pancromium and later,\
          \ erythronium. However, he was later led to believe that this was not a\
          \ new element but merely an impure form of chromium. In 1830, Nils Gabriel\
          \ Sefstr\xF6m discovered a new element, which he named vanadium. It was\
          \ later revealed that this was identical to the metal discovered earlier\
          \ by Andr\xE9s Manuel del R\xEDo. Del R\xEDo's \"brown lead\" was also rediscovered,\
          \ in 1838 in Zimapan, Hidalgo, Mexico, and was named vanadinite because\
          \ of its high vanadium content. Other names that have since been given to\
          \ vanadinite are johnstonite and lead vanadate.[6]\n\nOccurrence\nVanadinite\
          \ occurs as a secondary mineral in the oxidized zone of lead-bearing deposits,\
          \ the vanadium is leached from wall-rock silicates. Associated minerals\
          \ include mimetite, pyromorphite, descloizite, mottramite, wulfenite, cerussite,\
          \ anglesite, calcite, barite, and various iron oxide minerals.[4]\n\nDeposits\
          \ of vanadinite are found worldwide including Austria, Spain, Scotland,\
          \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico,\
          \ and 4 states of the United States: Arizona, Colorado, New Mexico, and\
          \ South Dakota.[3][5][7]\n\nVanadinite deposits are found in over 400 mines\
          \ across the world. Notable vanadinite mines include those at Mibladen and\
          \ Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra County,\
          \ New Mexico, and Gila County, Arizona, in the United States.[8]\n\nStructure\n\
          Vanadinite is a lead chlorovanadate with the chemical formula Pb5(VO4)3Cl.\
          \ It is composed (by weight) of 73.15% lead, 10.79% vanadium, 13.56% oxygen,\
          \ and 2.50% chlorine. Each structural unit of vanadinite contains a chlorine\
          \ ion surrounded by six divalent lead ions at the corners of a regular octahedron,\
          \ with one of the lead ions provided by an adjoining vanadinite molecule.\
          \ The distance between each lead and chlorine ion is 317 picometres. The\
          \ shortest distance between each lead ion is 4.48 \xC5. The octahedron shares\
          \ two of its opposite faces with that of neighbouring vanadinite units,\
          \ forming a continuous chain of octahedrons. Each vanadium atom is surrounded\
          \ by four oxygen atoms at the corners of an irregular tetrahedron. The distance\
          \ between each oxygen and vanadium atom is either 1.72 or 1.76 \xC5. Three\
          \ oxygen tetrahedrons adjoin each of the lead octahedrons along the chain.[2][9][10]\n\
          ```"
        updatedAt: '2023-05-23T05:31:29.130Z'
      numEdits: 0
      reactions: []
      relatedEventId: 646c4fb15d68f5c15a426bbc
    id: 646c4fb15d68f5c15a426bbb
    type: comment
  author: sam-mosaic
  content: "I pulled a passage from a random wikipedia article to test it and asked\
    \ a question and got the right answer \xAF\\_(\u30C4)_/\xAF \n\nmy test query\
    \ was as follows. There were examples like this in the training data\n\n```\n\
    Where and when was Vanadinite discovered?\n\n### CONTEXT\nVanadinite is a mineral\
    \ belonging to the apatite group of phosphates, with the chemical formula Pb5(VO4)3Cl.\
    \ It is one of the main industrial ores of the metal vanadium and a minor source\
    \ of lead. A dense, brittle mineral, it is usually found in the form of red hexagonal\
    \ crystals. It is an uncommon mineral, formed by the oxidation of lead ore deposits\
    \ such as galena. First discovered in 1801 in Mexico, vanadinite deposits have\
    \ since been unearthed in South America, Europe, Africa, and North America.\n\n\
    Origins\nVanadinite is an uncommon mineral, only occurring as the result of chemical\
    \ alterations to a pre-existing material. It is therefore known as a secondary\
    \ mineral. It is found in arid climates and forms by oxidation of primary lead\
    \ minerals. Vanadinite is especially found in association with the lead sulfide,\
    \ galena. Other associated minerals include wulfenite, limonite, and barite.[3][5]\n\
    \nIt was originally discovered in Mexico by the Spanish mineralogist Andr\xE9\
    s Manuel del R\xEDo in 1801. He called the mineral \"brown lead\" and asserted\
    \ that it contained a new element, which he first named pancromium and later,\
    \ erythronium. However, he was later led to believe that this was not a new element\
    \ but merely an impure form of chromium. In 1830, Nils Gabriel Sefstr\xF6m discovered\
    \ a new element, which he named vanadium. It was later revealed that this was\
    \ identical to the metal discovered earlier by Andr\xE9s Manuel del R\xEDo. Del\
    \ R\xEDo's \"brown lead\" was also rediscovered, in 1838 in Zimapan, Hidalgo,\
    \ Mexico, and was named vanadinite because of its high vanadium content. Other\
    \ names that have since been given to vanadinite are johnstonite and lead vanadate.[6]\n\
    \nOccurrence\nVanadinite occurs as a secondary mineral in the oxidized zone of\
    \ lead-bearing deposits, the vanadium is leached from wall-rock silicates. Associated\
    \ minerals include mimetite, pyromorphite, descloizite, mottramite, wulfenite,\
    \ cerussite, anglesite, calcite, barite, and various iron oxide minerals.[4]\n\
    \nDeposits of vanadinite are found worldwide including Austria, Spain, Scotland,\
    \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico, and 4\
    \ states of the United States: Arizona, Colorado, New Mexico, and South Dakota.[3][5][7]\n\
    \nVanadinite deposits are found in over 400 mines across the world. Notable vanadinite\
    \ mines include those at Mibladen and Touisset in Morocco; Tsumeb, Namibia; Cordoba,\
    \ Argentina; and Sierra County, New Mexico, and Gila County, Arizona, in the United\
    \ States.[8]\n\nStructure\nVanadinite is a lead chlorovanadate with the chemical\
    \ formula Pb5(VO4)3Cl. It is composed (by weight) of 73.15% lead, 10.79% vanadium,\
    \ 13.56% oxygen, and 2.50% chlorine. Each structural unit of vanadinite contains\
    \ a chlorine ion surrounded by six divalent lead ions at the corners of a regular\
    \ octahedron, with one of the lead ions provided by an adjoining vanadinite molecule.\
    \ The distance between each lead and chlorine ion is 317 picometres. The shortest\
    \ distance between each lead ion is 4.48 \xC5. The octahedron shares two of its\
    \ opposite faces with that of neighbouring vanadinite units, forming a continuous\
    \ chain of octahedrons. Each vanadium atom is surrounded by four oxygen atoms\
    \ at the corners of an irregular tetrahedron. The distance between each oxygen\
    \ and vanadium atom is either 1.72 or 1.76 \xC5. Three oxygen tetrahedrons adjoin\
    \ each of the lead octahedrons along the chain.[2][9][10]\n```"
  created_at: 2023-05-23 04:31:29+00:00
  edited: false
  hidden: false
  id: 646c4fb15d68f5c15a426bbb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-05-23T05:31:29.000Z'
    data:
      status: closed
    id: 646c4fb15d68f5c15a426bbc
    type: status-change
  author: sam-mosaic
  created_at: 2023-05-23 04:31:29+00:00
  id: 646c4fb15d68f5c15a426bbc
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-05-23T05:32:28.000Z'
    data:
      edited: false
      editors:
      - sam-mosaic
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
          fullname: Sam Havens
          isHf: false
          isPro: false
          name: sam-mosaic
          type: user
        html: '<p>However, be aware that BERT does <em>extractive</em> question answering,
          which means it only quotes the passage. This is a decoder model, so it is
          possible that it can hallucinate.</p>

          '
        raw: However, be aware that BERT does _extractive_ question answering, which
          means it only quotes the passage. This is a decoder model, so it is possible
          that it can hallucinate.
        updatedAt: '2023-05-23T05:32:28.296Z'
      numEdits: 0
      reactions: []
    id: 646c4fec5d68f5c15a4274cb
    type: comment
  author: sam-mosaic
  content: However, be aware that BERT does _extractive_ question answering, which
    means it only quotes the passage. This is a decoder model, so it is possible that
    it can hallucinate.
  created_at: 2023-05-23 04:32:28+00:00
  edited: false
  hidden: false
  id: 646c4fec5d68f5c15a4274cb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
      fullname: Rajeev M17ra
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: c0d3r69
      type: user
    createdAt: '2023-05-23T05:46:22.000Z'
    data:
      edited: false
      editors:
      - c0d3r69
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
          fullname: Rajeev M17ra
          isHf: false
          isPro: false
          name: c0d3r69
          type: user
        html: '<p>how can I provide context to the model for getting answers from
          my text document or files?</p>

          '
        raw: how can I provide context to the model for getting answers from my text
          document or files?
        updatedAt: '2023-05-23T05:46:22.910Z'
      numEdits: 0
      reactions: []
      relatedEventId: 646c532edb697c798a5cb0c9
    id: 646c532edb697c798a5cb0c8
    type: comment
  author: c0d3r69
  content: how can I provide context to the model for getting answers from my text
    document or files?
  created_at: 2023-05-23 04:46:22+00:00
  edited: false
  hidden: false
  id: 646c532edb697c798a5cb0c8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/826761ecfd9a5f67af2f795a19ecc27d.svg
      fullname: Rajeev M17ra
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: c0d3r69
      type: user
    createdAt: '2023-05-23T05:46:22.000Z'
    data:
      status: open
    id: 646c532edb697c798a5cb0c9
    type: status-change
  author: c0d3r69
  created_at: 2023-05-23 04:46:22+00:00
  id: 646c532edb697c798a5cb0c9
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4b95a531a8f5b359f14cef4b04f773ea.svg
      fullname: Vasanth
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: vsns
      type: user
    createdAt: '2023-05-25T14:33:37.000Z'
    data:
      edited: false
      editors:
      - vsns
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4b95a531a8f5b359f14cef4b04f773ea.svg
          fullname: Vasanth
          isHf: false
          isPro: false
          name: vsns
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;c0d3r69&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/c0d3r69\">@<span class=\"\
          underline\">c0d3r69</span></a></span>\n\n\t</span></span> you can refer\
          \ my code snippet using langchain to give the context to mpt instruct in\
          \ <a href=\"https://huggingface.co/TheBloke/MPT-7B-Instruct-GGML/discussions/2#646b575d5d68f5c15a1e2a99\"\
          >https://huggingface.co/TheBloke/MPT-7B-Instruct-GGML/discussions/2#646b575d5d68f5c15a1e2a99</a></p>\n"
        raw: '@c0d3r69 you can refer my code snippet using langchain to give the context
          to mpt instruct in https://huggingface.co/TheBloke/MPT-7B-Instruct-GGML/discussions/2#646b575d5d68f5c15a1e2a99'
        updatedAt: '2023-05-25T14:33:37.275Z'
      numEdits: 0
      reactions: []
    id: 646f71c1bc42f4b0022e5d29
    type: comment
  author: vsns
  content: '@c0d3r69 you can refer my code snippet using langchain to give the context
    to mpt instruct in https://huggingface.co/TheBloke/MPT-7B-Instruct-GGML/discussions/2#646b575d5d68f5c15a1e2a99'
  created_at: 2023-05-25 13:33:37+00:00
  edited: false
  hidden: false
  id: 646f71c1bc42f4b0022e5d29
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-06-14T07:43:13.000Z'
    data:
      status: closed
    id: 64896f915851015fbe7c8903
    type: status-change
  author: sam-mosaic
  created_at: 2023-06-14 06:43:13+00:00
  id: 64896f915851015fbe7c8903
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7a563a2b4878296d8bcfff54aad63335.svg
      fullname: Baskar Jayaraman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beejay
      type: user
    createdAt: '2023-06-23T00:40:57.000Z'
    data:
      edited: false
      editors:
      - beejay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9215662479400635
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7a563a2b4878296d8bcfff54aad63335.svg
          fullname: Baskar Jayaraman
          isHf: false
          isPro: false
          name: beejay
          type: user
        html: '<p>I would like to try <a href="https://huggingface.co/spaces/mosaicml/mpt-7b-instruct">https://huggingface.co/spaces/mosaicml/mpt-7b-instruct</a>
          but getting 404 error</p>

          '
        raw: I would like to try https://huggingface.co/spaces/mosaicml/mpt-7b-instruct
          but getting 404 error
        updatedAt: '2023-06-23T00:40:57.446Z'
      numEdits: 0
      reactions: []
    id: 6494ea194fece55f5aaa79ad
    type: comment
  author: beejay
  content: I would like to try https://huggingface.co/spaces/mosaicml/mpt-7b-instruct
    but getting 404 error
  created_at: 2023-06-22 23:40:57+00:00
  edited: false
  hidden: false
  id: 6494ea194fece55f5aaa79ad
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7a563a2b4878296d8bcfff54aad63335.svg
      fullname: Baskar Jayaraman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beejay
      type: user
    createdAt: '2023-06-26T18:15:04.000Z'
    data:
      edited: true
      editors:
      - beejay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9487133622169495
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7a563a2b4878296d8bcfff54aad63335.svg
          fullname: Baskar Jayaraman
          isHf: false
          isPro: false
          name: beejay
          type: user
        html: "<blockquote>\n<p>I pulled a passage from a random wikipedia article\
          \ to test it and asked a question and got the right answer \xAF_(\u30C4\
          )_/\xAF </p>\n<p>my test query was as follows. There were examples like\
          \ this in the training data</p>\n<pre><code>Where and when was Vanadinite\
          \ discovered?\n\n### CONTEXT\nVanadinite is a mineral belonging to the apatite\
          \ group of phosphates, with the chemical formula Pb5(VO4)3Cl. It is one\
          \ of the main industrial ores of the metal vanadium and a minor source of\
          \ lead. A dense, brittle mineral, it is usually found in the form of red\
          \ hexagonal crystals. It is an uncommon mineral, formed by the oxidation\
          \ of lead ore deposits such as galena. First discovered in 1801 in Mexico,\
          \ vanadinite deposits have since been unearthed in South America, Europe,\
          \ Africa, and North America.\n\nOrigins\nVanadinite is an uncommon mineral,\
          \ only occurring as the result of chemical alterations to a pre-existing\
          \ material. It is therefore known as a secondary mineral. It is found in\
          \ arid climates and forms by oxidation of primary lead minerals. Vanadinite\
          \ is especially found in association with the lead sulfide, galena. Other\
          \ associated minerals include wulfenite, limonite, and barite.[3][5]\n\n\
          It was originally discovered in Mexico by the Spanish mineralogist Andr\xE9\
          s Manuel del R\xEDo in 1801. He called the mineral \"brown lead\" and asserted\
          \ that it contained a new element, which he first named pancromium and later,\
          \ erythronium. However, he was later led to believe that this was not a\
          \ new element but merely an impure form of chromium. In 1830, Nils Gabriel\
          \ Sefstr\xF6m discovered a new element, which he named vanadium. It was\
          \ later revealed that this was identical to the metal discovered earlier\
          \ by Andr\xE9s Manuel del R\xEDo. Del R\xEDo's \"brown lead\" was also rediscovered,\
          \ in 1838 in Zimapan, Hidalgo, Mexico, and was named vanadinite because\
          \ of its high vanadium content. Other names that have since been given to\
          \ vanadinite are johnstonite and lead vanadate.[6]\n\nOccurrence\nVanadinite\
          \ occurs as a secondary mineral in the oxidized zone of lead-bearing deposits,\
          \ the vanadium is leached from wall-rock silicates. Associated minerals\
          \ include mimetite, pyromorphite, descloizite, mottramite, wulfenite, cerussite,\
          \ anglesite, calcite, barite, and various iron oxide minerals.[4]\n\nDeposits\
          \ of vanadinite are found worldwide including Austria, Spain, Scotland,\
          \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico,\
          \ and 4 states of the United States: Arizona, Colorado, New Mexico, and\
          \ South Dakota.[3][5][7]\n\nVanadinite deposits are found in over 400 mines\
          \ across the world. Notable vanadinite mines include those at Mibladen and\
          \ Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra County,\
          \ New Mexico, and Gila County, Arizona, in the United States.[8]\n\nStructure\n\
          Vanadinite is a lead chlorovanadate with the chemical formula Pb5(VO4)3Cl.\
          \ It is composed (by weight) of 73.15% lead, 10.79% vanadium, 13.56% oxygen,\
          \ and 2.50% chlorine. Each structural unit of vanadinite contains a chlorine\
          \ ion surrounded by six divalent lead ions at the corners of a regular octahedron,\
          \ with one of the lead ions provided by an adjoining vanadinite molecule.\
          \ The distance between each lead and chlorine ion is 317 picometres. The\
          \ shortest distance between each lead ion is 4.48 \xC5. The octahedron shares\
          \ two of its opposite faces with that of neighbouring vanadinite units,\
          \ forming a continuous chain of octahedrons. Each vanadium atom is surrounded\
          \ by four oxygen atoms at the corners of an irregular tetrahedron. The distance\
          \ between each oxygen and vanadium atom is either 1.72 or 1.76 \xC5. Three\
          \ oxygen tetrahedrons adjoin each of the lead octahedrons along the chain.[2][9][10]\n\
          </code></pre>\n</blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;sam-mosaic&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/sam-mosaic\"\
          >@<span class=\"underline\">sam-mosaic</span></a></span>\n\n\t</span></span>\
          \ is it possible to share a more complete example of such code so we have\
          \ a working example of doing context-based Q&amp;A using MPT-7B-Instruct?</p>\n"
        raw: "> I pulled a passage from a random wikipedia article to test it and\
          \ asked a question and got the right answer \xAF\\_(\u30C4)_/\xAF \n> \n\
          > my test query was as follows. There were examples like this in the training\
          \ data\n> \n> ```\n> Where and when was Vanadinite discovered?\n> \n> ###\
          \ CONTEXT\n> Vanadinite is a mineral belonging to the apatite group of phosphates,\
          \ with the chemical formula Pb5(VO4)3Cl. It is one of the main industrial\
          \ ores of the metal vanadium and a minor source of lead. A dense, brittle\
          \ mineral, it is usually found in the form of red hexagonal crystals. It\
          \ is an uncommon mineral, formed by the oxidation of lead ore deposits such\
          \ as galena. First discovered in 1801 in Mexico, vanadinite deposits have\
          \ since been unearthed in South America, Europe, Africa, and North America.\n\
          > \n> Origins\n> Vanadinite is an uncommon mineral, only occurring as the\
          \ result of chemical alterations to a pre-existing material. It is therefore\
          \ known as a secondary mineral. It is found in arid climates and forms by\
          \ oxidation of primary lead minerals. Vanadinite is especially found in\
          \ association with the lead sulfide, galena. Other associated minerals include\
          \ wulfenite, limonite, and barite.[3][5]\n> \n> It was originally discovered\
          \ in Mexico by the Spanish mineralogist Andr\xE9s Manuel del R\xEDo in 1801.\
          \ He called the mineral \"brown lead\" and asserted that it contained a\
          \ new element, which he first named pancromium and later, erythronium. However,\
          \ he was later led to believe that this was not a new element but merely\
          \ an impure form of chromium. In 1830, Nils Gabriel Sefstr\xF6m discovered\
          \ a new element, which he named vanadium. It was later revealed that this\
          \ was identical to the metal discovered earlier by Andr\xE9s Manuel del\
          \ R\xEDo. Del R\xEDo's \"brown lead\" was also rediscovered, in 1838 in\
          \ Zimapan, Hidalgo, Mexico, and was named vanadinite because of its high\
          \ vanadium content. Other names that have since been given to vanadinite\
          \ are johnstonite and lead vanadate.[6]\n> \n> Occurrence\n> Vanadinite\
          \ occurs as a secondary mineral in the oxidized zone of lead-bearing deposits,\
          \ the vanadium is leached from wall-rock silicates. Associated minerals\
          \ include mimetite, pyromorphite, descloizite, mottramite, wulfenite, cerussite,\
          \ anglesite, calcite, barite, and various iron oxide minerals.[4]\n> \n\
          > Deposits of vanadinite are found worldwide including Austria, Spain, Scotland,\
          \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico,\
          \ and 4 states of the United States: Arizona, Colorado, New Mexico, and\
          \ South Dakota.[3][5][7]\n> \n> Vanadinite deposits are found in over 400\
          \ mines across the world. Notable vanadinite mines include those at Mibladen\
          \ and Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra\
          \ County, New Mexico, and Gila County, Arizona, in the United States.[8]\n\
          > \n> Structure\n> Vanadinite is a lead chlorovanadate with the chemical\
          \ formula Pb5(VO4)3Cl. It is composed (by weight) of 73.15% lead, 10.79%\
          \ vanadium, 13.56% oxygen, and 2.50% chlorine. Each structural unit of vanadinite\
          \ contains a chlorine ion surrounded by six divalent lead ions at the corners\
          \ of a regular octahedron, with one of the lead ions provided by an adjoining\
          \ vanadinite molecule. The distance between each lead and chlorine ion is\
          \ 317 picometres. The shortest distance between each lead ion is 4.48 \xC5\
          . The octahedron shares two of its opposite faces with that of neighbouring\
          \ vanadinite units, forming a continuous chain of octahedrons. Each vanadium\
          \ atom is surrounded by four oxygen atoms at the corners of an irregular\
          \ tetrahedron. The distance between each oxygen and vanadium atom is either\
          \ 1.72 or 1.76 \xC5. Three oxygen tetrahedrons adjoin each of the lead octahedrons\
          \ along the chain.[2][9][10]\n> ```\n\n@sam-mosaic is it possible to share\
          \ a more complete example of such code so we have a working example of doing\
          \ context-based Q&A using MPT-7B-Instruct?"
        updatedAt: '2023-06-26T18:15:47.731Z'
      numEdits: 1
      reactions: []
    id: 6499d5a8c6cf3cc95bad402f
    type: comment
  author: beejay
  content: "> I pulled a passage from a random wikipedia article to test it and asked\
    \ a question and got the right answer \xAF\\_(\u30C4)_/\xAF \n> \n> my test query\
    \ was as follows. There were examples like this in the training data\n> \n> ```\n\
    > Where and when was Vanadinite discovered?\n> \n> ### CONTEXT\n> Vanadinite is\
    \ a mineral belonging to the apatite group of phosphates, with the chemical formula\
    \ Pb5(VO4)3Cl. It is one of the main industrial ores of the metal vanadium and\
    \ a minor source of lead. A dense, brittle mineral, it is usually found in the\
    \ form of red hexagonal crystals. It is an uncommon mineral, formed by the oxidation\
    \ of lead ore deposits such as galena. First discovered in 1801 in Mexico, vanadinite\
    \ deposits have since been unearthed in South America, Europe, Africa, and North\
    \ America.\n> \n> Origins\n> Vanadinite is an uncommon mineral, only occurring\
    \ as the result of chemical alterations to a pre-existing material. It is therefore\
    \ known as a secondary mineral. It is found in arid climates and forms by oxidation\
    \ of primary lead minerals. Vanadinite is especially found in association with\
    \ the lead sulfide, galena. Other associated minerals include wulfenite, limonite,\
    \ and barite.[3][5]\n> \n> It was originally discovered in Mexico by the Spanish\
    \ mineralogist Andr\xE9s Manuel del R\xEDo in 1801. He called the mineral \"brown\
    \ lead\" and asserted that it contained a new element, which he first named pancromium\
    \ and later, erythronium. However, he was later led to believe that this was not\
    \ a new element but merely an impure form of chromium. In 1830, Nils Gabriel Sefstr\xF6\
    m discovered a new element, which he named vanadium. It was later revealed that\
    \ this was identical to the metal discovered earlier by Andr\xE9s Manuel del R\xED\
    o. Del R\xEDo's \"brown lead\" was also rediscovered, in 1838 in Zimapan, Hidalgo,\
    \ Mexico, and was named vanadinite because of its high vanadium content. Other\
    \ names that have since been given to vanadinite are johnstonite and lead vanadate.[6]\n\
    > \n> Occurrence\n> Vanadinite occurs as a secondary mineral in the oxidized zone\
    \ of lead-bearing deposits, the vanadium is leached from wall-rock silicates.\
    \ Associated minerals include mimetite, pyromorphite, descloizite, mottramite,\
    \ wulfenite, cerussite, anglesite, calcite, barite, and various iron oxide minerals.[4]\n\
    > \n> Deposits of vanadinite are found worldwide including Austria, Spain, Scotland,\
    \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico, and 4\
    \ states of the United States: Arizona, Colorado, New Mexico, and South Dakota.[3][5][7]\n\
    > \n> Vanadinite deposits are found in over 400 mines across the world. Notable\
    \ vanadinite mines include those at Mibladen and Touisset in Morocco; Tsumeb,\
    \ Namibia; Cordoba, Argentina; and Sierra County, New Mexico, and Gila County,\
    \ Arizona, in the United States.[8]\n> \n> Structure\n> Vanadinite is a lead chlorovanadate\
    \ with the chemical formula Pb5(VO4)3Cl. It is composed (by weight) of 73.15%\
    \ lead, 10.79% vanadium, 13.56% oxygen, and 2.50% chlorine. Each structural unit\
    \ of vanadinite contains a chlorine ion surrounded by six divalent lead ions at\
    \ the corners of a regular octahedron, with one of the lead ions provided by an\
    \ adjoining vanadinite molecule. The distance between each lead and chlorine ion\
    \ is 317 picometres. The shortest distance between each lead ion is 4.48 \xC5\
    . The octahedron shares two of its opposite faces with that of neighbouring vanadinite\
    \ units, forming a continuous chain of octahedrons. Each vanadium atom is surrounded\
    \ by four oxygen atoms at the corners of an irregular tetrahedron. The distance\
    \ between each oxygen and vanadium atom is either 1.72 or 1.76 \xC5. Three oxygen\
    \ tetrahedrons adjoin each of the lead octahedrons along the chain.[2][9][10]\n\
    > ```\n\n@sam-mosaic is it possible to share a more complete example of such code\
    \ so we have a working example of doing context-based Q&A using MPT-7B-Instruct?"
  created_at: 2023-06-26 17:15:04+00:00
  edited: true
  hidden: false
  id: 6499d5a8c6cf3cc95bad402f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
      fullname: Sam Havens
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sam-mosaic
      type: user
    createdAt: '2023-06-26T20:51:58.000Z'
    data:
      edited: false
      editors:
      - sam-mosaic
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8805375695228577
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1668560930781-noauth.png?w=200&h=200&f=face
          fullname: Sam Havens
          isHf: false
          isPro: false
          name: sam-mosaic
          type: user
        html: "<p>I use the <code>hf_chat.py</code> script in <code>llm-foundry</code>\
          \ to test these things. I will give an example, and also a python script\
          \ that should work.</p>\n<pre><code class=\"language-sh\"><span class=\"\
          hljs-built_in\">cd</span> llm-foundry/scripts/inference\n\npython hf_chat.py\
          \ -n mosaicml/mpt-7b-instruct --max_new_tokens 512 --top_k 100 --model_dtype\
          \ bf16 --trust_remote_code --attn_impl triton --device cuda:0 --system_prompt\
          \ <span class=\"hljs-string\">\"Below is an instruction that describes a\
          \ task. Write a response that appropriately completes the request.\\n\\\
          n\"</span> --user_msg_fmt <span class=\"hljs-string\">\"### Instruction:\\\
          n{}\"</span> --assistant_msg_fmt  <span class=\"hljs-string\">\"\\n\\n###\
          \ Response:\\n{}\"</span>\n</code></pre>\n<p>With the above invocation,\
          \ you can just paste in the instruction / QA / whatnot:</p>\n<pre><code\
          \ class=\"language-sh\">Starting conversation...\nEnter your message below.\n\
          - Hit <span class=\"hljs-built_in\">return</span> twice to send input to\
          \ the model\n- Type <span class=\"hljs-string\">'clear'</span> to restart\
          \ the conversation\n- Type <span class=\"hljs-string\">'history'</span>\
          \ to see the conversation\n- Type <span class=\"hljs-string\">'quit'</span>\
          \ to end\n- Type <span class=\"hljs-string\">'system'</span> to change the\
          \ system prompt\n\nUser:\nWhere and when was Vanadinite discovered?\n<span\
          \ class=\"hljs-comment\">### CONTEXT</span>\nVanadinite is a mineral belonging\
          \ to the apatite group of phosphates, with the chemical formula Pb5(VO4)3Cl.\
          \ It is one of the main industrial ores of the metal vanadium and a minor\
          \ <span class=\"hljs-built_in\">source</span> of lead. A dense, brittle\
          \ mineral, it is usually found <span class=\"hljs-keyword\">in</span> the\
          \ form of red hexagonal crystals. It is an uncommon mineral, formed by the\
          \ oxidation of lead ore deposits such as galena. First discovered <span\
          \ class=\"hljs-keyword\">in</span> 1801 <span class=\"hljs-keyword\">in</span>\
          \ Mexico, vanadinite deposits have since been unearthed <span class=\"hljs-keyword\"\
          >in</span> South America, Europe, Africa, and North America.\nOrigins\n\
          Vanadinite is an uncommon mineral, only occurring as the result of chemical\
          \ alterations to a pre-existing material. It is therefore known as a secondary\
          \ mineral. It is found <span class=\"hljs-keyword\">in</span> arid climates\
          \ and forms by oxidation of primary lead minerals. Vanadinite is especially\
          \ found <span class=\"hljs-keyword\">in</span> association with the lead\
          \ sulfide, galena. Other associated minerals include wulfenite, limonite,\
          \ and barite.[3][5]\nIt was originally discovered <span class=\"hljs-keyword\"\
          >in</span> Mexico by the Spanish mineralogist Andr\xE9s Manuel del R\xED\
          o <span class=\"hljs-keyword\">in</span> 1801. He called the mineral <span\
          \ class=\"hljs-string\">\"brown lead\"</span> and asserted that it contained\
          \ a new element, <span class=\"hljs-built_in\">which</span> he first named\
          \ pancromium and later, erythronium. However, he was later led to believe\
          \ that this was not a new element but merely an impure form of chromium.\
          \ In 1830, Nils Gabriel Sefstr\xF6m discovered a new element, <span class=\"\
          hljs-built_in\">which</span> he named vanadium. It was later revealed that\
          \ this was identical to the metal discovered earlier by Andr\xE9s Manuel\
          \ del R\xEDo. Del R\xEDo<span class=\"hljs-string\">'s \"brown lead\" was\
          \ also rediscovered, in 1838 in Zimapan, Hidalgo, Mexico, and was named\
          \ vanadinite because of its high vanadium content. Other names that have\
          \ since been given to vanadinite are johnstonite and lead vanadate.[6]</span>\n\
          <span class=\"hljs-string\">Occurrence</span>\n<span class=\"hljs-string\"\
          >Vanadinite occurs as a secondary mineral in the oxidized zone of lead-bearing\
          \ deposits, the vanadium is leached from wall-rock silicates. Associated\
          \ minerals include mimetite, pyromorphite, descloizite, mottramite, wulfenite,\
          \ cerussite, anglesite, calcite, barite, and various iron oxide minerals.[4]</span>\n\
          <span class=\"hljs-string\">Deposits of vanadinite are found worldwide including\
          \ Austria, Spain, Scotland, the Ural Mountains, South Africa, Namibia, Morocco,\
          \ Argentina, Mexico, and 4 states of the United States: Arizona, Colorado,\
          \ New Mexico, and South Dakota.[3][5][7]</span>\n<span class=\"hljs-string\"\
          >Vanadinite deposits are found in over 400 mines across the world. Notable\
          \ vanadinite mines include those at Mibladen and Touisset in Morocco; Tsumeb,\
          \ Namibia; Cordoba, Argentina; and Sierra County, New Mexico, and Gila County,\
          \ Arizona, in the United States.[8]</span>\n<span class=\"hljs-string\"\
          >Structure</span>\n<span class=\"hljs-string\">Vanadinite is a lead chlorovanadate\
          \ with the chemical formula Pb5(VO4)3Cl. It is composed (by weight) of 73.15%\
          \ lead, 10.79% vanadium, 13.56% oxygen, and 2.50% chlorine. Each structural\
          \ unit of vanadinite contains a chlorine ion surrounded by six divalent\
          \ lead ions at the corners of a regular octahedron, with one of the lead\
          \ ions provided by an adjoining vanadinite molecule. The distance between\
          \ each lead and chlorine ion is 317 picometres. The shortest distance between\
          \ each lead ion is 4.48 \xC5. The octahedron shares two of its opposite\
          \ faces with that of neighbouring vanadinite units, forming a continuous\
          \ chain of octahedrons. Each vanadium atom is surrounded by four oxygen\
          \ atoms at the corners of an irregular tetrahedron. The distance between\
          \ each oxygen and vanadium atom is either 1.72 or 1.76 \xC5. Three oxygen\
          \ tetrahedrons adjoin each of the lead octahedrons along the chain.[2][9][10]</span>\n\
          <span class=\"hljs-string\"></span>\n<span class=\"hljs-string\">Assistant:</span>\n\
          <span class=\"hljs-string\">Vanadinite was discovered by the Spanish mineralogist\
          \ Andr\xE9s Manuel del R\xEDo in the Mexican state of Hidalgo in 1801.</span>\n\
          <span class=\"hljs-string\">took 0.62 seconds</span>\n</code></pre>\n<pre><code\
          \ class=\"language-python\"><span class=\"hljs-keyword\">import</span> torch\n\
          <span class=\"hljs-keyword\">import</span> transformers\n\nname = <span\
          \ class=\"hljs-string\">'mosaicml/mpt-7b-instruct'</span>\n\nconfig = transformers.AutoConfig.from_pretrained(name,\
          \ trust_remote_code=<span class=\"hljs-literal\">True</span>)\nconfig.attn_config[<span\
          \ class=\"hljs-string\">'attn_impl'</span>] = <span class=\"hljs-string\"\
          >'triton'</span>\nconfig.init_device = <span class=\"hljs-string\">'cuda:0'</span>\
          \ <span class=\"hljs-comment\"># For fast initialization directly on GPU!</span>\n\
          \nmodel = transformers.AutoModelForCausalLM.from_pretrained(\n  name,\n\
          \  config=config,\n  torch_dtype=torch.bfloat16, <span class=\"hljs-comment\"\
          ># Load model weights in bfloat16</span>\n  trust_remote_code=<span class=\"\
          hljs-literal\">True</span>\n)\n\ntokenizer = transformers.AutoTokenizer.from_pretrained(name)\n\
          \nINSTRUCTION_KEY = <span class=\"hljs-string\">\"### Instruction:\"</span>\n\
          RESPONSE_KEY = <span class=\"hljs-string\">\"### Response:\"</span>\nINTRO_BLURB\
          \ = <span class=\"hljs-string\">\"Below is an instruction that describes\
          \ a task. Write a response that appropriately completes the request.\"</span>\n\
          PROMPT_FOR_GENERATION_FORMAT = <span class=\"hljs-string\">\"\"\"{intro}</span>\n\
          <span class=\"hljs-string\">{instruction_key}</span>\n<span class=\"hljs-string\"\
          >{instruction}</span>\n<span class=\"hljs-string\">{response_key}</span>\n\
          <span class=\"hljs-string\">\"\"\"</span>.<span class=\"hljs-built_in\"\
          >format</span>(\n    intro=INTRO_BLURB,\n    instruction_key=INSTRUCTION_KEY,\n\
          \    instruction=<span class=\"hljs-string\">\"{instruction}\"</span>,\n\
          \    response_key=RESPONSE_KEY,\n)\n\nexample = <span class=\"hljs-string\"\
          >\"Where and when was Vanadinite discovered?\\n\\n...(the rest of the example\
          \ I posted)...\"</span>\nfmt_ex = PROMPT_FOR_GENERATION_FORMAT.<span class=\"\
          hljs-built_in\">format</span>(instruction=example)\n\ninput_ids = tokenizer(fmt_ex,\
          \ return_tensors=<span class=\"hljs-string\">\"pt\"</span>).input_ids\n\
          input_ids = input_ids.to(model.device)\n\nresponse = model.generate(input_ids=input_ids,\
          \ max_new_tokens=<span class=\"hljs-number\">512</span>, top_p=<span class=\"\
          hljs-number\">0.92</span>)\n</code></pre>\n"
        raw: "I use the `hf_chat.py` script in `llm-foundry` to test these things.\
          \ I will give an example, and also a python script that should work.\n\n\
          ```sh\ncd llm-foundry/scripts/inference\n\npython hf_chat.py -n mosaicml/mpt-7b-instruct\
          \ --max_new_tokens 512 --top_k 100 --model_dtype bf16 --trust_remote_code\
          \ --attn_impl triton --device cuda:0 --system_prompt \"Below is an instruction\
          \ that describes a task. Write a response that appropriately completes the\
          \ request.\\n\\n\" --user_msg_fmt \"### Instruction:\\n{}\" --assistant_msg_fmt\
          \  \"\\n\\n### Response:\\n{}\"\n```\n\nWith the above invocation, you can\
          \ just paste in the instruction / QA / whatnot:\n\n```sh\nStarting conversation...\n\
          Enter your message below.\n- Hit return twice to send input to the model\n\
          - Type 'clear' to restart the conversation\n- Type 'history' to see the\
          \ conversation\n- Type 'quit' to end\n- Type 'system' to change the system\
          \ prompt\n\nUser:\nWhere and when was Vanadinite discovered?\n### CONTEXT\n\
          Vanadinite is a mineral belonging to the apatite group of phosphates, with\
          \ the chemical formula Pb5(VO4)3Cl. It is one of the main industrial ores\
          \ of the metal vanadium and a minor source of lead. A dense, brittle mineral,\
          \ it is usually found in the form of red hexagonal crystals. It is an uncommon\
          \ mineral, formed by the oxidation of lead ore deposits such as galena.\
          \ First discovered in 1801 in Mexico, vanadinite deposits have since been\
          \ unearthed in South America, Europe, Africa, and North America.\nOrigins\n\
          Vanadinite is an uncommon mineral, only occurring as the result of chemical\
          \ alterations to a pre-existing material. It is therefore known as a secondary\
          \ mineral. It is found in arid climates and forms by oxidation of primary\
          \ lead minerals. Vanadinite is especially found in association with the\
          \ lead sulfide, galena. Other associated minerals include wulfenite, limonite,\
          \ and barite.[3][5]\nIt was originally discovered in Mexico by the Spanish\
          \ mineralogist Andr\xE9s Manuel del R\xEDo in 1801. He called the mineral\
          \ \"brown lead\" and asserted that it contained a new element, which he\
          \ first named pancromium and later, erythronium. However, he was later led\
          \ to believe that this was not a new element but merely an impure form of\
          \ chromium. In 1830, Nils Gabriel Sefstr\xF6m discovered a new element,\
          \ which he named vanadium. It was later revealed that this was identical\
          \ to the metal discovered earlier by Andr\xE9s Manuel del R\xEDo. Del R\xED\
          o's \"brown lead\" was also rediscovered, in 1838 in Zimapan, Hidalgo, Mexico,\
          \ and was named vanadinite because of its high vanadium content. Other names\
          \ that have since been given to vanadinite are johnstonite and lead vanadate.[6]\n\
          Occurrence\nVanadinite occurs as a secondary mineral in the oxidized zone\
          \ of lead-bearing deposits, the vanadium is leached from wall-rock silicates.\
          \ Associated minerals include mimetite, pyromorphite, descloizite, mottramite,\
          \ wulfenite, cerussite, anglesite, calcite, barite, and various iron oxide\
          \ minerals.[4]\nDeposits of vanadinite are found worldwide including Austria,\
          \ Spain, Scotland, the Ural Mountains, South Africa, Namibia, Morocco, Argentina,\
          \ Mexico, and 4 states of the United States: Arizona, Colorado, New Mexico,\
          \ and South Dakota.[3][5][7]\nVanadinite deposits are found in over 400\
          \ mines across the world. Notable vanadinite mines include those at Mibladen\
          \ and Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra\
          \ County, New Mexico, and Gila County, Arizona, in the United States.[8]\n\
          Structure\nVanadinite is a lead chlorovanadate with the chemical formula\
          \ Pb5(VO4)3Cl. It is composed (by weight) of 73.15% lead, 10.79% vanadium,\
          \ 13.56% oxygen, and 2.50% chlorine. Each structural unit of vanadinite\
          \ contains a chlorine ion surrounded by six divalent lead ions at the corners\
          \ of a regular octahedron, with one of the lead ions provided by an adjoining\
          \ vanadinite molecule. The distance between each lead and chlorine ion is\
          \ 317 picometres. The shortest distance between each lead ion is 4.48 \xC5\
          . The octahedron shares two of its opposite faces with that of neighbouring\
          \ vanadinite units, forming a continuous chain of octahedrons. Each vanadium\
          \ atom is surrounded by four oxygen atoms at the corners of an irregular\
          \ tetrahedron. The distance between each oxygen and vanadium atom is either\
          \ 1.72 or 1.76 \xC5. Three oxygen tetrahedrons adjoin each of the lead octahedrons\
          \ along the chain.[2][9][10]\n\nAssistant:\nVanadinite was discovered by\
          \ the Spanish mineralogist Andr\xE9s Manuel del R\xEDo in the Mexican state\
          \ of Hidalgo in 1801.\ntook 0.62 seconds\n```\n\n```python\nimport torch\n\
          import transformers\n\nname = 'mosaicml/mpt-7b-instruct'\n\nconfig = transformers.AutoConfig.from_pretrained(name,\
          \ trust_remote_code=True)\nconfig.attn_config['attn_impl'] = 'triton'\n\
          config.init_device = 'cuda:0' # For fast initialization directly on GPU!\n\
          \nmodel = transformers.AutoModelForCausalLM.from_pretrained(\n  name,\n\
          \  config=config,\n  torch_dtype=torch.bfloat16, # Load model weights in\
          \ bfloat16\n  trust_remote_code=True\n)\n\ntokenizer = transformers.AutoTokenizer.from_pretrained(name)\n\
          \nINSTRUCTION_KEY = \"### Instruction:\"\nRESPONSE_KEY = \"### Response:\"\
          \nINTRO_BLURB = \"Below is an instruction that describes a task. Write a\
          \ response that appropriately completes the request.\"\nPROMPT_FOR_GENERATION_FORMAT\
          \ = \"\"\"{intro}\n{instruction_key}\n{instruction}\n{response_key}\n\"\"\
          \".format(\n    intro=INTRO_BLURB,\n    instruction_key=INSTRUCTION_KEY,\n\
          \    instruction=\"{instruction}\",\n    response_key=RESPONSE_KEY,\n)\n\
          \nexample = \"Where and when was Vanadinite discovered?\\n\\n...(the rest\
          \ of the example I posted)...\"\nfmt_ex = PROMPT_FOR_GENERATION_FORMAT.format(instruction=example)\n\
          \ninput_ids = tokenizer(fmt_ex, return_tensors=\"pt\").input_ids\ninput_ids\
          \ = input_ids.to(model.device)\n\nresponse = model.generate(input_ids=input_ids,\
          \ max_new_tokens=512, top_p=0.92)\n```"
        updatedAt: '2023-06-26T20:51:58.142Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F917"
        users:
        - beejay
      - count: 1
        reaction: "\U0001F44D"
        users:
        - cvesel
    id: 6499fa6e0695bc694e232eeb
    type: comment
  author: sam-mosaic
  content: "I use the `hf_chat.py` script in `llm-foundry` to test these things. I\
    \ will give an example, and also a python script that should work.\n\n```sh\n\
    cd llm-foundry/scripts/inference\n\npython hf_chat.py -n mosaicml/mpt-7b-instruct\
    \ --max_new_tokens 512 --top_k 100 --model_dtype bf16 --trust_remote_code --attn_impl\
    \ triton --device cuda:0 --system_prompt \"Below is an instruction that describes\
    \ a task. Write a response that appropriately completes the request.\\n\\n\" --user_msg_fmt\
    \ \"### Instruction:\\n{}\" --assistant_msg_fmt  \"\\n\\n### Response:\\n{}\"\n\
    ```\n\nWith the above invocation, you can just paste in the instruction / QA /\
    \ whatnot:\n\n```sh\nStarting conversation...\nEnter your message below.\n- Hit\
    \ return twice to send input to the model\n- Type 'clear' to restart the conversation\n\
    - Type 'history' to see the conversation\n- Type 'quit' to end\n- Type 'system'\
    \ to change the system prompt\n\nUser:\nWhere and when was Vanadinite discovered?\n\
    ### CONTEXT\nVanadinite is a mineral belonging to the apatite group of phosphates,\
    \ with the chemical formula Pb5(VO4)3Cl. It is one of the main industrial ores\
    \ of the metal vanadium and a minor source of lead. A dense, brittle mineral,\
    \ it is usually found in the form of red hexagonal crystals. It is an uncommon\
    \ mineral, formed by the oxidation of lead ore deposits such as galena. First\
    \ discovered in 1801 in Mexico, vanadinite deposits have since been unearthed\
    \ in South America, Europe, Africa, and North America.\nOrigins\nVanadinite is\
    \ an uncommon mineral, only occurring as the result of chemical alterations to\
    \ a pre-existing material. It is therefore known as a secondary mineral. It is\
    \ found in arid climates and forms by oxidation of primary lead minerals. Vanadinite\
    \ is especially found in association with the lead sulfide, galena. Other associated\
    \ minerals include wulfenite, limonite, and barite.[3][5]\nIt was originally discovered\
    \ in Mexico by the Spanish mineralogist Andr\xE9s Manuel del R\xEDo in 1801. He\
    \ called the mineral \"brown lead\" and asserted that it contained a new element,\
    \ which he first named pancromium and later, erythronium. However, he was later\
    \ led to believe that this was not a new element but merely an impure form of\
    \ chromium. In 1830, Nils Gabriel Sefstr\xF6m discovered a new element, which\
    \ he named vanadium. It was later revealed that this was identical to the metal\
    \ discovered earlier by Andr\xE9s Manuel del R\xEDo. Del R\xEDo's \"brown lead\"\
    \ was also rediscovered, in 1838 in Zimapan, Hidalgo, Mexico, and was named vanadinite\
    \ because of its high vanadium content. Other names that have since been given\
    \ to vanadinite are johnstonite and lead vanadate.[6]\nOccurrence\nVanadinite\
    \ occurs as a secondary mineral in the oxidized zone of lead-bearing deposits,\
    \ the vanadium is leached from wall-rock silicates. Associated minerals include\
    \ mimetite, pyromorphite, descloizite, mottramite, wulfenite, cerussite, anglesite,\
    \ calcite, barite, and various iron oxide minerals.[4]\nDeposits of vanadinite\
    \ are found worldwide including Austria, Spain, Scotland, the Ural Mountains,\
    \ South Africa, Namibia, Morocco, Argentina, Mexico, and 4 states of the United\
    \ States: Arizona, Colorado, New Mexico, and South Dakota.[3][5][7]\nVanadinite\
    \ deposits are found in over 400 mines across the world. Notable vanadinite mines\
    \ include those at Mibladen and Touisset in Morocco; Tsumeb, Namibia; Cordoba,\
    \ Argentina; and Sierra County, New Mexico, and Gila County, Arizona, in the United\
    \ States.[8]\nStructure\nVanadinite is a lead chlorovanadate with the chemical\
    \ formula Pb5(VO4)3Cl. It is composed (by weight) of 73.15% lead, 10.79% vanadium,\
    \ 13.56% oxygen, and 2.50% chlorine. Each structural unit of vanadinite contains\
    \ a chlorine ion surrounded by six divalent lead ions at the corners of a regular\
    \ octahedron, with one of the lead ions provided by an adjoining vanadinite molecule.\
    \ The distance between each lead and chlorine ion is 317 picometres. The shortest\
    \ distance between each lead ion is 4.48 \xC5. The octahedron shares two of its\
    \ opposite faces with that of neighbouring vanadinite units, forming a continuous\
    \ chain of octahedrons. Each vanadium atom is surrounded by four oxygen atoms\
    \ at the corners of an irregular tetrahedron. The distance between each oxygen\
    \ and vanadium atom is either 1.72 or 1.76 \xC5. Three oxygen tetrahedrons adjoin\
    \ each of the lead octahedrons along the chain.[2][9][10]\n\nAssistant:\nVanadinite\
    \ was discovered by the Spanish mineralogist Andr\xE9s Manuel del R\xEDo in the\
    \ Mexican state of Hidalgo in 1801.\ntook 0.62 seconds\n```\n\n```python\nimport\
    \ torch\nimport transformers\n\nname = 'mosaicml/mpt-7b-instruct'\n\nconfig =\
    \ transformers.AutoConfig.from_pretrained(name, trust_remote_code=True)\nconfig.attn_config['attn_impl']\
    \ = 'triton'\nconfig.init_device = 'cuda:0' # For fast initialization directly\
    \ on GPU!\n\nmodel = transformers.AutoModelForCausalLM.from_pretrained(\n  name,\n\
    \  config=config,\n  torch_dtype=torch.bfloat16, # Load model weights in bfloat16\n\
    \  trust_remote_code=True\n)\n\ntokenizer = transformers.AutoTokenizer.from_pretrained(name)\n\
    \nINSTRUCTION_KEY = \"### Instruction:\"\nRESPONSE_KEY = \"### Response:\"\nINTRO_BLURB\
    \ = \"Below is an instruction that describes a task. Write a response that appropriately\
    \ completes the request.\"\nPROMPT_FOR_GENERATION_FORMAT = \"\"\"{intro}\n{instruction_key}\n\
    {instruction}\n{response_key}\n\"\"\".format(\n    intro=INTRO_BLURB,\n    instruction_key=INSTRUCTION_KEY,\n\
    \    instruction=\"{instruction}\",\n    response_key=RESPONSE_KEY,\n)\n\nexample\
    \ = \"Where and when was Vanadinite discovered?\\n\\n...(the rest of the example\
    \ I posted)...\"\nfmt_ex = PROMPT_FOR_GENERATION_FORMAT.format(instruction=example)\n\
    \ninput_ids = tokenizer(fmt_ex, return_tensors=\"pt\").input_ids\ninput_ids =\
    \ input_ids.to(model.device)\n\nresponse = model.generate(input_ids=input_ids,\
    \ max_new_tokens=512, top_p=0.92)\n```"
  created_at: 2023-06-26 19:51:58+00:00
  edited: false
  hidden: false
  id: 6499fa6e0695bc694e232eeb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7a563a2b4878296d8bcfff54aad63335.svg
      fullname: Baskar Jayaraman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beejay
      type: user
    createdAt: '2023-06-29T00:21:27.000Z'
    data:
      edited: false
      editors:
      - beejay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9558901786804199
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7a563a2b4878296d8bcfff54aad63335.svg
          fullname: Baskar Jayaraman
          isHf: false
          isPro: false
          name: beejay
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sam-mosaic&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/sam-mosaic\">@<span class=\"\
          underline\">sam-mosaic</span></a></span>\n\n\t</span></span> Thanks for\
          \ sharing the above. I am able to reproduce the results. I do however have\
          \ an issue: If I ask an out-of-context question, with everything else remaining\
          \ as you shared, I see the model hallucinating and producing non-sensical\
          \ response as follows. Any ideas that you can share to prevent this from\
          \ happening? I tried with different intro blurbs pretty much asking the\
          \ model to \"find the answer in the given context and if no answer say no\"\
          \ but I was not successful.</p>\n<p>User:<br>what did the president say\
          \ about ketanji brown jackson?</p>\n<h3 id=\"context\">CONTEXT</h3>\n<p>Vanadinite\
          \ is a mineral belonging to the apatite group of phosphates, with the chemical\
          \ formula Pb5(VO4)3Cl. It is one of the main industrial ores of the metal\
          \ vanadium and a minor source of lead. A dense, brittle mineral, it is usually\
          \ found in the form of red hexagonal crystals. It is an uncommon mineral,\
          \ formed by the oxidation of lead ore deposits such as galena. First discovered\
          \ in 1801 in Mexico, vanadinite deposits have since been unearthed in South\
          \ America, Europe, Africa, and North America.<br>Origins<br>Vanadinite is\
          \ an uncommon mineral, only occurring as the result of chemical alterations\
          \ to a pre-existing material. It is therefore known as a secondary mineral.\
          \ It is found in arid climates and forms by oxidation of primary lead minerals.\
          \ Vanadinite is especially found in association with the lead sulfide, galena.\
          \ Other associated minerals include wulfenite, limonite, and barite.[3][5]<br>It\
          \ was originally discovered in Mexico by the Spanish mineralogist Andr\xE9\
          s Manuel del R\xEDo in 1801. He called the mineral \"brown lead\" and asserted\
          \ that it contained a new element, which he first named pancromium and later,\
          \ erythronium. However, he was later led to believe that this was not a\
          \ new element but merely an impure form of chromium. In 1830, Nils Gabriel\
          \ Sefstr\xF6m discovered a new element, which he named vanadium. It was\
          \ later revealed that this was identical to the metal discovered earlier\
          \ by Andr\xE9s Manuel del R\xEDo. Del R\xEDo's \"brown lead\" was also rediscovered,\
          \ in 1838 in Zimapan, Hidalgo, Mexico, and was named vanadinite because\
          \ of its high vanadium content. Other names that have since been given to\
          \ vanadinite are johnstonite and lead vanadate.[6]<br>Occurrence<br>Vanadinite\
          \ occurs as a secondary mineral in the oxidized zone of lead-bearing deposits,\
          \ the vanadium is leached from wall-rock silicates. Associated minerals\
          \ include mimetite, pyromorphite, descloizite, mottramite, wulfenite, cerussite,\
          \ anglesite, calcite, barite, and various iron oxide minerals.[4]<br>Deposits\
          \ of vanadinite are found worldwide including Austria, Spain, Scotland,\
          \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico,\
          \ and 4 states of the United States: Arizona, Colorado, New Mexico, and\
          \ South Dakota.[3][5][7]<br>Vanadinite deposits are found in over 400 mines\
          \ across the world. Notable vanadinite mines include those at Mibladen and\
          \ Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra County,\
          \ New Mexico, and Gila County, Arizona, in the United States.[8]<br>Structure<br>Vanadinite\
          \ is a lead chlorovanadate with the chemical formula Pb5(VO4)3Cl. It is\
          \ composed (by weight) of 73.15% lead, 10.79% vanadium, 13.56% oxygen, and\
          \ 2.50% chlorine. Each structural unit of vanadinite contains a chlorine\
          \ ion surrounded by six divalent lead ions at the corners of a regular octahedron,\
          \ with one of the lead ions provided by an adjoining vanadinite molecule.\
          \ The distance between each lead and chlorine ion is 317 picometres. The\
          \ shortest distance between each lead ion is 4.48 \xC5. The octahedron shares\
          \ two of its opposite faces with that of neighbouring vanadinite units,\
          \ forming a continuous chain of octahedrons. Each vanadium atom is surrounded\
          \ by four oxygen atoms at the corners of an irregular tetrahedron. The distance\
          \ between each oxygen and vanadium atom is either 1.72 or 1.76 \xC5. Three\
          \ oxygen tetrahedrons adjoin each of the lead octahedrons along the chain.[2][9][10]</p>\n\
          <p>Assistant:<br>The president said that Ketanji is his wing woman and has\
          \ his back. The president also supports Ketanji's Supreme Court nomination.</p>\n"
        raw: "@sam-mosaic Thanks for sharing the above. I am able to reproduce the\
          \ results. I do however have an issue: If I ask an out-of-context question,\
          \ with everything else remaining as you shared, I see the model hallucinating\
          \ and producing non-sensical response as follows. Any ideas that you can\
          \ share to prevent this from happening? I tried with different intro blurbs\
          \ pretty much asking the model to \"find the answer in the given context\
          \ and if no answer say no\" but I was not successful.\n\nUser:\nwhat did\
          \ the president say about ketanji brown jackson?\n### CONTEXT\nVanadinite\
          \ is a mineral belonging to the apatite group of phosphates, with the chemical\
          \ formula Pb5(VO4)3Cl. It is one of the main industrial ores of the metal\
          \ vanadium and a minor source of lead. A dense, brittle mineral, it is usually\
          \ found in the form of red hexagonal crystals. It is an uncommon mineral,\
          \ formed by the oxidation of lead ore deposits such as galena. First discovered\
          \ in 1801 in Mexico, vanadinite deposits have since been unearthed in South\
          \ America, Europe, Africa, and North America.\nOrigins\nVanadinite is an\
          \ uncommon mineral, only occurring as the result of chemical alterations\
          \ to a pre-existing material. It is therefore known as a secondary mineral.\
          \ It is found in arid climates and forms by oxidation of primary lead minerals.\
          \ Vanadinite is especially found in association with the lead sulfide, galena.\
          \ Other associated minerals include wulfenite, limonite, and barite.[3][5]\n\
          It was originally discovered in Mexico by the Spanish mineralogist Andr\xE9\
          s Manuel del R\xEDo in 1801. He called the mineral \"brown lead\" and asserted\
          \ that it contained a new element, which he first named pancromium and later,\
          \ erythronium. However, he was later led to believe that this was not a\
          \ new element but merely an impure form of chromium. In 1830, Nils Gabriel\
          \ Sefstr\xF6m discovered a new element, which he named vanadium. It was\
          \ later revealed that this was identical to the metal discovered earlier\
          \ by Andr\xE9s Manuel del R\xEDo. Del R\xEDo's \"brown lead\" was also rediscovered,\
          \ in 1838 in Zimapan, Hidalgo, Mexico, and was named vanadinite because\
          \ of its high vanadium content. Other names that have since been given to\
          \ vanadinite are johnstonite and lead vanadate.[6]\nOccurrence\nVanadinite\
          \ occurs as a secondary mineral in the oxidized zone of lead-bearing deposits,\
          \ the vanadium is leached from wall-rock silicates. Associated minerals\
          \ include mimetite, pyromorphite, descloizite, mottramite, wulfenite, cerussite,\
          \ anglesite, calcite, barite, and various iron oxide minerals.[4]\nDeposits\
          \ of vanadinite are found worldwide including Austria, Spain, Scotland,\
          \ the Ural Mountains, South Africa, Namibia, Morocco, Argentina, Mexico,\
          \ and 4 states of the United States: Arizona, Colorado, New Mexico, and\
          \ South Dakota.[3][5][7]\nVanadinite deposits are found in over 400 mines\
          \ across the world. Notable vanadinite mines include those at Mibladen and\
          \ Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra County,\
          \ New Mexico, and Gila County, Arizona, in the United States.[8]\nStructure\n\
          Vanadinite is a lead chlorovanadate with the chemical formula Pb5(VO4)3Cl.\
          \ It is composed (by weight) of 73.15% lead, 10.79% vanadium, 13.56% oxygen,\
          \ and 2.50% chlorine. Each structural unit of vanadinite contains a chlorine\
          \ ion surrounded by six divalent lead ions at the corners of a regular octahedron,\
          \ with one of the lead ions provided by an adjoining vanadinite molecule.\
          \ The distance between each lead and chlorine ion is 317 picometres. The\
          \ shortest distance between each lead ion is 4.48 \xC5. The octahedron shares\
          \ two of its opposite faces with that of neighbouring vanadinite units,\
          \ forming a continuous chain of octahedrons. Each vanadium atom is surrounded\
          \ by four oxygen atoms at the corners of an irregular tetrahedron. The distance\
          \ between each oxygen and vanadium atom is either 1.72 or 1.76 \xC5. Three\
          \ oxygen tetrahedrons adjoin each of the lead octahedrons along the chain.[2][9][10]\n\
          \nAssistant:\nThe president said that Ketanji is his wing woman and has\
          \ his back. The president also supports Ketanji's Supreme Court nomination.\n"
        updatedAt: '2023-06-29T00:21:27.008Z'
      numEdits: 0
      reactions: []
    id: 649cce87c6ba331e1a5a8052
    type: comment
  author: beejay
  content: "@sam-mosaic Thanks for sharing the above. I am able to reproduce the results.\
    \ I do however have an issue: If I ask an out-of-context question, with everything\
    \ else remaining as you shared, I see the model hallucinating and producing non-sensical\
    \ response as follows. Any ideas that you can share to prevent this from happening?\
    \ I tried with different intro blurbs pretty much asking the model to \"find the\
    \ answer in the given context and if no answer say no\" but I was not successful.\n\
    \nUser:\nwhat did the president say about ketanji brown jackson?\n### CONTEXT\n\
    Vanadinite is a mineral belonging to the apatite group of phosphates, with the\
    \ chemical formula Pb5(VO4)3Cl. It is one of the main industrial ores of the metal\
    \ vanadium and a minor source of lead. A dense, brittle mineral, it is usually\
    \ found in the form of red hexagonal crystals. It is an uncommon mineral, formed\
    \ by the oxidation of lead ore deposits such as galena. First discovered in 1801\
    \ in Mexico, vanadinite deposits have since been unearthed in South America, Europe,\
    \ Africa, and North America.\nOrigins\nVanadinite is an uncommon mineral, only\
    \ occurring as the result of chemical alterations to a pre-existing material.\
    \ It is therefore known as a secondary mineral. It is found in arid climates and\
    \ forms by oxidation of primary lead minerals. Vanadinite is especially found\
    \ in association with the lead sulfide, galena. Other associated minerals include\
    \ wulfenite, limonite, and barite.[3][5]\nIt was originally discovered in Mexico\
    \ by the Spanish mineralogist Andr\xE9s Manuel del R\xEDo in 1801. He called the\
    \ mineral \"brown lead\" and asserted that it contained a new element, which he\
    \ first named pancromium and later, erythronium. However, he was later led to\
    \ believe that this was not a new element but merely an impure form of chromium.\
    \ In 1830, Nils Gabriel Sefstr\xF6m discovered a new element, which he named vanadium.\
    \ It was later revealed that this was identical to the metal discovered earlier\
    \ by Andr\xE9s Manuel del R\xEDo. Del R\xEDo's \"brown lead\" was also rediscovered,\
    \ in 1838 in Zimapan, Hidalgo, Mexico, and was named vanadinite because of its\
    \ high vanadium content. Other names that have since been given to vanadinite\
    \ are johnstonite and lead vanadate.[6]\nOccurrence\nVanadinite occurs as a secondary\
    \ mineral in the oxidized zone of lead-bearing deposits, the vanadium is leached\
    \ from wall-rock silicates. Associated minerals include mimetite, pyromorphite,\
    \ descloizite, mottramite, wulfenite, cerussite, anglesite, calcite, barite, and\
    \ various iron oxide minerals.[4]\nDeposits of vanadinite are found worldwide\
    \ including Austria, Spain, Scotland, the Ural Mountains, South Africa, Namibia,\
    \ Morocco, Argentina, Mexico, and 4 states of the United States: Arizona, Colorado,\
    \ New Mexico, and South Dakota.[3][5][7]\nVanadinite deposits are found in over\
    \ 400 mines across the world. Notable vanadinite mines include those at Mibladen\
    \ and Touisset in Morocco; Tsumeb, Namibia; Cordoba, Argentina; and Sierra County,\
    \ New Mexico, and Gila County, Arizona, in the United States.[8]\nStructure\n\
    Vanadinite is a lead chlorovanadate with the chemical formula Pb5(VO4)3Cl. It\
    \ is composed (by weight) of 73.15% lead, 10.79% vanadium, 13.56% oxygen, and\
    \ 2.50% chlorine. Each structural unit of vanadinite contains a chlorine ion surrounded\
    \ by six divalent lead ions at the corners of a regular octahedron, with one of\
    \ the lead ions provided by an adjoining vanadinite molecule. The distance between\
    \ each lead and chlorine ion is 317 picometres. The shortest distance between\
    \ each lead ion is 4.48 \xC5. The octahedron shares two of its opposite faces\
    \ with that of neighbouring vanadinite units, forming a continuous chain of octahedrons.\
    \ Each vanadium atom is surrounded by four oxygen atoms at the corners of an irregular\
    \ tetrahedron. The distance between each oxygen and vanadium atom is either 1.72\
    \ or 1.76 \xC5. Three oxygen tetrahedrons adjoin each of the lead octahedrons\
    \ along the chain.[2][9][10]\n\nAssistant:\nThe president said that Ketanji is\
    \ his wing woman and has his back. The president also supports Ketanji's Supreme\
    \ Court nomination.\n"
  created_at: 2023-06-28 23:21:27+00:00
  edited: false
  hidden: false
  id: 649cce87c6ba331e1a5a8052
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 32
repo_id: mosaicml/mpt-7b
repo_type: model
status: closed
target_branch: null
title: Ability to have Question Answering with the context
