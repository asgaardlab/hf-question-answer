!!python/object:huggingface_hub.community.DiscussionWithDetails
author: private-langsource
conflicting_files: null
created_at: 2023-05-07 18:03:31+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1602749145447-5f880061ee5616341bc51e50.jpeg?w=200&h=200&f=face
      fullname: Private Langsource
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: private-langsource
      type: user
    createdAt: '2023-05-07T19:03:31.000Z'
    data:
      edited: false
      editors:
      - private-langsource
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1602749145447-5f880061ee5616341bc51e50.jpeg?w=200&h=200&f=face
          fullname: Private Langsource
          isHf: false
          isPro: false
          name: private-langsource
          type: user
        html: '<p>I am trying to produce a transcription for audio file downloaded
          from YouTube.<br>The resulting transcription is mostly an English translation
          of what the audio was about.</p>

          <p>Using the following code:</p>

          <p>import torch<br>from transformers import pipeline</p>

          <p>audio_input = ''XXXX.m4a''</p>

          <p>device = "cuda:0" if torch.cuda.is_available() else "cpu"</p>

          <p>pipe = pipeline(<br>  "automatic-speech-recognition",<br>  model="openai/whisper-medium",<br>  chunk_length_s=30,<br>  device=device,<br>  generate_kwargs
          = {"task":"transcribe", "language":"&lt;|pl|&gt;"}<br>)</p>

          <p>prediction = pipe(audio_input, batch_size=8, return_timestamps=False)</p>

          '
        raw: "I am trying to produce a transcription for audio file downloaded from\
          \ YouTube.\r\nThe resulting transcription is mostly an English translation\
          \ of what the audio was about.\r\n\r\n\r\nUsing the following code:\r\n\r\
          \n\r\nimport torch\r\nfrom transformers import pipeline\r\n\r\naudio_input\
          \ = 'XXXX.m4a'\r\n\r\ndevice = \"cuda:0\" if torch.cuda.is_available() else\
          \ \"cpu\"\r\n\r\npipe = pipeline(\r\n  \"automatic-speech-recognition\"\
          ,\r\n  model=\"openai/whisper-medium\",\r\n  chunk_length_s=30,\r\n  device=device,\r\
          \n  generate_kwargs = {\"task\":\"transcribe\", \"language\":\"<|pl|>\"\
          }\r\n)\r\n\r\nprediction = pipe(audio_input, batch_size=8, return_timestamps=False)"
        updatedAt: '2023-05-07T19:03:31.023Z'
      numEdits: 0
      reactions: []
    id: 6457f603ead43697df2a6c29
    type: comment
  author: private-langsource
  content: "I am trying to produce a transcription for audio file downloaded from\
    \ YouTube.\r\nThe resulting transcription is mostly an English translation of\
    \ what the audio was about.\r\n\r\n\r\nUsing the following code:\r\n\r\n\r\nimport\
    \ torch\r\nfrom transformers import pipeline\r\n\r\naudio_input = 'XXXX.m4a'\r\
    \n\r\ndevice = \"cuda:0\" if torch.cuda.is_available() else \"cpu\"\r\n\r\npipe\
    \ = pipeline(\r\n  \"automatic-speech-recognition\",\r\n  model=\"openai/whisper-medium\"\
    ,\r\n  chunk_length_s=30,\r\n  device=device,\r\n  generate_kwargs = {\"task\"\
    :\"transcribe\", \"language\":\"<|pl|>\"}\r\n)\r\n\r\nprediction = pipe(audio_input,\
    \ batch_size=8, return_timestamps=False)"
  created_at: 2023-05-07 18:03:31+00:00
  edited: false
  hidden: false
  id: 6457f603ead43697df2a6c29
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e7c4141782ecfb423df9e721aeb4dc91.svg
      fullname: "Y\u0131lmaz Ay"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yilmazay
      type: user
    createdAt: '2023-08-11T08:41:43.000Z'
    data:
      edited: false
      editors:
      - yilmazay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9501000642776489
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e7c4141782ecfb423df9e721aeb4dc91.svg
          fullname: "Y\u0131lmaz Ay"
          isHf: false
          isPro: false
          name: yilmazay
          type: user
        html: '<p>I am having exactly the same problem.<br>Isn''t there any solution
          for this problem yet ?</p>

          '
        raw: "I am having exactly the same problem. \nIsn't there any solution for\
          \ this problem yet ?"
        updatedAt: '2023-08-11T08:41:43.900Z'
      numEdits: 0
      reactions: []
    id: 64d5f447aa89fb548a9238c0
    type: comment
  author: yilmazay
  content: "I am having exactly the same problem. \nIsn't there any solution for this\
    \ problem yet ?"
  created_at: 2023-08-11 07:41:43+00:00
  edited: false
  hidden: false
  id: 64d5f447aa89fb548a9238c0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e7c4141782ecfb423df9e721aeb4dc91.svg
      fullname: "Y\u0131lmaz Ay"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: yilmazay
      type: user
    createdAt: '2023-08-11T08:56:33.000Z'
    data:
      edited: false
      editors:
      - yilmazay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9466722011566162
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e7c4141782ecfb423df9e721aeb4dc91.svg
          fullname: "Y\u0131lmaz Ay"
          isHf: false
          isPro: false
          name: yilmazay
          type: user
        html: '<p>Hi,<br>I was trying adding task=''transcribe'' and language attributes
          directly, which did not work.<br>But then using the workaround solution
          of ''generate_kwargs''  solved my problem.<br>Thanks for the tip.</p>

          '
        raw: 'Hi,

          I was trying adding task=''transcribe'' and language attributes directly,
          which did not work.

          But then using the workaround solution of ''generate_kwargs''  solved my
          problem.

          Thanks for the tip.'
        updatedAt: '2023-08-11T08:56:33.109Z'
      numEdits: 0
      reactions: []
    id: 64d5f7c154bb9eb704fc2073
    type: comment
  author: yilmazay
  content: 'Hi,

    I was trying adding task=''transcribe'' and language attributes directly, which
    did not work.

    But then using the workaround solution of ''generate_kwargs''  solved my problem.

    Thanks for the tip.'
  created_at: 2023-08-11 07:56:33+00:00
  edited: false
  hidden: false
  id: 64d5f7c154bb9eb704fc2073
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-09-06T15:35:57.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8417535424232483
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: '<p>Could you share an audio sample for this behaviour please? The code
          looks correct! You can also specify the language in string form if you''re
          on the latest version of transformers:</p>

          <pre><code>pip install -U transformers

          </code></pre>

          '
        raw: 'Could you share an audio sample for this behaviour please? The code
          looks correct! You can also specify the language in string form if you''re
          on the latest version of transformers:

          ```

          pip install -U transformers

          ```'
        updatedAt: '2023-09-06T15:35:57.535Z'
      numEdits: 0
      reactions: []
    id: 64f89c5d0d678a97a86b5054
    type: comment
  author: sanchit-gandhi
  content: 'Could you share an audio sample for this behaviour please? The code looks
    correct! You can also specify the language in string form if you''re on the latest
    version of transformers:

    ```

    pip install -U transformers

    ```'
  created_at: 2023-09-06 14:35:57+00:00
  edited: false
  hidden: false
  id: 64f89c5d0d678a97a86b5054
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 17
repo_id: openai/whisper-medium
repo_type: model
status: open
target_branch: null
title: openai/whisper-medium used in pipeline automatically translates to english
