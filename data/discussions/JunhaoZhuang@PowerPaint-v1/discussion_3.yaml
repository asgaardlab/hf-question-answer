!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AlgiAlgi
conflicting_files: null
created_at: 2024-01-17 09:06:19+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6e9ace9a7c2fe1f666707252886ee664.svg
      fullname: Algi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlgiAlgi
      type: user
    createdAt: '2024-01-17T09:06:19.000Z'
    data:
      edited: false
      editors:
      - AlgiAlgi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4546911418437958
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6e9ace9a7c2fe1f666707252886ee664.svg
          fullname: Algi
          isHf: false
          isPro: false
          name: AlgiAlgi
          type: user
        html: "<p>So I've tryed every solution I can find by renaming files and correcting\
          \ paths but I can't for the life of me get this to work.. It seems to be\
          \ that there is some issue with the new unet/text encoder files, names or\
          \ what ever something with them is giving errors..</p>\n<p>Please look in\
          \ to this I would love to try out your product!</p>\n<p>(PowerPaint) PS\
          \ D:\\SDXL\\Powerpaint\\mmagic\\projects\\powerpaint&gt; python gradio_PowerPaint.py<br>text_encoder\\\
          model.safetensors not found<br>Loading pipeline components...:  29%|\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u258A                                     | 2/7 [00:00&lt;00:00,\
          \  5.64it/s]<code>text_config_dict</code> is provided which will be used\
          \ to initialize <code>CLIPTextConfig</code>. The value <code>text_config[\"\
          id2label\"]</code> will be overriden.<br><code>text_config_dict</code> is\
          \ provided which will be used to initialize <code>CLIPTextConfig</code>.\
          \ The value <code>text_config[\"bos_token_id\"]</code> will be overriden.<br><code>text_config_dict</code>\
          \ is provided which will be used to initialize <code>CLIPTextConfig</code>.\
          \ The value <code>text_config[\"eos_token_id\"]</code> will be overriden.<br>Loading\
          \ pipeline components...: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:06&lt;00:00,\
          \  1.15it/s]<br>01/17 10:01:06 - mmengine - INFO - Successfully add external\
          \ embeddings: P_ctxt, P_shape, P_obj.<br>01/17 10:01:06 - mmengine - INFO\
          \ - Successfully add trainable external embeddings: P_ctxt, P_shape, P_obj<br>Traceback\
          \ (most recent call last):<br>  File \"D:\\SDXL\\Powerpaint\\mmagic\\projects\\\
          powerpaint\\gradio_PowerPaint.py\", line 38, in <br>    torch.load('./models/text_encoder/pytorch_model.bin'),\
          \ strict=False)<br>  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\\
          lib\\site-packages\\torch\\serialization.py\", line 1028, in load<br>  \
          \  return _legacy_load(opened_file, map_location, pickle_module, **pickle_load_args)<br>\
          \  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\lib\\site-packages\\\
          torch\\serialization.py\", line 1246, in _legacy_load<br>    magic_number\
          \ = pickle_module.load(f, **pickle_load_args)<br>_pickle.UnpicklingError:\
          \ unpickling stack underflow<br>(PowerPaint) PS D:\\SDXL\\Powerpaint\\mmagic\\\
          projects\\powerpaint&gt; python gradio_PowerPaint.py<br>unet\\diffusion_pytorch_model.safetensors\
          \ not found<br>Loading pipeline components...:  57%|\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u258B                      | 4/7 [00:00&lt;00:00,  7.72it/s]<code>text_config_dict</code>\
          \ is provided which will be used to initialize <code>CLIPTextConfig</code>.\
          \ The value <code>text_config[\"id2label\"]</code> will be overriden.<br><code>text_config_dict</code>\
          \ is provided which will be used to initialize <code>CLIPTextConfig</code>.\
          \ The value <code>text_config[\"bos_token_id\"]</code> will be overriden.<br><code>text_config_dict</code>\
          \ is provided which will be used to initialize <code>CLIPTextConfig</code>.\
          \ The value <code>text_config[\"eos_token_id\"]</code> will be overriden.<br>Loading\
          \ pipeline components...: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:06&lt;00:00,\
          \  1.10it/s]<br>01/17 10:02:55 - mmengine - INFO - Successfully add external\
          \ embeddings: P_ctxt, P_shape, P_obj.<br>01/17 10:02:55 - mmengine - INFO\
          \ - Successfully add trainable external embeddings: P_ctxt, P_shape, P_obj<br>Traceback\
          \ (most recent call last):<br>  File \"D:\\SDXL\\Powerpaint\\mmagic\\projects\\\
          powerpaint\\gradio_PowerPaint.py\", line 38, in <br>    torch.load('./models/text_encoder/pytorch_model.bin'),\
          \ strict=False)<br>  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\\
          lib\\site-packages\\torch\\serialization.py\", line 1028, in load<br>  \
          \  return _legacy_load(opened_file, map_location, pickle_module, **pickle_load_args)<br>\
          \  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\lib\\site-packages\\\
          torch\\serialization.py\", line 1246, in _legacy_load<br>    magic_number\
          \ = pickle_module.load(f, **pickle_load_args)<br>_pickle.UnpicklingError:\
          \ unpickling stack underflow<br>(PowerPaint) PS D:\\SDXL\\Powerpaint\\mmagic\\\
          projects\\powerpaint&gt;</p>\n<p>Some of the errors I've been getting..</p>\n"
        raw: "So I've tryed every solution I can find by renaming files and correcting\
          \ paths but I can't for the life of me get this to work.. It seems to be\
          \ that there is some issue with the new unet/text encoder files, names or\
          \ what ever something with them is giving errors..\r\n\r\nPlease look in\
          \ to this I would love to try out your product!\r\n\r\n(PowerPaint) PS D:\\\
          SDXL\\Powerpaint\\mmagic\\projects\\powerpaint> python gradio_PowerPaint.py\r\
          \ntext_encoder\\model.safetensors not found\r\nLoading pipeline components...:\
          \  29%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u258A                                     | 2/7 [00:00<00:00,\
          \  5.64it/s]`text_config_dict` is provided which will be used to initialize\
          \ `CLIPTextConfig`. The value `text_config[\"id2label\"]` will be overriden.\r\
          \n`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`.\
          \ The value `text_config[\"bos_token_id\"]` will be overriden.\r\n`text_config_dict`\
          \ is provided which will be used to initialize `CLIPTextConfig`. The value\
          \ `text_config[\"eos_token_id\"]` will be overriden.\r\nLoading pipeline\
          \ components...: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:06<00:00,  1.15it/s]\r\
          \n01/17 10:01:06 - mmengine - INFO - Successfully add external embeddings:\
          \ P_ctxt, P_shape, P_obj.\r\n01/17 10:01:06 - mmengine - INFO - Successfully\
          \ add trainable external embeddings: P_ctxt, P_shape, P_obj\r\nTraceback\
          \ (most recent call last):\r\n  File \"D:\\SDXL\\Powerpaint\\mmagic\\projects\\\
          powerpaint\\gradio_PowerPaint.py\", line 38, in <module>\r\n    torch.load('./models/text_encoder/pytorch_model.bin'),\
          \ strict=False)\r\n  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\\
          lib\\site-packages\\torch\\serialization.py\", line 1028, in load\r\n  \
          \  return _legacy_load(opened_file, map_location, pickle_module, **pickle_load_args)\r\
          \n  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\lib\\site-packages\\\
          torch\\serialization.py\", line 1246, in _legacy_load\r\n    magic_number\
          \ = pickle_module.load(f, **pickle_load_args)\r\n_pickle.UnpicklingError:\
          \ unpickling stack underflow\r\n(PowerPaint) PS D:\\SDXL\\Powerpaint\\mmagic\\\
          projects\\powerpaint> python gradio_PowerPaint.py\r\nunet\\diffusion_pytorch_model.safetensors\
          \ not found\r\nLoading pipeline components...:  57%|\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u258B                      | 4/7 [00:00<00:00,  7.72it/s]`text_config_dict`\
          \ is provided which will be used to initialize `CLIPTextConfig`. The value\
          \ `text_config[\"id2label\"]` will be overriden.\r\n`text_config_dict` is\
          \ provided which will be used to initialize `CLIPTextConfig`. The value\
          \ `text_config[\"bos_token_id\"]` will be overriden.\r\n`text_config_dict`\
          \ is provided which will be used to initialize `CLIPTextConfig`. The value\
          \ `text_config[\"eos_token_id\"]` will be overriden.\r\nLoading pipeline\
          \ components...: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:06<00:00,  1.10it/s]\r\
          \n01/17 10:02:55 - mmengine - INFO - Successfully add external embeddings:\
          \ P_ctxt, P_shape, P_obj.\r\n01/17 10:02:55 - mmengine - INFO - Successfully\
          \ add trainable external embeddings: P_ctxt, P_shape, P_obj\r\nTraceback\
          \ (most recent call last):\r\n  File \"D:\\SDXL\\Powerpaint\\mmagic\\projects\\\
          powerpaint\\gradio_PowerPaint.py\", line 38, in <module>\r\n    torch.load('./models/text_encoder/pytorch_model.bin'),\
          \ strict=False)\r\n  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\\
          lib\\site-packages\\torch\\serialization.py\", line 1028, in load\r\n  \
          \  return _legacy_load(opened_file, map_location, pickle_module, **pickle_load_args)\r\
          \n  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\lib\\site-packages\\\
          torch\\serialization.py\", line 1246, in _legacy_load\r\n    magic_number\
          \ = pickle_module.load(f, **pickle_load_args)\r\n_pickle.UnpicklingError:\
          \ unpickling stack underflow\r\n(PowerPaint) PS D:\\SDXL\\Powerpaint\\mmagic\\\
          projects\\powerpaint>\r\n\r\nSome of the errors I've been getting.."
        updatedAt: '2024-01-17T09:06:19.433Z'
      numEdits: 0
      reactions: []
    id: 65a7988b1a2b0fa27b64f796
    type: comment
  author: AlgiAlgi
  content: "So I've tryed every solution I can find by renaming files and correcting\
    \ paths but I can't for the life of me get this to work.. It seems to be that\
    \ there is some issue with the new unet/text encoder files, names or what ever\
    \ something with them is giving errors..\r\n\r\nPlease look in to this I would\
    \ love to try out your product!\r\n\r\n(PowerPaint) PS D:\\SDXL\\Powerpaint\\\
    mmagic\\projects\\powerpaint> python gradio_PowerPaint.py\r\ntext_encoder\\model.safetensors\
    \ not found\r\nLoading pipeline components...:  29%|\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258A                 \
    \                    | 2/7 [00:00<00:00,  5.64it/s]`text_config_dict` is provided\
    \ which will be used to initialize `CLIPTextConfig`. The value `text_config[\"\
    id2label\"]` will be overriden.\r\n`text_config_dict` is provided which will be\
    \ used to initialize `CLIPTextConfig`. The value `text_config[\"bos_token_id\"\
    ]` will be overriden.\r\n`text_config_dict` is provided which will be used to\
    \ initialize `CLIPTextConfig`. The value `text_config[\"eos_token_id\"]` will\
    \ be overriden.\r\nLoading pipeline components...: 100%|\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:06<00:00,  1.15it/s]\r\
    \n01/17 10:01:06 - mmengine - INFO - Successfully add external embeddings: P_ctxt,\
    \ P_shape, P_obj.\r\n01/17 10:01:06 - mmengine - INFO - Successfully add trainable\
    \ external embeddings: P_ctxt, P_shape, P_obj\r\nTraceback (most recent call last):\r\
    \n  File \"D:\\SDXL\\Powerpaint\\mmagic\\projects\\powerpaint\\gradio_PowerPaint.py\"\
    , line 38, in <module>\r\n    torch.load('./models/text_encoder/pytorch_model.bin'),\
    \ strict=False)\r\n  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\lib\\\
    site-packages\\torch\\serialization.py\", line 1028, in load\r\n    return _legacy_load(opened_file,\
    \ map_location, pickle_module, **pickle_load_args)\r\n  File \"C:\\Users\\alexg\\\
    miniconda3\\envs\\PowerPaint\\lib\\site-packages\\torch\\serialization.py\", line\
    \ 1246, in _legacy_load\r\n    magic_number = pickle_module.load(f, **pickle_load_args)\r\
    \n_pickle.UnpicklingError: unpickling stack underflow\r\n(PowerPaint) PS D:\\\
    SDXL\\Powerpaint\\mmagic\\projects\\powerpaint> python gradio_PowerPaint.py\r\n\
    unet\\diffusion_pytorch_model.safetensors not found\r\nLoading pipeline components...:\
    \  57%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u258B                      | 4/7 [00:00<00:00,  7.72it/s]`text_config_dict`\
    \ is provided which will be used to initialize `CLIPTextConfig`. The value `text_config[\"\
    id2label\"]` will be overriden.\r\n`text_config_dict` is provided which will be\
    \ used to initialize `CLIPTextConfig`. The value `text_config[\"bos_token_id\"\
    ]` will be overriden.\r\n`text_config_dict` is provided which will be used to\
    \ initialize `CLIPTextConfig`. The value `text_config[\"eos_token_id\"]` will\
    \ be overriden.\r\nLoading pipeline components...: 100%|\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:06<00:00,  1.10it/s]\r\
    \n01/17 10:02:55 - mmengine - INFO - Successfully add external embeddings: P_ctxt,\
    \ P_shape, P_obj.\r\n01/17 10:02:55 - mmengine - INFO - Successfully add trainable\
    \ external embeddings: P_ctxt, P_shape, P_obj\r\nTraceback (most recent call last):\r\
    \n  File \"D:\\SDXL\\Powerpaint\\mmagic\\projects\\powerpaint\\gradio_PowerPaint.py\"\
    , line 38, in <module>\r\n    torch.load('./models/text_encoder/pytorch_model.bin'),\
    \ strict=False)\r\n  File \"C:\\Users\\alexg\\miniconda3\\envs\\PowerPaint\\lib\\\
    site-packages\\torch\\serialization.py\", line 1028, in load\r\n    return _legacy_load(opened_file,\
    \ map_location, pickle_module, **pickle_load_args)\r\n  File \"C:\\Users\\alexg\\\
    miniconda3\\envs\\PowerPaint\\lib\\site-packages\\torch\\serialization.py\", line\
    \ 1246, in _legacy_load\r\n    magic_number = pickle_module.load(f, **pickle_load_args)\r\
    \n_pickle.UnpicklingError: unpickling stack underflow\r\n(PowerPaint) PS D:\\\
    SDXL\\Powerpaint\\mmagic\\projects\\powerpaint>\r\n\r\nSome of the errors I've\
    \ been getting.."
  created_at: 2024-01-17 09:06:19+00:00
  edited: false
  hidden: false
  id: 65a7988b1a2b0fa27b64f796
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/11e3c9c66d28490d6d09925f9aa47cd1.svg
      fullname: JunhaoZhuang
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: JunhaoZhuang
      type: user
    createdAt: '2024-01-17T09:10:16.000Z'
    data:
      edited: false
      editors:
      - JunhaoZhuang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5037460327148438
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/11e3c9c66d28490d6d09925f9aa47cd1.svg
          fullname: JunhaoZhuang
          isHf: false
          isPro: false
          name: JunhaoZhuang
          type: user
        html: '<p>You can try using the code from this repository: <a rel="nofollow"
          href="https://github.com/zhuang2002/PowerPaint">https://github.com/zhuang2002/PowerPaint</a>.</p>

          '
        raw: 'You can try using the code from this repository: https://github.com/zhuang2002/PowerPaint.'
        updatedAt: '2024-01-17T09:10:16.539Z'
      numEdits: 0
      reactions: []
    id: 65a79978d6e5c1ed6c83e7c7
    type: comment
  author: JunhaoZhuang
  content: 'You can try using the code from this repository: https://github.com/zhuang2002/PowerPaint.'
  created_at: 2024-01-17 09:10:16+00:00
  edited: false
  hidden: false
  id: 65a79978d6e5c1ed6c83e7c7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/11e3c9c66d28490d6d09925f9aa47cd1.svg
      fullname: JunhaoZhuang
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: JunhaoZhuang
      type: user
    createdAt: '2024-01-17T09:12:55.000Z'
    data:
      edited: false
      editors:
      - JunhaoZhuang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9550572037696838
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/11e3c9c66d28490d6d09925f9aa47cd1.svg
          fullname: JunhaoZhuang
          isHf: false
          isPro: false
          name: JunhaoZhuang
          type: user
        html: '<p>Additionally, we have updated the model weights on Hugging Face.
          You can proceed to re-download them.</p>

          '
        raw: Additionally, we have updated the model weights on Hugging Face. You
          can proceed to re-download them.
        updatedAt: '2024-01-17T09:12:55.141Z'
      numEdits: 0
      reactions: []
    id: 65a79a17da9f6df1417629cf
    type: comment
  author: JunhaoZhuang
  content: Additionally, we have updated the model weights on Hugging Face. You can
    proceed to re-download them.
  created_at: 2024-01-17 09:12:55+00:00
  edited: false
  hidden: false
  id: 65a79a17da9f6df1417629cf
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: JunhaoZhuang/PowerPaint-v1
repo_type: model
status: open
target_branch: null
title: Errors
