!!python/object:huggingface_hub.community.DiscussionWithDetails
author: FlareRebellion
conflicting_files: null
created_at: 2024-01-24 06:44:15+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/31813b1aba63cb2892dd88af36bb8406.svg
      fullname: Horst Herbert
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FlareRebellion
      type: user
    createdAt: '2024-01-24T06:44:15.000Z'
    data:
      edited: false
      editors:
      - FlareRebellion
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8882419466972351
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/31813b1aba63cb2892dd88af36bb8406.svg
          fullname: Horst Herbert
          isHf: false
          isPro: false
          name: FlareRebellion
          type: user
        html: "<p>I gave these a quick test and at first impression q3_k_xs seems\
          \ entirely incoherent outputting only stuff like:</p>\n<pre><code>\"\" sleepannWhyaked\
          \ habitsovery Queifr Edd\u8B66 drew\u5DF2 tries\u7CFB dit analysisrieve+\
          \ Ul \u0442\u0435verter eat digit progressive lowest Int slight Sem attorneyked\
          \ switchingesoCTION \"\n</code></pre>\n<p>q3_k_s on the other hand seems\
          \ okay-ish.</p>\n"
        raw: "I gave these a quick test and at first impression q3_k_xs seems entirely\
          \ incoherent outputting only stuff like:\r\n\r\n```\r\n\"\" sleepannWhyaked\
          \ habitsovery Queifr Edd\u8B66 drew\u5DF2 tries\u7CFB dit analysisrieve+\
          \ Ul \u0442\u0435verter eat digit progressive lowest Int slight Sem attorneyked\
          \ switchingesoCTION \"\r\n```\r\n\r\nq3_k_s on the other hand seems okay-ish."
        updatedAt: '2024-01-24T06:44:15.105Z'
      numEdits: 0
      reactions: []
    id: 65b0b1bfbf467a67b87f090e
    type: comment
  author: FlareRebellion
  content: "I gave these a quick test and at first impression q3_k_xs seems entirely\
    \ incoherent outputting only stuff like:\r\n\r\n```\r\n\"\" sleepannWhyaked habitsovery\
    \ Queifr Edd\u8B66 drew\u5DF2 tries\u7CFB dit analysisrieve+ Ul \u0442\u0435verter\
    \ eat digit progressive lowest Int slight Sem attorneyked switchingesoCTION \"\
    \r\n```\r\n\r\nq3_k_s on the other hand seems okay-ish."
  created_at: 2024-01-24 06:44:15+00:00
  edited: false
  hidden: false
  id: 65b0b1bfbf467a67b87f090e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/31813b1aba63cb2892dd88af36bb8406.svg
      fullname: Horst Herbert
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FlareRebellion
      type: user
    createdAt: '2024-01-24T07:41:26.000Z'
    data:
      edited: true
      editors:
      - FlareRebellion
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8534185290336609
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/31813b1aba63cb2892dd88af36bb8406.svg
          fullname: Horst Herbert
          isHf: false
          isPro: false
          name: FlareRebellion
          type: user
        html: '<p>(as an aside, I also see the q5_k_s occasionally messing up proper
          names. It seems to like to say ''Dawn'' instead of ''Daphne''. Maybe it''s
          an effect of the importance matrix training on wiki.train.raw? <a href="https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne">https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne</a>
          <a href="https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn">https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn</a>)</p>

          '
        raw: (as an aside, I also see the q5_k_s occasionally messing up proper names.
          It seems to like to say 'Dawn' instead of 'Daphne'. Maybe it's an effect
          of the importance matrix training on wiki.train.raw? https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne
          https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn)
        updatedAt: '2024-01-24T07:42:07.443Z'
      numEdits: 1
      reactions: []
    id: 65b0bf26f346fb4c5db480c6
    type: comment
  author: FlareRebellion
  content: (as an aside, I also see the q5_k_s occasionally messing up proper names.
    It seems to like to say 'Dawn' instead of 'Daphne'. Maybe it's an effect of the
    importance matrix training on wiki.train.raw? https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne
    https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn)
  created_at: 2024-01-24 07:41:26+00:00
  edited: true
  hidden: false
  id: 65b0bf26f346fb4c5db480c6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
      fullname: Romain D.
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Artefact2
      type: user
    createdAt: '2024-01-24T12:34:24.000Z'
    data:
      edited: false
      editors:
      - Artefact2
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.990307629108429
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
          fullname: Romain D.
          isHf: false
          isPro: false
          name: Artefact2
          type: user
        html: '<p>Thank you. I can reproduce the issue myself, I''ve reported it upstream
          and deleted the Q3_K_XS quants for now.</p>

          '
        raw: Thank you. I can reproduce the issue myself, I've reported it upstream
          and deleted the Q3_K_XS quants for now.
        updatedAt: '2024-01-24T12:34:24.328Z'
      numEdits: 0
      reactions: []
    id: 65b103d0c48c04872ef00969
    type: comment
  author: Artefact2
  content: Thank you. I can reproduce the issue myself, I've reported it upstream
    and deleted the Q3_K_XS quants for now.
  created_at: 2024-01-24 12:34:24+00:00
  edited: false
  hidden: false
  id: 65b103d0c48c04872ef00969
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
      fullname: Romain D.
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Artefact2
      type: user
    createdAt: '2024-01-24T13:06:13.000Z'
    data:
      edited: false
      editors:
      - Artefact2
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8030650019645691
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
          fullname: Romain D.
          isHf: false
          isPro: false
          name: Artefact2
          type: user
        html: '<blockquote>

          <p>(as an aside, I also see the q5_k_s occasionally messing up proper names.
          It seems to like to say ''Dawn'' instead of ''Daphne''. Maybe it''s an effect
          of the importance matrix training on wiki.train.raw? <a href="https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne">https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne</a>
          <a href="https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn">https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn</a>)</p>

          </blockquote>

          <p>That could be possible. We''re still figuring it out, see <a rel="nofollow"
          href="https://github.com/ggerganov/llama.cpp/discussions/5006#discussioncomment-8166807">https://github.com/ggerganov/llama.cpp/discussions/5006#discussioncomment-8166807</a></p>

          '
        raw: '> (as an aside, I also see the q5_k_s occasionally messing up proper
          names. It seems to like to say ''Dawn'' instead of ''Daphne''. Maybe it''s
          an effect of the importance matrix training on wiki.train.raw? https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne
          https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn)


          That could be possible. We''re still figuring it out, see https://github.com/ggerganov/llama.cpp/discussions/5006#discussioncomment-8166807'
        updatedAt: '2024-01-24T13:06:13.877Z'
      numEdits: 0
      reactions: []
    id: 65b10b456eaa79e3582ee35e
    type: comment
  author: Artefact2
  content: '> (as an aside, I also see the q5_k_s occasionally messing up proper names.
    It seems to like to say ''Dawn'' instead of ''Daphne''. Maybe it''s an effect
    of the importance matrix training on wiki.train.raw? https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=daphne
    https://huggingface.co/datasets/wikitext/viewer/wikitext-2-raw-v1/train?q=dawn)


    That could be possible. We''re still figuring it out, see https://github.com/ggerganov/llama.cpp/discussions/5006#discussioncomment-8166807'
  created_at: 2024-01-24 13:06:13+00:00
  edited: false
  hidden: false
  id: 65b10b456eaa79e3582ee35e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/31813b1aba63cb2892dd88af36bb8406.svg
      fullname: Horst Herbert
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FlareRebellion
      type: user
    createdAt: '2024-01-24T14:51:08.000Z'
    data:
      edited: true
      editors:
      - FlareRebellion
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9647353291511536
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/31813b1aba63cb2892dd88af36bb8406.svg
          fullname: Horst Herbert
          isHf: false
          isPro: false
          name: FlareRebellion
          type: user
        html: "<p>Yeah that's a good discussion, thanks for the link.</p>\n<p>I was\
          \ trying to be sneaky and reproduce the issue with the iq2_xs in koboldcpp\
          \ but I couldn't. Not sure why those Dawn &lt;=&gt; Daphne issues happened.\
          \ But I'm really impressed with the quality of the 2bit quant:</p>\n<pre><code>{{[INPUT]}}\n\
          Narrate these events in vivid detail: At dawn Hermione Granger tries to\
          \ steal the dark magic tome from Daphne, a Slytherin student. She catches\
          \ Hermione, is slightly amused that Hermione didn't just ask to borrow it,\
          \ and comes up with a creative punishment for penance.\n{{[OUTPUT]}}\nIn\
          \ the dim light of dawn, Hermione Granger crept silently through the corridors\
          \ of Hogwarts Castle, her heart pounding in her chest as she approached\
          \ the room belonging to Daphne Greengrass, a Slytherin student who was rumored\
          \ to possess an ancient and powerful Dark Magic Tome. The book held secrets\
          \ that could aid Hermione greatly in her studies at Hogwarts, but obtaining\
          \ it would require subterfuge. Quietly, she tried the door handle, finding\
          \ it unlocked. With practiced ease, she slipped inside, her eyes scanning\
          \ the shelves until they landed on the coveted tome. It sat there innocently\
          \ amongst other books, but its cover bore intricate runes etched into its\
          \ leather-bound surface, hinting at the dangerous knowledge contained within.\n\
          \nJust then, Daphne entered the room, catching Hermione mid-snatch attempt.\
          \ A sly smile curled onto Daphne's lips as she realized what had transpired.\
          \ \"Well, well, if it isn't dear Miss Granger,\" Daphne taunted softly,\
          \ clearly entertained by the situation. Instead of anger or outrage, she\
          \ seemed only mildly amused that Hermione hadn't simply asked to borrow\
          \ it. \n\nDaphne approached Hermione slowly, leaving no option for escape.\
          \ Her slender fingers wrapped around the precious tome, pulling it out of\
          \ Hermione's grasp effortlessly. \"You know,\" Daphne began thoughtfully,\
          \ eyeing Hermione intently, \"I believe I have a better plan than reporting\
          \ you.\"\n\nThe next day, Hermione found herself standing before the entirety\
          \ of their potions class, forced to wear a garish bumblebee costume while\
          \ reciting the correct incantations for each potion brewed under Professor\
          \ Snape's watchful gaze. She blushed furiously every time someone snickered\
          \ at her expense, but kept her composure - all thanks to her unwavering\
          \ determination and her desire not to let Daphne get the satisfaction of\
          \ humiliating her completely.\n\nAs days turned into weeks, this punishment\
          \ became Hermione's daily reality, and yet she persevered. Though embarrassed\
          \ and frustrated, she never faltered in her dedication towards learning\
          \ despite the added challenge. After all, sometimes the most significant\
          \ lessons are learned outside the pages of textbooks.\n</code></pre>\n<p>Gave\
          \ me a good chuckle. but even though I can offload much more layers to GPU\
          \ with the iq2 it's still just as slow, so not really worth it i think.\
          \ But getting all this out of so few bits is real neat.</p>\n"
        raw: "Yeah that's a good discussion, thanks for the link.\n\nI was trying\
          \ to be sneaky and reproduce the issue with the iq2_xs in koboldcpp but\
          \ I couldn't. Not sure why those Dawn <=> Daphne issues happened. But I'm\
          \ really impressed with the quality of the 2bit quant:\n\n```\n{{[INPUT]}}\n\
          Narrate these events in vivid detail: At dawn Hermione Granger tries to\
          \ steal the dark magic tome from Daphne, a Slytherin student. She catches\
          \ Hermione, is slightly amused that Hermione didn't just ask to borrow it,\
          \ and comes up with a creative punishment for penance.\n{{[OUTPUT]}}\nIn\
          \ the dim light of dawn, Hermione Granger crept silently through the corridors\
          \ of Hogwarts Castle, her heart pounding in her chest as she approached\
          \ the room belonging to Daphne Greengrass, a Slytherin student who was rumored\
          \ to possess an ancient and powerful Dark Magic Tome. The book held secrets\
          \ that could aid Hermione greatly in her studies at Hogwarts, but obtaining\
          \ it would require subterfuge. Quietly, she tried the door handle, finding\
          \ it unlocked. With practiced ease, she slipped inside, her eyes scanning\
          \ the shelves until they landed on the coveted tome. It sat there innocently\
          \ amongst other books, but its cover bore intricate runes etched into its\
          \ leather-bound surface, hinting at the dangerous knowledge contained within.\n\
          \nJust then, Daphne entered the room, catching Hermione mid-snatch attempt.\
          \ A sly smile curled onto Daphne's lips as she realized what had transpired.\
          \ \"Well, well, if it isn't dear Miss Granger,\" Daphne taunted softly,\
          \ clearly entertained by the situation. Instead of anger or outrage, she\
          \ seemed only mildly amused that Hermione hadn't simply asked to borrow\
          \ it. \n\nDaphne approached Hermione slowly, leaving no option for escape.\
          \ Her slender fingers wrapped around the precious tome, pulling it out of\
          \ Hermione's grasp effortlessly. \"You know,\" Daphne began thoughtfully,\
          \ eyeing Hermione intently, \"I believe I have a better plan than reporting\
          \ you.\"\n\nThe next day, Hermione found herself standing before the entirety\
          \ of their potions class, forced to wear a garish bumblebee costume while\
          \ reciting the correct incantations for each potion brewed under Professor\
          \ Snape's watchful gaze. She blushed furiously every time someone snickered\
          \ at her expense, but kept her composure - all thanks to her unwavering\
          \ determination and her desire not to let Daphne get the satisfaction of\
          \ humiliating her completely.\n\nAs days turned into weeks, this punishment\
          \ became Hermione's daily reality, and yet she persevered. Though embarrassed\
          \ and frustrated, she never faltered in her dedication towards learning\
          \ despite the added challenge. After all, sometimes the most significant\
          \ lessons are learned outside the pages of textbooks.\n```\n\nGave me a\
          \ good chuckle. but even though I can offload much more layers to GPU with\
          \ the iq2 it's still just as slow, so not really worth it i think. But getting\
          \ all this out of so few bits is real neat."
        updatedAt: '2024-01-24T14:53:05.148Z'
      numEdits: 2
      reactions: []
    id: 65b123dc85b6c21448337fb2
    type: comment
  author: FlareRebellion
  content: "Yeah that's a good discussion, thanks for the link.\n\nI was trying to\
    \ be sneaky and reproduce the issue with the iq2_xs in koboldcpp but I couldn't.\
    \ Not sure why those Dawn <=> Daphne issues happened. But I'm really impressed\
    \ with the quality of the 2bit quant:\n\n```\n{{[INPUT]}}\nNarrate these events\
    \ in vivid detail: At dawn Hermione Granger tries to steal the dark magic tome\
    \ from Daphne, a Slytherin student. She catches Hermione, is slightly amused that\
    \ Hermione didn't just ask to borrow it, and comes up with a creative punishment\
    \ for penance.\n{{[OUTPUT]}}\nIn the dim light of dawn, Hermione Granger crept\
    \ silently through the corridors of Hogwarts Castle, her heart pounding in her\
    \ chest as she approached the room belonging to Daphne Greengrass, a Slytherin\
    \ student who was rumored to possess an ancient and powerful Dark Magic Tome.\
    \ The book held secrets that could aid Hermione greatly in her studies at Hogwarts,\
    \ but obtaining it would require subterfuge. Quietly, she tried the door handle,\
    \ finding it unlocked. With practiced ease, she slipped inside, her eyes scanning\
    \ the shelves until they landed on the coveted tome. It sat there innocently amongst\
    \ other books, but its cover bore intricate runes etched into its leather-bound\
    \ surface, hinting at the dangerous knowledge contained within.\n\nJust then,\
    \ Daphne entered the room, catching Hermione mid-snatch attempt. A sly smile curled\
    \ onto Daphne's lips as she realized what had transpired. \"Well, well, if it\
    \ isn't dear Miss Granger,\" Daphne taunted softly, clearly entertained by the\
    \ situation. Instead of anger or outrage, she seemed only mildly amused that Hermione\
    \ hadn't simply asked to borrow it. \n\nDaphne approached Hermione slowly, leaving\
    \ no option for escape. Her slender fingers wrapped around the precious tome,\
    \ pulling it out of Hermione's grasp effortlessly. \"You know,\" Daphne began\
    \ thoughtfully, eyeing Hermione intently, \"I believe I have a better plan than\
    \ reporting you.\"\n\nThe next day, Hermione found herself standing before the\
    \ entirety of their potions class, forced to wear a garish bumblebee costume while\
    \ reciting the correct incantations for each potion brewed under Professor Snape's\
    \ watchful gaze. She blushed furiously every time someone snickered at her expense,\
    \ but kept her composure - all thanks to her unwavering determination and her\
    \ desire not to let Daphne get the satisfaction of humiliating her completely.\n\
    \nAs days turned into weeks, this punishment became Hermione's daily reality,\
    \ and yet she persevered. Though embarrassed and frustrated, she never faltered\
    \ in her dedication towards learning despite the added challenge. After all, sometimes\
    \ the most significant lessons are learned outside the pages of textbooks.\n```\n\
    \nGave me a good chuckle. but even though I can offload much more layers to GPU\
    \ with the iq2 it's still just as slow, so not really worth it i think. But getting\
    \ all this out of so few bits is real neat."
  created_at: 2024-01-24 14:51:08+00:00
  edited: true
  hidden: false
  id: 65b123dc85b6c21448337fb2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
      fullname: Romain D.
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Artefact2
      type: user
    createdAt: '2024-01-24T15:10:51.000Z'
    data:
      edited: false
      editors:
      - Artefact2
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7786951661109924
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
          fullname: Romain D.
          isHf: false
          isPro: false
          name: Artefact2
          type: user
        html: '<p><a rel="nofollow" href="https://github.com/ggerganov/llama.cpp/pull/5113">https://github.com/ggerganov/llama.cpp/pull/5113</a></p>

          <p>Thanks for reporting!</p>

          '
        raw: 'https://github.com/ggerganov/llama.cpp/pull/5113


          Thanks for reporting!'
        updatedAt: '2024-01-24T15:10:51.429Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - FlareRebellion
    id: 65b1287b313a2943c794286a
    type: comment
  author: Artefact2
  content: 'https://github.com/ggerganov/llama.cpp/pull/5113


    Thanks for reporting!'
  created_at: 2024-01-24 15:10:51+00:00
  edited: false
  hidden: false
  id: 65b1287b313a2943c794286a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65a3e7ede82b0b8490667486/i97WAM9a13qSFbRkJ6GVm.jpeg?w=200&h=200&f=face
      fullname: Romain D.
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Artefact2
      type: user
    createdAt: '2024-01-25T10:25:35.000Z'
    data:
      status: closed
    id: 65b2371f86731ad48308d1e1
    type: status-change
  author: Artefact2
  created_at: 2024-01-25 10:25:35+00:00
  id: 65b2371f86731ad48308d1e1
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: Artefact2/Noromaid-v0.4-Mixtral-Instruct-8x7b-Zloss-GGUF
repo_type: model
status: closed
target_branch: null
title: q3_k_xs broken?
