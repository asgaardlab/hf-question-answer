!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dilolo
conflicting_files: null
created_at: 2023-11-27 09:29:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8fbedb9731dfc08e327ea061e51a4446.svg
      fullname: Turan Valiyev
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dilolo
      type: user
    createdAt: '2023-11-27T09:29:37.000Z'
    data:
      edited: false
      editors:
      - dilolo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9398576021194458
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8fbedb9731dfc08e327ea061e51a4446.svg
          fullname: Turan Valiyev
          isHf: false
          isPro: false
          name: dilolo
          type: user
        html: '<p>First of all, I want to thank you for such a great product.<br>I
          want to use your model for semantic search inside text documents. I have
          50,000 text documents and I want to use your model to find the document
          that best matches the query.<br>My search led me to Elasticsearch<br>Is
          it possible to integrate Elasticsearch into your model so that matching
          sentences for a query are found among these documents?</p>

          '
        raw: "First of all, I want to thank you for such a great product.\r\nI want\
          \ to use your model for semantic search inside text documents. I have 50,000\
          \ text documents and I want to use your model to find the document that\
          \ best matches the query.\r\nMy search led me to Elasticsearch\r\nIs it\
          \ possible to integrate Elasticsearch into your model so that matching sentences\
          \ for a query are found among these documents?"
        updatedAt: '2023-11-27T09:29:37.150Z'
      numEdits: 0
      reactions: []
    id: 65646181f818db8882c3c966
    type: comment
  author: dilolo
  content: "First of all, I want to thank you for such a great product.\r\nI want\
    \ to use your model for semantic search inside text documents. I have 50,000 text\
    \ documents and I want to use your model to find the document that best matches\
    \ the query.\r\nMy search led me to Elasticsearch\r\nIs it possible to integrate\
    \ Elasticsearch into your model so that matching sentences for a query are found\
    \ among these documents?"
  created_at: 2023-11-27 09:29:37+00:00
  edited: false
  hidden: false
  id: 65646181f818db8882c3c966
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a1ee74c2dbe349a6ec9843a1599d281.svg
      fullname: Liang Wang
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: intfloat
      type: user
    createdAt: '2023-11-29T02:37:23.000Z'
    data:
      edited: false
      editors:
      - intfloat
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8411847352981567
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a1ee74c2dbe349a6ec9843a1599d281.svg
          fullname: Liang Wang
          isHf: false
          isPro: false
          name: intfloat
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;dilolo&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/dilolo\">@<span class=\"\
          underline\">dilolo</span></a></span>\n\n\t</span></span> ,</p>\n<p>Recent\
          \ versions of Elasticsearch support embedding based retrieval. All you need\
          \ to do is store the embeddings generated from <code>multilingual-e5-*</code>\
          \ into Elasticsearch index and search against them.</p>\n<p>You might be\
          \ interested in this article: <a rel=\"nofollow\" href=\"https://www.elastic.co/blog/introducing-approximate-nearest-neighbor-search-in-elasticsearch-8-0\"\
          >https://www.elastic.co/blog/introducing-approximate-nearest-neighbor-search-in-elasticsearch-8-0</a></p>\n"
        raw: 'Hi @dilolo ,


          Recent versions of Elasticsearch support embedding based retrieval. All
          you need to do is store the embeddings generated from `multilingual-e5-*`
          into Elasticsearch index and search against them.


          You might be interested in this article: https://www.elastic.co/blog/introducing-approximate-nearest-neighbor-search-in-elasticsearch-8-0

          '
        updatedAt: '2023-11-29T02:37:23.771Z'
      numEdits: 0
      reactions: []
    id: 6566a3e3e1604b205881a377
    type: comment
  author: intfloat
  content: 'Hi @dilolo ,


    Recent versions of Elasticsearch support embedding based retrieval. All you need
    to do is store the embeddings generated from `multilingual-e5-*` into Elasticsearch
    index and search against them.


    You might be interested in this article: https://www.elastic.co/blog/introducing-approximate-nearest-neighbor-search-in-elasticsearch-8-0

    '
  created_at: 2023-11-29 02:37:23+00:00
  edited: false
  hidden: false
  id: 6566a3e3e1604b205881a377
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a6d2fe8117535665d7790e0b700b1fbd.svg
      fullname: Wilfredo Martel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wilfoderek
      type: user
    createdAt: '2023-12-03T21:57:42.000Z'
    data:
      edited: false
      editors:
      - wilfoderek
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.766391932964325
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a6d2fe8117535665d7790e0b700b1fbd.svg
          fullname: Wilfredo Martel
          isHf: false
          isPro: false
          name: wilfoderek
          type: user
        html: '<p>How to finetuning multilingual-e5 on my dataset? I have triples
          format : anchor, positive and negative.</p>

          '
        raw: 'How to finetuning multilingual-e5 on my dataset? I have triples format
          : anchor, positive and negative.'
        updatedAt: '2023-12-03T21:57:42.902Z'
      numEdits: 0
      reactions: []
    id: 656cf9d679a834846bfb1121
    type: comment
  author: wilfoderek
  content: 'How to finetuning multilingual-e5 on my dataset? I have triples format
    : anchor, positive and negative.'
  created_at: 2023-12-03 21:57:42+00:00
  edited: false
  hidden: false
  id: 656cf9d679a834846bfb1121
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6460df7a933afb0106a861a0/X-NXl6RlcKHdzF8xJBPER.jpeg?w=200&h=200&f=face
      fullname: Karel Minarik
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: karmiq
      type: user
    createdAt: '2023-12-26T07:31:08.000Z'
    data:
      edited: false
      editors:
      - karmiq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8241347074508667
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6460df7a933afb0106a861a0/X-NXl6RlcKHdzF8xJBPER.jpeg?w=200&h=200&f=face
          fullname: Karel Minarik
          isHf: false
          isPro: false
          name: karmiq
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;dilolo&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/dilolo\">@<span class=\"\
          underline\">dilolo</span></a></span>\n\n\t</span></span>, also check this\
          \ article (and notebook) from Elastic, which has a full implementation,\
          \ using the E5 model: <a rel=\"nofollow\" href=\"https://www.elastic.co/search-labs/blog/articles/multilingual-vector-search-e5-embedding-model\"\
          >https://www.elastic.co/search-labs/blog/articles/multilingual-vector-search-e5-embedding-model</a></p>\n\
          <p>Note that the article uses an internal instance of the model, ie. directly\
          \ in the cluster, and an inference pipeline to create embeddings automatically\
          \ when indexing documents. This is not strictly neccessary: you can create\
          \ embeddings before you index the document, and pass the payload to Elasticsearch.\
          \ Here's an example implementation: <a rel=\"nofollow\" href=\"https://nb.karmi.cz/semantic-search-with-elasticsearch/#Indexing-the-Data\"\
          >https://nb.karmi.cz/semantic-search-with-elasticsearch/#Indexing-the-Data</a>.\
          \ For search, you would use the <code>knn</code> search type, as <span data-props=\"\
          {&quot;user&quot;:&quot;intfloat&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/intfloat\">@<span class=\"underline\">intfloat</span></a></span>\n\
          \n\t</span></span> suggests.</p>\n<p>Also note that you need to split your\
          \ documents into chunks, so they fit into the model context window. There\
          \ are high-level libraries like LlamaIndex which provide components for\
          \ that, see eg. <a rel=\"nofollow\" href=\"https://docs.llamaindex.ai/en/stable/optimizing/basic_strategies/basic_strategies.html#chunk-sizes\"\
          >https://docs.llamaindex.ai/en/stable/optimizing/basic_strategies/basic_strategies.html#chunk-sizes</a></p>\n"
        raw: '@dilolo, also check this article (and notebook) from Elastic, which
          has a full implementation, using the E5 model: https://www.elastic.co/search-labs/blog/articles/multilingual-vector-search-e5-embedding-model


          Note that the article uses an internal instance of the model, ie. directly
          in the cluster, and an inference pipeline to create embeddings automatically
          when indexing documents. This is not strictly neccessary: you can create
          embeddings before you index the document, and pass the payload to Elasticsearch.
          Here''s an example implementation: https://nb.karmi.cz/semantic-search-with-elasticsearch/#Indexing-the-Data.
          For search, you would use the `knn` search type, as @intfloat suggests.


          Also note that you need to split your documents into chunks, so they fit
          into the model context window. There are high-level libraries like LlamaIndex
          which provide components for that, see eg. https://docs.llamaindex.ai/en/stable/optimizing/basic_strategies/basic_strategies.html#chunk-sizes'
        updatedAt: '2023-12-26T07:31:08.566Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - dilolo
        - intfloat
    id: 658a813c6b17c06872062606
    type: comment
  author: karmiq
  content: '@dilolo, also check this article (and notebook) from Elastic, which has
    a full implementation, using the E5 model: https://www.elastic.co/search-labs/blog/articles/multilingual-vector-search-e5-embedding-model


    Note that the article uses an internal instance of the model, ie. directly in
    the cluster, and an inference pipeline to create embeddings automatically when
    indexing documents. This is not strictly neccessary: you can create embeddings
    before you index the document, and pass the payload to Elasticsearch. Here''s
    an example implementation: https://nb.karmi.cz/semantic-search-with-elasticsearch/#Indexing-the-Data.
    For search, you would use the `knn` search type, as @intfloat suggests.


    Also note that you need to split your documents into chunks, so they fit into
    the model context window. There are high-level libraries like LlamaIndex which
    provide components for that, see eg. https://docs.llamaindex.ai/en/stable/optimizing/basic_strategies/basic_strategies.html#chunk-sizes'
  created_at: 2023-12-26 07:31:08+00:00
  edited: false
  hidden: false
  id: 658a813c6b17c06872062606
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8fbedb9731dfc08e327ea061e51a4446.svg
      fullname: Turan Valiyev
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dilolo
      type: user
    createdAt: '2023-12-26T09:52:22.000Z'
    data:
      edited: false
      editors:
      - dilolo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9847366213798523
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8fbedb9731dfc08e327ea061e51a4446.svg
          fullname: Turan Valiyev
          isHf: false
          isPro: false
          name: dilolo
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;karmiq&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/karmiq\">@<span class=\"\
          underline\">karmiq</span></a></span>\n\n\t</span></span> Thank you very\
          \ much</p>\n"
        raw: '@karmiq Thank you very much'
        updatedAt: '2023-12-26T09:52:22.967Z'
      numEdits: 0
      reactions: []
    id: 658aa256fb9c2bdfae8211d5
    type: comment
  author: dilolo
  content: '@karmiq Thank you very much'
  created_at: 2023-12-26 09:52:22+00:00
  edited: false
  hidden: false
  id: 658aa256fb9c2bdfae8211d5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8fbedb9731dfc08e327ea061e51a4446.svg
      fullname: Turan Valiyev
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dilolo
      type: user
    createdAt: '2023-12-26T09:53:36.000Z'
    data:
      edited: false
      editors:
      - dilolo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9036394953727722
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8fbedb9731dfc08e327ea061e51a4446.svg
          fullname: Turan Valiyev
          isHf: false
          isPro: false
          name: dilolo
          type: user
        html: '<blockquote>

          <p>How to finetuning multilingual-e5 on my dataset? I have triples format
          : anchor, positive and negative.</p>

          </blockquote>

          <p>I didn''t do fine tuning. I just used this model to vectorize my documents</p>

          '
        raw: '> How to finetuning multilingual-e5 on my dataset? I have triples format
          : anchor, positive and negative.


          I didn''t do fine tuning. I just used this model to vectorize my documents'
        updatedAt: '2023-12-26T09:53:36.943Z'
      numEdits: 0
      reactions: []
    id: 658aa2a0067630f69fa0816d
    type: comment
  author: dilolo
  content: '> How to finetuning multilingual-e5 on my dataset? I have triples format
    : anchor, positive and negative.


    I didn''t do fine tuning. I just used this model to vectorize my documents'
  created_at: 2023-12-26 09:53:36+00:00
  edited: false
  hidden: false
  id: 658aa2a0067630f69fa0816d
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 14
repo_id: intfloat/multilingual-e5-base
repo_type: model
status: open
target_branch: null
title: Semantic Search
