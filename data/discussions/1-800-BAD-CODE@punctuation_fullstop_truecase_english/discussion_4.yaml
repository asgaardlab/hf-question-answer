!!python/object:huggingface_hub.community.DiscussionWithDetails
author: drmeir
conflicting_files: null
created_at: 2023-08-27 10:41:30+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
      fullname: Meir Goldenberg
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: drmeir
      type: user
    createdAt: '2023-08-27T11:41:30.000Z'
    data:
      edited: false
      editors:
      - drmeir
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9476647973060608
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
          fullname: Meir Goldenberg
          isHf: false
          isPro: false
          name: drmeir
          type: user
        html: '<p>I find that the model works well when the text is in lower case
          and totally lacks punctuation. However, when some words are properly capitalized
          in the input and some punctuation appears, the output is not what one would
          expect. Example:</p>

          <p>Input:<br>Washington is in the U.S. Moscow is in Russia.</p>

          <p>Output:<br><code>&lt;unk&gt;</code>ashington is in the <code>&lt;unk&gt;</code>.<code>&lt;Unk&gt;</code>.
          <code>&lt;unk&gt;</code>oscow is in <code>&lt;unk&gt;</code>ussia,..</p>

          '
        raw: "I find that the model works well when the text is in lower case and\
          \ totally lacks punctuation. However, when some words are properly capitalized\
          \ in the input and some punctuation appears, the output is not what one\
          \ would expect. Example:\r\n\r\nInput: \r\nWashington is in the U.S. Moscow\
          \ is in Russia.\r\n\r\nOutput:\r\n`<unk>`ashington is in the `<unk>`.`<Unk>`.\
          \ `<unk>`oscow is in `<unk>`ussia,.."
        updatedAt: '2023-08-27T11:41:30.837Z'
      numEdits: 0
      reactions: []
    id: 64eb366a1704bc3689561913
    type: comment
  author: drmeir
  content: "I find that the model works well when the text is in lower case and totally\
    \ lacks punctuation. However, when some words are properly capitalized in the\
    \ input and some punctuation appears, the output is not what one would expect.\
    \ Example:\r\n\r\nInput: \r\nWashington is in the U.S. Moscow is in Russia.\r\n\
    \r\nOutput:\r\n`<unk>`ashington is in the `<unk>`.`<Unk>`. `<unk>`oscow is in\
    \ `<unk>`ussia,.."
  created_at: 2023-08-27 10:41:30+00:00
  edited: false
  hidden: false
  id: 64eb366a1704bc3689561913
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
      fullname: Meir Goldenberg
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: drmeir
      type: user
    createdAt: '2023-08-27T11:42:39.000Z'
    data:
      from: Proper capitalization is cancelled in the output.
      to: Proper capitalization and punctuation in the input results in erroneous
        output.
    id: 64eb36af4a2e1742118738e7
    type: title-change
  author: drmeir
  created_at: 2023-08-27 10:42:39+00:00
  id: 64eb36af4a2e1742118738e7
  new_title: Proper capitalization and punctuation in the input results in erroneous
    output.
  old_title: Proper capitalization is cancelled in the output.
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/617c01ea958eb333759f69922b62fb10.svg
      fullname: sc
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: 1-800-BAD-CODE
      type: user
    createdAt: '2023-08-27T21:15:19.000Z'
    data:
      edited: false
      editors:
      - 1-800-BAD-CODE
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.975644052028656
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/617c01ea958eb333759f69922b62fb10.svg
          fullname: sc
          isHf: false
          isPro: false
          name: 1-800-BAD-CODE
          type: user
        html: '<p>Upper-cased letters will be OOV (out of vocabulary) as the model
          and tokenizer were trained with only lower-cased text. OOVs are passed through
          to the output, as seen here.<br>Even if a fix is applied to map unknown
          tokens to the output, the model will perform very poorly given that it has
          never seen such sentences.<br>Similar for punctuation in the input... the
          model was trained on unpunctuated texts, and will be confused when the input
          has punctuation. Even though it''s covered by the tokenizer and technically
          not OOV, the language model has not been trained to handle it.<br>The model
          was effectively trained to handle ASR output, so I''d strongly recommend
          not trying to use it on partially upper-cased or punctuated text.</p>

          '
        raw: "Upper-cased letters will be OOV (out of vocabulary) as the model and\
          \ tokenizer were trained with only lower-cased text. OOVs are passed through\
          \ to the output, as seen here. \nEven if a fix is applied to map unknown\
          \ tokens to the output, the model will perform very poorly given that it\
          \ has never seen such sentences.\nSimilar for punctuation in the input...\
          \ the model was trained on unpunctuated texts, and will be confused when\
          \ the input has punctuation. Even though it's covered by the tokenizer and\
          \ technically not OOV, the language model has not been trained to handle\
          \ it.\nThe model was effectively trained to handle ASR output, so I'd strongly\
          \ recommend not trying to use it on partially upper-cased or punctuated\
          \ text."
        updatedAt: '2023-08-27T21:15:19.088Z'
      numEdits: 0
      reactions: []
    id: 64ebbce7f6d7c8bdfbb2247f
    type: comment
  author: 1-800-BAD-CODE
  content: "Upper-cased letters will be OOV (out of vocabulary) as the model and tokenizer\
    \ were trained with only lower-cased text. OOVs are passed through to the output,\
    \ as seen here. \nEven if a fix is applied to map unknown tokens to the output,\
    \ the model will perform very poorly given that it has never seen such sentences.\n\
    Similar for punctuation in the input... the model was trained on unpunctuated\
    \ texts, and will be confused when the input has punctuation. Even though it's\
    \ covered by the tokenizer and technically not OOV, the language model has not\
    \ been trained to handle it.\nThe model was effectively trained to handle ASR\
    \ output, so I'd strongly recommend not trying to use it on partially upper-cased\
    \ or punctuated text."
  created_at: 2023-08-27 20:15:19+00:00
  edited: false
  hidden: false
  id: 64ebbce7f6d7c8bdfbb2247f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
      fullname: Meir Goldenberg
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: drmeir
      type: user
    createdAt: '2023-12-13T11:22:35.000Z'
    data:
      edited: true
      editors:
      - drmeir
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8864692449569702
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/520b9e3418a19d3e442f5713613ef9b8.svg
          fullname: Meir Goldenberg
          isHf: false
          isPro: false
          name: drmeir
          type: user
        html: '<p>But what do we do with things like "24/7", "R&amp;D", "9-11" etc.
          in the input text? There are potentially a lot of such things and it is
          hard to catch all of them in the preprocessing. Is it possible to output
          OOV verbatim as they appear in the input? </p>

          '
        raw: 'But what do we do with things like "24/7", "R&D", "9-11" etc. in the
          input text? There are potentially a lot of such things and it is hard to
          catch all of them in the preprocessing. Is it possible to output OOV verbatim
          as they appear in the input? '
        updatedAt: '2023-12-13T15:53:12.615Z'
      numEdits: 3
      reactions: []
    id: 657993fb0b0608ba9ccb6128
    type: comment
  author: drmeir
  content: 'But what do we do with things like "24/7", "R&D", "9-11" etc. in the input
    text? There are potentially a lot of such things and it is hard to catch all of
    them in the preprocessing. Is it possible to output OOV verbatim as they appear
    in the input? '
  created_at: 2023-12-13 11:22:35+00:00
  edited: true
  hidden: false
  id: 657993fb0b0608ba9ccb6128
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: 1-800-BAD-CODE/punctuation_fullstop_truecase_english
repo_type: model
status: open
target_branch: null
title: Proper capitalization and punctuation in the input results in erroneous output.
