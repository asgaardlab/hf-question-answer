!!python/object:huggingface_hub.community.DiscussionWithDetails
author: emfhal
conflicting_files: null
created_at: 2023-10-12 10:24:38+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e4944d434c3dd011f2ea0d28169e409d.svg
      fullname: emmanuel fhal
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: emfhal
      type: user
    createdAt: '2023-10-12T11:24:38.000Z'
    data:
      edited: false
      editors:
      - emfhal
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6086912751197815
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e4944d434c3dd011f2ea0d28169e409d.svg
          fullname: emmanuel fhal
          isHf: false
          isPro: false
          name: emfhal
          type: user
        html: '<p>Hi Meta Research, Seems like <a href="https://huggingface.co/facebook/seamless-m4t-medium">https://huggingface.co/facebook/seamless-m4t-medium</a>
          repo is missing a config.json file. I am unable to use the model without
          this file, and I believe other users may be experiencing the same issue.</p>

          <p>Input/code:</p>

          <p>import requests<br>import json</p>

          <p>url = "<a rel="nofollow" href="https://runtime.sagemaker.us-east-1.amazonaws.com/endpoints/xxx-t2tt/invocations&quot;">https://runtime.sagemaker.us-east-1.amazonaws.com/endpoints/xxx-t2tt/invocations"</a></p>

          <p>payload = json.dumps({<br>  "inputs": "This is a sentence in English.",<br>  "task":
          "t2tt",<br>  "tgt_lang": "fr",<br>  "src_lang": "en"<br>})<br>headers =
          {<br>  ''X-Amzn-SageMaker-Custom-Attributes'': ''accept_eula=true'',<br>  ''Content-Type'':
          ''application/json'',<br>  ''X-Amz-Content-Sha256'': xxx,<br>  ''X-Amz-Date'':
          ''20231012T102846Z'',<br>  ''Authorization'': xxx<br>}</p>

          <p>response = requests.request("POST", url, headers=headers, data=payload)</p>

          <p>Output:</p>

          <p>{<br>    "ErrorCode": "CLIENT_ERROR_FROM_MODEL",<br>    "LogStreamArn":
          "arn:aws:logs:us-east-xxx:log-group:/aws/sagemaker/Endpoints/xxx-t2tt",<br>    "Message":"Received
          client error (400) from primary with message "{\n  "code": 400,\n  "type":
          "InternalServerException",\n  "message": "/.sagemaker/mms/models/facebook__seamless-m4t-medium
          does not appear to have a file named config.json. Checkout ''<a href="https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None%5C''">https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None\''</a>
          for available files."\n}\n". See <a rel="nofollow" href="https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1#logEventViewer:group=/aws/sagemaker/Endpoints/jumpstart-dft-BA-DevSecOpsAI-t2tt">https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1#logEventViewer:group=/aws/sagemaker/Endpoints/jumpstart-dft-BA-DevSecOpsAI-t2tt</a>
          in account 762952282510 for more information.",<br>    "OriginalMessage":"{\n  "code":
          400,\n  "type": "InternalServerException",\n  "message": "/.sagemaker/mms/models/facebook__seamless-m4t-medium
          does not appear to have a file named config.json. Checkout ''<a href="https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None%5C''">https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None\''</a>
          for available files."\n}\n",<br>    "OriginalStatusCode": 400<br>}</p>

          '
        raw: "Hi Meta Research, Seems like https://huggingface.co/facebook/seamless-m4t-medium\
          \ repo is missing a config.json file. I am unable to use the model without\
          \ this file, and I believe other users may be experiencing the same issue.\r\
          \n\r\nInput/code:\r\n\r\nimport requests\r\nimport json\r\n\r\nurl = \"\
          https://runtime.sagemaker.us-east-1.amazonaws.com/endpoints/xxx-t2tt/invocations\"\
          \r\n\r\npayload = json.dumps({\r\n  \"inputs\": \"This is a sentence in\
          \ English.\",\r\n  \"task\": \"t2tt\",\r\n  \"tgt_lang\": \"fr\",\r\n  \"\
          src_lang\": \"en\"\r\n})\r\nheaders = {\r\n  'X-Amzn-SageMaker-Custom-Attributes':\
          \ 'accept_eula=true',\r\n  'Content-Type': 'application/json',\r\n  'X-Amz-Content-Sha256':\
          \ xxx,\r\n  'X-Amz-Date': '20231012T102846Z',\r\n  'Authorization': xxx\r\
          \n}\r\n\r\nresponse = requests.request(\"POST\", url, headers=headers, data=payload)\r\
          \n\r\nOutput:\r\n\r\n{\r\n    \"ErrorCode\": \"CLIENT_ERROR_FROM_MODEL\"\
          ,\r\n    \"LogStreamArn\": \"arn:aws:logs:us-east-xxx:log-group:/aws/sagemaker/Endpoints/xxx-t2tt\"\
          ,\r\n    \"Message\":\"Received client error (400) from primary with message\
          \ \\\"{\\n  \\\"code\\\": 400,\\n  \\\"type\\\": \\\"InternalServerException\\\
          \",\\n  \\\"message\\\": \\\"/.sagemaker/mms/models/facebook__seamless-m4t-medium\
          \ does not appear to have a file named config.json. Checkout \\'https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None\\\
          ' for available files.\\\"\\n}\\n\\\". See https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1#logEventViewer:group=/aws/sagemaker/Endpoints/jumpstart-dft-BA-DevSecOpsAI-t2tt\
          \ in account 762952282510 for more information.\",\r\n    \"OriginalMessage\"\
          :\"{\\n  \\\"code\\\": 400,\\n  \\\"type\\\": \\\"InternalServerException\\\
          \",\\n  \\\"message\\\": \\\"/.sagemaker/mms/models/facebook__seamless-m4t-medium\
          \ does not appear to have a file named config.json. Checkout \\'https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None\\\
          ' for available files.\\\"\\n}\\n\",\r\n    \"OriginalStatusCode\": 400\r\
          \n}"
        updatedAt: '2023-10-12T11:24:38.232Z'
      numEdits: 0
      reactions: []
    id: 6527d77653d97bb5261e0bc7
    type: comment
  author: emfhal
  content: "Hi Meta Research, Seems like https://huggingface.co/facebook/seamless-m4t-medium\
    \ repo is missing a config.json file. I am unable to use the model without this\
    \ file, and I believe other users may be experiencing the same issue.\r\n\r\n\
    Input/code:\r\n\r\nimport requests\r\nimport json\r\n\r\nurl = \"https://runtime.sagemaker.us-east-1.amazonaws.com/endpoints/xxx-t2tt/invocations\"\
    \r\n\r\npayload = json.dumps({\r\n  \"inputs\": \"This is a sentence in English.\"\
    ,\r\n  \"task\": \"t2tt\",\r\n  \"tgt_lang\": \"fr\",\r\n  \"src_lang\": \"en\"\
    \r\n})\r\nheaders = {\r\n  'X-Amzn-SageMaker-Custom-Attributes': 'accept_eula=true',\r\
    \n  'Content-Type': 'application/json',\r\n  'X-Amz-Content-Sha256': xxx,\r\n\
    \  'X-Amz-Date': '20231012T102846Z',\r\n  'Authorization': xxx\r\n}\r\n\r\nresponse\
    \ = requests.request(\"POST\", url, headers=headers, data=payload)\r\n\r\nOutput:\r\
    \n\r\n{\r\n    \"ErrorCode\": \"CLIENT_ERROR_FROM_MODEL\",\r\n    \"LogStreamArn\"\
    : \"arn:aws:logs:us-east-xxx:log-group:/aws/sagemaker/Endpoints/xxx-t2tt\",\r\n\
    \    \"Message\":\"Received client error (400) from primary with message \\\"\
    {\\n  \\\"code\\\": 400,\\n  \\\"type\\\": \\\"InternalServerException\\\",\\\
    n  \\\"message\\\": \\\"/.sagemaker/mms/models/facebook__seamless-m4t-medium does\
    \ not appear to have a file named config.json. Checkout \\'https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None\\\
    ' for available files.\\\"\\n}\\n\\\". See https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1#logEventViewer:group=/aws/sagemaker/Endpoints/jumpstart-dft-BA-DevSecOpsAI-t2tt\
    \ in account 762952282510 for more information.\",\r\n    \"OriginalMessage\"\
    :\"{\\n  \\\"code\\\": 400,\\n  \\\"type\\\": \\\"InternalServerException\\\"\
    ,\\n  \\\"message\\\": \\\"/.sagemaker/mms/models/facebook__seamless-m4t-medium\
    \ does not appear to have a file named config.json. Checkout \\'https://huggingface.co//.sagemaker/mms/models/facebook__seamless-m4t-medium/None\\\
    ' for available files.\\\"\\n}\\n\",\r\n    \"OriginalStatusCode\": 400\r\n}"
  created_at: 2023-10-12 10:24:38+00:00
  edited: false
  hidden: false
  id: 6527d77653d97bb5261e0bc7
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 8
repo_id: facebook/seamless-m4t-medium
repo_type: model
status: open
target_branch: null
title: HF to AWS SageMaker config.json is missing
