!!python/object:huggingface_hub.community.DiscussionWithDetails
author: nirmazor
conflicting_files: null
created_at: 2023-11-26 08:44:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3a7f48024b45b7154118529cb49ac0ec.svg
      fullname: Nir Mazor
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nirmazor
      type: user
    createdAt: '2023-11-26T08:44:10.000Z'
    data:
      edited: false
      editors:
      - nirmazor
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.372427761554718
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3a7f48024b45b7154118529cb49ac0ec.svg
          fullname: Nir Mazor
          isHf: false
          isPro: false
          name: nirmazor
          type: user
        html: '<p>I get the following error while trying to load the model:</p>

          <p>text_cfg = CLIPTextCfg(**text_cfg)<br>TypeError: <strong>init</strong>()
          got an unexpected keyword argument ''hf_proj_type''</p>

          '
        raw: "I get the following error while trying to load the model:\r\n\r\ntext_cfg\
          \ = CLIPTextCfg(**text_cfg)\r\nTypeError: __init__() got an unexpected keyword\
          \ argument 'hf_proj_type'\r\n\r\n"
        updatedAt: '2023-11-26T08:44:10.759Z'
      numEdits: 0
      reactions: []
    id: 6563055aa72f05d2eab95f2b
    type: comment
  author: nirmazor
  content: "I get the following error while trying to load the model:\r\n\r\ntext_cfg\
    \ = CLIPTextCfg(**text_cfg)\r\nTypeError: __init__() got an unexpected keyword\
    \ argument 'hf_proj_type'\r\n\r\n"
  created_at: 2023-11-26 08:44:10+00:00
  edited: false
  hidden: false
  id: 6563055aa72f05d2eab95f2b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/df775a4a594fad72980cc2744c7c56dc.svg
      fullname: Ahmed Al Mahrooqi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ahmed1996said
      type: user
    createdAt: '2023-11-27T07:29:21.000Z'
    data:
      edited: true
      editors:
      - ahmed1996said
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8653407692909241
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/df775a4a594fad72980cc2744c7c56dc.svg
          fullname: Ahmed Al Mahrooqi
          isHf: false
          isPro: false
          name: ahmed1996said
          type: user
        html: '<p>Getting the same issue. I tried updating to  <code>open-clip-torch==2.22.0</code>
          and still getting same error.</p>

          <p>It used to work fine couple days ago with version <code>2.20.0</code></p>

          '
        raw: 'Getting the same issue. I tried updating to  `open-clip-torch==2.22.0`
          and still getting same error.


          It used to work fine couple days ago with version `2.20.0`'
        updatedAt: '2023-11-27T07:32:03.447Z'
      numEdits: 2
      reactions: []
    id: 65644551412dcdebf20605fb
    type: comment
  author: ahmed1996said
  content: 'Getting the same issue. I tried updating to  `open-clip-torch==2.22.0`
    and still getting same error.


    It used to work fine couple days ago with version `2.20.0`'
  created_at: 2023-11-27 07:29:21+00:00
  edited: true
  hidden: false
  id: 65644551412dcdebf20605fb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/df775a4a594fad72980cc2744c7c56dc.svg
      fullname: Ahmed Al Mahrooqi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ahmed1996said
      type: user
    createdAt: '2023-11-27T08:19:05.000Z'
    data:
      edited: false
      editors:
      - ahmed1996said
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8605071902275085
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/df775a4a594fad72980cc2744c7c56dc.svg
          fullname: Ahmed Al Mahrooqi
          isHf: false
          isPro: false
          name: ahmed1996said
          type: user
        html: '<p>Seems like the config file was updated a few days ago, <a href="https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/commit/a9709a5031449641566aabe96a6a5fb55e86fc10#d2h-801018">check
          here</a>. I manually edited the config file in my cache directory to have
          the old keys, and the model seems to be loading fine. Not the best solution
          but works for now. </p>

          '
        raw: 'Seems like the config file was updated a few days ago, [check here](https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/commit/a9709a5031449641566aabe96a6a5fb55e86fc10#d2h-801018).
          I manually edited the config file in my cache directory to have the old
          keys, and the model seems to be loading fine. Not the best solution but
          works for now. '
        updatedAt: '2023-11-27T08:19:05.925Z'
      numEdits: 0
      reactions: []
    id: 656450f96ff1b91e28616eee
    type: comment
  author: ahmed1996said
  content: 'Seems like the config file was updated a few days ago, [check here](https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/commit/a9709a5031449641566aabe96a6a5fb55e86fc10#d2h-801018).
    I manually edited the config file in my cache directory to have the old keys,
    and the model seems to be loading fine. Not the best solution but works for now. '
  created_at: 2023-11-27 08:19:05+00:00
  edited: false
  hidden: false
  id: 656450f96ff1b91e28616eee
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7e0fc8cf0dbf656a1fe7ad2dca0518b3.svg
      fullname: syrine chennoufi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: syrineM
      type: user
    createdAt: '2023-11-27T10:58:29.000Z'
    data:
      edited: false
      editors:
      - syrineM
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.833261251449585
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7e0fc8cf0dbf656a1fe7ad2dca0518b3.svg
          fullname: syrine chennoufi
          isHf: false
          isPro: false
          name: syrineM
          type: user
        html: '<p>Thanks, changing manually the config file works. </p>

          <p>However, I still get another error after that : Error(s) in loading state_dict
          for CustomTextCLIP:<br>    Unexpected key(s) in state_dict: "text.transformer.embeddings.position_ids".
          </p>

          <p>Do you have the same ? </p>

          '
        raw: "Thanks, changing manually the config file works. \n\nHowever, I still\
          \ get another error after that : Error(s) in loading state_dict for CustomTextCLIP:\n\
          \tUnexpected key(s) in state_dict: \"text.transformer.embeddings.position_ids\"\
          . \n\nDo you have the same ? "
        updatedAt: '2023-11-27T10:58:29.485Z'
      numEdits: 0
      reactions: []
    id: 656476551196b50b9c54867d
    type: comment
  author: syrineM
  content: "Thanks, changing manually the config file works. \n\nHowever, I still\
    \ get another error after that : Error(s) in loading state_dict for CustomTextCLIP:\n\
    \tUnexpected key(s) in state_dict: \"text.transformer.embeddings.position_ids\"\
    . \n\nDo you have the same ? "
  created_at: 2023-11-27 10:58:29+00:00
  edited: false
  hidden: false
  id: 656476551196b50b9c54867d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/df775a4a594fad72980cc2744c7c56dc.svg
      fullname: Ahmed Al Mahrooqi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ahmed1996said
      type: user
    createdAt: '2023-11-27T11:08:24.000Z'
    data:
      edited: false
      editors:
      - ahmed1996said
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9337015151977539
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/df775a4a594fad72980cc2744c7c56dc.svg
          fullname: Ahmed Al Mahrooqi
          isHf: false
          isPro: false
          name: ahmed1996said
          type: user
        html: '<p> I saw that error with the latest version. If you downgrade to <code>2.20.0</code>,
          it should disappear.</p>

          '
        raw: ' I saw that error with the latest version. If you downgrade to `2.20.0`,
          it should disappear.'
        updatedAt: '2023-11-27T11:08:24.120Z'
      numEdits: 0
      reactions: []
    id: 656478a8d5e01ab2d0e41bcc
    type: comment
  author: ahmed1996said
  content: ' I saw that error with the latest version. If you downgrade to `2.20.0`,
    it should disappear.'
  created_at: 2023-11-27 11:08:24+00:00
  edited: false
  hidden: false
  id: 656478a8d5e01ab2d0e41bcc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3ca569596f9c7134e8d4b560a06ee1e7.svg
      fullname: Sheng Zhang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: shengz
      type: user
    createdAt: '2023-11-28T17:08:25.000Z'
    data:
      edited: false
      editors:
      - shengz
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.2748088538646698
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3ca569596f9c7134e8d4b560a06ee1e7.svg
          fullname: Sheng Zhang
          isHf: false
          isPro: false
          name: shengz
          type: user
        html: '<p>Please check out the latest notebook: <a href="https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/blob/main/biomed_clip_example.ipynb">https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/blob/main/biomed_clip_example.ipynb</a></p>

          '
        raw: 'Please check out the latest notebook: https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/blob/main/biomed_clip_example.ipynb'
        updatedAt: '2023-11-28T17:08:25.343Z'
      numEdits: 0
      reactions: []
      relatedEventId: 65661e896443f1b315b7989c
    id: 65661e896443f1b315b79897
    type: comment
  author: shengz
  content: 'Please check out the latest notebook: https://huggingface.co/microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224/blob/main/biomed_clip_example.ipynb'
  created_at: 2023-11-28 17:08:25+00:00
  edited: false
  hidden: false
  id: 65661e896443f1b315b79897
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/3ca569596f9c7134e8d4b560a06ee1e7.svg
      fullname: Sheng Zhang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: shengz
      type: user
    createdAt: '2023-11-28T17:08:25.000Z'
    data:
      status: closed
    id: 65661e896443f1b315b7989c
    type: status-change
  author: shengz
  created_at: 2023-11-28 17:08:25+00:00
  id: 65661e896443f1b315b7989c
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 15
repo_id: microsoft/BiomedCLIP-PubMedBERT_256-vit_base_patch16_224
repo_type: model
status: closed
target_branch: null
title: 'Error: text_cfg = CLIPTextCfg(**text_cfg) TypeError: __init__() got an unexpected
  keyword argument ''hf_proj_type'''
