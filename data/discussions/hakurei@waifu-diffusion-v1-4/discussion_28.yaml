!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lcrn
conflicting_files: null
created_at: 2023-01-12 09:52:26+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a3d0a200ac6bb596f5fc0d05423b2614.svg
      fullname: lcrn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lcrn
      type: user
    createdAt: '2023-01-12T09:52:26.000Z'
    data:
      edited: false
      editors:
      - lcrn
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a3d0a200ac6bb596f5fc0d05423b2614.svg
          fullname: lcrn
          isHf: false
          isPro: false
          name: lcrn
          type: user
        html: '<p>Output:</p>

          <p>webui-docker-auto-1  | Loading config from: /stable-diffusion-webui/models/Stable-diffusion/wd-1-4-anime_e1.yaml<br>webui-docker-auto-1  |
          LatentDiffusion: Running in eps-prediction mode<br>webui-docker-auto-1  |
          Traceback (most recent call last):<br>webui-docker-auto-1  |   File "/usr/local/lib/python3.10/site-packages/gradio/routes.py",
          line 284, in run_predict<br>webui-docker-auto-1  |     output = await app.blocks.process_api(<br>webui-docker-auto-1  |   File
          "/usr/local/lib/python3.10/site-packages/gradio/blocks.py", line 982, in
          process_api<br>webui-docker-auto-1  |     result = await self.call_function(fn_index,
          inputs, iterator)<br>webui-docker-auto-1  |   File "/usr/local/lib/python3.10/site-packages/gradio/blocks.py",
          line 824, in call_function<br>webui-docker-auto-1  |     prediction = await
          anyio.to_thread.run_sync(<br>webui-docker-auto-1  |   File "/usr/local/lib/python3.10/site-packages/anyio/to_thread.py",
          line 31, in run_sync<br>webui-docker-auto-1  |     return await get_asynclib().run_sync_in_worker_thread(<br>webui-docker-auto-1  |   File
          "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line
          937, in run_sync_in_worker_thread<br>webui-docker-auto-1  |     return await
          future<br>webui-docker-auto-1  |   File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py",
          line 867, in run<br>webui-docker-auto-1  |     result = context.run(func,
          *args)<br>webui-docker-auto-1  |   File "/stable-diffusion-webui/modules/ui.py",
          line 1667, in <br>webui-docker-auto-1  |     fn=lambda value, k=k: run_settings_single(value,
          key=k),<br>webui-docker-auto-1  |   File "/stable-diffusion-webui/modules/ui.py",
          line 1508, in run_settings_single<br>webui-docker-auto-1  |     if not opts.set(key,
          value):<br>webui-docker-auto-1  |   File "/stable-diffusion-webui/modules/shared.py",
          line 454, in set<br>webui-docker-auto-1  |     self.data_labels[key].onchange()<br>webui-docker-auto-1  |   File
          "/stable-diffusion-webui/webui.py", line 44, in f<br>webui-docker-auto-1  |     res
          = func(*args, **kwargs)<br>webui-docker-auto-1  |   File "/stable-diffusion-webui/webui.py",
          line 86, in <br>webui-docker-auto-1  |     shared.opts.onchange("sd_model_checkpoint",
          wrap_queued_call(lambda: modules.sd_models.reload_model_weights()))<br>webui-docker-auto-1  |   File
          "/stable-diffusion-webui/modules/sd_models.py", line 279, in reload_model_weights<br>webui-docker-auto-1  |     load_model(checkpoint_info)<br>webui-docker-auto-1  |   File
          "/stable-diffusion-webui/modules/sd_models.py", line 247, in load_model<br>webui-docker-auto-1  |     sd_model
          = instantiate_from_config(sd_config.model)<br>webui-docker-auto-1  |   File
          "/stable-diffusion-webui/repositories/stable-diffusion/ldm/util.py", line
          85, in instantiate_from_config<br>webui-docker-auto-1  |     return get_obj_from_str(config["target"])(**config.get("params",
          dict()))<br>webui-docker-auto-1  |   File "/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py",
          line 448, in <strong>init</strong><br>webui-docker-auto-1  |     super().<strong>init</strong>(conditioning_key=conditioning_key,
          *args, **kwargs)<br>webui-docker-auto-1  |   File "/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py",
          line 86, in <strong>init</strong><br>webui-docker-auto-1  |     self.model
          = DiffusionWrapper(unet_config, conditioning_key)<br>webui-docker-auto-1  |   File
          "/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py",
          line 1398, in <strong>init</strong><br>webui-docker-auto-1  |     self.diffusion_model
          = instantiate_from_config(diff_model_config)<br>webui-docker-auto-1  |   File
          "/stable-diffusion-webui/repositories/stable-diffusion/ldm/util.py", line
          85, in instantiate_from_config<br>webui-docker-auto-1  |     return get_obj_from_str(config["target"])(**config.get("params",
          dict()))<br>webui-docker-auto-1  | TypeError: UNetModel.<strong>init</strong>()
          got an unexpected keyword argument ''use_linear_in_transformer''</p>

          '
        raw: "Output:\r\n\r\nwebui-docker-auto-1  | Loading config from: /stable-diffusion-webui/models/Stable-diffusion/wd-1-4-anime_e1.yaml\r\
          \nwebui-docker-auto-1  | LatentDiffusion: Running in eps-prediction mode\r\
          \nwebui-docker-auto-1  | Traceback (most recent call last):\r\nwebui-docker-auto-1\
          \  |   File \"/usr/local/lib/python3.10/site-packages/gradio/routes.py\"\
          , line 284, in run_predict\r\nwebui-docker-auto-1  |     output = await\
          \ app.blocks.process_api(\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\"\
          , line 982, in process_api\r\nwebui-docker-auto-1  |     result = await\
          \ self.call_function(fn_index, inputs, iterator)\r\nwebui-docker-auto-1\
          \  |   File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\"\
          , line 824, in call_function\r\nwebui-docker-auto-1  |     prediction =\
          \ await anyio.to_thread.run_sync(\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/anyio/to_thread.py\"\
          , line 31, in run_sync\r\nwebui-docker-auto-1  |     return await get_asynclib().run_sync_in_worker_thread(\r\
          \nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
          , line 937, in run_sync_in_worker_thread\r\nwebui-docker-auto-1  |     return\
          \ await future\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
          , line 867, in run\r\nwebui-docker-auto-1  |     result = context.run(func,\
          \ *args)\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/modules/ui.py\"\
          , line 1667, in <lambda>\r\nwebui-docker-auto-1  |     fn=lambda value,\
          \ k=k: run_settings_single(value, key=k),\r\nwebui-docker-auto-1  |   File\
          \ \"/stable-diffusion-webui/modules/ui.py\", line 1508, in run_settings_single\r\
          \nwebui-docker-auto-1  |     if not opts.set(key, value):\r\nwebui-docker-auto-1\
          \  |   File \"/stable-diffusion-webui/modules/shared.py\", line 454, in\
          \ set\r\nwebui-docker-auto-1  |     self.data_labels[key].onchange()\r\n\
          webui-docker-auto-1  |   File \"/stable-diffusion-webui/webui.py\", line\
          \ 44, in f\r\nwebui-docker-auto-1  |     res = func(*args, **kwargs)\r\n\
          webui-docker-auto-1  |   File \"/stable-diffusion-webui/webui.py\", line\
          \ 86, in <lambda>\r\nwebui-docker-auto-1  |     shared.opts.onchange(\"\
          sd_model_checkpoint\", wrap_queued_call(lambda: modules.sd_models.reload_model_weights()))\r\
          \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/modules/sd_models.py\"\
          , line 279, in reload_model_weights\r\nwebui-docker-auto-1  |     load_model(checkpoint_info)\r\
          \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/modules/sd_models.py\"\
          , line 247, in load_model\r\nwebui-docker-auto-1  |     sd_model = instantiate_from_config(sd_config.model)\r\
          \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/util.py\"\
          , line 85, in instantiate_from_config\r\nwebui-docker-auto-1  |     return\
          \ get_obj_from_str(config[\"target\"])(**config.get(\"params\", dict()))\r\
          \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py\"\
          , line 448, in __init__\r\nwebui-docker-auto-1  |     super().__init__(conditioning_key=conditioning_key,\
          \ *args, **kwargs)\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py\"\
          , line 86, in __init__\r\nwebui-docker-auto-1  |     self.model = DiffusionWrapper(unet_config,\
          \ conditioning_key)\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py\"\
          , line 1398, in __init__\r\nwebui-docker-auto-1  |     self.diffusion_model\
          \ = instantiate_from_config(diff_model_config)\r\nwebui-docker-auto-1  |\
          \   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/util.py\"\
          , line 85, in instantiate_from_config\r\nwebui-docker-auto-1  |     return\
          \ get_obj_from_str(config[\"target\"])(**config.get(\"params\", dict()))\r\
          \nwebui-docker-auto-1  | TypeError: UNetModel.__init__() got an unexpected\
          \ keyword argument 'use_linear_in_transformer'"
        updatedAt: '2023-01-12T09:52:26.807Z'
      numEdits: 0
      reactions: []
    id: 63bfd85a177bc4d05e46e41c
    type: comment
  author: lcrn
  content: "Output:\r\n\r\nwebui-docker-auto-1  | Loading config from: /stable-diffusion-webui/models/Stable-diffusion/wd-1-4-anime_e1.yaml\r\
    \nwebui-docker-auto-1  | LatentDiffusion: Running in eps-prediction mode\r\nwebui-docker-auto-1\
    \  | Traceback (most recent call last):\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/gradio/routes.py\"\
    , line 284, in run_predict\r\nwebui-docker-auto-1  |     output = await app.blocks.process_api(\r\
    \nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\"\
    , line 982, in process_api\r\nwebui-docker-auto-1  |     result = await self.call_function(fn_index,\
    \ inputs, iterator)\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/gradio/blocks.py\"\
    , line 824, in call_function\r\nwebui-docker-auto-1  |     prediction = await\
    \ anyio.to_thread.run_sync(\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/anyio/to_thread.py\"\
    , line 31, in run_sync\r\nwebui-docker-auto-1  |     return await get_asynclib().run_sync_in_worker_thread(\r\
    \nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
    , line 937, in run_sync_in_worker_thread\r\nwebui-docker-auto-1  |     return\
    \ await future\r\nwebui-docker-auto-1  |   File \"/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py\"\
    , line 867, in run\r\nwebui-docker-auto-1  |     result = context.run(func, *args)\r\
    \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/modules/ui.py\", line\
    \ 1667, in <lambda>\r\nwebui-docker-auto-1  |     fn=lambda value, k=k: run_settings_single(value,\
    \ key=k),\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/modules/ui.py\"\
    , line 1508, in run_settings_single\r\nwebui-docker-auto-1  |     if not opts.set(key,\
    \ value):\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/modules/shared.py\"\
    , line 454, in set\r\nwebui-docker-auto-1  |     self.data_labels[key].onchange()\r\
    \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/webui.py\", line 44,\
    \ in f\r\nwebui-docker-auto-1  |     res = func(*args, **kwargs)\r\nwebui-docker-auto-1\
    \  |   File \"/stable-diffusion-webui/webui.py\", line 86, in <lambda>\r\nwebui-docker-auto-1\
    \  |     shared.opts.onchange(\"sd_model_checkpoint\", wrap_queued_call(lambda:\
    \ modules.sd_models.reload_model_weights()))\r\nwebui-docker-auto-1  |   File\
    \ \"/stable-diffusion-webui/modules/sd_models.py\", line 279, in reload_model_weights\r\
    \nwebui-docker-auto-1  |     load_model(checkpoint_info)\r\nwebui-docker-auto-1\
    \  |   File \"/stable-diffusion-webui/modules/sd_models.py\", line 247, in load_model\r\
    \nwebui-docker-auto-1  |     sd_model = instantiate_from_config(sd_config.model)\r\
    \nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/util.py\"\
    , line 85, in instantiate_from_config\r\nwebui-docker-auto-1  |     return get_obj_from_str(config[\"\
    target\"])(**config.get(\"params\", dict()))\r\nwebui-docker-auto-1  |   File\
    \ \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py\"\
    , line 448, in __init__\r\nwebui-docker-auto-1  |     super().__init__(conditioning_key=conditioning_key,\
    \ *args, **kwargs)\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py\"\
    , line 86, in __init__\r\nwebui-docker-auto-1  |     self.model = DiffusionWrapper(unet_config,\
    \ conditioning_key)\r\nwebui-docker-auto-1  |   File \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/models/diffusion/ddpm.py\"\
    , line 1398, in __init__\r\nwebui-docker-auto-1  |     self.diffusion_model =\
    \ instantiate_from_config(diff_model_config)\r\nwebui-docker-auto-1  |   File\
    \ \"/stable-diffusion-webui/repositories/stable-diffusion/ldm/util.py\", line\
    \ 85, in instantiate_from_config\r\nwebui-docker-auto-1  |     return get_obj_from_str(config[\"\
    target\"])(**config.get(\"params\", dict()))\r\nwebui-docker-auto-1  | TypeError:\
    \ UNetModel.__init__() got an unexpected keyword argument 'use_linear_in_transformer'"
  created_at: 2023-01-12 09:52:26+00:00
  edited: false
  hidden: false
  id: 63bfd85a177bc4d05e46e41c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 28
repo_id: hakurei/waifu-diffusion-v1-4
repo_type: model
status: open
target_branch: null
title: Error when trying to load model
