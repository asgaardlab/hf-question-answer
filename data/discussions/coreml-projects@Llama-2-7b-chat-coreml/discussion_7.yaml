!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ltouati
conflicting_files: null
created_at: 2023-10-31 13:58:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/679ce870285bf60f44e78c9641c70998.svg
      fullname: Lionel Touati
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ltouati
      type: user
    createdAt: '2023-10-31T14:58:28.000Z'
    data:
      edited: false
      editors:
      - ltouati
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8973745703697205
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/679ce870285bf60f44e78c9641c70998.svg
          fullname: Lionel Touati
          isHf: false
          isPro: false
          name: ltouati
          type: user
        html: '<p>Hi Team,</p>

          <p>Am I doing anything wrong, I''ve just downloaded the model to use it
          on my MBP M1 and I get this message<br>No model could be loaded: Error Domain=com.apple.mlassetio
          Code=1 "Failed to parse the model specification. Error: Field number 14
          has wireType 6, which is not supported." UserInfo={NSLocalizedDescription=Failed
          to parse the model specification. Error: Field number 14 has wireType 6,
          which is not supported.}</p>

          '
        raw: "Hi Team,\r\n\r\nAm I doing anything wrong, I've just downloaded the\
          \ model to use it on my MBP M1 and I get this message\r\nNo model could\
          \ be loaded: Error Domain=com.apple.mlassetio Code=1 \"Failed to parse the\
          \ model specification. Error: Field number 14 has wireType 6, which is not\
          \ supported.\" UserInfo={NSLocalizedDescription=Failed to parse the model\
          \ specification. Error: Field number 14 has wireType 6, which is not supported.}\r\
          \n"
        updatedAt: '2023-10-31T14:58:28.080Z'
      numEdits: 0
      reactions: []
    id: 654116144a48289000a3d884
    type: comment
  author: ltouati
  content: "Hi Team,\r\n\r\nAm I doing anything wrong, I've just downloaded the model\
    \ to use it on my MBP M1 and I get this message\r\nNo model could be loaded: Error\
    \ Domain=com.apple.mlassetio Code=1 \"Failed to parse the model specification.\
    \ Error: Field number 14 has wireType 6, which is not supported.\" UserInfo={NSLocalizedDescription=Failed\
    \ to parse the model specification. Error: Field number 14 has wireType 6, which\
    \ is not supported.}\r\n"
  created_at: 2023-10-31 13:58:28+00:00
  edited: false
  hidden: false
  id: 654116144a48289000a3d884
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-10-31T19:46:19.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9298299551010132
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;ltouati&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/ltouati\">@<span class=\"\
          underline\">ltouati</span></a></span>\n\n\t</span></span>! What version\
          \ of macOS and Xcode are you using?</p>\n"
        raw: Hi @ltouati! What version of macOS and Xcode are you using?
        updatedAt: '2023-10-31T19:46:19.755Z'
      numEdits: 0
      reactions: []
    id: 6541598b807b8183e9b56c91
    type: comment
  author: pcuenq
  content: Hi @ltouati! What version of macOS and Xcode are you using?
  created_at: 2023-10-31 18:46:19+00:00
  edited: false
  hidden: false
  id: 6541598b807b8183e9b56c91
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/679ce870285bf60f44e78c9641c70998.svg
      fullname: Lionel Touati
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ltouati
      type: user
    createdAt: '2023-11-01T11:24:42.000Z'
    data:
      edited: false
      editors:
      - ltouati
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7854733467102051
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/679ce870285bf60f44e78c9641c70998.svg
          fullname: Lionel Touati
          isHf: false
          isPro: false
          name: ltouati
          type: user
        html: '<p>I''m running macOS Sonoma and Xcode Version 15.0.1 (15A507)</p>

          '
        raw: I'm running macOS Sonoma and Xcode Version 15.0.1 (15A507)
        updatedAt: '2023-11-01T11:24:42.870Z'
      numEdits: 0
      reactions: []
    id: 6542357a2274785dbbe2a3c1
    type: comment
  author: ltouati
  content: I'm running macOS Sonoma and Xcode Version 15.0.1 (15A507)
  created_at: 2023-11-01 10:24:42+00:00
  edited: false
  hidden: false
  id: 6542357a2274785dbbe2a3c1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64e54236a5e5f003f9e06c7b/1hzaC7ttiYnI9awnFllpx.jpeg?w=200&h=200&f=face
      fullname: Dylan Chung
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Phoenyx11
      type: user
    createdAt: '2023-11-13T18:37:21.000Z'
    data:
      edited: false
      editors:
      - Phoenyx11
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7261319160461426
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64e54236a5e5f003f9e06c7b/1hzaC7ttiYnI9awnFllpx.jpeg?w=200&h=200&f=face
          fullname: Dylan Chung
          isHf: false
          isPro: false
          name: Phoenyx11
          type: user
        html: '<p>Hi, </p>

          <p>I am having this same issue, MBP M1 Pro, same error message, same version
          (macOS Sonoma 14.1, Xcode 15.0.1). Any suggestions on how to fix? </p>

          '
        raw: "Hi, \n\nI am having this same issue, MBP M1 Pro, same error message,\
          \ same version (macOS Sonoma 14.1, Xcode 15.0.1). Any suggestions on how\
          \ to fix? "
        updatedAt: '2023-11-13T18:37:21.914Z'
      numEdits: 0
      reactions: []
    id: 65526ce13e99765b0393100b
    type: comment
  author: Phoenyx11
  content: "Hi, \n\nI am having this same issue, MBP M1 Pro, same error message, same\
    \ version (macOS Sonoma 14.1, Xcode 15.0.1). Any suggestions on how to fix? "
  created_at: 2023-11-13 18:37:21+00:00
  edited: false
  hidden: false
  id: 65526ce13e99765b0393100b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-11-17T15:50:04.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9024957418441772
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: '<p>I''ve been trying to reproduce this issue, but it works fine for
          me. There are only a couple of things I can think of:</p>

          <ul>

          <li>First, ensure you have plenty free disk space. Core ML preparation of
          large models can use big temporary files.</li>

          <li>Second, make sure the files have been correctly downloaded. If you downloaded
          them with <code>git</code>, it might be the case that the LFS binaries have
          not been expanded. I would recommend you download the repo with the <code>huggingface-cli</code>
          command-line tool, like so:</li>

          </ul>

          <pre><code class="language-bash">pip install --upgrade huggingface-cli

          huggingface-cli download --local-dir-use-symlinks False --local-dir ~/Desktop/Llama-2-7b-chat-coreml

          </code></pre>

          <p>That would place the model files in the <code>Llama-2-7b-chat-coreml</code>
          folder in your desktop. As a reference, file <code>llama-2-7b-chat.mlpackage/Data/com.apple.CoreML/weights</code>
          should have a size of <code>13476985472</code> bytes.</p>

          <p>Please, let me know if that helps!</p>

          '
        raw: 'I''ve been trying to reproduce this issue, but it works fine for me.
          There are only a couple of things I can think of:


          - First, ensure you have plenty free disk space. Core ML preparation of
          large models can use big temporary files.

          - Second, make sure the files have been correctly downloaded. If you downloaded
          them with `git`, it might be the case that the LFS binaries have not been
          expanded. I would recommend you download the repo with the `huggingface-cli`
          command-line tool, like so:


          ```bash

          pip install --upgrade huggingface-cli

          huggingface-cli download --local-dir-use-symlinks False --local-dir ~/Desktop/Llama-2-7b-chat-coreml

          ```


          That would place the model files in the `Llama-2-7b-chat-coreml` folder
          in your desktop. As a reference, file `llama-2-7b-chat.mlpackage/Data/com.apple.CoreML/weights`
          should have a size of `13476985472` bytes.


          Please, let me know if that helps!'
        updatedAt: '2023-11-17T15:50:04.762Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - fergusbisset
    id: 65578bac0bd9dbcb06c82031
    type: comment
  author: pcuenq
  content: 'I''ve been trying to reproduce this issue, but it works fine for me. There
    are only a couple of things I can think of:


    - First, ensure you have plenty free disk space. Core ML preparation of large
    models can use big temporary files.

    - Second, make sure the files have been correctly downloaded. If you downloaded
    them with `git`, it might be the case that the LFS binaries have not been expanded.
    I would recommend you download the repo with the `huggingface-cli` command-line
    tool, like so:


    ```bash

    pip install --upgrade huggingface-cli

    huggingface-cli download --local-dir-use-symlinks False --local-dir ~/Desktop/Llama-2-7b-chat-coreml

    ```


    That would place the model files in the `Llama-2-7b-chat-coreml` folder in your
    desktop. As a reference, file `llama-2-7b-chat.mlpackage/Data/com.apple.CoreML/weights`
    should have a size of `13476985472` bytes.


    Please, let me know if that helps!'
  created_at: 2023-11-17 15:50:04+00:00
  edited: false
  hidden: false
  id: 65578bac0bd9dbcb06c82031
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1669947056821-noauth.png?w=200&h=200&f=face
      fullname: Ronald Mannak
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ronaldmannak
      type: user
    createdAt: '2023-11-30T04:00:57.000Z'
    data:
      edited: false
      editors:
      - ronaldmannak
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9574072360992432
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1669947056821-noauth.png?w=200&h=200&f=face
          fullname: Ronald Mannak
          isHf: false
          isPro: false
          name: ronaldmannak
          type: user
        html: '<p>I''m able to replicate the issue when cloning the repo (without
          LFS). Both Weights.bin and model.mlmodel aren''t downloaded correctly without
          LFS enabled.</p>

          <p>To solve it, download both files manually from the Huggingface site,
          or alternatively, use <code>git lfs pull</code> after you''ve cloned the
          repo.</p>

          <p>In my case, my harddisk was also full and it took me a while to figure
          that out. MacOS Sonoma didn''t show any warning or error.</p>

          '
        raw: 'I''m able to replicate the issue when cloning the repo (without LFS).
          Both Weights.bin and model.mlmodel aren''t downloaded correctly without
          LFS enabled.


          To solve it, download both files manually from the Huggingface site, or
          alternatively, use `git lfs pull` after you''ve cloned the repo.


          In my case, my harddisk was also full and it took me a while to figure that
          out. MacOS Sonoma didn''t show any warning or error.'
        updatedAt: '2023-11-30T04:00:57.554Z'
      numEdits: 0
      reactions: []
    id: 656808f988bfbc261a3aed6c
    type: comment
  author: ronaldmannak
  content: 'I''m able to replicate the issue when cloning the repo (without LFS).
    Both Weights.bin and model.mlmodel aren''t downloaded correctly without LFS enabled.


    To solve it, download both files manually from the Huggingface site, or alternatively,
    use `git lfs pull` after you''ve cloned the repo.


    In my case, my harddisk was also full and it took me a while to figure that out.
    MacOS Sonoma didn''t show any warning or error.'
  created_at: 2023-11-30 04:00:57+00:00
  edited: false
  hidden: false
  id: 656808f988bfbc261a3aed6c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2db48640f4f7193ba52a4cef7e11c694.svg
      fullname: Jorge Vicente Mendoza
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 0xjorgev
      type: user
    createdAt: '2023-12-12T10:40:11.000Z'
    data:
      edited: false
      editors:
      - 0xjorgev
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7501678466796875
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2db48640f4f7193ba52a4cef7e11c694.svg
          fullname: Jorge Vicente Mendoza
          isHf: false
          isPro: false
          name: 0xjorgev
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;pcuenq&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/pcuenq\">@<span class=\"\
          underline\">pcuenq</span></a></span>\n\n\t</span></span> first of all thanks\
          \ for thinking and helping us (The Swift Developers!!), I'd been trying\
          \ to run swift-Chat with this model, It has the right size, as mentioned\
          \ above but still fails to load the model, in my case it was showing a missing\
          \ Manifest.json file, did add the file manually to the folder, now the error\
          \ goes like this:</p>\n<p>Compiling model file://Repositories/Llama-2-7b-chat-coreml/<br>No\
          \ model could be loaded: Error Domain=com.apple.CoreML Code=3 \"Failed to\
          \ read model package at file://..Repositories/Llama-2-7b-chat-coreml/. Error:\
          \ Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512\"\
          \ UserInfo={NSLocalizedDescription=Failed to read model package at file://..Repositories/Llama-2-7b-chat-coreml/.\
          \ Error: Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512}<br>Failed\
          \ to read model package at file://..Repositories/Llama-2-7b-chat-coreml/.\
          \ Error: Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512</p>\n\
          <p>Running on MacOS Sonoma 14<br>Xcode 15.0 (15A240d)<br>M1 MacBook PRO,\
          \ 16 GB</p>\n"
        raw: '@pcuenq first of all thanks for thinking and helping us (The Swift Developers!!),
          I''d been trying to run swift-Chat with this model, It has the right size,
          as mentioned above but still fails to load the model, in my case it was
          showing a missing Manifest.json file, did add the file manually to the folder,
          now the error goes like this:


          Compiling model file://Repositories/Llama-2-7b-chat-coreml/

          No model could be loaded: Error Domain=com.apple.CoreML Code=3 "Failed to
          read model package at file://..Repositories/Llama-2-7b-chat-coreml/. Error:
          Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512"
          UserInfo={NSLocalizedDescription=Failed to read model package at file://..Repositories/Llama-2-7b-chat-coreml/.
          Error: Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512}

          Failed to read model package at file://..Repositories/Llama-2-7b-chat-coreml/.
          Error: Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512



          Running on MacOS Sonoma 14

          Xcode 15.0 (15A240d)

          M1 MacBook PRO, 16 GB


          '
        updatedAt: '2023-12-12T10:40:11.343Z'
      numEdits: 0
      reactions: []
    id: 6578388b224758a1fc76931e
    type: comment
  author: 0xjorgev
  content: '@pcuenq first of all thanks for thinking and helping us (The Swift Developers!!),
    I''d been trying to run swift-Chat with this model, It has the right size, as
    mentioned above but still fails to load the model, in my case it was showing a
    missing Manifest.json file, did add the file manually to the folder, now the error
    goes like this:


    Compiling model file://Repositories/Llama-2-7b-chat-coreml/

    No model could be loaded: Error Domain=com.apple.CoreML Code=3 "Failed to read
    model package at file://..Repositories/Llama-2-7b-chat-coreml/. Error: Item does
    not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512" UserInfo={NSLocalizedDescription=Failed
    to read model package at file://..Repositories/Llama-2-7b-chat-coreml/. Error:
    Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512}

    Failed to read model package at file://..Repositories/Llama-2-7b-chat-coreml/.
    Error: Item does not exist for identifier: 4C2A622E-2520-4610-9DB5-C52668265512



    Running on MacOS Sonoma 14

    Xcode 15.0 (15A240d)

    M1 MacBook PRO, 16 GB


    '
  created_at: 2023-12-12 10:40:11+00:00
  edited: false
  hidden: false
  id: 6578388b224758a1fc76931e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: coreml-projects/Llama-2-7b-chat-coreml
repo_type: model
status: open
target_branch: null
title: Unable to load model in SwitChat example
