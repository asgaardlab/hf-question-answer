!!python/object:huggingface_hub.community.DiscussionWithDetails
author: kharish89
conflicting_files: null
created_at: 2023-07-18 22:38:34+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/832253ae93a6f7230b46013190ba61cf.svg
      fullname: Harish
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kharish89
      type: user
    createdAt: '2023-07-18T23:38:34.000Z'
    data:
      edited: false
      editors:
      - kharish89
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9273794293403625
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/832253ae93a6f7230b46013190ba61cf.svg
          fullname: Harish
          isHf: false
          isPro: false
          name: kharish89
          type: user
        html: '<p>Could you kindly provide more details on the hardware used and process
          of conversion in a blog/guide style. So many of the community members can
          benefit the learnings.</p>

          '
        raw: Could you kindly provide more details on the hardware used and process
          of conversion in a blog/guide style. So many of the community members can
          benefit the learnings.
        updatedAt: '2023-07-18T23:38:34.025Z'
      numEdits: 0
      reactions: []
    id: 64b7227aff6d81ae296c2c87
    type: comment
  author: kharish89
  content: Could you kindly provide more details on the hardware used and process
    of conversion in a blog/guide style. So many of the community members can benefit
    the learnings.
  created_at: 2023-07-18 22:38:34+00:00
  edited: false
  hidden: false
  id: 64b7227aff6d81ae296c2c87
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/88e54d237fd78b985bf18a5065fcaacb.svg
      fullname: xiaoyumin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xiaoymin
      type: user
    createdAt: '2023-07-19T05:37:22.000Z'
    data:
      edited: false
      editors:
      - xiaoymin
      hidden: false
      identifiedLanguage:
        language: it
        probability: 0.9861560463905334
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/88e54d237fd78b985bf18a5065fcaacb.svg
          fullname: xiaoyumin
          isHf: false
          isPro: false
          name: xiaoymin
          type: user
        html: '<p>+1</p>

          '
        raw: '+1'
        updatedAt: '2023-07-19T05:37:22.412Z'
      numEdits: 0
      reactions: []
    id: 64b77692fa7eabaae5fd0be1
    type: comment
  author: xiaoymin
  content: '+1'
  created_at: 2023-07-19 04:37:22+00:00
  edited: false
  hidden: false
  id: 64b77692fa7eabaae5fd0be1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-07-19T07:12:40.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9182590246200562
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: '<p>I''ll publish a guide focused on conversion in a few days!</p>

          <p>In addition, we need to provide some of the pieces required to perform
          text generation with the converted model: tokenizers, text generation strategies,
          etc. Working on it!</p>

          '
        raw: 'I''ll publish a guide focused on conversion in a few days!


          In addition, we need to provide some of the pieces required to perform text
          generation with the converted model: tokenizers, text generation strategies,
          etc. Working on it!'
        updatedAt: '2023-07-19T07:12:40.828Z'
      numEdits: 0
      reactions:
      - count: 7
        reaction: "\U0001F917"
        users:
        - graelo
        - vvekthkr
        - tmm1
        - ekelund
        - SriBalaaji
        - Leszekasdfff
        - anthonymikinka
    id: 64b78ce8a5018e3c7c9ca905
    type: comment
  author: pcuenq
  content: 'I''ll publish a guide focused on conversion in a few days!


    In addition, we need to provide some of the pieces required to perform text generation
    with the converted model: tokenizers, text generation strategies, etc. Working
    on it!'
  created_at: 2023-07-19 06:12:40+00:00
  edited: false
  hidden: false
  id: 64b78ce8a5018e3c7c9ca905
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/647b25fa01025ddbd990a982/Z2klfiW_gP7-Rcj_Wj2Aw.png?w=200&h=200&f=face
      fullname: graelo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: graelo
      type: user
    createdAt: '2023-07-22T19:28:05.000Z'
    data:
      edited: false
      editors:
      - graelo
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9112979173660278
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/647b25fa01025ddbd990a982/Z2klfiW_gP7-Rcj_Wj2Aw.png?w=200&h=200&f=face
          fullname: graelo
          isHf: false
          isPro: false
          name: graelo
          type: user
        html: "<p>Thanks <span data-props=\"{&quot;user&quot;:&quot;pcuenq&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/pcuenq\"\
          >@<span class=\"underline\">pcuenq</span></a></span>\n\n\t</span></span>,\
          \ I'm looking forward to it \u2764\uFE0F<br>Where will you publish it?</p>\n"
        raw: "Thanks @pcuenq, I'm looking forward to it \u2764\uFE0F\nWhere will you\
          \ publish it?"
        updatedAt: '2023-07-22T19:28:05.064Z'
      numEdits: 0
      reactions: []
    id: 64bc2dc56999b520ed46fece
    type: comment
  author: graelo
  content: "Thanks @pcuenq, I'm looking forward to it \u2764\uFE0F\nWhere will you\
    \ publish it?"
  created_at: 2023-07-22 18:28:05+00:00
  edited: false
  hidden: false
  id: 64bc2dc56999b520ed46fece
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Szu4twmIo3CEWIbaKNLta.png?w=200&h=200&f=face
      fullname: Fredrik Ekelund
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ekelund
      type: user
    createdAt: '2023-07-23T11:43:41.000Z'
    data:
      edited: false
      editors:
      - ekelund
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9809473156929016
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/Szu4twmIo3CEWIbaKNLta.png?w=200&h=200&f=face
          fullname: Fredrik Ekelund
          isHf: false
          isPro: false
          name: ekelund
          type: user
        html: '<p>That would be amazing! TIA.</p>

          '
        raw: That would be amazing! TIA.
        updatedAt: '2023-07-23T11:43:41.512Z'
      numEdits: 0
      reactions: []
    id: 64bd126df1a15daae634027a
    type: comment
  author: ekelund
  content: That would be amazing! TIA.
  created_at: 2023-07-23 10:43:41+00:00
  edited: false
  hidden: false
  id: 64bd126df1a15daae634027a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/65f3dba5530a8800b4af22de93d35e3d.svg
      fullname: Sri Balaaji Natarajan Kalaivendan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: SriBalaaji
      type: user
    createdAt: '2023-07-24T21:53:58.000Z'
    data:
      edited: false
      editors:
      - SriBalaaji
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9451022744178772
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/65f3dba5530a8800b4af22de93d35e3d.svg
          fullname: Sri Balaaji Natarajan Kalaivendan
          isHf: false
          isPro: false
          name: SriBalaaji
          type: user
        html: '<p>Thanks for the work </p>

          '
        raw: 'Thanks for the work '
        updatedAt: '2023-07-24T21:53:58.206Z'
      numEdits: 0
      reactions: []
    id: 64bef2f6c733e8552f05c21c
    type: comment
  author: SriBalaaji
  content: 'Thanks for the work '
  created_at: 2023-07-24 20:53:58+00:00
  edited: false
  hidden: false
  id: 64bef2f6c733e8552f05c21c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/389fdcf3bb3941e5d1235801eb5710e8.svg
      fullname: Miel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Leszekasdfff
      type: user
    createdAt: '2023-07-25T15:44:32.000Z'
    data:
      edited: false
      editors:
      - Leszekasdfff
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8901720643043518
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/389fdcf3bb3941e5d1235801eb5710e8.svg
          fullname: Miel
          isHf: false
          isPro: false
          name: Leszekasdfff
          type: user
        html: '<p>Hi! Thanks a lot for your work! Where the guide can be found?</p>

          '
        raw: Hi! Thanks a lot for your work! Where the guide can be found?
        updatedAt: '2023-07-25T15:44:32.396Z'
      numEdits: 0
      reactions: []
    id: 64bfede02a6258ff16ff0bde
    type: comment
  author: Leszekasdfff
  content: Hi! Thanks a lot for your work! Where the guide can be found?
  created_at: 2023-07-25 14:44:32+00:00
  edited: false
  hidden: false
  id: 64bfede02a6258ff16ff0bde
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/27eaddb194702c479f241e05050e76b6.svg
      fullname: Juan Cuello
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JECuello
      type: user
    createdAt: '2023-08-01T21:38:03.000Z'
    data:
      edited: false
      editors:
      - JECuello
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8991814255714417
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/27eaddb194702c479f241e05050e76b6.svg
          fullname: Juan Cuello
          isHf: false
          isPro: false
          name: JECuello
          type: user
        html: '<p>Amazing work!, There is a variant of the diffusers app adapted for
          querying  llama2?</p>

          '
        raw: Amazing work!, There is a variant of the diffusers app adapted for querying  llama2?
        updatedAt: '2023-08-01T21:38:03.780Z'
      numEdits: 0
      reactions: []
    id: 64c97b3b0d3d1b209d3bc0a3
    type: comment
  author: JECuello
  content: Amazing work!, There is a variant of the diffusers app adapted for querying  llama2?
  created_at: 2023-08-01 20:38:03+00:00
  edited: false
  hidden: false
  id: 64c97b3b0d3d1b209d3bc0a3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-08-23T10:46:58.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9188026189804077
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: '<p>In case you didn''t see it, we published <code>swift-transformers</code>
          and this post a couple of weeks ago: <a href="https://huggingface.co/blog/swift-coreml-llm">https://huggingface.co/blog/swift-coreml-llm</a></p>

          <p>Please, let us know if that''s helpful, or if you''d like us to dive
          in more depth on any of the topics :)</p>

          '
        raw: 'In case you didn''t see it, we published `swift-transformers` and this
          post a couple of weeks ago: https://huggingface.co/blog/swift-coreml-llm


          Please, let us know if that''s helpful, or if you''d like us to dive in
          more depth on any of the topics :)'
        updatedAt: '2023-08-23T10:46:58.179Z'
      numEdits: 0
      reactions:
      - count: 4
        reaction: "\U0001F44D"
        users:
        - xiaoymin
        - Ovats
        - JECuello
        - talhankoc
      - count: 3
        reaction: "\u2764\uFE0F"
        users:
        - kharish89
        - JECuello
        - ekelund
    id: 64e5e3a2c2f5db9d01477b3d
    type: comment
  author: pcuenq
  content: 'In case you didn''t see it, we published `swift-transformers` and this
    post a couple of weeks ago: https://huggingface.co/blog/swift-coreml-llm


    Please, let us know if that''s helpful, or if you''d like us to dive in more depth
    on any of the topics :)'
  created_at: 2023-08-23 09:46:58+00:00
  edited: false
  hidden: false
  id: 64e5e3a2c2f5db9d01477b3d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d66e7bcbf93fe1295e99a19cb7d7ada9.svg
      fullname: Oshin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Ovats
      type: user
    createdAt: '2023-08-24T10:15:36.000Z'
    data:
      edited: false
      editors:
      - Ovats
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9178263545036316
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d66e7bcbf93fe1295e99a19cb7d7ada9.svg
          fullname: Oshin
          isHf: false
          isPro: false
          name: Ovats
          type: user
        html: '<p>complete noob here, but would it be possible to show how to run
          the coreML model? I am attempting to build a stock app that can process
          news and give a summary on a stock, but when I load the model, it requires
          the attention mask and the inputs are in the form of an integer array. Not
          sure how to use the tokenizer in coreML for it</p>

          '
        raw: complete noob here, but would it be possible to show how to run the coreML
          model? I am attempting to build a stock app that can process news and give
          a summary on a stock, but when I load the model, it requires the attention
          mask and the inputs are in the form of an integer array. Not sure how to
          use the tokenizer in coreML for it
        updatedAt: '2023-08-24T10:15:36.145Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - Ovats
        - SriBalaaji
        - Ahersi206
    id: 64e72dc86096e5928257c043
    type: comment
  author: Ovats
  content: complete noob here, but would it be possible to show how to run the coreML
    model? I am attempting to build a stock app that can process news and give a summary
    on a stock, but when I load the model, it requires the attention mask and the
    inputs are in the form of an integer array. Not sure how to use the tokenizer
    in coreML for it
  created_at: 2023-08-24 09:15:36+00:00
  edited: false
  hidden: false
  id: 64e72dc86096e5928257c043
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/832253ae93a6f7230b46013190ba61cf.svg
      fullname: Harish
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kharish89
      type: user
    createdAt: '2023-08-25T04:08:03.000Z'
    data:
      edited: false
      editors:
      - kharish89
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9350748658180237
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/832253ae93a6f7230b46013190ba61cf.svg
          fullname: Harish
          isHf: false
          isPro: false
          name: kharish89
          type: user
        html: '<p>Thanks for sharing!</p>

          '
        raw: Thanks for sharing!
        updatedAt: '2023-08-25T04:08:03.878Z'
      numEdits: 0
      reactions: []
    id: 64e8292342dd0350cbd8c1bd
    type: comment
  author: kharish89
  content: Thanks for sharing!
  created_at: 2023-08-25 03:08:03+00:00
  edited: false
  hidden: false
  id: 64e8292342dd0350cbd8c1bd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61b253b7ac5ecaae3d1efe0c/hwiQ0uvz3t-L5a-NtBIO6.png?w=200&h=200&f=face
      fullname: Joshua
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Xenova
      type: user
    createdAt: '2023-08-25T15:40:34.000Z'
    data:
      edited: true
      editors:
      - Xenova
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7646323442459106
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61b253b7ac5ecaae3d1efe0c/hwiQ0uvz3t-L5a-NtBIO6.png?w=200&h=200&f=face
          fullname: Joshua
          isHf: true
          isPro: false
          name: Xenova
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Ovats&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Ovats\">@<span class=\"\
          underline\">Ovats</span></a></span>\n\n\t</span></span> Perhaps <a href=\"\
          https://huggingface.co/blog/swift-coreml-llm#tokenizers\">this section</a>\
          \ in the blog post could help! It covers how to do tokenization in Swift\
          \ with <a rel=\"nofollow\" href=\"https://github.com/huggingface/swift-transformers\"\
          ><code>swift-transformers</code></a>.</p>\n<pre><code class=\"language-swift\"\
          ><span class=\"hljs-keyword\">import</span> Tokenizers\n\n<span class=\"\
          hljs-keyword\">func</span> <span class=\"hljs-title function_\">testTokenizer</span>()\
          \ <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\"\
          >throws</span> {\n    <span class=\"hljs-keyword\">let</span> tokenizer\
          \ <span class=\"hljs-operator\">=</span> <span class=\"hljs-keyword\">try</span>\
          \ <span class=\"hljs-keyword\">await</span> <span class=\"hljs-type\">AutoTokenizer</span>.from(pretrained:\
          \ <span class=\"hljs-string\">\"pcuenq/Llama-2-7b-chat-coreml\"</span>)\n\
          \    <span class=\"hljs-keyword\">let</span> inputIds <span class=\"hljs-operator\"\
          >=</span> tokenizer(<span class=\"hljs-string\">\"Today she took a train\
          \ to the West\"</span>)\n    <span class=\"hljs-built_in\">assert</span>(inputIds\
          \ <span class=\"hljs-operator\">==</span> [<span class=\"hljs-number\">1</span>,\
          \ <span class=\"hljs-number\">20628</span>, <span class=\"hljs-number\"\
          >1183</span>, <span class=\"hljs-number\">3614</span>, <span class=\"hljs-number\"\
          >263</span>, <span class=\"hljs-number\">7945</span>, <span class=\"hljs-number\"\
          >304</span>, <span class=\"hljs-number\">278</span>, <span class=\"hljs-number\"\
          >3122</span>])\n}\n</code></pre>\n<p>The <a rel=\"nofollow\" href=\"https://github.com/huggingface/swift-transformers\"\
          >swift-transformers</a> library is still new though, and <span data-props=\"\
          {&quot;user&quot;:&quot;pcuenq&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/pcuenq\">@<span class=\"underline\">pcuenq</span></a></span>\n\
          \n\t</span></span> will be making improvements to it to make it even easier!\
          \ Perhaps he can add some extra context here too.</p>\n"
        raw: "@Ovats Perhaps [this section](https://huggingface.co/blog/swift-coreml-llm#tokenizers)\
          \ in the blog post could help! It covers how to do tokenization in Swift\
          \ with [`swift-transformers`](https://github.com/huggingface/swift-transformers).\n\
          \n```swift\nimport Tokenizers\n\nfunc testTokenizer() async throws {\n \
          \   let tokenizer = try await AutoTokenizer.from(pretrained: \"pcuenq/Llama-2-7b-chat-coreml\"\
          )\n    let inputIds = tokenizer(\"Today she took a train to the West\")\n\
          \    assert(inputIds == [1, 20628, 1183, 3614, 263, 7945, 304, 278, 3122])\n\
          }\n```\n\nThe [swift-transformers](https://github.com/huggingface/swift-transformers)\
          \ library is still new though, and @pcuenq will be making improvements to\
          \ it to make it even easier! Perhaps he can add some extra context here\
          \ too."
        updatedAt: '2023-08-25T15:41:09.675Z'
      numEdits: 2
      reactions: []
    id: 64e8cb72d021ea7dfac08be1
    type: comment
  author: Xenova
  content: "@Ovats Perhaps [this section](https://huggingface.co/blog/swift-coreml-llm#tokenizers)\
    \ in the blog post could help! It covers how to do tokenization in Swift with\
    \ [`swift-transformers`](https://github.com/huggingface/swift-transformers).\n\
    \n```swift\nimport Tokenizers\n\nfunc testTokenizer() async throws {\n    let\
    \ tokenizer = try await AutoTokenizer.from(pretrained: \"pcuenq/Llama-2-7b-chat-coreml\"\
    )\n    let inputIds = tokenizer(\"Today she took a train to the West\")\n    assert(inputIds\
    \ == [1, 20628, 1183, 3614, 263, 7945, 304, 278, 3122])\n}\n```\n\nThe [swift-transformers](https://github.com/huggingface/swift-transformers)\
    \ library is still new though, and @pcuenq will be making improvements to it to\
    \ make it even easier! Perhaps he can add some extra context here too."
  created_at: 2023-08-25 14:40:34+00:00
  edited: true
  hidden: false
  id: 64e8cb72d021ea7dfac08be1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-08-27T17:41:50.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7419065237045288
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;Ovats&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Ovats\">@<span class=\"\
          underline\">Ovats</span></a></span>\n\n\t</span></span>!</p>\n<p>The <code>swift-transformers</code>\
          \ library will deal with many of those details automatically. I would recommend\
          \ you take a look at the <a rel=\"nofollow\" href=\"https://github.com/huggingface/swift-chat\"\
          ><code>swift-chat</code> example app</a>, which simply calls <code>generate</code>\
          \ with a <a rel=\"nofollow\" href=\"https://github.com/huggingface/swift-chat/blob/6895f4abe59d6fd3c43b3f0109b0ebd9cd2abf98/SwiftChat/ContentView.swift#L86\"\
          >prompt and a configuration object</a> and <code>swift-transformers</code>\
          \ will do the rest. Under the hood, it will:</p>\n<ul>\n<li>Tokenize the\
          \ prompt, using code similar to what <span data-props=\"{&quot;user&quot;:&quot;Xenova&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Xenova\"\
          >@<span class=\"underline\">Xenova</span></a></span>\n\n\t</span></span>\
          \ posted above.</li>\n<li>Invoke the model repeatedly, because language\
          \ models produce one token at a time. For example, the <a rel=\"nofollow\"\
          \ href=\"https://github.com/huggingface/swift-transformers/blob/main/Sources/Generation/Generation.swift#L38\"\
          ><code>greedySearch</code> generation method</a> uses a loop to get the\
          \ most probable token each time, and it appends it to the output.</li>\n\
          <li>Prepare a suitable <a rel=\"nofollow\" href=\"https://github.com/huggingface/swift-transformers/blob/9e01d03f729b7ca404caf6b442ef491687ba457b/Sources/Models/LanguageModel.swift#L120\"\
          >attention mask</a> when necessary (not all models require it).</li>\n</ul>\n\
          <p>Please, let us know if that helps!</p>\n"
        raw: 'Hi @Ovats!


          The `swift-transformers` library will deal with many of those details automatically.
          I would recommend you take a look at the [`swift-chat` example app](https://github.com/huggingface/swift-chat),
          which simply calls `generate` with a [prompt and a configuration object](https://github.com/huggingface/swift-chat/blob/6895f4abe59d6fd3c43b3f0109b0ebd9cd2abf98/SwiftChat/ContentView.swift#L86)
          and `swift-transformers` will do the rest. Under the hood, it will:


          - Tokenize the prompt, using code similar to what @Xenova posted above.

          - Invoke the model repeatedly, because language models produce one token
          at a time. For example, the [`greedySearch` generation method](https://github.com/huggingface/swift-transformers/blob/main/Sources/Generation/Generation.swift#L38)
          uses a loop to get the most probable token each time, and it appends it
          to the output.

          - Prepare a suitable [attention mask](https://github.com/huggingface/swift-transformers/blob/9e01d03f729b7ca404caf6b442ef491687ba457b/Sources/Models/LanguageModel.swift#L120)
          when necessary (not all models require it).


          Please, let us know if that helps!'
        updatedAt: '2023-08-27T17:41:50.534Z'
      numEdits: 0
      reactions: []
    id: 64eb8adef72e054cab63c81e
    type: comment
  author: pcuenq
  content: 'Hi @Ovats!


    The `swift-transformers` library will deal with many of those details automatically.
    I would recommend you take a look at the [`swift-chat` example app](https://github.com/huggingface/swift-chat),
    which simply calls `generate` with a [prompt and a configuration object](https://github.com/huggingface/swift-chat/blob/6895f4abe59d6fd3c43b3f0109b0ebd9cd2abf98/SwiftChat/ContentView.swift#L86)
    and `swift-transformers` will do the rest. Under the hood, it will:


    - Tokenize the prompt, using code similar to what @Xenova posted above.

    - Invoke the model repeatedly, because language models produce one token at a
    time. For example, the [`greedySearch` generation method](https://github.com/huggingface/swift-transformers/blob/main/Sources/Generation/Generation.swift#L38)
    uses a loop to get the most probable token each time, and it appends it to the
    output.

    - Prepare a suitable [attention mask](https://github.com/huggingface/swift-transformers/blob/9e01d03f729b7ca404caf6b442ef491687ba457b/Sources/Models/LanguageModel.swift#L120)
    when necessary (not all models require it).


    Please, let us know if that helps!'
  created_at: 2023-08-27 16:41:50+00:00
  edited: false
  hidden: false
  id: 64eb8adef72e054cab63c81e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: coreml-projects/Llama-2-7b-chat-coreml
repo_type: model
status: open
target_branch: null
title: Understanding CoreML conversion of llama 2 7b
