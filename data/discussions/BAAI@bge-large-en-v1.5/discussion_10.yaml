!!python/object:huggingface_hub.community.DiscussionWithDetails
author: rubastos
conflicting_files: null
created_at: 2023-12-20 10:55:32+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e659a40b35fe62d6d0306ae9be6fd3aa.svg
      fullname: Rui Bastos
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rubastos
      type: user
    createdAt: '2023-12-20T10:55:32.000Z'
    data:
      edited: true
      editors:
      - rubastos
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8948284983634949
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e659a40b35fe62d6d0306ae9be6fd3aa.svg
          fullname: Rui Bastos
          isHf: false
          isPro: false
          name: rubastos
          type: user
        html: '<p>Hello,</p>

          <p>I''m trying to import BAAI/bge-large-en-v1.5 into a AWS SageMaker container,
          but the import fails with</p>

          <p>ValueError: BertLMHeadModel does not support <code>device_map=''auto''</code>.
          To implement support, the modelclass needs to implement the <code>_no_split_modules</code>
          attribute.</p>

          <p>This same error seems to have already been raised in a different context,
          cf. <a rel="nofollow" href="https://github.com/huggingface/transformers/issues/25296">https://github.com/huggingface/transformers/issues/25296</a>.
          Are there any updates on this, or is it still a known open issue?</p>

          <p>If there''s any additional info I may provide, please let me know.</p>

          <p>Thanks!</p>

          '
        raw: 'Hello,


          I''m trying to import BAAI/bge-large-en-v1.5 into a AWS SageMaker container,
          but the import fails with


          ValueError: BertLMHeadModel does not support `device_map=''auto''`. To implement
          support, the modelclass needs to implement the `_no_split_modules` attribute.


          This same error seems to have already been raised in a different context,
          cf. https://github.com/huggingface/transformers/issues/25296. Are there
          any updates on this, or is it still a known open issue?


          If there''s any additional info I may provide, please let me know.


          Thanks!


          '
        updatedAt: '2023-12-20T11:18:57.184Z'
      numEdits: 1
      reactions: []
    id: 6582c82490aa0254b0b92ae4
    type: comment
  author: rubastos
  content: 'Hello,


    I''m trying to import BAAI/bge-large-en-v1.5 into a AWS SageMaker container, but
    the import fails with


    ValueError: BertLMHeadModel does not support `device_map=''auto''`. To implement
    support, the modelclass needs to implement the `_no_split_modules` attribute.


    This same error seems to have already been raised in a different context, cf.
    https://github.com/huggingface/transformers/issues/25296. Are there any updates
    on this, or is it still a known open issue?


    If there''s any additional info I may provide, please let me know.


    Thanks!


    '
  created_at: 2023-12-20 10:55:32+00:00
  edited: true
  hidden: false
  id: 6582c82490aa0254b0b92ae4
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 10
repo_id: BAAI/bge-large-en-v1.5
repo_type: model
status: open
target_branch: null
title: Error while importing into AWS SageMaker container
