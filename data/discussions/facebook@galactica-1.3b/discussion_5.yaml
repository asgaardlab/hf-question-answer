!!python/object:huggingface_hub.community.DiscussionWithDetails
author: davidbernat
conflicting_files: null
created_at: 2022-11-26 16:44:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/04e771182605e6deff0c4b8496fedef3.svg
      fullname: David
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: davidbernat
      type: user
    createdAt: '2022-11-26T16:44:52.000Z'
    data:
      edited: false
      editors:
      - davidbernat
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/04e771182605e6deff0c4b8496fedef3.svg
          fullname: David
          isHf: false
          isPro: false
          name: davidbernat
          type: user
        html: '<p>Start here: <a href="https://huggingface.co/blog/how-to-generate">https://huggingface.co/blog/how-to-generate</a></p>

          <p>There are numerous configurations and trade-offs to learn which instantly
          produce vastly superior results to the out-of-the-box configuration. If
          you post your efforts and experiments here I will try to run them myself.
          Maybe we can learn together.</p>

          '
        raw: "Start here: https://huggingface.co/blog/how-to-generate\r\n\r\nThere\
          \ are numerous configurations and trade-offs to learn which instantly produce\
          \ vastly superior results to the out-of-the-box configuration. If you post\
          \ your efforts and experiments here I will try to run them myself. Maybe\
          \ we can learn together."
        updatedAt: '2022-11-26T16:44:52.893Z'
      numEdits: 0
      reactions: []
    id: 6382428454421460665fa2a5
    type: comment
  author: davidbernat
  content: "Start here: https://huggingface.co/blog/how-to-generate\r\n\r\nThere are\
    \ numerous configurations and trade-offs to learn which instantly produce vastly\
    \ superior results to the out-of-the-box configuration. If you post your efforts\
    \ and experiments here I will try to run them myself. Maybe we can learn together."
  created_at: 2022-11-26 16:44:52+00:00
  edited: false
  hidden: false
  id: 6382428454421460665fa2a5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e415d32515656cad0d8fb48e2f7298b3.svg
      fullname: Haider Alwasiti
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: hwasiti
      type: user
    createdAt: '2022-12-07T20:24:21.000Z'
    data:
      edited: true
      editors:
      - hwasiti
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e415d32515656cad0d8fb48e2f7298b3.svg
          fullname: Haider Alwasiti
          isHf: false
          isPro: false
          name: hwasiti
          type: user
        html: "<p>For me this worked well:</p>\n<pre><code>input_text = \"\"\"\n#\
          \ Why genetic diversity is important for biodiversity conservation?\n\n\
          ## INTRODUCTION\n\"\"\"\n\nrandomizer_value = 251\nrepititions = 1 # 4\n\
          \n# set seed to reproduce results. Feel free to change the seed though to\
          \ get different results\ntorch.manual_seed(randomizer_value)\n\n# input_ids\
          \ = tokenizer(input_text, return_tensors=\"pt\").input_ids   ###############\
          \ CPU only\ninput_ids = tokenizer(input_text, return_tensors=\"pt\").input_ids.to(\"\
          cuda\")\n\n# set top_k = 50 and set top_p = 0.95 and num_return_sequences\
          \ = 3\nsample_outputs = model.generate(\n    input_ids,\n    do_sample=True,\
          \ \n    max_length=2000, \n    top_k=50, \n    top_p=0.95, \n    num_return_sequences=repititions\n\
          )\n\nprint(\"Output:\\n\" + 100 * '-')\nfor i, sample_output in enumerate(sample_outputs):\n\
          \    print(\"{}: {}\".format(i, tokenizer.decode(sample_output, skip_special_tokens=False)))\n\
          \    print('--------------------------------------------------------------')\n\
          \n</code></pre>\n"
        raw: "For me this worked well:\n\n```\ninput_text = \"\"\"\n# Why genetic\
          \ diversity is important for biodiversity conservation?\n\n## INTRODUCTION\n\
          \"\"\"\n\nrandomizer_value = 251\nrepititions = 1 # 4\n\n# set seed to reproduce\
          \ results. Feel free to change the seed though to get different results\n\
          torch.manual_seed(randomizer_value)\n\n# input_ids = tokenizer(input_text,\
          \ return_tensors=\"pt\").input_ids   ############### CPU only\ninput_ids\
          \ = tokenizer(input_text, return_tensors=\"pt\").input_ids.to(\"cuda\")\n\
          \n# set top_k = 50 and set top_p = 0.95 and num_return_sequences = 3\nsample_outputs\
          \ = model.generate(\n    input_ids,\n    do_sample=True, \n    max_length=2000,\
          \ \n    top_k=50, \n    top_p=0.95, \n    num_return_sequences=repititions\n\
          )\n\nprint(\"Output:\\n\" + 100 * '-')\nfor i, sample_output in enumerate(sample_outputs):\n\
          \    print(\"{}: {}\".format(i, tokenizer.decode(sample_output, skip_special_tokens=False)))\n\
          \    print('--------------------------------------------------------------')\n\
          \n\n```"
        updatedAt: '2022-12-07T20:25:36.280Z'
      numEdits: 1
      reactions: []
    id: 6390f675de25f9eda5717e6a
    type: comment
  author: hwasiti
  content: "For me this worked well:\n\n```\ninput_text = \"\"\"\n# Why genetic diversity\
    \ is important for biodiversity conservation?\n\n## INTRODUCTION\n\"\"\"\n\nrandomizer_value\
    \ = 251\nrepititions = 1 # 4\n\n# set seed to reproduce results. Feel free to\
    \ change the seed though to get different results\ntorch.manual_seed(randomizer_value)\n\
    \n# input_ids = tokenizer(input_text, return_tensors=\"pt\").input_ids   ###############\
    \ CPU only\ninput_ids = tokenizer(input_text, return_tensors=\"pt\").input_ids.to(\"\
    cuda\")\n\n# set top_k = 50 and set top_p = 0.95 and num_return_sequences = 3\n\
    sample_outputs = model.generate(\n    input_ids,\n    do_sample=True, \n    max_length=2000,\
    \ \n    top_k=50, \n    top_p=0.95, \n    num_return_sequences=repititions\n)\n\
    \nprint(\"Output:\\n\" + 100 * '-')\nfor i, sample_output in enumerate(sample_outputs):\n\
    \    print(\"{}: {}\".format(i, tokenizer.decode(sample_output, skip_special_tokens=False)))\n\
    \    print('--------------------------------------------------------------')\n\
    \n\n```"
  created_at: 2022-12-07 20:24:21+00:00
  edited: true
  hidden: false
  id: 6390f675de25f9eda5717e6a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/04e771182605e6deff0c4b8496fedef3.svg
      fullname: David
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: davidbernat
      type: user
    createdAt: '2022-12-08T12:33:12.000Z'
    data:
      edited: false
      editors:
      - davidbernat
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/04e771182605e6deff0c4b8496fedef3.svg
          fullname: David
          isHf: false
          isPro: false
          name: davidbernat
          type: user
        html: '<p>Yes. Those are, essentially, the parameters specified here. <a href="https://huggingface.co/blog/how-to-generate">https://huggingface.co/blog/how-to-generate</a><br>You
          are probably making smart decisions by adding the header of the first section
          you want to compile.<br>I have noticed Galactica often struggles with that
          initiation otherwise.<br>What is your use case?</p>

          '
        raw: "Yes. Those are, essentially, the parameters specified here. https://huggingface.co/blog/how-to-generate\n\
          You are probably making smart decisions by adding the header of the first\
          \ section you want to compile. \nI have noticed Galactica often struggles\
          \ with that initiation otherwise. \nWhat is your use case?"
        updatedAt: '2022-12-08T12:33:12.290Z'
      numEdits: 0
      reactions: []
    id: 6391d988bbbe15777d65f0d3
    type: comment
  author: davidbernat
  content: "Yes. Those are, essentially, the parameters specified here. https://huggingface.co/blog/how-to-generate\n\
    You are probably making smart decisions by adding the header of the first section\
    \ you want to compile. \nI have noticed Galactica often struggles with that initiation\
    \ otherwise. \nWhat is your use case?"
  created_at: 2022-12-08 12:33:12+00:00
  edited: false
  hidden: false
  id: 6391d988bbbe15777d65f0d3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1662848908113-6317eee61d6018cb851af5a7.jpeg?w=200&h=200&f=face
      fullname: Devon M
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Delcos
      type: user
    createdAt: '2022-12-30T03:06:36.000Z'
    data:
      edited: false
      editors:
      - Delcos
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1662848908113-6317eee61d6018cb851af5a7.jpeg?w=200&h=200&f=face
          fullname: Devon M
          isHf: false
          isPro: false
          name: Delcos
          type: user
        html: '<blockquote>

          <p>Yes. Those are, essentially, the parameters specified here. <a href="https://huggingface.co/blog/how-to-generate">https://huggingface.co/blog/how-to-generate</a><br>You
          are probably making smart decisions by adding the header of the first section
          you want to compile.<br>I have noticed Galactica often struggles with that
          initiation otherwise.<br>What is your use case?</p>

          </blockquote>

          <p>"You are probably making smart decisions by adding the header of the
          first section you want to compile."</p>

          <p>What do you mean?</p>

          '
        raw: "> Yes. Those are, essentially, the parameters specified here. https://huggingface.co/blog/how-to-generate\n\
          > You are probably making smart decisions by adding the header of the first\
          \ section you want to compile. \n> I have noticed Galactica often struggles\
          \ with that initiation otherwise. \n> What is your use case?\n\n\"You are\
          \ probably making smart decisions by adding the header of the first section\
          \ you want to compile.\"\n\nWhat do you mean?"
        updatedAt: '2022-12-30T03:06:36.814Z'
      numEdits: 0
      reactions: []
    id: 63ae55bc8b50b36a18a315dd
    type: comment
  author: Delcos
  content: "> Yes. Those are, essentially, the parameters specified here. https://huggingface.co/blog/how-to-generate\n\
    > You are probably making smart decisions by adding the header of the first section\
    \ you want to compile. \n> I have noticed Galactica often struggles with that\
    \ initiation otherwise. \n> What is your use case?\n\n\"You are probably making\
    \ smart decisions by adding the header of the first section you want to compile.\"\
    \n\nWhat do you mean?"
  created_at: 2022-12-30 03:06:36+00:00
  edited: false
  hidden: false
  id: 63ae55bc8b50b36a18a315dd
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: facebook/galactica-1.3b
repo_type: model
status: open
target_branch: null
title: '[Learning; Long-thread] Where to begin to learn how to configure your models''
  generation output?'
