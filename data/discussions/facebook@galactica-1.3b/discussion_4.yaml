!!python/object:huggingface_hub.community.DiscussionWithDetails
author: MonsterMMORPG
conflicting_files: null
created_at: 2022-11-19 14:21:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672531901326-6345bd89fe134dfd7a0dba40.png?w=200&h=200&f=face
      fullname: "Furkan G\xF6z\xFCkara"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MonsterMMORPG
      type: user
    createdAt: '2022-11-19T14:21:08.000Z'
    data:
      edited: false
      editors:
      - MonsterMMORPG
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672531901326-6345bd89fe134dfd7a0dba40.png?w=200&h=200&f=face
          fullname: "Furkan G\xF6z\xFCkara"
          isHf: false
          isPro: false
          name: MonsterMMORPG
          type: user
        html: "<p>Here my entire command</p>\n<pre><code>from transformers import\
          \ AutoTokenizer, OPTForCausalLM\n\ntokenizer = AutoTokenizer.from_pretrained(\"\
          facebook/galactica-1.3b\")\nmodel = OPTForCausalLM.from_pretrained(\"facebook/galactica-1.3b\"\
          , device_map=\"auto\")\n\n \ninput_text = \"The benefits of deadlifting\\\
          n\\n\"\ninput_ids = tokenizer(input_text, return_tensors=\"pt\").input_ids.to(\"\
          cuda\")\n\noutputs = model.generate(input_ids,new_doc=False,top_p=0.7, max_length=1000)\n\
          print(tokenizer.decode(outputs[0]))\n</code></pre>\n<p><strong>And the output\
          \ is total repetition and garbage. I am trying to generate an article based\
          \ on the topic sentence I provide</strong></p>\n<p>Also even 28 GB VRAM\
          \ is not enough for 6.7b model. I am testing CPU runtime on IPU and it has\
          \ been more than 2 hours with just 6.7b model.</p>\n<p>the output as below</p>\n\
          <blockquote>\n<p>The benefits of deadlifting</p>\n<p>The benefits of deadlifting\
          \ are numerous. It is a simple, inexpensive, and effective method of reducing\
          \ the risk of injury to the shoulder and elbow. It is also a simple and\
          \ effective method of reducing the risk of injury to the hand.</p>\n<h3\
          \ id=\"shoulder\">Shoulder</h3>\n<p> The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper extremity. The shoulder is the most common site\
          \ of injury to the upper</p>\n</blockquote>\n"
        raw: "Here my entire command\r\n\r\n```\r\nfrom transformers import AutoTokenizer,\
          \ OPTForCausalLM\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(\"facebook/galactica-1.3b\"\
          )\r\nmodel = OPTForCausalLM.from_pretrained(\"facebook/galactica-1.3b\"\
          , device_map=\"auto\")\r\n\r\n \r\ninput_text = \"The benefits of deadlifting\\\
          n\\n\"\r\ninput_ids = tokenizer(input_text, return_tensors=\"pt\").input_ids.to(\"\
          cuda\")\r\n\r\noutputs = model.generate(input_ids,new_doc=False,top_p=0.7,\
          \ max_length=1000)\r\nprint(tokenizer.decode(outputs[0]))\r\n```\r\n\r\n\
          **And the output is total repetition and garbage. I am trying to generate\
          \ an article based on the topic sentence I provide**\r\n\r\nAlso even 28\
          \ GB VRAM is not enough for 6.7b model. I am testing CPU runtime on IPU\
          \ and it has been more than 2 hours with just 6.7b model.\r\n\r\nthe output\
          \ as below\r\n\r\n> The benefits of deadlifting\r\n> \r\n> The benefits\
          \ of deadlifting are numerous. It is a simple, inexpensive, and effective\
          \ method of reducing the risk of injury to the shoulder and elbow. It is\
          \ also a simple and effective method of reducing the risk of injury to the\
          \ hand.\r\n> \r\n> ### Shoulder\r\n> \r\n>  The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper extremity. The shoulder is the most common\
          \ site of injury to the upper\r\n> "
        updatedAt: '2022-11-19T14:21:08.041Z'
      numEdits: 0
      reactions: []
    id: 6378e65481c1783a4a2a2fef
    type: comment
  author: MonsterMMORPG
  content: "Here my entire command\r\n\r\n```\r\nfrom transformers import AutoTokenizer,\
    \ OPTForCausalLM\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(\"facebook/galactica-1.3b\"\
    )\r\nmodel = OPTForCausalLM.from_pretrained(\"facebook/galactica-1.3b\", device_map=\"\
    auto\")\r\n\r\n \r\ninput_text = \"The benefits of deadlifting\\n\\n\"\r\ninput_ids\
    \ = tokenizer(input_text, return_tensors=\"pt\").input_ids.to(\"cuda\")\r\n\r\n\
    outputs = model.generate(input_ids,new_doc=False,top_p=0.7, max_length=1000)\r\
    \nprint(tokenizer.decode(outputs[0]))\r\n```\r\n\r\n**And the output is total\
    \ repetition and garbage. I am trying to generate an article based on the topic\
    \ sentence I provide**\r\n\r\nAlso even 28 GB VRAM is not enough for 6.7b model.\
    \ I am testing CPU runtime on IPU and it has been more than 2 hours with just\
    \ 6.7b model.\r\n\r\nthe output as below\r\n\r\n> The benefits of deadlifting\r\
    \n> \r\n> The benefits of deadlifting are numerous. It is a simple, inexpensive,\
    \ and effective method of reducing the risk of injury to the shoulder and elbow.\
    \ It is also a simple and effective method of reducing the risk of injury to the\
    \ hand.\r\n> \r\n> ### Shoulder\r\n> \r\n>  The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper extremity. The shoulder is the\
    \ most common site of injury to the upper extremity. The shoulder is the most\
    \ common site of injury to the upper extremity. The shoulder is the most common\
    \ site of injury to the upper extremity. The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper extremity. The shoulder is the\
    \ most common site of injury to the upper extremity. The shoulder is the most\
    \ common site of injury to the upper extremity. The shoulder is the most common\
    \ site of injury to the upper extremity. The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper extremity. The shoulder is the\
    \ most common site of injury to the upper extremity. The shoulder is the most\
    \ common site of injury to the upper extremity. The shoulder is the most common\
    \ site of injury to the upper extremity. The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper extremity. The shoulder is the\
    \ most common site of injury to the upper extremity. The shoulder is the most\
    \ common site of injury to the upper extremity. The shoulder is the most common\
    \ site of injury to the upper extremity. The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper extremity. The shoulder is the\
    \ most common site of injury to the upper extremity. The shoulder is the most\
    \ common site of injury to the upper extremity. The shoulder is the most common\
    \ site of injury to the upper extremity. The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper extremity. The shoulder is the\
    \ most common site of injury to the upper extremity. The shoulder is the most\
    \ common site of injury to the upper extremity. The shoulder is the most common\
    \ site of injury to the upper extremity. The shoulder is the most common site\
    \ of injury to the upper extremity. The shoulder is the most common site of injury\
    \ to the upper extremity. The shoulder is the most common site of injury to the\
    \ upper extremity. The shoulder is the most common site of injury to the upper\
    \ extremity. The shoulder is the most common site of injury to the upper extremity.\
    \ The shoulder is the most common site of injury to the upper extremity. The shoulder\
    \ is the most common site of injury to the upper\r\n> "
  created_at: 2022-11-19 14:21:08+00:00
  edited: false
  hidden: false
  id: 6378e65481c1783a4a2a2fef
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672531901326-6345bd89fe134dfd7a0dba40.png?w=200&h=200&f=face
      fullname: "Furkan G\xF6z\xFCkara"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: MonsterMMORPG
      type: user
    createdAt: '2022-11-19T14:40:15.000Z'
    data:
      edited: false
      editors:
      - MonsterMMORPG
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672531901326-6345bd89fe134dfd7a0dba40.png?w=200&h=200&f=face
          fullname: "Furkan G\xF6z\xFCkara"
          isHf: false
          isPro: false
          name: MonsterMMORPG
          type: user
        html: '<p>here another example</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1668868811932-6345bd89fe134dfd7a0dba40.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/1668868811932-6345bd89fe134dfd7a0dba40.png"></a></p>

          '
        raw: 'here another example



          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/1668868811932-6345bd89fe134dfd7a0dba40.png)'
        updatedAt: '2022-11-19T14:40:15.917Z'
      numEdits: 0
      reactions: []
    id: 6378eacf438c92a3c1283edf
    type: comment
  author: MonsterMMORPG
  content: 'here another example



    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/1668868811932-6345bd89fe134dfd7a0dba40.png)'
  created_at: 2022-11-19 14:40:15+00:00
  edited: false
  hidden: false
  id: 6378eacf438c92a3c1283edf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d86ca9ce3242be87bbfe541219ee2fac.svg
      fullname: bread null
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: breadlicker45
      type: user
    createdAt: '2022-11-21T16:57:02.000Z'
    data:
      edited: true
      editors:
      - breadlicker45
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d86ca9ce3242be87bbfe541219ee2fac.svg
          fullname: bread null
          isHf: false
          isPro: false
          name: breadlicker45
          type: user
        html: '<p>This is the peak of AI technology</p>

          '
        raw: This is the peak of AI technology
        updatedAt: '2022-11-21T17:00:15.497Z'
      numEdits: 3
      reactions: []
    id: 637baddeddd85eb8ce422abc
    type: comment
  author: breadlicker45
  content: This is the peak of AI technology
  created_at: 2022-11-21 16:57:02+00:00
  edited: true
  hidden: false
  id: 637baddeddd85eb8ce422abc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/04e771182605e6deff0c4b8496fedef3.svg
      fullname: David
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: davidbernat
      type: user
    createdAt: '2022-11-26T16:42:50.000Z'
    data:
      edited: false
      editors:
      - davidbernat
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/04e771182605e6deff0c4b8496fedef3.svg
          fullname: David
          isHf: false
          isPro: false
          name: davidbernat
          type: user
        html: '<p>Start here: <a href="https://huggingface.co/blog/how-to-generate">https://huggingface.co/blog/how-to-generate</a></p>

          <p>There are numerous configurations. This is not garbage.<br>If you post
          your efforts and experiments here I will try to run them myself.<br>Maybe
          we can learn together.</p>

          '
        raw: "Start here: https://huggingface.co/blog/how-to-generate\n\nThere are\
          \ numerous configurations. This is not garbage.\nIf you post your efforts\
          \ and experiments here I will try to run them myself. \nMaybe we can learn\
          \ together."
        updatedAt: '2022-11-26T16:42:50.840Z'
      numEdits: 0
      reactions: []
    id: 6382420a2a85b6714b813e5a
    type: comment
  author: davidbernat
  content: "Start here: https://huggingface.co/blog/how-to-generate\n\nThere are numerous\
    \ configurations. This is not garbage.\nIf you post your efforts and experiments\
    \ here I will try to run them myself. \nMaybe we can learn together."
  created_at: 2022-11-26 16:42:50+00:00
  edited: false
  hidden: false
  id: 6382420a2a85b6714b813e5a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: facebook/galactica-1.3b
repo_type: model
status: open
target_branch: null
title: 'The output is so bad - total garbage what I am doing wrong? It is also super
  slow and requires huge amount of RAM '
