!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jpark1
conflicting_files: null
created_at: 2023-03-16 10:51:30+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/55083cd2fb21d804ec53aa4fa370e30a.svg
      fullname: Jongjin Park
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jpark1
      type: user
    createdAt: '2023-03-16T11:51:30.000Z'
    data:
      edited: true
      editors:
      - jpark1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/55083cd2fb21d804ec53aa4fa370e30a.svg
          fullname: Jongjin Park
          isHf: false
          isPro: false
          name: jpark1
          type: user
        html: '<p>Thanks for sharing the dataset and pre-trained models!<br>I am trying
          to reproduce the results using the released parameters of SteamSHP-flan-t5-large.
          I''ve followed the instructions of the model card and description of the
          SHP dataset, but I fail to reach the reported test accuracy. For example,
          in askscience subreddit, I observed 64.50% of test accuracy while the reported
          one is 69.26%. I think there are several (unreleased) details required for
          exact reproduction. For example, you mentioned that 18621 out of 20753 test
          examples are used for evaluation, and only (5 examples per unique post_id)
          are used for training.<br>Could you provide those details including the
          accurate subset indices of the train/test set?</p>

          '
        raw: 'Thanks for sharing the dataset and pre-trained models!

          I am trying to reproduce the results using the released parameters of SteamSHP-flan-t5-large.
          I''ve followed the instructions of the model card and description of the
          SHP dataset, but I fail to reach the reported test accuracy. For example,
          in askscience subreddit, I observed 64.50% of test accuracy while the reported
          one is 69.26%. I think there are several (unreleased) details required for
          exact reproduction. For example, you mentioned that 18621 out of 20753 test
          examples are used for evaluation, and only (5 examples per unique post_id)
          are used for training.

          Could you provide those details including the accurate subset indices of
          the train/test set?'
        updatedAt: '2023-03-17T05:21:57.626Z'
      numEdits: 1
      reactions: []
    id: 641302c2251f9368f6912a4a
    type: comment
  author: jpark1
  content: 'Thanks for sharing the dataset and pre-trained models!

    I am trying to reproduce the results using the released parameters of SteamSHP-flan-t5-large.
    I''ve followed the instructions of the model card and description of the SHP dataset,
    but I fail to reach the reported test accuracy. For example, in askscience subreddit,
    I observed 64.50% of test accuracy while the reported one is 69.26%. I think there
    are several (unreleased) details required for exact reproduction. For example,
    you mentioned that 18621 out of 20753 test examples are used for evaluation, and
    only (5 examples per unique post_id) are used for training.

    Could you provide those details including the accurate subset indices of the train/test
    set?'
  created_at: 2023-03-16 10:51:30+00:00
  edited: true
  hidden: false
  id: 641302c2251f9368f6912a4a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677364295337-63d1dc7a2036e44c44ff0e88.jpeg?w=200&h=200&f=face
      fullname: Kawin Ethayarajh
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: kawine
      type: user
    createdAt: '2023-03-17T08:09:05.000Z'
    data:
      edited: true
      editors:
      - kawine
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677364295337-63d1dc7a2036e44c44ff0e88.jpeg?w=200&h=200&f=face
          fullname: Kawin Ethayarajh
          isHf: false
          isPro: false
          name: kawine
          type: user
        html: "<p>Thanks for your interest <span data-props=\"{&quot;user&quot;:&quot;jpark1&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/jpark1\"\
          >@<span class=\"underline\">jpark1</span></a></span>\n\n\t</span></span>\
          \ ! Here's the code for training SteamSHP models: <a rel=\"nofollow\" href=\"\
          https://github.com/kawine/steamshp\">https://github.com/kawine/steamshp</a></p>\n\
          <ol>\n<li>First run 'python format.py' to generate the train/validation/test\
          \ files across all domains in the data directory. There should be roughly\
          \ 125K training examples and 18621 test examples across all domains (Anthropic\
          \ included).</li>\n<li>Then modify 'finetune_t5_parallel.sh' as needed to\
          \ train a flan-t5-large model.</li>\n<li>Use preference_model_dist.eval\
          \ to evaluate the preference model the standard way. Use preference_model_dist.eval_regress\
          \ to evaluate the reward model-style usage.</li>\n</ol>\n<p>You should be\
          \ able to get the reported accuracies.</p>\n"
        raw: 'Thanks for your interest @jpark1 ! Here''s the code for training SteamSHP
          models: https://github.com/kawine/steamshp


          1. First run ''python format.py'' to generate the train/validation/test
          files across all domains in the data directory. There should be roughly
          125K training examples and 18621 test examples across all domains (Anthropic
          included).

          2. Then modify ''finetune_t5_parallel.sh'' as needed to train a flan-t5-large
          model.

          3. Use preference_model_dist.eval to evaluate the preference model the standard
          way. Use preference_model_dist.eval_regress to evaluate the reward model-style
          usage.


          You should be able to get the reported accuracies.'
        updatedAt: '2023-03-17T08:10:10.108Z'
      numEdits: 2
      reactions: []
    id: 641420219e007af7e65368e4
    type: comment
  author: kawine
  content: 'Thanks for your interest @jpark1 ! Here''s the code for training SteamSHP
    models: https://github.com/kawine/steamshp


    1. First run ''python format.py'' to generate the train/validation/test files
    across all domains in the data directory. There should be roughly 125K training
    examples and 18621 test examples across all domains (Anthropic included).

    2. Then modify ''finetune_t5_parallel.sh'' as needed to train a flan-t5-large
    model.

    3. Use preference_model_dist.eval to evaluate the preference model the standard
    way. Use preference_model_dist.eval_regress to evaluate the reward model-style
    usage.


    You should be able to get the reported accuracies.'
  created_at: 2023-03-17 07:09:05+00:00
  edited: true
  hidden: false
  id: 641420219e007af7e65368e4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/55083cd2fb21d804ec53aa4fa370e30a.svg
      fullname: Jongjin Park
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jpark1
      type: user
    createdAt: '2023-03-17T08:45:15.000Z'
    data:
      edited: false
      editors:
      - jpark1
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/55083cd2fb21d804ec53aa4fa370e30a.svg
          fullname: Jongjin Park
          isHf: false
          isPro: false
          name: jpark1
          type: user
        html: "<p>Thank you for the detailed response (and awesome source code) <span\
          \ data-props=\"{&quot;user&quot;:&quot;kawine&quot;}\" data-target=\"UserMention\"\
          \ class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"\
          ><span class=\"contents\"><a href=\"/kawine\">@<span class=\"underline\"\
          >kawine</span></a></span>\n\n\t</span></span> !</p>\n"
        raw: Thank you for the detailed response (and awesome source code) @kawine
          !
        updatedAt: '2023-03-17T08:45:15.311Z'
      numEdits: 0
      reactions: []
    id: 6414289bce59212d66058e10
    type: comment
  author: jpark1
  content: Thank you for the detailed response (and awesome source code) @kawine !
  created_at: 2023-03-17 07:45:15+00:00
  edited: false
  hidden: false
  id: 6414289bce59212d66058e10
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/55083cd2fb21d804ec53aa4fa370e30a.svg
      fullname: Jongjin Park
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jpark1
      type: user
    createdAt: '2023-03-17T08:45:33.000Z'
    data:
      status: closed
    id: 641428adb5afb80df7bb521e
    type: status-change
  author: jpark1
  created_at: 2023-03-17 07:45:33+00:00
  id: 641428adb5afb80df7bb521e
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: stanfordnlp/SteamSHP-flan-t5-large
repo_type: model
status: closed
target_branch: null
title: Request for reproduction
