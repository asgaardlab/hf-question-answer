!!python/object:huggingface_hub.community.DiscussionWithDetails
author: anttip
conflicting_files: null
created_at: 2023-09-13 06:01:55+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659607731365-noauth.jpeg?w=200&h=200&f=face
      fullname: Antti Puurula
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: anttip
      type: user
    createdAt: '2023-09-13T07:01:55.000Z'
    data:
      edited: true
      editors:
      - anttip
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8669101595878601
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659607731365-noauth.jpeg?w=200&h=200&f=face
          fullname: Antti Puurula
          isHf: false
          isPro: false
          name: anttip
          type: user
        html: '<p>The model sometimes outputs broken syntax, with segments starting
          with "_" replaced with special tokens. I noticed this first with a sequence
          with "_to". Now I get this generated:</p>

          <p>df = pd.read&lt;s&gt;  = pd.read_csv(</p>

          <p>This is using transformers 4.33.1 and current transformers-4.34.0.dev0</p>

          '
        raw: 'The model sometimes outputs broken syntax, with segments starting with
          "_" replaced with special tokens. I noticed this first with a sequence with
          "_to". Now I get this generated:


          df = pd.read\<s>  = pd.read_csv(


          This is using transformers 4.33.1 and current transformers-4.34.0.dev0

          '
        updatedAt: '2023-09-13T07:02:28.930Z'
      numEdits: 1
      reactions: []
    id: 65015e63e850c952d4674e59
    type: comment
  author: anttip
  content: 'The model sometimes outputs broken syntax, with segments starting with
    "_" replaced with special tokens. I noticed this first with a sequence with "_to".
    Now I get this generated:


    df = pd.read\<s>  = pd.read_csv(


    This is using transformers 4.33.1 and current transformers-4.34.0.dev0

    '
  created_at: 2023-09-13 06:01:55+00:00
  edited: true
  hidden: false
  id: 65015e63e850c952d4674e59
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659607731365-noauth.jpeg?w=200&h=200&f=face
      fullname: Antti Puurula
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: anttip
      type: user
    createdAt: '2023-09-13T07:33:00.000Z'
    data:
      edited: true
      editors:
      - anttip
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6756669878959656
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659607731365-noauth.jpeg?w=200&h=200&f=face
          fullname: Antti Puurula
          isHf: false
          isPro: false
          name: anttip
          type: user
        html: '<p>The issue could be with bitsandbytes quantization, adding bnb_4bit_quant_type="nf4"
          to bitsandbytes config fixes the example above </p>

          '
        raw: 'The issue could be with bitsandbytes quantization, adding bnb_4bit_quant_type="nf4"
          to bitsandbytes config fixes the example above '
        updatedAt: '2023-09-13T07:33:31.596Z'
      numEdits: 1
      reactions: []
    id: 650165acb2078f22bad8394a
    type: comment
  author: anttip
  content: 'The issue could be with bitsandbytes quantization, adding bnb_4bit_quant_type="nf4"
    to bitsandbytes config fixes the example above '
  created_at: 2023-09-13 06:33:00+00:00
  edited: true
  hidden: false
  id: 650165acb2078f22bad8394a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 13
repo_id: Phind/Phind-CodeLlama-34B-v2
repo_type: model
status: open
target_branch: null
title: Tokenization/decoding bug with "_"?
