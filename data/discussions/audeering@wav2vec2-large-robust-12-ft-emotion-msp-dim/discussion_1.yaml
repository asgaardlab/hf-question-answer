!!python/object:huggingface_hub.community.DiscussionWithDetails
author: krugjo
conflicting_files: null
created_at: 2023-04-18 18:18:53+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/37efe53031a0f755becc3b1aad363bb5.svg
      fullname: Jonas Krug
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: krugjo
      type: user
    createdAt: '2023-04-18T19:18:53.000Z'
    data:
      edited: true
      editors:
      - krugjo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/37efe53031a0f755becc3b1aad363bb5.svg
          fullname: Jonas Krug
          isHf: false
          isPro: false
          name: krugjo
          type: user
        html: '<p>Hey,</p>

          <p>Does anyone know how to use this model with an Example wav file? I want
          to use an Audio file in my /content/ directory of my Colab notebook</p>

          <p>-- path = ''example.wav''</p>

          <p>and thought I can just exchange the line</p>

          <p>-- process_func(signal, sampling_rate)</p>

          <p>with </p>

          <p>-- process_func(path, sampling_rate)</p>

          <p>But sadly its not that easy. Can anyone help?</p>

          '
        raw: "Hey,\n\nDoes anyone know how to use this model with an Example wav file?\
          \ I want to use an Audio file in my /content/ directory of my Colab notebook\n\
          \n-- path = 'example.wav'\n\nand thought I can just exchange the line\n\n\
          -- process_func(signal, sampling_rate)\n\nwith \n\n-- process_func(path,\
          \ sampling_rate)\n\nBut sadly its not that easy. Can anyone help?"
        updatedAt: '2023-04-18T19:20:29.176Z'
      numEdits: 1
      reactions: []
    id: 643eed1d098ec1ea8ecd8ff2
    type: comment
  author: krugjo
  content: "Hey,\n\nDoes anyone know how to use this model with an Example wav file?\
    \ I want to use an Audio file in my /content/ directory of my Colab notebook\n\
    \n-- path = 'example.wav'\n\nand thought I can just exchange the line\n\n-- process_func(signal,\
    \ sampling_rate)\n\nwith \n\n-- process_func(path, sampling_rate)\n\nBut sadly\
    \ its not that easy. Can anyone help?"
  created_at: 2023-04-18 18:18:53+00:00
  edited: true
  hidden: false
  id: 643eed1d098ec1ea8ecd8ff2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ac24d9830d3b4ef92fdfe09f10c00f09.svg
      fullname: Johannes Wagner
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: frankenjoe
      type: user
    createdAt: '2023-04-19T07:55:33.000Z'
    data:
      edited: true
      editors:
      - frankenjoe
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ac24d9830d3b4ef92fdfe09f10c00f09.svg
          fullname: Johannes Wagner
          isHf: false
          isPro: false
          name: frankenjoe
          type: user
        html: '<p>Hi,</p>

          <p>please have a look at the following tutorial: </p>

          <p><a rel="nofollow" href="https://github.com/audeering/w2v2-how-to">https://github.com/audeering/w2v2-how-to</a></p>

          <p>I have now added also added a link in the model card.</p>

          <p>cheers<br>Johannes</p>

          '
        raw: "Hi,\n\nplease have a look at the following tutorial: \n\nhttps://github.com/audeering/w2v2-how-to\n\
          \nI have now added also added a link in the model card.\n\ncheers\nJohannes"
        updatedAt: '2023-04-19T07:55:45.297Z'
      numEdits: 1
      reactions: []
    id: 643f9e754ef21cdaa2ecbf85
    type: comment
  author: frankenjoe
  content: "Hi,\n\nplease have a look at the following tutorial: \n\nhttps://github.com/audeering/w2v2-how-to\n\
    \nI have now added also added a link in the model card.\n\ncheers\nJohannes"
  created_at: 2023-04-19 06:55:33+00:00
  edited: true
  hidden: false
  id: 643f9e754ef21cdaa2ecbf85
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/37efe53031a0f755becc3b1aad363bb5.svg
      fullname: Jonas Krug
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: krugjo
      type: user
    createdAt: '2023-04-20T10:05:53.000Z'
    data:
      edited: true
      editors:
      - krugjo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/37efe53031a0f755becc3b1aad363bb5.svg
          fullname: Jonas Krug
          isHf: false
          isPro: false
          name: krugjo
          type: user
        html: '<p>Thanks for the fast reply, I looked into the tutorial and it helped
          a lot!</p>

          <p>I have loaded the model as in the tutorial and tried to evaluate it on
          a few wav files. Most of the time I got promising results but a few times
          the values of arousal, dominance and valence where shooting over the boundaries
          of 1.0.  As far of my understanding the values of these parameters should
          be in the range of 0 - 1 or have I maybe misread the paper?</p>

          <p>import os<br>import librosa<br>import audonnx<br>import audinterface</p>

          <h1 id="load-the-model">Load the model</h1>

          <p>model_root = ''model''<br>model = audonnx.load(model_root)</p>

          <h1 id="define-the-input-signal">Define the input signal</h1>

          <p>input_file = ''/content/Pulp Fiction Best Scene - Does He Look Like a
          Bitch.mp4.39.wav''</p>

          <p>signal, sampling_rate = librosa.load(input_file, sr=16000, mono=True)</p>

          <h1 id="create-an-interface-to-process-the-signal">Create an interface to
          process the signal</h1>

          <p>interface = audinterface.Feature(<br>    model.labels(''logits''),<br>    process_func=model,<br>    process_func_args={''outputs'':
          ''logits''},<br>    sampling_rate=sampling_rate,<br>    resample=True,<br>    verbose=True<br>)</p>

          <h1 id="process-the-signal-using-the-interface">Process the signal using
          the interface</h1>

          <p>output = interface.process_signal(signal, sampling_rate)</p>

          <p>print(output)</p>

          <p>Results:<br>Arousal: 1.078532<br>Dominance: 1.043147<br>Valence: -0.137843</p>

          <p>I used a rather aggressive line of Samuel L. Jackson of the movie Pulp
          Fiction.</p>

          <p>I used Librosa to downsample the sample Rate to 16000Hz. Was this maybe
          the Problem for the deviating results?</p>

          '
        raw: "Thanks for the fast reply, I looked into the tutorial and it helped\
          \ a lot!\n\nI have loaded the model as in the tutorial and tried to evaluate\
          \ it on a few wav files. Most of the time I got promising results but a\
          \ few times the values of arousal, dominance and valence where shooting\
          \ over the boundaries of 1.0.  As far of my understanding the values of\
          \ these parameters should be in the range of 0 - 1 or have I maybe misread\
          \ the paper?\n\nimport os\nimport librosa\nimport audonnx\nimport audinterface\n\
          \n\n# Load the model\nmodel_root = 'model'\nmodel = audonnx.load(model_root)\n\
          \n# Define the input signal\ninput_file = '/content/Pulp Fiction Best Scene\
          \ - Does He Look Like a Bitch.mp4.39.wav'\n\nsignal, sampling_rate = librosa.load(input_file,\
          \ sr=16000, mono=True)\n\n# Create an interface to process the signal\n\
          interface = audinterface.Feature(\n    model.labels('logits'),\n    process_func=model,\n\
          \    process_func_args={'outputs': 'logits'},\n    sampling_rate=sampling_rate,\n\
          \    resample=True,\n    verbose=True\n)\n\n# Process the signal using the\
          \ interface\noutput = interface.process_signal(signal, sampling_rate)\n\n\
          print(output)\n\nResults:\nArousal: 1.078532\nDominance: 1.043147\nValence:\
          \ -0.137843\n                                \nI used a rather aggressive\
          \ line of Samuel L. Jackson of the movie Pulp Fiction.\n\n\nI used Librosa\
          \ to downsample the sample Rate to 16000Hz. Was this maybe the Problem for\
          \ the deviating results?"
        updatedAt: '2023-04-24T06:55:06.929Z'
      numEdits: 4
      reactions: []
    id: 64410e817f13a7b5a25b581a
    type: comment
  author: krugjo
  content: "Thanks for the fast reply, I looked into the tutorial and it helped a\
    \ lot!\n\nI have loaded the model as in the tutorial and tried to evaluate it\
    \ on a few wav files. Most of the time I got promising results but a few times\
    \ the values of arousal, dominance and valence where shooting over the boundaries\
    \ of 1.0.  As far of my understanding the values of these parameters should be\
    \ in the range of 0 - 1 or have I maybe misread the paper?\n\nimport os\nimport\
    \ librosa\nimport audonnx\nimport audinterface\n\n\n# Load the model\nmodel_root\
    \ = 'model'\nmodel = audonnx.load(model_root)\n\n# Define the input signal\ninput_file\
    \ = '/content/Pulp Fiction Best Scene - Does He Look Like a Bitch.mp4.39.wav'\n\
    \nsignal, sampling_rate = librosa.load(input_file, sr=16000, mono=True)\n\n# Create\
    \ an interface to process the signal\ninterface = audinterface.Feature(\n    model.labels('logits'),\n\
    \    process_func=model,\n    process_func_args={'outputs': 'logits'},\n    sampling_rate=sampling_rate,\n\
    \    resample=True,\n    verbose=True\n)\n\n# Process the signal using the interface\n\
    output = interface.process_signal(signal, sampling_rate)\n\nprint(output)\n\n\
    Results:\nArousal: 1.078532\nDominance: 1.043147\nValence: -0.137843\n       \
    \                         \nI used a rather aggressive line of Samuel L. Jackson\
    \ of the movie Pulp Fiction.\n\n\nI used Librosa to downsample the sample Rate\
    \ to 16000Hz. Was this maybe the Problem for the deviating results?"
  created_at: 2023-04-20 09:05:53+00:00
  edited: true
  hidden: false
  id: 64410e817f13a7b5a25b581a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ac24d9830d3b4ef92fdfe09f10c00f09.svg
      fullname: Johannes Wagner
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: frankenjoe
      type: user
    createdAt: '2023-04-20T14:08:15.000Z'
    data:
      edited: false
      editors:
      - frankenjoe
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ac24d9830d3b4ef92fdfe09f10c00f09.svg
          fullname: Johannes Wagner
          isHf: false
          isPro: false
          name: frankenjoe
          type: user
        html: '<p>It can indeed happen that in rare cases you will observe values
          slightly out of the expected range of [0..1]. And as you mention, your example
          is indeed quite extreme. If your application expects [0..1], simply cut
          the values to fit the interval.</p>

          '
        raw: It can indeed happen that in rare cases you will observe values slightly
          out of the expected range of [0..1]. And as you mention, your example is
          indeed quite extreme. If your application expects [0..1], simply cut the
          values to fit the interval.
        updatedAt: '2023-04-20T14:08:15.826Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - krugjo
    id: 6441474f7f13a7b5a262ad9f
    type: comment
  author: frankenjoe
  content: It can indeed happen that in rare cases you will observe values slightly
    out of the expected range of [0..1]. And as you mention, your example is indeed
    quite extreme. If your application expects [0..1], simply cut the values to fit
    the interval.
  created_at: 2023-04-20 13:08:15+00:00
  edited: false
  hidden: false
  id: 6441474f7f13a7b5a262ad9f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: audeering/wav2vec2-large-robust-12-ft-emotion-msp-dim
repo_type: model
status: open
target_branch: null
title: Testing the Model with an Example Wav File
