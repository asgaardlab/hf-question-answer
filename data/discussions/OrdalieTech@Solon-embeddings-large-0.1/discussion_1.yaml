!!python/object:huggingface_hub.community.DiscussionWithDetails
author: cristuf
conflicting_files: null
created_at: 2024-01-12 08:48:21+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fd978d09e7f685ae226d64d0b2d7b9bd.svg
      fullname: reigner
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cristuf
      type: user
    createdAt: '2024-01-12T08:48:21.000Z'
    data:
      edited: false
      editors:
      - cristuf
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6015039086341858
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fd978d09e7f685ae226d64d0b2d7b9bd.svg
          fullname: reigner
          isHf: false
          isPro: false
          name: cristuf
          type: user
        html: '<p>Hi,</p>

          <p>I''m trying to deploy the model for inference in sagemaker using this
          config:<br>hub = {<br>    ''HF_MODEL_ID'':''OrdalieTech/Solon-embeddings-large-0.1'',<br>    ''HF_TASK'':''sentiment-analysis''<br>}<br>huggingface_model
          = HuggingFaceModel(<br>    transformers_version=''4.26.0'',<br>    pytorch_version=''1.13.1'',<br>    py_version=''py39'',<br>    env=hub,<br>    role=role,<br>)</p>

          <p>It appears the transformers version might not be the right one as I get
          the following error on model load:<br>"Could not load model /.sagemaker/mms/models/OrdalieTech__Solon-embeddings-large-0.1
          with any of the following classes: (\u003cclass \u0027transformers.models.auto.modeling_auto.AutoModelForSequenceClassification\u0027\u003e,
          \u003cclass \u0027transformers.models.xlm_roberta.modeling_xlm_roberta.XLMRobertaModel\u0027\u003e).</p>

          <p>Do you have any suggestion on the version I should use ?</p>

          <p>Many thanks !</p>

          '
        raw: "Hi,\r\n\r\nI'm trying to deploy the model for inference in sagemaker\
          \ using this config:\r\nhub = {\r\n\t'HF_MODEL_ID':'OrdalieTech/Solon-embeddings-large-0.1',\r\
          \n\t'HF_TASK':'sentiment-analysis'\r\n}\r\nhuggingface_model = HuggingFaceModel(\r\
          \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\t\
          py_version='py39',\r\n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\nIt appears\
          \ the transformers version might not be the right one as I get the following\
          \ error on model load:\r\n\"Could not load model /.sagemaker/mms/models/OrdalieTech__Solon-embeddings-large-0.1\
          \ with any of the following classes: (\\u003cclass \\u0027transformers.models.auto.modeling_auto.AutoModelForSequenceClassification\\\
          u0027\\u003e, \\u003cclass \\u0027transformers.models.xlm_roberta.modeling_xlm_roberta.XLMRobertaModel\\\
          u0027\\u003e).\r\n\r\nDo you have any suggestion on the version I should\
          \ use ?\r\n\r\nMany thanks !"
        updatedAt: '2024-01-12T08:48:21.180Z'
      numEdits: 0
      reactions: []
    id: 65a0fcd55fafc248c236da09
    type: comment
  author: cristuf
  content: "Hi,\r\n\r\nI'm trying to deploy the model for inference in sagemaker using\
    \ this config:\r\nhub = {\r\n\t'HF_MODEL_ID':'OrdalieTech/Solon-embeddings-large-0.1',\r\
    \n\t'HF_TASK':'sentiment-analysis'\r\n}\r\nhuggingface_model = HuggingFaceModel(\r\
    \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\tpy_version='py39',\r\
    \n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\nIt appears the transformers version\
    \ might not be the right one as I get the following error on model load:\r\n\"\
    Could not load model /.sagemaker/mms/models/OrdalieTech__Solon-embeddings-large-0.1\
    \ with any of the following classes: (\\u003cclass \\u0027transformers.models.auto.modeling_auto.AutoModelForSequenceClassification\\\
    u0027\\u003e, \\u003cclass \\u0027transformers.models.xlm_roberta.modeling_xlm_roberta.XLMRobertaModel\\\
    u0027\\u003e).\r\n\r\nDo you have any suggestion on the version I should use ?\r\
    \n\r\nMany thanks !"
  created_at: 2024-01-12 08:48:21+00:00
  edited: false
  hidden: false
  id: 65a0fcd55fafc248c236da09
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61fe6c31b22c8e266a8af466/KmTNH23Qk-cXvzWDRAmTg.jpeg?w=200&h=200&f=face
      fullname: "Baudouin Arbar\xE9tier"
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: netapy
      type: user
    createdAt: '2024-01-12T15:11:32.000Z'
    data:
      edited: false
      editors:
      - netapy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8511282801628113
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61fe6c31b22c8e266a8af466/KmTNH23Qk-cXvzWDRAmTg.jpeg?w=200&h=200&f=face
          fullname: "Baudouin Arbar\xE9tier"
          isHf: false
          isPro: false
          name: netapy
          type: user
        html: "<p>Thanks for your message \u2014 I'm not sure but first the HF_TASK\
          \ should be feature_extraction and not sentiment-analysis.<br>AutoModel\
          \ should work fine. </p>\n"
        raw: "Thanks for your message \u2014 I'm not sure but first the HF_TASK should\
          \ be feature_extraction and not sentiment-analysis.\nAutoModel should work\
          \ fine. "
        updatedAt: '2024-01-12T15:11:32.432Z'
      numEdits: 0
      reactions: []
    id: 65a156a4b85ee9dd15d4d978
    type: comment
  author: netapy
  content: "Thanks for your message \u2014 I'm not sure but first the HF_TASK should\
    \ be feature_extraction and not sentiment-analysis.\nAutoModel should work fine. "
  created_at: 2024-01-12 15:11:32+00:00
  edited: false
  hidden: false
  id: 65a156a4b85ee9dd15d4d978
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: OrdalieTech/Solon-embeddings-large-0.1
repo_type: model
status: open
target_branch: null
title: Error deploying on sagemaker inference endpoint
