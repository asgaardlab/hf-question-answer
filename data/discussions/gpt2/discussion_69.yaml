!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jotea
conflicting_files: null
created_at: 2023-09-07 06:24:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee0a4335acb11790557dcdeae21d2efd.svg
      fullname: ZHAOYANG HAO
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jotea
      type: user
    createdAt: '2023-09-07T07:24:03.000Z'
    data:
      edited: false
      editors:
      - jotea
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7444928288459778
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee0a4335acb11790557dcdeae21d2efd.svg
          fullname: ZHAOYANG HAO
          isHf: false
          isPro: false
          name: jotea
          type: user
        html: '<p>I tried to merge the PyTorch weights and config.json files into
          a complete model. However, it seems that some keys are missing in the weight
          file. Is it because the current transformer architecture has been updated?<br>RuntimeError:
          Error(s) in loading state_dict for GPT2Model:<br>        Missing key(s)
          in state_dict: "h.0.attn.masked_bias", "h.1.attn.masked_bias", "h.2.attn.masked_bias",
          "h.3.attn.masked_bias", "h.4.attn.masked_bias", "h.5.attn.masked_bias",
          "h.6.attn.masked_bias", "h.7.attn.masked_bias", "h.8.attn.masked_bias",
          "h.9.attn.masked_bias", "h.10.attn.masked_bias", "h.11.attn.masked_bias".</p>

          '
        raw: "I tried to merge the PyTorch weights and config.json files into a complete\
          \ model. However, it seems that some keys are missing in the weight file.\
          \ Is it because the current transformer architecture has been updated?\r\
          \nRuntimeError: Error(s) in loading state_dict for GPT2Model:\r\n      \
          \  Missing key(s) in state_dict: \"h.0.attn.masked_bias\", \"h.1.attn.masked_bias\"\
          , \"h.2.attn.masked_bias\", \"h.3.attn.masked_bias\", \"h.4.attn.masked_bias\"\
          , \"h.5.attn.masked_bias\", \"h.6.attn.masked_bias\", \"h.7.attn.masked_bias\"\
          , \"h.8.attn.masked_bias\", \"h.9.attn.masked_bias\", \"h.10.attn.masked_bias\"\
          , \"h.11.attn.masked_bias\"."
        updatedAt: '2023-09-07T07:24:03.909Z'
      numEdits: 0
      reactions: []
    id: 64f97a93d04a890f5397eb5f
    type: comment
  author: jotea
  content: "I tried to merge the PyTorch weights and config.json files into a complete\
    \ model. However, it seems that some keys are missing in the weight file. Is it\
    \ because the current transformer architecture has been updated?\r\nRuntimeError:\
    \ Error(s) in loading state_dict for GPT2Model:\r\n        Missing key(s) in state_dict:\
    \ \"h.0.attn.masked_bias\", \"h.1.attn.masked_bias\", \"h.2.attn.masked_bias\"\
    , \"h.3.attn.masked_bias\", \"h.4.attn.masked_bias\", \"h.5.attn.masked_bias\"\
    , \"h.6.attn.masked_bias\", \"h.7.attn.masked_bias\", \"h.8.attn.masked_bias\"\
    , \"h.9.attn.masked_bias\", \"h.10.attn.masked_bias\", \"h.11.attn.masked_bias\"\
    ."
  created_at: 2023-09-07 06:24:03+00:00
  edited: false
  hidden: false
  id: 64f97a93d04a890f5397eb5f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee0a4335acb11790557dcdeae21d2efd.svg
      fullname: ZHAOYANG HAO
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jotea
      type: user
    createdAt: '2023-09-07T07:29:38.000Z'
    data:
      edited: false
      editors:
      - jotea
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9682294726371765
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee0a4335acb11790557dcdeae21d2efd.svg
          fullname: ZHAOYANG HAO
          isHf: false
          isPro: false
          name: jotea
          type: user
        html: '<p>The issue has been resolved. Indeed, it was due to the transformer
          version. To use the PyTorch weight file, the transformer version must be
          2.80 or earlier.</p>

          '
        raw: The issue has been resolved. Indeed, it was due to the transformer version.
          To use the PyTorch weight file, the transformer version must be 2.80 or
          earlier.
        updatedAt: '2023-09-07T07:29:38.377Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - lysandre
    id: 64f97be29980b96c3329a2fb
    type: comment
  author: jotea
  content: The issue has been resolved. Indeed, it was due to the transformer version.
    To use the PyTorch weight file, the transformer version must be 2.80 or earlier.
  created_at: 2023-09-07 06:29:38+00:00
  edited: false
  hidden: false
  id: 64f97be29980b96c3329a2fb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/ee0a4335acb11790557dcdeae21d2efd.svg
      fullname: ZHAOYANG HAO
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jotea
      type: user
    createdAt: '2023-09-07T07:29:40.000Z'
    data:
      status: closed
    id: 64f97be4ceabf1e6fc7c5995
    type: status-change
  author: jotea
  created_at: 2023-09-07 06:29:40+00:00
  id: 64f97be4ceabf1e6fc7c5995
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 69
repo_id: gpt2
repo_type: model
status: closed
target_branch: null
title: for pytorch weight file
