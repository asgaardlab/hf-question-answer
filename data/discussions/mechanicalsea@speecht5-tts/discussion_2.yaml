!!python/object:huggingface_hub.community.DiscussionWithDetails
author: sherlock1199
conflicting_files: null
created_at: 2023-02-10 13:51:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8552a913de5fa67127c02dbeef9b9ee1.svg
      fullname: sherlock
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sherlock1199
      type: user
    createdAt: '2023-02-10T13:51:49.000Z'
    data:
      edited: false
      editors:
      - sherlock1199
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8552a913de5fa67127c02dbeef9b9ee1.svg
          fullname: sherlock
          isHf: false
          isPro: false
          name: sherlock1199
          type: user
        html: '<p>I''ve been trying to create my own custom embeddings using speechbrain/spkrec-xvect-voxceleb</p>

          <p>signal, fs =torchaudio.load(''morgan.wav'')<br>embeddings = classifier.encode_batch(signal)</p>

          <p>and generating audio using:</p>

          <p>speech = model.generate_speech(inputs["input_ids"], embeddings[0], vocoder=vocoder)</p>

          <p>but having the output garbled. is there an intermediary step i''m missing
          ?</p>

          '
        raw: "I've been trying to create my own custom embeddings using speechbrain/spkrec-xvect-voxceleb\r\
          \n\r\nsignal, fs =torchaudio.load('morgan.wav')\r\nembeddings = classifier.encode_batch(signal)\r\
          \n \r\nand generating audio using:\r\n\r\nspeech = model.generate_speech(inputs[\"\
          input_ids\"], embeddings[0], vocoder=vocoder)\r\n\r\nbut having the output\
          \ garbled. is there an intermediary step i'm missing ?"
        updatedAt: '2023-02-10T13:51:49.299Z'
      numEdits: 0
      reactions: []
    id: 63e64bf52d2c508de9fae0d2
    type: comment
  author: sherlock1199
  content: "I've been trying to create my own custom embeddings using speechbrain/spkrec-xvect-voxceleb\r\
    \n\r\nsignal, fs =torchaudio.load('morgan.wav')\r\nembeddings = classifier.encode_batch(signal)\r\
    \n \r\nand generating audio using:\r\n\r\nspeech = model.generate_speech(inputs[\"\
    input_ids\"], embeddings[0], vocoder=vocoder)\r\n\r\nbut having the output garbled.\
    \ is there an intermediary step i'm missing ?"
  created_at: 2023-02-10 13:51:49+00:00
  edited: false
  hidden: false
  id: 63e64bf52d2c508de9fae0d2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8552a913de5fa67127c02dbeef9b9ee1.svg
      fullname: sherlock
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sherlock1199
      type: user
    createdAt: '2023-02-10T14:11:37.000Z'
    data:
      edited: true
      editors:
      - sherlock1199
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8552a913de5fa67127c02dbeef9b9ee1.svg
          fullname: sherlock
          isHf: false
          isPro: false
          name: sherlock1199
          type: user
        html: '<p>so managed to get a non-garbled output. after resampling my wav
          file and converting it to mono. now to figure out how to improve the quality
          of voice reproduction.</p>

          '
        raw: so managed to get a non-garbled output. after resampling my wav file
          and converting it to mono. now to figure out how to improve the quality
          of voice reproduction.
        updatedAt: '2023-02-10T14:12:46.613Z'
      numEdits: 1
      reactions: []
      relatedEventId: 63e6509963037c7d96102000
    id: 63e6509963037c7d96101fff
    type: comment
  author: sherlock1199
  content: so managed to get a non-garbled output. after resampling my wav file and
    converting it to mono. now to figure out how to improve the quality of voice reproduction.
  created_at: 2023-02-10 14:11:37+00:00
  edited: true
  hidden: false
  id: 63e6509963037c7d96101fff
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/8552a913de5fa67127c02dbeef9b9ee1.svg
      fullname: sherlock
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sherlock1199
      type: user
    createdAt: '2023-02-10T14:11:37.000Z'
    data:
      status: closed
    id: 63e6509963037c7d96102000
    type: status-change
  author: sherlock1199
  created_at: 2023-02-10 14:11:37+00:00
  id: 63e6509963037c7d96102000
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/8552a913de5fa67127c02dbeef9b9ee1.svg
      fullname: sherlock
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sherlock1199
      type: user
    createdAt: '2023-02-10T14:12:49.000Z'
    data:
      status: open
    id: 63e650e163037c7d96102a41
    type: status-change
  author: sherlock1199
  created_at: 2023-02-10 14:12:49+00:00
  id: 63e650e163037c7d96102a41
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee42f6f8cdce2ad4c9115b8e16af1649.svg
      fullname: "Rui Wang (\u738B\u745E)"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mechanicalsea
      type: user
    createdAt: '2023-02-20T08:59:04.000Z'
    data:
      edited: false
      editors:
      - mechanicalsea
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee42f6f8cdce2ad4c9115b8e16af1649.svg
          fullname: "Rui Wang (\u738B\u745E)"
          isHf: false
          isPro: false
          name: mechanicalsea
          type: user
        html: '<p>Hi, Thanks for your attention.</p>

          <p>According to <a rel="nofollow" href="https://github.com/microsoft/SpeechT5/blob/main/SpeechT5/speecht5/models/speecht5.py#L1188">model.generate_speech</a>,
          the <code>src_tokens</code> is required.<br>Thus, we recommend to implement
          as follows.</p>

          <pre><code class="language-python">speech = model.generate_speech(src_tokens=inputs[<span
          class="hljs-string">"input_ids"</span>], spkembs=embeddings[<span class="hljs-number">0</span>],
          ...)

          </code></pre>

          <p>Free for additional questions.</p>

          '
        raw: 'Hi, Thanks for your attention.


          According to [model.generate_speech](https://github.com/microsoft/SpeechT5/blob/main/SpeechT5/speecht5/models/speecht5.py#L1188),
          the `src_tokens` is required.

          Thus, we recommend to implement as follows.

          ```python

          speech = model.generate_speech(src_tokens=inputs["input_ids"], spkembs=embeddings[0],
          ...)

          ```


          Free for additional questions.'
        updatedAt: '2023-02-20T08:59:04.673Z'
      numEdits: 0
      reactions: []
    id: 63f33658d5f41eb978b23a34
    type: comment
  author: mechanicalsea
  content: 'Hi, Thanks for your attention.


    According to [model.generate_speech](https://github.com/microsoft/SpeechT5/blob/main/SpeechT5/speecht5/models/speecht5.py#L1188),
    the `src_tokens` is required.

    Thus, we recommend to implement as follows.

    ```python

    speech = model.generate_speech(src_tokens=inputs["input_ids"], spkembs=embeddings[0],
    ...)

    ```


    Free for additional questions.'
  created_at: 2023-02-20 08:59:04+00:00
  edited: false
  hidden: false
  id: 63f33658d5f41eb978b23a34
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee42f6f8cdce2ad4c9115b8e16af1649.svg
      fullname: "Rui Wang (\u738B\u745E)"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mechanicalsea
      type: user
    createdAt: '2023-02-20T09:06:09.000Z'
    data:
      edited: false
      editors:
      - mechanicalsea
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee42f6f8cdce2ad4c9115b8e16af1649.svg
          fullname: "Rui Wang (\u738B\u745E)"
          isHf: false
          isPro: false
          name: mechanicalsea
          type: user
        html: '<blockquote>

          <p>I''ve been trying to create my own custom embeddings using speechbrain/spkrec-xvect-voxceleb</p>

          <p>signal, fs =torchaudio.load(''morgan.wav'')<br>embeddings = classifier.encode_batch(signal)</p>

          <p>and generating audio using:</p>

          <p>speech = model.generate_speech(inputs["input_ids"], embeddings[0], vocoder=vocoder)</p>

          <p>but having the output garbled. is there an intermediary step i''m missing
          ?</p>

          </blockquote>

          <p>Does the inputs["input_ids"] denote words? It seems waveform.</p>

          '
        raw: "> I've been trying to create my own custom embeddings using speechbrain/spkrec-xvect-voxceleb\n\
          > \n> signal, fs =torchaudio.load('morgan.wav')\n> embeddings = classifier.encode_batch(signal)\n\
          >  \n> and generating audio using:\n> \n> speech = model.generate_speech(inputs[\"\
          input_ids\"], embeddings[0], vocoder=vocoder)\n> \n> but having the output\
          \ garbled. is there an intermediary step i'm missing ?\n\nDoes the inputs[\"\
          input_ids\"] denote words? It seems waveform."
        updatedAt: '2023-02-20T09:06:09.063Z'
      numEdits: 0
      reactions: []
    id: 63f33801d5f41eb978b254c9
    type: comment
  author: mechanicalsea
  content: "> I've been trying to create my own custom embeddings using speechbrain/spkrec-xvect-voxceleb\n\
    > \n> signal, fs =torchaudio.load('morgan.wav')\n> embeddings = classifier.encode_batch(signal)\n\
    >  \n> and generating audio using:\n> \n> speech = model.generate_speech(inputs[\"\
    input_ids\"], embeddings[0], vocoder=vocoder)\n> \n> but having the output garbled.\
    \ is there an intermediary step i'm missing ?\n\nDoes the inputs[\"input_ids\"\
    ] denote words? It seems waveform."
  created_at: 2023-02-20 09:06:09+00:00
  edited: false
  hidden: false
  id: 63f33801d5f41eb978b254c9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/ee42f6f8cdce2ad4c9115b8e16af1649.svg
      fullname: "Rui Wang (\u738B\u745E)"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mechanicalsea
      type: user
    createdAt: '2023-07-07T03:55:17.000Z'
    data:
      status: closed
    id: 64a78ca5c98cb80cca246f94
    type: status-change
  author: mechanicalsea
  created_at: 2023-07-07 02:55:17+00:00
  id: 64a78ca5c98cb80cca246f94
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: mechanicalsea/speecht5-tts
repo_type: model
status: closed
target_branch: null
title: 'trying to hack together a voice cloning demo.... '
