!!python/object:huggingface_hub.community.DiscussionWithDetails
author: mikeagb
conflicting_files: null
created_at: 2023-06-28 18:49:45+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/25fe78e033f7e5b7c60fed0a4e73e779.svg
      fullname: Michael Agaby
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mikeagb
      type: user
    createdAt: '2023-06-28T19:49:45.000Z'
    data:
      edited: false
      editors:
      - mikeagb
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4097716212272644
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/25fe78e033f7e5b7c60fed0a4e73e779.svg
          fullname: Michael Agaby
          isHf: false
          isPro: false
          name: mikeagb
          type: user
        html: "<p>I get the following error when trying to run AutoModelForCausalLM.from_pretrained\
          \ from AWS train job:</p>\n<p>ErrorMessage \"\u2502 \u2771  454 \u2502 \
          \  \u2502   raise EnvironmentError(                                    \
          \   \u2502<br> \u2502    455 \u2502   \u2502   \u2502   f\"{path_or_repo_id}\
          \ does not appear to have a file named  \u2502<br> \u2502    456 \u2502\
          \   \u2502   \u2502   f\"'<a href=\"https://huggingface.co/%7Bpath_or_repo_id%7D/%7Brevision%7D'\"\
          >https://huggingface.co/{path_or_repo_id}/{revision}'</a> f \u2502<br> \u2502\
          \    457 \u2502   \u2502   )                                           \
          \                  \u2502<br> \u2570\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u256F<br> OSError: vilsonrodrigues/falcon-7b-sharded does not appear to\
          \ have a file named<br> tiiuae/falcon-7b--configuration_RW.py. Checkout<br>\
          \ '<a href=\"https://huggingface.co/vilsonrodrigues/falcon-7b-sharded/main'\"\
          >https://huggingface.co/vilsonrodrigues/falcon-7b-sharded/main'</a> for\
          \ available<br> files.\"</p>\n"
        raw: "I get the following error when trying to run AutoModelForCausalLM.from_pretrained\
          \ from AWS train job:\r\n\r\nErrorMessage \"\u2502 \u2771  454 \u2502  \
          \ \u2502   raise EnvironmentError(                                     \
          \  \u2502\r\n \u2502    455 \u2502   \u2502   \u2502   f\"{path_or_repo_id}\
          \ does not appear to have a file named  \u2502\r\n \u2502    456 \u2502\
          \   \u2502   \u2502   f\"'https://huggingface.co/{path_or_repo_id}/{revision}'\
          \ f \u2502\r\n \u2502    457 \u2502   \u2502   )                       \
          \                                      \u2502\r\n \u2570\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
          \u2500\u2500\u2500\u256F\r\n OSError: vilsonrodrigues/falcon-7b-sharded\
          \ does not appear to have a file named\r\n tiiuae/falcon-7b--configuration_RW.py.\
          \ Checkout\r\n 'https://huggingface.co/vilsonrodrigues/falcon-7b-sharded/main'\
          \ for available\r\n files.\"\r\n\r\n"
        updatedAt: '2023-06-28T19:49:45.557Z'
      numEdits: 0
      reactions: []
    id: 649c8ed9dc167adfa85ee18a
    type: comment
  author: mikeagb
  content: "I get the following error when trying to run AutoModelForCausalLM.from_pretrained\
    \ from AWS train job:\r\n\r\nErrorMessage \"\u2502 \u2771  454 \u2502   \u2502\
    \   raise EnvironmentError(                                       \u2502\r\n \u2502\
    \    455 \u2502   \u2502   \u2502   f\"{path_or_repo_id} does not appear to have\
    \ a file named  \u2502\r\n \u2502    456 \u2502   \u2502   \u2502   f\"'https://huggingface.co/{path_or_repo_id}/{revision}'\
    \ f \u2502\r\n \u2502    457 \u2502   \u2502   )                             \
    \                                \u2502\r\n \u2570\u2500\u2500\u2500\u2500\u2500\
    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\
    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256F\r\n OSError: vilsonrodrigues/falcon-7b-sharded\
    \ does not appear to have a file named\r\n tiiuae/falcon-7b--configuration_RW.py.\
    \ Checkout\r\n 'https://huggingface.co/vilsonrodrigues/falcon-7b-sharded/main'\
    \ for available\r\n files.\"\r\n\r\n"
  created_at: 2023-06-28 18:49:45+00:00
  edited: false
  hidden: false
  id: 649c8ed9dc167adfa85ee18a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2ad957ed2b9bb6f4cdb9531d72175c73.svg
      fullname: vilson
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: vilsonrodrigues
      type: user
    createdAt: '2023-06-28T23:57:14.000Z'
    data:
      edited: false
      editors:
      - vilsonrodrigues
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9575849771499634
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2ad957ed2b9bb6f4cdb9531d72175c73.svg
          fullname: vilson
          isHf: false
          isPro: false
          name: vilsonrodrigues
          type: user
        html: '<p>Hello, can you provide the code you tried to use?</p>

          '
        raw: Hello, can you provide the code you tried to use?
        updatedAt: '2023-06-28T23:57:14.094Z'
      numEdits: 0
      reactions: []
    id: 649cc8da4235cd45b25bc0a9
    type: comment
  author: vilsonrodrigues
  content: Hello, can you provide the code you tried to use?
  created_at: 2023-06-28 22:57:14+00:00
  edited: false
  hidden: false
  id: 649cc8da4235cd45b25bc0a9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/25fe78e033f7e5b7c60fed0a4e73e779.svg
      fullname: Michael Agaby
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mikeagb
      type: user
    createdAt: '2023-06-29T04:34:04.000Z'
    data:
      edited: false
      editors:
      - mikeagb
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7540605068206787
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/25fe78e033f7e5b7c60fed0a4e73e779.svg
          fullname: Michael Agaby
          isHf: false
          isPro: false
          name: mikeagb
          type: user
        html: "<p>thanks for your reply. This was how I called the model:</p>\n<p>quant_config\
          \ = BitsAndBytesConfig(<br>        load_in_4bit=True,<br>        bnb_4bit_quant_type=\"\
          nf4\",<br>        bnb_4bit_use_double_quant=True,<br>        bnb_4bit_compute_dtype=torch.bfloat16,<br>\
          \    )</p>\n<pre><code>model = AutoModelForCausalLM.from_pretrained(\n \
          \   \"vilsonrodrigues/falcon-7b-sharded\",\n    quantization_config=quant_config,\n\
          \    trust_remote_code=True,\n    device_map=\"auto\", \n    offload_folder=\"\
          offload\",\n    force_download=True,\n)\n</code></pre>\n<p>I've been able\
          \ to load the model in this ay in the past, but for some reason getting\
          \ this error from sagemaker training job using the hugging face DLC<br>using\
          \ transformer 4.28, torch 2.0 , python 3.10</p>\n"
        raw: "thanks for your reply. This was how I called the model:\n\nquant_config\
          \ = BitsAndBytesConfig(\n        load_in_4bit=True,\n        bnb_4bit_quant_type=\"\
          nf4\",\n        bnb_4bit_use_double_quant=True,\n        bnb_4bit_compute_dtype=torch.bfloat16,\n\
          \    )\n\n    model = AutoModelForCausalLM.from_pretrained(\n        \"\
          vilsonrodrigues/falcon-7b-sharded\",\n        quantization_config=quant_config,\n\
          \        trust_remote_code=True,\n        device_map=\"auto\", \n      \
          \  offload_folder=\"offload\",\n        force_download=True,\n    )\n\n\
          I've been able to load the model in this ay in the past, but for some reason\
          \ getting this error from sagemaker training job using the hugging face\
          \ DLC\nusing transformer 4.28, torch 2.0 , python 3.10"
        updatedAt: '2023-06-29T04:34:04.257Z'
      numEdits: 0
      reactions: []
    id: 649d09bc9813ca2ced0fbef6
    type: comment
  author: mikeagb
  content: "thanks for your reply. This was how I called the model:\n\nquant_config\
    \ = BitsAndBytesConfig(\n        load_in_4bit=True,\n        bnb_4bit_quant_type=\"\
    nf4\",\n        bnb_4bit_use_double_quant=True,\n        bnb_4bit_compute_dtype=torch.bfloat16,\n\
    \    )\n\n    model = AutoModelForCausalLM.from_pretrained(\n        \"vilsonrodrigues/falcon-7b-sharded\"\
    ,\n        quantization_config=quant_config,\n        trust_remote_code=True,\n\
    \        device_map=\"auto\", \n        offload_folder=\"offload\",\n        force_download=True,\n\
    \    )\n\nI've been able to load the model in this ay in the past, but for some\
    \ reason getting this error from sagemaker training job using the hugging face\
    \ DLC\nusing transformer 4.28, torch 2.0 , python 3.10"
  created_at: 2023-06-29 03:34:04+00:00
  edited: false
  hidden: false
  id: 649d09bc9813ca2ced0fbef6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2ad957ed2b9bb6f4cdb9531d72175c73.svg
      fullname: vilson
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: vilsonrodrigues
      type: user
    createdAt: '2023-06-29T14:56:00.000Z'
    data:
      edited: true
      editors:
      - vilsonrodrigues
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.893660843372345
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2ad957ed2b9bb6f4cdb9531d72175c73.svg
          fullname: vilson
          isHf: false
          isPro: false
          name: vilsonrodrigues
          type: user
        html: '<p>try It </p>

          <p>transformers&gt;=4.30.2</p>

          <p>4.28 does not support</p>

          '
        raw: "try It \n\ntransformers>=4.30.2\n\n4.28 does not support"
        updatedAt: '2023-06-29T14:56:39.832Z'
      numEdits: 1
      reactions: []
    id: 649d9b8000cd52d0f407142d
    type: comment
  author: vilsonrodrigues
  content: "try It \n\ntransformers>=4.30.2\n\n4.28 does not support"
  created_at: 2023-06-29 13:56:00+00:00
  edited: true
  hidden: false
  id: 649d9b8000cd52d0f407142d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/2ad957ed2b9bb6f4cdb9531d72175c73.svg
      fullname: vilson
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: vilsonrodrigues
      type: user
    createdAt: '2023-07-12T22:16:44.000Z'
    data:
      status: closed
    id: 64af264c9135f79b091e5d3f
    type: status-change
  author: vilsonrodrigues
  created_at: 2023-07-12 21:16:44+00:00
  id: 64af264c9135f79b091e5d3f
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: vilsonrodrigues/falcon-7b-sharded
repo_type: model
status: closed
target_branch: null
title: Error when running  AWS train Job
