!!python/object:huggingface_hub.community.DiscussionWithDetails
author: asa-pan
conflicting_files: null
created_at: 2022-10-27 04:40:43+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3a9fca1d2940282262adbe742972d673.svg
      fullname: asa-pan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: asa-pan
      type: user
    createdAt: '2022-10-27T05:40:43.000Z'
    data:
      edited: false
      editors:
      - asa-pan
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3a9fca1d2940282262adbe742972d673.svg
          fullname: asa-pan
          isHf: false
          isPro: false
          name: asa-pan
          type: user
        html: '<p>Hi<br>Thanks for sharing the finetune script. But I have some errors
          trying to run the code,    and I think all comes downs to this line of code:<br>
          model = whisper.Whisper.load_trained(model_args.model_name_or_path)<br>Is
          the Whisper (capital) class modified in your code base?  </p>

          '
        raw: "Hi\r\nThanks for sharing the finetune script. But I have some errors\
          \ trying to run the code,    and I think all comes downs to this line of\
          \ code:\r\n model = whisper.Whisper.load_trained(model_args.model_name_or_path)\
          \ \r\nIs the Whisper (capital) class modified in your code base?  \r\n"
        updatedAt: '2022-10-27T05:40:43.615Z'
      numEdits: 0
      reactions: []
    id: 635a19db60e2f140f451ecf1
    type: comment
  author: asa-pan
  content: "Hi\r\nThanks for sharing the finetune script. But I have some errors trying\
    \ to run the code,    and I think all comes downs to this line of code:\r\n model\
    \ = whisper.Whisper.load_trained(model_args.model_name_or_path) \r\nIs the Whisper\
    \ (capital) class modified in your code base?  \r\n"
  created_at: 2022-10-27 04:40:43+00:00
  edited: false
  hidden: false
  id: 635a19db60e2f140f451ecf1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: true
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2022-10-27T08:58:25.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;asa-pan&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/asa-pan\"\
          >@<span class=\"underline\">asa-pan</span></a></span>\n\n\t</span></span>!\
          \ Just an FYI - this script is written to fine-tune the <em>OpenAI</em>\
          \ version of Whisper (not the Transformers one). For this, I'd recommend\
          \ checking out the checkpoint at <a href=\"https://huggingface.co/esb/whisper-aed-switchboard\"\
          >https://huggingface.co/esb/whisper-aed-switchboard</a> This is exactly\
          \ the same checkpoint, just better documented \U0001F609 Specifically, to\
          \ fix the 'freeze encoder' issue, one needs to pip install the OpenAI version\
          \ of Whisper as detailed on the README.md</p>\n<p>Expect a script to fine-tune\
          \ the Transformers version of Whisper in the coming days \U0001F440 (<a\
          \ rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/pull/19519\"\
          >https://github.com/huggingface/transformers/pull/19519</a> and <a rel=\"\
          nofollow\" href=\"https://github.com/huggingface/blog/pull/591\">https://github.com/huggingface/blog/pull/591</a>)</p>\n\
          <p>Hope that helps!</p>\n"
        raw: "Hey @asa-pan! Just an FYI - this script is written to fine-tune the\
          \ _OpenAI_ version of Whisper (not the Transformers one). For this, I'd\
          \ recommend checking out the checkpoint at https://huggingface.co/esb/whisper-aed-switchboard\
          \ This is exactly the same checkpoint, just better documented \U0001F609\
          \ Specifically, to fix the 'freeze encoder' issue, one needs to pip install\
          \ the OpenAI version of Whisper as detailed on the README.md\n\nExpect a\
          \ script to fine-tune the Transformers version of Whisper in the coming\
          \ days \U0001F440 (https://github.com/huggingface/transformers/pull/19519\
          \ and https://github.com/huggingface/blog/pull/591)\n\nHope that helps!"
        updatedAt: '2022-10-27T08:58:25.607Z'
      numEdits: 0
      reactions: []
      relatedEventId: 635a48316365824bdf0aba41
    id: 635a48316365824bdf0aba40
    type: comment
  author: sanchit-gandhi
  content: "Hey @asa-pan! Just an FYI - this script is written to fine-tune the _OpenAI_\
    \ version of Whisper (not the Transformers one). For this, I'd recommend checking\
    \ out the checkpoint at https://huggingface.co/esb/whisper-aed-switchboard This\
    \ is exactly the same checkpoint, just better documented \U0001F609 Specifically,\
    \ to fix the 'freeze encoder' issue, one needs to pip install the OpenAI version\
    \ of Whisper as detailed on the README.md\n\nExpect a script to fine-tune the\
    \ Transformers version of Whisper in the coming days \U0001F440 (https://github.com/huggingface/transformers/pull/19519\
    \ and https://github.com/huggingface/blog/pull/591)\n\nHope that helps!"
  created_at: 2022-10-27 07:58:25+00:00
  edited: false
  hidden: false
  id: 635a48316365824bdf0aba40
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: true
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2022-10-27T08:58:25.000Z'
    data:
      status: closed
    id: 635a48316365824bdf0aba41
    type: status-change
  author: sanchit-gandhi
  created_at: 2022-10-27 07:58:25+00:00
  id: 635a48316365824bdf0aba41
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec32561b5e9f59e5f2e43b157b011e55.svg
      fullname: Teemu Sormunen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: TeemuSo
      type: user
    createdAt: '2022-11-02T16:34:37.000Z'
    data:
      edited: true
      editors:
      - TeemuSo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec32561b5e9f59e5f2e43b157b011e55.svg
          fullname: Teemu Sormunen
          isHf: false
          isPro: false
          name: TeemuSo
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;sanchit-gandhi&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/sanchit-gandhi\"\
          >@<span class=\"underline\">sanchit-gandhi</span></a></span>\n\n\t</span></span>\
          \ , love your work. But even the OpenAI version of whisper doesn't have\
          \ <code>whisper.Whisper.load_trained</code> function. <a rel=\"nofollow\"\
          \ href=\"https://github.com/openai/whisper/blob/9f70a352f9f8630ab3aa0d06af5cb9532bd8c21d/whisper/model.py#L197\"\
          >https://github.com/openai/whisper/blob/9f70a352f9f8630ab3aa0d06af5cb9532bd8c21d/whisper/model.py#L197</a></p>\n\
          <p>I'm struggling to load any Whisper checkpoint due to this issue, could\
          \ you kindly help me out a little bit? The same code is used with esc-benchmark/\
          \ models, so I assume the class is internally modified like asa-pan mentioned.</p>\n"
        raw: 'Hey @sanchit-gandhi , love your work. But even the OpenAI version of
          whisper doesn''t have `whisper.Whisper.load_trained` function. https://github.com/openai/whisper/blob/9f70a352f9f8630ab3aa0d06af5cb9532bd8c21d/whisper/model.py#L197


          I''m struggling to load any Whisper checkpoint due to this issue, could
          you kindly help me out a little bit? The same code is used with esc-benchmark/
          models, so I assume the class is internally modified like asa-pan mentioned.'
        updatedAt: '2022-11-02T16:34:54.700Z'
      numEdits: 1
      reactions: []
    id: 63629c1d19cf373a5fc1ef01
    type: comment
  author: TeemuSo
  content: 'Hey @sanchit-gandhi , love your work. But even the OpenAI version of whisper
    doesn''t have `whisper.Whisper.load_trained` function. https://github.com/openai/whisper/blob/9f70a352f9f8630ab3aa0d06af5cb9532bd8c21d/whisper/model.py#L197


    I''m struggling to load any Whisper checkpoint due to this issue, could you kindly
    help me out a little bit? The same code is used with esc-benchmark/ models, so
    I assume the class is internally modified like asa-pan mentioned.'
  created_at: 2022-11-02 15:34:37+00:00
  edited: true
  hidden: false
  id: 63629c1d19cf373a5fc1ef01
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: true
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2022-11-02T17:11:34.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;TeemuSo&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/TeemuSo\"\
          >@<span class=\"underline\">TeemuSo</span></a></span>\n\n\t</span></span>!\
          \ </p>\n<p>Could you pip install Whisper as follows:</p>\n<pre><code>pip\
          \ install git+https://github.com/patrickvonplaten/whisper.git\n</code></pre>\n\
          <p>And then try running it from the updated repo: <a href=\"https://huggingface.co/esb/whisper-aed-switchboard\"\
          >https://huggingface.co/esb/whisper-aed-switchboard</a></p>\n<p>Helped someone\
          \ get this working earlier today: <a href=\"https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b\"\
          >https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b</a></p>\n"
        raw: "Hey @TeemuSo! \n\nCould you pip install Whisper as follows:\n```\npip\
          \ install git+https://github.com/patrickvonplaten/whisper.git\n```\n\nAnd\
          \ then try running it from the updated repo: https://huggingface.co/esb/whisper-aed-switchboard\n\
          \nHelped someone get this working earlier today: https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b"
        updatedAt: '2022-11-02T17:11:34.171Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F917"
        users:
        - TeemuSo
    id: 6362a4c62691058b19dc0141
    type: comment
  author: sanchit-gandhi
  content: "Hey @TeemuSo! \n\nCould you pip install Whisper as follows:\n```\npip\
    \ install git+https://github.com/patrickvonplaten/whisper.git\n```\n\nAnd then\
    \ try running it from the updated repo: https://huggingface.co/esb/whisper-aed-switchboard\n\
    \nHelped someone get this working earlier today: https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b"
  created_at: 2022-11-02 16:11:34+00:00
  edited: false
  hidden: false
  id: 6362a4c62691058b19dc0141
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec32561b5e9f59e5f2e43b157b011e55.svg
      fullname: Teemu Sormunen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: TeemuSo
      type: user
    createdAt: '2022-11-02T18:39:33.000Z'
    data:
      edited: false
      editors:
      - TeemuSo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec32561b5e9f59e5f2e43b157b011e55.svg
          fullname: Teemu Sormunen
          isHf: false
          isPro: false
          name: TeemuSo
          type: user
        html: "<blockquote>\n<p>Hey <span data-props=\"{&quot;user&quot;:&quot;TeemuSo&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/TeemuSo\"\
          >@<span class=\"underline\">TeemuSo</span></a></span>\n\n\t</span></span>!\
          \ </p>\n<p>Could you pip install Whisper as follows:</p>\n<pre><code>pip\
          \ install git+https://github.com/patrickvonplaten/whisper.git\n</code></pre>\n\
          <p>And then try running it from the updated repo: <a href=\"https://huggingface.co/esb/whisper-aed-switchboard\"\
          >https://huggingface.co/esb/whisper-aed-switchboard</a></p>\n<p>Helped someone\
          \ get this working earlier today: <a href=\"https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b\"\
          >https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b</a></p>\n\
          </blockquote>\n<p>Ah, my bad. I didn't see that it was forked by Patrick,\
          \ now it all makes sense. Thank you! :)</p>\n"
        raw: "> Hey @TeemuSo! \n> \n> Could you pip install Whisper as follows:\n\
          > ```\n> pip install git+https://github.com/patrickvonplaten/whisper.git\n\
          > ```\n> \n> And then try running it from the updated repo: https://huggingface.co/esb/whisper-aed-switchboard\n\
          > \n> Helped someone get this working earlier today: https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b\n\
          \nAh, my bad. I didn't see that it was forked by Patrick, now it all makes\
          \ sense. Thank you! :)"
        updatedAt: '2022-11-02T18:39:33.283Z'
      numEdits: 0
      reactions: []
    id: 6362b9658f43a912fc7206ae
    type: comment
  author: TeemuSo
  content: "> Hey @TeemuSo! \n> \n> Could you pip install Whisper as follows:\n> ```\n\
    > pip install git+https://github.com/patrickvonplaten/whisper.git\n> ```\n> \n\
    > And then try running it from the updated repo: https://huggingface.co/esb/whisper-aed-switchboard\n\
    > \n> Helped someone get this working earlier today: https://huggingface.co/esb/whisper-aed-switchboard/discussions/1#636260fc4c9f829ef7f8898b\n\
    \nAh, my bad. I didn't see that it was forked by Patrick, now it all makes sense.\
    \ Thank you! :)"
  created_at: 2022-11-02 17:39:33+00:00
  edited: false
  hidden: false
  id: 6362b9658f43a912fc7206ae
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: sanchit-gandhi/whisper-medium-switchboard-5k
repo_type: model
status: closed
target_branch: null
title: Whisper model has no attribute freeze_encoder and load_trained
