!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jdc4429
conflicting_files: null
created_at: 2023-05-28 22:40:53+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1cba6fa9548861511b2a76af037b4e0f.svg
      fullname: Jeff
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdc4429
      type: user
    createdAt: '2023-05-28T23:40:53.000Z'
    data:
      edited: false
      editors:
      - jdc4429
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1cba6fa9548861511b2a76af037b4e0f.svg
          fullname: Jeff
          isHf: false
          isPro: false
          name: jdc4429
          type: user
        html: '<p>I know my path is correct, in fact I''ve tried changing it multiple
          times.. but I keep getting this error!</p>

          <p>INFO:Loading ~/oobabooga_linux/text-generation-webui/models/mpt-7b-storywriter...<br>ERROR:The
          path to the model does not exist. Exiting.</p>

          <p>This is the proper path!!! Even if I try loading the model from the web
          interface it does nothing.. It just doesn''t load. If I try manually starting
          from server.py it does the same thing!</p>

          <p>Command: python server.py --model ''/home/jeff/oobabooga_linux/text-generation-webui/models/mpt-7b-storywriter''
          --listen --trust-remote-code --bf16</p>

          <p>Tried with and with quotes, tried ~/ to start, tried full path.  @%@%$#$#@%$!</p>

          '
        raw: "I know my path is correct, in fact I've tried changing it multiple times..\
          \ but I keep getting this error!\r\n\r\nINFO:Loading ~/oobabooga_linux/text-generation-webui/models/mpt-7b-storywriter...\r\
          \nERROR:The path to the model does not exist. Exiting.\r\n\r\nThis is the\
          \ proper path!!! Even if I try loading the model from the web interface\
          \ it does nothing.. It just doesn't load. If I try manually starting from\
          \ server.py it does the same thing!\r\n\r\nCommand: python server.py --model\
          \ '/home/jeff/oobabooga_linux/text-generation-webui/models/mpt-7b-storywriter'\
          \ --listen --trust-remote-code --bf16\r\n\r\nTried with and with quotes,\
          \ tried ~/ to start, tried full path.  @%@%$#$#@%$!\r\n\r\n\r\n"
        updatedAt: '2023-05-28T23:40:53.883Z'
      numEdits: 0
      reactions: []
    id: 6473e6856a972f252de51418
    type: comment
  author: jdc4429
  content: "I know my path is correct, in fact I've tried changing it multiple times..\
    \ but I keep getting this error!\r\n\r\nINFO:Loading ~/oobabooga_linux/text-generation-webui/models/mpt-7b-storywriter...\r\
    \nERROR:The path to the model does not exist. Exiting.\r\n\r\nThis is the proper\
    \ path!!! Even if I try loading the model from the web interface it does nothing..\
    \ It just doesn't load. If I try manually starting from server.py it does the\
    \ same thing!\r\n\r\nCommand: python server.py --model '/home/jeff/oobabooga_linux/text-generation-webui/models/mpt-7b-storywriter'\
    \ --listen --trust-remote-code --bf16\r\n\r\nTried with and with quotes, tried\
    \ ~/ to start, tried full path.  @%@%$#$#@%$!\r\n\r\n\r\n"
  created_at: 2023-05-28 22:40:53+00:00
  edited: false
  hidden: false
  id: 6473e6856a972f252de51418
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1cba6fa9548861511b2a76af037b4e0f.svg
      fullname: Jeff
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdc4429
      type: user
    createdAt: '2023-05-28T23:58:46.000Z'
    data:
      edited: false
      editors:
      - jdc4429
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1cba6fa9548861511b2a76af037b4e0f.svg
          fullname: Jeff
          isHf: false
          isPro: false
          name: jdc4429
          type: user
        html: '<p>If I try running from oobabooga, I get the following error...</p>

          <p>ValueError: MPTForCausalLM does not support <code>device_map=''auto''</code>
          yet.</p>

          <p>Yet I see no option specified for device_map ?!</p>

          <p>I wish the people who made these things would give better instructions
          that work.</p>

          '
        raw: 'If I try running from oobabooga, I get the following error...


          ValueError: MPTForCausalLM does not support `device_map=''auto''` yet.


          Yet I see no option specified for device_map ?!


          I wish the people who made these things would give better instructions that
          work.'
        updatedAt: '2023-05-28T23:58:46.710Z'
      numEdits: 0
      reactions: []
    id: 6473eab62a74fb43cce6453b
    type: comment
  author: jdc4429
  content: 'If I try running from oobabooga, I get the following error...


    ValueError: MPTForCausalLM does not support `device_map=''auto''` yet.


    Yet I see no option specified for device_map ?!


    I wish the people who made these things would give better instructions that work.'
  created_at: 2023-05-28 22:58:46+00:00
  edited: false
  hidden: false
  id: 6473eab62a74fb43cce6453b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1cba6fa9548861511b2a76af037b4e0f.svg
      fullname: Jeff
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jdc4429
      type: user
    createdAt: '2023-05-29T00:10:46.000Z'
    data:
      edited: false
      editors:
      - jdc4429
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1cba6fa9548861511b2a76af037b4e0f.svg
          fullname: Jeff
          isHf: false
          isPro: false
          name: jdc4429
          type: user
        html: '<p>I''m not sure if this is why it''s not loading. It''s only a warning..</p>

          <p>INFO:Loading mpt-7b-storywriter...<br>/home/jeff/.cache/huggingface/modules/transformers_modules/mpt-7b-storywriter/attention.py:157:
          UserWarning: Using <code>attn_impl: torch</code>. If your model does not
          use <code>alibi</code> or <code>prefix_lm</code> we recommend using <code>attn_impl:
          flash</code> otherwise we recommend using <code>attn_impl: triton</code>.<br>  warnings.warn(''Using
          <code>attn_impl: torch</code>. If your model does not use <code>alibi</code>
          or '' + ''<code>prefix_lm</code> we recommend using <code>attn_impl: flash</code>
          otherwise '' + ''we recommend using <code>attn_impl: triton</code>.'')<br>INFO:Loading
          mpt-7b-storywriter...<br>ERROR:No model is loaded! Select one in the Model
          tab.</p>

          '
        raw: "I'm not sure if this is why it's not loading. It's only a warning..\n\
          \nINFO:Loading mpt-7b-storywriter...\n/home/jeff/.cache/huggingface/modules/transformers_modules/mpt-7b-storywriter/attention.py:157:\
          \ UserWarning: Using `attn_impl: torch`. If your model does not use `alibi`\
          \ or `prefix_lm` we recommend using `attn_impl: flash` otherwise we recommend\
          \ using `attn_impl: triton`.\n  warnings.warn('Using `attn_impl: torch`.\
          \ If your model does not use `alibi` or ' + '`prefix_lm` we recommend using\
          \ `attn_impl: flash` otherwise ' + 'we recommend using `attn_impl: triton`.')\n\
          INFO:Loading mpt-7b-storywriter...\nERROR:No model is loaded! Select one\
          \ in the Model tab."
        updatedAt: '2023-05-29T00:10:46.105Z'
      numEdits: 0
      reactions: []
    id: 6473ed8663001a0002d3a8bc
    type: comment
  author: jdc4429
  content: "I'm not sure if this is why it's not loading. It's only a warning..\n\n\
    INFO:Loading mpt-7b-storywriter...\n/home/jeff/.cache/huggingface/modules/transformers_modules/mpt-7b-storywriter/attention.py:157:\
    \ UserWarning: Using `attn_impl: torch`. If your model does not use `alibi` or\
    \ `prefix_lm` we recommend using `attn_impl: flash` otherwise we recommend using\
    \ `attn_impl: triton`.\n  warnings.warn('Using `attn_impl: torch`. If your model\
    \ does not use `alibi` or ' + '`prefix_lm` we recommend using `attn_impl: flash`\
    \ otherwise ' + 'we recommend using `attn_impl: triton`.')\nINFO:Loading mpt-7b-storywriter...\n\
    ERROR:No model is loaded! Select one in the Model tab."
  created_at: 2023-05-28 23:10:46+00:00
  edited: false
  hidden: false
  id: 6473ed8663001a0002d3a8bc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
      fullname: Abhi Venigalla
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: abhi-mosaic
      type: user
    createdAt: '2023-06-03T00:14:10.000Z'
    data:
      edited: false
      editors:
      - abhi-mosaic
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8644954562187195
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
          fullname: Abhi Venigalla
          isHf: false
          isPro: false
          name: abhi-mosaic
          type: user
        html: '<p>Support for <code>device_map: auto</code> just added in this PR:
          <a href="https://huggingface.co/mosaicml/mpt-7b-storywriter/discussions/33">https://huggingface.co/mosaicml/mpt-7b-storywriter/discussions/33</a></p>

          '
        raw: 'Support for `device_map: auto` just added in this PR: https://huggingface.co/mosaicml/mpt-7b-storywriter/discussions/33'
        updatedAt: '2023-06-03T00:14:10.933Z'
      numEdits: 0
      reactions: []
      relatedEventId: 647a85d242abe277476170e1
    id: 647a85d242abe277476170e0
    type: comment
  author: abhi-mosaic
  content: 'Support for `device_map: auto` just added in this PR: https://huggingface.co/mosaicml/mpt-7b-storywriter/discussions/33'
  created_at: 2023-06-02 23:14:10+00:00
  edited: false
  hidden: false
  id: 647a85d242abe277476170e0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676410153781-63ebfcf06ef3ce22b887cb04.jpeg?w=200&h=200&f=face
      fullname: Abhi Venigalla
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: abhi-mosaic
      type: user
    createdAt: '2023-06-03T00:14:10.000Z'
    data:
      status: closed
    id: 647a85d242abe277476170e1
    type: status-change
  author: abhi-mosaic
  created_at: 2023-06-02 23:14:10+00:00
  id: 647a85d242abe277476170e1
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 28
repo_id: mosaicml/mpt-7b-storywriter
repo_type: model
status: closed
target_branch: null
title: Problem loading model
