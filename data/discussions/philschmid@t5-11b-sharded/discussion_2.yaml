!!python/object:huggingface_hub.community.DiscussionWithDetails
author: finrsch
conflicting_files: null
created_at: 2023-02-05 12:48:28+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675652721002-63d9ba59aefaa73525854db1.png?w=200&h=200&f=face
      fullname: Adrian Stanica
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: finrsch
      type: user
    createdAt: '2023-02-05T12:48:28.000Z'
    data:
      edited: true
      editors:
      - finrsch
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675652721002-63d9ba59aefaa73525854db1.png?w=200&h=200&f=face
          fullname: Adrian Stanica
          isHf: false
          isPro: false
          name: finrsch
          type: user
        html: '<p>Got twice the same error - First on using a small instance with
          a single GPU, as per the article on his article (<a rel="nofollow" href="https://www.philschmid.de/deploy-t5-11b">https://www.philschmid.de/deploy-t5-11b</a>),
          and second time on using a large instance:<br>-- TypeError: dispatch_model()
          got an unexpected keyword argument ''offload_index''</p>

          <p>This seems to be related to how the instance is being set-up, not part
          of this repository code. May have to try to set-up everything from scratch
          separately from Hugging Face Inference Endpoints (which did work with simpler
          models). </p>

          <p>Any feedback would be greatly appreciated, as I would prefer the lazy
          way, ie using Hugging Face Inference Endpoints.</p>

          '
        raw: "Got twice the same error - First on using a small instance with a single\
          \ GPU, as per the article on his article (https://www.philschmid.de/deploy-t5-11b),\
          \ and second time on using a large instance:\n-- TypeError: dispatch_model()\
          \ got an unexpected keyword argument 'offload_index'\n\nThis seems to be\
          \ related to how the instance is being set-up, not part of this repository\
          \ code. May have to try to set-up everything from scratch separately from\
          \ Hugging Face Inference Endpoints (which did work with simpler models).\
          \ \n\nAny feedback would be greatly appreciated, as I would prefer the lazy\
          \ way, ie using Hugging Face Inference Endpoints."
        updatedAt: '2023-02-05T12:49:09.973Z'
      numEdits: 1
      reactions: []
    id: 63dfa59c42591dda0b930e9a
    type: comment
  author: finrsch
  content: "Got twice the same error - First on using a small instance with a single\
    \ GPU, as per the article on his article (https://www.philschmid.de/deploy-t5-11b),\
    \ and second time on using a large instance:\n-- TypeError: dispatch_model() got\
    \ an unexpected keyword argument 'offload_index'\n\nThis seems to be related to\
    \ how the instance is being set-up, not part of this repository code. May have\
    \ to try to set-up everything from scratch separately from Hugging Face Inference\
    \ Endpoints (which did work with simpler models). \n\nAny feedback would be greatly\
    \ appreciated, as I would prefer the lazy way, ie using Hugging Face Inference\
    \ Endpoints."
  created_at: 2023-02-05 12:48:28+00:00
  edited: true
  hidden: false
  id: 63dfa59c42591dda0b930e9a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675652721002-63d9ba59aefaa73525854db1.png?w=200&h=200&f=face
      fullname: Adrian Stanica
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: finrsch
      type: user
    createdAt: '2023-02-06T03:08:57.000Z'
    data:
      edited: false
      editors:
      - finrsch
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675652721002-63d9ba59aefaa73525854db1.png?w=200&h=200&f=face
          fullname: Adrian Stanica
          isHf: false
          isPro: false
          name: finrsch
          type: user
        html: '<p>-- the most recent model (as of Feb 6, 2023) from <a href="https://huggingface.co/philschmid/flan-t5-xxl-sharded-fp16">https://huggingface.co/philschmid/flan-t5-xxl-sharded-fp16</a>
          is working fine on a medium/large instance, so it could just be an old image.
          As such, closing this.</p>

          '
        raw: -- the most recent model (as of Feb 6, 2023) from https://huggingface.co/philschmid/flan-t5-xxl-sharded-fp16
          is working fine on a medium/large instance, so it could just be an old image.
          As such, closing this.
        updatedAt: '2023-02-06T03:08:57.701Z'
      numEdits: 0
      reactions: []
      relatedEventId: 63e06f4934d45a1ca800fa24
    id: 63e06f4934d45a1ca800fa23
    type: comment
  author: finrsch
  content: -- the most recent model (as of Feb 6, 2023) from https://huggingface.co/philschmid/flan-t5-xxl-sharded-fp16
    is working fine on a medium/large instance, so it could just be an old image.
    As such, closing this.
  created_at: 2023-02-06 03:08:57+00:00
  edited: false
  hidden: false
  id: 63e06f4934d45a1ca800fa23
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1675652721002-63d9ba59aefaa73525854db1.png?w=200&h=200&f=face
      fullname: Adrian Stanica
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: finrsch
      type: user
    createdAt: '2023-02-06T03:08:57.000Z'
    data:
      status: closed
    id: 63e06f4934d45a1ca800fa24
    type: status-change
  author: finrsch
  created_at: 2023-02-06 03:08:57+00:00
  id: 63e06f4934d45a1ca800fa24
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: philschmid/t5-11b-sharded
repo_type: model
status: closed
target_branch: null
title: Repository not working with Inference Endpoints
