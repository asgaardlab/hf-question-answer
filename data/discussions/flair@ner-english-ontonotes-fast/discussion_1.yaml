!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Aman50
conflicting_files: null
created_at: 2023-04-07 13:43:06+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
      fullname: Aman Bhalla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aman50
      type: user
    createdAt: '2023-04-07T14:43:06.000Z'
    data:
      edited: false
      editors:
      - Aman50
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
          fullname: Aman Bhalla
          isHf: false
          isPro: false
          name: Aman50
          type: user
        html: '<p>Hi I''m currently getting this error with latest Flair model:</p>

          <p>Traceback (most recent call last):<br>  File "/app/download_flair_models.py",
          line 9, in <br>    tagger = SequenceTagger.load(''flair/ner-english-ontonotes-fast'')<br>  File
          "/usr/local/lib/python3.9/site-packages/flair/nn/model.py", line 135, in
          load<br>    model = cls._init_model_with_state_dict(state)<br>  File "/usr/local/lib/python3.9/site-packages/flair/models/sequence_tagger_model.py",
          line 271, in _init_model_with_state_dict<br>    model = SequenceTagger(<br>  File
          "/usr/local/lib/python3.9/site-packages/flair/models/sequence_tagger_model.py",
          line 160, in <strong>init</strong><br>    embedding_dim: int = self.embeddings.embedding_length<br>AttributeError:
          ''dict'' object has no attribute ''embedding_length''</p>

          <p>Please help me resolve this, it''s a fresh issue, earlier there wasn''t
          any error.</p>

          '
        raw: "Hi I'm currently getting this error with latest Flair model:\r\n\r\n\
          Traceback (most recent call last):\r\n  File \"/app/download_flair_models.py\"\
          , line 9, in <module>\r\n    tagger = SequenceTagger.load('flair/ner-english-ontonotes-fast')\r\
          \n  File \"/usr/local/lib/python3.9/site-packages/flair/nn/model.py\", line\
          \ 135, in load\r\n    model = cls._init_model_with_state_dict(state)\r\n\
          \  File \"/usr/local/lib/python3.9/site-packages/flair/models/sequence_tagger_model.py\"\
          , line 271, in _init_model_with_state_dict\r\n    model = SequenceTagger(\r\
          \n  File \"/usr/local/lib/python3.9/site-packages/flair/models/sequence_tagger_model.py\"\
          , line 160, in __init__\r\n    embedding_dim: int = self.embeddings.embedding_length\r\
          \nAttributeError: 'dict' object has no attribute 'embedding_length'\r\n\r\
          \nPlease help me resolve this, it's a fresh issue, earlier there wasn't\
          \ any error."
        updatedAt: '2023-04-07T14:43:06.580Z'
      numEdits: 0
      reactions: []
    id: 64302bfa450c0de9a1d45f3b
    type: comment
  author: Aman50
  content: "Hi I'm currently getting this error with latest Flair model:\r\n\r\nTraceback\
    \ (most recent call last):\r\n  File \"/app/download_flair_models.py\", line 9,\
    \ in <module>\r\n    tagger = SequenceTagger.load('flair/ner-english-ontonotes-fast')\r\
    \n  File \"/usr/local/lib/python3.9/site-packages/flair/nn/model.py\", line 135,\
    \ in load\r\n    model = cls._init_model_with_state_dict(state)\r\n  File \"/usr/local/lib/python3.9/site-packages/flair/models/sequence_tagger_model.py\"\
    , line 271, in _init_model_with_state_dict\r\n    model = SequenceTagger(\r\n\
    \  File \"/usr/local/lib/python3.9/site-packages/flair/models/sequence_tagger_model.py\"\
    , line 160, in __init__\r\n    embedding_dim: int = self.embeddings.embedding_length\r\
    \nAttributeError: 'dict' object has no attribute 'embedding_length'\r\n\r\nPlease\
    \ help me resolve this, it's a fresh issue, earlier there wasn't any error."
  created_at: 2023-04-07 13:43:06+00:00
  edited: false
  hidden: false
  id: 64302bfa450c0de9a1d45f3b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1607338667029-noauth.jpeg?w=200&h=200&f=face
      fullname: Alan Akbik
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: alanakbik
      type: user
    createdAt: '2023-04-08T10:58:19.000Z'
    data:
      edited: false
      editors:
      - alanakbik
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1607338667029-noauth.jpeg?w=200&h=200&f=face
          fullname: Alan Akbik
          isHf: false
          isPro: false
          name: alanakbik
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;Aman50&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Aman50\"\
          >@<span class=\"underline\">Aman50</span></a></span>\n\n\t</span></span>\
          \ I updated the model to make it compatible with torch 2.0. In my setups,\
          \ everything seems to work. What Flair and PyTorch versions are you using?</p>\n"
        raw: Hello @Aman50 I updated the model to make it compatible with torch 2.0.
          In my setups, everything seems to work. What Flair and PyTorch versions
          are you using?
        updatedAt: '2023-04-08T10:58:19.463Z'
      numEdits: 0
      reactions: []
    id: 643148cb6758730899d739b5
    type: comment
  author: alanakbik
  content: Hello @Aman50 I updated the model to make it compatible with torch 2.0.
    In my setups, everything seems to work. What Flair and PyTorch versions are you
    using?
  created_at: 2023-04-08 09:58:19+00:00
  edited: false
  hidden: false
  id: 643148cb6758730899d739b5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
      fullname: Aman Bhalla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aman50
      type: user
    createdAt: '2023-04-08T12:24:53.000Z'
    data:
      edited: false
      editors:
      - Aman50
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
          fullname: Aman Bhalla
          isHf: false
          isPro: false
          name: Aman50
          type: user
        html: '<p>I''m using:</p>

          <p>transformers==4.17.0<br>torch==2.0<br>torchvision==0.12.0<br>flair==0.10</p>

          '
        raw: 'I''m using:


          transformers==4.17.0

          torch==2.0

          torchvision==0.12.0

          flair==0.10'
        updatedAt: '2023-04-08T12:24:53.448Z'
      numEdits: 0
      reactions: []
    id: 64315d15ac73fd88eb35676d
    type: comment
  author: Aman50
  content: 'I''m using:


    transformers==4.17.0

    torch==2.0

    torchvision==0.12.0

    flair==0.10'
  created_at: 2023-04-08 11:24:53+00:00
  edited: false
  hidden: false
  id: 64315d15ac73fd88eb35676d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1607338667029-noauth.jpeg?w=200&h=200&f=face
      fullname: Alan Akbik
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: alanakbik
      type: user
    createdAt: '2023-04-08T12:29:47.000Z'
    data:
      edited: false
      editors:
      - alanakbik
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1607338667029-noauth.jpeg?w=200&h=200&f=face
          fullname: Alan Akbik
          isHf: false
          isPro: false
          name: alanakbik
          type: user
        html: '<p>Can you try updating to a newer version of Flair?</p>

          '
        raw: Can you try updating to a newer version of Flair?
        updatedAt: '2023-04-08T12:29:47.034Z'
      numEdits: 0
      reactions: []
    id: 64315e3b9da0169925105942
    type: comment
  author: alanakbik
  content: Can you try updating to a newer version of Flair?
  created_at: 2023-04-08 11:29:47+00:00
  edited: false
  hidden: false
  id: 64315e3b9da0169925105942
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
      fullname: Aman Bhalla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aman50
      type: user
    createdAt: '2023-04-08T14:48:24.000Z'
    data:
      edited: false
      editors:
      - Aman50
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
          fullname: Aman Bhalla
          isHf: false
          isPro: false
          name: Aman50
          type: user
        html: '<p>I tried updating to 0.11, 0.12 and so on. Was getting different
          error with transformers then.  Is there any way to use the old image ?</p>

          '
        raw: I tried updating to 0.11, 0.12 and so on. Was getting different error
          with transformers then.  Is there any way to use the old image ?
        updatedAt: '2023-04-08T14:48:24.012Z'
      numEdits: 0
      reactions: []
    id: 64317eb89da0169925110eb5
    type: comment
  author: Aman50
  content: I tried updating to 0.11, 0.12 and so on. Was getting different error with
    transformers then.  Is there any way to use the old image ?
  created_at: 2023-04-08 13:48:24+00:00
  edited: false
  hidden: false
  id: 64317eb89da0169925110eb5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
      fullname: Aman Bhalla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Aman50
      type: user
    createdAt: '2023-04-10T13:52:58.000Z'
    data:
      edited: false
      editors:
      - Aman50
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ccb8cebbc266e896e313a79510781ec4.svg
          fullname: Aman Bhalla
          isHf: false
          isPro: false
          name: Aman50
          type: user
        html: '<p>Hi,</p>

          <p>Can you please specify how to use the earlier image?</p>

          '
        raw: 'Hi,


          Can you please specify how to use the earlier image?'
        updatedAt: '2023-04-10T13:52:58.944Z'
      numEdits: 0
      reactions: []
    id: 643414ba1a1ba6b55b17270b
    type: comment
  author: Aman50
  content: 'Hi,


    Can you please specify how to use the earlier image?'
  created_at: 2023-04-10 12:52:58+00:00
  edited: false
  hidden: false
  id: 643414ba1a1ba6b55b17270b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1607338667029-noauth.jpeg?w=200&h=200&f=face
      fullname: Alan Akbik
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: alanakbik
      type: user
    createdAt: '2023-04-10T15:41:36.000Z'
    data:
      edited: false
      editors:
      - alanakbik
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1607338667029-noauth.jpeg?w=200&h=200&f=face
          fullname: Alan Akbik
          isHf: false
          isPro: false
          name: alanakbik
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;Aman50&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Aman50\"\
          >@<span class=\"underline\">Aman50</span></a></span>\n\n\t</span></span>,\
          \ you can load the old model like this: </p>\n<pre><code class=\"language-python\"\
          ><span class=\"hljs-comment\"># load tagger</span>\ntagger = SequenceTagger.load(<span\
          \ class=\"hljs-string\">\"flair/ner-english-ontonotes-fast@38a8eb6\"</span>)\n\
          \n<span class=\"hljs-comment\"># make example sentence</span>\nsentence\
          \ = Sentence(<span class=\"hljs-string\">\"On September 1st George Washington\
          \ won 1 dollar.\"</span>)\n\n<span class=\"hljs-comment\"># predict NER\
          \ tags</span>\ntagger.predict(sentence)\n</code></pre>\n<p>Note that this\
          \ model will not work with torch 2.0.</p>\n"
        raw: "Hello @Aman50, you can load the old model like this: \n\n```python\n\
          # load tagger\ntagger = SequenceTagger.load(\"flair/ner-english-ontonotes-fast@38a8eb6\"\
          )\n\n# make example sentence\nsentence = Sentence(\"On September 1st George\
          \ Washington won 1 dollar.\")\n\n# predict NER tags\ntagger.predict(sentence)\n\
          ```\n\nNote that this model will not work with torch 2.0."
        updatedAt: '2023-04-10T15:41:36.836Z'
      numEdits: 0
      reactions: []
    id: 64342e301ceac17d7739119a
    type: comment
  author: alanakbik
  content: "Hello @Aman50, you can load the old model like this: \n\n```python\n#\
    \ load tagger\ntagger = SequenceTagger.load(\"flair/ner-english-ontonotes-fast@38a8eb6\"\
    )\n\n# make example sentence\nsentence = Sentence(\"On September 1st George Washington\
    \ won 1 dollar.\")\n\n# predict NER tags\ntagger.predict(sentence)\n```\n\nNote\
    \ that this model will not work with torch 2.0."
  created_at: 2023-04-10 14:41:36+00:00
  edited: false
  hidden: false
  id: 64342e301ceac17d7739119a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b0ef31c9abad223e30dcd972481bfab8.svg
      fullname: Jonathan Ryan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jonathanrw
      type: user
    createdAt: '2023-04-14T17:48:45.000Z'
    data:
      edited: false
      editors:
      - jonathanrw
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b0ef31c9abad223e30dcd972481bfab8.svg
          fullname: Jonathan Ryan
          isHf: false
          isPro: false
          name: jonathanrw
          type: user
        html: '<p>Hi, just wanted to inform that the current version hosted on the
          Inference API also throws this error, so the current version is (in my opinion)
          broken.</p>

          '
        raw: Hi, just wanted to inform that the current version hosted on the Inference
          API also throws this error, so the current version is (in my opinion) broken.
        updatedAt: '2023-04-14T17:48:45.726Z'
      numEdits: 0
      reactions: []
    id: 643991fd0cb95b3dbc905069
    type: comment
  author: jonathanrw
  content: Hi, just wanted to inform that the current version hosted on the Inference
    API also throws this error, so the current version is (in my opinion) broken.
  created_at: 2023-04-14 16:48:45+00:00
  edited: false
  hidden: false
  id: 643991fd0cb95b3dbc905069
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584020801691-noauth.jpeg?w=200&h=200&f=face
      fullname: Stefan
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: stefan-it
      type: user
    createdAt: '2023-09-06T22:24:51.000Z'
    data:
      edited: false
      editors:
      - stefan-it
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8697425723075867
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584020801691-noauth.jpeg?w=200&h=200&f=face
          fullname: Stefan
          isHf: false
          isPro: true
          name: stefan-it
          type: user
        html: '<p>We updated the Flair version on the Model Hub here, and the widget
          is again working :)</p>

          '
        raw: We updated the Flair version on the Model Hub here, and the widget is
          again working :)
        updatedAt: '2023-09-06T22:24:51.126Z'
      numEdits: 0
      reactions: []
    id: 64f8fc338a234f114e3cafe9
    type: comment
  author: stefan-it
  content: We updated the Flair version on the Model Hub here, and the widget is again
    working :)
  created_at: 2023-09-06 21:24:51+00:00
  edited: false
  hidden: false
  id: 64f8fc338a234f114e3cafe9
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: flair/ner-english-ontonotes-fast
repo_type: model
status: open
target_branch: null
title: Error while using SequenceTagger()
