!!python/object:huggingface_hub.community.DiscussionWithDetails
author: PerRing
conflicting_files: null
created_at: 2023-12-09 17:02:48+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ae00fde99b95fcc3a95aae8a558eb049.svg
      fullname: HanYoo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PerRing
      type: user
    createdAt: '2023-12-09T17:02:48.000Z'
    data:
      edited: false
      editors:
      - PerRing
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7339698076248169
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ae00fde99b95fcc3a95aae8a558eb049.svg
          fullname: HanYoo
          isHf: false
          isPro: false
          name: PerRing
          type: user
        html: '<p> in ''llava-hf/llava-1.5-7b-hf'',<br>len(processor.tokenizer) is
          32002 and model_vocab_size(model.language_model.model.embed_tokens) is 32064.</p>

          <p>Why are they different sizes? Shouldn''t it be the same?</p>

          '
        raw: " in 'llava-hf/llava-1.5-7b-hf',\r\nlen(processor.tokenizer) is 32002\
          \ and model_vocab_size(model.language_model.model.embed_tokens) is 32064.\r\
          \n\r\nWhy are they different sizes? Shouldn't it be the same?"
        updatedAt: '2023-12-09T17:02:48.181Z'
      numEdits: 0
      reactions: []
    id: 65749db888805b3ba1d7dd1e
    type: comment
  author: PerRing
  content: " in 'llava-hf/llava-1.5-7b-hf',\r\nlen(processor.tokenizer) is 32002 and\
    \ model_vocab_size(model.language_model.model.embed_tokens) is 32064.\r\n\r\n\
    Why are they different sizes? Shouldn't it be the same?"
  created_at: 2023-12-09 17:02:48+00:00
  edited: false
  hidden: false
  id: 65749db888805b3ba1d7dd1e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-12-09T17:09:58.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9068997502326965
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>WHy should they be the same? </p>

          '
        raw: "WHy should they be the same? \n"
        updatedAt: '2023-12-09T17:09:58.472Z'
      numEdits: 0
      reactions: []
    id: 65749f66c79162da90c62b65
    type: comment
  author: ArthurZ
  content: "WHy should they be the same? \n"
  created_at: 2023-12-09 17:09:58+00:00
  edited: false
  hidden: false
  id: 65749f66c79162da90c62b65
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-12-09T17:10:34.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9217441082000732
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>The tokenizer has the exact number of token we need, but the lm
          head need to be padded to a multiple for the number of SM on your machine
          for performance issues</p>

          '
        raw: The tokenizer has the exact number of token we need, but the lm head
          need to be padded to a multiple for the number of SM on your machine for
          performance issues
        updatedAt: '2023-12-09T17:10:34.809Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - mjkmain
    id: 65749f8afca370282a51859c
    type: comment
  author: ArthurZ
  content: The tokenizer has the exact number of token we need, but the lm head need
    to be padded to a multiple for the number of SM on your machine for performance
    issues
  created_at: 2023-12-09 17:10:34+00:00
  edited: false
  hidden: false
  id: 65749f8afca370282a51859c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-12-09T17:10:47.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9829884767532349
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>The assumption that they should be equal is wrong</p>

          '
        raw: The assumption that they should be equal is wrong
        updatedAt: '2023-12-09T17:10:47.739Z'
      numEdits: 0
      reactions: []
    id: 65749f9715b1ca184be55016
    type: comment
  author: ArthurZ
  content: The assumption that they should be equal is wrong
  created_at: 2023-12-09 17:10:47+00:00
  edited: false
  hidden: false
  id: 65749f9715b1ca184be55016
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-12-09T17:11:37.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7274581789970398
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>See here: <a rel="nofollow" href="https://docs.nvidia.com/deeplearning/performance/dl-performance-matrix-multiplication/index.html#requirements-tc">https://docs.nvidia.com/deeplearning/performance/dl-performance-matrix-multiplication/index.html#requirements-tc</a></p>

          '
        raw: 'See here: https://docs.nvidia.com/deeplearning/performance/dl-performance-matrix-multiplication/index.html#requirements-tc'
        updatedAt: '2023-12-09T17:11:37.966Z'
      numEdits: 0
      reactions: []
    id: 65749fc94fffc3f08b456bf8
    type: comment
  author: ArthurZ
  content: 'See here: https://docs.nvidia.com/deeplearning/performance/dl-performance-matrix-multiplication/index.html#requirements-tc'
  created_at: 2023-12-09 17:11:37+00:00
  edited: false
  hidden: false
  id: 65749fc94fffc3f08b456bf8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ae00fde99b95fcc3a95aae8a558eb049.svg
      fullname: HanYoo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PerRing
      type: user
    createdAt: '2023-12-09T17:15:45.000Z'
    data:
      edited: false
      editors:
      - PerRing
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7501358389854431
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ae00fde99b95fcc3a95aae8a558eb049.svg
          fullname: HanYoo
          isHf: false
          isPro: false
          name: PerRing
          type: user
        html: '<p>I thought it should be same because if model generate token id ''32060'',
          the tokenizer can''t decode token id ''32060''(because there is no token
          id ''32060'' in tokenizer).</p>

          '
        raw: I thought it should be same because if model generate token id '32060',
          the tokenizer can't decode token id '32060'(because there is no token id
          '32060' in tokenizer).
        updatedAt: '2023-12-09T17:15:45.695Z'
      numEdits: 0
      reactions: []
    id: 6574a0c17068a850894aa9e3
    type: comment
  author: PerRing
  content: I thought it should be same because if model generate token id '32060',
    the tokenizer can't decode token id '32060'(because there is no token id '32060'
    in tokenizer).
  created_at: 2023-12-09 17:15:45+00:00
  edited: false
  hidden: false
  id: 6574a0c17068a850894aa9e3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-12-09T18:38:44.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9678587317466736
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>Yeah but the model would not generate these tokens because it was
          not taught to do so. It''s a common practice to reserve vocabulary for users
          when they finetune etc</p>

          '
        raw: Yeah but the model would not generate these tokens because it was not
          taught to do so. It's a common practice to reserve vocabulary for users
          when they finetune etc
        updatedAt: '2023-12-09T18:38:44.226Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - PerRing
    id: 6574b434b238c76bbacf0de5
    type: comment
  author: ArthurZ
  content: Yeah but the model would not generate these tokens because it was not taught
    to do so. It's a common practice to reserve vocabulary for users when they finetune
    etc
  created_at: 2023-12-09 18:38:44+00:00
  edited: false
  hidden: false
  id: 6574b434b238c76bbacf0de5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/ae00fde99b95fcc3a95aae8a558eb049.svg
      fullname: HanYoo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PerRing
      type: user
    createdAt: '2023-12-10T04:09:29.000Z'
    data:
      status: closed
    id: 657539f94fffc3f08b623cd1
    type: status-change
  author: PerRing
  created_at: 2023-12-10 04:09:29+00:00
  id: 657539f94fffc3f08b623cd1
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: llava-hf/llava-1.5-7b-hf
repo_type: model
status: closed
target_branch: null
title: why len(processor.tokenizer)!= model_vocab_size ?
