!!python/object:huggingface_hub.community.DiscussionWithDetails
author: liaoch
conflicting_files: null
created_at: 2022-10-09 18:32:32+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/413d95f7e1f05068a1c22f9aad2490e3.svg
      fullname: Chunhua Liao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: liaoch
      type: user
    createdAt: '2022-10-09T19:32:32.000Z'
    data:
      edited: false
      editors:
      - liaoch
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/413d95f7e1f05068a1c22f9aad2490e3.svg
          fullname: Chunhua Liao
          isHf: false
          isPro: false
          name: liaoch
          type: user
        html: "<p>python3.8 punctuation.py \"3qHkcs3kG44.transcript.en\" </p>\n<p>f.read()\
          \ return type is: &lt;class 'str'&gt;<br>Traceback (most recent call last):<br>\
          \  File \"punctuation.py\", line 24, in <br>    results = rp.punctuate(text,\
          \ lang='en')<br>  File \"/home/liao/.local/lib/python3.8/site-packages/rpunct/punctuate.py\"\
          , line 45, in punctuate<br>    combined_preds = self.combine_results(text,\
          \ preds_lst)<br>  File \"/home/liao/.local/lib/python3.8/site-packages/rpunct/punctuate.py\"\
          , line 129, in combine_results<br>    assert [i[0] for i in output_text]\
          \ == split_full_text<br>AssertionError</p>\n<pre><code># A python program\
          \ to test bert-restore-punctuation from huggingface.\n# This only works\
          \ for python 3.8, not 3.10\n\n# check python version is 3.8\nimport sys\n\
          if sys.version_info[0] != 3 or sys.version_info[1] != 8:\n    print(\"This\
          \ only works for python 3.8, not 3.10\")\n    sys.exit(1)\n\nfrom rpunct\
          \ import RestorePuncts\nrp = RestorePuncts()\n\nresults =[]\n# check if\
          \ the program has one required argument\nif len(sys.argv) != 2:\n    print(\"\
          Usage: python3 punctuation.py &lt;filename&gt;\")\n    sys.exit(1)\n\n#\
          \ open a file with a list of sentences. The file name is given as a command\
          \ line argument\nwith open(sys.argv[1], 'r') as f:\n    text =f.read()\n\
          \    # check the data type of text\n    results = rp.punctuate(text, lang='en')\n\
          # save the results to a file\noutput_file = sys.argv[1] + \".punctuated.txt\"\
          \nwith open(output_file, 'w') as f:\n    f.write(results)\n</code></pre>\n\
          <p>Input is the text fields of json transcript of <a rel=\"nofollow\" href=\"\
          https://www.youtube.com/watch?v=3qHkcs3kG44\">https://www.youtube.com/watch?v=3qHkcs3kG44</a>.\
          \ </p>\n"
        raw: "python3.8 punctuation.py \"3qHkcs3kG44.transcript.en\" \r\n\r\nf.read()\
          \ return type is: <class 'str'>\r\nTraceback (most recent call last):\r\n\
          \  File \"punctuation.py\", line 24, in <module>\r\n    results = rp.punctuate(text,\
          \ lang='en')\r\n  File \"/home/liao/.local/lib/python3.8/site-packages/rpunct/punctuate.py\"\
          , line 45, in punctuate\r\n    combined_preds = self.combine_results(text,\
          \ preds_lst)\r\n  File \"/home/liao/.local/lib/python3.8/site-packages/rpunct/punctuate.py\"\
          , line 129, in combine_results\r\n    assert [i[0] for i in output_text]\
          \ == split_full_text\r\nAssertionError\r\n\r\n```\r\n# A python program\
          \ to test bert-restore-punctuation from huggingface.\r\n# This only works\
          \ for python 3.8, not 3.10\r\n\r\n# check python version is 3.8\r\nimport\
          \ sys\r\nif sys.version_info[0] != 3 or sys.version_info[1] != 8:\r\n  \
          \  print(\"This only works for python 3.8, not 3.10\")\r\n    sys.exit(1)\r\
          \n\r\nfrom rpunct import RestorePuncts\r\nrp = RestorePuncts()\r\n\r\nresults\
          \ =[]\r\n# check if the program has one required argument\r\nif len(sys.argv)\
          \ != 2:\r\n    print(\"Usage: python3 punctuation.py <filename>\")\r\n \
          \   sys.exit(1)\r\n\r\n# open a file with a list of sentences. The file\
          \ name is given as a command line argument\r\nwith open(sys.argv[1], 'r')\
          \ as f:\r\n    text =f.read()\r\n    # check the data type of text\r\n \
          \   results = rp.punctuate(text, lang='en')\r\n# save the results to a file\r\
          \noutput_file = sys.argv[1] + \".punctuated.txt\"\r\nwith open(output_file,\
          \ 'w') as f:\r\n    f.write(results)\r\n\r\n```\r\n\r\nInput is the text\
          \ fields of json transcript of https://www.youtube.com/watch?v=3qHkcs3kG44. "
        updatedAt: '2022-10-09T19:32:32.746Z'
      numEdits: 0
      reactions: []
    id: 634321d0b9454d65a2ee4c50
    type: comment
  author: liaoch
  content: "python3.8 punctuation.py \"3qHkcs3kG44.transcript.en\" \r\n\r\nf.read()\
    \ return type is: <class 'str'>\r\nTraceback (most recent call last):\r\n  File\
    \ \"punctuation.py\", line 24, in <module>\r\n    results = rp.punctuate(text,\
    \ lang='en')\r\n  File \"/home/liao/.local/lib/python3.8/site-packages/rpunct/punctuate.py\"\
    , line 45, in punctuate\r\n    combined_preds = self.combine_results(text, preds_lst)\r\
    \n  File \"/home/liao/.local/lib/python3.8/site-packages/rpunct/punctuate.py\"\
    , line 129, in combine_results\r\n    assert [i[0] for i in output_text] == split_full_text\r\
    \nAssertionError\r\n\r\n```\r\n# A python program to test bert-restore-punctuation\
    \ from huggingface.\r\n# This only works for python 3.8, not 3.10\r\n\r\n# check\
    \ python version is 3.8\r\nimport sys\r\nif sys.version_info[0] != 3 or sys.version_info[1]\
    \ != 8:\r\n    print(\"This only works for python 3.8, not 3.10\")\r\n    sys.exit(1)\r\
    \n\r\nfrom rpunct import RestorePuncts\r\nrp = RestorePuncts()\r\n\r\nresults\
    \ =[]\r\n# check if the program has one required argument\r\nif len(sys.argv)\
    \ != 2:\r\n    print(\"Usage: python3 punctuation.py <filename>\")\r\n    sys.exit(1)\r\
    \n\r\n# open a file with a list of sentences. The file name is given as a command\
    \ line argument\r\nwith open(sys.argv[1], 'r') as f:\r\n    text =f.read()\r\n\
    \    # check the data type of text\r\n    results = rp.punctuate(text, lang='en')\r\
    \n# save the results to a file\r\noutput_file = sys.argv[1] + \".punctuated.txt\"\
    \r\nwith open(output_file, 'w') as f:\r\n    f.write(results)\r\n\r\n```\r\n\r\
    \nInput is the text fields of json transcript of https://www.youtube.com/watch?v=3qHkcs3kG44. "
  created_at: 2022-10-09 18:32:32+00:00
  edited: false
  hidden: false
  id: 634321d0b9454d65a2ee4c50
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: felflare/bert-restore-punctuation
repo_type: model
status: open
target_branch: null
title: assert [i[0] for i in output_text] == split_full_text AssertionError
