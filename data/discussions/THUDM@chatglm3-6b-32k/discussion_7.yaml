!!python/object:huggingface_hub.community.DiscussionWithDetails
author: neteasy
conflicting_files: null
created_at: 2023-11-09 12:00:55+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676806864585-noauth.png?w=200&h=200&f=face
      fullname: webmaster
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: neteasy
      type: user
    createdAt: '2023-11-09T12:00:55.000Z'
    data:
      edited: false
      editors:
      - neteasy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.2252020686864853
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1676806864585-noauth.png?w=200&h=200&f=face
          fullname: webmaster
          isHf: false
          isPro: false
          name: neteasy
          type: user
        html: "<p>OS\uFF1A Ubuntu 22.04.2 LTS<br>GPU: 3090<br>\u63CF\u8FF0\uFF1A\u6309\
          \u7167\u5B98\u65B9\u6307\u5BFC\u90E8\u7F72\u5728\u672C\u5730\uFF0C<br>\u4EE5\
          \u4E0B\u4E3A\u793A\u4F8B\u4EE3\u7801\uFF1A<br>import openai<br>if name ==\
          \ \"main\":<br>openai.api_base = \"<a rel=\"nofollow\" href=\"http://192.168.100.118:8000/v1&quot;\"\
          >http://192.168.100.118:8000/v1\"</a><br>openai.api_key = \"none\"<br>for\
          \ chunk in openai.ChatCompletion.create(<br>model=\"chatglm3-6b\",<br>messages=[<br>{\"\
          role\": \"user\", \"content\": \"\u674E\u7115\u82F1\"}<br>],<br>stream=False<br>):<br>if\
          \ hasattr(chunk.choices[0].delta, \"content\"):<br>print(chunk.choices[0].delta.content,\
          \ end=\"\", flush=True)</p>\n<p>\u5982\u679C stream=True \u90A3\u56DE\u590D\
          \u5185\u5BB9\u6B63\u5E38\u3002<br>\u5982\u679C stream=False<br>\u5C31\u4F1A\
          \u51FA\u9519,\u4FE1\u606F\u5982\u4E0B\uFF1A</p>\n<p>Traceback (most recent\
          \ call last):<br>File \"D:\\python\u63D0\u4EA4\u5230qingyingkj\\ooo.py\"\
          , line 12, in<br>if hasattr(chunk.choices[0].delta, \"content\"):<br>AttributeError:\
          \ 'str' object has no attribute 'choices'</p>\n"
        raw: "OS\uFF1A Ubuntu 22.04.2 LTS\r\nGPU: 3090\r\n\u63CF\u8FF0\uFF1A\u6309\
          \u7167\u5B98\u65B9\u6307\u5BFC\u90E8\u7F72\u5728\u672C\u5730\uFF0C\r\n\u4EE5\
          \u4E0B\u4E3A\u793A\u4F8B\u4EE3\u7801\uFF1A\r\nimport openai\r\nif name ==\
          \ \"main\":\r\nopenai.api_base = \"http://192.168.100.118:8000/v1\"\r\n\
          openai.api_key = \"none\"\r\nfor chunk in openai.ChatCompletion.create(\r\
          \nmodel=\"chatglm3-6b\",\r\nmessages=[\r\n{\"role\": \"user\", \"content\"\
          : \"\u674E\u7115\u82F1\"}\r\n],\r\nstream=False\r\n):\r\nif hasattr(chunk.choices[0].delta,\
          \ \"content\"):\r\nprint(chunk.choices[0].delta.content, end=\"\", flush=True)\r\
          \n\r\n\u5982\u679C stream=True \u90A3\u56DE\u590D\u5185\u5BB9\u6B63\u5E38\
          \u3002\r\n\u5982\u679C stream=False\r\n\u5C31\u4F1A\u51FA\u9519,\u4FE1\u606F\
          \u5982\u4E0B\uFF1A\r\n\r\nTraceback (most recent call last):\r\nFile \"\
          D:\\python\u63D0\u4EA4\u5230qingyingkj\\ooo.py\", line 12, in\r\nif hasattr(chunk.choices[0].delta,\
          \ \"content\"):\r\nAttributeError: 'str' object has no attribute 'choices'"
        updatedAt: '2023-11-09T12:00:55.675Z'
      numEdits: 0
      reactions: []
    id: 654cc9f71456ebd6f805e373
    type: comment
  author: neteasy
  content: "OS\uFF1A Ubuntu 22.04.2 LTS\r\nGPU: 3090\r\n\u63CF\u8FF0\uFF1A\u6309\u7167\
    \u5B98\u65B9\u6307\u5BFC\u90E8\u7F72\u5728\u672C\u5730\uFF0C\r\n\u4EE5\u4E0B\u4E3A\
    \u793A\u4F8B\u4EE3\u7801\uFF1A\r\nimport openai\r\nif name == \"main\":\r\nopenai.api_base\
    \ = \"http://192.168.100.118:8000/v1\"\r\nopenai.api_key = \"none\"\r\nfor chunk\
    \ in openai.ChatCompletion.create(\r\nmodel=\"chatglm3-6b\",\r\nmessages=[\r\n\
    {\"role\": \"user\", \"content\": \"\u674E\u7115\u82F1\"}\r\n],\r\nstream=False\r\
    \n):\r\nif hasattr(chunk.choices[0].delta, \"content\"):\r\nprint(chunk.choices[0].delta.content,\
    \ end=\"\", flush=True)\r\n\r\n\u5982\u679C stream=True \u90A3\u56DE\u590D\u5185\
    \u5BB9\u6B63\u5E38\u3002\r\n\u5982\u679C stream=False\r\n\u5C31\u4F1A\u51FA\u9519\
    ,\u4FE1\u606F\u5982\u4E0B\uFF1A\r\n\r\nTraceback (most recent call last):\r\n\
    File \"D:\\python\u63D0\u4EA4\u5230qingyingkj\\ooo.py\", line 12, in\r\nif hasattr(chunk.choices[0].delta,\
    \ \"content\"):\r\nAttributeError: 'str' object has no attribute 'choices'"
  created_at: 2023-11-09 12:00:55+00:00
  edited: false
  hidden: false
  id: 654cc9f71456ebd6f805e373
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/RQJQZouD-Qnt70k0dVjHU.png?w=200&h=200&f=face
      fullname: Yuxuan Zhang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: zRzRzRzRzRzRzR
      type: user
    createdAt: '2024-01-04T02:48:06.000Z'
    data:
      edited: false
      editors:
      - zRzRzRzRzRzRzR
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9968007206916809
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/RQJQZouD-Qnt70k0dVjHU.png?w=200&h=200&f=face
          fullname: Yuxuan Zhang
          isHf: false
          isPro: false
          name: zRzRzRzRzRzRzR
          type: user
        html: "<p>\u66F4\u65B0\u5230\u6700\u65B0\u4EE3\u7801</p>\n"
        raw: "\u66F4\u65B0\u5230\u6700\u65B0\u4EE3\u7801"
        updatedAt: '2024-01-04T02:48:06.996Z'
      numEdits: 0
      reactions: []
      relatedEventId: 65961c67e4fbf46026258147
    id: 65961c66e4fbf46026258142
    type: comment
  author: zRzRzRzRzRzRzR
  content: "\u66F4\u65B0\u5230\u6700\u65B0\u4EE3\u7801"
  created_at: 2024-01-04 02:48:06+00:00
  edited: false
  hidden: false
  id: 65961c66e4fbf46026258142
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/RQJQZouD-Qnt70k0dVjHU.png?w=200&h=200&f=face
      fullname: Yuxuan Zhang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: zRzRzRzRzRzRzR
      type: user
    createdAt: '2024-01-04T02:48:07.000Z'
    data:
      status: closed
    id: 65961c67e4fbf46026258147
    type: status-change
  author: zRzRzRzRzRzRzR
  created_at: 2024-01-04 02:48:07+00:00
  id: 65961c67e4fbf46026258147
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: THUDM/chatglm3-6b-32k
repo_type: model
status: closed
target_branch: null
title: "\u672C\u5730\u90E8\u7F72 chatglm3 6B\uFF0C api \u5B98\u65B9\u6848\u5217\uFF0C\
  \u5173\u95ED\u6D41\u5F0F\u56DE\u590D\u5C31\u51FA\u9519"
