!!python/object:huggingface_hub.community.DiscussionWithDetails
author: saransh03
conflicting_files: null
created_at: 2023-04-06 10:30:41+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/937fd23caca7392ea63251ca5d5e2a8c.svg
      fullname: sharma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: saransh03
      type: user
    createdAt: '2023-04-06T11:30:41.000Z'
    data:
      edited: false
      editors:
      - saransh03
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/937fd23caca7392ea63251ca5d5e2a8c.svg
          fullname: sharma
          isHf: false
          isPro: false
          name: saransh03
          type: user
        html: "<pre><code>  4 pipe = pipe.to('cuda')\n  5 pipe.enable_attention_slicing()\n\
          </code></pre>\n<p>----&gt; 6 image = pipe(prompt=prompt, image=pil_image,\
          \ mask_image=mask).images[0]<br>      7 image.save(\"./yellow_cat_on_park_bench.png\"\
          )</p>\n<p>/opt/conda/lib/python3.7/site-packages/torch/autograd/grad_mode.py\
          \ in decorate_context(*args, **kwargs)<br>     25         def decorate_context(*args,\
          \ **kwargs):<br>     26             with self.clone():<br>---&gt; 27   \
          \              return func(*args, **kwargs)<br>     28         return cast(F,\
          \ decorate_context)<br>     29 </p>\n<p>/opt/conda/lib/python3.7/site-packages/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_inpaint.py\
          \ in <strong>call</strong>(self, prompt, image, mask_image, height, width,\
          \ num_inference_steps, guidance_scale, negative_prompt, num_images_per_prompt,\
          \ eta, generator, latents, prompt_embeds, negative_prompt_embeds, output_type,\
          \ return_dict, callback, callback_steps)<br>    852                 # concat\
          \ latents, mask, masked_image_latents in the channel dimension<br>    853\
          \                 latent_model_input = self.scheduler.scale_model_input(latent_model_input,\
          \ t)<br>--&gt; 854                 latent_model_input = torch.cat([latent_model_input,\
          \ mask, masked_image_latents], dim=1)<br>    855<br>    856            \
          \     # predict the noise residual</p>\n<p>RuntimeError: Sizes of tensors\
          \ must match except in dimension 1. Expected size 64 but got size 32 for\
          \ tensor number 2 in the list.</p>\n<p>how to solve this??</p>\n<p><a rel=\"\
          nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/642ead103a486fec8344187f/GJIsxdh_T4IkkMWOcf9gO.jpeg\"\
          ><img alt=\"WhatsApp Image 2023-04-06 at 4.50.46 PM.jpeg\" src=\"https://cdn-uploads.huggingface.co/production/uploads/642ead103a486fec8344187f/GJIsxdh_T4IkkMWOcf9gO.jpeg\"\
          ></a></p>\n"
        raw: "      4 pipe = pipe.to('cuda')\r\n      5 pipe.enable_attention_slicing()\r\
          \n----> 6 image = pipe(prompt=prompt, image=pil_image, mask_image=mask).images[0]\r\
          \n      7 image.save(\"./yellow_cat_on_park_bench.png\")\r\n\r\n/opt/conda/lib/python3.7/site-packages/torch/autograd/grad_mode.py\
          \ in decorate_context(*args, **kwargs)\r\n     25         def decorate_context(*args,\
          \ **kwargs):\r\n     26             with self.clone():\r\n---> 27      \
          \           return func(*args, **kwargs)\r\n     28         return cast(F,\
          \ decorate_context)\r\n     29 \r\n\r\n/opt/conda/lib/python3.7/site-packages/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_inpaint.py\
          \ in __call__(self, prompt, image, mask_image, height, width, num_inference_steps,\
          \ guidance_scale, negative_prompt, num_images_per_prompt, eta, generator,\
          \ latents, prompt_embeds, negative_prompt_embeds, output_type, return_dict,\
          \ callback, callback_steps)\r\n    852                 # concat latents,\
          \ mask, masked_image_latents in the channel dimension\r\n    853       \
          \          latent_model_input = self.scheduler.scale_model_input(latent_model_input,\
          \ t)\r\n--> 854                 latent_model_input = torch.cat([latent_model_input,\
          \ mask, masked_image_latents], dim=1)\r\n    855 \r\n    856           \
          \      # predict the noise residual\r\n\r\nRuntimeError: Sizes of tensors\
          \ must match except in dimension 1. Expected size 64 but got size 32 for\
          \ tensor number 2 in the list.\r\n\r\n\r\nhow to solve this??\r\n\r\n![WhatsApp\
          \ Image 2023-04-06 at 4.50.46 PM.jpeg](https://cdn-uploads.huggingface.co/production/uploads/642ead103a486fec8344187f/GJIsxdh_T4IkkMWOcf9gO.jpeg)\r\
          \n"
        updatedAt: '2023-04-06T11:30:41.777Z'
      numEdits: 0
      reactions: []
    id: 642ead613c2cf43f6d700829
    type: comment
  author: saransh03
  content: "      4 pipe = pipe.to('cuda')\r\n      5 pipe.enable_attention_slicing()\r\
    \n----> 6 image = pipe(prompt=prompt, image=pil_image, mask_image=mask).images[0]\r\
    \n      7 image.save(\"./yellow_cat_on_park_bench.png\")\r\n\r\n/opt/conda/lib/python3.7/site-packages/torch/autograd/grad_mode.py\
    \ in decorate_context(*args, **kwargs)\r\n     25         def decorate_context(*args,\
    \ **kwargs):\r\n     26             with self.clone():\r\n---> 27            \
    \     return func(*args, **kwargs)\r\n     28         return cast(F, decorate_context)\r\
    \n     29 \r\n\r\n/opt/conda/lib/python3.7/site-packages/diffusers/pipelines/stable_diffusion/pipeline_stable_diffusion_inpaint.py\
    \ in __call__(self, prompt, image, mask_image, height, width, num_inference_steps,\
    \ guidance_scale, negative_prompt, num_images_per_prompt, eta, generator, latents,\
    \ prompt_embeds, negative_prompt_embeds, output_type, return_dict, callback, callback_steps)\r\
    \n    852                 # concat latents, mask, masked_image_latents in the\
    \ channel dimension\r\n    853                 latent_model_input = self.scheduler.scale_model_input(latent_model_input,\
    \ t)\r\n--> 854                 latent_model_input = torch.cat([latent_model_input,\
    \ mask, masked_image_latents], dim=1)\r\n    855 \r\n    856                 #\
    \ predict the noise residual\r\n\r\nRuntimeError: Sizes of tensors must match\
    \ except in dimension 1. Expected size 64 but got size 32 for tensor number 2\
    \ in the list.\r\n\r\n\r\nhow to solve this??\r\n\r\n![WhatsApp Image 2023-04-06\
    \ at 4.50.46 PM.jpeg](https://cdn-uploads.huggingface.co/production/uploads/642ead103a486fec8344187f/GJIsxdh_T4IkkMWOcf9gO.jpeg)\r\
    \n"
  created_at: 2023-04-06 10:30:41+00:00
  edited: false
  hidden: false
  id: 642ead613c2cf43f6d700829
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2f413f1d653e981522832bd2f83d46a7.svg
      fullname: George Ogden
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: George-Ogden
      type: user
    createdAt: '2023-05-18T19:52:57.000Z'
    data:
      edited: false
      editors:
      - George-Ogden
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2f413f1d653e981522832bd2f83d46a7.svg
          fullname: George Ogden
          isHf: false
          isPro: false
          name: George-Ogden
          type: user
        html: "<p>Try:</p>\n<pre><code>image = pipe(\n    prompt=prompt,\n    image=pil_image,\n\
          \    mask_image=mask,\n    height=pil_image.height,\n    width=pil_image.width,\n\
          ).images[0]\n</code></pre>\n"
        raw: "Try:\n```\nimage = pipe(\n    prompt=prompt,\n    image=pil_image,\n\
          \    mask_image=mask,\n    height=pil_image.height,\n    width=pil_image.width,\n\
          ).images[0]\n```"
        updatedAt: '2023-05-18T19:52:57.320Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Andyx
    id: 646682199c627c78f86f1993
    type: comment
  author: George-Ogden
  content: "Try:\n```\nimage = pipe(\n    prompt=prompt,\n    image=pil_image,\n \
    \   mask_image=mask,\n    height=pil_image.height,\n    width=pil_image.width,\n\
    ).images[0]\n```"
  created_at: 2023-05-18 18:52:57+00:00
  edited: false
  hidden: false
  id: 646682199c627c78f86f1993
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 26
repo_id: stabilityai/stable-diffusion-2-inpainting
repo_type: model
status: open
target_branch: null
title: 'RuntimeError: Sizes of tensors must match except in dimension 1. Expected
  size 64 but got size 32 for tensor number 2 in the list.'
