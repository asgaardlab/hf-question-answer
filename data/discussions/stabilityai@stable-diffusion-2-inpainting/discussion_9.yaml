!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lukaup
conflicting_files: null
created_at: 2022-11-30 23:02:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/49506d19f68b7bb33a4bdcf5ba17c8cb.svg
      fullname: Lukas K
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lukaup
      type: user
    createdAt: '2022-11-30T23:02:03.000Z'
    data:
      edited: false
      editors:
      - lukaup
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/49506d19f68b7bb33a4bdcf5ba17c8cb.svg
          fullname: Lukas K
          isHf: false
          isPro: false
          name: lukaup
          type: user
        html: '<p>xformers library not used. Stable diffusion v2 uses the library,
          and the memory footprint is really small - can create 4k resolution images
          using my rtx 3090 24 GB mem. Now, if I use anything greater than 512x512
          px, my memory of 24 GB is not enough with this inpainting version. Any ideas?
          </p>

          <p>Slicing Problem<br> pipe.enable_attention_slicing()<br>  File "venv-new\lib\site-packages\diffusers\pipelines\stable_diffusion\pipeline_stable_diffusion_inpaint.py",
          line 241, in enable_attention_slicing<br>    slice_size = self.unet.config.attention_head_dim
          // 2</p>

          '
        raw: "xformers library not used. Stable diffusion v2 uses the library, and\
          \ the memory footprint is really small - can create 4k resolution images\
          \ using my rtx 3090 24 GB mem. Now, if I use anything greater than 512x512\
          \ px, my memory of 24 GB is not enough with this inpainting version. Any\
          \ ideas? \r\n\r\nSlicing Problem\r\n pipe.enable_attention_slicing()\r\n\
          \  File \"venv-new\\lib\\site-packages\\diffusers\\pipelines\\stable_diffusion\\\
          pipeline_stable_diffusion_inpaint.py\", line 241, in enable_attention_slicing\r\
          \n    slice_size = self.unet.config.attention_head_dim // 2"
        updatedAt: '2022-11-30T23:02:03.079Z'
      numEdits: 0
      reactions: []
    id: 6387e0ebde1fa6adc546327e
    type: comment
  author: lukaup
  content: "xformers library not used. Stable diffusion v2 uses the library, and the\
    \ memory footprint is really small - can create 4k resolution images using my\
    \ rtx 3090 24 GB mem. Now, if I use anything greater than 512x512 px, my memory\
    \ of 24 GB is not enough with this inpainting version. Any ideas? \r\n\r\nSlicing\
    \ Problem\r\n pipe.enable_attention_slicing()\r\n  File \"venv-new\\lib\\site-packages\\\
    diffusers\\pipelines\\stable_diffusion\\pipeline_stable_diffusion_inpaint.py\"\
    , line 241, in enable_attention_slicing\r\n    slice_size = self.unet.config.attention_head_dim\
    \ // 2"
  created_at: 2022-11-30 23:02:03+00:00
  edited: false
  hidden: false
  id: 6387e0ebde1fa6adc546327e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: stabilityai/stable-diffusion-2-inpainting
repo_type: model
status: open
target_branch: null
title: Version do not use xformers library | Enable Attention Slicing do not work
