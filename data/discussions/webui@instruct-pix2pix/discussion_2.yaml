!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ic4nication
conflicting_files: null
created_at: 2023-02-20 11:42:46+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cf5076406b7ceb33d349adf95f36ef7b.svg
      fullname: I C
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ic4nication
      type: user
    createdAt: '2023-02-20T11:42:46.000Z'
    data:
      edited: false
      editors:
      - ic4nication
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cf5076406b7ceb33d349adf95f36ef7b.svg
          fullname: I C
          isHf: false
          isPro: false
          name: ic4nication
          type: user
        html: '<p>changing setting sd_model_checkpoint to instruct-pix2pix-00-22000-pruned.safetensors
          [21c7ab71]: RuntimeError<br>Traceback (most recent call last):<br>  File
          "F:\Progz\stable-diffusion-webui\modules\shared.py", line 502, in set<br>    self.data_labels[key].onchange()<br>  File
          "F:\Progz\stable-diffusion-webui\modules\call_queue.py", line 15, in f<br>    res
          = func(*args, **kwargs)<br>  File "F:\Progz\stable-diffusion-webui\webui.py",
          line 73, in <br>    shared.opts.onchange("sd_model_checkpoint", wrap_queued_call(lambda:
          modules.sd_models.reload_model_weights()))<br>  File "F:\Progz\stable-diffusion-webui\modules\sd_models.py",
          line 369, in reload_model_weights<br>    load_model_weights(sd_model, checkpoint_info)<br>  File
          "F:\Progz\stable-diffusion-webui\modules\sd_models.py", line 203, in load_model_weights<br>    model.load_state_dict(sd,
          strict=False)<br>  File "F:\Progz\stable-diffusion-webui\venv\lib\site-packages\torch\nn\modules\module.py",
          line 1604, in load_state_dict<br>    raise RuntimeError(''Error(s) in loading
          state_dict for {}:\n\t{}''.format(<br>RuntimeError: Error(s) in loading
          state_dict for LatentDiffusion:<br>        size mismatch for model.diffusion_model.input_blocks.0.0.weight:
          copying a param with shape torch.Size([320, 8, 3, 3]) from checkpoint, the
          shape in current model is torch.Size([320, 4, 3, 3]).</p>

          '
        raw: "changing setting sd_model_checkpoint to instruct-pix2pix-00-22000-pruned.safetensors\
          \ [21c7ab71]: RuntimeError\r\nTraceback (most recent call last):\r\n  File\
          \ \"F:\\Progz\\stable-diffusion-webui\\modules\\shared.py\", line 502, in\
          \ set\r\n    self.data_labels[key].onchange()\r\n  File \"F:\\Progz\\stable-diffusion-webui\\\
          modules\\call_queue.py\", line 15, in f\r\n    res = func(*args, **kwargs)\r\
          \n  File \"F:\\Progz\\stable-diffusion-webui\\webui.py\", line 73, in <lambda>\r\
          \n    shared.opts.onchange(\"sd_model_checkpoint\", wrap_queued_call(lambda:\
          \ modules.sd_models.reload_model_weights()))\r\n  File \"F:\\Progz\\stable-diffusion-webui\\\
          modules\\sd_models.py\", line 369, in reload_model_weights\r\n    load_model_weights(sd_model,\
          \ checkpoint_info)\r\n  File \"F:\\Progz\\stable-diffusion-webui\\modules\\\
          sd_models.py\", line 203, in load_model_weights\r\n    model.load_state_dict(sd,\
          \ strict=False)\r\n  File \"F:\\Progz\\stable-diffusion-webui\\venv\\lib\\\
          site-packages\\torch\\nn\\modules\\module.py\", line 1604, in load_state_dict\r\
          \n    raise RuntimeError('Error(s) in loading state_dict for {}:\\n\\t{}'.format(\r\
          \nRuntimeError: Error(s) in loading state_dict for LatentDiffusion:\r\n\
          \        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
          \ copying a param with shape torch.Size([320, 8, 3, 3]) from checkpoint,\
          \ the shape in current model is torch.Size([320, 4, 3, 3])."
        updatedAt: '2023-02-20T11:42:46.275Z'
      numEdits: 0
      reactions: []
    id: 63f35cb64745321de3505f56
    type: comment
  author: ic4nication
  content: "changing setting sd_model_checkpoint to instruct-pix2pix-00-22000-pruned.safetensors\
    \ [21c7ab71]: RuntimeError\r\nTraceback (most recent call last):\r\n  File \"\
    F:\\Progz\\stable-diffusion-webui\\modules\\shared.py\", line 502, in set\r\n\
    \    self.data_labels[key].onchange()\r\n  File \"F:\\Progz\\stable-diffusion-webui\\\
    modules\\call_queue.py\", line 15, in f\r\n    res = func(*args, **kwargs)\r\n\
    \  File \"F:\\Progz\\stable-diffusion-webui\\webui.py\", line 73, in <lambda>\r\
    \n    shared.opts.onchange(\"sd_model_checkpoint\", wrap_queued_call(lambda: modules.sd_models.reload_model_weights()))\r\
    \n  File \"F:\\Progz\\stable-diffusion-webui\\modules\\sd_models.py\", line 369,\
    \ in reload_model_weights\r\n    load_model_weights(sd_model, checkpoint_info)\r\
    \n  File \"F:\\Progz\\stable-diffusion-webui\\modules\\sd_models.py\", line 203,\
    \ in load_model_weights\r\n    model.load_state_dict(sd, strict=False)\r\n  File\
    \ \"F:\\Progz\\stable-diffusion-webui\\venv\\lib\\site-packages\\torch\\nn\\modules\\\
    module.py\", line 1604, in load_state_dict\r\n    raise RuntimeError('Error(s)\
    \ in loading state_dict for {}:\\n\\t{}'.format(\r\nRuntimeError: Error(s) in\
    \ loading state_dict for LatentDiffusion:\r\n        size mismatch for model.diffusion_model.input_blocks.0.0.weight:\
    \ copying a param with shape torch.Size([320, 8, 3, 3]) from checkpoint, the shape\
    \ in current model is torch.Size([320, 4, 3, 3])."
  created_at: 2023-02-20 11:42:46+00:00
  edited: false
  hidden: false
  id: 63f35cb64745321de3505f56
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: webui/instruct-pix2pix
repo_type: model
status: open
target_branch: null
title: Failed to load checkpoint instruct-pix2pix-00-22000-pruned.safetensors
