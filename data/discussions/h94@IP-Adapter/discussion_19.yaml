!!python/object:huggingface_hub.community.DiscussionWithDetails
author: sleepy-chrisy
conflicting_files: null
created_at: 2023-12-08 10:25:00+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8b1be0a6632c70146d9ecfc812ee519c.svg
      fullname: Chrisy Ngx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sleepy-chrisy
      type: user
    createdAt: '2023-12-08T10:25:00.000Z'
    data:
      edited: false
      editors:
      - sleepy-chrisy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5667169094085693
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8b1be0a6632c70146d9ecfc812ee519c.svg
          fullname: Chrisy Ngx
          isHf: false
          isPro: false
          name: sleepy-chrisy
          type: user
        html: '<p>Hi, </p>

          <p>I am using diffusers==0.24.0 and trying to run this sample from the release
          0.24.0 on colab<br><a rel="nofollow" href="https://github.com/huggingface/diffusers/releases/tag/v0.24.0">https://github.com/huggingface/diffusers/releases/tag/v0.24.0</a></p>

          <p>''''''''<br>from diffusers import DiffusionPipeline, LCMScheduler<br>import
          torch<br>from diffusers.utils import load_image</p>

          <p>model_id =  "sd-dreambooth-library/herge-style"<br>lcm_lora_id = "latent-consistency/lcm-lora-sdv1-5"</p>

          <p>pipe = DiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)</p>

          <p>pipe.load_ip_adapter("h94/IP-Adapter", subfolder="models", weight_name="ip-adapter_sd15.bin")<br>pipe.load_lora_weights(lcm_lora_id)<br>pipe.scheduler
          = LCMScheduler.from_config(pipe.scheduler.config)<br>pipe.enable_model_cpu_offload()</p>

          <p>prompt = "best quality, high quality"<br>image = load_image("<a rel="nofollow"
          href="https://user-images.githubusercontent.com/24734142/266492875-2d50d223-8475-44f0-a7c6-08b51cb53572.png&quot;">https://user-images.githubusercontent.com/24734142/266492875-2d50d223-8475-44f0-a7c6-08b51cb53572.png"</a>)<br>images
          = pipe(<br>    prompt=prompt,<br>    ip_adapter_image=image,<br>    num_inference_steps=4,<br>    guidance_scale=1,<br>).images[0]<br>''''''''</p>

          <p>This code runs fine, but when I change the load_ip_adapter to ''ip-adapter-plus-face_sd15.bin''
          or ''ip-adapter-plus_sd15.bin'', it gives this error.</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/6572ec2d689926776a1fe4dd/nxbsQT5qj-_Mqyh_kR3GN.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/6572ec2d689926776a1fe4dd/nxbsQT5qj-_Mqyh_kR3GN.png"></a></p>

          <p>Did I miss something? Please help, thank you so much :D</p>

          '
        raw: "Hi, \r\n\r\nI am using diffusers==0.24.0 and trying to run this sample\
          \ from the release 0.24.0 on colab \r\nhttps://github.com/huggingface/diffusers/releases/tag/v0.24.0\r\
          \n\r\n''''\r\nfrom diffusers import DiffusionPipeline, LCMScheduler\r\n\
          import torch\r\nfrom diffusers.utils import load_image\r\n\r\nmodel_id =\
          \  \"sd-dreambooth-library/herge-style\"\r\nlcm_lora_id = \"latent-consistency/lcm-lora-sdv1-5\"\
          \r\n\r\npipe = DiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)\r\
          \n\r\npipe.load_ip_adapter(\"h94/IP-Adapter\", subfolder=\"models\", weight_name=\"\
          ip-adapter_sd15.bin\")\r\npipe.load_lora_weights(lcm_lora_id)\r\npipe.scheduler\
          \ = LCMScheduler.from_config(pipe.scheduler.config)\r\npipe.enable_model_cpu_offload()\r\
          \n\r\nprompt = \"best quality, high quality\"\r\nimage = load_image(\"https://user-images.githubusercontent.com/24734142/266492875-2d50d223-8475-44f0-a7c6-08b51cb53572.png\"\
          )\r\nimages = pipe(\r\n    prompt=prompt,\r\n    ip_adapter_image=image,\r\
          \n    num_inference_steps=4,\r\n    guidance_scale=1,\r\n).images[0]\r\n\
          ''''\r\n\r\nThis code runs fine, but when I change the load_ip_adapter to\
          \ 'ip-adapter-plus-face_sd15.bin' or 'ip-adapter-plus_sd15.bin', it gives\
          \ this error.\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/6572ec2d689926776a1fe4dd/nxbsQT5qj-_Mqyh_kR3GN.png)\r\
          \n\r\nDid I miss something? Please help, thank you so much :D"
        updatedAt: '2023-12-08T10:25:00.109Z'
      numEdits: 0
      reactions: []
    id: 6572eefca5f2213c55d5c451
    type: comment
  author: sleepy-chrisy
  content: "Hi, \r\n\r\nI am using diffusers==0.24.0 and trying to run this sample\
    \ from the release 0.24.0 on colab \r\nhttps://github.com/huggingface/diffusers/releases/tag/v0.24.0\r\
    \n\r\n''''\r\nfrom diffusers import DiffusionPipeline, LCMScheduler\r\nimport\
    \ torch\r\nfrom diffusers.utils import load_image\r\n\r\nmodel_id =  \"sd-dreambooth-library/herge-style\"\
    \r\nlcm_lora_id = \"latent-consistency/lcm-lora-sdv1-5\"\r\n\r\npipe = DiffusionPipeline.from_pretrained(model_id,\
    \ torch_dtype=torch.float16)\r\n\r\npipe.load_ip_adapter(\"h94/IP-Adapter\", subfolder=\"\
    models\", weight_name=\"ip-adapter_sd15.bin\")\r\npipe.load_lora_weights(lcm_lora_id)\r\
    \npipe.scheduler = LCMScheduler.from_config(pipe.scheduler.config)\r\npipe.enable_model_cpu_offload()\r\
    \n\r\nprompt = \"best quality, high quality\"\r\nimage = load_image(\"https://user-images.githubusercontent.com/24734142/266492875-2d50d223-8475-44f0-a7c6-08b51cb53572.png\"\
    )\r\nimages = pipe(\r\n    prompt=prompt,\r\n    ip_adapter_image=image,\r\n \
    \   num_inference_steps=4,\r\n    guidance_scale=1,\r\n).images[0]\r\n''''\r\n\
    \r\nThis code runs fine, but when I change the load_ip_adapter to 'ip-adapter-plus-face_sd15.bin'\
    \ or 'ip-adapter-plus_sd15.bin', it gives this error.\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/6572ec2d689926776a1fe4dd/nxbsQT5qj-_Mqyh_kR3GN.png)\r\
    \n\r\nDid I miss something? Please help, thank you so much :D"
  created_at: 2023-12-08 10:25:00+00:00
  edited: false
  hidden: false
  id: 6572eefca5f2213c55d5c451
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6319b24609baf858241f026c/nBucmn2eT498BLq0MNcqo.png?w=200&h=200&f=face
      fullname: xiaohu
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: h94
      type: user
    createdAt: '2023-12-08T10:57:18.000Z'
    data:
      edited: true
      editors:
      - h94
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7665308117866516
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6319b24609baf858241f026c/nBucmn2eT498BLq0MNcqo.png?w=200&h=200&f=face
          fullname: xiaohu
          isHf: false
          isPro: false
          name: h94
          type: user
        html: '<p>you should install the latest repo of <a rel="nofollow" href="https://github.com/huggingface/diffusers.git">https://github.com/huggingface/diffusers.git</a>  the
          plus version will be supported in the next version of diffusers.</p>

          '
        raw: you should install the latest repo of https://github.com/huggingface/diffusers.git  the
          plus version will be supported in the next version of diffusers.
        updatedAt: '2023-12-08T10:58:24.462Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - sleepy-chrisy
    id: 6572f68ea66569b9f99114e4
    type: comment
  author: h94
  content: you should install the latest repo of https://github.com/huggingface/diffusers.git  the
    plus version will be supported in the next version of diffusers.
  created_at: 2023-12-08 10:57:18+00:00
  edited: true
  hidden: false
  id: 6572f68ea66569b9f99114e4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8b1be0a6632c70146d9ecfc812ee519c.svg
      fullname: Chrisy Ngx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sleepy-chrisy
      type: user
    createdAt: '2023-12-09T04:41:04.000Z'
    data:
      edited: false
      editors:
      - sleepy-chrisy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6023335456848145
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8b1be0a6632c70146d9ecfc812ee519c.svg
          fullname: Chrisy Ngx
          isHf: false
          isPro: false
          name: sleepy-chrisy
          type: user
        html: '<p>Install the latest repo works, thank youu</p>

          '
        raw: Install the latest repo works, thank youu
        updatedAt: '2023-12-09T04:41:04.101Z'
      numEdits: 0
      reactions: []
    id: 6573efe012ae60c542646130
    type: comment
  author: sleepy-chrisy
  content: Install the latest repo works, thank youu
  created_at: 2023-12-09 04:41:04+00:00
  edited: false
  hidden: false
  id: 6573efe012ae60c542646130
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/8b1be0a6632c70146d9ecfc812ee519c.svg
      fullname: Chrisy Ngx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sleepy-chrisy
      type: user
    createdAt: '2023-12-09T04:41:08.000Z'
    data:
      status: closed
    id: 6573efe414bfb7d56fa16518
    type: status-change
  author: sleepy-chrisy
  created_at: 2023-12-09 04:41:08+00:00
  id: 6573efe414bfb7d56fa16518
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 19
repo_id: h94/IP-Adapter
repo_type: model
status: closed
target_branch: null
title: 'KeyError: ''proj.weight'''
