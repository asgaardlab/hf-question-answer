!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ayazdan
conflicting_files: null
created_at: 2022-11-13 06:01:54+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/76e5e7b51515b58e207c7d2a4b360d30.svg
      fullname: Amir Yazdanbakhsh
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ayazdan
      type: user
    createdAt: '2022-11-13T06:01:54.000Z'
    data:
      edited: false
      editors:
      - ayazdan
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/76e5e7b51515b58e207c7d2a4b360d30.svg
          fullname: Amir Yazdanbakhsh
          isHf: false
          isPro: false
          name: ayazdan
          type: user
        html: "<p>I got the following accuracy 88.09 / 84.83 (F1/Exact) with this\
          \ checkpoint. The reported accuracy in the original repo is 89.8/86.9.</p>\n\
          <p>I used the following command to measure accuracy.</p>\n<pre><code>python3\
          \ transformer-sparsity/examples/pytorch/question-answering/run_qa.py \\\n\
          \                        --model_name_or_path ${model} \\\n            \
          \            --dataset_name squad_v2 \\\n                        --do_eval\
          \ \\\n                        --per_device_eval_batch_size 8 \\\n      \
          \                  --max_seq_length 512 \\\n                        --doc_stride\
          \ 128 \\\n                        --fp16 \\\n                        --fp16_opt_level\
          \ O1 \\\n                        --version_2_with_negative \\\n        \
          \                --overwrite_output_dir \\\n                        --output_dir\
          \ ${ckpt_path} 2&gt;&amp;1 | tee ~/${ckpt_path}/eval_run_$(date +\"%Y_%m_%d_%I_%M_%p\"\
          ).log\n</code></pre>\n"
        raw: "I got the following accuracy 88.09 / 84.83 (F1/Exact) with this checkpoint.\
          \ The reported accuracy in the original repo is 89.8/86.9.\r\n\r\nI used\
          \ the following command to measure accuracy.\r\n\r\n```\r\npython3 transformer-sparsity/examples/pytorch/question-answering/run_qa.py\
          \ \\\r\n                        --model_name_or_path ${model} \\\r\n   \
          \                     --dataset_name squad_v2 \\\r\n                   \
          \     --do_eval \\\r\n                        --per_device_eval_batch_size\
          \ 8 \\\r\n                        --max_seq_length 512 \\\r\n          \
          \              --doc_stride 128 \\\r\n                        --fp16 \\\r\
          \n                        --fp16_opt_level O1 \\\r\n                   \
          \     --version_2_with_negative \\\r\n                        --overwrite_output_dir\
          \ \\\r\n                        --output_dir ${ckpt_path} 2>&1 | tee ~/${ckpt_path}/eval_run_$(date\
          \ +\"%Y_%m_%d_%I_%M_%p\").log\r\n```"
        updatedAt: '2022-11-13T06:01:54.024Z'
      numEdits: 0
      reactions: []
    id: 637088525af6ffb65641fb47
    type: comment
  author: ayazdan
  content: "I got the following accuracy 88.09 / 84.83 (F1/Exact) with this checkpoint.\
    \ The reported accuracy in the original repo is 89.8/86.9.\r\n\r\nI used the following\
    \ command to measure accuracy.\r\n\r\n```\r\npython3 transformer-sparsity/examples/pytorch/question-answering/run_qa.py\
    \ \\\r\n                        --model_name_or_path ${model} \\\r\n         \
    \               --dataset_name squad_v2 \\\r\n                        --do_eval\
    \ \\\r\n                        --per_device_eval_batch_size 8 \\\r\n        \
    \                --max_seq_length 512 \\\r\n                        --doc_stride\
    \ 128 \\\r\n                        --fp16 \\\r\n                        --fp16_opt_level\
    \ O1 \\\r\n                        --version_2_with_negative \\\r\n          \
    \              --overwrite_output_dir \\\r\n                        --output_dir\
    \ ${ckpt_path} 2>&1 | tee ~/${ckpt_path}/eval_run_$(date +\"%Y_%m_%d_%I_%M_%p\"\
    ).log\r\n```"
  created_at: 2022-11-13 06:01:54+00:00
  edited: false
  hidden: false
  id: 637088525af6ffb65641fb47
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: mfeb/albert-xxlarge-v2-squad2
repo_type: model
status: open
target_branch: null
title: Accuracy
