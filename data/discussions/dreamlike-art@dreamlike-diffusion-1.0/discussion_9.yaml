!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Bulldeawh
conflicting_files: null
created_at: 2022-12-22 21:48:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677083266161-63a22870931d2c13ad807018.png?w=200&h=200&f=face
      fullname: William Adams
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Bulldeawh
      type: user
    createdAt: '2022-12-22T21:48:37.000Z'
    data:
      edited: false
      editors:
      - Bulldeawh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677083266161-63a22870931d2c13ad807018.png?w=200&h=200&f=face
          fullname: William Adams
          isHf: false
          isPro: false
          name: Bulldeawh
          type: user
        html: '<p>Hello!<br>I tried to run this on AMD RX 580 (8 GB) on Windows 10,
          but it does not seem to work.<br>I converted the model into onnx and ran
          the commands, but I get these errors:</p>

          <p>"2022-12-22 23:27:50.7578754 [W:onnxruntime:, inference_session.cc:490
          onnxruntime::InferenceSession::RegisterExecutionProvider] Having memory
          pattern enabled is not supported while using the DML Execution Provider.
          So disabling it for this session since it uses the DML Execution Provider.<br>2022-12-22
          23:27:53.0598830 [W:onnxruntime:, inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]
          Having memory pattern enabled is not supported while using the DML Execution
          Provider. So disabling it for this session since it uses the DML Execution
          Provider.<br>2022-12-22 23:27:53.5751470 [W:onnxruntime:, inference_session.cc:490
          onnxruntime::InferenceSession::RegisterExecutionProvider] Having memory
          pattern enabled is not supported while using the DML Execution Provider.
          So disabling it for this session since it uses the DML Execution Provider.<br>2022-12-22
          23:28:02.2499282 [W:onnxruntime:, inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]
          Having memory pattern enabled is not supported while using the DML Execution
          Provider. So disabling it for this session since it uses the DML Execution
          Provider.<br>Traceback (most recent call last):<br>  File "C:...\t2i.py",
          line 14, in <br>    image = pipe(prompt, num_inference_steps=steps, guidance_scale=scale).images[0]<br>  File
          "C:...\diffusers\src\diffusers\pipelines\stable_diffusion\pipeline_onnx_stable_diffusion.py",
          line 250, in <strong>call</strong><br>    latents = latents * np.float(self.scheduler.init_noise_sigma)<br>  File
          "C:...\Desktop\PythonInOffice...\art\lib\site-packages\numpy_<em>init</em>_.py",
          line 284, in <strong>getattr</strong><br>    raise AttributeError("module
          {!r} has no attribute "<br>AttributeError: module ''numpy'' has no attribute
          ''float''"</p>

          <hr>

          <p>Tried using this from a youtube channel (pythoninoffice):</p>

          <p>from diffusers import OnnxStableDiffusionPipeline<br>#from PIL import
          Image</p>

          <p>#baseImage = Image.open(r"in.jpg").convert("RGB") # opens an image directly
          from the script''s location and converts to RGB color profile<br>#baseImage
          = baseImage.resize((768,512))</p>

          <p>prompt = "A fantasy landscape, trending on artstation"<br>denoiseStrength
          = 0.8 # a float number from 0 to 1 - decreasing this number will increase
          result similarity with baseImage<br>steps = 25<br>scale = 7.5</p>

          <p>pipe = OnnxStableDiffusionPipeline.from_pretrained(r"C:\Users...\Desktop\PythonInOffice...\onnx",<br>                                                   provider="DmlExecutionProvider")<br>image
          = pipe(prompt, strength=denoiseStrength, num_inference_steps=steps, guidance_scale=scale).images[0]<br>image.save("t2i.png")</p>

          <p>Thanks for the answers! I am not a coder or something, but I try to figure
          out things.</p>

          '
        raw: "Hello!\r\nI tried to run this on AMD RX 580 (8 GB) on Windows 10, but\
          \ it does not seem to work. \r\nI converted the model into onnx and ran\
          \ the commands, but I get these errors:\r\n\r\n\"2022-12-22 23:27:50.7578754\
          \ [W:onnxruntime:, inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]\
          \ Having memory pattern enabled is not supported while using the DML Execution\
          \ Provider. So disabling it for this session since it uses the DML Execution\
          \ Provider.\r\n2022-12-22 23:27:53.0598830 [W:onnxruntime:, inference_session.cc:490\
          \ onnxruntime::InferenceSession::RegisterExecutionProvider] Having memory\
          \ pattern enabled is not supported while using the DML Execution Provider.\
          \ So disabling it for this session since it uses the DML Execution Provider.\r\
          \n2022-12-22 23:27:53.5751470 [W:onnxruntime:, inference_session.cc:490\
          \ onnxruntime::InferenceSession::RegisterExecutionProvider] Having memory\
          \ pattern enabled is not supported while using the DML Execution Provider.\
          \ So disabling it for this session since it uses the DML Execution Provider.\r\
          \n2022-12-22 23:28:02.2499282 [W:onnxruntime:, inference_session.cc:490\
          \ onnxruntime::InferenceSession::RegisterExecutionProvider] Having memory\
          \ pattern enabled is not supported while using the DML Execution Provider.\
          \ So disabling it for this session since it uses the DML Execution Provider.\r\
          \nTraceback (most recent call last):\r\n  File \"C:\\...\\t2i.py\", line\
          \ 14, in <module>\r\n    image = pipe(prompt, num_inference_steps=steps,\
          \ guidance_scale=scale).images[0]\r\n  File \"C:\\...\\diffusers\\src\\\
          diffusers\\pipelines\\stable_diffusion\\pipeline_onnx_stable_diffusion.py\"\
          , line 250, in __call__\r\n    latents = latents * np.float(self.scheduler.init_noise_sigma)\r\
          \n  File \"C:\\...\\Desktop\\PythonInOffice\\...\\art\\lib\\site-packages\\\
          numpy\\__init__.py\", line 284, in __getattr__\r\n    raise AttributeError(\"\
          module {!r} has no attribute \"\r\nAttributeError: module 'numpy' has no\
          \ attribute 'float'\"\r\n\r\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\
          \n\r\nTried using this from a youtube channel (pythoninoffice):\r\n\r\n\
          from diffusers import OnnxStableDiffusionPipeline\r\n#from PIL import Image\r\
          \n\r\n#baseImage = Image.open(r\"in.jpg\").convert(\"RGB\") # opens an image\
          \ directly from the script's location and converts to RGB color profile\r\
          \n#baseImage = baseImage.resize((768,512))\r\n\r\nprompt = \"A fantasy landscape,\
          \ trending on artstation\"\r\ndenoiseStrength = 0.8 # a float number from\
          \ 0 to 1 - decreasing this number will increase result similarity with baseImage\r\
          \nsteps = 25\r\nscale = 7.5\r\n\r\npipe = OnnxStableDiffusionPipeline.from_pretrained(r\"\
          C:\\Users\\...\\Desktop\\PythonInOffice\\...\\onnx\",\r\n              \
          \                                     provider=\"DmlExecutionProvider\"\
          )\r\nimage = pipe(prompt, strength=denoiseStrength, num_inference_steps=steps,\
          \ guidance_scale=scale).images[0]\r\nimage.save(\"t2i.png\")\r\n\r\nThanks\
          \ for the answers! I am not a coder or something, but I try to figure out\
          \ things."
        updatedAt: '2022-12-22T21:48:37.434Z'
      numEdits: 0
      reactions: []
    id: 63a4d0b5658851481f7e4c45
    type: comment
  author: Bulldeawh
  content: "Hello!\r\nI tried to run this on AMD RX 580 (8 GB) on Windows 10, but\
    \ it does not seem to work. \r\nI converted the model into onnx and ran the commands,\
    \ but I get these errors:\r\n\r\n\"2022-12-22 23:27:50.7578754 [W:onnxruntime:,\
    \ inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]\
    \ Having memory pattern enabled is not supported while using the DML Execution\
    \ Provider. So disabling it for this session since it uses the DML Execution Provider.\r\
    \n2022-12-22 23:27:53.0598830 [W:onnxruntime:, inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]\
    \ Having memory pattern enabled is not supported while using the DML Execution\
    \ Provider. So disabling it for this session since it uses the DML Execution Provider.\r\
    \n2022-12-22 23:27:53.5751470 [W:onnxruntime:, inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]\
    \ Having memory pattern enabled is not supported while using the DML Execution\
    \ Provider. So disabling it for this session since it uses the DML Execution Provider.\r\
    \n2022-12-22 23:28:02.2499282 [W:onnxruntime:, inference_session.cc:490 onnxruntime::InferenceSession::RegisterExecutionProvider]\
    \ Having memory pattern enabled is not supported while using the DML Execution\
    \ Provider. So disabling it for this session since it uses the DML Execution Provider.\r\
    \nTraceback (most recent call last):\r\n  File \"C:\\...\\t2i.py\", line 14, in\
    \ <module>\r\n    image = pipe(prompt, num_inference_steps=steps, guidance_scale=scale).images[0]\r\
    \n  File \"C:\\...\\diffusers\\src\\diffusers\\pipelines\\stable_diffusion\\pipeline_onnx_stable_diffusion.py\"\
    , line 250, in __call__\r\n    latents = latents * np.float(self.scheduler.init_noise_sigma)\r\
    \n  File \"C:\\...\\Desktop\\PythonInOffice\\...\\art\\lib\\site-packages\\numpy\\\
    __init__.py\", line 284, in __getattr__\r\n    raise AttributeError(\"module {!r}\
    \ has no attribute \"\r\nAttributeError: module 'numpy' has no attribute 'float'\"\
    \r\n\r\n-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\
    \n\r\nTried using this from a youtube channel (pythoninoffice):\r\n\r\nfrom diffusers\
    \ import OnnxStableDiffusionPipeline\r\n#from PIL import Image\r\n\r\n#baseImage\
    \ = Image.open(r\"in.jpg\").convert(\"RGB\") # opens an image directly from the\
    \ script's location and converts to RGB color profile\r\n#baseImage = baseImage.resize((768,512))\r\
    \n\r\nprompt = \"A fantasy landscape, trending on artstation\"\r\ndenoiseStrength\
    \ = 0.8 # a float number from 0 to 1 - decreasing this number will increase result\
    \ similarity with baseImage\r\nsteps = 25\r\nscale = 7.5\r\n\r\npipe = OnnxStableDiffusionPipeline.from_pretrained(r\"\
    C:\\Users\\...\\Desktop\\PythonInOffice\\...\\onnx\",\r\n                    \
    \                               provider=\"DmlExecutionProvider\")\r\nimage =\
    \ pipe(prompt, strength=denoiseStrength, num_inference_steps=steps, guidance_scale=scale).images[0]\r\
    \nimage.save(\"t2i.png\")\r\n\r\nThanks for the answers! I am not a coder or something,\
    \ but I try to figure out things."
  created_at: 2022-12-22 21:48:37+00:00
  edited: false
  hidden: false
  id: 63a4d0b5658851481f7e4c45
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5f95a2666e4548cc5c6579b71cfd9444.svg
      fullname: not_someone
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: not-someone
      type: user
    createdAt: '2022-12-22T21:50:01.000Z'
    data:
      edited: false
      editors:
      - not-someone
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5f95a2666e4548cc5c6579b71cfd9444.svg
          fullname: not_someone
          isHf: false
          isPro: false
          name: not-someone
          type: user
        html: '<p>Sorry, but I can''t help with this</p>

          '
        raw: Sorry, but I can't help with this
        updatedAt: '2022-12-22T21:50:01.794Z'
      numEdits: 0
      reactions: []
      relatedEventId: 63a4d109658851481f7e570c
    id: 63a4d109658851481f7e570b
    type: comment
  author: not-someone
  content: Sorry, but I can't help with this
  created_at: 2022-12-22 21:50:01+00:00
  edited: false
  hidden: false
  id: 63a4d109658851481f7e570b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/5f95a2666e4548cc5c6579b71cfd9444.svg
      fullname: not_someone
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: not-someone
      type: user
    createdAt: '2022-12-22T21:50:01.000Z'
    data:
      status: closed
    id: 63a4d109658851481f7e570c
    type: status-change
  author: not-someone
  created_at: 2022-12-22 21:50:01+00:00
  id: 63a4d109658851481f7e570c
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677083266161-63a22870931d2c13ad807018.png?w=200&h=200&f=face
      fullname: William Adams
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Bulldeawh
      type: user
    createdAt: '2022-12-22T22:01:15.000Z'
    data:
      edited: false
      editors:
      - Bulldeawh
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1677083266161-63a22870931d2c13ad807018.png?w=200&h=200&f=face
          fullname: William Adams
          isHf: false
          isPro: false
          name: Bulldeawh
          type: user
        html: '<blockquote>

          <p>Sorry, but I can''t help with this</p>

          </blockquote>

          <p>I understand, thanks!<br>Do you know a place where someone could know
          about this?</p>

          '
        raw: '> Sorry, but I can''t help with this


          I understand, thanks!

          Do you know a place where someone could know about this?'
        updatedAt: '2022-12-22T22:01:15.359Z'
      numEdits: 0
      reactions: []
    id: 63a4d3ab27f1f64ed730d4e9
    type: comment
  author: Bulldeawh
  content: '> Sorry, but I can''t help with this


    I understand, thanks!

    Do you know a place where someone could know about this?'
  created_at: 2022-12-22 22:01:15+00:00
  edited: false
  hidden: false
  id: 63a4d3ab27f1f64ed730d4e9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5f95a2666e4548cc5c6579b71cfd9444.svg
      fullname: not_someone
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: not-someone
      type: user
    createdAt: '2022-12-22T22:04:52.000Z'
    data:
      edited: false
      editors:
      - not-someone
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5f95a2666e4548cc5c6579b71cfd9444.svg
          fullname: not_someone
          isHf: false
          isPro: false
          name: not-someone
          type: user
        html: '<p>You can try asking in the official SD discord: <a rel="nofollow"
          href="https://discord.gg/stablediffusion">https://discord.gg/stablediffusion</a></p>

          '
        raw: 'You can try asking in the official SD discord: https://discord.gg/stablediffusion'
        updatedAt: '2022-12-22T22:04:52.870Z'
      numEdits: 0
      reactions: []
    id: 63a4d484769ff94bc951916c
    type: comment
  author: not-someone
  content: 'You can try asking in the official SD discord: https://discord.gg/stablediffusion'
  created_at: 2022-12-22 22:04:52+00:00
  edited: false
  hidden: false
  id: 63a4d484769ff94bc951916c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: dreamlike-art/dreamlike-diffusion-1.0
repo_type: model
status: closed
target_branch: null
title: Possible to run on AMD?
