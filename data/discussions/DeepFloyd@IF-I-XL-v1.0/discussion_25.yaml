!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Andyrasika
conflicting_files: null
created_at: 2023-08-03 05:11:01+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6290ec00a29097b211b94f0f/7OYU-yroOUxJryJkl33L6.png?w=200&h=200&f=face
      fullname: Ankush Singal
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Andyrasika
      type: user
    createdAt: '2023-08-03T06:11:01.000Z'
    data:
      edited: false
      editors:
      - Andyrasika
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5713590383529663
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6290ec00a29097b211b94f0f/7OYU-yroOUxJryJkl33L6.png?w=200&h=200&f=face
          fullname: Ankush Singal
          isHf: false
          isPro: false
          name: Andyrasika
          type: user
        html: "<p>Hi,<br>   Thanks for offering the amazing model, while running it\
          \ i got the following error:</p>\n<pre><code>A mixture of fp16 and non-fp16\
          \ filenames will be loaded.\nLoaded fp16 filenames:\n[text_encoder/model.fp16-00001-of-00002.safetensors,\
          \ text_encoder/model.fp16-00002-of-00002.safetensors, unet/diffusion_pytorch_model.fp16.safetensors,\
          \ safety_checker/model.fp16.safetensors]\nLoaded non-fp16 filenames:\n[watermarker/diffusion_pytorch_model.safetensors\n\
          If this behavior is not expected, please check your folder structure.\n\
          The config attributes {'encoder_hid_dim_type': 'text_proj'} were passed\
          \ to UNet2DConditionModel, but are not expected and will be ignored. Please\
          \ verify your config.json configuration file.\nLoading checkpoint shards:\
          \ 100%\n2/2 [00:00&lt;00:00, 3.03it/s]\nThe config attributes {'lambda_min_clipped':\
          \ -5.1} were passed to DDPMScheduler, but are not expected and will be ignored.\
          \ Please verify your scheduler_config.json configuration file.\n---------------------------------------------------------------------------\n\
          ValueError                                Traceback (most recent call last)\n\
          &lt;ipython-input-7-9559448e8112&gt; in &lt;cell line: 7&gt;()\n      5\
          \ #https://www.zhangzhenhu.com/aigc/imagen.html\n      6 # stage 1\n----&gt;\
          \ 7 stage_1 = DiffusionPipeline.from_pretrained(\"DeepFloyd/IF-I-XL-v1.0\"\
          , variant=\"fp16\", torch_dtype=torch.float16)\n      8 stage_1.enable_xformers_memory_efficient_attention()\
          \  # remove line if torch.__version__ &gt;= 2.0.0\n      9 stage_1.enable_model_cpu_offload()\n\
          \n1 frames\n/usr/local/lib/python3.10/dist-packages/diffusers/pipelines/pipeline_utils.py\
          \ in load_sub_model(library_name, class_name, importable_classes, pipelines,\
          \ is_pipeline_module, pipeline_class, torch_dtype, provider, sess_options,\
          \ device_map, model_variants, name, from_flax, variant, low_cpu_mem_usage,\
          \ cached_folder)\n    385             class_obj()\n    386 \n--&gt; 387\
          \         raise ValueError(\n    388             f\"The component {class_obj}\
          \ of {pipeline_class} cannot be loaded as it does not seem to have\"\n \
          \   389             f\" any of the loading methods defined in {ALL_IMPORTABLE_CLASSES}.\"\
          \n\nValueError: The component &lt;class 'transformers.utils.dummy_sentencepiece_objects.T5Tokenizer'&gt;\
          \ of &lt;class 'diffusers.pipelines.deepfloyd_if.pipeline_if.IFPipeline'&gt;\
          \ cannot be loaded as it does not seem to have any of the loading methods\
          \ defined in {'ModelMixin': ['save_pretrained', 'from_pretrained'], 'SchedulerMixin':\
          \ ['save_pretrained', 'from_pretrained'], 'DiffusionPipeline': ['save_pretrained',\
          \ 'from_pretrained'], 'OnnxRuntimeModel': ['save_pretrained', 'from_pretrained'],\
          \ 'PreTrainedTokenizer': ['save_pretrained', 'from_pretrained'], 'PreTrainedTokenizerFast':\
          \ ['save_pretrained', 'from_pretrained'], 'PreTrainedModel': ['save_pretrained',\
          \ 'from_pretrained'], 'FeatureExtractionMixin': ['save_pretrained', 'from_pretrained'],\
          \ 'ProcessorMixin': ['save_pretrained', 'from_pretrained'], 'ImageProcessingMixin':\
          \ ['save_pretrained', 'from_pretrained'], 'ORTModule': ['save_pretrained',\
          \ 'from_pretrained']}.\n</code></pre>\n<p>I would really appreciate any\
          \ assistance to resolve it.<br>Thanks,<br>Andy </p>\n"
        raw: "Hi,\r\n   Thanks for offering the amazing model, while running it i\
          \ got the following error:\r\n```\r\nA mixture of fp16 and non-fp16 filenames\
          \ will be loaded.\r\nLoaded fp16 filenames:\r\n[text_encoder/model.fp16-00001-of-00002.safetensors,\
          \ text_encoder/model.fp16-00002-of-00002.safetensors, unet/diffusion_pytorch_model.fp16.safetensors,\
          \ safety_checker/model.fp16.safetensors]\r\nLoaded non-fp16 filenames:\r\
          \n[watermarker/diffusion_pytorch_model.safetensors\r\nIf this behavior is\
          \ not expected, please check your folder structure.\r\nThe config attributes\
          \ {'encoder_hid_dim_type': 'text_proj'} were passed to UNet2DConditionModel,\
          \ but are not expected and will be ignored. Please verify your config.json\
          \ configuration file.\r\nLoading checkpoint shards: 100%\r\n2/2 [00:00<00:00,\
          \ 3.03it/s]\r\nThe config attributes {'lambda_min_clipped': -5.1} were passed\
          \ to DDPMScheduler, but are not expected and will be ignored. Please verify\
          \ your scheduler_config.json configuration file.\r\n---------------------------------------------------------------------------\r\
          \nValueError                                Traceback (most recent call\
          \ last)\r\n<ipython-input-7-9559448e8112> in <cell line: 7>()\r\n      5\
          \ #https://www.zhangzhenhu.com/aigc/imagen.html\r\n      6 # stage 1\r\n\
          ----> 7 stage_1 = DiffusionPipeline.from_pretrained(\"DeepFloyd/IF-I-XL-v1.0\"\
          , variant=\"fp16\", torch_dtype=torch.float16)\r\n      8 stage_1.enable_xformers_memory_efficient_attention()\
          \  # remove line if torch.__version__ >= 2.0.0\r\n      9 stage_1.enable_model_cpu_offload()\r\
          \n\r\n1 frames\r\n/usr/local/lib/python3.10/dist-packages/diffusers/pipelines/pipeline_utils.py\
          \ in load_sub_model(library_name, class_name, importable_classes, pipelines,\
          \ is_pipeline_module, pipeline_class, torch_dtype, provider, sess_options,\
          \ device_map, model_variants, name, from_flax, variant, low_cpu_mem_usage,\
          \ cached_folder)\r\n    385             class_obj()\r\n    386 \r\n--> 387\
          \         raise ValueError(\r\n    388             f\"The component {class_obj}\
          \ of {pipeline_class} cannot be loaded as it does not seem to have\"\r\n\
          \    389             f\" any of the loading methods defined in {ALL_IMPORTABLE_CLASSES}.\"\
          \r\n\r\nValueError: The component <class 'transformers.utils.dummy_sentencepiece_objects.T5Tokenizer'>\
          \ of <class 'diffusers.pipelines.deepfloyd_if.pipeline_if.IFPipeline'> cannot\
          \ be loaded as it does not seem to have any of the loading methods defined\
          \ in {'ModelMixin': ['save_pretrained', 'from_pretrained'], 'SchedulerMixin':\
          \ ['save_pretrained', 'from_pretrained'], 'DiffusionPipeline': ['save_pretrained',\
          \ 'from_pretrained'], 'OnnxRuntimeModel': ['save_pretrained', 'from_pretrained'],\
          \ 'PreTrainedTokenizer': ['save_pretrained', 'from_pretrained'], 'PreTrainedTokenizerFast':\
          \ ['save_pretrained', 'from_pretrained'], 'PreTrainedModel': ['save_pretrained',\
          \ 'from_pretrained'], 'FeatureExtractionMixin': ['save_pretrained', 'from_pretrained'],\
          \ 'ProcessorMixin': ['save_pretrained', 'from_pretrained'], 'ImageProcessingMixin':\
          \ ['save_pretrained', 'from_pretrained'], 'ORTModule': ['save_pretrained',\
          \ 'from_pretrained']}.\r\n```\r\nI would really appreciate any assistance\
          \ to resolve it.\r\nThanks,\r\nAndy "
        updatedAt: '2023-08-03T06:11:01.460Z'
      numEdits: 0
      reactions: []
    id: 64cb44f52e592905f9ea8e11
    type: comment
  author: Andyrasika
  content: "Hi,\r\n   Thanks for offering the amazing model, while running it i got\
    \ the following error:\r\n```\r\nA mixture of fp16 and non-fp16 filenames will\
    \ be loaded.\r\nLoaded fp16 filenames:\r\n[text_encoder/model.fp16-00001-of-00002.safetensors,\
    \ text_encoder/model.fp16-00002-of-00002.safetensors, unet/diffusion_pytorch_model.fp16.safetensors,\
    \ safety_checker/model.fp16.safetensors]\r\nLoaded non-fp16 filenames:\r\n[watermarker/diffusion_pytorch_model.safetensors\r\
    \nIf this behavior is not expected, please check your folder structure.\r\nThe\
    \ config attributes {'encoder_hid_dim_type': 'text_proj'} were passed to UNet2DConditionModel,\
    \ but are not expected and will be ignored. Please verify your config.json configuration\
    \ file.\r\nLoading checkpoint shards: 100%\r\n2/2 [00:00<00:00, 3.03it/s]\r\n\
    The config attributes {'lambda_min_clipped': -5.1} were passed to DDPMScheduler,\
    \ but are not expected and will be ignored. Please verify your scheduler_config.json\
    \ configuration file.\r\n---------------------------------------------------------------------------\r\
    \nValueError                                Traceback (most recent call last)\r\
    \n<ipython-input-7-9559448e8112> in <cell line: 7>()\r\n      5 #https://www.zhangzhenhu.com/aigc/imagen.html\r\
    \n      6 # stage 1\r\n----> 7 stage_1 = DiffusionPipeline.from_pretrained(\"\
    DeepFloyd/IF-I-XL-v1.0\", variant=\"fp16\", torch_dtype=torch.float16)\r\n   \
    \   8 stage_1.enable_xformers_memory_efficient_attention()  # remove line if torch.__version__\
    \ >= 2.0.0\r\n      9 stage_1.enable_model_cpu_offload()\r\n\r\n1 frames\r\n/usr/local/lib/python3.10/dist-packages/diffusers/pipelines/pipeline_utils.py\
    \ in load_sub_model(library_name, class_name, importable_classes, pipelines, is_pipeline_module,\
    \ pipeline_class, torch_dtype, provider, sess_options, device_map, model_variants,\
    \ name, from_flax, variant, low_cpu_mem_usage, cached_folder)\r\n    385     \
    \        class_obj()\r\n    386 \r\n--> 387         raise ValueError(\r\n    388\
    \             f\"The component {class_obj} of {pipeline_class} cannot be loaded\
    \ as it does not seem to have\"\r\n    389             f\" any of the loading\
    \ methods defined in {ALL_IMPORTABLE_CLASSES}.\"\r\n\r\nValueError: The component\
    \ <class 'transformers.utils.dummy_sentencepiece_objects.T5Tokenizer'> of <class\
    \ 'diffusers.pipelines.deepfloyd_if.pipeline_if.IFPipeline'> cannot be loaded\
    \ as it does not seem to have any of the loading methods defined in {'ModelMixin':\
    \ ['save_pretrained', 'from_pretrained'], 'SchedulerMixin': ['save_pretrained',\
    \ 'from_pretrained'], 'DiffusionPipeline': ['save_pretrained', 'from_pretrained'],\
    \ 'OnnxRuntimeModel': ['save_pretrained', 'from_pretrained'], 'PreTrainedTokenizer':\
    \ ['save_pretrained', 'from_pretrained'], 'PreTrainedTokenizerFast': ['save_pretrained',\
    \ 'from_pretrained'], 'PreTrainedModel': ['save_pretrained', 'from_pretrained'],\
    \ 'FeatureExtractionMixin': ['save_pretrained', 'from_pretrained'], 'ProcessorMixin':\
    \ ['save_pretrained', 'from_pretrained'], 'ImageProcessingMixin': ['save_pretrained',\
    \ 'from_pretrained'], 'ORTModule': ['save_pretrained', 'from_pretrained']}.\r\n\
    ```\r\nI would really appreciate any assistance to resolve it.\r\nThanks,\r\n\
    Andy "
  created_at: 2023-08-03 05:11:01+00:00
  edited: false
  hidden: false
  id: 64cb44f52e592905f9ea8e11
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 25
repo_id: DeepFloyd/IF-I-XL-v1.0
repo_type: model
status: open
target_branch: null
title: Re. Please verify your scheduler_config.json configuration file
