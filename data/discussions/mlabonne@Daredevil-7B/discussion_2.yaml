!!python/object:huggingface_hub.community.DiscussionWithDetails
author: syGOAT
conflicting_files: null
created_at: 2024-01-25 01:47:43+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/40c7dc875f411b23110e001aaf378233.svg
      fullname: syGOAT
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: syGOAT
      type: user
    createdAt: '2024-01-25T01:47:43.000Z'
    data:
      edited: false
      editors:
      - syGOAT
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.710933268070221
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/40c7dc875f411b23110e001aaf378233.svg
          fullname: syGOAT
          isHf: false
          isPro: false
          name: syGOAT
          type: user
        html: "<p>Congratulations on the significant breakthrough achieved in model\
          \ merging! I'd like to ask you a question. In the yaml file:</p>\n<pre><code\
          \ class=\"language-yaml\"><span class=\"hljs-attr\">models:</span>\n  <span\
          \ class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">model:</span>\
          \ <span class=\"hljs-string\">mistralai/Mistral-7B-v0.1</span>\n    <span\
          \ class=\"hljs-comment\"># No parameters necessary for base model</span>\n\
          \  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">model:</span>\
          \ <span class=\"hljs-string\">samir-fama/SamirGPT-v1</span>\n    <span class=\"\
          hljs-attr\">parameters:</span>\n      <span class=\"hljs-attr\">density:</span>\
          \ <span class=\"hljs-number\">0.53</span>\n      <span class=\"hljs-attr\"\
          >weight:</span> <span class=\"hljs-number\">0.4</span>\n  <span class=\"\
          hljs-bullet\">-</span> <span class=\"hljs-attr\">model:</span> <span class=\"\
          hljs-string\">abacusai/Slerp-CM-mist-dpo</span>\n    <span class=\"hljs-attr\"\
          >parameters:</span>\n      <span class=\"hljs-attr\">density:</span> <span\
          \ class=\"hljs-number\">0.53</span>\n      <span class=\"hljs-attr\">weight:</span>\
          \ <span class=\"hljs-number\">0.3</span>\n  <span class=\"hljs-bullet\"\
          >-</span> <span class=\"hljs-attr\">model:</span> <span class=\"hljs-string\"\
          >EmbeddedLLM/Mistral-7B-Merge-14-v0.2</span>\n    <span class=\"hljs-attr\"\
          >parameters:</span>\n      <span class=\"hljs-attr\">density:</span> <span\
          \ class=\"hljs-number\">0.53</span>\n      <span class=\"hljs-attr\">weight:</span>\
          \ <span class=\"hljs-number\">0.3</span>\n<span class=\"hljs-attr\">merge_method:</span>\
          \ <span class=\"hljs-string\">dare_ties</span>\n<span class=\"hljs-attr\"\
          >base_model:</span> <span class=\"hljs-string\">mistralai/Mistral-7B-v0.1</span>\n\
          <span class=\"hljs-attr\">parameters:</span>\n  <span class=\"hljs-attr\"\
          >int8_mask:</span> <span class=\"hljs-literal\">true</span>\n<span class=\"\
          hljs-attr\">dtype:</span> <span class=\"hljs-string\">bfloat16</span>\n\
          </code></pre>\n<p>I believe the 'density' here refers to the delta parameters\
          \ randomly retained by DARE. What is the density during the TIES stage after\
          \ using DARE? Is it the same as the density of DARE, or is there a specific\
          \ method for setting it?</p>\n"
        raw: "Congratulations on the significant breakthrough achieved in model merging!\
          \ I'd like to ask you a question. In the yaml file:\r\n```yaml\r\nmodels:\r\
          \n  - model: mistralai/Mistral-7B-v0.1\r\n    # No parameters necessary\
          \ for base model\r\n  - model: samir-fama/SamirGPT-v1\r\n    parameters:\r\
          \n      density: 0.53\r\n      weight: 0.4\r\n  - model: abacusai/Slerp-CM-mist-dpo\r\
          \n    parameters:\r\n      density: 0.53\r\n      weight: 0.3\r\n  - model:\
          \ EmbeddedLLM/Mistral-7B-Merge-14-v0.2\r\n    parameters:\r\n      density:\
          \ 0.53\r\n      weight: 0.3\r\nmerge_method: dare_ties\r\nbase_model: mistralai/Mistral-7B-v0.1\r\
          \nparameters:\r\n  int8_mask: true\r\ndtype: bfloat16\r\n```\r\nI believe\
          \ the 'density' here refers to the delta parameters randomly retained by\
          \ DARE. What is the density during the TIES stage after using DARE? Is it\
          \ the same as the density of DARE, or is there a specific method for setting\
          \ it?"
        updatedAt: '2024-01-25T01:47:43.617Z'
      numEdits: 0
      reactions: []
    id: 65b1bdbf15595d13fd24161a
    type: comment
  author: syGOAT
  content: "Congratulations on the significant breakthrough achieved in model merging!\
    \ I'd like to ask you a question. In the yaml file:\r\n```yaml\r\nmodels:\r\n\
    \  - model: mistralai/Mistral-7B-v0.1\r\n    # No parameters necessary for base\
    \ model\r\n  - model: samir-fama/SamirGPT-v1\r\n    parameters:\r\n      density:\
    \ 0.53\r\n      weight: 0.4\r\n  - model: abacusai/Slerp-CM-mist-dpo\r\n    parameters:\r\
    \n      density: 0.53\r\n      weight: 0.3\r\n  - model: EmbeddedLLM/Mistral-7B-Merge-14-v0.2\r\
    \n    parameters:\r\n      density: 0.53\r\n      weight: 0.3\r\nmerge_method:\
    \ dare_ties\r\nbase_model: mistralai/Mistral-7B-v0.1\r\nparameters:\r\n  int8_mask:\
    \ true\r\ndtype: bfloat16\r\n```\r\nI believe the 'density' here refers to the\
    \ delta parameters randomly retained by DARE. What is the density during the TIES\
    \ stage after using DARE? Is it the same as the density of DARE, or is there a\
    \ specific method for setting it?"
  created_at: 2024-01-25 01:47:43+00:00
  edited: false
  hidden: false
  id: 65b1bdbf15595d13fd24161a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61b8e2ba285851687028d395/4XZP5aVsMWwzGx_313cqd.jpeg?w=200&h=200&f=face
      fullname: Maxime Labonne
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mlabonne
      type: user
    createdAt: '2024-01-25T10:26:44.000Z'
    data:
      edited: false
      editors:
      - mlabonne
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9169399738311768
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/61b8e2ba285851687028d395/4XZP5aVsMWwzGx_313cqd.jpeg?w=200&h=200&f=face
          fullname: Maxime Labonne
          isHf: false
          isPro: false
          name: mlabonne
          type: user
        html: '<p>Thanks! It''s a good question and I assumed it was the same density
          but I haven''t checked. It''s probably somewhere in this file: <a rel="nofollow"
          href="https://github.com/cg123/mergekit/blob/4905d6f0c59377d1af3c120c09dff8b7f3e50cc7/mergekit/merge_methods/generalized_task_arithmetic.py">https://github.com/cg123/mergekit/blob/4905d6f0c59377d1af3c120c09dff8b7f3e50cc7/mergekit/merge_methods/generalized_task_arithmetic.py</a></p>

          '
        raw: 'Thanks! It''s a good question and I assumed it was the same density
          but I haven''t checked. It''s probably somewhere in this file: https://github.com/cg123/mergekit/blob/4905d6f0c59377d1af3c120c09dff8b7f3e50cc7/mergekit/merge_methods/generalized_task_arithmetic.py'
        updatedAt: '2024-01-25T10:26:44.986Z'
      numEdits: 0
      reactions: []
    id: 65b237648c7cfb1b8b67953f
    type: comment
  author: mlabonne
  content: 'Thanks! It''s a good question and I assumed it was the same density but
    I haven''t checked. It''s probably somewhere in this file: https://github.com/cg123/mergekit/blob/4905d6f0c59377d1af3c120c09dff8b7f3e50cc7/mergekit/merge_methods/generalized_task_arithmetic.py'
  created_at: 2024-01-25 10:26:44+00:00
  edited: false
  hidden: false
  id: 65b237648c7cfb1b8b67953f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: mlabonne/Daredevil-7B
repo_type: model
status: open
target_branch: null
title: 'What is the density for TIES when using DARE by setting `merge_method: dare_ties`?'
