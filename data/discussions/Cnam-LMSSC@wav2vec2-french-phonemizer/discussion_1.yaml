!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bofenghuang
conflicting_files: null
created_at: 2023-11-14 10:05:43+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
      fullname: bofeng huang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bofenghuang
      type: user
    createdAt: '2023-11-14T10:05:43.000Z'
    data:
      edited: false
      editors:
      - bofenghuang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9393560290336609
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
          fullname: bofeng huang
          isHf: false
          isPro: false
          name: bofenghuang
          type: user
        html: '<p>Hi, thanks for this fantastic work! I''m curious to know how you
          converted the transcriptions in MCV into phonemes. Could you share a bit
          about the process?</p>

          '
        raw: Hi, thanks for this fantastic work! I'm curious to know how you converted
          the transcriptions in MCV into phonemes. Could you share a bit about the
          process?
        updatedAt: '2023-11-14T10:05:43.067Z'
      numEdits: 0
      reactions: []
    id: 6553467731a15b163536bd97
    type: comment
  author: bofenghuang
  content: Hi, thanks for this fantastic work! I'm curious to know how you converted
    the transcriptions in MCV into phonemes. Could you share a bit about the process?
  created_at: 2023-11-14 10:05:43+00:00
  edited: false
  hidden: false
  id: 6553467731a15b163536bd97
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
      fullname: bofeng huang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bofenghuang
      type: user
    createdAt: '2023-11-14T10:08:14.000Z'
    data:
      edited: false
      editors:
      - bofenghuang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6475782990455627
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
          fullname: bofeng huang
          isHf: false
          isPro: false
          name: bofenghuang
          type: user
        html: "<p>Kindly ping <span data-props=\"{&quot;user&quot;:&quot;zinc75&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/zinc75\"\
          >@<span class=\"underline\">zinc75</span></a></span>\n\n\t</span></span>\
          \ </p>\n"
        raw: 'Kindly ping @zinc75 '
        updatedAt: '2023-11-14T10:08:14.990Z'
      numEdits: 0
      reactions: []
    id: 6553470eb42b043aac65e63e
    type: comment
  author: bofenghuang
  content: 'Kindly ping @zinc75 '
  created_at: 2023-11-14 10:08:14+00:00
  edited: false
  hidden: false
  id: 6553470eb42b043aac65e63e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65302a613ecbe51d6a6ddcec/4i3DVDBn1iS-OrKTHnOyL.png?w=200&h=200&f=face
      fullname: "\xC9ric Bavu"
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: zinc75
      type: user
    createdAt: '2023-11-14T12:33:01.000Z'
    data:
      edited: true
      editors:
      - zinc75
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7655924558639526
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65302a613ecbe51d6a6ddcec/4i3DVDBn1iS-OrKTHnOyL.png?w=200&h=200&f=face
          fullname: "\xC9ric Bavu"
          isHf: false
          isPro: false
          name: zinc75
          type: user
        html: "<p>Dear Bofeng, </p>\n<p>Thanks for your interest in our work ! </p>\n\
          <p>After investigating several solutions for the G2P task (including pretty\
          \ recent neural solutions),  we used the <code>bootphon/phonemizer</code>\
          \ using the <code>EspeakBackend</code> on all the text data of CommonVoice\
          \ ( <a rel=\"nofollow\" href=\"https://github.com/bootphon/phonemizer\"\
          >Github bootphon/phonemizer</a> ) before generating the <code>vocab.json</code>\
          \ needed by the tokenizer for wav2vec2.</p>\n<p>This can be simply extended\
          \ to any language / dataset with text transcriptions, as long as the phonemizer\
          \ backend is powerful enough to not introduce errors in grapheme to phoneme\
          \ translation. </p>\n<p>Hope this helps, </p>\n<p>Best regards, </p>\n<hr>\n\
          <p>\xC9ric Bavu<br>Senior Researcher / Full Professor - Acoustics<br><a\
          \ rel=\"nofollow\" href=\"https://www.lmssc.cnam.fr\">Cnam/LMSSC</a>  </p>\n\
          <p><a rel=\"nofollow\" href=\"https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png\"\
          ><img alt=\"\" src=\"https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png\"\
          ></a><br><a rel=\"nofollow\" href=\"https://acoustique.cnam.fr/contacts/bavu/en\"\
          ><strong>Personal Webpage</strong></a></p>\n<hr>\n"
        raw: "Dear Bofeng, \n\nThanks for your interest in our work ! \n\nAfter investigating\
          \ several solutions for the G2P task (including pretty recent neural solutions),\
          \  we used the ```bootphon/phonemizer``` using the ```EspeakBackend``` on\
          \ all the text data of CommonVoice ( [Github bootphon/phonemizer](https://github.com/bootphon/phonemizer)\
          \ ) before generating the ```vocab.json``` needed by the tokenizer for wav2vec2.\n\
          \nThis can be simply extended to any language / dataset with text transcriptions,\
          \ as long as the phonemizer backend is powerful enough to not introduce\
          \ errors in grapheme to phoneme translation. \n\nHope this helps, \n\nBest\
          \ regards, \n\n* * *\n\xC9ric Bavu  \nSenior Researcher / Full Professor\
          \ - Acoustics  \n[Cnam/LMSSC](https://www.lmssc.cnam.fr)  \n\n![](https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png)\
          \  \n[**Personal Webpage**](https://acoustique.cnam.fr/contacts/bavu/en)\n\
          * * *\n\n\n"
        updatedAt: '2023-11-14T14:33:27.996Z'
      numEdits: 1
      reactions: []
    id: 655368fd7813ac9579e17cea
    type: comment
  author: zinc75
  content: "Dear Bofeng, \n\nThanks for your interest in our work ! \n\nAfter investigating\
    \ several solutions for the G2P task (including pretty recent neural solutions),\
    \  we used the ```bootphon/phonemizer``` using the ```EspeakBackend``` on all\
    \ the text data of CommonVoice ( [Github bootphon/phonemizer](https://github.com/bootphon/phonemizer)\
    \ ) before generating the ```vocab.json``` needed by the tokenizer for wav2vec2.\n\
    \nThis can be simply extended to any language / dataset with text transcriptions,\
    \ as long as the phonemizer backend is powerful enough to not introduce errors\
    \ in grapheme to phoneme translation. \n\nHope this helps, \n\nBest regards, \n\
    \n* * *\n\xC9ric Bavu  \nSenior Researcher / Full Professor - Acoustics  \n[Cnam/LMSSC](https://www.lmssc.cnam.fr)\
    \  \n\n![](https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png)\
    \  \n[**Personal Webpage**](https://acoustique.cnam.fr/contacts/bavu/en)\n* *\
    \ *\n\n\n"
  created_at: 2023-11-14 12:33:01+00:00
  edited: true
  hidden: false
  id: 655368fd7813ac9579e17cea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
      fullname: bofeng huang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bofenghuang
      type: user
    createdAt: '2023-11-14T14:14:55.000Z'
    data:
      edited: false
      editors:
      - bofenghuang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.974557101726532
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
          fullname: bofeng huang
          isHf: false
          isPro: false
          name: bofenghuang
          type: user
        html: '<p>Thanks for your detailed response, Eric!</p>

          <p>I''ve also experimented with phonemizer and found its results much more
          precise than other tools such as epitran (<a rel="nofollow" href="https://github.com/dmort27/epitran">https://github.com/dmort27/epitran</a>).
          However, it takes a bit more time. I''ll launch it on my dataset to see
          if the running time is acceptable.</p>

          '
        raw: 'Thanks for your detailed response, Eric!


          I''ve also experimented with phonemizer and found its results much more
          precise than other tools such as epitran (https://github.com/dmort27/epitran).
          However, it takes a bit more time. I''ll launch it on my dataset to see
          if the running time is acceptable.'
        updatedAt: '2023-11-14T14:14:55.494Z'
      numEdits: 0
      reactions: []
    id: 655380df117e4ddb21205999
    type: comment
  author: bofenghuang
  content: 'Thanks for your detailed response, Eric!


    I''ve also experimented with phonemizer and found its results much more precise
    than other tools such as epitran (https://github.com/dmort27/epitran). However,
    it takes a bit more time. I''ll launch it on my dataset to see if the running
    time is acceptable.'
  created_at: 2023-11-14 14:14:55+00:00
  edited: false
  hidden: false
  id: 655380df117e4ddb21205999
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65302a613ecbe51d6a6ddcec/4i3DVDBn1iS-OrKTHnOyL.png?w=200&h=200&f=face
      fullname: "\xC9ric Bavu"
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: zinc75
      type: user
    createdAt: '2023-11-14T14:33:09.000Z'
    data:
      edited: true
      editors:
      - zinc75
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9014286994934082
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/65302a613ecbe51d6a6ddcec/4i3DVDBn1iS-OrKTHnOyL.png?w=200&h=200&f=face
          fullname: "\xC9ric Bavu"
          isHf: false
          isPro: false
          name: zinc75
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;bofenghuang&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/bofenghuang\"\
          >@<span class=\"underline\">bofenghuang</span></a></span>\n\n\t</span></span>\
          \ :  if you want to reduce the time footprint for G2P data preparation,\
          \ you can use the <code>map</code> function of :huggingface: <code>datasets</code>\
          \  with the <code>batched=True</code> option, and prepare the data once\
          \ and for all before training to create a dataset with a phonetic transcription\
          \ attribute added to the audio and text transcription. </p>\n<p>It doesn't\
          \ take long to go through CommonVoice 13 fr, for example, which corresponds\
          \ to 2.5 k hours of audio (and this is done one for once before training,\
          \ thus not slowing the training process. ).</p>\n<p>Best  Regards,</p>\n\
          <hr>\n<p>\xC9ric Bavu<br>Senior Researcher / Full Professor - Acoustics<br><a\
          \ rel=\"nofollow\" href=\"https://www.lmssc.cnam.fr\">Cnam/LMSSC</a>  </p>\n\
          <p><a rel=\"nofollow\" href=\"https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png\"\
          ><img alt=\"\" src=\"https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png\"\
          ></a><br><a rel=\"nofollow\" href=\"https://acoustique.cnam.fr/contacts/bavu/en\"\
          ><strong>Personal Webpage</strong></a></p>\n<hr>\n"
        raw: "@bofenghuang :  if you want to reduce the time footprint for G2P data\
          \ preparation, you can use the ```map``` function of :huggingface: ```datasets```\
          \  with the ```batched=True``` option, and prepare the data once and for\
          \ all before training to create a dataset with a phonetic transcription\
          \ attribute added to the audio and text transcription. \n\nIt doesn't take\
          \ long to go through CommonVoice 13 fr, for example, which corresponds to\
          \ 2.5 k hours of audio (and this is done one for once before training, thus\
          \ not slowing the training process. ).\n\nBest  Regards,\n\n* * *\n\xC9\
          ric Bavu  \nSenior Researcher / Full Professor - Acoustics  \n[Cnam/LMSSC](https://www.lmssc.cnam.fr)\
          \  \n\n![](https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png)\
          \  \n[**Personal Webpage**](https://acoustique.cnam.fr/contacts/bavu/en)\n\
          * * *"
        updatedAt: '2023-11-14T14:35:29.110Z'
      numEdits: 4
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - bofenghuang
    id: 65538525157265854fbbd7a0
    type: comment
  author: zinc75
  content: "@bofenghuang :  if you want to reduce the time footprint for G2P data\
    \ preparation, you can use the ```map``` function of :huggingface: ```datasets```\
    \  with the ```batched=True``` option, and prepare the data once and for all before\
    \ training to create a dataset with a phonetic transcription attribute added to\
    \ the audio and text transcription. \n\nIt doesn't take long to go through CommonVoice\
    \ 13 fr, for example, which corresponds to 2.5 k hours of audio (and this is done\
    \ one for once before training, thus not slowing the training process. ).\n\n\
    Best  Regards,\n\n* * *\n\xC9ric Bavu  \nSenior Researcher / Full Professor -\
    \ Acoustics  \n[Cnam/LMSSC](https://www.lmssc.cnam.fr)  \n\n![](https://acoustique.cnam.fr/contacts/bavu/img/logo_cnam_losange.png)\
    \  \n[**Personal Webpage**](https://acoustique.cnam.fr/contacts/bavu/en)\n* *\
    \ *"
  created_at: 2023-11-14 14:33:09+00:00
  edited: true
  hidden: false
  id: 65538525157265854fbbd7a0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/ea3c8a9f178dfc1df3f75d71ecbe39dd.svg
      fullname: bofeng huang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bofenghuang
      type: user
    createdAt: '2023-11-15T11:05:32.000Z'
    data:
      status: closed
    id: 6554a5fc40e95e9c41f6c7fa
    type: status-change
  author: bofenghuang
  created_at: 2023-11-15 11:05:32+00:00
  id: 6554a5fc40e95e9c41f6c7fa
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: Cnam-LMSSC/wav2vec2-french-phonemizer
repo_type: model
status: closed
target_branch: null
title: Grapheme-to-Phoneme Model
