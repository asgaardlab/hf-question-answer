!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ShadowYing
conflicting_files: null
created_at: 2022-11-01 09:27:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/25c2ef73099b7a22b49abcf6d9c6df93.svg
      fullname: Shao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ShadowYing
      type: user
    createdAt: '2022-11-01T10:27:37.000Z'
    data:
      edited: true
      editors:
      - ShadowYing
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/25c2ef73099b7a22b49abcf6d9c6df93.svg
          fullname: Shao
          isHf: false
          isPro: false
          name: ShadowYing
          type: user
        html: "<h4 id=\"problem-statement\">Problem Statement</h4>\n<p>Failed to reproduce\
          \ results with chain-of-thought prompting on MMLU even using the prompts\
          \ provided by the paper (prompts can be found at <a rel=\"nofollow\" href=\"\
          https://github.com/jasonwei20/flan-2\">https://github.com/jasonwei20/flan-2</a>).</p>\n\
          <p>On more than 10 tasks I randomly chose, I got lower accuracies than reported,\
          \ e.g., on the philosophy task, the reported accuracy is 55.9%, while I\
          \ got 50.0%.</p>\n<h4 id=\"experiment-setups\">Experiment Setups</h4>\n\
          <ul>\n<li>No input truncation was conducted. Applying the truncation method\
          \ from <a rel=\"nofollow\" href=\"https://github.com/hendrycks/test/blob/17180990f51033dbd29042187f05b6a418922334/evaluate.py#L57\"\
          >https://github.com/hendrycks/test/blob/17180990f51033dbd29042187f05b6a418922334/evaluate.py#L57</a>\
          \ didn't fix the problem.</li>\n<li>I ran the model using FP32.</li>\n</ul>\n\
          <h4 id=\"example-input-from-the-philosophy-task\">Example Input from the\
          \ Philosophy Task</h4>\n<pre><code>The following are multiple choice questions\
          \ (with answers) about philosophy.\n\nQ: The study of reality in the broadest\
          \ sense, an inquiry into the elemental nature of the universe and the things\
          \ in it, is known as _____.\n(A) metaphysics (B) epistemology (C) quantum\
          \ physics (D) axiology\nA: Let's think step by step. We refer to Wikipedia\
          \ articles on philosophy for help. Among the options, only metaphysics studies\
          \ the nature of reality and existence. The answer is (A).\n\nQ: According\
          \ to Moore\u2019s \u201Cideal utilitarianism,\u201D the right action is\
          \ the one that brings about the greatest amount of:\n(A) pleasure. (B) happiness.\
          \ (C) good. (D) virtue.\nA: Let's think step by step. We refer to Wikipedia\
          \ articles on philosophy for help. Moore's \"ideal utilitarianism\" states\
          \ that one's actions should maximize intrinsic goods. The answer is (C).\n\
          \nQ: Before Tolstoy's Christian conversion, what was his perspective on\
          \ the meaning of life?\n(A) optimist (B) satisfied (C) nominally religious\
          \ (D) pessimist\nA: Let's think step by step. We refer to Wikipedia articles\
          \ on philosophy for help. Before his conversion, Tolstoy feels that life\
          \ was uncertain, which is a pessimist's point of view. The answer is (D).\n\
          \nQ: According to d'Holbach, people always act according to _____.\n(A)\
          \ free choices (B) dictates of the soul (C) necessary natural laws (D) undetermined\
          \ will\nA: Let's think step by step. We refer to Wikipedia articles on philosophy\
          \ for help. d'Holbach believes that people act according to necessary laws,\
          \ and it proves nothing about people's free will. The answer is (C).\n\n\
          Q: Psychological egoism is:\n(A) an ethical theory about how we ought to\
          \ behave. (B) a generalization concerning the way people tend to behave.\
          \ (C) a claim about human nature and the ways people are capable of behaving.\
          \ (D) none of the above.\nA: Let's think step by step. We refer to Wikipedia\
          \ articles on philosophy for help. Psychological egoism suggests that one\
          \ behaves based on what makes one feels good, hence it is a claim about\
          \ human nature and how humans are capable of behaving. The answer is (C).\n\
          \nQ: Brandt claims that act-utilitarianism:\n(A) has implausible consequences.\
          \ (B) gives rise to moral dilemmas. (C) is self-contradictory. (D) all of\
          \ the above.\nA:\n</code></pre>\n<p>In fact, I also failed to reproduce\
          \ results using direct prompting.</p>\n"
        raw: "#### Problem Statement\n\nFailed to reproduce results with chain-of-thought\
          \ prompting on MMLU even using the prompts provided by the paper (prompts\
          \ can be found at https://github.com/jasonwei20/flan-2).\n\nOn more than\
          \ 10 tasks I randomly chose, I got lower accuracies than reported, e.g.,\
          \ on the philosophy task, the reported accuracy is 55.9%, while I got 50.0%.\n\
          \n#### Experiment Setups\n\n* No input truncation was conducted. Applying\
          \ the truncation method from https://github.com/hendrycks/test/blob/17180990f51033dbd29042187f05b6a418922334/evaluate.py#L57\
          \ didn't fix the problem.\n* I ran the model using FP32.\n\n#### Example\
          \ Input from the Philosophy Task\n\n```\nThe following are multiple choice\
          \ questions (with answers) about philosophy.\n\nQ: The study of reality\
          \ in the broadest sense, an inquiry into the elemental nature of the universe\
          \ and the things in it, is known as _____.\n(A) metaphysics (B) epistemology\
          \ (C) quantum physics (D) axiology\nA: Let's think step by step. We refer\
          \ to Wikipedia articles on philosophy for help. Among the options, only\
          \ metaphysics studies the nature of reality and existence. The answer is\
          \ (A).\n\nQ: According to Moore\u2019s \u201Cideal utilitarianism,\u201D\
          \ the right action is the one that brings about the greatest amount of:\n\
          (A) pleasure. (B) happiness. (C) good. (D) virtue.\nA: Let's think step\
          \ by step. We refer to Wikipedia articles on philosophy for help. Moore's\
          \ \"ideal utilitarianism\" states that one's actions should maximize intrinsic\
          \ goods. The answer is (C).\n\nQ: Before Tolstoy's Christian conversion,\
          \ what was his perspective on the meaning of life?\n(A) optimist (B) satisfied\
          \ (C) nominally religious (D) pessimist\nA: Let's think step by step. We\
          \ refer to Wikipedia articles on philosophy for help. Before his conversion,\
          \ Tolstoy feels that life was uncertain, which is a pessimist's point of\
          \ view. The answer is (D).\n\nQ: According to d'Holbach, people always act\
          \ according to _____.\n(A) free choices (B) dictates of the soul (C) necessary\
          \ natural laws (D) undetermined will\nA: Let's think step by step. We refer\
          \ to Wikipedia articles on philosophy for help. d'Holbach believes that\
          \ people act according to necessary laws, and it proves nothing about people's\
          \ free will. The answer is (C).\n\nQ: Psychological egoism is:\n(A) an ethical\
          \ theory about how we ought to behave. (B) a generalization concerning the\
          \ way people tend to behave. (C) a claim about human nature and the ways\
          \ people are capable of behaving. (D) none of the above.\nA: Let's think\
          \ step by step. We refer to Wikipedia articles on philosophy for help. Psychological\
          \ egoism suggests that one behaves based on what makes one feels good, hence\
          \ it is a claim about human nature and how humans are capable of behaving.\
          \ The answer is (C).\n\nQ: Brandt claims that act-utilitarianism:\n(A) has\
          \ implausible consequences. (B) gives rise to moral dilemmas. (C) is self-contradictory.\
          \ (D) all of the above.\nA:\n```\n\nIn fact, I also failed to reproduce\
          \ results using direct prompting."
        updatedAt: '2022-11-01T10:28:54.936Z'
      numEdits: 1
      reactions: []
    id: 6360f49919e7e4bf456eb986
    type: comment
  author: ShadowYing
  content: "#### Problem Statement\n\nFailed to reproduce results with chain-of-thought\
    \ prompting on MMLU even using the prompts provided by the paper (prompts can\
    \ be found at https://github.com/jasonwei20/flan-2).\n\nOn more than 10 tasks\
    \ I randomly chose, I got lower accuracies than reported, e.g., on the philosophy\
    \ task, the reported accuracy is 55.9%, while I got 50.0%.\n\n#### Experiment\
    \ Setups\n\n* No input truncation was conducted. Applying the truncation method\
    \ from https://github.com/hendrycks/test/blob/17180990f51033dbd29042187f05b6a418922334/evaluate.py#L57\
    \ didn't fix the problem.\n* I ran the model using FP32.\n\n#### Example Input\
    \ from the Philosophy Task\n\n```\nThe following are multiple choice questions\
    \ (with answers) about philosophy.\n\nQ: The study of reality in the broadest\
    \ sense, an inquiry into the elemental nature of the universe and the things in\
    \ it, is known as _____.\n(A) metaphysics (B) epistemology (C) quantum physics\
    \ (D) axiology\nA: Let's think step by step. We refer to Wikipedia articles on\
    \ philosophy for help. Among the options, only metaphysics studies the nature\
    \ of reality and existence. The answer is (A).\n\nQ: According to Moore\u2019\
    s \u201Cideal utilitarianism,\u201D the right action is the one that brings about\
    \ the greatest amount of:\n(A) pleasure. (B) happiness. (C) good. (D) virtue.\n\
    A: Let's think step by step. We refer to Wikipedia articles on philosophy for\
    \ help. Moore's \"ideal utilitarianism\" states that one's actions should maximize\
    \ intrinsic goods. The answer is (C).\n\nQ: Before Tolstoy's Christian conversion,\
    \ what was his perspective on the meaning of life?\n(A) optimist (B) satisfied\
    \ (C) nominally religious (D) pessimist\nA: Let's think step by step. We refer\
    \ to Wikipedia articles on philosophy for help. Before his conversion, Tolstoy\
    \ feels that life was uncertain, which is a pessimist's point of view. The answer\
    \ is (D).\n\nQ: According to d'Holbach, people always act according to _____.\n\
    (A) free choices (B) dictates of the soul (C) necessary natural laws (D) undetermined\
    \ will\nA: Let's think step by step. We refer to Wikipedia articles on philosophy\
    \ for help. d'Holbach believes that people act according to necessary laws, and\
    \ it proves nothing about people's free will. The answer is (C).\n\nQ: Psychological\
    \ egoism is:\n(A) an ethical theory about how we ought to behave. (B) a generalization\
    \ concerning the way people tend to behave. (C) a claim about human nature and\
    \ the ways people are capable of behaving. (D) none of the above.\nA: Let's think\
    \ step by step. We refer to Wikipedia articles on philosophy for help. Psychological\
    \ egoism suggests that one behaves based on what makes one feels good, hence it\
    \ is a claim about human nature and how humans are capable of behaving. The answer\
    \ is (C).\n\nQ: Brandt claims that act-utilitarianism:\n(A) has implausible consequences.\
    \ (B) gives rise to moral dilemmas. (C) is self-contradictory. (D) all of the\
    \ above.\nA:\n```\n\nIn fact, I also failed to reproduce results using direct\
    \ prompting."
  created_at: 2022-11-01 09:27:37+00:00
  edited: true
  hidden: false
  id: 6360f49919e7e4bf456eb986
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: google/flan-t5-large
repo_type: model
status: open
target_branch: null
title: Failed to reproduce results with CoT on MMLU
