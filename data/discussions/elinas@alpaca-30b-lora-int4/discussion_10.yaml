!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Monero
conflicting_files: null
created_at: 2023-03-31 00:33:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63d625232e397d9f8e1eccac/AOZv_jnPhcj9t6thSs11d.png?w=200&h=200&f=face
      fullname: YellowRoseCx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Monero
      type: user
    createdAt: '2023-03-31T01:33:49.000Z'
    data:
      edited: false
      editors:
      - Monero
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63d625232e397d9f8e1eccac/AOZv_jnPhcj9t6thSs11d.png?w=200&h=200&f=face
          fullname: YellowRoseCx
          isHf: false
          isPro: false
          name: Monero
          type: user
        html: '<p>I''m using KoboldAI with a RX 6800xt and Vega 64 combined for 24gb
          VRAM on Linux Mint</p>

          <p>I''ve noticed the safetensors versions use significantly higher VRAM
          compared to the .ckpt version.</p>

          <p>In comparison, the same prompt and context tokens for the 30b-int4.pt
          model totals 22,061MB and for the no-groupsize safetensors it uses 24146MB</p>

          <p>Is there anyway to quantize the new one so that it''s not using as much
          VRAM as the new ones?</p>

          '
        raw: "I'm using KoboldAI with a RX 6800xt and Vega 64 combined for 24gb VRAM\
          \ on Linux Mint\r\n       \r\nI've noticed the safetensors versions use\
          \ significantly higher VRAM compared to the .ckpt version.\r\n\r\nIn comparison,\
          \ the same prompt and context tokens for the 30b-int4.pt model totals 22,061MB\
          \ and for the no-groupsize safetensors it uses 24146MB\r\n\r\nIs there anyway\
          \ to quantize the new one so that it's not using as much VRAM as the new\
          \ ones?"
        updatedAt: '2023-03-31T01:33:49.756Z'
      numEdits: 0
      reactions: []
    id: 6426387d2a423daad52c026f
    type: comment
  author: Monero
  content: "I'm using KoboldAI with a RX 6800xt and Vega 64 combined for 24gb VRAM\
    \ on Linux Mint\r\n       \r\nI've noticed the safetensors versions use significantly\
    \ higher VRAM compared to the .ckpt version.\r\n\r\nIn comparison, the same prompt\
    \ and context tokens for the 30b-int4.pt model totals 22,061MB and for the no-groupsize\
    \ safetensors it uses 24146MB\r\n\r\nIs there anyway to quantize the new one so\
    \ that it's not using as much VRAM as the new ones?"
  created_at: 2023-03-31 00:33:49+00:00
  edited: false
  hidden: false
  id: 6426387d2a423daad52c026f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630417380907b9a115c6aa9f/hsmz_dU2AyXe1DWHW7Pvd.png?w=200&h=200&f=face
      fullname: elinas
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: elinas
      type: user
    createdAt: '2023-03-31T20:35:48.000Z'
    data:
      edited: false
      editors:
      - elinas
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630417380907b9a115c6aa9f/hsmz_dU2AyXe1DWHW7Pvd.png?w=200&h=200&f=face
          fullname: elinas
          isHf: false
          isPro: false
          name: elinas
          type: user
        html: '<p>I''m not sure how that''s the case as I was maxing out my VRAM with
          the original version at max context. I have not used Kobold AI in a while
          now since I had not heard of them supporting 4bit (or were working on implementing
          it)? Maybe some of the model is being offloaded to swap, honestly I have
          no clue.</p>

          '
        raw: I'm not sure how that's the case as I was maxing out my VRAM with the
          original version at max context. I have not used Kobold AI in a while now
          since I had not heard of them supporting 4bit (or were working on implementing
          it)? Maybe some of the model is being offloaded to swap, honestly I have
          no clue.
        updatedAt: '2023-03-31T20:35:48.496Z'
      numEdits: 0
      reactions: []
    id: 642744248044a068051c4183
    type: comment
  author: elinas
  content: I'm not sure how that's the case as I was maxing out my VRAM with the original
    version at max context. I have not used Kobold AI in a while now since I had not
    heard of them supporting 4bit (or were working on implementing it)? Maybe some
    of the model is being offloaded to swap, honestly I have no clue.
  created_at: 2023-03-31 19:35:48+00:00
  edited: false
  hidden: false
  id: 642744248044a068051c4183
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a0a1a1c569677c1d74d957c39edd43df.svg
      fullname: 'Juan Pablo '
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Juanps90
      type: user
    createdAt: '2023-04-10T22:04:11.000Z'
    data:
      edited: false
      editors:
      - Juanps90
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a0a1a1c569677c1d74d957c39edd43df.svg
          fullname: 'Juan Pablo '
          isHf: false
          isPro: false
          name: Juanps90
          type: user
        html: '<blockquote>

          <p>I''m not sure how that''s the case as I was maxing out my VRAM with the
          original version at max context. I have not used Kobold AI in a while now
          since I had not heard of them supporting 4bit (or were working on implementing
          it)? Maybe some of the model is being offloaded to swap, honestly I have
          no clue.</p>

          </blockquote>

          <p>Hello, elinas, and thank you very much for your work. When you say maxing
          out your VRAM at max content do you mean a 24GiB card? Because I''m having
          issues and needing to limit tokens to about 1k for it to fit in my 3090.
          Can you explain how you are using the model? I am using the johnsmit0031
          repo.</p>

          <p>Thank you very much.</p>

          '
        raw: '> I''m not sure how that''s the case as I was maxing out my VRAM with
          the original version at max context. I have not used Kobold AI in a while
          now since I had not heard of them supporting 4bit (or were working on implementing
          it)? Maybe some of the model is being offloaded to swap, honestly I have
          no clue.


          Hello, elinas, and thank you very much for your work. When you say maxing
          out your VRAM at max content do you mean a 24GiB card? Because I''m having
          issues and needing to limit tokens to about 1k for it to fit in my 3090.
          Can you explain how you are using the model? I am using the johnsmit0031
          repo.


          Thank you very much.'
        updatedAt: '2023-04-10T22:04:11.321Z'
      numEdits: 0
      reactions: []
    id: 643487dbd12a239d72e6cf7d
    type: comment
  author: Juanps90
  content: '> I''m not sure how that''s the case as I was maxing out my VRAM with
    the original version at max context. I have not used Kobold AI in a while now
    since I had not heard of them supporting 4bit (or were working on implementing
    it)? Maybe some of the model is being offloaded to swap, honestly I have no clue.


    Hello, elinas, and thank you very much for your work. When you say maxing out
    your VRAM at max content do you mean a 24GiB card? Because I''m having issues
    and needing to limit tokens to about 1k for it to fit in my 3090. Can you explain
    how you are using the model? I am using the johnsmit0031 repo.


    Thank you very much.'
  created_at: 2023-04-10 21:04:11+00:00
  edited: false
  hidden: false
  id: 643487dbd12a239d72e6cf7d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630417380907b9a115c6aa9f/hsmz_dU2AyXe1DWHW7Pvd.png?w=200&h=200&f=face
      fullname: elinas
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: elinas
      type: user
    createdAt: '2023-04-12T23:45:09.000Z'
    data:
      edited: false
      editors:
      - elinas
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/630417380907b9a115c6aa9f/hsmz_dU2AyXe1DWHW7Pvd.png?w=200&h=200&f=face
          fullname: elinas
          isHf: false
          isPro: false
          name: elinas
          type: user
        html: '<blockquote>

          <p>Can you explain how you are using the model? I am using the johnsmit0031
          repo.</p>

          </blockquote>

          <p>I am not really familiar with that repo (other than it promises 4bit
          training and loras) and only have 2 official options, 3 if you use the KoboldAI
          4bit version.</p>

          '
        raw: '> Can you explain how you are using the model? I am using the johnsmit0031
          repo.


          I am not really familiar with that repo (other than it promises 4bit training
          and loras) and only have 2 official options, 3 if you use the KoboldAI 4bit
          version.'
        updatedAt: '2023-04-12T23:45:09.416Z'
      numEdits: 0
      reactions: []
    id: 643742859e9ac888d2eaa67a
    type: comment
  author: elinas
  content: '> Can you explain how you are using the model? I am using the johnsmit0031
    repo.


    I am not really familiar with that repo (other than it promises 4bit training
    and loras) and only have 2 official options, 3 if you use the KoboldAI 4bit version.'
  created_at: 2023-04-12 22:45:09+00:00
  edited: false
  hidden: false
  id: 643742859e9ac888d2eaa67a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 10
repo_id: elinas/alpaca-30b-lora-int4
repo_type: model
status: open
target_branch: null
title: .pt version uses 2gb less VRAM for me than the non-groupsized .safetensors
