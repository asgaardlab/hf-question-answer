!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dkackman
conflicting_files: null
created_at: 2023-04-17 22:33:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665239812194-6314be828be84e1ab40ff076.png?w=200&h=200&f=face
      fullname: Don Kackman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dkackman
      type: user
    createdAt: '2023-04-17T23:33:05.000Z'
    data:
      edited: true
      editors:
      - dkackman
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665239812194-6314be828be84e1ab40ff076.png?w=200&h=200&f=face
          fullname: Don Kackman
          isHf: false
          isPro: false
          name: dkackman
          type: user
        html: '<p>Running your example code I get "cannot unpack non-iterable NoneType
          object" from the line <code>scipy.io.wavfile.write("techno.wav", rate=16000,
          data=audio)</code></p>

          <p>Windows 11, python 3.10, scipy==1.10.1</p>

          <p>Anyone see the same thing?</p>

          <h1 id="edit">EDIT</h1>

          <p>I just realized that this is not being thrown as an error, but logged
          to stdout. Windows does not like the resulting wav file however.</p>

          <h1 id="edit-2">EDIT 2</h1>

          <p>After casting the aduio to float32 the wav file works on windows.</p>

          <pre><code>scipy.io.wavfile.write("techno.wav", rate=16000, data=audio.astype(np.float32))

          </code></pre>

          <p>still get the NoneType message but that''s not a big deal</p>

          '
        raw: 'Running your example code I get "cannot unpack non-iterable NoneType
          object" from the line `scipy.io.wavfile.write("techno.wav", rate=16000,
          data=audio)`


          Windows 11, python 3.10, scipy==1.10.1


          Anyone see the same thing?


          # EDIT

          I just realized that this is not being thrown as an error, but logged to
          stdout. Windows does not like the resulting wav file however.


          # EDIT 2

          After casting the aduio to float32 the wav file works on windows.


          ```

          scipy.io.wavfile.write("techno.wav", rate=16000, data=audio.astype(np.float32))

          ```


          still get the NoneType message but that''s not a big deal'
        updatedAt: '2023-04-18T15:50:50.705Z'
      numEdits: 2
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - sanchit-gandhi
    id: 643dd731d455a0d0a0aaf3cc
    type: comment
  author: dkackman
  content: 'Running your example code I get "cannot unpack non-iterable NoneType object"
    from the line `scipy.io.wavfile.write("techno.wav", rate=16000, data=audio)`


    Windows 11, python 3.10, scipy==1.10.1


    Anyone see the same thing?


    # EDIT

    I just realized that this is not being thrown as an error, but logged to stdout.
    Windows does not like the resulting wav file however.


    # EDIT 2

    After casting the aduio to float32 the wav file works on windows.


    ```

    scipy.io.wavfile.write("techno.wav", rate=16000, data=audio.astype(np.float32))

    ```


    still get the NoneType message but that''s not a big deal'
  created_at: 2023-04-17 22:33:05+00:00
  edited: true
  hidden: false
  id: 643dd731d455a0d0a0aaf3cc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-04-21T17:54:30.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: '<p>Sorry! That''s the correct fix! Opened a PR to fix in diffusers
          so that you don''t have to do the dtype conversion yourself <a rel="nofollow"
          href="https://github.com/huggingface/diffusers/pull/3189">https://github.com/huggingface/diffusers/pull/3189</a></p>

          '
        raw: Sorry! That's the correct fix! Opened a PR to fix in diffusers so that
          you don't have to do the dtype conversion yourself https://github.com/huggingface/diffusers/pull/3189
        updatedAt: '2023-04-21T17:54:30.262Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - dkackman
    id: 6442cdd6ce9c6d85e5bd95ab
    type: comment
  author: sanchit-gandhi
  content: Sorry! That's the correct fix! Opened a PR to fix in diffusers so that
    you don't have to do the dtype conversion yourself https://github.com/huggingface/diffusers/pull/3189
  created_at: 2023-04-21 16:54:30+00:00
  edited: false
  hidden: false
  id: 6442cdd6ce9c6d85e5bd95ab
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665239812194-6314be828be84e1ab40ff076.png?w=200&h=200&f=face
      fullname: Don Kackman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dkackman
      type: user
    createdAt: '2023-05-03T18:22:51.000Z'
    data:
      edited: false
      editors:
      - dkackman
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665239812194-6314be828be84e1ab40ff076.png?w=200&h=200&f=face
          fullname: Don Kackman
          isHf: false
          isPro: false
          name: dkackman
          type: user
        html: '<p>Coolio. I''ll close this.</p>

          <p>Thanks!</p>

          '
        raw: 'Coolio. I''ll close this.


          Thanks!'
        updatedAt: '2023-05-03T18:22:51.816Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6452a67b8fe6558e32803174
    id: 6452a67b8fe6558e32803173
    type: comment
  author: dkackman
  content: 'Coolio. I''ll close this.


    Thanks!'
  created_at: 2023-05-03 17:22:51+00:00
  edited: false
  hidden: false
  id: 6452a67b8fe6558e32803173
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1665239812194-6314be828be84e1ab40ff076.png?w=200&h=200&f=face
      fullname: Don Kackman
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dkackman
      type: user
    createdAt: '2023-05-03T18:22:51.000Z'
    data:
      status: closed
    id: 6452a67b8fe6558e32803174
    type: status-change
  author: dkackman
  created_at: 2023-05-03 17:22:51+00:00
  id: 6452a67b8fe6558e32803174
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: cvssp/audioldm
repo_type: model
status: closed
target_branch: null
title: cannot unpack non-iterable NoneType object
