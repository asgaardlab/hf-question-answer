!!python/object:huggingface_hub.community.DiscussionWithDetails
author: ysapolovych
conflicting_files: null
created_at: 2023-09-12 10:20:47+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c062d9f8c6098005f089db5f598bac3e.svg
      fullname: Yevhen Sapolovych
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ysapolovych
      type: user
    createdAt: '2023-09-12T11:20:47.000Z'
    data:
      edited: false
      editors:
      - ysapolovych
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9106104969978333
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c062d9f8c6098005f089db5f598bac3e.svg
          fullname: Yevhen Sapolovych
          isHf: false
          isPro: false
          name: ysapolovych
          type: user
        html: '<p>I have audio longer than 30s and want to feed it to pipe (like suggested
          in <a href="https://huggingface.co/openai/whisper-large-v2#long-form-transcription">"Long-Form
          Transcription"</a>) to chunk automatically and transcribe. I want to understand
          if chunks are fed seamlessly, or if there is a risk of my audio being cut
          mid-word/phrase. Does stride length affect that, and if so,&nbsp;how to
          pick (or tune) it?</p>

          '
        raw: "I have audio longer than 30s and want to feed it to pipe (like suggested\
          \ in [\"Long-Form Transcription\"](https://huggingface.co/openai/whisper-large-v2#long-form-transcription))\
          \ to chunk automatically and transcribe. I want to understand if chunks\
          \ are fed seamlessly, or if there is a risk of my audio being cut mid-word/phrase.\
          \ Does stride length affect that, and if so,\_how to pick (or tune) it?"
        updatedAt: '2023-09-12T11:20:47.326Z'
      numEdits: 0
      reactions: []
    id: 6500498f4ebb6660587c9ade
    type: comment
  author: ysapolovych
  content: "I have audio longer than 30s and want to feed it to pipe (like suggested\
    \ in [\"Long-Form Transcription\"](https://huggingface.co/openai/whisper-large-v2#long-form-transcription))\
    \ to chunk automatically and transcribe. I want to understand if chunks are fed\
    \ seamlessly, or if there is a risk of my audio being cut mid-word/phrase. Does\
    \ stride length affect that, and if so,\_how to pick (or tune) it?"
  created_at: 2023-09-12 10:20:47+00:00
  edited: false
  hidden: false
  id: 6500498f4ebb6660587c9ade
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-09-28T18:46:53.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;ysapolovych&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/ysapolovych\"\
          >@<span class=\"underline\">ysapolovych</span></a></span>\n\n\t</span></span>\
          \ - great question! In practice, you shouldn't see any audio being cut midway,\
          \ since we use a stride between adjacent audio samples. For more information,\
          \ you can refer to the blog post: <a href=\"https://huggingface.co/blog/asr-chunking\"\
          >ASR on long files</a>. Stride does affect this (see blog post for an explanation).\
          \ In practice, we find that <code>stride = chunk_length_s / 6</code> works\
          \ quite well, giving the smallest audio stride (overlap) and getting accurate\
          \ transcriptions at the audio boundaries. Note that this is the default\
          \ value, so you don't need to set it yourself. If you want to tune this,\
          \ you can run a sweep over different <code>stride</code> values - just pass\
          \ <code>stride</code> as an input when you call the pipeline. Hope that\
          \ helps!</p>\n"
        raw: 'Hey @ysapolovych - great question! In practice, you shouldn''t see any
          audio being cut midway, since we use a stride between adjacent audio samples.
          For more information, you can refer to the blog post: [ASR on long files](https://huggingface.co/blog/asr-chunking).
          Stride does affect this (see blog post for an explanation). In practice,
          we find that `stride = chunk_length_s / 6` works quite well, giving the
          smallest audio stride (overlap) and getting accurate transcriptions at the
          audio boundaries. Note that this is the default value, so you don''t need
          to set it yourself. If you want to tune this, you can run a sweep over different
          `stride` values - just pass `stride` as an input when you call the pipeline.
          Hope that helps!'
        updatedAt: '2023-09-28T18:46:53.258Z'
      numEdits: 0
      reactions: []
    id: 6515ca1d1e7b9224c9d217d9
    type: comment
  author: sanchit-gandhi
  content: 'Hey @ysapolovych - great question! In practice, you shouldn''t see any
    audio being cut midway, since we use a stride between adjacent audio samples.
    For more information, you can refer to the blog post: [ASR on long files](https://huggingface.co/blog/asr-chunking).
    Stride does affect this (see blog post for an explanation). In practice, we find
    that `stride = chunk_length_s / 6` works quite well, giving the smallest audio
    stride (overlap) and getting accurate transcriptions at the audio boundaries.
    Note that this is the default value, so you don''t need to set it yourself. If
    you want to tune this, you can run a sweep over different `stride` values - just
    pass `stride` as an input when you call the pipeline. Hope that helps!'
  created_at: 2023-09-28 17:46:53+00:00
  edited: false
  hidden: false
  id: 6515ca1d1e7b9224c9d217d9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c062d9f8c6098005f089db5f598bac3e.svg
      fullname: Yevhen Sapolovych
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ysapolovych
      type: user
    createdAt: '2023-09-29T13:28:38.000Z'
    data:
      edited: false
      editors:
      - ysapolovych
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9095081686973572
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c062d9f8c6098005f089db5f598bac3e.svg
          fullname: Yevhen Sapolovych
          isHf: false
          isPro: false
          name: ysapolovych
          type: user
        html: '<p>Thank you very much!</p>

          '
        raw: Thank you very much!
        updatedAt: '2023-09-29T13:28:38.607Z'
      numEdits: 0
      reactions: []
    id: 6516d10665595ac802d76cc1
    type: comment
  author: ysapolovych
  content: Thank you very much!
  created_at: 2023-09-29 12:28:38+00:00
  edited: false
  hidden: false
  id: 6516d10665595ac802d76cc1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/c062d9f8c6098005f089db5f598bac3e.svg
      fullname: Yevhen Sapolovych
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ysapolovych
      type: user
    createdAt: '2023-09-29T13:28:42.000Z'
    data:
      status: closed
    id: 6516d10af31584d41d32ba70
    type: status-change
  author: ysapolovych
  created_at: 2023-09-29 12:28:42+00:00
  id: 6516d10af31584d41d32ba70
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 67
repo_id: openai/whisper-large-v2
repo_type: model
status: closed
target_branch: null
title: Optimal long audio chunking when using pipeline
