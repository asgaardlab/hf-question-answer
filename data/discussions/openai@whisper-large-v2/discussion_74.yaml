!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Tyler1992
conflicting_files: null
created_at: 2023-09-29 16:02:20+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
      fullname: Tyler Anway
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Tyler1992
      type: user
    createdAt: '2023-09-29T17:02:20.000Z'
    data:
      edited: false
      editors:
      - Tyler1992
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.858856737613678
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
          fullname: Tyler Anway
          isHf: false
          isPro: false
          name: Tyler1992
          type: user
        html: '<p>Is there a way to stop Whisper from predicting a phone number when
          the audio cuts off mid phone number. I am using the pipeline on english
          audio. Unfortunately, I cannot share any audio samples. </p>

          <p>EXAMPLE:<br>(Actual Audio) If you want to continue to receive these calls,
          you must contact us for credit card deposits or other deposit instructions
          at 1 800-<br>(Predicted Audio) If you want to continue to receive these
          calls, you must contact our us for credit card deposits or other deposit
          instructions at 1 800-564-8989.</p>

          '
        raw: "Is there a way to stop Whisper from predicting a phone number when the\
          \ audio cuts off mid phone number. I am using the pipeline on english audio.\
          \ Unfortunately, I cannot share any audio samples. \r\n\r\nEXAMPLE:\r\n\
          (Actual Audio) If you want to continue to receive these calls, you must\
          \ contact us for credit card deposits or other deposit instructions at 1\
          \ 800-\r\n(Predicted Audio) If you want to continue to receive these calls,\
          \ you must contact our us for credit card deposits or other deposit instructions\
          \ at 1 800-564-8989."
        updatedAt: '2023-09-29T17:02:20.717Z'
      numEdits: 0
      reactions: []
    id: 6517031ced0bef1df0c0e834
    type: comment
  author: Tyler1992
  content: "Is there a way to stop Whisper from predicting a phone number when the\
    \ audio cuts off mid phone number. I am using the pipeline on english audio. Unfortunately,\
    \ I cannot share any audio samples. \r\n\r\nEXAMPLE:\r\n(Actual Audio) If you\
    \ want to continue to receive these calls, you must contact us for credit card\
    \ deposits or other deposit instructions at 1 800-\r\n(Predicted Audio) If you\
    \ want to continue to receive these calls, you must contact our us for credit\
    \ card deposits or other deposit instructions at 1 800-564-8989."
  created_at: 2023-09-29 16:02:20+00:00
  edited: false
  hidden: false
  id: 6517031ced0bef1df0c0e834
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-10-02T13:20:26.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.806891679763794
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;Tyler1992&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Tyler1992\"\
          >@<span class=\"underline\">Tyler1992</span></a></span>\n\n\t</span></span>!\
          \ Could you use Whisper with word-level timestamps (set <code>return_timestamps=\"\
          word\"</code> when you call the pipeline class), and cut off the transcription\
          \ at the time segment that corresponds to the end of the audio recording?</p>\n"
        raw: Hey @Tyler1992! Could you use Whisper with word-level timestamps (set
          `return_timestamps="word"` when you call the pipeline class), and cut off
          the transcription at the time segment that corresponds to the end of the
          audio recording?
        updatedAt: '2023-10-02T13:20:26.049Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - Tyler1992
    id: 651ac39a6effdc27ae2a4783
    type: comment
  author: sanchit-gandhi
  content: Hey @Tyler1992! Could you use Whisper with word-level timestamps (set `return_timestamps="word"`
    when you call the pipeline class), and cut off the transcription at the time segment
    that corresponds to the end of the audio recording?
  created_at: 2023-10-02 12:20:26+00:00
  edited: false
  hidden: false
  id: 651ac39a6effdc27ae2a4783
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
      fullname: Tyler Anway
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Tyler1992
      type: user
    createdAt: '2023-10-02T15:15:13.000Z'
    data:
      edited: false
      editors:
      - Tyler1992
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9510571956634521
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
          fullname: Tyler Anway
          isHf: false
          isPro: false
          name: Tyler1992
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sanchit-gandhi&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/sanchit-gandhi\"\
          >@<span class=\"underline\">sanchit-gandhi</span></a></span>\n\n\t</span></span>\
          \ I will definitly give this a try. Thanks!</p>\n"
        raw: '@sanchit-gandhi I will definitly give this a try. Thanks!

          '
        updatedAt: '2023-10-02T15:15:13.800Z'
      numEdits: 0
      reactions: []
    id: 651ade815e0d2101c9645c04
    type: comment
  author: Tyler1992
  content: '@sanchit-gandhi I will definitly give this a try. Thanks!

    '
  created_at: 2023-10-02 14:15:13+00:00
  edited: false
  hidden: false
  id: 651ade815e0d2101c9645c04
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
      fullname: Tyler Anway
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Tyler1992
      type: user
    createdAt: '2023-10-02T19:26:26.000Z'
    data:
      edited: true
      editors:
      - Tyler1992
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.24813078343868256
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
          fullname: Tyler Anway
          isHf: false
          isPro: false
          name: Tyler1992
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sanchit-gandhi&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/sanchit-gandhi\"\
          >@<span class=\"underline\">sanchit-gandhi</span></a></span>\n\n\t</span></span>\
          \ Do you have any idea why the predicted word timestamp is 26 seconds after\
          \ the end of the audio clip?</p>\n<p>Total Audio Time for example below\
          \ is 10.32 seconds<br>{<br>'text': ' This is Jack Parsons with Custom Boat\
          \ Premise. How are you doing today?',<br>'chunks': [{'text': ' This', 'timestamp':\
          \ (0.0, 7.76)}, {'text': ' is', 'timestamp': (7.76, 7.94)}, {'text': ' Jack',\
          \ 'timestamp': (7.94, 8.22)}, {'text': ' Parsons', 'timestamp': (8.22, 8.46)},\
          \ {'text': ' with', 'timestamp': (8.46, 8.7)}, {'text': ' Custom', 'timestamp':\
          \ (36.65, 36.65)}, {'text': ' Boat', 'timestamp': (36.65, 36.65)}, {'text':\
          \ ' Premise.', 'timestamp': (36.65, 36.65)}, {'text': ' How', 'timestamp':\
          \ (36.65, 36.65)}, {'text': ' are', 'timestamp': (36.65, 36.65)}, {'text':\
          \ ' you', 'timestamp': (36.65, 36.65)}, {'text': ' doing', 'timestamp':\
          \ (36.65, 36.65)}, {'text': ' today?', 'timestamp': (36.65, 36.65)}<br>]}</p>\n"
        raw: "@sanchit-gandhi Do you have any idea why the predicted word timestamp\
          \ is 26 seconds after the end of the audio clip?\n\nTotal Audio Time for\
          \ example below is 10.32 seconds\n{\n'text': ' This is Jack Parsons with\
          \ Custom Boat Premise. How are you doing today?', \n'chunks': [{'text':\
          \ ' This', 'timestamp': (0.0, 7.76)}, {'text': ' is', 'timestamp': (7.76,\
          \ 7.94)}, {'text': ' Jack', 'timestamp': (7.94, 8.22)}, {'text': ' Parsons',\
          \ 'timestamp': (8.22, 8.46)}, {'text': ' with', 'timestamp': (8.46, 8.7)},\
          \ {'text': ' Custom', 'timestamp': (36.65, 36.65)}, {'text': ' Boat', 'timestamp':\
          \ (36.65, 36.65)}, {'text': ' Premise.', 'timestamp': (36.65, 36.65)}, {'text':\
          \ ' How', 'timestamp': (36.65, 36.65)}, {'text': ' are', 'timestamp': (36.65,\
          \ 36.65)}, {'text': ' you', 'timestamp': (36.65, 36.65)}, {'text': ' doing',\
          \ 'timestamp': (36.65, 36.65)}, {'text': ' today?', 'timestamp': (36.65,\
          \ 36.65)}\n]}"
        updatedAt: '2023-10-02T20:10:44.359Z'
      numEdits: 1
      reactions: []
    id: 651b19622590c4c624567b82
    type: comment
  author: Tyler1992
  content: "@sanchit-gandhi Do you have any idea why the predicted word timestamp\
    \ is 26 seconds after the end of the audio clip?\n\nTotal Audio Time for example\
    \ below is 10.32 seconds\n{\n'text': ' This is Jack Parsons with Custom Boat Premise.\
    \ How are you doing today?', \n'chunks': [{'text': ' This', 'timestamp': (0.0,\
    \ 7.76)}, {'text': ' is', 'timestamp': (7.76, 7.94)}, {'text': ' Jack', 'timestamp':\
    \ (7.94, 8.22)}, {'text': ' Parsons', 'timestamp': (8.22, 8.46)}, {'text': ' with',\
    \ 'timestamp': (8.46, 8.7)}, {'text': ' Custom', 'timestamp': (36.65, 36.65)},\
    \ {'text': ' Boat', 'timestamp': (36.65, 36.65)}, {'text': ' Premise.', 'timestamp':\
    \ (36.65, 36.65)}, {'text': ' How', 'timestamp': (36.65, 36.65)}, {'text': ' are',\
    \ 'timestamp': (36.65, 36.65)}, {'text': ' you', 'timestamp': (36.65, 36.65)},\
    \ {'text': ' doing', 'timestamp': (36.65, 36.65)}, {'text': ' today?', 'timestamp':\
    \ (36.65, 36.65)}\n]}"
  created_at: 2023-10-02 18:26:26+00:00
  edited: true
  hidden: false
  id: 651b19622590c4c624567b82
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-10-05T13:22:26.000Z'
    data:
      edited: true
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.924393355846405
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: '<p>Interesting! Could you share your Transformers version please? You
          can copy and past the output of:</p>

          <pre><code>transformers-cli env

          </code></pre>

          <p>The reason I ask is because we recently made a bug fix to word-level
          timestamps to fix an issue that looks similar to your results: <a rel="nofollow"
          href="https://github.com/huggingface/transformers/pull/25607">https://github.com/huggingface/transformers/pull/25607</a></p>

          <p>If you''re not on the latest version, I recommend you try updating with:</p>

          <pre><code>pip install --upgrade transformers

          </code></pre>

          <p>And re-running your codesnippet to check if you get different results.</p>

          <p>Thanks!</p>

          '
        raw: 'Interesting! Could you share your Transformers version please? You can
          copy and past the output of:

          ```

          transformers-cli env

          ```


          The reason I ask is because we recently made a bug fix to word-level timestamps
          to fix an issue that looks similar to your results: https://github.com/huggingface/transformers/pull/25607


          If you''re not on the latest version, I recommend you try updating with:

          ```

          pip install --upgrade transformers

          ```


          And re-running your codesnippet to check if you get different results.


          Thanks!'
        updatedAt: '2023-10-05T13:23:22.052Z'
      numEdits: 2
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - Tyler1992
    id: 651eb89211bd311e95745cad
    type: comment
  author: sanchit-gandhi
  content: 'Interesting! Could you share your Transformers version please? You can
    copy and past the output of:

    ```

    transformers-cli env

    ```


    The reason I ask is because we recently made a bug fix to word-level timestamps
    to fix an issue that looks similar to your results: https://github.com/huggingface/transformers/pull/25607


    If you''re not on the latest version, I recommend you try updating with:

    ```

    pip install --upgrade transformers

    ```


    And re-running your codesnippet to check if you get different results.


    Thanks!'
  created_at: 2023-10-05 12:22:26+00:00
  edited: true
  hidden: false
  id: 651eb89211bd311e95745cad
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
      fullname: Tyler Anway
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Tyler1992
      type: user
    createdAt: '2023-10-05T23:01:04.000Z'
    data:
      edited: false
      editors:
      - Tyler1992
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9712820053100586
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
          fullname: Tyler Anway
          isHf: false
          isPro: false
          name: Tyler1992
          type: user
        html: '<p>My transformers version was 4.33.1 and after updating to transformers
          version 4.34.0 the code works as expected! Whatever they are paying you,
          it should be more! Thank you very much.</p>

          '
        raw: My transformers version was 4.33.1 and after updating to transformers
          version 4.34.0 the code works as expected! Whatever they are paying you,
          it should be more! Thank you very much.
        updatedAt: '2023-10-05T23:01:04.868Z'
      numEdits: 0
      reactions: []
    id: 651f40308746b91c7ea73efe
    type: comment
  author: Tyler1992
  content: My transformers version was 4.33.1 and after updating to transformers version
    4.34.0 the code works as expected! Whatever they are paying you, it should be
    more! Thank you very much.
  created_at: 2023-10-05 22:01:04+00:00
  edited: false
  hidden: false
  id: 651f40308746b91c7ea73efe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/99a2d2d08d38cce95c8ef533b78add29.svg
      fullname: Tyler Anway
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Tyler1992
      type: user
    createdAt: '2023-10-05T23:04:04.000Z'
    data:
      status: closed
    id: 651f40e4f23fc101b15da57d
    type: status-change
  author: Tyler1992
  created_at: 2023-10-05 22:04:04+00:00
  id: 651f40e4f23fc101b15da57d
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-10-06T11:21:49.000Z'
    data:
      edited: false
      editors:
      - sanchit-gandhi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9124796390533447
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Awesome to hear it's fixed - all the best with your Whisper endeavours\
          \ <span data-props=\"{&quot;user&quot;:&quot;Tyler1992&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Tyler1992\">@<span class=\"\
          underline\">Tyler1992</span></a></span>\n\n\t</span></span>!</p>\n"
        raw: Awesome to hear it's fixed - all the best with your Whisper endeavours
          @Tyler1992!
        updatedAt: '2023-10-06T11:21:49.741Z'
      numEdits: 0
      reactions: []
    id: 651fedcdf998876ea753c7bf
    type: comment
  author: sanchit-gandhi
  content: Awesome to hear it's fixed - all the best with your Whisper endeavours
    @Tyler1992!
  created_at: 2023-10-06 10:21:49+00:00
  edited: false
  hidden: false
  id: 651fedcdf998876ea753c7bf
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 74
repo_id: openai/whisper-large-v2
repo_type: model
status: closed
target_branch: null
title: Stop Whisper predicting phone numbers.
