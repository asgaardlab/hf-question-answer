!!python/object:huggingface_hub.community.DiscussionWithDetails
author: remcbdx
conflicting_files: null
created_at: 2023-03-08 09:23:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7628cc33ba2289f6ac2e73299b3c62a4.svg
      fullname: "R\xE9mi Caland"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: remcbdx
      type: user
    createdAt: '2023-03-08T09:23:08.000Z'
    data:
      edited: false
      editors:
      - remcbdx
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7628cc33ba2289f6ac2e73299b3c62a4.svg
          fullname: "R\xE9mi Caland"
          isHf: false
          isPro: false
          name: remcbdx
          type: user
        html: '<p>Hi everyone,<br>As I am trying to use whisper for transcription
          of multi-language, I have see some problmems using the pipeline method.<br>First,
          sometimes the language spoken is in french, but the outputs look like translation
          of the initial text.<br>Then, i sometimes have repetition of phrases, sometimes
          one time, sometime several times.<br>My code is quite simple on that part
          :<br>pipe = pipeline(<br>            "automatic-speech-recognition",<br>            model="openai/whisper-tiny",<br>            chunk_length_s=30,<br>        )<br>pipe(audio,
          return_timestamps=True)</p>

          <p>Any idea why I got that?</p>

          '
        raw: "Hi everyone, \r\nAs I am trying to use whisper for transcription of\
          \ multi-language, I have see some problmems using the pipeline method. \r\
          \nFirst, sometimes the language spoken is in french, but the outputs look\
          \ like translation of the initial text. \r\nThen, i sometimes have repetition\
          \ of phrases, sometimes one time, sometime several times. \r\nMy code is\
          \ quite simple on that part : \r\npipe = pipeline(\r\n            \"automatic-speech-recognition\"\
          ,\r\n            model=\"openai/whisper-tiny\",\r\n            chunk_length_s=30,\r\
          \n        )\r\npipe(audio, return_timestamps=True)\r\n\r\nAny idea why I\
          \ got that?"
        updatedAt: '2023-03-08T09:23:08.468Z'
      numEdits: 0
      reactions: []
    id: 640853fcd3d0b5c51ab7baea
    type: comment
  author: remcbdx
  content: "Hi everyone, \r\nAs I am trying to use whisper for transcription of multi-language,\
    \ I have see some problmems using the pipeline method. \r\nFirst, sometimes the\
    \ language spoken is in french, but the outputs look like translation of the initial\
    \ text. \r\nThen, i sometimes have repetition of phrases, sometimes one time,\
    \ sometime several times. \r\nMy code is quite simple on that part : \r\npipe\
    \ = pipeline(\r\n            \"automatic-speech-recognition\",\r\n           \
    \ model=\"openai/whisper-tiny\",\r\n            chunk_length_s=30,\r\n       \
    \ )\r\npipe(audio, return_timestamps=True)\r\n\r\nAny idea why I got that?"
  created_at: 2023-03-08 09:23:08+00:00
  edited: false
  hidden: false
  id: 640853fcd3d0b5c51ab7baea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7628cc33ba2289f6ac2e73299b3c62a4.svg
      fullname: "R\xE9mi Caland"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: remcbdx
      type: user
    createdAt: '2023-03-08T09:59:58.000Z'
    data:
      edited: false
      editors:
      - remcbdx
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7628cc33ba2289f6ac2e73299b3c62a4.svg
          fullname: "R\xE9mi Caland"
          isHf: false
          isPro: false
          name: remcbdx
          type: user
        html: '<p>Regarding the translation problem, I found <a href="https://huggingface.co/openai/whisper-large-v2/discussions/20">https://huggingface.co/openai/whisper-large-v2/discussions/20</a><br>Difference
          with me is that it happen also on my local machine (m2).<br>The thing is,
          if I just want the initial language, and no translation, should I specify
          something?<br>And if I have multi language audio files, should i choose
          on language?</p>

          '
        raw: "Regarding the translation problem, I found https://huggingface.co/openai/whisper-large-v2/discussions/20\n\
          Difference with me is that it happen also on my local machine (m2). \nThe\
          \ thing is, if I just want the initial language, and no translation, should\
          \ I specify something? \nAnd if I have multi language audio files, should\
          \ i choose on language?"
        updatedAt: '2023-03-08T09:59:58.251Z'
      numEdits: 0
      reactions: []
    id: 64085c9ee6713eae2bdf9c73
    type: comment
  author: remcbdx
  content: "Regarding the translation problem, I found https://huggingface.co/openai/whisper-large-v2/discussions/20\n\
    Difference with me is that it happen also on my local machine (m2). \nThe thing\
    \ is, if I just want the initial language, and no translation, should I specify\
    \ something? \nAnd if I have multi language audio files, should i choose on language?"
  created_at: 2023-03-08 09:59:58+00:00
  edited: false
  hidden: false
  id: 64085c9ee6713eae2bdf9c73
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-03-16T14:27:50.000Z'
    data:
      edited: false
      editors:
      - ArthurZ
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: '<p>You should use the latest release! This should have been fixed!</p>

          '
        raw: You should use the latest release! This should have been fixed!
        updatedAt: '2023-03-16T14:27:50.681Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - sanchit-gandhi
    id: 64132766a4ae6973db6d0aef
    type: comment
  author: ArthurZ
  content: You should use the latest release! This should have been fixed!
  created_at: 2023-03-16 13:27:50+00:00
  edited: false
  hidden: false
  id: 64132766a4ae6973db6d0aef
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
      fullname: Sanchit Gandhi
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sanchit-gandhi
      type: user
    createdAt: '2023-03-17T15:55:33.000Z'
    data:
      edited: true
      editors:
      - sanchit-gandhi
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1653243468328-61f91cf54a8e5a275b2b3e7c.jpeg?w=200&h=200&f=face
          fullname: Sanchit Gandhi
          isHf: true
          isPro: false
          name: sanchit-gandhi
          type: user
        html: "<p>Indeed! <span data-props=\"{&quot;user&quot;:&quot;ArthurZ&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/ArthurZ\"\
          >@<span class=\"underline\">ArthurZ</span></a></span>\n\n\t</span></span>'s\
          \ done a big job at improving the Whisper API in <code>transformers</code>\
          \ Updating to the latest version should get you these upgrades:</p>\n<pre><code>pip\
          \ install --upgrade transformers\n</code></pre>\n<p>If you know the language\
          \ a-priori, you can pass it as follows:</p>\n<pre><code class=\"language-python\"\
          >pipe(audio, return_timestamps=<span class=\"hljs-literal\">True</span>,\
          \ generate_kwargs={<span class=\"hljs-string\">\"language\"</span>: <span\
          \ class=\"hljs-string\">\"french\"</span>}\n</code></pre>\n<p>Likewise,\
          \ you can specify the task as <code>translate</code>/<code>transcribe</code>:</p>\n\
          <pre><code class=\"language-python\">pipe(audio, return_timestamps=<span\
          \ class=\"hljs-literal\">True</span>, generate_kwargs={<span class=\"hljs-string\"\
          >\"language\"</span>: <span class=\"hljs-string\">\"french\"</span>, <span\
          \ class=\"hljs-string\">\"task\"</span>: <span class=\"hljs-string\">\"\
          transcribe\"</span>}\n</code></pre>\n<p>Let us know if you have any other\
          \ questions, more than happy to help!</p>\n"
        raw: 'Indeed! @ArthurZ''s done a big job at improving the Whisper API in `transformers`
          Updating to the latest version should get you these upgrades:

          ```

          pip install --upgrade transformers

          ```


          If you know the language a-priori, you can pass it as follows:

          ```python

          pipe(audio, return_timestamps=True, generate_kwargs={"language": "french"}

          ```


          Likewise, you can specify the task as `translate`/`transcribe`:

          ```python

          pipe(audio, return_timestamps=True, generate_kwargs={"language": "french",
          "task": "transcribe"}

          ```


          Let us know if you have any other questions, more than happy to help!'
        updatedAt: '2023-03-17T15:55:44.534Z'
      numEdits: 1
      reactions: []
    id: 64148d75035a93cc38b63cbe
    type: comment
  author: sanchit-gandhi
  content: 'Indeed! @ArthurZ''s done a big job at improving the Whisper API in `transformers`
    Updating to the latest version should get you these upgrades:

    ```

    pip install --upgrade transformers

    ```


    If you know the language a-priori, you can pass it as follows:

    ```python

    pipe(audio, return_timestamps=True, generate_kwargs={"language": "french"}

    ```


    Likewise, you can specify the task as `translate`/`transcribe`:

    ```python

    pipe(audio, return_timestamps=True, generate_kwargs={"language": "french", "task":
    "transcribe"}

    ```


    Let us know if you have any other questions, more than happy to help!'
  created_at: 2023-03-17 14:55:33+00:00
  edited: true
  hidden: false
  id: 64148d75035a93cc38b63cbe
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 29
repo_id: openai/whisper-large-v2
repo_type: model
status: open
target_branch: null
title: Reccuring problems on pipe
