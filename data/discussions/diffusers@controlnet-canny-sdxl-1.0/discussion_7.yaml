!!python/object:huggingface_hub.community.DiscussionWithDetails
author: creatorbest
conflicting_files: null
created_at: 2023-08-11 01:04:09+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8390142242c557a01923a6eb1b13a96c.svg
      fullname: kareti rama krishna
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: creatorbest
      type: user
    createdAt: '2023-08-11T02:04:09.000Z'
    data:
      edited: false
      editors:
      - creatorbest
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7360537052154541
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8390142242c557a01923a6eb1b13a96c.svg
          fullname: kareti rama krishna
          isHf: false
          isPro: false
          name: creatorbest
          type: user
        html: '<p>Please post a colab example</p>

          '
        raw: Please post a colab example
        updatedAt: '2023-08-11T02:04:09.176Z'
      numEdits: 0
      reactions: []
    id: 64d59719a146b1c0a65362f7
    type: comment
  author: creatorbest
  content: Please post a colab example
  created_at: 2023-08-11 01:04:09+00:00
  edited: false
  hidden: false
  id: 64d59719a146b1c0a65362f7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
      fullname: Xu Yang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ViperYX
      type: user
    createdAt: '2023-08-11T09:05:16.000Z'
    data:
      edited: false
      editors:
      - ViperYX
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9820123314857483
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
          fullname: Xu Yang
          isHf: false
          isPro: false
          name: ViperYX
          type: user
        html: '<p>sample code is posted, right?</p>

          '
        raw: sample code is posted, right?
        updatedAt: '2023-08-11T09:05:16.408Z'
      numEdits: 0
      reactions: []
    id: 64d5f9cc089bc502ce90473d
    type: comment
  author: ViperYX
  content: sample code is posted, right?
  created_at: 2023-08-11 08:05:16+00:00
  edited: false
  hidden: false
  id: 64d5f9cc089bc502ce90473d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666772404424-noauth.jpeg?w=200&h=200&f=face
      fullname: Pratyay Banerjee
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Neilblaze
      type: user
    createdAt: '2023-08-11T15:03:03.000Z'
    data:
      edited: false
      editors:
      - Neilblaze
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9714609384536743
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666772404424-noauth.jpeg?w=200&h=200&f=face
          fullname: Pratyay Banerjee
          isHf: false
          isPro: false
          name: Neilblaze
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;ViperYX&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/ViperYX\">@<span class=\"\
          underline\">ViperYX</span></a></span>\n\n\t</span></span> I think he wants\
          \ something even more readymade :p</p>\n"
        raw: '@ViperYX I think he wants something even more readymade :p'
        updatedAt: '2023-08-11T15:03:03.482Z'
      numEdits: 0
      reactions: []
    id: 64d64da7620c17bfa05a76c7
    type: comment
  author: Neilblaze
  content: '@ViperYX I think he wants something even more readymade :p'
  created_at: 2023-08-11 14:03:03+00:00
  edited: false
  hidden: false
  id: 64d64da7620c17bfa05a76c7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/15c509b579f63a77fb1675c5f0012bae.svg
      fullname: es ta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: obi77
      type: user
    createdAt: '2023-08-13T20:04:28.000Z'
    data:
      edited: false
      editors:
      - obi77
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7249191999435425
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/15c509b579f63a77fb1675c5f0012bae.svg
          fullname: es ta
          isHf: false
          isPro: false
          name: obi77
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;ViperYX&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/ViperYX\">@<span class=\"\
          underline\">ViperYX</span></a></span>\n\n\t</span></span> , <span data-props=\"\
          {&quot;user&quot;:&quot;Neilblaze&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/Neilblaze\">@<span class=\"underline\">Neilblaze</span></a></span>\n\
          \n\t</span></span> I tried the sample code in colab with not modification\
          \ except the canny image I got this<br>with this</p>\n<pre><code>prompt\
          \ = \"relaxed Cat at the table and holding a newspaper, anime style\"\n\
          negative_prompt = ''\n\nimage = load_image(\"https://i.imgflip.com/4/tau4.jpg\"\
          )\n\nimage = np.array(image)\nimage = cv2.Canny(image, 100, 200)\nimage\
          \ = image[:, :, None]\nimage = np.concatenate([image, image, image], axis=2)\n\
          image = Image.fromarray(image)\nimage\n</code></pre>\n<p><a rel=\"nofollow\"\
          \ href=\"https://cdn-uploads.huggingface.co/production/uploads/622e190e45261ac5cc0bdc21/Ot10ts81h_5xjcfCh0vE3.png\"\
          ><img alt=\"Untitled.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/622e190e45261ac5cc0bdc21/Ot10ts81h_5xjcfCh0vE3.png\"\
          ></a></p>\n"
        raw: '@ViperYX , @Neilblaze I tried the sample code in colab with not modification
          except the canny image I got this

          with this

          ```

          prompt = "relaxed Cat at the table and holding a newspaper, anime style"

          negative_prompt = ''''


          image = load_image("https://i.imgflip.com/4/tau4.jpg")


          image = np.array(image)

          image = cv2.Canny(image, 100, 200)

          image = image[:, :, None]

          image = np.concatenate([image, image, image], axis=2)

          image = Image.fromarray(image)

          image

          ```

          ![Untitled.png](https://cdn-uploads.huggingface.co/production/uploads/622e190e45261ac5cc0bdc21/Ot10ts81h_5xjcfCh0vE3.png)

          '
        updatedAt: '2023-08-13T20:04:28.437Z'
      numEdits: 0
      reactions: []
    id: 64d9374c36b05ef8ff1996c5
    type: comment
  author: obi77
  content: '@ViperYX , @Neilblaze I tried the sample code in colab with not modification
    except the canny image I got this

    with this

    ```

    prompt = "relaxed Cat at the table and holding a newspaper, anime style"

    negative_prompt = ''''


    image = load_image("https://i.imgflip.com/4/tau4.jpg")


    image = np.array(image)

    image = cv2.Canny(image, 100, 200)

    image = image[:, :, None]

    image = np.concatenate([image, image, image], axis=2)

    image = Image.fromarray(image)

    image

    ```

    ![Untitled.png](https://cdn-uploads.huggingface.co/production/uploads/622e190e45261ac5cc0bdc21/Ot10ts81h_5xjcfCh0vE3.png)

    '
  created_at: 2023-08-13 19:04:28+00:00
  edited: false
  hidden: false
  id: 64d9374c36b05ef8ff1996c5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
      fullname: Xu Yang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ViperYX
      type: user
    createdAt: '2023-08-24T03:45:51.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
          fullname: Xu Yang
          isHf: false
          isPro: false
          name: ViperYX
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-08-24T03:53:45.991Z'
      numEdits: 0
      reactions: []
    id: 64e6d26f7acd8971f2abb7d4
    type: comment
  author: ViperYX
  content: This comment has been hidden
  created_at: 2023-08-24 02:45:51+00:00
  edited: true
  hidden: true
  id: 64e6d26f7acd8971f2abb7d4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
      fullname: Xu Yang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ViperYX
      type: user
    createdAt: '2023-08-24T03:47:08.000Z'
    data:
      edited: false
      editors:
      - ViperYX
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4918259382247925
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
          fullname: Xu Yang
          isHf: false
          isPro: false
          name: ViperYX
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;obi77&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/obi77\">@<span class=\"\
          underline\">obi77</span></a></span>\n\n\t</span></span><br>so sry for my\
          \ late reply, the result is fllowing<br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/62cb653ab189b6164d2eed00/YKjX9DTbRR4yJIHZIi59H.png\"\
          ><img alt=\"res.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/62cb653ab189b6164d2eed00/YKjX9DTbRR4yJIHZIi59H.png\"\
          ></a></p>\n"
        raw: "@obi77 \nso sry for my late reply, the result is fllowing \n![res.png](https://cdn-uploads.huggingface.co/production/uploads/62cb653ab189b6164d2eed00/YKjX9DTbRR4yJIHZIi59H.png)\n\
          \n\n"
        updatedAt: '2023-08-24T03:47:08.871Z'
      numEdits: 0
      reactions: []
    id: 64e6d2bc709dee6addb836ad
    type: comment
  author: ViperYX
  content: "@obi77 \nso sry for my late reply, the result is fllowing \n![res.png](https://cdn-uploads.huggingface.co/production/uploads/62cb653ab189b6164d2eed00/YKjX9DTbRR4yJIHZIi59H.png)\n\
    \n\n"
  created_at: 2023-08-24 02:47:08+00:00
  edited: false
  hidden: false
  id: 64e6d2bc709dee6addb836ad
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
      fullname: Xu Yang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ViperYX
      type: user
    createdAt: '2023-08-24T03:52:56.000Z'
    data:
      edited: false
      editors:
      - ViperYX
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6954067349433899
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f204128491da88597e4fe2608d6670d9.svg
          fullname: Xu Yang
          isHf: false
          isPro: false
          name: ViperYX
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;obi77&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/obi77\">@<span class=\"\
          underline\">obi77</span></a></span>\n\n\t</span></span><br>your code is\
          \ okay, but your condition image quality is really bad.<br>your conditinal\
          \ image size is <code>(250, 183)</code>, the resolution is extremely low\
          \ for SDXL, so i just directly using resize function on the canny edge image\
          \ and padding it to the square, then downsample it to the proper resolution.\
          \ And fed the downsampled image to the controlnet input. my code is fllowing:</p>\n\
          <pre><code class=\"language-python3\">prompt = \"relaxed Cat at the table\
          \ and holding a newspaper, anime style\"\nnegative_prompt = 'low quality,\
          \ bad quality, sketches'\n\nimage = load_image(\"https://i.imgflip.com/4/tau4.jpg\"\
          )\n\nimage = np.array(image)\nimage = cv2.Canny(image, 100, 200)\nimage\
          \ = image[:, :, None]\nimage = np.concatenate([image, image, image], axis=2)\n\
          image = Image.fromarray(image)\nh, w = image.size\n\nimage = image.resize((6*h,\
          \ 6*w))\n\nnew_image = Image.new(mode=\"RGB\", size=(6*h, 6*h), color=(0,0,0))\n\
          new_image.paste(image, ((new_image.size[0]-image.size[0])//2, (new_image.size[1]-image.size[1])//2))\n\
          \nnew_image = new_image.resize((1000, 1000))\n\nimages = pipe(\n    prompt,\
          \ negative_prompt=negative_prompt, image=new_image, controlnet_conditioning_scale=0.5,\n\
          \    ).images\n</code></pre>\n<p>BTW, I did't test this code on the Google\
          \ Colab, sicne free edition do not provide enough RAM, but the code work\
          \ on my desktop.:P</p>\n"
        raw: "@obi77 \nyour code is okay, but your condition image quality is really\
          \ bad.\nyour conditinal image size is `(250, 183)`, the resolution is extremely\
          \ low for SDXL, so i just directly using resize function on the canny edge\
          \ image and padding it to the square, then downsample it to the proper resolution.\
          \ And fed the downsampled image to the controlnet input. my code is fllowing:\n\
          ```python3\nprompt = \"relaxed Cat at the table and holding a newspaper,\
          \ anime style\"\nnegative_prompt = 'low quality, bad quality, sketches'\n\
          \nimage = load_image(\"https://i.imgflip.com/4/tau4.jpg\")\n\nimage = np.array(image)\n\
          image = cv2.Canny(image, 100, 200)\nimage = image[:, :, None]\nimage = np.concatenate([image,\
          \ image, image], axis=2)\nimage = Image.fromarray(image)\nh, w = image.size\n\
          \nimage = image.resize((6*h, 6*w))\n\nnew_image = Image.new(mode=\"RGB\"\
          , size=(6*h, 6*h), color=(0,0,0))\nnew_image.paste(image, ((new_image.size[0]-image.size[0])//2,\
          \ (new_image.size[1]-image.size[1])//2))\n\nnew_image = new_image.resize((1000,\
          \ 1000))\n\nimages = pipe(\n    prompt, negative_prompt=negative_prompt,\
          \ image=new_image, controlnet_conditioning_scale=0.5,\n    ).images\n\n\
          ```\n\nBTW, I did't test this code on the Google Colab, sicne free edition\
          \ do not provide enough RAM, but the code work on my desktop.:P\n\n\n"
        updatedAt: '2023-08-24T03:52:56.255Z'
      numEdits: 0
      reactions: []
    id: 64e6d418a24f7172fa6b58d0
    type: comment
  author: ViperYX
  content: "@obi77 \nyour code is okay, but your condition image quality is really\
    \ bad.\nyour conditinal image size is `(250, 183)`, the resolution is extremely\
    \ low for SDXL, so i just directly using resize function on the canny edge image\
    \ and padding it to the square, then downsample it to the proper resolution. And\
    \ fed the downsampled image to the controlnet input. my code is fllowing:\n```python3\n\
    prompt = \"relaxed Cat at the table and holding a newspaper, anime style\"\nnegative_prompt\
    \ = 'low quality, bad quality, sketches'\n\nimage = load_image(\"https://i.imgflip.com/4/tau4.jpg\"\
    )\n\nimage = np.array(image)\nimage = cv2.Canny(image, 100, 200)\nimage = image[:,\
    \ :, None]\nimage = np.concatenate([image, image, image], axis=2)\nimage = Image.fromarray(image)\n\
    h, w = image.size\n\nimage = image.resize((6*h, 6*w))\n\nnew_image = Image.new(mode=\"\
    RGB\", size=(6*h, 6*h), color=(0,0,0))\nnew_image.paste(image, ((new_image.size[0]-image.size[0])//2,\
    \ (new_image.size[1]-image.size[1])//2))\n\nnew_image = new_image.resize((1000,\
    \ 1000))\n\nimages = pipe(\n    prompt, negative_prompt=negative_prompt, image=new_image,\
    \ controlnet_conditioning_scale=0.5,\n    ).images\n\n```\n\nBTW, I did't test\
    \ this code on the Google Colab, sicne free edition do not provide enough RAM,\
    \ but the code work on my desktop.:P\n\n\n"
  created_at: 2023-08-24 02:52:56+00:00
  edited: false
  hidden: false
  id: 64e6d418a24f7172fa6b58d0
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: diffusers/controlnet-canny-sdxl-1.0
repo_type: model
status: open
target_branch: null
title: Please post a colab example
