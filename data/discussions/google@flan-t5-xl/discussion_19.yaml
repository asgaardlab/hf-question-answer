!!python/object:huggingface_hub.community.DiscussionWithDetails
author: anirudhmittal
conflicting_files: null
created_at: 2023-06-15 15:09:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3ccbaf864c8a113a10dfc695e19b1e12.svg
      fullname: Anirudh Mittal
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: anirudhmittal
      type: user
    createdAt: '2023-06-15T16:09:59.000Z'
    data:
      edited: false
      editors:
      - anirudhmittal
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9555108547210693
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3ccbaf864c8a113a10dfc695e19b1e12.svg
          fullname: Anirudh Mittal
          isHf: false
          isPro: false
          name: anirudhmittal
          type: user
        html: '<p>I am getting this error while loading the model. It seems like my
          current version of transformers is not compatible to handle sharded models.
          Is there a work around other than upgrading transformers?</p>

          '
        raw: I am getting this error while loading the model. It seems like my current
          version of transformers is not compatible to handle sharded models. Is there
          a work around other than upgrading transformers?
        updatedAt: '2023-06-15T16:09:59.053Z'
      numEdits: 0
      reactions: []
    id: 648b37d7be27fd317dd8456a
    type: comment
  author: anirudhmittal
  content: I am getting this error while loading the model. It seems like my current
    version of transformers is not compatible to handle sharded models. Is there a
    work around other than upgrading transformers?
  created_at: 2023-06-15 15:09:59+00:00
  edited: false
  hidden: false
  id: 648b37d7be27fd317dd8456a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7643b706fce9c011c0defbe67b4b52f7.svg
      fullname: Guilherme Calabria Lopes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: guicalabria
      type: user
    createdAt: '2023-07-31T16:39:32.000Z'
    data:
      edited: false
      editors:
      - guicalabria
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5201226472854614
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7643b706fce9c011c0defbe67b4b52f7.svg
          fullname: Guilherme Calabria Lopes
          isHf: false
          isPro: false
          name: guicalabria
          type: user
        html: "<p>I am having a similar problem.<br>Here is the log:</p>\n<pre><code>Loading\
          \ checkpoint shards:   0%|                                             \
          \                                                                      \
          \                                                              | 0/2 [00:05&lt;?,\
          \ ?it/s]\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 460, in load_state_dict\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 460, in load_state_dict\n    return torch.load(checkpoint_file, map_location=\"\
          cpu\")\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n    return torch.load(checkpoint_file, map_location=\"\
          cpu\")    return torch.load(checkpoint_file, map_location=\"cpu\")\n\n \
          \     File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\nreturn torch.load(checkpoint_file, map_location=\"\
          cpu\")      File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\nreturn torch.load(checkpoint_file, map_location=\"\
          cpu\")\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n    return torch.load(checkpoint_file, map_location=\"\
          cpu\")\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
          , line 36, in _inner_patch\n    return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    return _load(opened_zipfile, map_location, pickle_module,\
          \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n        return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    return _load(opened_zipfile, map_location, pickle_module,\
          \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    raise ex\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
          , line 34, in _inner_patch\n    result = unpickler.load()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n    result = unpickler.load()        \n\
          result = unpickler.load()result = unpickler.load()  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n        result = unpickler.load()\nret\
          \ = patched_fn(original_fn, *args, **kwargs)  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/pytorch_bind.py\"\
          , line 279, in _load\n    typed_storage = load_tensor(dtype, nbytes, key,\
          \ _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n        typed_storage = load_tensor(dtype,\
          \ nbytes, key, _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\ntyped_storage = load_tensor(dtype, nbytes,\
          \ key, _maybe_decode_ascii(location))\n      File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\ntyped_storage = load_tensor(dtype, nbytes,\
          \ key, _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n        model = original_fn(f, *args, **kwargs)typed_storage\
          \ = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\n\n \
          \ File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\n\nDuring\
          \ handling of the above exception, another exception occurred:\n\n\nTraceback\
          \ (most recent call last):\nOSError: [Errno 14] Bad address  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n\n\nDuring handling of the above exception,\
          \ another exception occurred:\n\nTraceback (most recent call last):\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
          , line 30, in _inner_patch\n: [Errno 14] Bad address\n\nDuring handling\
          \ of the above exception, another exception occurred:\n\nTraceback (most\
          \ recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    if f.read(7) == \"version\":\n  File\
          \ \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n        if f.read(7) == \"version\":\nif f.read(7)\
          \ == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    return original_fn(*args, **kwargs)\n  File \"\
          /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\n    UnicodeDecodeError    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\n(result, consumed) = self._buffer_decode(data, self.errors,\
          \ final): UnicodeDecodeError\n'utf-8' codec can't decode byte 0x80 in position\
          \ 64: invalid start byte\n    UnicodeDecodeErrorUnicodeDecodeError\n: \n\
          During handling of the above exception, another exception occurred:\n\n\
          : Traceback (most recent call last):\n'utf-8' codec can't decode byte 0x80\
          \ in position 64: invalid start byte  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in &lt;module&gt;\n: \n'utf-8' codec can't decode byte 0x80\
          \ in position 64: invalid start byte\n\nDuring handling of the above exception,\
          \ another exception occurred:\n\n'utf-8' codec can't decode byte 0x80 in\
          \ position 64: invalid start byte\nDuring handling of the above exception,\
          \ another exception occurred:\n\nTraceback (most recent call last):\n\n\
          Traceback (most recent call last):\n\nDuring handling of the above exception,\
          \ another exception occurred:\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in &lt;module&gt;\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in &lt;module&gt;\nTraceback (most recent call last):\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in &lt;module&gt;\n(result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte\
          \ 0x80 in position 64: invalid start byte\n\nDuring handling of the above\
          \ exception, another exception occurred:\n\nTraceback (most recent call\
          \ last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in &lt;module&gt;\n    result = unpickler.load()\n  File \"\
          /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n        main()\nmain()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n        main()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\nmain()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n        typed_storage = load_tensor(dtype, nbytes,\
          \ key, _maybe_decode_ascii(location))main()\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n        model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\nmodel = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n    ) = cls._load_pretrained_model(\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    ) = cls._load_pretrained_model(\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n        ) = cls._load_pretrained_model()\
          \ = cls._load_pretrained_model(\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n    if f.read(7) == \"version\"\
          :\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    ) = cls._load_pretrained_model(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte\
          \ 0x80 in position 64: invalid start byte\n\nDuring handling of the above\
          \ exception, another exception occurred:\n\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\nTraceback (most recent call last):\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in &lt;module&gt;\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load\
          \ weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n        raise OSError(state_dict = load_state_dict(shard_file)\n\
          \nOSError  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n: Unable to load weights from pytorch checkpoint\
          \ file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    main()\n    raise OSError(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\nOSError: Unable to load weights from pytorch checkpoint\
          \ file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    state_dict = load_state_dict(shard_file)\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load\
          \ weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    raise OSError(\nOSError: Unable to\
          \ load weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    ) = cls._load_pretrained_model(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load\
          \ weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\nERROR:torch.distributed.elastic.multiprocessing.api:failed\
          \ (exitcode: 1) local_rank: 0 (pid: 12446) of binary: /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/bin/python\n\
          Traceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/bin/torchrun\"\
          , line 8, in &lt;module&gt;\n    sys.exit(main())\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/elastic/multiprocessing/errors/__init__.py\"\
          , line 346, in wrapper\n    return f(*args, **kwargs)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/run.py\"\
          , line 794, in main\n    run(args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/run.py\"\
          , line 785, in run\n    elastic_launch(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/launcher/api.py\"\
          , line 134, in __call__\n    return launch_agent(self._config, self._entrypoint,\
          \ list(args))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/launcher/api.py\"\
          , line 250, in launch_agent\n    raise ChildFailedError(\ntorch.distributed.elastic.multiprocessing.errors.ChildFailedError:\
          \ \n</code></pre>\n<p>I am using python 3.10.4, <code>tokenizers==0.13.3</code>,\
          \ <code>torch==2.0.1+cu118</code>, and <code>transformers==4.31.0</code></p>\n"
        raw: "I am having a similar problem.\nHere is the log:\n```\nLoading checkpoint\
          \ shards:   0%|                                                        \
          \                                                                      \
          \                                                   | 0/2 [00:05<?, ?it/s]\n\
          Traceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 460, in load_state_dict\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 460, in load_state_dict\n    return torch.load(checkpoint_file, map_location=\"\
          cpu\")\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n    return torch.load(checkpoint_file, map_location=\"\
          cpu\")    return torch.load(checkpoint_file, map_location=\"cpu\")\n\n \
          \     File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\nreturn torch.load(checkpoint_file, map_location=\"\
          cpu\")      File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\nreturn torch.load(checkpoint_file, map_location=\"\
          cpu\")\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n    return torch.load(checkpoint_file, map_location=\"\
          cpu\")\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
          , line 36, in _inner_patch\n    return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    return _load(opened_zipfile, map_location, pickle_module,\
          \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n        return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    return _load(opened_zipfile, map_location, pickle_module,\
          \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    raise ex\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
          , line 34, in _inner_patch\n    result = unpickler.load()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n    result = unpickler.load()        \n\
          result = unpickler.load()result = unpickler.load()  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n        result = unpickler.load()\nret\
          \ = patched_fn(original_fn, *args, **kwargs)  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/pytorch_bind.py\"\
          , line 279, in _load\n    typed_storage = load_tensor(dtype, nbytes, key,\
          \ _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n        typed_storage = load_tensor(dtype,\
          \ nbytes, key, _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\ntyped_storage = load_tensor(dtype, nbytes,\
          \ key, _maybe_decode_ascii(location))\n      File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\ntyped_storage = load_tensor(dtype, nbytes,\
          \ key, _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n        model = original_fn(f, *args, **kwargs)typed_storage\
          \ = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\n\n \
          \ File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 809, in load\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\n\nDuring\
          \ handling of the above exception, another exception occurred:\n\n\nTraceback\
          \ (most recent call last):\nOSError: [Errno 14] Bad address  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n\n\nDuring handling of the above exception,\
          \ another exception occurred:\n\nTraceback (most recent call last):\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    return _load(opened_zipfile, map_location,\
          \ pickle_module, **pickle_load_args)\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
          , line 30, in _inner_patch\n: [Errno 14] Bad address\n\nDuring handling\
          \ of the above exception, another exception occurred:\n\nTraceback (most\
          \ recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    if f.read(7) == \"version\":\n  File\
          \ \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n        if f.read(7) == \"version\":\nif f.read(7)\
          \ == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    return original_fn(*args, **kwargs)\n  File \"\
          /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1172, in _load\n    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\n    UnicodeDecodeError    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\n(result, consumed) = self._buffer_decode(data, self.errors,\
          \ final): UnicodeDecodeError\n'utf-8' codec can't decode byte 0x80 in position\
          \ 64: invalid start byte\n    UnicodeDecodeErrorUnicodeDecodeError\n: \n\
          During handling of the above exception, another exception occurred:\n\n\
          : Traceback (most recent call last):\n'utf-8' codec can't decode byte 0x80\
          \ in position 64: invalid start byte  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in <module>\n: \n'utf-8' codec can't decode byte 0x80 in position\
          \ 64: invalid start byte\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\n'utf-8' codec can't decode byte 0x80 in position\
          \ 64: invalid start byte\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n\nTraceback\
          \ (most recent call last):\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in <module>\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in <module>\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in <module>\n(result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte\
          \ 0x80 in position 64: invalid start byte\n\nDuring handling of the above\
          \ exception, another exception occurred:\n\nTraceback (most recent call\
          \ last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in <module>\n    result = unpickler.load()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1142, in persistent_load\n        main()\nmain()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n        main()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\nmain()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n        typed_storage = load_tensor(dtype, nbytes,\
          \ key, _maybe_decode_ascii(location))main()\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\n        model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\nmodel = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
          , line 1112, in load_tensor\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    storage = zip_file.get_storage_from_record(name,\
          \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError:\
          \ [Errno 14] Bad address\n\nDuring handling of the above exception, another\
          \ exception occurred:\n\nTraceback (most recent call last):\n    ) = cls._load_pretrained_model(\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 464, in load_state_dict\n    ) = cls._load_pretrained_model(\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n        ) = cls._load_pretrained_model()\
          \ = cls._load_pretrained_model(\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n    if f.read(7) == \"version\"\
          :\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
          , line 322, in decode\n    ) = cls._load_pretrained_model(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n    (result, consumed) = self._buffer_decode(data,\
          \ self.errors, final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte\
          \ 0x80 in position 64: invalid start byte\n\nDuring handling of the above\
          \ exception, another exception occurred:\n\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\nTraceback (most recent call last):\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 391, in <module>\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load\
          \ weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n        raise OSError(state_dict = load_state_dict(shard_file)\n\
          \nOSError  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n: Unable to load weights from pytorch checkpoint\
          \ file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    main()\n    raise OSError(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
          , line 329, in main\nOSError: Unable to load weights from pytorch checkpoint\
          \ file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    state_dict = load_state_dict(shard_file)\n  File\
          \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load\
          \ weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
          \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 2903, in from_pretrained\n    raise OSError(\nOSError: Unable to\
          \ load weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\n    ) = cls._load_pretrained_model(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 3246, in _load_pretrained_model\n    state_dict = load_state_dict(shard_file)\n\
          \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
          , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load\
          \ weights from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
          \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\nERROR:torch.distributed.elastic.multiprocessing.api:failed\
          \ (exitcode: 1) local_rank: 0 (pid: 12446) of binary: /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/bin/python\n\
          Traceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/bin/torchrun\"\
          , line 8, in <module>\n    sys.exit(main())\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/elastic/multiprocessing/errors/__init__.py\"\
          , line 346, in wrapper\n    return f(*args, **kwargs)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/run.py\"\
          , line 794, in main\n    run(args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/run.py\"\
          , line 785, in run\n    elastic_launch(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/launcher/api.py\"\
          , line 134, in __call__\n    return launch_agent(self._config, self._entrypoint,\
          \ list(args))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/launcher/api.py\"\
          , line 250, in launch_agent\n    raise ChildFailedError(\ntorch.distributed.elastic.multiprocessing.errors.ChildFailedError:\
          \ \n```\nI am using python 3.10.4, `tokenizers==0.13.3`, `torch==2.0.1+cu118`,\
          \ and `transformers==4.31.0`\n\n"
        updatedAt: '2023-07-31T16:39:32.219Z'
      numEdits: 0
      reactions: []
    id: 64c7e3c4cb2f1bf0e7a55d98
    type: comment
  author: guicalabria
  content: "I am having a similar problem.\nHere is the log:\n```\nLoading checkpoint\
    \ shards:   0%|                                                              \
    \                                                                            \
    \                                       | 0/2 [00:05<?, ?it/s]\nTraceback (most\
    \ recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 460, in load_state_dict\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 460, in load_state_dict\n    return torch.load(checkpoint_file, map_location=\"\
    cpu\")\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 809, in load\n    return torch.load(checkpoint_file, map_location=\"cpu\"\
    )    return torch.load(checkpoint_file, map_location=\"cpu\")\n\n      File \"\
    /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 809, in load\nreturn torch.load(checkpoint_file, map_location=\"cpu\")\
    \      File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 809, in load\nreturn torch.load(checkpoint_file, map_location=\"cpu\")\n\
    \n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 809, in load\n    return torch.load(checkpoint_file, map_location=\"cpu\"\
    )\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 809, in load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
    , line 36, in _inner_patch\n    return _load(opened_zipfile, map_location, pickle_module,\
    \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1172, in _load\n    return _load(opened_zipfile, map_location, pickle_module,\
    \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1172, in _load\n        return _load(opened_zipfile, map_location, pickle_module,\
    \ **pickle_load_args)return _load(opened_zipfile, map_location, pickle_module,\
    \ **pickle_load_args)\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1172, in _load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1172, in _load\n    return _load(opened_zipfile, map_location, pickle_module,\
    \ **pickle_load_args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1172, in _load\n    raise ex\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
    , line 34, in _inner_patch\n    result = unpickler.load()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1142, in persistent_load\n    result = unpickler.load()        \nresult\
    \ = unpickler.load()result = unpickler.load()  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1142, in persistent_load\n\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1142, in persistent_load\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1142, in persistent_load\n        result = unpickler.load()\nret = patched_fn(original_fn,\
    \ *args, **kwargs)  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1142, in persistent_load\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/pytorch_bind.py\"\
    , line 279, in _load\n    typed_storage = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1112, in load_tensor\n        typed_storage = load_tensor(dtype, nbytes,\
    \ key, _maybe_decode_ascii(location))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1112, in load_tensor\ntyped_storage = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\n\
    \      File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1112, in load_tensor\ntyped_storage = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1112, in load_tensor\n        model = original_fn(f, *args, **kwargs)typed_storage\
    \ = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))\n\n  File \"\
    /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1112, in load_tensor\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 809, in load\n    storage = zip_file.get_storage_from_record(name, numel,\
    \ torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError: [Errno 14]\
    \ Bad address\n\nDuring handling of the above exception, another exception occurred:\n\
    \nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 464, in load_state_dict\n    storage = zip_file.get_storage_from_record(name,\
    \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError: [Errno\
    \ 14] Bad address    storage = zip_file.get_storage_from_record(name, numel, torch.UntypedStorage)._typed_storage()._untyped_storage\n\
    \nDuring handling of the above exception, another exception occurred:\n\n\nTraceback\
    \ (most recent call last):\nOSError: [Errno 14] Bad address  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 464, in load_state_dict\n\n\nDuring handling of the above exception, another\
    \ exception occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 464, in load_state_dict\n    storage = zip_file.get_storage_from_record(name,\
    \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError: [Errno\
    \ 14] Bad address\n\nDuring handling of the above exception, another exception\
    \ occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 464, in load_state_dict\n    return _load(opened_zipfile, map_location,\
    \ pickle_module, **pickle_load_args)\n    storage = zip_file.get_storage_from_record(name,\
    \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError  File\
    \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/clearml/binding/frameworks/__init__.py\"\
    , line 30, in _inner_patch\n: [Errno 14] Bad address\n\nDuring handling of the\
    \ above exception, another exception occurred:\n\nTraceback (most recent call\
    \ last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 464, in load_state_dict\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
    , line 322, in decode\n        if f.read(7) == \"version\":\nif f.read(7) == \"\
    version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
    , line 322, in decode\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
    , line 322, in decode\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
    , line 322, in decode\n    if f.read(7) == \"version\":\n  File \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\"\
    , line 322, in decode\n    return original_fn(*args, **kwargs)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1172, in _load\n    (result, consumed) = self._buffer_decode(data, self.errors,\
    \ final)    (result, consumed) = self._buffer_decode(data, self.errors, final)\n\
    \    UnicodeDecodeError    (result, consumed) = self._buffer_decode(data, self.errors,\
    \ final)\n(result, consumed) = self._buffer_decode(data, self.errors, final):\
    \ UnicodeDecodeError\n'utf-8' codec can't decode byte 0x80 in position 64: invalid\
    \ start byte\n    UnicodeDecodeErrorUnicodeDecodeError\n: \nDuring handling of\
    \ the above exception, another exception occurred:\n\n: Traceback (most recent\
    \ call last):\n'utf-8' codec can't decode byte 0x80 in position 64: invalid start\
    \ byte  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 391, in <module>\n: \n'utf-8' codec can't decode byte 0x80 in position\
    \ 64: invalid start byte\n\nDuring handling of the above exception, another exception\
    \ occurred:\n\n'utf-8' codec can't decode byte 0x80 in position 64: invalid start\
    \ byte\nDuring handling of the above exception, another exception occurred:\n\n\
    Traceback (most recent call last):\n\nTraceback (most recent call last):\n\nDuring\
    \ handling of the above exception, another exception occurred:\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 391, in <module>\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 391, in <module>\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 391, in <module>\n(result, consumed) = self._buffer_decode(data, self.errors,\
    \ final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x80 in position\
    \ 64: invalid start byte\n\nDuring handling of the above exception, another exception\
    \ occurred:\n\nTraceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 391, in <module>\n    result = unpickler.load()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1142, in persistent_load\n        main()\nmain()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 329, in main\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 329, in main\n        main()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 329, in main\nmain()\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 329, in main\n        typed_storage = load_tensor(dtype, nbytes, key, _maybe_decode_ascii(location))main()\n\
    \n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 329, in main\n        model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
    \ cache_dir='cache')\nmodel = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
    \ cache_dir='cache')  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2903, in from_pretrained\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2903, in from_pretrained\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/serialization.py\"\
    , line 1112, in load_tensor\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
    \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2903, in from_pretrained\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
    \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2903, in from_pretrained\n    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name,\
    \ cache_dir='cache')\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2903, in from_pretrained\n    storage = zip_file.get_storage_from_record(name,\
    \ numel, torch.UntypedStorage)._typed_storage()._untyped_storage\nOSError: [Errno\
    \ 14] Bad address\n\nDuring handling of the above exception, another exception\
    \ occurred:\n\nTraceback (most recent call last):\n    ) = cls._load_pretrained_model(\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 3246, in _load_pretrained_model\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 464, in load_state_dict\n    ) = cls._load_pretrained_model(\n  File \"\
    /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 3246, in _load_pretrained_model\n        ) = cls._load_pretrained_model()\
    \ = cls._load_pretrained_model(\n\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 3246, in _load_pretrained_model\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 3246, in _load_pretrained_model\n    if f.read(7) == \"version\":\n  File\
    \ \"/sw/installed/Python/3.10.4-GCCcore-11.3.0/lib/python3.10/codecs.py\", line\
    \ 322, in decode\n    ) = cls._load_pretrained_model(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 3246, in _load_pretrained_model\n    (result, consumed) = self._buffer_decode(data,\
    \ self.errors, final)\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x80\
    \ in position 64: invalid start byte\n\nDuring handling of the above exception,\
    \ another exception occurred:\n\n    state_dict = load_state_dict(shard_file)\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 476, in load_state_dict\nTraceback (most recent call last):\n  File \"\
    /beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 391, in <module>\n    state_dict = load_state_dict(shard_file)\n  File\
    \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 476, in load_state_dict\n    state_dict = load_state_dict(shard_file)\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load weights\
    \ from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
    \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
    \        raise OSError(state_dict = load_state_dict(shard_file)\n\nOSError  File\
    \ \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 476, in load_state_dict\n: Unable to load weights from pytorch checkpoint\
    \ file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
    \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
    \    main()\n    raise OSError(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/diplomarbeit/DSI-QG/run_arqm_clearml.py\"\
    , line 329, in main\nOSError: Unable to load weights from pytorch checkpoint file\
    \ for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
    \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
    \    state_dict = load_state_dict(shard_file)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load weights\
    \ from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
    \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
    \    model = T5ForConditionalGeneration.from_pretrained(run_args.model_name, cache_dir='cache')\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 2903, in from_pretrained\n    raise OSError(\nOSError: Unable to load weights\
    \ from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
    \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
    \    ) = cls._load_pretrained_model(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 3246, in _load_pretrained_model\n    state_dict = load_state_dict(shard_file)\n\
    \  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/transformers/modeling_utils.py\"\
    , line 476, in load_state_dict\n    raise OSError(\nOSError: Unable to load weights\
    \ from pytorch checkpoint file for 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'\
    \ at 'cache/models--google--flan-t5-xl/snapshots/8772db7a7a11f7b08e6be7d7088f7a7fd4813bc5/pytorch_model-00001-of-00002.bin'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
    ERROR:torch.distributed.elastic.multiprocessing.api:failed (exitcode: 1) local_rank:\
    \ 0 (pid: 12446) of binary: /beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/bin/python\n\
    Traceback (most recent call last):\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/bin/torchrun\"\
    , line 8, in <module>\n    sys.exit(main())\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/elastic/multiprocessing/errors/__init__.py\"\
    , line 346, in wrapper\n    return f(*args, **kwargs)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/run.py\"\
    , line 794, in main\n    run(args)\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/run.py\"\
    , line 785, in run\n    elastic_launch(\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/launcher/api.py\"\
    , line 134, in __call__\n    return launch_agent(self._config, self._entrypoint,\
    \ list(args))\n  File \"/beegfs/.global0/ws/s7949670-diplomarbeit/kernels/diplomarbeit-py310-no-tensorflow/lib/python3.10/site-packages/torch/distributed/launcher/api.py\"\
    , line 250, in launch_agent\n    raise ChildFailedError(\ntorch.distributed.elastic.multiprocessing.errors.ChildFailedError:\
    \ \n```\nI am using python 3.10.4, `tokenizers==0.13.3`, `torch==2.0.1+cu118`,\
    \ and `transformers==4.31.0`\n\n"
  created_at: 2023-07-31 15:39:32+00:00
  edited: false
  hidden: false
  id: 64c7e3c4cb2f1bf0e7a55d98
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7643b706fce9c011c0defbe67b4b52f7.svg
      fullname: Guilherme Calabria Lopes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: guicalabria
      type: user
    createdAt: '2023-08-28T08:02:06.000Z'
    data:
      edited: false
      editors:
      - guicalabria
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9985811114311218
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7643b706fce9c011c0defbe67b4b52f7.svg
          fullname: Guilherme Calabria Lopes
          isHf: false
          isPro: false
          name: guicalabria
          type: user
        html: '<p>Apparently, this was caused because I did not have enough RAM memory.</p>

          '
        raw: Apparently, this was caused because I did not have enough RAM memory.
        updatedAt: '2023-08-28T08:02:06.507Z'
      numEdits: 0
      reactions: []
    id: 64ec547e269384f6dcb8ac40
    type: comment
  author: guicalabria
  content: Apparently, this was caused because I did not have enough RAM memory.
  created_at: 2023-08-28 07:02:06+00:00
  edited: false
  hidden: false
  id: 64ec547e269384f6dcb8ac40
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618450692745-5e3aec01f55e2b62848a5217.jpeg?w=200&h=200&f=face
      fullname: Lysandre
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: lysandre
      type: user
    createdAt: '2023-09-04T21:19:57.000Z'
    data:
      edited: true
      editors:
      - lysandre
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9362982511520386
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618450692745-5e3aec01f55e2b62848a5217.jpeg?w=200&h=200&f=face
          fullname: Lysandre
          isHf: true
          isPro: false
          name: lysandre
          type: user
        html: "<p>Your error <span data-props=\"{&quot;user&quot;:&quot;guicalabria&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/guicalabria\"\
          >@<span class=\"underline\">guicalabria</span></a></span>\n\n\t</span></span>\
          \ indeed seems linked to a lack of RAM.</p>\n<p><span data-props=\"{&quot;user&quot;:&quot;anirudhmittal&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/anirudhmittal\"\
          >@<span class=\"underline\">anirudhmittal</span></a></span>\n\n\t</span></span>\
          \ this can also be due to a connection error. Could you try again and share\
          \ the stack trace please?</p>\n"
        raw: 'Your error @guicalabria indeed seems linked to a lack of RAM.


          @anirudhmittal this can also be due to a connection error. Could you try
          again and share the stack trace please?'
        updatedAt: '2023-09-04T21:20:08.551Z'
      numEdits: 1
      reactions: []
    id: 64f649fdcde9cb2cd8db8646
    type: comment
  author: lysandre
  content: 'Your error @guicalabria indeed seems linked to a lack of RAM.


    @anirudhmittal this can also be due to a connection error. Could you try again
    and share the stack trace please?'
  created_at: 2023-09-04 20:19:57+00:00
  edited: true
  hidden: false
  id: 64f649fdcde9cb2cd8db8646
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 19
repo_id: google/flan-t5-xl
repo_type: model
status: open
target_branch: null
title: 'OSError: google/flan-t5-xl does not appear to have a file named pytorch_model.bin,
  tf_model.h5, model.ckpt or flax_model.msgpack.'
