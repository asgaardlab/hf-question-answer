!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Imathenerd
conflicting_files: null
created_at: 2023-10-05 17:46:22+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a18a93471c139f4446c4dae7b33a2c39.svg
      fullname: Scott Sumpter
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Imathenerd
      type: user
    createdAt: '2023-10-05T18:46:22.000Z'
    data:
      edited: false
      editors:
      - Imathenerd
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.28287526965141296
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a18a93471c139f4446c4dae7b33a2c39.svg
          fullname: Scott Sumpter
          isHf: false
          isPro: false
          name: Imathenerd
          type: user
        html: '<p>I tried 2 different 4bit branches (32g and main) and both of them
          come up with this error:</p>

          <p>Traceback (most recent call last):<br>File "c:\Users\Scott\VSC_Source\LLM_DB\EXLLAMAv2y
          production.py", line 181, in<br>output = generator.generate_simple(prompt,settings,max_new_tokens)<br>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br>File
          "C:\Users\Scott\anaconda3\envs\ELLAMA\Lib\site-packages\exllamav2\generator\base.py",
          line 60, in generate_simple<br>token, _ = ExLlamaV2Sampler.sample(logits,
          gen_settings, self.sequence_ids, random.random())<br>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br>File
          "C:\Users\Scott\anaconda3\envs\ELLAMA\Lib\site-packages\exllamav2\generator\sampler.py",
          line 63, in sample<br>if settings.token_bias is not None: logits += settings.token_bias<br>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^<br>RuntimeError:
          The size of tensor a (32032) must match the size of tensor b (32002) at
          non-singleton dimension 1</p>

          '
        raw: "I tried 2 different 4bit branches (32g and main) and both of them come\
          \ up with this error:\r\n\r\nTraceback (most recent call last):\r\nFile\
          \ \"c:\\Users\\Scott\\VSC_Source\\LLM_DB\\EXLLAMAv2y production.py\", line\
          \ 181, in\r\noutput = generator.generate_simple(prompt,settings,max_new_tokens)\r\
          \n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nFile \"C:\\\
          Users\\Scott\\anaconda3\\envs\\ELLAMA\\Lib\\site-packages\\exllamav2\\generator\\\
          base.py\", line 60, in generate_simple\r\ntoken, _ = ExLlamaV2Sampler.sample(logits,\
          \ gen_settings, self.sequence_ids, random.random())\r\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\
          \nFile \"C:\\Users\\Scott\\anaconda3\\envs\\ELLAMA\\Lib\\site-packages\\\
          exllamav2\\generator\\sampler.py\", line 63, in sample\r\nif settings.token_bias\
          \ is not None: logits += settings.token_bias\r\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\
          \nRuntimeError: The size of tensor a (32032) must match the size of tensor\
          \ b (32002) at non-singleton dimension 1"
        updatedAt: '2023-10-05T18:46:22.995Z'
      numEdits: 0
      reactions: []
    id: 651f047e9ce7f94e057a8a7a
    type: comment
  author: Imathenerd
  content: "I tried 2 different 4bit branches (32g and main) and both of them come\
    \ up with this error:\r\n\r\nTraceback (most recent call last):\r\nFile \"c:\\\
    Users\\Scott\\VSC_Source\\LLM_DB\\EXLLAMAv2y production.py\", line 181, in\r\n\
    output = generator.generate_simple(prompt,settings,max_new_tokens)\r\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\
    \nFile \"C:\\Users\\Scott\\anaconda3\\envs\\ELLAMA\\Lib\\site-packages\\exllamav2\\\
    generator\\base.py\", line 60, in generate_simple\r\ntoken, _ = ExLlamaV2Sampler.sample(logits,\
    \ gen_settings, self.sequence_ids, random.random())\r\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\
    \nFile \"C:\\Users\\Scott\\anaconda3\\envs\\ELLAMA\\Lib\\site-packages\\exllamav2\\\
    generator\\sampler.py\", line 63, in sample\r\nif settings.token_bias is not None:\
    \ logits += settings.token_bias\r\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nRuntimeError:\
    \ The size of tensor a (32032) must match the size of tensor b (32002) at non-singleton\
    \ dimension 1"
  created_at: 2023-10-05 17:46:22+00:00
  edited: false
  hidden: false
  id: 651f047e9ce7f94e057a8a7a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: TheBloke/Mistral-7B-OpenOrca-GPTQ
repo_type: model
status: open
target_branch: null
title: Tensor Mismatch
