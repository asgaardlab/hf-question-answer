!!python/object:huggingface_hub.community.DiscussionWithDetails
author: garystafford
conflicting_files: null
created_at: 2023-06-04 16:14:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/1AltROWohmoRop3-QeimM.png?w=200&h=200&f=face
      fullname: Gary Stafford
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: garystafford
      type: user
    createdAt: '2023-06-04T17:14:08.000Z'
    data:
      edited: false
      editors:
      - garystafford
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7704604268074036
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/1AltROWohmoRop3-QeimM.png?w=200&h=200&f=face
          fullname: Gary Stafford
          isHf: false
          isPro: false
          name: garystafford
          type: user
        html: '<p>Probably a simple mistake with this gated model, when deploying
          the model to Amazon SageMaker, using the supplied code in the Deploy tab,
          I am getting the following error. I have accepted the terms of the model
          in the UI and can use it in the playground.</p>

          <pre><code class="language-text">huggingface_hub.utils._errors.RepositoryNotFoundError:
          401 Client Error. (Request ID: Root=1-647cad52-09f2293b191bde6a363fbafd)

          Repository Not Found for url: https://huggingface.co/api/models/bigcode/starcoder.

          Please make sure you specified the correct `repo_id` and `repo_type`.

          If you are trying to access a private or gated repo, make sure you are authenticated.

          Invalid username or password.

          </code></pre>

          '
        raw: "Probably a simple mistake with this gated model, when deploying the\
          \ model to Amazon SageMaker, using the supplied code in the Deploy tab,\
          \ I am getting the following error. I have accepted the terms of the model\
          \ in the UI and can use it in the playground.\r\n\r\n```text\r\nhuggingface_hub.utils._errors.RepositoryNotFoundError:\
          \ 401 Client Error. (Request ID: Root=1-647cad52-09f2293b191bde6a363fbafd)\r\
          \nRepository Not Found for url: https://huggingface.co/api/models/bigcode/starcoder.\r\
          \nPlease make sure you specified the correct `repo_id` and `repo_type`.\r\
          \nIf you are trying to access a private or gated repo, make sure you are\
          \ authenticated.\r\nInvalid username or password.\r\n```"
        updatedAt: '2023-06-04T17:14:08.495Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - albertd
        - ecapital-datasci
    id: 647cc660adaf5cc26da7a5f1
    type: comment
  author: garystafford
  content: "Probably a simple mistake with this gated model, when deploying the model\
    \ to Amazon SageMaker, using the supplied code in the Deploy tab, I am getting\
    \ the following error. I have accepted the terms of the model in the UI and can\
    \ use it in the playground.\r\n\r\n```text\r\nhuggingface_hub.utils._errors.RepositoryNotFoundError:\
    \ 401 Client Error. (Request ID: Root=1-647cad52-09f2293b191bde6a363fbafd)\r\n\
    Repository Not Found for url: https://huggingface.co/api/models/bigcode/starcoder.\r\
    \nPlease make sure you specified the correct `repo_id` and `repo_type`.\r\nIf\
    \ you are trying to access a private or gated repo, make sure you are authenticated.\r\
    \nInvalid username or password.\r\n```"
  created_at: 2023-06-04 16:14:08+00:00
  edited: false
  hidden: false
  id: 647cc660adaf5cc26da7a5f1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1018dd34e29a13c4fbe9273f33ee3d3d.svg
      fullname: AI Safety Research
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AISafety
      type: user
    createdAt: '2023-06-05T05:39:25.000Z'
    data:
      edited: false
      editors:
      - AISafety
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9651135802268982
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1018dd34e29a13c4fbe9273f33ee3d3d.svg
          fullname: AI Safety Research
          isHf: false
          isPro: false
          name: AISafety
          type: user
        html: '<p>I have no experience with this error but in general it might be
          useful to see the full python traceback which will show the line on which
          it failed.</p>

          '
        raw: I have no experience with this error but in general it might be useful
          to see the full python traceback which will show the line on which it failed.
        updatedAt: '2023-06-05T05:39:25.763Z'
      numEdits: 0
      reactions: []
    id: 647d750d83c62f324935492a
    type: comment
  author: AISafety
  content: I have no experience with this error but in general it might be useful
    to see the full python traceback which will show the line on which it failed.
  created_at: 2023-06-05 04:39:25+00:00
  edited: false
  hidden: false
  id: 647d750d83c62f324935492a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/71f1f14de57866e8ee5c4166869f14d8.svg
      fullname: Albert D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: albertd
      type: user
    createdAt: '2023-06-05T09:34:42.000Z'
    data:
      edited: false
      editors:
      - albertd
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8070455193519592
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/71f1f14de57866e8ee5c4166869f14d8.svg
          fullname: Albert D
          isHf: false
          isPro: false
          name: albertd
          type: user
        html: '<p>Got the same problem, even if i try to login with the cli</p>

          '
        raw: Got the same problem, even if i try to login with the cli
        updatedAt: '2023-06-05T09:34:42.901Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - garystafford
    id: 647dac325214d172cbb0bf40
    type: comment
  author: albertd
  content: Got the same problem, even if i try to login with the cli
  created_at: 2023-06-05 08:34:42+00:00
  edited: false
  hidden: false
  id: 647dac325214d172cbb0bf40
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/30ca6cec3b2ade1259e443e7889f3d15.svg
      fullname: Deng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dzh1121
      type: user
    createdAt: '2023-06-05T20:22:26.000Z'
    data:
      edited: false
      editors:
      - dzh1121
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.993574321269989
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/30ca6cec3b2ade1259e443e7889f3d15.svg
          fullname: Deng
          isHf: false
          isPro: false
          name: dzh1121
          type: user
        html: '<p>maybe try this page first?<br>I''m also struggling with same issue.</p>

          '
        raw: 'maybe try this page first?

          I''m also struggling with same issue.'
        updatedAt: '2023-06-05T20:22:26.705Z'
      numEdits: 0
      reactions: []
    id: 647e44025214d172cbc4da91
    type: comment
  author: dzh1121
  content: 'maybe try this page first?

    I''m also struggling with same issue.'
  created_at: 2023-06-05 19:22:26+00:00
  edited: false
  hidden: false
  id: 647e44025214d172cbc4da91
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/1AltROWohmoRop3-QeimM.png?w=200&h=200&f=face
      fullname: Gary Stafford
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: garystafford
      type: user
    createdAt: '2023-06-06T01:31:09.000Z'
    data:
      edited: true
      editors:
      - garystafford
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9864379167556763
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/1AltROWohmoRop3-QeimM.png?w=200&h=200&f=face
          fullname: Gary Stafford
          isHf: false
          isPro: false
          name: garystafford
          type: user
        html: "<blockquote>\n<p>maybe try this page first?<br>I'm also struggling\
          \ with same issue.</p>\n</blockquote>\n<p><span data-props=\"{&quot;user&quot;:&quot;dzh1121&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/dzh1121\"\
          >@<span class=\"underline\">dzh1121</span></a></span>\n\n\t</span></span>\
          \ which page?</p>\n"
        raw: '> maybe try this page first?

          > I''m also struggling with same issue.


          @dzh1121 which page?'
        updatedAt: '2023-06-06T01:31:31.008Z'
      numEdits: 1
      reactions: []
    id: 647e8c5d32c471a7fa9e6b64
    type: comment
  author: garystafford
  content: '> maybe try this page first?

    > I''m also struggling with same issue.


    @dzh1121 which page?'
  created_at: 2023-06-06 00:31:09+00:00
  edited: true
  hidden: false
  id: 647e8c5d32c471a7fa9e6b64
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678398380100-noauth.png?w=200&h=200&f=face
      fullname: Nelson Gonzalez
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: nelsonspbr
      type: user
    createdAt: '2023-06-08T03:06:16.000Z'
    data:
      edited: false
      editors:
      - nelsonspbr
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.22490853071212769
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1678398380100-noauth.png?w=200&h=200&f=face
          fullname: Nelson Gonzalez
          isHf: false
          isPro: false
          name: nelsonspbr
          type: user
        html: '<p>Same here....</p>

          '
        raw: Same here....
        updatedAt: '2023-06-08T03:06:16.404Z'
      numEdits: 0
      reactions: []
    id: 648145a840facadc55799b33
    type: comment
  author: nelsonspbr
  content: Same here....
  created_at: 2023-06-08 02:06:16+00:00
  edited: false
  hidden: false
  id: 648145a840facadc55799b33
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/279bc62e2c3c47e67952f85dadad687a.svg
      fullname: J Gro
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: grohj
      type: user
    createdAt: '2023-06-19T13:03:00.000Z'
    data:
      edited: false
      editors:
      - grohj
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.41693541407585144
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/279bc62e2c3c47e67952f85dadad687a.svg
          fullname: J Gro
          isHf: false
          isPro: false
          name: grohj
          type: user
        html: '<p>Same here, any updates?</p>

          '
        raw: Same here, any updates?
        updatedAt: '2023-06-19T13:03:00.254Z'
      numEdits: 0
      reactions: []
    id: 64905204231a197da75aefde
    type: comment
  author: grohj
  content: Same here, any updates?
  created_at: 2023-06-19 12:03:00+00:00
  edited: false
  hidden: false
  id: 64905204231a197da75aefde
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/279bc62e2c3c47e67952f85dadad687a.svg
      fullname: J Gro
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: grohj
      type: user
    createdAt: '2023-06-19T19:50:32.000Z'
    data:
      edited: true
      editors:
      - grohj
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8427798748016357
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/279bc62e2c3c47e67952f85dadad687a.svg
          fullname: J Gro
          isHf: false
          isPro: false
          name: grohj
          type: user
        html: "<p>Friends, at long last I figured what on earth you need to do to\
          \ auth yourself. For some reason methods like <code>notebook_login</code>\
          \ are bugged out. </p>\n<p>You actually need to supply the HF token into\
          \ the <code>env</code> or <code>hub</code>. Something like this:</p>\n<pre><code>hub\
          \ = {\n    'HF_MODEL_ID':'bigcode/starcoder',\n    'SM_NUM_GPUS': json.dumps(1),\n\
          \    'HF_API_TOKEN': \"&lt;YOUR HF TOKEN&gt;\",\n    'HUGGING_FACE_HUB_TOKEN':\
          \ \"&lt;YOUR HF TOKEN&gt;\"\n}\n</code></pre>\n<p>After that it worked for\
          \ me. Finally I do not know if you need both entries, I'm keeping them.\
          \ Experiment on your own.</p>\n"
        raw: "Friends, at long last I figured what on earth you need to do to auth\
          \ yourself. For some reason methods like `notebook_login` are bugged out.\
          \ \n\n\nYou actually need to supply the HF token into the `env` or `hub`.\
          \ Something like this:\n\n\n```\nhub = {\n    'HF_MODEL_ID':'bigcode/starcoder',\n\
          \    'SM_NUM_GPUS': json.dumps(1),\n    'HF_API_TOKEN': \"<YOUR HF TOKEN>\"\
          ,\n    'HUGGING_FACE_HUB_TOKEN': \"<YOUR HF TOKEN>\"\n}\n```\n\nAfter that\
          \ it worked for me. Finally I do not know if you need both entries, I'm\
          \ keeping them. Experiment on your own."
        updatedAt: '2023-06-19T19:50:50.410Z'
      numEdits: 1
      reactions:
      - count: 6
        reaction: "\u2764\uFE0F"
        users:
        - albertd
        - garystafford
        - ajdstein
        - jeff1jeffo
        - mattcoulter7
        - dzh1121
      - count: 1
        reaction: "\U0001F917"
        users:
        - ecapital-datasci
    id: 6490b188a0c93fb1a0efbae4
    type: comment
  author: grohj
  content: "Friends, at long last I figured what on earth you need to do to auth yourself.\
    \ For some reason methods like `notebook_login` are bugged out. \n\n\nYou actually\
    \ need to supply the HF token into the `env` or `hub`. Something like this:\n\n\
    \n```\nhub = {\n    'HF_MODEL_ID':'bigcode/starcoder',\n    'SM_NUM_GPUS': json.dumps(1),\n\
    \    'HF_API_TOKEN': \"<YOUR HF TOKEN>\",\n    'HUGGING_FACE_HUB_TOKEN': \"<YOUR\
    \ HF TOKEN>\"\n}\n```\n\nAfter that it worked for me. Finally I do not know if\
    \ you need both entries, I'm keeping them. Experiment on your own."
  created_at: 2023-06-19 18:50:32+00:00
  edited: true
  hidden: false
  id: 6490b188a0c93fb1a0efbae4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9e73a36554339823f61bdc9f60a5d7a7.svg
      fullname: Andrew Duberstein
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ajdstein
      type: user
    createdAt: '2023-06-21T01:49:48.000Z'
    data:
      edited: false
      editors:
      - ajdstein
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9e73a36554339823f61bdc9f60a5d7a7.svg
          fullname: Andrew Duberstein
          isHf: false
          isPro: false
          name: ajdstein
          type: user
        html: "<p>Thanks, <span data-props=\"{&quot;user&quot;:&quot;grohj&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/grohj\"\
          >@<span class=\"underline\">grohj</span></a></span>\n\n\t</span></span>!\
          \ Turns out you actually only need the <code>HUGGING_FACE_HUB_TOKEN</code>.</p>\n"
        raw: Thanks, @grohj! Turns out you actually only need the `HUGGING_FACE_HUB_TOKEN`.
        updatedAt: '2023-06-21T01:49:48.916Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - garystafford
        - djokowsj90
        - ashivadi
      - count: 1
        reaction: "\U0001F917"
        users:
        - ecapital-datasci
    id: 6492573c502c0f0d3d237a14
    type: comment
  author: ajdstein
  content: Thanks, @grohj! Turns out you actually only need the `HUGGING_FACE_HUB_TOKEN`.
  created_at: 2023-06-21 00:49:48+00:00
  edited: false
  hidden: false
  id: 6492573c502c0f0d3d237a14
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9dcb60e8d4250bc94b220ebf7a521c3a.svg
      fullname: Jeremy Wang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: djokowsj90
      type: user
    createdAt: '2023-07-02T19:33:36.000Z'
    data:
      edited: false
      editors:
      - djokowsj90
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9398295879364014
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9dcb60e8d4250bc94b220ebf7a521c3a.svg
          fullname: Jeremy Wang
          isHf: false
          isPro: false
          name: djokowsj90
          type: user
        html: '<p>I passed the HUGGING_FACE_HUB_TOKEN issue.<br>But it seems Sagemaker
          expects one bin file "model.pth" but this repo has many bin files like "pytorch_model-00003-of-00007.bin"<br>I
          don''t think I can simply concat those bin files.<br>Any one has encountered
          this issue?</p>

          '
        raw: "I passed the HUGGING_FACE_HUB_TOKEN issue.\nBut it seems Sagemaker expects\
          \ one bin file \"model.pth\" but this repo has many bin files like \"pytorch_model-00003-of-00007.bin\"\
          \nI don't think I can simply concat those bin files. \nAny one has encountered\
          \ this issue?\n"
        updatedAt: '2023-07-02T19:33:36.524Z'
      numEdits: 0
      reactions: []
    id: 64a1d11019952d76aded2d36
    type: comment
  author: djokowsj90
  content: "I passed the HUGGING_FACE_HUB_TOKEN issue.\nBut it seems Sagemaker expects\
    \ one bin file \"model.pth\" but this repo has many bin files like \"pytorch_model-00003-of-00007.bin\"\
    \nI don't think I can simply concat those bin files. \nAny one has encountered\
    \ this issue?\n"
  created_at: 2023-07-02 18:33:36+00:00
  edited: false
  hidden: false
  id: 64a1d11019952d76aded2d36
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/279bc62e2c3c47e67952f85dadad687a.svg
      fullname: J Gro
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: grohj
      type: user
    createdAt: '2023-07-10T07:51:54.000Z'
    data:
      edited: false
      editors:
      - grohj
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.923265278339386
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/279bc62e2c3c47e67952f85dadad687a.svg
          fullname: J Gro
          isHf: false
          isPro: false
          name: grohj
          type: user
        html: '<blockquote>

          <p>I passed the HUGGING_FACE_HUB_TOKEN issue.<br>But it seems Sagemaker
          expects one bin file "model.pth" but this repo has many bin files like "pytorch_model-00003-of-00007.bin"<br>I
          don''t think I can simply concat those bin files.<br>Any one has encountered
          this issue?</p>

          </blockquote>

          <p>From what I gathered during deployments. If you are using the Huggingface
          LLM DLC container. It should be able to convert the model from split bin
          format into pytorch / safetensors format on the fly.</p>

          '
        raw: "> I passed the HUGGING_FACE_HUB_TOKEN issue.\n> But it seems Sagemaker\
          \ expects one bin file \"model.pth\" but this repo has many bin files like\
          \ \"pytorch_model-00003-of-00007.bin\"\n> I don't think I can simply concat\
          \ those bin files. \n> Any one has encountered this issue?\n\nFrom what\
          \ I gathered during deployments. If you are using the Huggingface LLM DLC\
          \ container. It should be able to convert the model from split bin format\
          \ into pytorch / safetensors format on the fly."
        updatedAt: '2023-07-10T07:51:54.777Z'
      numEdits: 0
      reactions: []
    id: 64abb89ac7ef738e98033a21
    type: comment
  author: grohj
  content: "> I passed the HUGGING_FACE_HUB_TOKEN issue.\n> But it seems Sagemaker\
    \ expects one bin file \"model.pth\" but this repo has many bin files like \"\
    pytorch_model-00003-of-00007.bin\"\n> I don't think I can simply concat those\
    \ bin files. \n> Any one has encountered this issue?\n\nFrom what I gathered during\
    \ deployments. If you are using the Huggingface LLM DLC container. It should be\
    \ able to convert the model from split bin format into pytorch / safetensors format\
    \ on the fly."
  created_at: 2023-07-10 06:51:54+00:00
  edited: false
  hidden: false
  id: 64abb89ac7ef738e98033a21
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4e8ba9ae92b2a5e5e549bb401ae2acf4.svg
      fullname: Matthew Coulter
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mattcoulter7
      type: user
    createdAt: '2023-07-28T03:23:14.000Z'
    data:
      edited: true
      editors:
      - mattcoulter7
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6899861097335815
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4e8ba9ae92b2a5e5e549bb401ae2acf4.svg
          fullname: Matthew Coulter
          isHf: false
          isPro: false
          name: mattcoulter7
          type: user
        html: "<p>Thanks <span data-props=\"{&quot;user&quot;:&quot;grohj&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/grohj\"\
          >@<span class=\"underline\">grohj</span></a></span>\n\n\t</span></span>,\
          \ had been stuck on this day and really couldn't find any of this documentation\
          \ anywhere.</p>\n<p>I am deploying llama 2, and supplying <code>HUGGING_FACE_HUB_TOKEN</code>\
          \ resolved the issue.</p>\n<p>It was really misleading trying to debug this\
          \ as my stack trace:</p>\n<pre><code>2023-07-27T12:43:39.691+10:00\trequests.exceptions.HTTPError:\
          \ 401 Client Error: Unauthorized for url: https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf\n\
          2023-07-27T12:43:39.691+10:00\tThe above exception was the direct cause\
          \ of the following exception:\n2023-07-27T12:43:39.691+10:00\tTraceback\
          \ (most recent call last): File \"/opt/conda/bin/text-generation-server\"\
          , line 8, in &lt;module&gt; sys.exit(app()) File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/cli.py\"\
          , line 96, in download_weights utils.weight_files(model_id, revision, extension)\
          \ File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/utils/hub.py\"\
          , line 92, in weight_files filenames = weight_hub_files(model_id, revision,\
          \ extension) File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/utils/hub.py\"\
          , line 25, in weight_hub_files info = api.model_info(model_id, revision=revision)\
          \ File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/utils/_validators.py\"\
          , line 120, in _inner_fn return fn(*args, **kwargs) File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/hf_api.py\"\
          , line 1604, in model_info hf_raise_for_status(r) File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/utils/_errors.py\"\
          , line 291, in hf_raise_for_status raise RepositoryNotFoundError(message,\
          \ response) from e\n2023-07-27T12:43:39.691+10:00\thuggingface_hub.utils._errors.RepositoryNotFoundError:\
          \ 401 Client Error. (Request ID: Root=1-64c1d9da-52b66c1e1538aa5917cf0e33)\n\
          2023-07-27T12:43:39.691+10:00\tRepository Not Found for url: https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf.\n\
          2023-07-27T12:43:39.691+10:00\tPlease make sure you specified the correct\
          \ `repo_id` and `repo_type`.\n2023-07-27T12:43:39.691+10:00\tIf you are\
          \ trying to access a private or gated repo, make sure you are authenticated.\n\
          2023-07-27T12:43:41.446+10:00\tInvalid username or password.\n</code></pre>\n\
          <p>Since the url<br><code>https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf</code><br>requires\
          \ basic auth, naturally I was looking for a config in the sdk where you\
          \ can supply basic auth, so the url would become<br><code>https://{username}:{password}@huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf</code>.<br>But\
          \ that configuration does not exist anywhere.</p>\n<p>Hope the update the\
          \ sagemaker script generation for gated models as it is will be a big time\
          \ saver for many people.</p>\n"
        raw: "Thanks @grohj, had been stuck on this day and really couldn't find any\
          \ of this documentation anywhere.\n\nI am deploying llama 2, and supplying\
          \ `HUGGING_FACE_HUB_TOKEN` resolved the issue.\n\nIt was really misleading\
          \ trying to debug this as my stack trace:\n```\n2023-07-27T12:43:39.691+10:00\t\
          requests.exceptions.HTTPError: 401 Client Error: Unauthorized for url: https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf\n\
          2023-07-27T12:43:39.691+10:00\tThe above exception was the direct cause\
          \ of the following exception:\n2023-07-27T12:43:39.691+10:00\tTraceback\
          \ (most recent call last): File \"/opt/conda/bin/text-generation-server\"\
          , line 8, in <module> sys.exit(app()) File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/cli.py\"\
          , line 96, in download_weights utils.weight_files(model_id, revision, extension)\
          \ File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/utils/hub.py\"\
          , line 92, in weight_files filenames = weight_hub_files(model_id, revision,\
          \ extension) File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/utils/hub.py\"\
          , line 25, in weight_hub_files info = api.model_info(model_id, revision=revision)\
          \ File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/utils/_validators.py\"\
          , line 120, in _inner_fn return fn(*args, **kwargs) File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/hf_api.py\"\
          , line 1604, in model_info hf_raise_for_status(r) File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/utils/_errors.py\"\
          , line 291, in hf_raise_for_status raise RepositoryNotFoundError(message,\
          \ response) from e\n2023-07-27T12:43:39.691+10:00\thuggingface_hub.utils._errors.RepositoryNotFoundError:\
          \ 401 Client Error. (Request ID: Root=1-64c1d9da-52b66c1e1538aa5917cf0e33)\n\
          2023-07-27T12:43:39.691+10:00\tRepository Not Found for url: https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf.\n\
          2023-07-27T12:43:39.691+10:00\tPlease make sure you specified the correct\
          \ `repo_id` and `repo_type`.\n2023-07-27T12:43:39.691+10:00\tIf you are\
          \ trying to access a private or gated repo, make sure you are authenticated.\n\
          2023-07-27T12:43:41.446+10:00\tInvalid username or password.\n```\n\nSince\
          \ the url \n`https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf`\n\
          requires basic auth, naturally I was looking for a config in the sdk where\
          \ you can supply basic auth, so the url would become \n`https://{username}:{password}@huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf`.\n\
          But that configuration does not exist anywhere.\n\nHope the update the sagemaker\
          \ script generation for gated models as it is will be a big time saver for\
          \ many people."
        updatedAt: '2023-07-28T03:25:35.976Z'
      numEdits: 2
      reactions: []
    id: 64c334a21fc43a53af16a52f
    type: comment
  author: mattcoulter7
  content: "Thanks @grohj, had been stuck on this day and really couldn't find any\
    \ of this documentation anywhere.\n\nI am deploying llama 2, and supplying `HUGGING_FACE_HUB_TOKEN`\
    \ resolved the issue.\n\nIt was really misleading trying to debug this as my stack\
    \ trace:\n```\n2023-07-27T12:43:39.691+10:00\trequests.exceptions.HTTPError: 401\
    \ Client Error: Unauthorized for url: https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf\n\
    2023-07-27T12:43:39.691+10:00\tThe above exception was the direct cause of the\
    \ following exception:\n2023-07-27T12:43:39.691+10:00\tTraceback (most recent\
    \ call last): File \"/opt/conda/bin/text-generation-server\", line 8, in <module>\
    \ sys.exit(app()) File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/cli.py\"\
    , line 96, in download_weights utils.weight_files(model_id, revision, extension)\
    \ File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/utils/hub.py\"\
    , line 92, in weight_files filenames = weight_hub_files(model_id, revision, extension)\
    \ File \"/opt/conda/lib/python3.9/site-packages/text_generation_server/utils/hub.py\"\
    , line 25, in weight_hub_files info = api.model_info(model_id, revision=revision)\
    \ File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/utils/_validators.py\"\
    , line 120, in _inner_fn return fn(*args, **kwargs) File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/hf_api.py\"\
    , line 1604, in model_info hf_raise_for_status(r) File \"/opt/conda/lib/python3.9/site-packages/huggingface_hub/utils/_errors.py\"\
    , line 291, in hf_raise_for_status raise RepositoryNotFoundError(message, response)\
    \ from e\n2023-07-27T12:43:39.691+10:00\thuggingface_hub.utils._errors.RepositoryNotFoundError:\
    \ 401 Client Error. (Request ID: Root=1-64c1d9da-52b66c1e1538aa5917cf0e33)\n2023-07-27T12:43:39.691+10:00\t\
    Repository Not Found for url: https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf.\n\
    2023-07-27T12:43:39.691+10:00\tPlease make sure you specified the correct `repo_id`\
    \ and `repo_type`.\n2023-07-27T12:43:39.691+10:00\tIf you are trying to access\
    \ a private or gated repo, make sure you are authenticated.\n2023-07-27T12:43:41.446+10:00\t\
    Invalid username or password.\n```\n\nSince the url \n`https://huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf`\n\
    requires basic auth, naturally I was looking for a config in the sdk where you\
    \ can supply basic auth, so the url would become \n`https://{username}:{password}@huggingface.co/api/models/meta-llama/Llama-2-70b-chat-hf`.\n\
    But that configuration does not exist anywhere.\n\nHope the update the sagemaker\
    \ script generation for gated models as it is will be a big time saver for many\
    \ people."
  created_at: 2023-07-28 02:23:14+00:00
  edited: true
  hidden: false
  id: 64c334a21fc43a53af16a52f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 48
repo_id: bigcode/starcoder
repo_type: model
status: open
target_branch: null
title: Unable to Deploy to Amazon SageMaker using Supplied Deploy Code
