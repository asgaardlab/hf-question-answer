!!python/object:huggingface_hub.community.DiscussionWithDetails
author: chai007
conflicting_files: null
created_at: 2023-08-09 17:59:38+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1f05e3d4e610b13b7526a19f28796d38.svg
      fullname: C M
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chai007
      type: user
    createdAt: '2023-08-09T18:59:38.000Z'
    data:
      edited: true
      editors:
      - chai007
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6220611929893494
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1f05e3d4e610b13b7526a19f28796d38.svg
          fullname: C M
          isHf: false
          isPro: false
          name: chai007
          type: user
        html: '<p>I am trying to run a training job with my own data on SageMaker
          using HugginFace estimator.  </p>

          <ol>

          <li><p>I have accepted T&amp;C on the model page, </p>

          </li>

          <li><p>I do a hugging face login<br>from huggingface_hub import notebook_login<br>notebook_login()</p>

          </li>

          <li><p>Run fit method<br>git_config = {''repo'': ''<a rel="nofollow" href="https://github.com/huggingface/transformers.git'',''branch''">https://github.com/huggingface/transformers.git'',''branch''</a>:
          ''v4.26.0''}</p>

          </li>

          </ol>

          <p>huggingface_estimator = HuggingFace(<br>    entry_point=''run_clm.py'',<br>    source_dir=''./examples/pytorch/language-modeling'',<br>    instance_type=''ml.p3.2xlarge'',<br>    instance_count=1,<br>    role=role,<br>    git_config=git_config,<br>    transformers_version=''4.26.0'',<br>    pytorch_version=''1.13.1'',<br>    py_version=''py39'',<br>    hyperparameters
          = hyperparameters<br>)</p>

          <p>huggingface_estimator.fit()</p>

          <p>But i get access token error.</p>

          <p>HTTPError: 401 Client Error: Unauthorized for url:<br>Cannot access gated
          URL repo for URL <a href="https://huggingface.co/bigcode/starcoder/resolve/main/config.json">https://huggingface.co/bigcode/starcoder/resolve/main/config.json</a>.</p>

          <p>OSError: bigcode/starcoder is not a local folder and is not a valid model
          identifier listed on ''<a href="https://huggingface.co/models''">https://huggingface.co/models''</a>
          . If this is a private repository, make sure to pass a token having permission
          to this repo with <code>use_auth_token</code> or log in with <code>huggingface-cli
          login</code> and pass <code>use_auth_token=True</code>.</p>

          <p>I have tried to pass the auth token in HuggingFace estimator but has
          not worked, tried to pass it as hyperparameter as a hub_token but that didnt
          work.<br>''hub_token'': HfFolder.get_token()</p>

          <p>How can i successfully run the fit method?</p>

          '
        raw: "I am trying to run a training job with my own data on SageMaker using\
          \ HugginFace estimator.  \n1. I have accepted T&C on the model page, \n\n\
          2. I do a hugging face login \nfrom huggingface_hub import notebook_login\n\
          notebook_login()\n\n3. Run fit method\ngit_config = {'repo': 'https://github.com/huggingface/transformers.git','branch':\
          \ 'v4.26.0'}\n\nhuggingface_estimator = HuggingFace(\n\tentry_point='run_clm.py',\n\
          \tsource_dir='./examples/pytorch/language-modeling',\n\tinstance_type='ml.p3.2xlarge',\n\
          \tinstance_count=1,\n\trole=role,\n\tgit_config=git_config,\n\ttransformers_version='4.26.0',\n\
          \tpytorch_version='1.13.1',\n\tpy_version='py39',\n\thyperparameters = hyperparameters\n\
          )\n\nhuggingface_estimator.fit()\n\nBut i get access token error.\n\nHTTPError:\
          \ 401 Client Error: Unauthorized for url: \nCannot access gated URL repo\
          \ for URL https://huggingface.co/bigcode/starcoder/resolve/main/config.json.\n\
          \nOSError: bigcode/starcoder is not a local folder and is not a valid model\
          \ identifier listed on 'https://huggingface.co/models' . If this is a private\
          \ repository, make sure to pass a token having permission to this repo with\
          \ `use_auth_token` or log in with `huggingface-cli login` and pass `use_auth_token=True`.\n\
          \nI have tried to pass the auth token in HuggingFace estimator but has not\
          \ worked, tried to pass it as hyperparameter as a hub_token but that didnt\
          \ work.\n'hub_token': HfFolder.get_token()\n\nHow can i successfully run\
          \ the fit method?\n"
        updatedAt: '2023-08-09T19:00:18.331Z'
      numEdits: 1
      reactions: []
    id: 64d3e21a9ba46988ac448b37
    type: comment
  author: chai007
  content: "I am trying to run a training job with my own data on SageMaker using\
    \ HugginFace estimator.  \n1. I have accepted T&C on the model page, \n\n2. I\
    \ do a hugging face login \nfrom huggingface_hub import notebook_login\nnotebook_login()\n\
    \n3. Run fit method\ngit_config = {'repo': 'https://github.com/huggingface/transformers.git','branch':\
    \ 'v4.26.0'}\n\nhuggingface_estimator = HuggingFace(\n\tentry_point='run_clm.py',\n\
    \tsource_dir='./examples/pytorch/language-modeling',\n\tinstance_type='ml.p3.2xlarge',\n\
    \tinstance_count=1,\n\trole=role,\n\tgit_config=git_config,\n\ttransformers_version='4.26.0',\n\
    \tpytorch_version='1.13.1',\n\tpy_version='py39',\n\thyperparameters = hyperparameters\n\
    )\n\nhuggingface_estimator.fit()\n\nBut i get access token error.\n\nHTTPError:\
    \ 401 Client Error: Unauthorized for url: \nCannot access gated URL repo for URL\
    \ https://huggingface.co/bigcode/starcoder/resolve/main/config.json.\n\nOSError:\
    \ bigcode/starcoder is not a local folder and is not a valid model identifier\
    \ listed on 'https://huggingface.co/models' . If this is a private repository,\
    \ make sure to pass a token having permission to this repo with `use_auth_token`\
    \ or log in with `huggingface-cli login` and pass `use_auth_token=True`.\n\nI\
    \ have tried to pass the auth token in HuggingFace estimator but has not worked,\
    \ tried to pass it as hyperparameter as a hub_token but that didnt work.\n'hub_token':\
    \ HfFolder.get_token()\n\nHow can i successfully run the fit method?\n"
  created_at: 2023-08-09 17:59:38+00:00
  edited: true
  hidden: false
  id: 64d3e21a9ba46988ac448b37
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/41c8b0967526816dd07cd560ead24133.svg
      fullname: Sanjiv Gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gsanjeev432
      type: user
    createdAt: '2023-12-27T13:19:30.000Z'
    data:
      edited: false
      editors:
      - gsanjeev432
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3572540581226349
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/41c8b0967526816dd07cd560ead24133.svg
          fullname: Sanjiv Gupta
          isHf: false
          isPro: false
          name: gsanjeev432
          type: user
        html: '<p>Try doing this:</p>

          <p>from huggingface_hub.hf_api import HfFolder<br>HfFolder.save_token(''your_hf_token'')</p>

          '
        raw: 'Try doing this:


          from huggingface_hub.hf_api import HfFolder

          HfFolder.save_token(''your_hf_token'')'
        updatedAt: '2023-12-27T13:19:30.960Z'
      numEdits: 0
      reactions: []
    id: 658c2462ce840b7c63bdb8fb
    type: comment
  author: gsanjeev432
  content: 'Try doing this:


    from huggingface_hub.hf_api import HfFolder

    HfFolder.save_token(''your_hf_token'')'
  created_at: 2023-12-27 13:19:30+00:00
  edited: false
  hidden: false
  id: 658c2462ce840b7c63bdb8fb
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 80
repo_id: bigcode/starcoder
repo_type: model
status: open
target_branch: null
title: Model access error during training on SageMaker
