!!python/object:huggingface_hub.community.DiscussionWithDetails
author: apol
conflicting_files: null
created_at: 2023-05-25 10:08:17+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60dc215386932230e632cdeb/7Tsyenn5aQsjgvM-JkcRu.jpeg?w=200&h=200&f=face
      fullname: Miguel Guerrero
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: apol
      type: user
    createdAt: '2023-05-25T11:08:17.000Z'
    data:
      edited: false
      editors:
      - apol
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60dc215386932230e632cdeb/7Tsyenn5aQsjgvM-JkcRu.jpeg?w=200&h=200&f=face
          fullname: Miguel Guerrero
          isHf: false
          isPro: false
          name: apol
          type: user
        html: '<p>Hi, trying to deploy StarChat in AWS Sagemaker.<br>Error "gpt_bigcode"
          for lacking the last transformers version, that is not compatible with Sagemaker.</p>

          <p>Any ideas to hack this?</p>

          <p>Thanks</p>

          '
        raw: "Hi, trying to deploy StarChat in AWS Sagemaker.\r\nError \"gpt_bigcode\"\
          \ for lacking the last transformers version, that is not compatible with\
          \ Sagemaker.\r\n\r\nAny ideas to hack this?\r\n\r\nThanks"
        updatedAt: '2023-05-25T11:08:17.957Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - xguo7
        - devssaturdays
        - stablegenius09
    id: 646f41a1075e11ca78db232e
    type: comment
  author: apol
  content: "Hi, trying to deploy StarChat in AWS Sagemaker.\r\nError \"gpt_bigcode\"\
    \ for lacking the last transformers version, that is not compatible with Sagemaker.\r\
    \n\r\nAny ideas to hack this?\r\n\r\nThanks"
  created_at: 2023-05-25 10:08:17+00:00
  edited: false
  hidden: false
  id: 646f41a1075e11ca78db232e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/72c61fde8c50f8745144135962a68616.svg
      fullname: Valentin Nikolaev
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ququcana
      type: user
    createdAt: '2023-05-25T19:52:09.000Z'
    data:
      edited: false
      editors:
      - ququcana
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/72c61fde8c50f8745144135962a68616.svg
          fullname: Valentin Nikolaev
          isHf: false
          isPro: false
          name: ququcana
          type: user
        html: '<p>Hey, same here)<br>there are some references that transformers version
          4.28.1 is required to pass "gpt_bigcode" error.</p>

          <p>As an idea:</p>

          <ul>

          <li>there is a dlc with transformers 4.28.1 just released <a rel="nofollow"
          href="https://github.com/aws/deep-learning-containers/releases/tag/v1.0-hf-4.28.1-pt-2.0.0-inf-py310">here</a>,
          and the model could be created with help of sagemaker.huggingface (and boto3)
          python package(s) with any given image uri.</li>

          </ul>

          <p>I''ve just tried, it gave me another error:<br><code>ValueError: Could
          not load model /.sagemaker/mms/models/bigcode__starcoder with any of the
          following classes: (&lt;class ''transformers.models.auto.modeling_auto.AutoModelForCausalLM''&gt;,
          &lt;class ''transformers.models.gpt_bigcode.modeling_gpt_bigcode.GPTBigCodeForCausalLM''&gt;).</code></p>

          '
        raw: "Hey, same here) \nthere are some references that transformers version\
          \ 4.28.1 is required to pass \"gpt_bigcode\" error.\n\nAs an idea:\n- there\
          \ is a dlc with transformers 4.28.1 just released [here](https://github.com/aws/deep-learning-containers/releases/tag/v1.0-hf-4.28.1-pt-2.0.0-inf-py310),\
          \ and the model could be created with help of sagemaker.huggingface (and\
          \ boto3) python package(s) with any given image uri.\n\nI've just tried,\
          \ it gave me another error:\n```ValueError: Could not load model /.sagemaker/mms/models/bigcode__starcoder\
          \ with any of the following classes: (<class 'transformers.models.auto.modeling_auto.AutoModelForCausalLM'>,\
          \ <class 'transformers.models.gpt_bigcode.modeling_gpt_bigcode.GPTBigCodeForCausalLM'>).```"
        updatedAt: '2023-05-25T19:52:09.126Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - apol
        - devssaturdays
        - stablegenius09
    id: 646fbc69150f4cab8631df78
    type: comment
  author: ququcana
  content: "Hey, same here) \nthere are some references that transformers version\
    \ 4.28.1 is required to pass \"gpt_bigcode\" error.\n\nAs an idea:\n- there is\
    \ a dlc with transformers 4.28.1 just released [here](https://github.com/aws/deep-learning-containers/releases/tag/v1.0-hf-4.28.1-pt-2.0.0-inf-py310),\
    \ and the model could be created with help of sagemaker.huggingface (and boto3)\
    \ python package(s) with any given image uri.\n\nI've just tried, it gave me another\
    \ error:\n```ValueError: Could not load model /.sagemaker/mms/models/bigcode__starcoder\
    \ with any of the following classes: (<class 'transformers.models.auto.modeling_auto.AutoModelForCausalLM'>,\
    \ <class 'transformers.models.gpt_bigcode.modeling_gpt_bigcode.GPTBigCodeForCausalLM'>).```"
  created_at: 2023-05-25 18:52:09+00:00
  edited: false
  hidden: false
  id: 646fbc69150f4cab8631df78
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1cdd6f0f8d7c324bf0bae86dedd4cfaf.svg
      fullname: Zak KRider
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zkrider
      type: user
    createdAt: '2023-07-31T18:59:02.000Z'
    data:
      edited: false
      editors:
      - zkrider
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8919632434844971
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1cdd6f0f8d7c324bf0bae86dedd4cfaf.svg
          fullname: Zak KRider
          isHf: false
          isPro: false
          name: zkrider
          type: user
        html: '<p>It worked by putting it on the AWS instance type: ml.g4dn.12xlarge
          and setting SM_NUM_GPUS: "4"</p>

          '
        raw: 'It worked by putting it on the AWS instance type: ml.g4dn.12xlarge and
          setting SM_NUM_GPUS: "4"'
        updatedAt: '2023-07-31T18:59:02.120Z'
      numEdits: 0
      reactions: []
    id: 64c80476904317f42d9fcc13
    type: comment
  author: zkrider
  content: 'It worked by putting it on the AWS instance type: ml.g4dn.12xlarge and
    setting SM_NUM_GPUS: "4"'
  created_at: 2023-07-31 17:59:02+00:00
  edited: false
  hidden: false
  id: 64c80476904317f42d9fcc13
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 41
repo_id: bigcode/starcoder
repo_type: model
status: open
target_branch: null
title: StarCoder in AWS Sagemaker? Error "gpt_bigcode" for not supporting Transformers
  last version
