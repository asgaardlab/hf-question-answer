!!python/object:huggingface_hub.community.DiscussionWithDetails
author: andrewsameh
conflicting_files: null
created_at: 2023-07-20 12:48:31+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/04a8b67ac52a0cded55dc77f72eb34d5.svg
      fullname: Andrew Sameh
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: andrewsameh
      type: user
    createdAt: '2023-07-20T13:48:31.000Z'
    data:
      edited: false
      editors:
      - andrewsameh
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.92696213722229
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/04a8b67ac52a0cded55dc77f72eb34d5.svg
          fullname: Andrew Sameh
          isHf: false
          isPro: false
          name: andrewsameh
          type: user
        html: '<p>I''ve noticed that the context length for all Llama v2 is 4k but
          for the quantized versions all are 2k as per the config json file.<br>Does
          the quantization lower the context length or is it something that can be
          adjusted?</p>

          '
        raw: "I've noticed that the context length for all Llama v2 is 4k but for\
          \ the quantized versions all are 2k as per the config json file.\r\nDoes\
          \ the quantization lower the context length or is it something that can\
          \ be adjusted?"
        updatedAt: '2023-07-20T13:48:31.651Z'
      numEdits: 0
      reactions: []
    id: 64b93b2f5067873176e25070
    type: comment
  author: andrewsameh
  content: "I've noticed that the context length for all Llama v2 is 4k but for the\
    \ quantized versions all are 2k as per the config json file.\r\nDoes the quantization\
    \ lower the context length or is it something that can be adjusted?"
  created_at: 2023-07-20 12:48:31+00:00
  edited: false
  hidden: false
  id: 64b93b2f5067873176e25070
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/16a92b2db9a8fb07e323862d7109b958.svg
      fullname: Alex Zivkovic
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zzman
      type: user
    createdAt: '2023-07-20T14:08:30.000Z'
    data:
      edited: true
      editors:
      - zzman
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7724791765213013
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/16a92b2db9a8fb07e323862d7109b958.svg
          fullname: Alex Zivkovic
          isHf: false
          isPro: false
          name: zzman
          type: user
        html: '<p>Quick workaround is to simply override the max_context_length parameter
          such as config.max_context_length=4096<br>I have used it with prompts that
          are up to 4096 and it works.</p>

          '
        raw: 'Quick workaround is to simply override the max_context_length parameter
          such as config.max_context_length=4096

          I have used it with prompts that are up to 4096 and it works.'
        updatedAt: '2023-07-20T14:09:28.456Z'
      numEdits: 1
      reactions: []
    id: 64b93fde03124195cd99646d
    type: comment
  author: zzman
  content: 'Quick workaround is to simply override the max_context_length parameter
    such as config.max_context_length=4096

    I have used it with prompts that are up to 4096 and it works.'
  created_at: 2023-07-20 13:08:30+00:00
  edited: true
  hidden: false
  id: 64b93fde03124195cd99646d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-07-20T14:11:22.000Z'
    data:
      edited: false
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8593891859054565
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Yeah this should be fixed and I will do so shortly.  In the Meta
          repos they have this:</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png"></a></p>

          <p>I''m not quite sure why max_position_embeddings is 2048 instead of 4096,
          but I think I will duplicate what they have unless/until told otherwise.</p>

          '
        raw: 'Yeah this should be fixed and I will do so shortly.  In the Meta repos
          they have this:


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png)


          I''m not quite sure why max_position_embeddings is 2048 instead of 4096,
          but I think I will duplicate what they have unless/until told otherwise.

          '
        updatedAt: '2023-07-20T14:11:22.551Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - sunnyod
    id: 64b9408ae0bd7b05a8584848
    type: comment
  author: TheBloke
  content: 'Yeah this should be fixed and I will do so shortly.  In the Meta repos
    they have this:


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png)


    I''m not quite sure why max_position_embeddings is 2048 instead of 4096, but I
    think I will duplicate what they have unless/until told otherwise.

    '
  created_at: 2023-07-20 13:11:22+00:00
  edited: false
  hidden: false
  id: 64b9408ae0bd7b05a8584848
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0ea4534a8207031b8f8f532001886376.svg
      fullname: Sunny Od
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sunnyod
      type: user
    createdAt: '2023-07-26T21:00:53.000Z'
    data:
      edited: true
      editors:
      - sunnyod
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9616779685020447
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0ea4534a8207031b8f8f532001886376.svg
          fullname: Sunny Od
          isHf: false
          isPro: false
          name: sunnyod
          type: user
        html: '<p>Has this been updated yet, I assume not as I''ve not seen it? :thinkingface:</p>

          <p>Would also love to see an stability ai orca2 version of the llama2 13b,
          uncensored if that''s possible yet :D</p>

          <p>Thanks TheBloke, dude you fookin rock :)</p>

          '
        raw: 'Has this been updated yet, I assume not as I''ve not seen it? :thinkingface:


          Would also love to see an stability ai orca2 version of the llama2 13b,
          uncensored if that''s possible yet :D


          Thanks TheBloke, dude you fookin rock :)'
        updatedAt: '2023-07-26T21:01:50.213Z'
      numEdits: 1
      reactions: []
    id: 64c18985c3b5e0a9760ec6b0
    type: comment
  author: sunnyod
  content: 'Has this been updated yet, I assume not as I''ve not seen it? :thinkingface:


    Would also love to see an stability ai orca2 version of the llama2 13b, uncensored
    if that''s possible yet :D


    Thanks TheBloke, dude you fookin rock :)'
  created_at: 2023-07-26 20:00:53+00:00
  edited: true
  hidden: false
  id: 64c18985c3b5e0a9760ec6b0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/545d0331700ac1dbb978b01052c89b95.svg
      fullname: Miron Tewfik
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: streetyogi
      type: user
    createdAt: '2023-07-26T22:21:12.000Z'
    data:
      edited: false
      editors:
      - streetyogi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8951414823532104
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/545d0331700ac1dbb978b01052c89b95.svg
          fullname: Miron Tewfik
          isHf: false
          isPro: false
          name: streetyogi
          type: user
        html: '<blockquote>

          <p>Yeah this should be fixed and I will do so shortly.  In the Meta repos
          they have this:</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png"></a></p>

          <p>I''m not quite sure why max_position_embeddings is 2048 instead of 4096,
          but I think I will duplicate what they have unless/until told otherwise.</p>

          </blockquote>

          <p>Meta already fixed max_position_embeddings to 4096 in their repos, but
          I think I saw this mentioned in another comment allready.</p>

          '
        raw: "> Yeah this should be fixed and I will do so shortly.  In the Meta repos\
          \ they have this:\n> \n> ![image.png](https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png)\n\
          > \n> I'm not quite sure why max_position_embeddings is 2048 instead of\
          \ 4096, but I think I will duplicate what they have unless/until told otherwise.\n\
          \nMeta already fixed max_position_embeddings to 4096 in their repos, but\
          \ I think I saw this mentioned in another comment allready."
        updatedAt: '2023-07-26T22:21:12.336Z'
      numEdits: 0
      reactions: []
    id: 64c19c58b005aab93d57dd93
    type: comment
  author: streetyogi
  content: "> Yeah this should be fixed and I will do so shortly.  In the Meta repos\
    \ they have this:\n> \n> ![image.png](https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/mErDD0aUHZMlVr3DaoD7B.png)\n\
    > \n> I'm not quite sure why max_position_embeddings is 2048 instead of 4096,\
    \ but I think I will duplicate what they have unless/until told otherwise.\n\n\
    Meta already fixed max_position_embeddings to 4096 in their repos, but I think\
    \ I saw this mentioned in another comment allready."
  created_at: 2023-07-26 21:21:12+00:00
  edited: false
  hidden: false
  id: 64c19c58b005aab93d57dd93
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-07-26T22:30:14.000Z'
    data:
      edited: false
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7577424049377441
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Yeah I''ve updated my max_length and max_position_embeddings to
          4096 in my Llama 2 repos, matching Meta - who yes fixed this a couple of
          days ago</p>

          '
        raw: Yeah I've updated my max_length and max_position_embeddings to 4096 in
          my Llama 2 repos, matching Meta - who yes fixed this a couple of days ago
        updatedAt: '2023-07-26T22:30:14.688Z'
      numEdits: 0
      reactions: []
    id: 64c19e76fc0392fe589723a0
    type: comment
  author: TheBloke
  content: Yeah I've updated my max_length and max_position_embeddings to 4096 in
    my Llama 2 repos, matching Meta - who yes fixed this a couple of days ago
  created_at: 2023-07-26 21:30:14+00:00
  edited: false
  hidden: false
  id: 64c19e76fc0392fe589723a0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/66cf8a6e1ca9dbeeb3b5ca229e1396a1.svg
      fullname: Shunxin.Zhang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ETZhangSX
      type: user
    createdAt: '2023-10-09T04:07:41.000Z'
    data:
      edited: false
      editors:
      - ETZhangSX
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9687381982803345
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/66cf8a6e1ca9dbeeb3b5ca229e1396a1.svg
          fullname: Shunxin.Zhang
          isHf: false
          isPro: false
          name: ETZhangSX
          type: user
        html: '<p>The branch main has been updated, but other branches are still 2048,
          such as <code>gptq-4bit-128g-actorder_True</code>. Will they be updated
          in the future?</p>

          '
        raw: The branch main has been updated, but other branches are still 2048,
          such as `gptq-4bit-128g-actorder_True`. Will they be updated in the future?
        updatedAt: '2023-10-09T04:07:41.117Z'
      numEdits: 0
      reactions: []
    id: 65237c8d739dd2070bb9efb4
    type: comment
  author: ETZhangSX
  content: The branch main has been updated, but other branches are still 2048, such
    as `gptq-4bit-128g-actorder_True`. Will they be updated in the future?
  created_at: 2023-10-09 03:07:41+00:00
  edited: false
  hidden: false
  id: 65237c8d739dd2070bb9efb4
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 7
repo_id: TheBloke/Llama-2-13B-chat-GPTQ
repo_type: model
status: open
target_branch: null
title: 'Llama v2 GPTQ context length '
