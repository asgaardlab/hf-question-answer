!!python/object:huggingface_hub.community.DiscussionWithDetails
author: TJC
conflicting_files: null
created_at: 2022-06-23 16:36:20+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d17d53f05937b1721279717cbc877bd9.svg
      fullname: Thomas J. Colla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: TJC
      type: user
    createdAt: '2022-06-23T17:36:20.000Z'
    data:
      edited: false
      editors:
      - TJC
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d17d53f05937b1721279717cbc877bd9.svg
          fullname: Thomas J. Colla
          isHf: false
          isPro: false
          name: TJC
          type: user
        html: "<p>Hi,</p>\n<p>running xlm-roberta-base-ner-hrl with the following\
          \ code I get an unexpected ORG, i.e. a whitespace. I would have expectd\
          \ \"MZ\" to be \"_MZ\" and this would fix the issue.  Or is this simply\
          \ a false-positive?</p>\n<p>Does somebody has an advice?</p>\n<pre><code>example\
          \ = \"Ein Jahr lang hat die MZ das Agrarunternehmen Barnst\xE4dt und die\
          \ Agrargenossenschaft Bad D\xFCrrenberg begleitet.\"\nprint(pd.DataFrame(nlp(example)),\
          \ end=\"\\n\\n\")\nprint(pd.DataFrame(nlp(example, aggregation_strategy=\"\
          simple\")))\n</code></pre>\n<pre><code>  entity     score  index   word\
          \  start  end\n0  B-ORG  0.998993      6      \u2581     21   22\n1  B-ORG\
          \  0.674700      7     MZ     22   24\n2  B-ORG  0.908934     12  \u2581\
          Barn     45   50\n3  I-ORG  0.987022     13    st\xE4     50   53\n4  I-ORG\
          \  0.999098     14     dt     53   55\n5  I-ORG  0.717301     22   \u2581\
          Bad     83   87\n6  I-ORG  0.686630     23    \u2581D\xFC     87   90\n\
          7  I-ORG  0.736514     24   rren     90   94\n8  I-ORG  0.568195     25\
          \   berg     94   98\n\n  entity_group     score            word  start\
          \  end\n0          ORG  0.998993                     21   22\n1        \
          \  ORG  0.674700              MZ     22   24\n2          ORG  0.965018 \
          \      Barnst\xE4dt     45   55\n3          ORG  0.677160  Bad D\xFCrrenberg\
          \     83   98\n</code></pre>\n<p>Many thanks, Thomas</p>\n"
        raw: "Hi,\r\n\r\nrunning xlm-roberta-base-ner-hrl with the following code\
          \ I get an unexpected ORG, i.e. a whitespace. I would have expectd \"MZ\"\
          \ to be \"_MZ\" and this would fix the issue.  Or is this simply a false-positive?\r\
          \n\r\nDoes somebody has an advice?\r\n\r\n```\r\nexample = \"Ein Jahr lang\
          \ hat die MZ das Agrarunternehmen Barnst\xE4dt und die Agrargenossenschaft\
          \ Bad D\xFCrrenberg begleitet.\"\r\nprint(pd.DataFrame(nlp(example)), end=\"\
          \\n\\n\")\r\nprint(pd.DataFrame(nlp(example, aggregation_strategy=\"simple\"\
          )))\r\n```\r\n\r\n```\r\n  entity     score  index   word  start  end\r\n\
          0  B-ORG  0.998993      6      \u2581     21   22\r\n1  B-ORG  0.674700\
          \      7     MZ     22   24\r\n2  B-ORG  0.908934     12  \u2581Barn   \
          \  45   50\r\n3  I-ORG  0.987022     13    st\xE4     50   53\r\n4  I-ORG\
          \  0.999098     14     dt     53   55\r\n5  I-ORG  0.717301     22   \u2581\
          Bad     83   87\r\n6  I-ORG  0.686630     23    \u2581D\xFC     87   90\r\
          \n7  I-ORG  0.736514     24   rren     90   94\r\n8  I-ORG  0.568195   \
          \  25   berg     94   98\r\n\r\n  entity_group     score            word\
          \  start  end\r\n0          ORG  0.998993                     21   22\r\n\
          1          ORG  0.674700              MZ     22   24\r\n2          ORG \
          \ 0.965018       Barnst\xE4dt     45   55\r\n3          ORG  0.677160  Bad\
          \ D\xFCrrenberg     83   98\r\n```\r\n\r\nMany thanks, Thomas"
        updatedAt: '2022-06-23T17:36:20.631Z'
      numEdits: 0
      reactions: []
    id: 62b4a494b25cb80fcf257bf8
    type: comment
  author: TJC
  content: "Hi,\r\n\r\nrunning xlm-roberta-base-ner-hrl with the following code I\
    \ get an unexpected ORG, i.e. a whitespace. I would have expectd \"MZ\" to be\
    \ \"_MZ\" and this would fix the issue.  Or is this simply a false-positive?\r\
    \n\r\nDoes somebody has an advice?\r\n\r\n```\r\nexample = \"Ein Jahr lang hat\
    \ die MZ das Agrarunternehmen Barnst\xE4dt und die Agrargenossenschaft Bad D\xFC\
    rrenberg begleitet.\"\r\nprint(pd.DataFrame(nlp(example)), end=\"\\n\\n\")\r\n\
    print(pd.DataFrame(nlp(example, aggregation_strategy=\"simple\")))\r\n```\r\n\r\
    \n```\r\n  entity     score  index   word  start  end\r\n0  B-ORG  0.998993  \
    \    6      \u2581     21   22\r\n1  B-ORG  0.674700      7     MZ     22   24\r\
    \n2  B-ORG  0.908934     12  \u2581Barn     45   50\r\n3  I-ORG  0.987022    \
    \ 13    st\xE4     50   53\r\n4  I-ORG  0.999098     14     dt     53   55\r\n\
    5  I-ORG  0.717301     22   \u2581Bad     83   87\r\n6  I-ORG  0.686630     23\
    \    \u2581D\xFC     87   90\r\n7  I-ORG  0.736514     24   rren     90   94\r\
    \n8  I-ORG  0.568195     25   berg     94   98\r\n\r\n  entity_group     score\
    \            word  start  end\r\n0          ORG  0.998993                    \
    \ 21   22\r\n1          ORG  0.674700              MZ     22   24\r\n2       \
    \   ORG  0.965018       Barnst\xE4dt     45   55\r\n3          ORG  0.677160 \
    \ Bad D\xFCrrenberg     83   98\r\n```\r\n\r\nMany thanks, Thomas"
  created_at: 2022-06-23 16:36:20+00:00
  edited: false
  hidden: false
  id: 62b4a494b25cb80fcf257bf8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1620642852901-5fcc1929563427b03e9af259.jpeg?w=200&h=200&f=face
      fullname: David Adelani
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Davlan
      type: user
    createdAt: '2022-06-25T16:51:04.000Z'
    data:
      edited: false
      editors:
      - Davlan
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1620642852901-5fcc1929563427b03e9af259.jpeg?w=200&h=200&f=face
          fullname: David Adelani
          isHf: false
          isPro: false
          name: Davlan
          type: user
        html: '<p>hmm, this is the tokenization issue with the pipeline model, especially
          with XLM-R. Can you try out  "Davlan/bert-base-multilingual-cased-ner-hrl",
          did you find the same issue? There are ways of dealing with this, e.g using
          the official prediction function of the official NER code <a rel="nofollow"
          href="https://github.com/huggingface/transformers/blob/main/examples/pytorch/token-classification/run_ner.py#L487">https://github.com/huggingface/transformers/blob/main/examples/pytorch/token-classification/run_ner.py#L487</a></p>

          '
        raw: hmm, this is the tokenization issue with the pipeline model, especially
          with XLM-R. Can you try out  "Davlan/bert-base-multilingual-cased-ner-hrl",
          did you find the same issue? There are ways of dealing with this, e.g using
          the official prediction function of the official NER code https://github.com/huggingface/transformers/blob/main/examples/pytorch/token-classification/run_ner.py#L487
        updatedAt: '2022-06-25T16:51:04.871Z'
      numEdits: 0
      reactions: []
    id: 62b73cf8aa928870cedba9e9
    type: comment
  author: Davlan
  content: hmm, this is the tokenization issue with the pipeline model, especially
    with XLM-R. Can you try out  "Davlan/bert-base-multilingual-cased-ner-hrl", did
    you find the same issue? There are ways of dealing with this, e.g using the official
    prediction function of the official NER code https://github.com/huggingface/transformers/blob/main/examples/pytorch/token-classification/run_ner.py#L487
  created_at: 2022-06-25 15:51:04+00:00
  edited: false
  hidden: false
  id: 62b73cf8aa928870cedba9e9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d17d53f05937b1721279717cbc877bd9.svg
      fullname: Thomas J. Colla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: TJC
      type: user
    createdAt: '2022-07-27T13:43:23.000Z'
    data:
      edited: false
      editors:
      - TJC
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d17d53f05937b1721279717cbc877bd9.svg
          fullname: Thomas J. Colla
          isHf: false
          isPro: false
          name: TJC
          type: user
        html: "<p>With  \"Davlan/bert-base-multilingual-cased-ner-hrl\" all ORGs are\
          \ as expected and the tagging format is IOB2 as well (nice):</p>\n<pre><code>\
          \   entity     score  index      word  start  end\n0   B-ORG  0.999398 \
          \     6         M     22   23\n1   I-ORG  0.998075      7       ##Z    \
          \ 23   24\n2   B-ORG  0.835974      9         A     29   30\n3   I-ORG \
          \ 0.544346     10     ##gra     30   33\n4   I-ORG  0.837517     11    ##runt\
          \     33   37\n5   I-ORG  0.894039     12    ##erne     37   41\n6   I-ORG\
          \  0.942287     13    ##hmen     41   45\n7   I-ORG  0.854009     14   \
          \   Barn     46   50\n8   I-ORG  0.999464     15     ##st\xE4     50   53\n\
          9   I-ORG  0.999405     16      ##dt     53   55\n10  B-ORG  0.859655  \
          \   19         A     64   65\n11  I-ORG  0.666555     20     ##gra     65\
          \   68\n12  I-ORG  0.837543     21    ##rgen     68   72\n13  I-ORG  0.873205\
          \     22   ##ossen     72   77\n14  I-ORG  0.895725     23  ##schaft   \
          \  77   83\n15  I-ORG  0.915099     24       Bad     84   87\n16  I-ORG\
          \  0.997494     25         D     88   89\n17  I-ORG  0.996793     26   \
          \   ##\xFCr     89   91\n18  I-ORG  0.997110     27     ##ren     91   94\n\
          19  I-ORG  0.999065     28    ##berg     94   98\n\n  entity_group     score\
          \                                word  start  end\n0          ORG  0.998736\
          \                                  MZ     22   24\n1          ORG  0.863380\
          \          Agrarunternehmen Barnst\xE4dt     29   55\n2          ORG  0.903824\
          \  Agrargenossenschaft Bad D\xFCrrenberg     64   98\n</code></pre>\n<p>On\
          \ the other hand, the XML-R based model would be the preferred one... Is\
          \ there an easy way to achive this? - Thx!</p>\n"
        raw: "With  \"Davlan/bert-base-multilingual-cased-ner-hrl\" all ORGs are as\
          \ expected and the tagging format is IOB2 as well (nice):\n```\n   entity\
          \     score  index      word  start  end\n0   B-ORG  0.999398      6   \
          \      M     22   23\n1   I-ORG  0.998075      7       ##Z     23   24\n\
          2   B-ORG  0.835974      9         A     29   30\n3   I-ORG  0.544346  \
          \   10     ##gra     30   33\n4   I-ORG  0.837517     11    ##runt     33\
          \   37\n5   I-ORG  0.894039     12    ##erne     37   41\n6   I-ORG  0.942287\
          \     13    ##hmen     41   45\n7   I-ORG  0.854009     14      Barn   \
          \  46   50\n8   I-ORG  0.999464     15     ##st\xE4     50   53\n9   I-ORG\
          \  0.999405     16      ##dt     53   55\n10  B-ORG  0.859655     19   \
          \      A     64   65\n11  I-ORG  0.666555     20     ##gra     65   68\n\
          12  I-ORG  0.837543     21    ##rgen     68   72\n13  I-ORG  0.873205  \
          \   22   ##ossen     72   77\n14  I-ORG  0.895725     23  ##schaft     77\
          \   83\n15  I-ORG  0.915099     24       Bad     84   87\n16  I-ORG  0.997494\
          \     25         D     88   89\n17  I-ORG  0.996793     26      ##\xFCr\
          \     89   91\n18  I-ORG  0.997110     27     ##ren     91   94\n19  I-ORG\
          \  0.999065     28    ##berg     94   98\n\n  entity_group     score   \
          \                             word  start  end\n0          ORG  0.998736\
          \                                  MZ     22   24\n1          ORG  0.863380\
          \          Agrarunternehmen Barnst\xE4dt     29   55\n2          ORG  0.903824\
          \  Agrargenossenschaft Bad D\xFCrrenberg     64   98\n```\nOn the other\
          \ hand, the XML-R based model would be the preferred one... Is there an\
          \ easy way to achive this? - Thx!"
        updatedAt: '2022-07-27T13:43:23.614Z'
      numEdits: 0
      reactions: []
    id: 62e140fb64aac9d4899ecb1c
    type: comment
  author: TJC
  content: "With  \"Davlan/bert-base-multilingual-cased-ner-hrl\" all ORGs are as\
    \ expected and the tagging format is IOB2 as well (nice):\n```\n   entity    \
    \ score  index      word  start  end\n0   B-ORG  0.999398      6         M   \
    \  22   23\n1   I-ORG  0.998075      7       ##Z     23   24\n2   B-ORG  0.835974\
    \      9         A     29   30\n3   I-ORG  0.544346     10     ##gra     30  \
    \ 33\n4   I-ORG  0.837517     11    ##runt     33   37\n5   I-ORG  0.894039  \
    \   12    ##erne     37   41\n6   I-ORG  0.942287     13    ##hmen     41   45\n\
    7   I-ORG  0.854009     14      Barn     46   50\n8   I-ORG  0.999464     15 \
    \    ##st\xE4     50   53\n9   I-ORG  0.999405     16      ##dt     53   55\n\
    10  B-ORG  0.859655     19         A     64   65\n11  I-ORG  0.666555     20 \
    \    ##gra     65   68\n12  I-ORG  0.837543     21    ##rgen     68   72\n13 \
    \ I-ORG  0.873205     22   ##ossen     72   77\n14  I-ORG  0.895725     23  ##schaft\
    \     77   83\n15  I-ORG  0.915099     24       Bad     84   87\n16  I-ORG  0.997494\
    \     25         D     88   89\n17  I-ORG  0.996793     26      ##\xFCr     89\
    \   91\n18  I-ORG  0.997110     27     ##ren     91   94\n19  I-ORG  0.999065\
    \     28    ##berg     94   98\n\n  entity_group     score                   \
    \             word  start  end\n0          ORG  0.998736                     \
    \             MZ     22   24\n1          ORG  0.863380          Agrarunternehmen\
    \ Barnst\xE4dt     29   55\n2          ORG  0.903824  Agrargenossenschaft Bad\
    \ D\xFCrrenberg     64   98\n```\nOn the other hand, the XML-R based model would\
    \ be the preferred one... Is there an easy way to achive this? - Thx!"
  created_at: 2022-07-27 12:43:23+00:00
  edited: false
  hidden: false
  id: 62e140fb64aac9d4899ecb1c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1620642852901-5fcc1929563427b03e9af259.jpeg?w=200&h=200&f=face
      fullname: David Adelani
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: Davlan
      type: user
    createdAt: '2022-07-27T21:00:46.000Z'
    data:
      edited: false
      editors:
      - Davlan
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1620642852901-5fcc1929563427b03e9af259.jpeg?w=200&h=200&f=face
          fullname: David Adelani
          isHf: false
          isPro: false
          name: Davlan
          type: user
        html: '<p>Oh I see, maybe you can use my prediction function, but you need
          to modify a bit (tag set, model type , model name etc). <a rel="nofollow"
          href="https://github.com/masakhane-io/masakhane-ner/blob/main/code/predict_ner.py">https://github.com/masakhane-io/masakhane-ner/blob/main/code/predict_ner.py</a></p>

          '
        raw: Oh I see, maybe you can use my prediction function, but you need to modify
          a bit (tag set, model type , model name etc). https://github.com/masakhane-io/masakhane-ner/blob/main/code/predict_ner.py
        updatedAt: '2022-07-27T21:00:46.814Z'
      numEdits: 0
      reactions: []
    id: 62e1a77e4db2175cd276817b
    type: comment
  author: Davlan
  content: Oh I see, maybe you can use my prediction function, but you need to modify
    a bit (tag set, model type , model name etc). https://github.com/masakhane-io/masakhane-ner/blob/main/code/predict_ner.py
  created_at: 2022-07-27 20:00:46+00:00
  edited: false
  hidden: false
  id: 62e1a77e4db2175cd276817b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60d575dd91f9c97d552ba4a2/cR8S3F0QTZ6xQTd99IguV.png?w=200&h=200&f=face
      fullname: WangY
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: RoacherM
      type: user
    createdAt: '2023-02-01T16:02:46.000Z'
    data:
      edited: false
      editors:
      - RoacherM
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60d575dd91f9c97d552ba4a2/cR8S3F0QTZ6xQTd99IguV.png?w=200&h=200&f=face
          fullname: WangY
          isHf: false
          isPro: false
          name: RoacherM
          type: user
        html: '<p>The model cannot recognize "DATE" entity which in the config</p>

          '
        raw: The model cannot recognize "DATE" entity which in the config
        updatedAt: '2023-02-01T16:02:46.678Z'
      numEdits: 0
      reactions: []
    id: 63da8d2654fa80c5345c9330
    type: comment
  author: RoacherM
  content: The model cannot recognize "DATE" entity which in the config
  created_at: 2023-02-01 16:02:46+00:00
  edited: false
  hidden: false
  id: 63da8d2654fa80c5345c9330
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: Davlan/xlm-roberta-base-ner-hrl
repo_type: model
status: open
target_branch: null
title: Whitespace as ORG
