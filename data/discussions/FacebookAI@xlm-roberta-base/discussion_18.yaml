!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Kizaburo
conflicting_files: null
created_at: 2023-05-25 11:33:50+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/438c0b887bfe57707361c3ee7de99bcd.svg
      fullname: Keizaburo Takashiba
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Kizaburo
      type: user
    createdAt: '2023-05-25T12:33:50.000Z'
    data:
      edited: false
      editors:
      - Kizaburo
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/438c0b887bfe57707361c3ee7de99bcd.svg
          fullname: Keizaburo Takashiba
          isHf: false
          isPro: false
          name: Kizaburo
          type: user
        html: "<p>I\u2019m  using the modle like the code below.</p>\n<p>'''<br>from\
          \ sentence_transformers import SentenceTransformer<br>from torch import\
          \ nn<br>import torch<br>import numpy as np</p>\n<p>st = SentenceTransformer(\"\
          xlm-roberta-base\")<br>a = \"\u6700\u9AD8\u306E\u5546\u54C1\u3067\u3059\u306D\
          \u3002\u4F55\u56DE\u3082\u30EA\u30D4\u30FC\u30C8\u3057\u307E\u3059\u3002\
          \"<br>b = \"\u4F7F\u3044\u3065\u3089\u3044\uFF01\u4E8C\u5EA6\u3068\u8CB7\
          \u3044\u307E\u305B\u3093\u3002\"<br>x = st.encode(a)<br>y = st.encode(b)<br>x\
          \ = torch.from_numpy(x.astype(np.float32)).clone()<br>y = torch.from_numpy(y.astype(np.float32)).clone()<br>cos\
          \ = nn.CosineSimilarity(dim=0, eps=1e-6)</p>\n<p>print(cos(x, y))<br>'''</p>\n\
          <p>These sentences(a and b) are not similar,but the cosSimilarity Score\
          \ shows 0.9980.<br>I'm very new to NLP,So I don't know how to reslove this\
          \ problem.<br>Hope someone help me.</p>\n"
        raw: "I\u2019m  using the modle like the code below.\r\n\r\n'''\r\nfrom sentence_transformers\
          \ import SentenceTransformer\r\nfrom torch import nn\r\nimport torch\r\n\
          import numpy as np\r\n\r\nst = SentenceTransformer(\"xlm-roberta-base\"\
          )\r\na = \"\u6700\u9AD8\u306E\u5546\u54C1\u3067\u3059\u306D\u3002\u4F55\u56DE\
          \u3082\u30EA\u30D4\u30FC\u30C8\u3057\u307E\u3059\u3002\"\r\nb = \"\u4F7F\
          \u3044\u3065\u3089\u3044\uFF01\u4E8C\u5EA6\u3068\u8CB7\u3044\u307E\u305B\
          \u3093\u3002\"\r\nx = st.encode(a)\r\ny = st.encode(b)\r\nx = torch.from_numpy(x.astype(np.float32)).clone()\r\
          \ny = torch.from_numpy(y.astype(np.float32)).clone()\r\ncos = nn.CosineSimilarity(dim=0,\
          \ eps=1e-6)\r\n\r\nprint(cos(x, y))\r\n'''\r\n\r\nThese sentences(a and\
          \ b) are not similar,but the cosSimilarity Score shows 0.9980.\r\nI'm very\
          \ new to NLP,So I don't know how to reslove this problem.\r\nHope someone\
          \ help me."
        updatedAt: '2023-05-25T12:33:50.361Z'
      numEdits: 0
      reactions: []
    id: 646f55ae53ccbf0e8391c240
    type: comment
  author: Kizaburo
  content: "I\u2019m  using the modle like the code below.\r\n\r\n'''\r\nfrom sentence_transformers\
    \ import SentenceTransformer\r\nfrom torch import nn\r\nimport torch\r\nimport\
    \ numpy as np\r\n\r\nst = SentenceTransformer(\"xlm-roberta-base\")\r\na = \"\u6700\
    \u9AD8\u306E\u5546\u54C1\u3067\u3059\u306D\u3002\u4F55\u56DE\u3082\u30EA\u30D4\
    \u30FC\u30C8\u3057\u307E\u3059\u3002\"\r\nb = \"\u4F7F\u3044\u3065\u3089\u3044\
    \uFF01\u4E8C\u5EA6\u3068\u8CB7\u3044\u307E\u305B\u3093\u3002\"\r\nx = st.encode(a)\r\
    \ny = st.encode(b)\r\nx = torch.from_numpy(x.astype(np.float32)).clone()\r\ny\
    \ = torch.from_numpy(y.astype(np.float32)).clone()\r\ncos = nn.CosineSimilarity(dim=0,\
    \ eps=1e-6)\r\n\r\nprint(cos(x, y))\r\n'''\r\n\r\nThese sentences(a and b) are\
    \ not similar,but the cosSimilarity Score shows 0.9980.\r\nI'm very new to NLP,So\
    \ I don't know how to reslove this problem.\r\nHope someone help me."
  created_at: 2023-05-25 11:33:50+00:00
  edited: false
  hidden: false
  id: 646f55ae53ccbf0e8391c240
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a79fa360b7c5e941e4f07a0ebe2352dd.svg
      fullname: Jung Kim
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: astyperand
      type: user
    createdAt: '2023-07-27T23:32:54.000Z'
    data:
      edited: false
      editors:
      - astyperand
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7723020315170288
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a79fa360b7c5e941e4f07a0ebe2352dd.svg
          fullname: Jung Kim
          isHf: false
          isPro: false
          name: astyperand
          type: user
        html: '<p>Since you are using <code>SentenceTransformer</code> trying asking
          <a rel="nofollow" href="https://github.com/UKPLab/sentence-transformers/issues">https://github.com/UKPLab/sentence-transformers/issues</a><br>I
          used <code>SentenceTransformer(''paraphrase-multilingual-mpnet-base-v2'')</code>
          and got cosine_similarity of 0.43 for the 2 sentence in your example.</p>

          '
        raw: 'Since you are using `SentenceTransformer` trying asking https://github.com/UKPLab/sentence-transformers/issues

          I used `SentenceTransformer(''paraphrase-multilingual-mpnet-base-v2'')`
          and got cosine_similarity of 0.43 for the 2 sentence in your example.'
        updatedAt: '2023-07-27T23:32:54.183Z'
      numEdits: 0
      reactions: []
    id: 64c2fea65b7862ce872cabbb
    type: comment
  author: astyperand
  content: 'Since you are using `SentenceTransformer` trying asking https://github.com/UKPLab/sentence-transformers/issues

    I used `SentenceTransformer(''paraphrase-multilingual-mpnet-base-v2'')` and got
    cosine_similarity of 0.43 for the 2 sentence in your example.'
  created_at: 2023-07-27 22:32:54+00:00
  edited: false
  hidden: false
  id: 64c2fea65b7862ce872cabbb
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 18
repo_id: FacebookAI/xlm-roberta-base
repo_type: model
status: open
target_branch: null
title: Cosine Similarity is very high with Japanese Sentences
