!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Eduarda
conflicting_files: null
created_at: 2022-06-14 12:09:15+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bb43a87123d30f91617013ce99a3b0c9.svg
      fullname: Lacerda
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Eduarda
      type: user
    createdAt: '2022-06-14T13:09:15.000Z'
    data:
      edited: true
      editors:
      - Eduarda
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bb43a87123d30f91617013ce99a3b0c9.svg
          fullname: Lacerda
          isHf: false
          isPro: false
          name: Eduarda
          type: user
        html: "<p>Just by using the default code provided in the model's page, the\
          \ pipeline returns the error KeyError: 'logits'.  The pipeline is loaded\
          \ fine in the<code>pipe</code> variable but, when we test the pipeline with\
          \ a string, the snippet  <code>pipe('Tinha uma [MASK] no meio do caminho.')</code>\
          \ returns an error. I have tried multiple environments, and devices and\
          \ acquired the same result.</p>\n<pre><code>import torch\nfrom transformers\
          \ import AutoTokenizer\nfrom transformers import AutoModelForPreTraining\n\
          from transformers import AutoModel\n\u200B\nmodel = AutoModelForPreTraining.from_pretrained('neuralmind/bert-base-portuguese-cased')\n\
          tokenizer = AutoTokenizer.from_pretrained('neuralmind/bert-base-portuguese-cased',\
          \ do_lower_case=False)\n\u200B\nfrom transformers import pipeline\n\u200B\
          \npipe = pipeline('fill-mask', model=model, tokenizer=tokenizer)\n\u200B\
          \npipe('Tinha uma [MASK] no meio do caminho.')\n</code></pre>\n"
        raw: "Just by using the default code provided in the model's page, the pipeline\
          \ returns the error KeyError: 'logits'.  The pipeline is loaded fine in\
          \ the```pipe``` variable but, when we test the pipeline with a string, the\
          \ snippet  ```pipe('Tinha uma [MASK] no meio do caminho.')``` returns an\
          \ error. I have tried multiple environments, and devices and acquired the\
          \ same result.\n\n```\nimport torch\nfrom transformers import AutoTokenizer\n\
          from transformers import AutoModelForPreTraining\nfrom transformers import\
          \ AutoModel\n\u200B\nmodel = AutoModelForPreTraining.from_pretrained('neuralmind/bert-base-portuguese-cased')\n\
          tokenizer = AutoTokenizer.from_pretrained('neuralmind/bert-base-portuguese-cased',\
          \ do_lower_case=False)\n\u200B\nfrom transformers import pipeline\n\u200B\
          \npipe = pipeline('fill-mask', model=model, tokenizer=tokenizer)\n\u200B\
          \npipe('Tinha uma [MASK] no meio do caminho.')\n```\n"
        updatedAt: '2022-06-14T13:14:38.328Z'
      numEdits: 1
      reactions: []
    id: 62a8887baab3a14f80b47e55
    type: comment
  author: Eduarda
  content: "Just by using the default code provided in the model's page, the pipeline\
    \ returns the error KeyError: 'logits'.  The pipeline is loaded fine in the```pipe```\
    \ variable but, when we test the pipeline with a string, the snippet  ```pipe('Tinha\
    \ uma [MASK] no meio do caminho.')``` returns an error. I have tried multiple\
    \ environments, and devices and acquired the same result.\n\n```\nimport torch\n\
    from transformers import AutoTokenizer\nfrom transformers import AutoModelForPreTraining\n\
    from transformers import AutoModel\n\u200B\nmodel = AutoModelForPreTraining.from_pretrained('neuralmind/bert-base-portuguese-cased')\n\
    tokenizer = AutoTokenizer.from_pretrained('neuralmind/bert-base-portuguese-cased',\
    \ do_lower_case=False)\n\u200B\nfrom transformers import pipeline\n\u200B\npipe\
    \ = pipeline('fill-mask', model=model, tokenizer=tokenizer)\n\u200B\npipe('Tinha\
    \ uma [MASK] no meio do caminho.')\n```\n"
  created_at: 2022-06-14 12:09:15+00:00
  edited: true
  hidden: false
  id: 62a8887baab3a14f80b47e55
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/bb43a87123d30f91617013ce99a3b0c9.svg
      fullname: Lacerda
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Eduarda
      type: user
    createdAt: '2022-06-14T13:09:41.000Z'
    data:
      status: closed
    id: 62a88895aab3a14f80b48767
    type: status-change
  author: Eduarda
  created_at: 2022-06-14 12:09:41+00:00
  id: 62a88895aab3a14f80b48767
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/bb43a87123d30f91617013ce99a3b0c9.svg
      fullname: Lacerda
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Eduarda
      type: user
    createdAt: '2022-06-14T13:14:42.000Z'
    data:
      status: open
    id: 62a889c217b978a577b21c71
    type: status-change
  author: Eduarda
  created_at: 2022-06-14 12:14:42+00:00
  id: 62a889c217b978a577b21c71
  new_status: open
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bb43a87123d30f91617013ce99a3b0c9.svg
      fullname: Lacerda
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Eduarda
      type: user
    createdAt: '2022-06-14T13:45:48.000Z'
    data:
      edited: false
      editors:
      - Eduarda
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bb43a87123d30f91617013ce99a3b0c9.svg
          fullname: Lacerda
          isHf: false
          isPro: false
          name: Eduarda
          type: user
        html: '<p>When the model is downloaded directly from the pipeline function,
          the error is not displayed and the pipe returns the results for the [MASK]
          normally.</p>

          <pre><code>pipe = pipeline(''fill-mask'', model=''neuralmind/bert-base-portuguese-cased'')


          pipe("Tinha uma [MASK] no meio do caminho.")

          </code></pre>

          <p>Does any one know the reason for this?</p>

          '
        raw: 'When the model is downloaded directly from the pipeline function, the
          error is not displayed and the pipe returns the results for the [MASK] normally.


          ```

          pipe = pipeline(''fill-mask'', model=''neuralmind/bert-base-portuguese-cased'')


          pipe("Tinha uma [MASK] no meio do caminho.")

          ```


          Does any one know the reason for this?'
        updatedAt: '2022-06-14T13:45:48.825Z'
      numEdits: 0
      reactions: []
    id: 62a8910c7c94f9b5f6cc30fa
    type: comment
  author: Eduarda
  content: 'When the model is downloaded directly from the pipeline function, the
    error is not displayed and the pipe returns the results for the [MASK] normally.


    ```

    pipe = pipeline(''fill-mask'', model=''neuralmind/bert-base-portuguese-cased'')


    pipe("Tinha uma [MASK] no meio do caminho.")

    ```


    Does any one know the reason for this?'
  created_at: 2022-06-14 12:45:48+00:00
  edited: false
  hidden: false
  id: 62a8910c7c94f9b5f6cc30fa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a809e39386f6297cd142f29a9784b7a7.svg
      fullname: Barbosa
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Ramurti
      type: user
    createdAt: '2022-10-23T20:14:09.000Z'
    data:
      edited: false
      editors:
      - Ramurti
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a809e39386f6297cd142f29a9784b7a7.svg
          fullname: Barbosa
          isHf: false
          isPro: false
          name: Ramurti
          type: user
        html: '<p>I got the same error, trying in Colab.</p>

          '
        raw: I got the same error, trying in Colab.
        updatedAt: '2022-10-23T20:14:09.782Z'
      numEdits: 0
      reactions: []
    id: 6355a091525beaee688e0d6e
    type: comment
  author: Ramurti
  content: I got the same error, trying in Colab.
  created_at: 2022-10-23 19:14:09+00:00
  edited: false
  hidden: false
  id: 6355a091525beaee688e0d6e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: neuralmind/bert-base-portuguese-cased
repo_type: model
status: open
target_branch: null
title: The model's pipeline returns an error
