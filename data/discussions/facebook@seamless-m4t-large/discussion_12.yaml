!!python/object:huggingface_hub.community.DiscussionWithDetails
author: martincpt
conflicting_files: null
created_at: 2023-09-01 08:31:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/f75012ec3590d42f80a4e772e073a1a1.svg
      fullname: Martin Trapp
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: martincpt
      type: user
    createdAt: '2023-09-01T09:31:10.000Z'
    data:
      edited: false
      editors:
      - martincpt
      hidden: false
      identifiedLanguage:
        language: hu
        probability: 0.9272263646125793
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/f75012ec3590d42f80a4e772e073a1a1.svg
          fullname: Martin Trapp
          isHf: false
          isPro: false
          name: martincpt
          type: user
        html: "<p>I tried this model locally, but every time I give a longer text,\
          \ it does not translate sentences one to one like Google Translate does,\
          \ but translates an extracted summary instead. </p>\n<p>For example:</p>\n\
          <pre><code>m4t_predict \"A magyar v\xE1logatott Kerkez Milos csapata, a\
          \ Bournemouth 3\u20132-re nyert a walesi Swansea City vend\xE9gek\xE9nt\
          \ az angol labdar\xFAg\xF3 Ligakupa m\xE1sodik fordul\xF3j\xE1nak keddi\
          \ j\xE1t\xE9knapj\xE1n.\\n\\n Az angol m\xE1sodoszt\xE1lyban szerepl\u0151\
          \ Swansea otthon\xE1ban Kerkez a sz\xFCnetben l\xE9pett p\xE1ly\xE1ra cserek\xE9\
          nt. Egyg\xF3los gy\u0151zelm\xE9vel csapata a legjobb 32 k\xF6z\xE9 ker\xFC\
          lt. \\n\\n Fot\xF3: Getty Images Kerkez Milos \\n\\n Hegyi Kriszti\xE1n\
          \ v\xE9gigv\xE9dte a Stevenage m\xE9rk\u0151z\xE9s\xE9t az ugyancsak harmadoszt\xE1\
          ly\xFA Exeter otthon\xE1ban. A rendes j\xE1t\xE9kid\u0151 1\u20131-re v\xE9\
          gz\u0151d\xF6tt, a tizenegyesp\xE1rbajt pedig a hazaiak nyert\xE9k 5\u2013\
          4-re, vagyis a West Ham Unitedt\u0151l id\xE9n ny\xE1ron k\xF6lcs\xF6nvett\
          \ Hegyi egy\xFCttese kiesett. \\n\\n A j\xE1t\xE9knap t\xF6bbi m\xE9rk\u0151\
          z\xE9s\xE9n a k\xE9t \xE9lvonalbeli csapat, a Fulham \xE9s Tottenham csat\xE1\
          j\xE1b\xF3l el\u0151bbi ker\xFClt ki gy\u0151ztesen tizenegyesp\xE1rbajt\
          \ k\xF6vet\u0151en. Ange Postecoglu egy\xFCttese ennek \xE9rtelm\xE9ben\
          \ a Ligakupa korai szakasz\xE1ban b\xFAcs\xFAzott a sorozatt\xF3l.\" t2tt\
          \ eng --src_lang hun\n2023-08-30 13:34:28,734 INFO -- m4t_scripts.predict.predict:\
          \ Running inference on the CPU in torch.float32.\nUsing the cached checkpoint\
          \ of the model 'seamlessM4T_large'. Set `force=True` to download again.\n\
          Using the cached tokenizer of the model 'seamlessM4T_large'. Set `force=True`\
          \ to download again.\nUsing the cached checkpoint of the model 'vocoder_36langs'.\
          \ Set `force=True` to download again.\n2023-08-30 13:36:11,234 INFO -- m4t_scripts.predict.predict:\
          \ Translated text in eng: Kerkez Milos's Hungarian team, Bournemouth, beat\
          \ Swansea City 3-2 on Tuesday's second round of the English Football League\
          \ Cup. Kerkez Milos came on as a substitute at Swansea's home ground in\
          \ the English second division. With a one-goal victory, his team entered\
          \ the round of 32.\n</code></pre>\n<p><strong>Original hungarian text:</strong></p>\n\
          <p>A magyar v\xE1logatott Kerkez Milos csapata, a Bournemouth 3\u20132-re\
          \ nyert a walesi Swansea City vend\xE9gek\xE9nt az angol labdar\xFAg\xF3\
          \ Ligakupa m\xE1sodik fordul\xF3j\xE1nak keddi j\xE1t\xE9knapj\xE1n.</p>\n\
          <p>Az angol m\xE1sodoszt\xE1lyban szerepl\u0151 Swansea otthon\xE1ban Kerkez\
          \ a sz\xFCnetben l\xE9pett p\xE1ly\xE1ra cserek\xE9nt. Egyg\xF3los gy\u0151\
          zelm\xE9vel csapata a legjobb 32 k\xF6z\xE9 ker\xFClt. </p>\n<p>Fot\xF3\
          : Getty Images Kerkez Milos </p>\n<p>Hegyi Kriszti\xE1n v\xE9gigv\xE9dte\
          \ a Stevenage m\xE9rk\u0151z\xE9s\xE9t az ugyancsak harmadoszt\xE1ly\xFA\
          \ Exeter otthon\xE1ban. A rendes j\xE1t\xE9kid\u0151 1\u20131-re v\xE9gz\u0151\
          d\xF6tt, a tizenegyesp\xE1rbajt pedig a hazaiak nyert\xE9k 5\u20134-re,\
          \ vagyis a West Ham Unitedt\u0151l id\xE9n ny\xE1ron k\xF6lcs\xF6nvett Hegyi\
          \ egy\xFCttese kiesett. </p>\n<p>A j\xE1t\xE9knap t\xF6bbi m\xE9rk\u0151\
          z\xE9s\xE9n a k\xE9t \xE9lvonalbeli csapat, a Fulham \xE9s Tottenham csat\xE1\
          j\xE1b\xF3l el\u0151bbi ker\xFClt ki gy\u0151ztesen tizenegyesp\xE1rbajt\
          \ k\xF6vet\u0151en. Ange Postecoglu egy\xFCttese ennek \xE9rtelm\xE9ben\
          \ a Ligakupa korai szakasz\xE1ban b\xFAcs\xFAzott a sorozatt\xF3l.</p>\n\
          <p><strong>Translated english text:</strong></p>\n<p>Kerkez Milos's Hungarian\
          \ team, Bournemouth, beat Swansea City 3-2 on Tuesday's second round of\
          \ the English Football League Cup. Kerkez Milos came on as a substitute\
          \ at Swansea's home ground in the English second division. With a one-goal\
          \ victory, his team entered the round of 32.</p>\n<p>Why behaves like this?\
          \ Is there any way to get around this and get the \"<strong>classic</strong>\"\
          \ way of translating?</p>\n"
        raw: "I tried this model locally, but every time I give a longer text, it\
          \ does not translate sentences one to one like Google Translate does, but\
          \ translates an extracted summary instead. \r\n\r\nFor example:\r\n\r\n\
          ```\r\nm4t_predict \"A magyar v\xE1logatott Kerkez Milos csapata, a Bournemouth\
          \ 3\u20132-re nyert a walesi Swansea City vend\xE9gek\xE9nt az angol labdar\xFA\
          g\xF3 Ligakupa m\xE1sodik fordul\xF3j\xE1nak keddi j\xE1t\xE9knapj\xE1n.\\\
          n\\n Az angol m\xE1sodoszt\xE1lyban szerepl\u0151 Swansea otthon\xE1ban\
          \ Kerkez a sz\xFCnetben l\xE9pett p\xE1ly\xE1ra cserek\xE9nt. Egyg\xF3los\
          \ gy\u0151zelm\xE9vel csapata a legjobb 32 k\xF6z\xE9 ker\xFClt. \\n\\n\
          \ Fot\xF3: Getty Images Kerkez Milos \\n\\n Hegyi Kriszti\xE1n v\xE9gigv\xE9\
          dte a Stevenage m\xE9rk\u0151z\xE9s\xE9t az ugyancsak harmadoszt\xE1ly\xFA\
          \ Exeter otthon\xE1ban. A rendes j\xE1t\xE9kid\u0151 1\u20131-re v\xE9gz\u0151\
          d\xF6tt, a tizenegyesp\xE1rbajt pedig a hazaiak nyert\xE9k 5\u20134-re,\
          \ vagyis a West Ham Unitedt\u0151l id\xE9n ny\xE1ron k\xF6lcs\xF6nvett Hegyi\
          \ egy\xFCttese kiesett. \\n\\n A j\xE1t\xE9knap t\xF6bbi m\xE9rk\u0151z\xE9\
          s\xE9n a k\xE9t \xE9lvonalbeli csapat, a Fulham \xE9s Tottenham csat\xE1\
          j\xE1b\xF3l el\u0151bbi ker\xFClt ki gy\u0151ztesen tizenegyesp\xE1rbajt\
          \ k\xF6vet\u0151en. Ange Postecoglu egy\xFCttese ennek \xE9rtelm\xE9ben\
          \ a Ligakupa korai szakasz\xE1ban b\xFAcs\xFAzott a sorozatt\xF3l.\" t2tt\
          \ eng --src_lang hun\r\n2023-08-30 13:34:28,734 INFO -- m4t_scripts.predict.predict:\
          \ Running inference on the CPU in torch.float32.\r\nUsing the cached checkpoint\
          \ of the model 'seamlessM4T_large'. Set `force=True` to download again.\r\
          \nUsing the cached tokenizer of the model 'seamlessM4T_large'. Set `force=True`\
          \ to download again.\r\nUsing the cached checkpoint of the model 'vocoder_36langs'.\
          \ Set `force=True` to download again.\r\n2023-08-30 13:36:11,234 INFO --\
          \ m4t_scripts.predict.predict: Translated text in eng: Kerkez Milos's Hungarian\
          \ team, Bournemouth, beat Swansea City 3-2 on Tuesday's second round of\
          \ the English Football League Cup. Kerkez Milos came on as a substitute\
          \ at Swansea's home ground in the English second division. With a one-goal\
          \ victory, his team entered the round of 32.\r\n```\r\n\r\n**Original hungarian\
          \ text:**\r\n\r\nA magyar v\xE1logatott Kerkez Milos csapata, a Bournemouth\
          \ 3\u20132-re nyert a walesi Swansea City vend\xE9gek\xE9nt az angol labdar\xFA\
          g\xF3 Ligakupa m\xE1sodik fordul\xF3j\xE1nak keddi j\xE1t\xE9knapj\xE1n.\r\
          \n\r\nAz angol m\xE1sodoszt\xE1lyban szerepl\u0151 Swansea otthon\xE1ban\
          \ Kerkez a sz\xFCnetben l\xE9pett p\xE1ly\xE1ra cserek\xE9nt. Egyg\xF3los\
          \ gy\u0151zelm\xE9vel csapata a legjobb 32 k\xF6z\xE9 ker\xFClt. \r\n\r\n\
          Fot\xF3: Getty Images Kerkez Milos \r\n\r\nHegyi Kriszti\xE1n v\xE9gigv\xE9\
          dte a Stevenage m\xE9rk\u0151z\xE9s\xE9t az ugyancsak harmadoszt\xE1ly\xFA\
          \ Exeter otthon\xE1ban. A rendes j\xE1t\xE9kid\u0151 1\u20131-re v\xE9gz\u0151\
          d\xF6tt, a tizenegyesp\xE1rbajt pedig a hazaiak nyert\xE9k 5\u20134-re,\
          \ vagyis a West Ham Unitedt\u0151l id\xE9n ny\xE1ron k\xF6lcs\xF6nvett Hegyi\
          \ egy\xFCttese kiesett. \r\n\r\nA j\xE1t\xE9knap t\xF6bbi m\xE9rk\u0151\
          z\xE9s\xE9n a k\xE9t \xE9lvonalbeli csapat, a Fulham \xE9s Tottenham csat\xE1\
          j\xE1b\xF3l el\u0151bbi ker\xFClt ki gy\u0151ztesen tizenegyesp\xE1rbajt\
          \ k\xF6vet\u0151en. Ange Postecoglu egy\xFCttese ennek \xE9rtelm\xE9ben\
          \ a Ligakupa korai szakasz\xE1ban b\xFAcs\xFAzott a sorozatt\xF3l.\r\n\r\
          \n**Translated english text:**\r\n\r\nKerkez Milos's Hungarian team, Bournemouth,\
          \ beat Swansea City 3-2 on Tuesday's second round of the English Football\
          \ League Cup. Kerkez Milos came on as a substitute at Swansea's home ground\
          \ in the English second division. With a one-goal victory, his team entered\
          \ the round of 32.\r\n\r\n\r\nWhy behaves like this? Is there any way to\
          \ get around this and get the \"**classic**\" way of translating?"
        updatedAt: '2023-09-01T09:31:10.255Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - leamia
        - casic
        - twwch
    id: 64f1af5ec640c6d9571ec097
    type: comment
  author: martincpt
  content: "I tried this model locally, but every time I give a longer text, it does\
    \ not translate sentences one to one like Google Translate does, but translates\
    \ an extracted summary instead. \r\n\r\nFor example:\r\n\r\n```\r\nm4t_predict\
    \ \"A magyar v\xE1logatott Kerkez Milos csapata, a Bournemouth 3\u20132-re nyert\
    \ a walesi Swansea City vend\xE9gek\xE9nt az angol labdar\xFAg\xF3 Ligakupa m\xE1\
    sodik fordul\xF3j\xE1nak keddi j\xE1t\xE9knapj\xE1n.\\n\\n Az angol m\xE1sodoszt\xE1\
    lyban szerepl\u0151 Swansea otthon\xE1ban Kerkez a sz\xFCnetben l\xE9pett p\xE1\
    ly\xE1ra cserek\xE9nt. Egyg\xF3los gy\u0151zelm\xE9vel csapata a legjobb 32 k\xF6\
    z\xE9 ker\xFClt. \\n\\n Fot\xF3: Getty Images Kerkez Milos \\n\\n Hegyi Kriszti\xE1\
    n v\xE9gigv\xE9dte a Stevenage m\xE9rk\u0151z\xE9s\xE9t az ugyancsak harmadoszt\xE1\
    ly\xFA Exeter otthon\xE1ban. A rendes j\xE1t\xE9kid\u0151 1\u20131-re v\xE9gz\u0151\
    d\xF6tt, a tizenegyesp\xE1rbajt pedig a hazaiak nyert\xE9k 5\u20134-re, vagyis\
    \ a West Ham Unitedt\u0151l id\xE9n ny\xE1ron k\xF6lcs\xF6nvett Hegyi egy\xFC\
    ttese kiesett. \\n\\n A j\xE1t\xE9knap t\xF6bbi m\xE9rk\u0151z\xE9s\xE9n a k\xE9\
    t \xE9lvonalbeli csapat, a Fulham \xE9s Tottenham csat\xE1j\xE1b\xF3l el\u0151\
    bbi ker\xFClt ki gy\u0151ztesen tizenegyesp\xE1rbajt k\xF6vet\u0151en. Ange Postecoglu\
    \ egy\xFCttese ennek \xE9rtelm\xE9ben a Ligakupa korai szakasz\xE1ban b\xFAcs\xFA\
    zott a sorozatt\xF3l.\" t2tt eng --src_lang hun\r\n2023-08-30 13:34:28,734 INFO\
    \ -- m4t_scripts.predict.predict: Running inference on the CPU in torch.float32.\r\
    \nUsing the cached checkpoint of the model 'seamlessM4T_large'. Set `force=True`\
    \ to download again.\r\nUsing the cached tokenizer of the model 'seamlessM4T_large'.\
    \ Set `force=True` to download again.\r\nUsing the cached checkpoint of the model\
    \ 'vocoder_36langs'. Set `force=True` to download again.\r\n2023-08-30 13:36:11,234\
    \ INFO -- m4t_scripts.predict.predict: Translated text in eng: Kerkez Milos's\
    \ Hungarian team, Bournemouth, beat Swansea City 3-2 on Tuesday's second round\
    \ of the English Football League Cup. Kerkez Milos came on as a substitute at\
    \ Swansea's home ground in the English second division. With a one-goal victory,\
    \ his team entered the round of 32.\r\n```\r\n\r\n**Original hungarian text:**\r\
    \n\r\nA magyar v\xE1logatott Kerkez Milos csapata, a Bournemouth 3\u20132-re nyert\
    \ a walesi Swansea City vend\xE9gek\xE9nt az angol labdar\xFAg\xF3 Ligakupa m\xE1\
    sodik fordul\xF3j\xE1nak keddi j\xE1t\xE9knapj\xE1n.\r\n\r\nAz angol m\xE1sodoszt\xE1\
    lyban szerepl\u0151 Swansea otthon\xE1ban Kerkez a sz\xFCnetben l\xE9pett p\xE1\
    ly\xE1ra cserek\xE9nt. Egyg\xF3los gy\u0151zelm\xE9vel csapata a legjobb 32 k\xF6\
    z\xE9 ker\xFClt. \r\n\r\nFot\xF3: Getty Images Kerkez Milos \r\n\r\nHegyi Kriszti\xE1\
    n v\xE9gigv\xE9dte a Stevenage m\xE9rk\u0151z\xE9s\xE9t az ugyancsak harmadoszt\xE1\
    ly\xFA Exeter otthon\xE1ban. A rendes j\xE1t\xE9kid\u0151 1\u20131-re v\xE9gz\u0151\
    d\xF6tt, a tizenegyesp\xE1rbajt pedig a hazaiak nyert\xE9k 5\u20134-re, vagyis\
    \ a West Ham Unitedt\u0151l id\xE9n ny\xE1ron k\xF6lcs\xF6nvett Hegyi egy\xFC\
    ttese kiesett. \r\n\r\nA j\xE1t\xE9knap t\xF6bbi m\xE9rk\u0151z\xE9s\xE9n a k\xE9\
    t \xE9lvonalbeli csapat, a Fulham \xE9s Tottenham csat\xE1j\xE1b\xF3l el\u0151\
    bbi ker\xFClt ki gy\u0151ztesen tizenegyesp\xE1rbajt k\xF6vet\u0151en. Ange Postecoglu\
    \ egy\xFCttese ennek \xE9rtelm\xE9ben a Ligakupa korai szakasz\xE1ban b\xFAcs\xFA\
    zott a sorozatt\xF3l.\r\n\r\n**Translated english text:**\r\n\r\nKerkez Milos's\
    \ Hungarian team, Bournemouth, beat Swansea City 3-2 on Tuesday's second round\
    \ of the English Football League Cup. Kerkez Milos came on as a substitute at\
    \ Swansea's home ground in the English second division. With a one-goal victory,\
    \ his team entered the round of 32.\r\n\r\n\r\nWhy behaves like this? Is there\
    \ any way to get around this and get the \"**classic**\" way of translating?"
  created_at: 2023-09-01 08:31:10+00:00
  edited: false
  hidden: false
  id: 64f1af5ec640c6d9571ec097
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661470101034-605a1630f70acedea1f74abc.png?w=200&h=200&f=face
      fullname: David Dale
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: cointegrated
      type: user
    createdAt: '2023-10-09T14:54:20.000Z'
    data:
      edited: false
      editors:
      - cointegrated
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9339187145233154
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661470101034-605a1630f70acedea1f74abc.png?w=200&h=200&f=face
          fullname: David Dale
          isHf: false
          isPro: false
          name: cointegrated
          type: user
        html: '<p>The model behaves like this, because it was trained with single-sentence
          inputs and outputs. Thus, it is not supposed to accurately translate multiple-sentence
          texts.</p>

          <p>Thus, to get the "classic" way of translating, you need to split the
          source text into sentences, translate them independently from each other,
          and concatenate the translations into the resulting text.</p>

          <p>Please also see a related issue on Github: <a rel="nofollow" href="https://github.com/facebookresearch/seamless_communication/issues/174">https://github.com/facebookresearch/seamless_communication/issues/174</a></p>

          '
        raw: 'The model behaves like this, because it was trained with single-sentence
          inputs and outputs. Thus, it is not supposed to accurately translate multiple-sentence
          texts.


          Thus, to get the "classic" way of translating, you need to split the source
          text into sentences, translate them independently from each other, and concatenate
          the translations into the resulting text.


          Please also see a related issue on Github: https://github.com/facebookresearch/seamless_communication/issues/174'
        updatedAt: '2023-10-09T14:54:20.236Z'
      numEdits: 0
      reactions: []
    id: 6524141c66ebe051985b022d
    type: comment
  author: cointegrated
  content: 'The model behaves like this, because it was trained with single-sentence
    inputs and outputs. Thus, it is not supposed to accurately translate multiple-sentence
    texts.


    Thus, to get the "classic" way of translating, you need to split the source text
    into sentences, translate them independently from each other, and concatenate
    the translations into the resulting text.


    Please also see a related issue on Github: https://github.com/facebookresearch/seamless_communication/issues/174'
  created_at: 2023-10-09 13:54:20+00:00
  edited: false
  hidden: false
  id: 6524141c66ebe051985b022d
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: facebook/seamless-m4t-large
repo_type: model
status: open
target_branch: null
title: Why is it extracting a summary from longer texts?
