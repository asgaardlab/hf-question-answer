!!python/object:huggingface_hub.community.DiscussionWithDetails
author: jimazmarin
conflicting_files: null
created_at: 2023-05-25 12:17:27+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/26f73d2118ee6132507690be8b7dc16b.svg
      fullname: Jon Imaz
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: jimazmarin
      type: user
    createdAt: '2023-05-25T13:17:27.000Z'
    data:
      edited: false
      editors:
      - jimazmarin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/26f73d2118ee6132507690be8b7dc16b.svg
          fullname: Jon Imaz
          isHf: false
          isPro: false
          name: jimazmarin
          type: user
        html: '<p>I get the following error when running the example: transformers
          version 4.29.2</p>

          <p>NameError                                 Traceback (most recent call
          last)<br>Cell In [2], line 3<br>      1 from transformers import pipeline<br>----&gt;
          3 nlp = pipeline(<br>      4     "document-question-answering",<br>      5     model="impira/layoutlm-document-qa",<br>      6
          )<br>      8 nlp(<br>      9     "<a rel="nofollow" href="https://templates.invoicehome.com/invoice-template-us-neat-750px.png">https://templates.invoicehome.com/invoice-template-us-neat-750px.png</a>
          style="color:rgb(175,0,0)"&gt;",<br>     10     "What is the invoice number?"<br>     11
          )</p>

          <p>File /usr/local/lib/python3.8/dist-packages/transformers/pipelines/<strong>init</strong>.py:988,
          in pipeline(task, model, config, tokenizer, feature_extractor, image_processor,
          framework, revision, use_fast, use_auth_token, device, device_map, torch_dtype,
          trust_remote_code, model_kwargs, pipeline_class, **kwargs)<br>    985 if
          device is not None:<br>    986     kwargs["device"] = device<br>--&gt; 988
          return pipeline_class(model=model, framework=framework, task=task, **kwargs)</p>

          <p>File /usr/local/lib/python3.8/dist-packages/transformers/pipelines/document_question_answering.py:145,
          in DocumentQuestionAnsweringPipeline.<strong>init</strong>(self, *args,
          **kwargs)<br>    143         raise ValueError("Currently, the only supported
          VisionEncoderDecoder model is Donut")<br>    144 else:<br>--&gt; 145     self.check_model_type(MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING)<br>    146     if
          self.model.config.<strong>class</strong>.<strong>name</strong> == "LayoutLMConfig":<br>    147         self.model_type
          = ModelType.LayoutLM</p>

          <p>NameError: name ''MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING'' is
          not defined</p>

          '
        raw: "I get the following error when running the example: transformers version\
          \ 4.29.2\r\n\r\nNameError                                 Traceback (most\
          \ recent call last)\r\nCell In [2], line 3\r\n      1 from transformers\
          \ import pipeline\r\n----> 3 nlp = pipeline(\r\n      4     \"document-question-answering\"\
          ,\r\n      5     model=\"impira/layoutlm-document-qa\",\r\n      6 )\r\n\
          \      8 nlp(\r\n      9     \"https://templates.invoicehome.com/invoice-template-us-neat-750px.png\
          \ style=\"color:rgb(175,0,0)\">\",\r\n     10     \"What is the invoice\
          \ number?\"\r\n     11 )\r\n\r\nFile /usr/local/lib/python3.8/dist-packages/transformers/pipelines/__init__.py:988,\
          \ in pipeline(task, model, config, tokenizer, feature_extractor, image_processor,\
          \ framework, revision, use_fast, use_auth_token, device, device_map, torch_dtype,\
          \ trust_remote_code, model_kwargs, pipeline_class, **kwargs)\r\n    985\
          \ if device is not None:\r\n    986     kwargs[\"device\"] = device\r\n\
          --> 988 return pipeline_class(model=model, framework=framework, task=task,\
          \ **kwargs)\r\n\r\nFile /usr/local/lib/python3.8/dist-packages/transformers/pipelines/document_question_answering.py:145,\
          \ in DocumentQuestionAnsweringPipeline.__init__(self, *args, **kwargs)\r\
          \n    143         raise ValueError(\"Currently, the only supported VisionEncoderDecoder\
          \ model is Donut\")\r\n    144 else:\r\n--> 145     self.check_model_type(MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING)\r\
          \n    146     if self.model.config.__class__.__name__ == \"LayoutLMConfig\"\
          :\r\n    147         self.model_type = ModelType.LayoutLM\r\n\r\nNameError:\
          \ name 'MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING' is not defined"
        updatedAt: '2023-05-25T13:17:27.137Z'
      numEdits: 0
      reactions: []
    id: 646f5fe73dd912a539e2feba
    type: comment
  author: jimazmarin
  content: "I get the following error when running the example: transformers version\
    \ 4.29.2\r\n\r\nNameError                                 Traceback (most recent\
    \ call last)\r\nCell In [2], line 3\r\n      1 from transformers import pipeline\r\
    \n----> 3 nlp = pipeline(\r\n      4     \"document-question-answering\",\r\n\
    \      5     model=\"impira/layoutlm-document-qa\",\r\n      6 )\r\n      8 nlp(\r\
    \n      9     \"https://templates.invoicehome.com/invoice-template-us-neat-750px.png\
    \ style=\"color:rgb(175,0,0)\">\",\r\n     10     \"What is the invoice number?\"\
    \r\n     11 )\r\n\r\nFile /usr/local/lib/python3.8/dist-packages/transformers/pipelines/__init__.py:988,\
    \ in pipeline(task, model, config, tokenizer, feature_extractor, image_processor,\
    \ framework, revision, use_fast, use_auth_token, device, device_map, torch_dtype,\
    \ trust_remote_code, model_kwargs, pipeline_class, **kwargs)\r\n    985 if device\
    \ is not None:\r\n    986     kwargs[\"device\"] = device\r\n--> 988 return pipeline_class(model=model,\
    \ framework=framework, task=task, **kwargs)\r\n\r\nFile /usr/local/lib/python3.8/dist-packages/transformers/pipelines/document_question_answering.py:145,\
    \ in DocumentQuestionAnsweringPipeline.__init__(self, *args, **kwargs)\r\n   \
    \ 143         raise ValueError(\"Currently, the only supported VisionEncoderDecoder\
    \ model is Donut\")\r\n    144 else:\r\n--> 145     self.check_model_type(MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING)\r\
    \n    146     if self.model.config.__class__.__name__ == \"LayoutLMConfig\":\r\
    \n    147         self.model_type = ModelType.LayoutLM\r\n\r\nNameError: name\
    \ 'MODEL_FOR_DOCUMENT_QUESTION_ANSWERING_MAPPING' is not defined"
  created_at: 2023-05-25 12:17:27+00:00
  edited: false
  hidden: false
  id: 646f5fe73dd912a539e2feba
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/298354718093003858eeb7db35ae13e2.svg
      fullname: Komal Gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Komal01
      type: user
    createdAt: '2024-01-18T05:07:32.000Z'
    data:
      edited: false
      editors:
      - Komal01
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9559863805770874
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/298354718093003858eeb7db35ae13e2.svg
          fullname: Komal Gupta
          isHf: false
          isPro: false
          name: Komal01
          type: user
        html: '<p>Hi, Did you find any fix for this issue?</p>

          '
        raw: 'Hi, Did you find any fix for this issue?

          '
        updatedAt: '2024-01-18T05:07:32.539Z'
      numEdits: 0
      reactions: []
    id: 65a8b2145afb452aae96c065
    type: comment
  author: Komal01
  content: 'Hi, Did you find any fix for this issue?

    '
  created_at: 2024-01-18 05:07:32+00:00
  edited: false
  hidden: false
  id: 65a8b2145afb452aae96c065
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 13
repo_id: impira/layoutlm-document-qa
repo_type: model
status: open
target_branch: null
title: Error in the pipeline
