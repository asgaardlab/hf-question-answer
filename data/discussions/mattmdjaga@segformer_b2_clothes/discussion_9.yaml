!!python/object:huggingface_hub.community.DiscussionWithDetails
author: deepakkumhar
conflicting_files: null
created_at: 2023-07-20 12:07:23+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
      fullname: deepak prajapat
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepakkumhar
      type: user
    createdAt: '2023-07-20T13:07:23.000Z'
    data:
      edited: true
      editors:
      - deepakkumhar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8973952531814575
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
          fullname: deepak prajapat
          isHf: false
          isPro: false
          name: deepakkumhar
          type: user
        html: '<p>how to save output of the image ?</p>

          '
        raw: 'how to save output of the image ?

          '
        updatedAt: '2023-07-20T13:08:00.799Z'
      numEdits: 2
      reactions: []
    id: 64b9318b2f796fffbb0c8ba5
    type: comment
  author: deepakkumhar
  content: 'how to save output of the image ?

    '
  created_at: 2023-07-20 12:07:23+00:00
  edited: true
  hidden: false
  id: 64b9318b2f796fffbb0c8ba5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
      fullname: deepak prajapat
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepakkumhar
      type: user
    createdAt: '2023-07-20T13:07:45.000Z'
    data:
      from: how to save output image
      to: how to save output image?
    id: 64b931a16b5ee8c388700ae9
    type: title-change
  author: deepakkumhar
  created_at: 2023-07-20 12:07:45+00:00
  id: 64b931a16b5ee8c388700ae9
  new_title: how to save output image?
  old_title: how to save output image
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-07-20T14:12:00.000Z'
    data:
      edited: false
      editors:
      - mattmdjaga
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.18489013612270355
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
          fullname: Mateusz Dziemian
          isHf: false
          isPro: false
          name: mattmdjaga
          type: user
        html: '<p>If you use the sample code then one way is:<br>plt.imsave("test.png",
          pred_seg)</p>

          '
        raw: 'If you use the sample code then one way is:

          plt.imsave("test.png", pred_seg)

          '
        updatedAt: '2023-07-20T14:12:00.238Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - deepakkumhar
    id: 64b940b0d6ced0fd74c8aac9
    type: comment
  author: mattmdjaga
  content: 'If you use the sample code then one way is:

    plt.imsave("test.png", pred_seg)

    '
  created_at: 2023-07-20 13:12:00+00:00
  edited: false
  hidden: false
  id: 64b940b0d6ced0fd74c8aac9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
      fullname: deepak prajapat
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepakkumhar
      type: user
    createdAt: '2023-07-21T05:46:57.000Z'
    data:
      edited: true
      editors:
      - deepakkumhar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.17838376760482788
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
          fullname: deepak prajapat
          isHf: false
          isPro: false
          name: deepakkumhar
          type: user
        html: '<blockquote>

          <p>If you use the sample code then one way is:<br>plt.imsave("test.png",
          pred_seg)</p>

          </blockquote>

          <p>okay it''s working perfect. can  i get predication mask with key value
          like {"object":"shoes","mask-color":"red"}</p>

          '
        raw: '> If you use the sample code then one way is:

          > plt.imsave("test.png", pred_seg)


          okay it''s working perfect. can  i get predication mask with key value like
          {"object":"shoes","mask-color":"red"}'
        updatedAt: '2023-07-21T05:49:28.696Z'
      numEdits: 1
      reactions: []
    id: 64ba1bd1c41bf217c12f2354
    type: comment
  author: deepakkumhar
  content: '> If you use the sample code then one way is:

    > plt.imsave("test.png", pred_seg)


    okay it''s working perfect. can  i get predication mask with key value like {"object":"shoes","mask-color":"red"}'
  created_at: 2023-07-21 04:46:57+00:00
  edited: true
  hidden: false
  id: 64ba1bd1c41bf217c12f2354
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-07-21T09:47:52.000Z'
    data:
      edited: true
      editors:
      - mattmdjaga
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.48245400190353394
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
          fullname: Mateusz Dziemian
          isHf: false
          isPro: false
          name: mattmdjaga
          type: user
        html: '<p>Not sure if this is what you mean, but the code below uses pred_seg
          and turns the shoe labels into red and everything else into black:</p>

          <pre><code># Change prediction to RGB

          rgb_seg = torch.cat([pred_seg.unsqueeze(0)] * 3, dim=0).permute(1, 2, 0)


          # Create mask for the target class

          mask_9 = (rgb_seg == 9).all(dim=-1)

          mask_10 = (rgb_seg == 10).all(dim=-1)


          # Combine the masks

          mask = mask_9 | mask_10


          # Create a tensor with the target replacement value

          new_values = torch.tensor([255, 0, 0])


          # Expand dimensions of `new_values` to match `tensor`

          new_values = new_values[None, None, :].expand_as(rgb_seg)


          # Apply the mask to the original tensor

          rgb_seg[mask] = new_values[mask]


          # Filter out all other classes

          rgb_seg[~mask] = torch.tensor([0, 0, 0])


          plt.imsave("seg.png", rgb_seg.numpy().astype("uint8"))

          </code></pre>

          <p>There''s probably way simpler and more efficient ways to do this tho.</p>

          '
        raw: 'Not sure if this is what you mean, but the code below uses pred_seg
          and turns the shoe labels into red and everything else into black:

          ```

          # Change prediction to RGB

          rgb_seg = torch.cat([pred_seg.unsqueeze(0)] * 3, dim=0).permute(1, 2, 0)


          # Create mask for the target class

          mask_9 = (rgb_seg == 9).all(dim=-1)

          mask_10 = (rgb_seg == 10).all(dim=-1)


          # Combine the masks

          mask = mask_9 | mask_10


          # Create a tensor with the target replacement value

          new_values = torch.tensor([255, 0, 0])


          # Expand dimensions of `new_values` to match `tensor`

          new_values = new_values[None, None, :].expand_as(rgb_seg)


          # Apply the mask to the original tensor

          rgb_seg[mask] = new_values[mask]


          # Filter out all other classes

          rgb_seg[~mask] = torch.tensor([0, 0, 0])


          plt.imsave("seg.png", rgb_seg.numpy().astype("uint8"))

          ```

          There''s probably way simpler and more efficient ways to do this tho.'
        updatedAt: '2023-07-21T09:49:54.177Z'
      numEdits: 2
      reactions: []
    id: 64ba54481e53e10faf046c8d
    type: comment
  author: mattmdjaga
  content: 'Not sure if this is what you mean, but the code below uses pred_seg and
    turns the shoe labels into red and everything else into black:

    ```

    # Change prediction to RGB

    rgb_seg = torch.cat([pred_seg.unsqueeze(0)] * 3, dim=0).permute(1, 2, 0)


    # Create mask for the target class

    mask_9 = (rgb_seg == 9).all(dim=-1)

    mask_10 = (rgb_seg == 10).all(dim=-1)


    # Combine the masks

    mask = mask_9 | mask_10


    # Create a tensor with the target replacement value

    new_values = torch.tensor([255, 0, 0])


    # Expand dimensions of `new_values` to match `tensor`

    new_values = new_values[None, None, :].expand_as(rgb_seg)


    # Apply the mask to the original tensor

    rgb_seg[mask] = new_values[mask]


    # Filter out all other classes

    rgb_seg[~mask] = torch.tensor([0, 0, 0])


    plt.imsave("seg.png", rgb_seg.numpy().astype("uint8"))

    ```

    There''s probably way simpler and more efficient ways to do this tho.'
  created_at: 2023-07-21 08:47:52+00:00
  edited: true
  hidden: false
  id: 64ba54481e53e10faf046c8d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
      fullname: deepak prajapat
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepakkumhar
      type: user
    createdAt: '2023-07-24T10:20:36.000Z'
    data:
      edited: true
      editors:
      - deepakkumhar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9704559445381165
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
          fullname: deepak prajapat
          isHf: false
          isPro: false
          name: deepakkumhar
          type: user
        html: '<p>okay working. is there any way to train on my custom image?</p>

          '
        raw: 'okay working. is there any way to train on my custom image?

          '
        updatedAt: '2023-07-24T10:20:50.573Z'
      numEdits: 1
      reactions: []
    id: 64be5074cf4f379eebbcaa5f
    type: comment
  author: deepakkumhar
  content: 'okay working. is there any way to train on my custom image?

    '
  created_at: 2023-07-24 09:20:36+00:00
  edited: true
  hidden: false
  id: 64be5074cf4f379eebbcaa5f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-07-24T10:34:20.000Z'
    data:
      edited: false
      editors:
      - mattmdjaga
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8481230735778809
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
          fullname: Mateusz Dziemian
          isHf: false
          isPro: false
          name: mattmdjaga
          type: user
        html: '<p>Yes you can train this like any other model on hugging face, here
          is one tutorial from hugging face on fine tuning/ training image segmentation
          models:<br><a href="https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation">https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation</a></p>

          '
        raw: 'Yes you can train this like any other model on hugging face, here is
          one tutorial from hugging face on fine tuning/ training image segmentation
          models:

          https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation'
        updatedAt: '2023-07-24T10:34:20.135Z'
      numEdits: 0
      reactions: []
    id: 64be53acb567ae97c3519f8c
    type: comment
  author: mattmdjaga
  content: 'Yes you can train this like any other model on hugging face, here is one
    tutorial from hugging face on fine tuning/ training image segmentation models:

    https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation'
  created_at: 2023-07-24 09:34:20+00:00
  edited: false
  hidden: false
  id: 64be53acb567ae97c3519f8c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-08-03T10:29:16.000Z'
    data:
      status: closed
    id: 64cb817cb704b85147990c88
    type: status-change
  author: mattmdjaga
  created_at: 2023-08-03 09:29:16+00:00
  id: 64cb817cb704b85147990c88
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
      fullname: deepak prajapat
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepakkumhar
      type: user
    createdAt: '2023-08-03T10:32:31.000Z'
    data:
      edited: false
      editors:
      - deepakkumhar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8411487340927124
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b968eecba5432ed66843e5cbd8ad6e8e.svg
          fullname: deepak prajapat
          isHf: false
          isPro: false
          name: deepakkumhar
          type: user
        html: '<blockquote>

          <p>Yes you can train this like any other model on hugging face, here is
          one tutorial from hugging face on fine tuning/ training image segmentation
          models:<br><a href="https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation">https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation</a></p>

          </blockquote>

          <p>thank you</p>

          '
        raw: '> Yes you can train this like any other model on hugging face, here
          is one tutorial from hugging face on fine tuning/ training image segmentation
          models:

          > https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation


          thank you

          '
        updatedAt: '2023-08-03T10:32:31.599Z'
      numEdits: 0
      reactions: []
    id: 64cb823fead94891d1fe43e8
    type: comment
  author: deepakkumhar
  content: '> Yes you can train this like any other model on hugging face, here is
    one tutorial from hugging face on fine tuning/ training image segmentation models:

    > https://huggingface.co/docs/transformers/main/tasks/semantic_segmentation


    thank you

    '
  created_at: 2023-08-03 09:32:31+00:00
  edited: false
  hidden: false
  id: 64cb823fead94891d1fe43e8
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: mattmdjaga/segformer_b2_clothes
repo_type: model
status: closed
target_branch: null
title: how to save output image?
