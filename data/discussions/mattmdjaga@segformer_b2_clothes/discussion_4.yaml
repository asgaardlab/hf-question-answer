!!python/object:huggingface_hub.community.DiscussionWithDetails
author: abh1jeetpandey
conflicting_files: null
created_at: 2023-06-13 09:12:46+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0acfad737c1db482adfa718a412b11.svg
      fullname: AbhijeetPandey
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: abh1jeetpandey
      type: user
    createdAt: '2023-06-13T10:12:46.000Z'
    data:
      edited: false
      editors:
      - abh1jeetpandey
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9459794163703918
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0acfad737c1db482adfa718a412b11.svg
          fullname: AbhijeetPandey
          isHf: false
          isPro: false
          name: abh1jeetpandey
          type: user
        html: '<p>I want to know is there any way so that i can segment only specific
          class , and use that to create mask </p>

          '
        raw: 'I want to know is there any way so that i can segment only specific
          class , and use that to create mask '
        updatedAt: '2023-06-13T10:12:46.529Z'
      numEdits: 0
      reactions: []
    id: 6488411ecd9f45eeaaaf2507
    type: comment
  author: abh1jeetpandey
  content: 'I want to know is there any way so that i can segment only specific class
    , and use that to create mask '
  created_at: 2023-06-13 09:12:46+00:00
  edited: false
  hidden: false
  id: 6488411ecd9f45eeaaaf2507
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-06-13T10:23:14.000Z'
    data:
      edited: false
      editors:
      - mattmdjaga
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8105410933494568
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
          fullname: Mateusz Dziemian
          isHf: false
          isPro: false
          name: mattmdjaga
          type: user
        html: '<p>So the output is a 2D image where each pixel is the prediction class,
          and the classes are  "0": "Background", "1": "Hat", "2": "Hair", "3": "Sunglasses",
          "4": "Upper-clothes", "5": "Skirt", "6": "Pants", "7": "Dress", "8": "Belt",
          "9": "Left-shoe", "10": "Right-shoe", "11": "Face", "12": "Left-leg", "13":
          "Right-leg", "14": "Left-arm", "15": "Right-arm", "16": "Bag", "17": "Scarf".
          So you can''t segment "car" using this model, but you can change the mask
          to only have one class by doing something like output[output != 1] = 0,
          and this would change everything that isn''t a hat to 0.<br>Hope that this
          answers your question.</p>

          '
        raw: "So the output is a 2D image where each pixel is the prediction class,\
          \ and the classes are  \"0\": \"Background\", \"1\": \"Hat\", \"2\": \"\
          Hair\", \"3\": \"Sunglasses\", \"4\": \"Upper-clothes\", \"5\": \"Skirt\"\
          , \"6\": \"Pants\", \"7\": \"Dress\", \"8\": \"Belt\", \"9\": \"Left-shoe\"\
          , \"10\": \"Right-shoe\", \"11\": \"Face\", \"12\": \"Left-leg\", \"13\"\
          : \"Right-leg\", \"14\": \"Left-arm\", \"15\": \"Right-arm\", \"16\": \"\
          Bag\", \"17\": \"Scarf\". So you can't segment \"car\" using this model,\
          \ but you can change the mask to only have one class by doing something\
          \ like output[output != 1] = 0, and this would change everything that isn't\
          \ a hat to 0. \nHope that this answers your question."
        updatedAt: '2023-06-13T10:23:14.593Z'
      numEdits: 0
      reactions: []
    id: 64884392b7633875e11c3746
    type: comment
  author: mattmdjaga
  content: "So the output is a 2D image where each pixel is the prediction class,\
    \ and the classes are  \"0\": \"Background\", \"1\": \"Hat\", \"2\": \"Hair\"\
    , \"3\": \"Sunglasses\", \"4\": \"Upper-clothes\", \"5\": \"Skirt\", \"6\": \"\
    Pants\", \"7\": \"Dress\", \"8\": \"Belt\", \"9\": \"Left-shoe\", \"10\": \"Right-shoe\"\
    , \"11\": \"Face\", \"12\": \"Left-leg\", \"13\": \"Right-leg\", \"14\": \"Left-arm\"\
    , \"15\": \"Right-arm\", \"16\": \"Bag\", \"17\": \"Scarf\". So you can't segment\
    \ \"car\" using this model, but you can change the mask to only have one class\
    \ by doing something like output[output != 1] = 0, and this would change everything\
    \ that isn't a hat to 0. \nHope that this answers your question."
  created_at: 2023-06-13 09:23:14+00:00
  edited: false
  hidden: false
  id: 64884392b7633875e11c3746
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0acfad737c1db482adfa718a412b11.svg
      fullname: AbhijeetPandey
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: abh1jeetpandey
      type: user
    createdAt: '2023-06-13T10:38:51.000Z'
    data:
      edited: false
      editors:
      - abh1jeetpandey
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7191855907440186
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0acfad737c1db482adfa718a412b11.svg
          fullname: AbhijeetPandey
          isHf: false
          isPro: false
          name: abh1jeetpandey
          type: user
        html: '<p>Sorry for the naive question ,  the api gives<br>pred_seg = upsampled_logits.argmax(dim=1)[0]<br>plt.imshow(pred_seg)<br>image
          with all the segmented class as output,<br>what should i do to get only
          "SKIRT" mask ?</p>

          '
        raw: "Sorry for the naive question ,  the api gives \npred_seg = upsampled_logits.argmax(dim=1)[0]\n\
          plt.imshow(pred_seg)\nimage with all the segmented class as output,\nwhat\
          \ should i do to get only \"SKIRT\" mask ?"
        updatedAt: '2023-06-13T10:38:51.893Z'
      numEdits: 0
      reactions: []
    id: 6488473b6cc0f5798909e48b
    type: comment
  author: abh1jeetpandey
  content: "Sorry for the naive question ,  the api gives \npred_seg = upsampled_logits.argmax(dim=1)[0]\n\
    plt.imshow(pred_seg)\nimage with all the segmented class as output,\nwhat should\
    \ i do to get only \"SKIRT\" mask ?"
  created_at: 2023-06-13 09:38:51+00:00
  edited: false
  hidden: false
  id: 6488473b6cc0f5798909e48b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-06-13T10:59:41.000Z'
    data:
      edited: false
      editors:
      - mattmdjaga
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.49124860763549805
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
          fullname: Mateusz Dziemian
          isHf: false
          isPro: false
          name: mattmdjaga
          type: user
        html: '<p>try this in the line before plt.imshow(pred_seg) :</p>

          <p>pred_seg[pred_seg != 5] = 0</p>

          '
        raw: 'try this in the line before plt.imshow(pred_seg) :


          pred_seg[pred_seg != 5] = 0'
        updatedAt: '2023-06-13T10:59:41.083Z'
      numEdits: 0
      reactions: []
    id: 64884c1ddb186e19a63e5ea7
    type: comment
  author: mattmdjaga
  content: 'try this in the line before plt.imshow(pred_seg) :


    pred_seg[pred_seg != 5] = 0'
  created_at: 2023-06-13 09:59:41+00:00
  edited: false
  hidden: false
  id: 64884c1ddb186e19a63e5ea7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5a0acfad737c1db482adfa718a412b11.svg
      fullname: AbhijeetPandey
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: abh1jeetpandey
      type: user
    createdAt: '2023-06-13T11:41:16.000Z'
    data:
      edited: false
      editors:
      - abh1jeetpandey
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7324749231338501
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5a0acfad737c1db482adfa718a412b11.svg
          fullname: AbhijeetPandey
          isHf: false
          isPro: false
          name: abh1jeetpandey
          type: user
        html: '<p>This creates a tensor of size  [class <em>height</em>width] . which
          i am unable to convert to PIL image. how this can be done</p>

          '
        raw: This creates a tensor of size  [class *height*width] . which i am unable
          to convert to PIL image. how this can be done
        updatedAt: '2023-06-13T11:41:16.292Z'
      numEdits: 0
      reactions: []
    id: 648855dc0931d72733f0e58e
    type: comment
  author: abh1jeetpandey
  content: This creates a tensor of size  [class *height*width] . which i am unable
    to convert to PIL image. how this can be done
  created_at: 2023-06-13 10:41:16+00:00
  edited: false
  hidden: false
  id: 648855dc0931d72733f0e58e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-06-14T12:42:06.000Z'
    data:
      edited: false
      editors:
      - mattmdjaga
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7932069301605225
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
          fullname: Mateusz Dziemian
          isHf: false
          isPro: false
          name: mattmdjaga
          type: user
        html: '<p>sorry for the delay, try:<br>arr_seg = pred_seg.cpu().numpy().astype("uint8")<br>pil_seg
          = Image.fromarray(arr_seg)</p>

          <p>pil_seg should be a pil image, keep in mind that the values are between
          0-17, so you might need to do something like<br>arr_seg *= 255 or arr_seg[arr_seg
          &gt; 0] = 255<br>in order to see the mask in a pil image</p>

          '
        raw: "sorry for the delay, try:\narr_seg = pred_seg.cpu().numpy().astype(\"\
          uint8\")\npil_seg = Image.fromarray(arr_seg)\n\npil_seg should be a pil\
          \ image, keep in mind that the values are between 0-17, so you might need\
          \ to do something like\narr_seg *= 255 or arr_seg[arr_seg > 0] = 255 \n\
          in order to see the mask in a pil image"
        updatedAt: '2023-06-14T12:42:06.401Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - mrrandom123
    id: 6489b59e037ec255bd272e1a
    type: comment
  author: mattmdjaga
  content: "sorry for the delay, try:\narr_seg = pred_seg.cpu().numpy().astype(\"\
    uint8\")\npil_seg = Image.fromarray(arr_seg)\n\npil_seg should be a pil image,\
    \ keep in mind that the values are between 0-17, so you might need to do something\
    \ like\narr_seg *= 255 or arr_seg[arr_seg > 0] = 255 \nin order to see the mask\
    \ in a pil image"
  created_at: 2023-06-14 11:42:06+00:00
  edited: false
  hidden: false
  id: 6489b59e037ec255bd272e1a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672308144997-noauth.jpeg?w=200&h=200&f=face
      fullname: Chirag sharma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mrrandom123
      type: user
    createdAt: '2023-06-23T20:31:12.000Z'
    data:
      edited: false
      editors:
      - mrrandom123
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7797057628631592
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672308144997-noauth.jpeg?w=200&h=200&f=face
          fullname: Chirag sharma
          isHf: false
          isPro: false
          name: mrrandom123
          type: user
        html: "<p>Thanks <span data-props=\"{&quot;user&quot;:&quot;mattmdjaga&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/mattmdjaga\"\
          >@<span class=\"underline\">mattmdjaga</span></a></span>\n\n\t</span></span>\
          \ that works</p>\n"
        raw: Thanks @mattmdjaga that works
        updatedAt: '2023-06-23T20:31:12.359Z'
      numEdits: 0
      reactions: []
    id: 649601105d127f28d612726a
    type: comment
  author: mrrandom123
  content: Thanks @mattmdjaga that works
  created_at: 2023-06-23 19:31:12+00:00
  edited: false
  hidden: false
  id: 649601105d127f28d612726a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62710bd57b9f120adb36e451/xv02RE8VgayDPDE6jkwV2.png?w=200&h=200&f=face
      fullname: Mateusz Dziemian
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: mattmdjaga
      type: user
    createdAt: '2023-06-28T09:54:36.000Z'
    data:
      status: closed
    id: 649c035c0a29ac040a2ac5af
    type: status-change
  author: mattmdjaga
  created_at: 2023-06-28 08:54:36+00:00
  id: 649c035c0a29ac040a2ac5af
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: mattmdjaga/segformer_b2_clothes
repo_type: model
status: closed
target_branch: null
title: Any way to segment only one class , say 'car'
