!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Mincookie
conflicting_files: null
created_at: 2023-06-28 10:08:42+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1657377941883-noauth.jpeg?w=200&h=200&f=face
      fullname: Min T
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Mincookie
      type: user
    createdAt: '2023-06-28T11:08:42.000Z'
    data:
      edited: false
      editors:
      - Mincookie
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6381975412368774
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1657377941883-noauth.jpeg?w=200&h=200&f=face
          fullname: Min T
          isHf: false
          isPro: false
          name: Mincookie
          type: user
        html: "<p>Hi there, I'm currently attempting to vectorize strings locally\
          \ by downloading all the files from the hugging face repo. Which JSON file\
          \ should I be referencing  and how should I be setting up the arguments?\
          \ </p>\n<p>I've currently setup a testing scratch file like this: </p>\n\
          <pre><code>from sentence_transformers import SentenceTransformer\nsentences\
          \ = [\"This is an example sentence\", \"Each sentence is converted\"]\n\n\
          json_file = [\"config.json\", \"data_config.json\", \"modules.json\", \"\
          sentence_bert_config.json\", \"special_tokens_map.json\", \"tokenizer.json\"\
          , \"tokenizer_config.json\"]\n\nfor json in json_file:\n    try:\n     \
          \   model = SentenceTransformer(rf'C:\\Users\\MinCookie\\Documents\\git_repos\\\
          hyperDB\\all-MiniLM-L6-v2\\{json}')\n    except Exception as e:\n      \
          \  print(e)\n        print(json)\n        print(\"\")\n        continue\n\
          \n    embeddings = model.encode(sentences)\n    print(embeddings)\n</code></pre>\n\
          <p>But all attempts to test the JSON files available in the repository return\
          \ different error messages: </p>\n<pre><code>Unable to load weights from\
          \ pytorch checkpoint file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\\
          hyperDB\\all-MiniLM-L6-v2\\config.json' at 'C:\\Users\\MinCookie\\Documents\\\
          git_repos\\hyperDB\\all-MiniLM-L6-v2\\config.json'. If you tried to load\
          \ a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\nconfig.json\n\
          \nlist indices must be integers or slices, not str\ndata_config.json\n\n\
          list indices must be integers or slices, not str\nmodules.json\n\nUnable\
          \ to load weights from pytorch checkpoint file for 'C:\\Users\\MinCookie\\\
          Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\sentence_bert_config.json'\
          \ at 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
          sentence_bert_config.json'. If you tried to load a PyTorch model from a\
          \ TF 2.0 checkpoint, please set from_tf=True.\nsentence_bert_config.json\n\
          \nUnable to load weights from pytorch checkpoint file for 'C:\\Users\\MinCookie\\\
          Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\special_tokens_map.json'\
          \ at 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
          special_tokens_map.json'. If you tried to load a PyTorch model from a TF\
          \ 2.0 checkpoint, please set from_tf=True.\nspecial_tokens_map.json\n\n\
          Unable to load weights from pytorch checkpoint file for 'C:\\Users\\MinCookie\\\
          Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\tokenizer.json' at 'C:\\\
          Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\tokenizer.json'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\ntokenizer.json\n\nUnable to load weights from pytorch\
          \ checkpoint file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\\
          all-MiniLM-L6-v2\\tokenizer_config.json' at 'C:\\Users\\MinCookie\\Documents\\\
          git_repos\\hyperDB\\all-MiniLM-L6-v2\\tokenizer_config.json'. If you tried\
          \ to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\n\
          tokenizer_config.json\n</code></pre>\n<p>Which JSON should be used and how\
          \ should the SentenceTransformer arguments be setup if I'm running this\
          \ locally?</p>\n"
        raw: "Hi there, I'm currently attempting to vectorize strings locally by downloading\
          \ all the files from the hugging face repo. Which JSON file should I be\
          \ referencing  and how should I be setting up the arguments? \r\n\r\nI've\
          \ currently setup a testing scratch file like this: \r\n\r\n```\r\nfrom\
          \ sentence_transformers import SentenceTransformer\r\nsentences = [\"This\
          \ is an example sentence\", \"Each sentence is converted\"]\r\n\r\njson_file\
          \ = [\"config.json\", \"data_config.json\", \"modules.json\", \"sentence_bert_config.json\"\
          , \"special_tokens_map.json\", \"tokenizer.json\", \"tokenizer_config.json\"\
          ]\r\n\r\nfor json in json_file:\r\n    try:\r\n        model = SentenceTransformer(rf'C:\\\
          Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\{json}')\r\
          \n    except Exception as e:\r\n        print(e)\r\n        print(json)\r\
          \n        print(\"\")\r\n        continue\r\n\r\n    embeddings = model.encode(sentences)\r\
          \n    print(embeddings)\r\n```\r\n\r\nBut all attempts to test the JSON\
          \ files available in the repository return different error messages: \r\n\
          ```\r\nUnable to load weights from pytorch checkpoint file for 'C:\\Users\\\
          MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\config.json'\
          \ at 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
          config.json'. If you tried to load a PyTorch model from a TF 2.0 checkpoint,\
          \ please set from_tf=True.\r\nconfig.json\r\n\r\nlist indices must be integers\
          \ or slices, not str\r\ndata_config.json\r\n\r\nlist indices must be integers\
          \ or slices, not str\r\nmodules.json\r\n\r\nUnable to load weights from\
          \ pytorch checkpoint file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\\
          hyperDB\\all-MiniLM-L6-v2\\sentence_bert_config.json' at 'C:\\Users\\MinCookie\\\
          Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\sentence_bert_config.json'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\r\nsentence_bert_config.json\r\n\r\nUnable to load weights\
          \ from pytorch checkpoint file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\\
          hyperDB\\all-MiniLM-L6-v2\\special_tokens_map.json' at 'C:\\Users\\MinCookie\\\
          Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\special_tokens_map.json'.\
          \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
          \ set from_tf=True.\r\nspecial_tokens_map.json\r\n\r\nUnable to load weights\
          \ from pytorch checkpoint file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\\
          hyperDB\\all-MiniLM-L6-v2\\tokenizer.json' at 'C:\\Users\\MinCookie\\Documents\\\
          git_repos\\hyperDB\\all-MiniLM-L6-v2\\tokenizer.json'. If you tried to load\
          \ a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\r\n\
          tokenizer.json\r\n\r\nUnable to load weights from pytorch checkpoint file\
          \ for 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
          tokenizer_config.json' at 'C:\\Users\\MinCookie\\Documents\\git_repos\\\
          hyperDB\\all-MiniLM-L6-v2\\tokenizer_config.json'. If you tried to load\
          \ a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\r\n\
          tokenizer_config.json\r\n```\r\n\r\nWhich JSON should be used and how should\
          \ the SentenceTransformer arguments be setup if I'm running this locally?"
        updatedAt: '2023-06-28T11:08:42.875Z'
      numEdits: 0
      reactions: []
    id: 649c14bad51e9bb6b66da18d
    type: comment
  author: Mincookie
  content: "Hi there, I'm currently attempting to vectorize strings locally by downloading\
    \ all the files from the hugging face repo. Which JSON file should I be referencing\
    \  and how should I be setting up the arguments? \r\n\r\nI've currently setup\
    \ a testing scratch file like this: \r\n\r\n```\r\nfrom sentence_transformers\
    \ import SentenceTransformer\r\nsentences = [\"This is an example sentence\",\
    \ \"Each sentence is converted\"]\r\n\r\njson_file = [\"config.json\", \"data_config.json\"\
    , \"modules.json\", \"sentence_bert_config.json\", \"special_tokens_map.json\"\
    , \"tokenizer.json\", \"tokenizer_config.json\"]\r\n\r\nfor json in json_file:\r\
    \n    try:\r\n        model = SentenceTransformer(rf'C:\\Users\\MinCookie\\Documents\\\
    git_repos\\hyperDB\\all-MiniLM-L6-v2\\{json}')\r\n    except Exception as e:\r\
    \n        print(e)\r\n        print(json)\r\n        print(\"\")\r\n        continue\r\
    \n\r\n    embeddings = model.encode(sentences)\r\n    print(embeddings)\r\n```\r\
    \n\r\nBut all attempts to test the JSON files available in the repository return\
    \ different error messages: \r\n```\r\nUnable to load weights from pytorch checkpoint\
    \ file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
    config.json' at 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
    config.json'. If you tried to load a PyTorch model from a TF 2.0 checkpoint, please\
    \ set from_tf=True.\r\nconfig.json\r\n\r\nlist indices must be integers or slices,\
    \ not str\r\ndata_config.json\r\n\r\nlist indices must be integers or slices,\
    \ not str\r\nmodules.json\r\n\r\nUnable to load weights from pytorch checkpoint\
    \ file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
    sentence_bert_config.json' at 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\\
    all-MiniLM-L6-v2\\sentence_bert_config.json'. If you tried to load a PyTorch model\
    \ from a TF 2.0 checkpoint, please set from_tf=True.\r\nsentence_bert_config.json\r\
    \n\r\nUnable to load weights from pytorch checkpoint file for 'C:\\Users\\MinCookie\\\
    Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\special_tokens_map.json' at 'C:\\\
    Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\special_tokens_map.json'.\
    \ If you tried to load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\r\
    \nspecial_tokens_map.json\r\n\r\nUnable to load weights from pytorch checkpoint\
    \ file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
    tokenizer.json' at 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\all-MiniLM-L6-v2\\\
    tokenizer.json'. If you tried to load a PyTorch model from a TF 2.0 checkpoint,\
    \ please set from_tf=True.\r\ntokenizer.json\r\n\r\nUnable to load weights from\
    \ pytorch checkpoint file for 'C:\\Users\\MinCookie\\Documents\\git_repos\\hyperDB\\\
    all-MiniLM-L6-v2\\tokenizer_config.json' at 'C:\\Users\\MinCookie\\Documents\\\
    git_repos\\hyperDB\\all-MiniLM-L6-v2\\tokenizer_config.json'. If you tried to\
    \ load a PyTorch model from a TF 2.0 checkpoint, please set from_tf=True.\r\n\
    tokenizer_config.json\r\n```\r\n\r\nWhich JSON should be used and how should the\
    \ SentenceTransformer arguments be setup if I'm running this locally?"
  created_at: 2023-06-28 10:08:42+00:00
  edited: false
  hidden: false
  id: 649c14bad51e9bb6b66da18d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1657377941883-noauth.jpeg?w=200&h=200&f=face
      fullname: Min T
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Mincookie
      type: user
    createdAt: '2023-06-28T11:12:49.000Z'
    data:
      edited: false
      editors:
      - Mincookie
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7857116460800171
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1657377941883-noauth.jpeg?w=200&h=200&f=face
          fullname: Min T
          isHf: false
          isPro: false
          name: Mincookie
          type: user
        html: '<p>Edit, I found a way to save the loaded model manually before reloading
          it from the local location. </p>

          <p><a rel="nofollow" href="https://stackoverflow.com/questions/65419499/download-pre-trained-sentence-transformers-model-locally">https://stackoverflow.com/questions/65419499/download-pre-trained-sentence-transformers-model-locally</a></p>

          '
        raw: "Edit, I found a way to save the loaded model manually before reloading\
          \ it from the local location. \n\nhttps://stackoverflow.com/questions/65419499/download-pre-trained-sentence-transformers-model-locally"
        updatedAt: '2023-06-28T11:12:49.287Z'
      numEdits: 0
      reactions: []
      relatedEventId: 649c15b107bdee1b7e5c477b
    id: 649c15b107bdee1b7e5c4778
    type: comment
  author: Mincookie
  content: "Edit, I found a way to save the loaded model manually before reloading\
    \ it from the local location. \n\nhttps://stackoverflow.com/questions/65419499/download-pre-trained-sentence-transformers-model-locally"
  created_at: 2023-06-28 10:12:49+00:00
  edited: false
  hidden: false
  id: 649c15b107bdee1b7e5c4778
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1657377941883-noauth.jpeg?w=200&h=200&f=face
      fullname: Min T
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Mincookie
      type: user
    createdAt: '2023-06-28T11:12:49.000Z'
    data:
      status: closed
    id: 649c15b107bdee1b7e5c477b
    type: status-change
  author: Mincookie
  created_at: 2023-06-28 10:12:49+00:00
  id: 649c15b107bdee1b7e5c477b
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 20
repo_id: sentence-transformers/all-MiniLM-L6-v2
repo_type: model
status: closed
target_branch: null
title: 'Using the model locally without calling hugginface API '
