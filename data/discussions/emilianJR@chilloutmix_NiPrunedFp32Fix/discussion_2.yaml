!!python/object:huggingface_hub.community.DiscussionWithDetails
author: linchangyu
conflicting_files: null
created_at: 2023-09-22 02:53:48+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6a560a3a6a2d9afc3376653792d87113.svg
      fullname: Cheney Lin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: linchangyu
      type: user
    createdAt: '2023-09-22T03:53:48.000Z'
    data:
      edited: false
      editors:
      - linchangyu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.42071765661239624
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6a560a3a6a2d9afc3376653792d87113.svg
          fullname: Cheney Lin
          isHf: false
          isPro: false
          name: linchangyu
          type: user
        html: '<p>python -m python_coreml_stable_diffusion.pipeline <br>-i ./ai_model
          <br>-o ./ai_image <br>--compute-unit CPU_AND_GPU <br>--seed 4444 <br>--prompt
          "1girl, sexy extreme Gstring micro Bikini, mini  bikini, Slutty, on beach,
          big boob, good looking, attractive face, smiling, full body, running, highly
          detailed, hyper-realistic " <br>--negative-prompt "ugly,grayscale, extra
          limbs, extra arms, missing arms, bad tongue, strange fingers" <br>--model-version
          emilianJR/chilloutmix_NiPrunedFp32Fix</p>

          '
        raw: "python -m python_coreml_stable_diffusion.pipeline \\\r\n-i ./ai_model\
          \ \\\r\n-o ./ai_image \\\r\n--compute-unit CPU_AND_GPU \\\r\n--seed 4444\
          \ \\\r\n--prompt \"1girl, sexy extreme Gstring micro Bikini, mini  bikini,\
          \ Slutty, on beach, big boob, good looking, attractive face, smiling, full\
          \ body, running, highly detailed, hyper-realistic \" \\\r\n--negative-prompt\
          \ \"ugly,grayscale, extra limbs, extra arms, missing arms, bad tongue, strange\
          \ fingers\" \\\r\n--model-version emilianJR/chilloutmix_NiPrunedFp32Fix\r\
          \n"
        updatedAt: '2023-09-22T03:53:48.975Z'
      numEdits: 0
      reactions: []
    id: 650d0fcc8ffe1f53bdd105cc
    type: comment
  author: linchangyu
  content: "python -m python_coreml_stable_diffusion.pipeline \\\r\n-i ./ai_model\
    \ \\\r\n-o ./ai_image \\\r\n--compute-unit CPU_AND_GPU \\\r\n--seed 4444 \\\r\n\
    --prompt \"1girl, sexy extreme Gstring micro Bikini, mini  bikini, Slutty, on\
    \ beach, big boob, good looking, attractive face, smiling, full body, running,\
    \ highly detailed, hyper-realistic \" \\\r\n--negative-prompt \"ugly,grayscale,\
    \ extra limbs, extra arms, missing arms, bad tongue, strange fingers\" \\\r\n\
    --model-version emilianJR/chilloutmix_NiPrunedFp32Fix\r\n"
  created_at: 2023-09-22 02:53:48+00:00
  edited: false
  hidden: false
  id: 650d0fcc8ffe1f53bdd105cc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6a560a3a6a2d9afc3376653792d87113.svg
      fullname: Cheney Lin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: linchangyu
      type: user
    createdAt: '2023-09-22T03:54:52.000Z'
    data:
      edited: false
      editors:
      - linchangyu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5086411237716675
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6a560a3a6a2d9afc3376653792d87113.svg
          fullname: Cheney Lin
          isHf: false
          isPro: false
          name: linchangyu
          type: user
        html: "<p>/Volumes/User/Project/ml-stable-diffusion/python_coreml_stable_diffusion/pipeline.py:9:\
          \ FutureWarning: Importing <code>DiffusionPipeline</code> or <code>ImagePipelineOutput</code>\
          \ from diffusers.pipeline_utils is deprecated. Please import from diffusers.pipelines.pipeline_utils\
          \ instead.<br>  from diffusers.pipeline_utils import DiffusionPipeline<br>WARNING:coremltools:scikit-learn\
          \ version 1.3.0 is not supported. Minimum required version: 0.17. Maximum\
          \ required version: 1.1.2. Disabling scikit-learn conversion API.<br>WARNING:coremltools:Torch\
          \ version 2.0.1 has not been tested with coremltools. You may run into unexpected\
          \ errors. Torch 2.0.0 is the most recent version that has been tested.<br>INFO:<strong>main</strong>:Setting\
          \ random seed to 4444<br>INFO:<strong>main</strong>:Initializing PyTorch\
          \ pipe for reference configuration<br>unet/diffusion_pytorch_model.safetensors\
          \ not found<br>Loading pipeline components...:  71%|\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u258E   | 5/7 [00:01&lt;00:00,  3.48it/s]/Users/linyu/opt/anaconda3/envs/coreml_stable_diffusion/lib/python3.8/site-packages/transformers/models/clip/feature_extraction_clip.py:28:\
          \ FutureWarning: The class CLIPFeatureExtractor is deprecated and will be\
          \ removed in version 5 of Transformers. Please use CLIPImageProcessor instead.<br>\
          \  warnings.warn(<br>Loading pipeline components...: 100%|\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:03&lt;00:00,\
          \  2.11it/s]<br>INFO:<strong>main</strong>:Removed PyTorch pipe to reduce\
          \ peak memory consumption<br>INFO:<strong>main</strong>:Loading Core ML\
          \ models in memory from ./ai_model<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ text_encoder mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_text_encoder.mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Done.\
          \ Took 1.7 seconds.<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ unet mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_unet.mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Done.\
          \ Took 12.8 seconds.<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ a CoreML model through coremltools triggers compilation every time. The\
          \ Swift package we provide uses precompiled Core ML models (.mlmodelc) to\
          \ avoid compile-on-load.<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ vae_decoder mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_vae_decoder.mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Done.\
          \ Took 5.3 seconds.<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ safety_checker mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_safety_checker.mlpackage<br>INFO:python_coreml_stable_diffusion.coreml_model:Done.\
          \ Took 2.0 seconds.<br>INFO:<strong>main</strong>:Done.<br>INFO:<strong>main</strong>:Initializing\
          \ Core ML pipe for image generation<br>INFO:<strong>main</strong>:Stable\
          \ Diffusion configured to generate 512x512 images<br>INFO:<strong>main</strong>:Done.<br>INFO:<strong>main</strong>:Beginning\
          \ image generation.</p>\n"
        raw: "\n/Volumes/User/Project/ml-stable-diffusion/python_coreml_stable_diffusion/pipeline.py:9:\
          \ FutureWarning: Importing `DiffusionPipeline` or `ImagePipelineOutput`\
          \ from diffusers.pipeline_utils is deprecated. Please import from diffusers.pipelines.pipeline_utils\
          \ instead.\n  from diffusers.pipeline_utils import DiffusionPipeline\nWARNING:coremltools:scikit-learn\
          \ version 1.3.0 is not supported. Minimum required version: 0.17. Maximum\
          \ required version: 1.1.2. Disabling scikit-learn conversion API.\nWARNING:coremltools:Torch\
          \ version 2.0.1 has not been tested with coremltools. You may run into unexpected\
          \ errors. Torch 2.0.0 is the most recent version that has been tested.\n\
          INFO:__main__:Setting random seed to 4444\nINFO:__main__:Initializing PyTorch\
          \ pipe for reference configuration\nunet/diffusion_pytorch_model.safetensors\
          \ not found\nLoading pipeline components...:  71%|\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u258E   | 5/7 [00:01<00:00,  3.48it/s]/Users/linyu/opt/anaconda3/envs/coreml_stable_diffusion/lib/python3.8/site-packages/transformers/models/clip/feature_extraction_clip.py:28:\
          \ FutureWarning: The class CLIPFeatureExtractor is deprecated and will be\
          \ removed in version 5 of Transformers. Please use CLIPImageProcessor instead.\n\
          \  warnings.warn(\nLoading pipeline components...: 100%|\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:03<00:00,\
          \  2.11it/s]\nINFO:__main__:Removed PyTorch pipe to reduce peak memory consumption\n\
          INFO:__main__:Loading Core ML models in memory from ./ai_model\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ text_encoder mlpackage\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
          \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_text_encoder.mlpackage\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 1.7 seconds.\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Loading unet mlpackage\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Loading ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_unet.mlpackage\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 12.8 seconds.\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Loading a CoreML model\
          \ through coremltools triggers compilation every time. The Swift package\
          \ we provide uses precompiled Core ML models (.mlmodelc) to avoid compile-on-load.\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Loading vae_decoder mlpackage\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Loading ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_vae_decoder.mlpackage\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 5.3 seconds.\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Loading safety_checker\
          \ mlpackage\nINFO:python_coreml_stable_diffusion.coreml_model:Loading ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_safety_checker.mlpackage\n\
          INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 2.0 seconds.\n\
          INFO:__main__:Done.\nINFO:__main__:Initializing Core ML pipe for image generation\n\
          INFO:__main__:Stable Diffusion configured to generate 512x512 images\nINFO:__main__:Done.\n\
          INFO:__main__:Beginning image generation.\n"
        updatedAt: '2023-09-22T03:54:52.408Z'
      numEdits: 0
      reactions: []
    id: 650d100c2751c84306bb5baf
    type: comment
  author: linchangyu
  content: "\n/Volumes/User/Project/ml-stable-diffusion/python_coreml_stable_diffusion/pipeline.py:9:\
    \ FutureWarning: Importing `DiffusionPipeline` or `ImagePipelineOutput` from diffusers.pipeline_utils\
    \ is deprecated. Please import from diffusers.pipelines.pipeline_utils instead.\n\
    \  from diffusers.pipeline_utils import DiffusionPipeline\nWARNING:coremltools:scikit-learn\
    \ version 1.3.0 is not supported. Minimum required version: 0.17. Maximum required\
    \ version: 1.1.2. Disabling scikit-learn conversion API.\nWARNING:coremltools:Torch\
    \ version 2.0.1 has not been tested with coremltools. You may run into unexpected\
    \ errors. Torch 2.0.0 is the most recent version that has been tested.\nINFO:__main__:Setting\
    \ random seed to 4444\nINFO:__main__:Initializing PyTorch pipe for reference configuration\n\
    unet/diffusion_pytorch_model.safetensors not found\nLoading pipeline components...:\
    \  71%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258E   | 5/7 [00:01<00:00,\
    \  3.48it/s]/Users/linyu/opt/anaconda3/envs/coreml_stable_diffusion/lib/python3.8/site-packages/transformers/models/clip/feature_extraction_clip.py:28:\
    \ FutureWarning: The class CLIPFeatureExtractor is deprecated and will be removed\
    \ in version 5 of Transformers. Please use CLIPImageProcessor instead.\n  warnings.warn(\n\
    Loading pipeline components...: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588| 7/7 [00:03<00:00,  2.11it/s]\nINFO:__main__:Removed\
    \ PyTorch pipe to reduce peak memory consumption\nINFO:__main__:Loading Core ML\
    \ models in memory from ./ai_model\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
    \ text_encoder mlpackage\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
    \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_text_encoder.mlpackage\n\
    INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 1.7 seconds.\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
    \ unet mlpackage\nINFO:python_coreml_stable_diffusion.coreml_model:Loading ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_unet.mlpackage\n\
    INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 12.8 seconds.\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
    \ a CoreML model through coremltools triggers compilation every time. The Swift\
    \ package we provide uses precompiled Core ML models (.mlmodelc) to avoid compile-on-load.\n\
    INFO:python_coreml_stable_diffusion.coreml_model:Loading vae_decoder mlpackage\n\
    INFO:python_coreml_stable_diffusion.coreml_model:Loading ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_vae_decoder.mlpackage\n\
    INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 5.3 seconds.\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
    \ safety_checker mlpackage\nINFO:python_coreml_stable_diffusion.coreml_model:Loading\
    \ ./ai_model/Stable_Diffusion_version_emilianJR_chilloutmix_NiPrunedFp32Fix_safety_checker.mlpackage\n\
    INFO:python_coreml_stable_diffusion.coreml_model:Done. Took 2.0 seconds.\nINFO:__main__:Done.\n\
    INFO:__main__:Initializing Core ML pipe for image generation\nINFO:__main__:Stable\
    \ Diffusion configured to generate 512x512 images\nINFO:__main__:Done.\nINFO:__main__:Beginning\
    \ image generation.\n"
  created_at: 2023-09-22 02:54:52+00:00
  edited: false
  hidden: false
  id: 650d100c2751c84306bb5baf
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: emilianJR/chilloutmix_NiPrunedFp32Fix
repo_type: model
status: open
target_branch: null
title: All black in apple ml-stable-diffusion, any one help me?
