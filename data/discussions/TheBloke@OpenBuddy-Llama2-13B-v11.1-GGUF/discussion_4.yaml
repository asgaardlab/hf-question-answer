!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Darthph0enix
conflicting_files: null
created_at: 2023-11-21 10:01:45+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/TgAZjW-s4mHjs75L6uoyW.jpeg?w=200&h=200&f=face
      fullname: Eren Kalinsazlioglu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Darthph0enix
      type: user
    createdAt: '2023-11-21T10:01:45.000Z'
    data:
      edited: false
      editors:
      - Darthph0enix
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8933006525039673
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/TgAZjW-s4mHjs75L6uoyW.jpeg?w=200&h=200&f=face
          fullname: Eren Kalinsazlioglu
          isHf: false
          isPro: false
          name: Darthph0enix
          type: user
        html: '<p>Hi i am trying to use this model with llama.cpp and langchain, however
          the model just does not response why.</p>

          <p>llm = LlamaCpp(<br>model_path="/content/openbuddy-llama2-13b-v11.1.Q5_K_M.gguf",<br>n_gpu_layers=n_gpu_layers,<br>n_batch=n_batch,<br>callback_manager=callback_manager,<br>temperature=0.7,<br>n_ctx=4096,<br>verbose=True,
          # Verbose is required to pass to the callback manager<br>)<br>memory = ConversationBufferWindowMemory(<br>memory_key="chat_history",
          return_messages=True<br>)</p>

          <p>First try:<br>llm("Who are you?")</p>

          <p>output: "\n"</p>

          <p>Second Try: </p>

          <p>template = """system: You are a helpful, respectful and honest INTP-T
          AI Assistant named Buddy. You are talking to a human User.<br>Always answer
          as helpfully and logically as possible, while being safe. Your answers should
          not include any harmful, political, religious, unethical, racist, sexist,
          toxic, dangerous, or illegal content. Please ensure that your responses
          are socially unbiased and positive in nature.<br>If a question does not
          make any sense, or is not factually coherent, explain why instead of answering
          something not correct. If you don''t know the answer to a question, please
          don''t share false information.<br>You can speak fluently in many languages,
          for example: English, Chinese.<br>You cannot access the internet, but you
          have vast knowledge, cutoff: 2021-09.<br>You are trained by OpenBuddy team,
          (<a rel="nofollow" href="https://openbuddy.ai">https://openbuddy.ai</a>,
          <a rel="nofollow" href="https://github.com/OpenBuddy/OpenBuddy">https://github.com/OpenBuddy/OpenBuddy</a>),
          you are based on LLaMA and Falcon transformers model, not related to GPT
          or OpenAI.</p>

          <p>user: {human_input}</p>

          <p>assistant:<br>"""</p>

          <p>prompt = PromptTemplate(template=template, input_variables=["human_input"])<br>llm_chain
          = LLMChain(llm=llm, prompt=prompt, verbose=True)</p>

          <p>llm_chain.run(human_input="How are you?")</p>

          <p>Output:</p>

          <blockquote>

          <p>Entering new LLMChain chain...<br>Prompt after formatting:<br>system:
          You are a helpful, respectful and honest INTP-T AI Assistant named Buddy.
          You are talking to a human User.<br>Always answer as helpfully and logically
          as possible, while being safe. Your answers should not include any harmful,
          political, religious, unethical, racist, sexist, toxic, dangerous, or illegal
          content. Please ensure that your responses are socially unbiased and positive
          in nature.<br>If a question does not make any sense, or is not factually
          coherent, explain why instead of answering something not correct. If you
          don''t know the answer to a question, please don''t share false information.<br>You
          can speak fluently in many languages, for example: English, Chinese.<br>You
          cannot access the internet, but you have vast knowledge, cutoff: 2021-09.<br>You
          are trained by OpenBuddy team, (<a rel="nofollow" href="https://openbuddy.ai">https://openbuddy.ai</a>,
          <a rel="nofollow" href="https://github.com/OpenBuddy/OpenBuddy">https://github.com/OpenBuddy/OpenBuddy</a>),
          you are based on LLaMA and Falcon transformers model, not related to GPT
          or OpenAI.</p>

          </blockquote>

          <p>user: How are you?</p>

          <p>assistant:</p>

          <p>Llama.generate: prefix-match hit</p>

          <blockquote>

          <p>Finished chain.</p>

          </blockquote>

          '
        raw: "Hi i am trying to use this model with llama.cpp and langchain, however\
          \ the model just does not response why.\r\n\r\n\r\nllm = LlamaCpp(\r\nmodel_path=\"\
          /content/openbuddy-llama2-13b-v11.1.Q5_K_M.gguf\",\r\nn_gpu_layers=n_gpu_layers,\r\
          \nn_batch=n_batch,\r\ncallback_manager=callback_manager,\r\ntemperature=0.7,\r\
          \nn_ctx=4096,\r\nverbose=True, # Verbose is required to pass to the callback\
          \ manager\r\n)\r\nmemory = ConversationBufferWindowMemory(\r\nmemory_key=\"\
          chat_history\", return_messages=True\r\n)\r\n\r\nFirst try:\r\nllm(\"Who\
          \ are you?\")\r\n\r\noutput: \"\\n\"\r\n\r\nSecond Try: \r\n\r\ntemplate\
          \ = \"\"\"system: You are a helpful, respectful and honest INTP-T AI Assistant\
          \ named Buddy. You are talking to a human User.\r\nAlways answer as helpfully\
          \ and logically as possible, while being safe. Your answers should not include\
          \ any harmful, political, religious, unethical, racist, sexist, toxic, dangerous,\
          \ or illegal content. Please ensure that your responses are socially unbiased\
          \ and positive in nature.\r\nIf a question does not make any sense, or is\
          \ not factually coherent, explain why instead of answering something not\
          \ correct. If you don't know the answer to a question, please don't share\
          \ false information.\r\nYou can speak fluently in many languages, for example:\
          \ English, Chinese.\r\nYou cannot access the internet, but you have vast\
          \ knowledge, cutoff: 2021-09.\r\nYou are trained by OpenBuddy team, (https://openbuddy.ai,\
          \ https://github.com/OpenBuddy/OpenBuddy), you are based on LLaMA and Falcon\
          \ transformers model, not related to GPT or OpenAI.\r\n\r\nuser: {human_input}\r\
          \n\r\nassistant:\r\n\"\"\"\r\n\r\nprompt = PromptTemplate(template=template,\
          \ input_variables=[\"human_input\"])\r\nllm_chain = LLMChain(llm=llm, prompt=prompt,\
          \ verbose=True)\r\n\r\nllm_chain.run(human_input=\"How are you?\")\r\n\r\
          \nOutput:\r\n\r\n> Entering new LLMChain chain...\r\nPrompt after formatting:\r\
          \nsystem: You are a helpful, respectful and honest INTP-T AI Assistant named\
          \ Buddy. You are talking to a human User.\r\nAlways answer as helpfully\
          \ and logically as possible, while being safe. Your answers should not include\
          \ any harmful, political, religious, unethical, racist, sexist, toxic, dangerous,\
          \ or illegal content. Please ensure that your responses are socially unbiased\
          \ and positive in nature.\r\nIf a question does not make any sense, or is\
          \ not factually coherent, explain why instead of answering something not\
          \ correct. If you don't know the answer to a question, please don't share\
          \ false information.\r\nYou can speak fluently in many languages, for example:\
          \ English, Chinese.\r\nYou cannot access the internet, but you have vast\
          \ knowledge, cutoff: 2021-09.\r\nYou are trained by OpenBuddy team, (https://openbuddy.ai,\
          \ https://github.com/OpenBuddy/OpenBuddy), you are based on LLaMA and Falcon\
          \ transformers model, not related to GPT or OpenAI.\r\n\r\nuser: How are\
          \ you?\r\n\r\nassistant:\r\n\r\nLlama.generate: prefix-match hit\r\n\r\n\
          > Finished chain.\r\n"
        updatedAt: '2023-11-21T10:01:45.844Z'
      numEdits: 0
      reactions: []
    id: 655c8009f84d78953478107f
    type: comment
  author: Darthph0enix
  content: "Hi i am trying to use this model with llama.cpp and langchain, however\
    \ the model just does not response why.\r\n\r\n\r\nllm = LlamaCpp(\r\nmodel_path=\"\
    /content/openbuddy-llama2-13b-v11.1.Q5_K_M.gguf\",\r\nn_gpu_layers=n_gpu_layers,\r\
    \nn_batch=n_batch,\r\ncallback_manager=callback_manager,\r\ntemperature=0.7,\r\
    \nn_ctx=4096,\r\nverbose=True, # Verbose is required to pass to the callback manager\r\
    \n)\r\nmemory = ConversationBufferWindowMemory(\r\nmemory_key=\"chat_history\"\
    , return_messages=True\r\n)\r\n\r\nFirst try:\r\nllm(\"Who are you?\")\r\n\r\n\
    output: \"\\n\"\r\n\r\nSecond Try: \r\n\r\ntemplate = \"\"\"system: You are a\
    \ helpful, respectful and honest INTP-T AI Assistant named Buddy. You are talking\
    \ to a human User.\r\nAlways answer as helpfully and logically as possible, while\
    \ being safe. Your answers should not include any harmful, political, religious,\
    \ unethical, racist, sexist, toxic, dangerous, or illegal content. Please ensure\
    \ that your responses are socially unbiased and positive in nature.\r\nIf a question\
    \ does not make any sense, or is not factually coherent, explain why instead of\
    \ answering something not correct. If you don't know the answer to a question,\
    \ please don't share false information.\r\nYou can speak fluently in many languages,\
    \ for example: English, Chinese.\r\nYou cannot access the internet, but you have\
    \ vast knowledge, cutoff: 2021-09.\r\nYou are trained by OpenBuddy team, (https://openbuddy.ai,\
    \ https://github.com/OpenBuddy/OpenBuddy), you are based on LLaMA and Falcon transformers\
    \ model, not related to GPT or OpenAI.\r\n\r\nuser: {human_input}\r\n\r\nassistant:\r\
    \n\"\"\"\r\n\r\nprompt = PromptTemplate(template=template, input_variables=[\"\
    human_input\"])\r\nllm_chain = LLMChain(llm=llm, prompt=prompt, verbose=True)\r\
    \n\r\nllm_chain.run(human_input=\"How are you?\")\r\n\r\nOutput:\r\n\r\n> Entering\
    \ new LLMChain chain...\r\nPrompt after formatting:\r\nsystem: You are a helpful,\
    \ respectful and honest INTP-T AI Assistant named Buddy. You are talking to a\
    \ human User.\r\nAlways answer as helpfully and logically as possible, while being\
    \ safe. Your answers should not include any harmful, political, religious, unethical,\
    \ racist, sexist, toxic, dangerous, or illegal content. Please ensure that your\
    \ responses are socially unbiased and positive in nature.\r\nIf a question does\
    \ not make any sense, or is not factually coherent, explain why instead of answering\
    \ something not correct. If you don't know the answer to a question, please don't\
    \ share false information.\r\nYou can speak fluently in many languages, for example:\
    \ English, Chinese.\r\nYou cannot access the internet, but you have vast knowledge,\
    \ cutoff: 2021-09.\r\nYou are trained by OpenBuddy team, (https://openbuddy.ai,\
    \ https://github.com/OpenBuddy/OpenBuddy), you are based on LLaMA and Falcon transformers\
    \ model, not related to GPT or OpenAI.\r\n\r\nuser: How are you?\r\n\r\nassistant:\r\
    \n\r\nLlama.generate: prefix-match hit\r\n\r\n> Finished chain.\r\n"
  created_at: 2023-11-21 10:01:45+00:00
  edited: false
  hidden: false
  id: 655c8009f84d78953478107f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: TheBloke/OpenBuddy-Llama2-13B-v11.1-GGUF
repo_type: model
status: open
target_branch: null
title: Model does not response
