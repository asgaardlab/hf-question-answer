!!python/object:huggingface_hub.community.DiscussionWithDetails
author: michalkowalczuk
conflicting_files: null
created_at: 2023-08-24 12:11:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/72a185de8c9a9503ab84836251550792.svg
      fullname: Michal Kowalczuk
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: michalkowalczuk
      type: user
    createdAt: '2023-08-24T13:11:57.000Z'
    data:
      edited: false
      editors:
      - michalkowalczuk
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5749121904373169
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/72a185de8c9a9503ab84836251550792.svg
          fullname: Michal Kowalczuk
          isHf: false
          isPro: false
          name: michalkowalczuk
          type: user
        html: "<p>Hi all :)</p>\n<p>Could anybody help me figure out what data I need\
          \ to pass to the predictor after deploying the model with SageMaker. </p>\n\
          <p>When  (code similar to) this completes:</p>\n<pre><code>import sagemaker\n\
          import boto3\nfrom sagemaker.huggingface import HuggingFaceModel\n\ntry:\n\
          \    role = sagemaker.get_execution_role()\nexcept ValueError:\n    iam\
          \ = boto3.client('iam')\n    role = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\n\
          \n# Hub Model configuration. https://huggingface.co/models\nhub = {\n  \
          \  'HF_MODEL_ID':'patrickjohncyh/fashion-clip',\n    'HF_TASK':'zero-shot-image-classification'\n\
          }\n\n# create Hugging Face Model Class\nhuggingface_model = HuggingFaceModel(\n\
          \    transformers_version='4.26.0',\n    pytorch_version='1.13.1',\n   \
          \ py_version='py39',\n    env=hub,\n    role=role, \n)\n\n# deploy model\
          \ to SageMaker Inference\npredictor = huggingface_model.deploy(\n    initial_instance_count=1,\
          \ # number of instances\n    instance_type='ml.m5.xlarge' # ec2 instance\
          \ type\n)\n</code></pre>\n<p>What data needs to be passed to the predictor\
          \ to get the result:</p>\n<pre><code>data = {\n    \"inputs\": {\n     \
          \   # what goes here?\n    }\n}\n\npredictor.predict(data)\n</code></pre>\n\
          <p>Thank you very much,<br>Michal</p>\n"
        raw: "Hi all :)\r\n\r\nCould anybody help me figure out what data I need to\
          \ pass to the predictor after deploying the model with SageMaker. \r\n\r\
          \nWhen  (code similar to) this completes:\r\n\r\n```\r\nimport sagemaker\r\
          \nimport boto3\r\nfrom sagemaker.huggingface import HuggingFaceModel\r\n\
          \r\ntry:\r\n\trole = sagemaker.get_execution_role()\r\nexcept ValueError:\r\
          \n\tiam = boto3.client('iam')\r\n\trole = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\r\
          \n\r\n# Hub Model configuration. https://huggingface.co/models\r\nhub =\
          \ {\r\n\t'HF_MODEL_ID':'patrickjohncyh/fashion-clip',\r\n\t'HF_TASK':'zero-shot-image-classification'\r\
          \n}\r\n\r\n# create Hugging Face Model Class\r\nhuggingface_model = HuggingFaceModel(\r\
          \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\t\
          py_version='py39',\r\n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\n# deploy model\
          \ to SageMaker Inference\r\npredictor = huggingface_model.deploy(\r\n\t\
          initial_instance_count=1, # number of instances\r\n\tinstance_type='ml.m5.xlarge'\
          \ # ec2 instance type\r\n)\r\n\r\n```\r\n\r\nWhat data needs to be passed\
          \ to the predictor to get the result:\r\n\r\n```\r\ndata = {\r\n    \"inputs\"\
          : {\r\n        # what goes here?\r\n\t}\r\n}\r\n\r\npredictor.predict(data)\r\
          \n```\r\n\r\nThank you very much,\r\nMichal"
        updatedAt: '2023-08-24T13:11:57.497Z'
      numEdits: 0
      reactions: []
    id: 64e7571d336924eaf1b39396
    type: comment
  author: michalkowalczuk
  content: "Hi all :)\r\n\r\nCould anybody help me figure out what data I need to\
    \ pass to the predictor after deploying the model with SageMaker. \r\n\r\nWhen\
    \  (code similar to) this completes:\r\n\r\n```\r\nimport sagemaker\r\nimport\
    \ boto3\r\nfrom sagemaker.huggingface import HuggingFaceModel\r\n\r\ntry:\r\n\t\
    role = sagemaker.get_execution_role()\r\nexcept ValueError:\r\n\tiam = boto3.client('iam')\r\
    \n\trole = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\r\n\
    \r\n# Hub Model configuration. https://huggingface.co/models\r\nhub = {\r\n\t\
    'HF_MODEL_ID':'patrickjohncyh/fashion-clip',\r\n\t'HF_TASK':'zero-shot-image-classification'\r\
    \n}\r\n\r\n# create Hugging Face Model Class\r\nhuggingface_model = HuggingFaceModel(\r\
    \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\tpy_version='py39',\r\
    \n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\n# deploy model to SageMaker Inference\r\
    \npredictor = huggingface_model.deploy(\r\n\tinitial_instance_count=1, # number\
    \ of instances\r\n\tinstance_type='ml.m5.xlarge' # ec2 instance type\r\n)\r\n\r\
    \n```\r\n\r\nWhat data needs to be passed to the predictor to get the result:\r\
    \n\r\n```\r\ndata = {\r\n    \"inputs\": {\r\n        # what goes here?\r\n\t\
    }\r\n}\r\n\r\npredictor.predict(data)\r\n```\r\n\r\nThank you very much,\r\nMichal"
  created_at: 2023-08-24 12:11:57+00:00
  edited: false
  hidden: false
  id: 64e7571d336924eaf1b39396
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/353a9113b286c138220bec55980ab0cf.svg
      fullname: Kunal Rai
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kunalrye
      type: user
    createdAt: '2023-11-21T01:24:32.000Z'
    data:
      edited: false
      editors:
      - kunalrye
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9413869976997375
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/353a9113b286c138220bec55980ab0cf.svg
          fullname: Kunal Rai
          isHf: false
          isPro: false
          name: kunalrye
          type: user
        html: '<p>Hey Michal, did you sort out what the data model is?</p>

          '
        raw: Hey Michal, did you sort out what the data model is?
        updatedAt: '2023-11-21T01:24:32.017Z'
      numEdits: 0
      reactions: []
    id: 655c06d0906a19a781e0eeab
    type: comment
  author: kunalrye
  content: Hey Michal, did you sort out what the data model is?
  created_at: 2023-11-21 01:24:32+00:00
  edited: false
  hidden: false
  id: 655c06d0906a19a781e0eeab
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 11
repo_id: patrickjohncyh/fashion-clip
repo_type: model
status: open
target_branch: null
title: Inference with SageMaker predictor
