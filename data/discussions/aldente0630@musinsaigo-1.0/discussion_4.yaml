!!python/object:huggingface_hub.community.DiscussionWithDetails
author: hellotheresy
conflicting_files: null
created_at: 2023-06-06 12:42:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7d49bef11ba12d58868b0de9dcc465ed.svg
      fullname: sangyeon choi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: hellotheresy
      type: user
    createdAt: '2023-06-06T13:42:59.000Z'
    data:
      edited: false
      editors:
      - hellotheresy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.817142903804779
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7d49bef11ba12d58868b0de9dcc465ed.svg
          fullname: sangyeon choi
          isHf: false
          isPro: false
          name: hellotheresy
          type: user
        html: '<p>Hi.<br>When I tried to download the source and run it, I got the
          following message.</p>

          <p>"File "/usr/local/lib/python3.11/site-packages/torch/cuda/<strong>init</strong>.py",
          line 239, in _lazy_init<br>    raise AssertionError("Torch not compiled
          with CUDA enabled")" </p>

          <p>I''m using mac os , and I understand that CUDA is not available.<br>(
          <a rel="nofollow" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a>
          ) </p>

          <p>I tried running it by referring to the link below ( cuda -&gt; mps ),
          but I couldn''t run it.<br><a rel="nofollow" href="https://github.com/Stability-AI/StableLM/issues/31">https://github.com/Stability-AI/StableLM/issues/31</a></p>

          <p>Please let me know what to do in this situation.</p>

          <p>env : MAC ( intel ) </p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/647f36880633ff4de45bc4a8/IN4v8UaY9o9NzTMw1IAat.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/647f36880633ff4de45bc4a8/IN4v8UaY9o9NzTMw1IAat.png"></a></p>

          '
        raw: "Hi. \r\nWhen I tried to download the source and run it, I got the following\
          \ message.\r\n\r\n\"File \"/usr/local/lib/python3.11/site-packages/torch/cuda/__init__.py\"\
          , line 239, in _lazy_init\r\n    raise AssertionError(\"Torch not compiled\
          \ with CUDA enabled\")\" \r\n\r\nI'm using mac os , and I understand that\
          \ CUDA is not available.\r\n( https://pytorch.org/get-started/locally/ )\
          \ \r\n\r\nI tried running it by referring to the link below ( cuda -> mps\
          \ ), but I couldn't run it.\r\nhttps://github.com/Stability-AI/StableLM/issues/31\r\
          \n\r\nPlease let me know what to do in this situation.\r\n\r\nenv : MAC\
          \ ( intel ) \r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/647f36880633ff4de45bc4a8/IN4v8UaY9o9NzTMw1IAat.png)\r\
          \n"
        updatedAt: '2023-06-06T13:42:59.217Z'
      numEdits: 0
      reactions: []
    id: 647f37e34da748fc4abc8057
    type: comment
  author: hellotheresy
  content: "Hi. \r\nWhen I tried to download the source and run it, I got the following\
    \ message.\r\n\r\n\"File \"/usr/local/lib/python3.11/site-packages/torch/cuda/__init__.py\"\
    , line 239, in _lazy_init\r\n    raise AssertionError(\"Torch not compiled with\
    \ CUDA enabled\")\" \r\n\r\nI'm using mac os , and I understand that CUDA is not\
    \ available.\r\n( https://pytorch.org/get-started/locally/ ) \r\n\r\nI tried running\
    \ it by referring to the link below ( cuda -> mps ), but I couldn't run it.\r\n\
    https://github.com/Stability-AI/StableLM/issues/31\r\n\r\nPlease let me know what\
    \ to do in this situation.\r\n\r\nenv : MAC ( intel ) \r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/647f36880633ff4de45bc4a8/IN4v8UaY9o9NzTMw1IAat.png)\r\
    \n"
  created_at: 2023-06-06 12:42:59+00:00
  edited: false
  hidden: false
  id: 647f37e34da748fc4abc8057
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6423d64cca5efe9f3587b255/peB3GJEsSAlCCB-L9y_UB.png?w=200&h=200&f=face
      fullname: Youngmin Kim
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: aldente0630
      type: user
    createdAt: '2023-06-06T14:32:52.000Z'
    data:
      edited: false
      editors:
      - aldente0630
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7709174156188965
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6423d64cca5efe9f3587b255/peB3GJEsSAlCCB-L9y_UB.png?w=200&h=200&f=face
          fullname: Youngmin Kim
          isHf: false
          isPro: false
          name: aldente0630
          type: user
        html: '<p>Did you get the error even though you modified the code as follows?</p>

          <pre><code class="language-python">pipe = StableDiffusionPipeline.from_pretrained(model_id,
          torch_dtype=torch.float16)

          pipe = pipe.to(<span class="hljs-string">"mps"</span>)

          </code></pre>

          <p>If so, make sure you meet the following requirements.</p>

          <ul>

          <li>macOS 12.6 or later (13.0 or later recommended).</li>

          <li>arm64 version of Python.</li>

          <li>PyTorch 2.0 (recommended) or 1.13 (minimum version supported for mps).</li>

          </ul>

          <p>I referenced <a href="https://huggingface.co/docs/diffusers/optimization/mps">this
          documentation</a>.</p>

          '
        raw: "Did you get the error even though you modified the code as follows?\n\
          \n```python\npipe = StableDiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)\n\
          pipe = pipe.to(\"mps\")\n```\n\nIf so, make sure you meet the following\
          \ requirements.\n\n* macOS 12.6 or later (13.0 or later recommended).\n\
          * arm64 version of Python.\n* PyTorch 2.0 (recommended) or 1.13 (minimum\
          \ version supported for mps). \n\nI referenced [this documentation](https://huggingface.co/docs/diffusers/optimization/mps)."
        updatedAt: '2023-06-06T14:32:52.366Z'
      numEdits: 0
      reactions: []
    id: 647f43941a446a624a44b3ef
    type: comment
  author: aldente0630
  content: "Did you get the error even though you modified the code as follows?\n\n\
    ```python\npipe = StableDiffusionPipeline.from_pretrained(model_id, torch_dtype=torch.float16)\n\
    pipe = pipe.to(\"mps\")\n```\n\nIf so, make sure you meet the following requirements.\n\
    \n* macOS 12.6 or later (13.0 or later recommended).\n* arm64 version of Python.\n\
    * PyTorch 2.0 (recommended) or 1.13 (minimum version supported for mps). \n\n\
    I referenced [this documentation](https://huggingface.co/docs/diffusers/optimization/mps)."
  created_at: 2023-06-06 13:32:52+00:00
  edited: false
  hidden: false
  id: 647f43941a446a624a44b3ef
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7d49bef11ba12d58868b0de9dcc465ed.svg
      fullname: sangyeon choi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: hellotheresy
      type: user
    createdAt: '2023-06-06T15:21:59.000Z'
    data:
      edited: false
      editors:
      - hellotheresy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7035011053085327
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7d49bef11ba12d58868b0de9dcc465ed.svg
          fullname: sangyeon choi
          isHf: false
          isPro: false
          name: hellotheresy
          type: user
        html: '<p>Hi. </p>

          <p>thank you for reply<br>I already said, use the intel cpu.. lol<br>( Not
          arm64 ) </p>

          <p>so I got the this message<br>"<br>loc("varianceEps"("(mpsFileLoc): /AppleInternal/Library/BuildRoots/a0876c02-1788-11ed-b9c4-96898e02b808/Library/Caches/com.apple.xbs/Sources/MetalPerformanceShadersGraph/mpsgraph/MetalPerformanceShadersGraph/Core/Files/MPSGraphUtilities.mm":219:0)):
          error: input types ''tensor&lt;1x77x1xf16&gt;'' and ''tensor&lt;1xf32&gt;''
          are not broadcast compatible<br>LLVM ERROR: Failed to infer result type(s).<br>"</p>

          <p>thank you  your support</p>

          '
        raw: "Hi. \n\nthank you for reply\nI already said, use the intel cpu.. lol\
          \ \n( Not arm64 ) \n\nso I got the this message \n\"\nloc(\"varianceEps\"\
          (\"(mpsFileLoc): /AppleInternal/Library/BuildRoots/a0876c02-1788-11ed-b9c4-96898e02b808/Library/Caches/com.apple.xbs/Sources/MetalPerformanceShadersGraph/mpsgraph/MetalPerformanceShadersGraph/Core/Files/MPSGraphUtilities.mm\"\
          :219:0)): error: input types 'tensor<1x77x1xf16>' and 'tensor<1xf32>' are\
          \ not broadcast compatible\nLLVM ERROR: Failed to infer result type(s).\n\
          \"\n\nthank you  your support"
        updatedAt: '2023-06-06T15:21:59.166Z'
      numEdits: 0
      reactions: []
    id: 647f4f171a446a624a45a3e4
    type: comment
  author: hellotheresy
  content: "Hi. \n\nthank you for reply\nI already said, use the intel cpu.. lol \n\
    ( Not arm64 ) \n\nso I got the this message \n\"\nloc(\"varianceEps\"(\"(mpsFileLoc):\
    \ /AppleInternal/Library/BuildRoots/a0876c02-1788-11ed-b9c4-96898e02b808/Library/Caches/com.apple.xbs/Sources/MetalPerformanceShadersGraph/mpsgraph/MetalPerformanceShadersGraph/Core/Files/MPSGraphUtilities.mm\"\
    :219:0)): error: input types 'tensor<1x77x1xf16>' and 'tensor<1xf32>' are not\
    \ broadcast compatible\nLLVM ERROR: Failed to infer result type(s).\n\"\n\nthank\
    \ you  your support"
  created_at: 2023-06-06 14:21:59+00:00
  edited: false
  hidden: false
  id: 647f4f171a446a624a45a3e4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6423d64cca5efe9f3587b255/peB3GJEsSAlCCB-L9y_UB.png?w=200&h=200&f=face
      fullname: Youngmin Kim
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: aldente0630
      type: user
    createdAt: '2023-06-06T16:01:08.000Z'
    data:
      edited: false
      editors:
      - aldente0630
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8513152599334717
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6423d64cca5efe9f3587b255/peB3GJEsSAlCCB-L9y_UB.png?w=200&h=200&f=face
          fullname: Youngmin Kim
          isHf: false
          isPro: false
          name: aldente0630
          type: user
        html: '<p>Sorry, my specs are as follows, very slow, but the code works.</p>

          <ul>

          <li>MacBook Pro, 2019</li>

          <li>2.6 GHz 6-Core Intel Core i7</li>

          <li>16 GB 2667 MHz DDR4</li>

          </ul>

          <pre><code class="language-python">pipe = StableDiffusionPipeline.from_pretrained(model_id)  <span
          class="hljs-comment"># Half-precision is not supported on CPUs.</span>

          pipe = pipe.to(<span class="hljs-string">"cpu"</span>)

          </code></pre>

          <p>If this is still the case, it''s likely a PyTorch version issue.</p>

          '
        raw: 'Sorry, my specs are as follows, very slow, but the code works.


          * MacBook Pro, 2019

          * 2.6 GHz 6-Core Intel Core i7

          * 16 GB 2667 MHz DDR4


          ```python

          pipe = StableDiffusionPipeline.from_pretrained(model_id)  # Half-precision
          is not supported on CPUs.

          pipe = pipe.to("cpu")

          ```


          If this is still the case, it''s likely a PyTorch version issue.'
        updatedAt: '2023-06-06T16:01:08.276Z'
      numEdits: 0
      reactions: []
    id: 647f58441a446a624a465a09
    type: comment
  author: aldente0630
  content: 'Sorry, my specs are as follows, very slow, but the code works.


    * MacBook Pro, 2019

    * 2.6 GHz 6-Core Intel Core i7

    * 16 GB 2667 MHz DDR4


    ```python

    pipe = StableDiffusionPipeline.from_pretrained(model_id)  # Half-precision is
    not supported on CPUs.

    pipe = pipe.to("cpu")

    ```


    If this is still the case, it''s likely a PyTorch version issue.'
  created_at: 2023-06-06 15:01:08+00:00
  edited: false
  hidden: false
  id: 647f58441a446a624a465a09
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7d49bef11ba12d58868b0de9dcc465ed.svg
      fullname: sangyeon choi
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: hellotheresy
      type: user
    createdAt: '2023-06-07T05:45:43.000Z'
    data:
      edited: false
      editors:
      - hellotheresy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9597492218017578
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7d49bef11ba12d58868b0de9dcc465ed.svg
          fullname: sangyeon choi
          isHf: false
          isPro: false
          name: hellotheresy
          type: user
        html: '<p>It''s work! </p>

          <p>thank you your support!</p>

          '
        raw: "It's work! \n\nthank you your support!"
        updatedAt: '2023-06-07T05:45:43.557Z'
      numEdits: 0
      reactions: []
    id: 64801987cbb8294ed813307c
    type: comment
  author: hellotheresy
  content: "It's work! \n\nthank you your support!"
  created_at: 2023-06-07 04:45:43+00:00
  edited: false
  hidden: false
  id: 64801987cbb8294ed813307c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6423d64cca5efe9f3587b255/peB3GJEsSAlCCB-L9y_UB.png?w=200&h=200&f=face
      fullname: Youngmin Kim
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: aldente0630
      type: user
    createdAt: '2023-10-13T13:21:11.000Z'
    data:
      status: closed
    id: 6529444790f06dd8a8f4443a
    type: status-change
  author: aldente0630
  created_at: 2023-10-13 12:21:11+00:00
  id: 6529444790f06dd8a8f4443a
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: aldente0630/musinsaigo-1.0
repo_type: model
status: closed
target_branch: null
title: 'Can''t running  mac os environment '
