!!python/object:huggingface_hub.community.DiscussionWithDetails
author: neilb
conflicting_files: null
created_at: 2023-11-05 04:09:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cd3c42714574646f691397ccc5b78a07.svg
      fullname: neilb
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: neilb
      type: user
    createdAt: '2023-11-05T05:09:03.000Z'
    data:
      edited: false
      editors:
      - neilb
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6652273535728455
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cd3c42714574646f691397ccc5b78a07.svg
          fullname: neilb
          isHf: false
          isPro: false
          name: neilb
          type: user
        html: '<p>I''m running the sample code provided on the Model card using the
          latest version of AutoAWQ and it crashes on the load model step:</p>

          <h1 id="load-model">Load model</h1>

          <p>model = AutoAWQForCausalLM.from_quantized(model_name_or_path, fuse_layers=True,<br>                                          trust_remote_code=False,
          safetensors=True)</p>

          <p>safetensors_rust.SafetensorError: Error while deserializing header: InvalidHeaderDeserialization</p>

          '
        raw: "I'm running the sample code provided on the Model card using the latest\
          \ version of AutoAWQ and it crashes on the load model step:\r\n\r\n# Load\
          \ model\r\nmodel = AutoAWQForCausalLM.from_quantized(model_name_or_path,\
          \ fuse_layers=True,\r\n                                          trust_remote_code=False,\
          \ safetensors=True)\r\n\r\nsafetensors_rust.SafetensorError: Error while\
          \ deserializing header: InvalidHeaderDeserialization\r\n"
        updatedAt: '2023-11-05T05:09:03.915Z'
      numEdits: 0
      reactions: []
    id: 6547236f470b4b8b3fdc6b54
    type: comment
  author: neilb
  content: "I'm running the sample code provided on the Model card using the latest\
    \ version of AutoAWQ and it crashes on the load model step:\r\n\r\n# Load model\r\
    \nmodel = AutoAWQForCausalLM.from_quantized(model_name_or_path, fuse_layers=True,\r\
    \n                                          trust_remote_code=False, safetensors=True)\r\
    \n\r\nsafetensors_rust.SafetensorError: Error while deserializing header: InvalidHeaderDeserialization\r\
    \n"
  created_at: 2023-11-05 04:09:03+00:00
  edited: false
  hidden: false
  id: 6547236f470b4b8b3fdc6b54
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/19f9eeb9281b47b34f68c312092ca468.svg
      fullname: Yu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Yhyu13
      type: user
    createdAt: '2023-11-05T05:30:19.000Z'
    data:
      edited: false
      editors:
      - Yhyu13
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6579917073249817
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/19f9eeb9281b47b34f68c312092ca468.svg
          fullname: Yu
          isHf: false
          isPro: false
          name: Yhyu13
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;TheBloke&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/TheBloke\">@<span class=\"\
          underline\">TheBloke</span></a></span>\n\n\t</span></span> Could you varify\
          \ this error?</p>\n<p>i will be waiting the GPTQ version instead</p>\n"
        raw: '@TheBloke Could you varify this error?


          i will be waiting the GPTQ version instead'
        updatedAt: '2023-11-05T05:30:19.315Z'
      numEdits: 0
      reactions: []
    id: 6547286b6070dd5df76d37c6
    type: comment
  author: Yhyu13
  content: '@TheBloke Could you varify this error?


    i will be waiting the GPTQ version instead'
  created_at: 2023-11-05 04:30:19+00:00
  edited: false
  hidden: false
  id: 6547286b6070dd5df76d37c6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-11-05T12:48:14.000Z'
    data:
      edited: false
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9787293076515198
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Sorry about that, it was caused by a bug that resulted in there
          being an empty <code>model.safetensors</code> file as well as <code>model-x-of-y.safetensors</code>
          files as well</p>

          <p>I''ve removed the bad file.  If you also delete <code>model.safetensors</code>
          from your local download directory, or delete the whole folder and do a
          download again, it will work fine now</p>

          '
        raw: 'Sorry about that, it was caused by a bug that resulted in there being
          an empty `model.safetensors` file as well as `model-x-of-y.safetensors`
          files as well


          I''ve removed the bad file.  If you also delete `model.safetensors` from
          your local download directory, or delete the whole folder and do a download
          again, it will work fine now'
        updatedAt: '2023-11-05T12:48:14.613Z'
      numEdits: 0
      reactions: []
    id: 65478f0e5cd5692b3ad2e9a7
    type: comment
  author: TheBloke
  content: 'Sorry about that, it was caused by a bug that resulted in there being
    an empty `model.safetensors` file as well as `model-x-of-y.safetensors` files
    as well


    I''ve removed the bad file.  If you also delete `model.safetensors` from your
    local download directory, or delete the whole folder and do a download again,
    it will work fine now'
  created_at: 2023-11-05 12:48:14+00:00
  edited: false
  hidden: false
  id: 65478f0e5cd5692b3ad2e9a7
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: TheBloke/deepseek-coder-33B-instruct-AWQ
repo_type: model
status: open
target_branch: null
title: Getting InvalidHeaderDeserialization trying to load this model
