!!python/object:huggingface_hub.community.DiscussionWithDetails
author: xiaoyaolangzi
conflicting_files: null
created_at: 2023-08-18 04:04:24+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/57e969f86133058963cdea7d885f91e5.svg
      fullname: Clint Harrys
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xiaoyaolangzi
      type: user
    createdAt: '2023-08-18T05:04:24.000Z'
    data:
      edited: false
      editors:
      - xiaoyaolangzi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4160965085029602
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/57e969f86133058963cdea7d885f91e5.svg
          fullname: Clint Harrys
          isHf: false
          isPro: false
          name: xiaoyaolangzi
          type: user
        html: "<p>tokenizer = AutoTokenizer.from_pretrained(\"Helsinki-NLP/opus-mt-en-zh\"\
          )<br>model = AutoModelWithLMHead.from_pretrained(\"Helsinki-NLP/opus-mt-en-zh\"\
          )<br>translation = pipeline(\"translation_en_to_zh\", model=model, tokenizer=tokenizer)<br>#translation\
          \ = pipeline(\"translation\", model=\"Helsinki-NLP/opus-mt-en-zh\")</p>\n\
          <p>text = \"hello\"<br>result  = translation(text, max_length=40)[0][\"\
          translation_text\"]<br>result  is \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
          \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
          \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
          \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8</p>\n<p>transformers 4.31.0</p>\n"
        raw: "tokenizer = AutoTokenizer.from_pretrained(\"Helsinki-NLP/opus-mt-en-zh\"\
          )\r\nmodel = AutoModelWithLMHead.from_pretrained(\"Helsinki-NLP/opus-mt-en-zh\"\
          )\r\ntranslation = pipeline(\"translation_en_to_zh\", model=model, tokenizer=tokenizer)\r\
          \n#translation = pipeline(\"translation\", model=\"Helsinki-NLP/opus-mt-en-zh\"\
          )\r\n\r\ntext = \"hello\"\r\nresult  = translation(text, max_length=40)[0][\"\
          translation_text\"]\r\nresult  is \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
          \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
          \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
          \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\r\n\r\ntransformers 4.31.0"
        updatedAt: '2023-08-18T05:04:24.656Z'
      numEdits: 0
      reactions: []
    id: 64defbd867473f6c23dc298c
    type: comment
  author: xiaoyaolangzi
  content: "tokenizer = AutoTokenizer.from_pretrained(\"Helsinki-NLP/opus-mt-en-zh\"\
    )\r\nmodel = AutoModelWithLMHead.from_pretrained(\"Helsinki-NLP/opus-mt-en-zh\"\
    )\r\ntranslation = pipeline(\"translation_en_to_zh\", model=model, tokenizer=tokenizer)\r\
    \n#translation = pipeline(\"translation\", model=\"Helsinki-NLP/opus-mt-en-zh\"\
    )\r\n\r\ntext = \"hello\"\r\nresult  = translation(text, max_length=40)[0][\"\
    translation_text\"]\r\nresult  is \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
    \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
    \u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\
    \u54C8\u54C8\u54C8\u54C8\r\n\r\ntransformers 4.31.0"
  created_at: 2023-08-18 04:04:24+00:00
  edited: false
  hidden: false
  id: 64defbd867473f6c23dc298c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/53c9a23324151a240e4156e35b33c34d.svg
      fullname: Guangxiao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: linuxonly801
      type: user
    createdAt: '2023-09-15T02:55:14.000Z'
    data:
      edited: false
      editors:
      - linuxonly801
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.508687436580658
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/53c9a23324151a240e4156e35b33c34d.svg
          fullname: Guangxiao
          isHf: false
          isPro: false
          name: linuxonly801
          type: user
        html: "<p>Check this link: <a href=\"https://huggingface.co/docs/transformers/model_doc/marian\"\
          >https://huggingface.co/docs/transformers/model_doc/marian</a></p>\n<pre><code\
          \ class=\"language-python\"><span class=\"hljs-keyword\">from</span> transformers\
          \ <span class=\"hljs-keyword\">import</span> MarianMTModel, MarianTokenizer\n\
          \nsrc_text = [\n<span class=\"hljs-string\">'Hello, Good to see you.'</span>,\n\
          \ <span class=\"hljs-string\">\"It's a beautiful day!\"</span>, \n<span\
          \ class=\"hljs-string\">'Good moods are the most important.'</span>,\n]\n\
          \nmodel_name = <span class=\"hljs-string\">\"Helsinki-NLP/opus-mt-en-zh\"\
          </span>\ntokenizer = MarianTokenizer.from_pretrained(model_name)\nmodel\
          \ = MarianMTModel.from_pretrained(model_name)\ntranslated = model.generate(**tokenizer(src_text,\
          \ return_tensors=<span class=\"hljs-string\">\"pt\"</span>, padding=<span\
          \ class=\"hljs-literal\">True</span>))\nres = [tokenizer.decode(t, skip_special_tokens=<span\
          \ class=\"hljs-literal\">True</span>) <span class=\"hljs-keyword\">for</span>\
          \ t <span class=\"hljs-keyword\">in</span> translated]\n<span class=\"hljs-built_in\"\
          >print</span>(res)\n</code></pre>\n<p>the result is:</p>\n<p>['\u4F60\u597D\
          ,\u5F88\u9AD8\u5174\u89C1\u5230\u4F60\u3002', '\u8FD9\u662F\u4E00\u4E2A\u7F8E\
          \u4E3D\u7684\u4E00\u5929!', '\u826F\u597D\u7684\u60C5\u7EEA\u662F\u6700\u91CD\
          \u8981\u7684\u3002']</p>\n"
        raw: "Check this link: <https://huggingface.co/docs/transformers/model_doc/marian>\n\
          ```python\nfrom transformers import MarianMTModel, MarianTokenizer\n\nsrc_text\
          \ = [\n'Hello, Good to see you.',\n \"It's a beautiful day!\", \n'Good moods\
          \ are the most important.',\n]\n\nmodel_name = \"Helsinki-NLP/opus-mt-en-zh\"\
          \ntokenizer = MarianTokenizer.from_pretrained(model_name)\nmodel = MarianMTModel.from_pretrained(model_name)\n\
          translated = model.generate(**tokenizer(src_text, return_tensors=\"pt\"\
          , padding=True))\nres = [tokenizer.decode(t, skip_special_tokens=True) for\
          \ t in translated]\nprint(res)\n```\nthe result is:\n\n['\u4F60\u597D,\u5F88\
          \u9AD8\u5174\u89C1\u5230\u4F60\u3002', '\u8FD9\u662F\u4E00\u4E2A\u7F8E\u4E3D\
          \u7684\u4E00\u5929!', '\u826F\u597D\u7684\u60C5\u7EEA\u662F\u6700\u91CD\u8981\
          \u7684\u3002']"
        updatedAt: '2023-09-15T02:55:14.070Z'
      numEdits: 0
      reactions: []
    id: 6503c792e005508f517d803d
    type: comment
  author: linuxonly801
  content: "Check this link: <https://huggingface.co/docs/transformers/model_doc/marian>\n\
    ```python\nfrom transformers import MarianMTModel, MarianTokenizer\n\nsrc_text\
    \ = [\n'Hello, Good to see you.',\n \"It's a beautiful day!\", \n'Good moods are\
    \ the most important.',\n]\n\nmodel_name = \"Helsinki-NLP/opus-mt-en-zh\"\ntokenizer\
    \ = MarianTokenizer.from_pretrained(model_name)\nmodel = MarianMTModel.from_pretrained(model_name)\n\
    translated = model.generate(**tokenizer(src_text, return_tensors=\"pt\", padding=True))\n\
    res = [tokenizer.decode(t, skip_special_tokens=True) for t in translated]\nprint(res)\n\
    ```\nthe result is:\n\n['\u4F60\u597D,\u5F88\u9AD8\u5174\u89C1\u5230\u4F60\u3002\
    ', '\u8FD9\u662F\u4E00\u4E2A\u7F8E\u4E3D\u7684\u4E00\u5929!', '\u826F\u597D\u7684\
    \u60C5\u7EEA\u662F\u6700\u91CD\u8981\u7684\u3002']"
  created_at: 2023-09-15 01:55:14+00:00
  edited: false
  hidden: false
  id: 6503c792e005508f517d803d
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 14
repo_id: Helsinki-NLP/opus-mt-en-zh
repo_type: model
status: open
target_branch: null
title: en to zh not work
