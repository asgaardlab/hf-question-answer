!!python/object:huggingface_hub.community.DiscussionWithDetails
author: oxysoft
conflicting_files: null
created_at: 2022-12-15 18:27:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671128876093-62fe6691578749fe22afaa1e.png?w=200&h=200&f=face
      fullname: Nicolas
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: oxysoft
      type: user
    createdAt: '2022-12-15T18:27:10.000Z'
    data:
      edited: true
      editors:
      - oxysoft
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1671128876093-62fe6691578749fe22afaa1e.png?w=200&h=200&f=face
          fullname: Nicolas
          isHf: false
          isPro: false
          name: oxysoft
          type: user
        html: '<p>Hi, I know we can test at <a rel="nofollow" href="https://www.riffusion.com/">https://www.riffusion.com/</a>
          but the servers are completely in ruin and don''t return anything for any
          prompt I enter. On the other hand I can get a spectrogram very easily and
          quickly here on this space. Surely we can add this directly in the space
          and display the mp3 with gradio?</p>

          <p>edit: Sorry, I just realized the inference API and spaces are different
          things</p>

          '
        raw: 'Hi, I know we can test at https://www.riffusion.com/ but the servers
          are completely in ruin and don''t return anything for any prompt I enter.
          On the other hand I can get a spectrogram very easily and quickly here on
          this space. Surely we can add this directly in the space and display the
          mp3 with gradio?


          edit: Sorry, I just realized the inference API and spaces are different
          things'
        updatedAt: '2022-12-15T18:30:06.671Z'
      numEdits: 1
      reactions: []
    id: 639b66fef33236acff6d9639
    type: comment
  author: oxysoft
  content: 'Hi, I know we can test at https://www.riffusion.com/ but the servers are
    completely in ruin and don''t return anything for any prompt I enter. On the other
    hand I can get a spectrogram very easily and quickly here on this space. Surely
    we can add this directly in the space and display the mp3 with gradio?


    edit: Sorry, I just realized the inference API and spaces are different things'
  created_at: 2022-12-15 18:27:10+00:00
  edited: true
  hidden: false
  id: 639b66fef33236acff6d9639
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/447be87de694e47fb6c8fb0b60af30a8.svg
      fullname: Fernando de Morais Gomes
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: fermg
      type: user
    createdAt: '2022-12-15T19:25:29.000Z'
    data:
      edited: false
      editors:
      - fermg
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/447be87de694e47fb6c8fb0b60af30a8.svg
          fullname: Fernando de Morais Gomes
          isHf: false
          isPro: false
          name: fermg
          type: user
        html: '<p>For the impatient ones, simply run this script: <a rel="nofollow"
          href="https://github.com/hmartiro/riffusion-inference/blob/main/riffusion/audio.py">https://github.com/hmartiro/riffusion-inference/blob/main/riffusion/audio.py</a></p>

          <p>Copy and paste the image from the huggingface and convert it into wav
          adding this to the script above:</p>

          <p>def write_bytesio_to_file(filename, bytesio):<br>    """<br>    Write
          the contents of the given BytesIO to a file.<br>    Creates the file or
          overwrites the file if it does<br>    not exist yet.<br>    """<br>    with
          open(filename, "wb") as outfile:<br>        # Copy the BytesIO stream to
          the output file<br>        outfile.write(bytesio.getbuffer())</p>

          <p>img = Image.open("9b1d3101-81d6-49d2-9de9-62ce7a2e5be3.jpg")<br>wav =
          wav_bytes_from_spectrogram_image(img)<br>write_bytesio_to_file("some_path/music.wav",
          wav[0])</p>

          '
        raw: "For the impatient ones, simply run this script: https://github.com/hmartiro/riffusion-inference/blob/main/riffusion/audio.py\n\
          \nCopy and paste the image from the huggingface and convert it into wav\
          \ adding this to the script above:\n\ndef write_bytesio_to_file(filename,\
          \ bytesio):\n    \"\"\"\n    Write the contents of the given BytesIO to\
          \ a file.\n    Creates the file or overwrites the file if it does\n    not\
          \ exist yet. \n    \"\"\"\n    with open(filename, \"wb\") as outfile:\n\
          \        # Copy the BytesIO stream to the output file\n        outfile.write(bytesio.getbuffer())\n\
          \nimg = Image.open(\"9b1d3101-81d6-49d2-9de9-62ce7a2e5be3.jpg\")\nwav =\
          \ wav_bytes_from_spectrogram_image(img)\nwrite_bytesio_to_file(\"some_path/music.wav\"\
          , wav[0])"
        updatedAt: '2022-12-15T19:25:29.814Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - wwerkk
      - count: 1
        reaction: "\U0001F44D"
        users:
        - jspsoli
    id: 639b74a9f33236acff6f7242
    type: comment
  author: fermg
  content: "For the impatient ones, simply run this script: https://github.com/hmartiro/riffusion-inference/blob/main/riffusion/audio.py\n\
    \nCopy and paste the image from the huggingface and convert it into wav adding\
    \ this to the script above:\n\ndef write_bytesio_to_file(filename, bytesio):\n\
    \    \"\"\"\n    Write the contents of the given BytesIO to a file.\n    Creates\
    \ the file or overwrites the file if it does\n    not exist yet. \n    \"\"\"\n\
    \    with open(filename, \"wb\") as outfile:\n        # Copy the BytesIO stream\
    \ to the output file\n        outfile.write(bytesio.getbuffer())\n\nimg = Image.open(\"\
    9b1d3101-81d6-49d2-9de9-62ce7a2e5be3.jpg\")\nwav = wav_bytes_from_spectrogram_image(img)\n\
    write_bytesio_to_file(\"some_path/music.wav\", wav[0])"
  created_at: 2022-12-15 19:25:29+00:00
  edited: false
  hidden: false
  id: 639b74a9f33236acff6f7242
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672903464835-6303d49ba362e7e8b51c08d2.jpeg?w=200&h=200&f=face
      fullname: Seth Forsgren
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sethforsgren
      type: user
    createdAt: '2022-12-21T06:13:33.000Z'
    data:
      edited: false
      editors:
      - sethforsgren
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672903464835-6303d49ba362e7e8b51c08d2.jpeg?w=200&h=200&f=face
          fullname: Seth Forsgren
          isHf: false
          isPro: false
          name: sethforsgren
          type: user
        html: '<p>Efforts are underway to release a simple interface to help with
          this process! Thanks for the short term solution fermg</p>

          '
        raw: Efforts are underway to release a simple interface to help with this
          process! Thanks for the short term solution fermg
        updatedAt: '2022-12-21T06:13:33.963Z'
      numEdits: 0
      reactions: []
      relatedEventId: 63a2a40d568b2667f14cb822
    id: 63a2a40d568b2667f14cb821
    type: comment
  author: sethforsgren
  content: Efforts are underway to release a simple interface to help with this process!
    Thanks for the short term solution fermg
  created_at: 2022-12-21 06:13:33+00:00
  edited: false
  hidden: false
  id: 63a2a40d568b2667f14cb821
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1672903464835-6303d49ba362e7e8b51c08d2.jpeg?w=200&h=200&f=face
      fullname: Seth Forsgren
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: sethforsgren
      type: user
    createdAt: '2022-12-21T06:13:33.000Z'
    data:
      status: closed
    id: 63a2a40d568b2667f14cb822
    type: status-change
  author: sethforsgren
  created_at: 2022-12-21 06:13:33+00:00
  id: 63a2a40d568b2667f14cb822
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: riffusion/riffusion-model-v1
repo_type: model
status: closed
target_branch: null
title: Add spectrogram to mp3 in huggingface space
