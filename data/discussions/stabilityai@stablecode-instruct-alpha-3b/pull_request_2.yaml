!!python/object:huggingface_hub.community.DiscussionWithDetails
author: mendhak
conflicting_files: []
created_at: 2023-08-08 17:28:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643adb2aa856622f978c2168/xwcatDqj3sk12ZixqBLmT.png?w=200&h=200&f=face
      fullname: mendhak
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mendhak
      type: user
    createdAt: '2023-08-08T18:28:10.000Z'
    data:
      edited: true
      editors:
      - mendhak
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7581156492233276
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643adb2aa856622f978c2168/xwcatDqj3sk12ZixqBLmT.png?w=200&h=200&f=face
          fullname: mendhak
          isHf: false
          isPro: false
          name: mendhak
          type: user
        html: '<p>The current code sample results in an error:</p>

          <blockquote>

          <p>ValueError: The following <code>model_kwargs</code> are not used by the
          model: [''token_type_ids'']</p>

          </blockquote>

          <p>Adding <code>return_token_type_ids=False</code>as an argument to the
          <code>tokenizer()</code> method resolves this error.</p>

          <pre><code>inputs = tokenizer("###Instruction\nGenerate a python function
          to find number of CPU cores###Response\n", return_tensors="pt", return_token_type_ids=False).to("cuda")

          </code></pre>

          '
        raw: 'The current code sample results in an error:


          > ValueError: The following `model_kwargs` are not used by the model: [''token_type_ids'']


          Adding `return_token_type_ids=False`as an argument to the `tokenizer()`
          method resolves this error.


          ```

          inputs = tokenizer("###Instruction\nGenerate a python function to find number
          of CPU cores###Response\n", return_tensors="pt", return_token_type_ids=False).to("cuda")

          ```'
        updatedAt: '2023-08-09T07:45:52.381Z'
      numEdits: 1
      reactions:
      - count: 4
        reaction: "\U0001F44D"
        users:
        - onlinux
        - sjschubert
        - PartyParrot
        - adderr
    id: 64d2893a6975d681475c3d50
    type: comment
  author: mendhak
  content: 'The current code sample results in an error:


    > ValueError: The following `model_kwargs` are not used by the model: [''token_type_ids'']


    Adding `return_token_type_ids=False`as an argument to the `tokenizer()` method
    resolves this error.


    ```

    inputs = tokenizer("###Instruction\nGenerate a python function to find number
    of CPU cores###Response\n", return_tensors="pt", return_token_type_ids=False).to("cuda")

    ```'
  created_at: 2023-08-08 17:28:10+00:00
  edited: true
  hidden: false
  id: 64d2893a6975d681475c3d50
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643adb2aa856622f978c2168/xwcatDqj3sk12ZixqBLmT.png?w=200&h=200&f=face
      fullname: mendhak
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mendhak
      type: user
    createdAt: '2023-08-08T18:28:11.000Z'
    data:
      oid: a7ad44f80d57a8a3dbd26662108827f111c54113
      parents:
      - 3e6a4ab529afd87112152f397fbbedcd6a437f78
      subject: Fix code sample to resolve ValueError
    id: 64d2893b0000000000000000
    type: commit
  author: mendhak
  created_at: 2023-08-08 17:28:11+00:00
  id: 64d2893b0000000000000000
  oid: a7ad44f80d57a8a3dbd26662108827f111c54113
  summary: Fix code sample to resolve ValueError
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/34256744a20ac90bcb9b5993f4e6405b.svg
      fullname: Rewisdom AI
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rewisdomai
      type: user
    createdAt: '2023-08-09T03:51:50.000Z'
    data:
      edited: false
      editors:
      - rewisdomai
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9759665727615356
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/34256744a20ac90bcb9b5993f4e6405b.svg
          fullname: Rewisdom AI
          isHf: false
          isPro: false
          name: rewisdomai
          type: user
        html: '<p>Thanks, came here to post this but where do you put this exactly?</p>

          '
        raw: Thanks, came here to post this but where do you put this exactly?
        updatedAt: '2023-08-09T03:51:50.023Z'
      numEdits: 0
      reactions: []
    id: 64d30d565de0bc71ffa11ebd
    type: comment
  author: rewisdomai
  content: Thanks, came here to post this but where do you put this exactly?
  created_at: 2023-08-09 02:51:50+00:00
  edited: false
  hidden: false
  id: 64d30d565de0bc71ffa11ebd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64c9ac298d2d187c24d140f0/iXB-zyJPnwYnuVSBeTlfN.png?w=200&h=200&f=face
      fullname: S. Schubert
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sjschubert
      type: user
    createdAt: '2023-08-09T03:59:45.000Z'
    data:
      edited: false
      editors:
      - sjschubert
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9429818987846375
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64c9ac298d2d187c24d140f0/iXB-zyJPnwYnuVSBeTlfN.png?w=200&h=200&f=face
          fullname: S. Schubert
          isHf: false
          isPro: false
          name: sjschubert
          type: user
        html: '<blockquote>

          <p>Thanks, came here to post this but where do you put this exactly?</p>

          </blockquote>

          <p>It''s passed to the tokenizer, you can see observe in <code>Files changed</code>
          (next to this discussion).</p>

          '
        raw: '> Thanks, came here to post this but where do you put this exactly?


          It''s passed to the tokenizer, you can see observe in `Files changed` (next
          to this discussion).'
        updatedAt: '2023-08-09T03:59:45.640Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - mendhak
    id: 64d30f314eb2ea6d5d8e118a
    type: comment
  author: sjschubert
  content: '> Thanks, came here to post this but where do you put this exactly?


    It''s passed to the tokenizer, you can see observe in `Files changed` (next to
    this discussion).'
  created_at: 2023-08-09 02:59:45+00:00
  edited: false
  hidden: false
  id: 64d30f314eb2ea6d5d8e118a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/34256744a20ac90bcb9b5993f4e6405b.svg
      fullname: Rewisdom AI
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: rewisdomai
      type: user
    createdAt: '2023-08-09T05:45:34.000Z'
    data:
      edited: false
      editors:
      - rewisdomai
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8991481065750122
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/34256744a20ac90bcb9b5993f4e6405b.svg
          fullname: Rewisdom AI
          isHf: false
          isPro: false
          name: rewisdomai
          type: user
        html: "<p>Sweet, it worked<br>Thanks <span data-props=\"{&quot;user&quot;:&quot;mendhak&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/mendhak\"\
          >@<span class=\"underline\">mendhak</span></a></span>\n\n\t</span></span>\
          \ <span data-props=\"{&quot;user&quot;:&quot;sjschubert&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/sjschubert\">@<span class=\"\
          underline\">sjschubert</span></a></span>\n\n\t</span></span> </p>\n"
        raw: 'Sweet, it worked

          Thanks @mendhak @sjschubert '
        updatedAt: '2023-08-09T05:45:34.355Z'
      numEdits: 0
      reactions: []
    id: 64d327feaca4293a674172b1
    type: comment
  author: rewisdomai
  content: 'Sweet, it worked

    Thanks @mendhak @sjschubert '
  created_at: 2023-08-09 04:45:34+00:00
  edited: false
  hidden: false
  id: 64d327feaca4293a674172b1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9c3b817a7b558e0667652ead31747967.svg
      fullname: Sudhir Gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sudhir2016
      type: user
    createdAt: '2023-08-09T06:08:03.000Z'
    data:
      edited: false
      editors:
      - sudhir2016
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8608821034431458
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9c3b817a7b558e0667652ead31747967.svg
          fullname: Sudhir Gupta
          isHf: false
          isPro: false
          name: sudhir2016
          type: user
        html: '<p>I am getting  this error when I try to use in pipeline ''Repo model
          stabilityai/stablecode-instruct-alpha-3b is gated. You must be authenticated
          to access it.''</p>

          '
        raw: 'I am getting  this error when I try to use in pipeline ''Repo model
          stabilityai/stablecode-instruct-alpha-3b is gated. You must be authenticated
          to access it.''

          '
        updatedAt: '2023-08-09T06:08:03.185Z'
      numEdits: 0
      reactions: []
    id: 64d32d437f0f833916051d57
    type: comment
  author: sudhir2016
  content: 'I am getting  this error when I try to use in pipeline ''Repo model stabilityai/stablecode-instruct-alpha-3b
    is gated. You must be authenticated to access it.''

    '
  created_at: 2023-08-09 05:08:03+00:00
  edited: false
  hidden: false
  id: 64d32d437f0f833916051d57
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643adb2aa856622f978c2168/xwcatDqj3sk12ZixqBLmT.png?w=200&h=200&f=face
      fullname: mendhak
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mendhak
      type: user
    createdAt: '2023-08-09T07:16:45.000Z'
    data:
      edited: false
      editors:
      - mendhak
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7584643959999084
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/643adb2aa856622f978c2168/xwcatDqj3sk12ZixqBLmT.png?w=200&h=200&f=face
          fullname: mendhak
          isHf: false
          isPro: false
          name: mendhak
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sudhir2016&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/sudhir2016\">@<span class=\"\
          underline\">sudhir2016</span></a></span>\n\n\t</span></span> you can use\
          \ the <a href=\"https://huggingface.co/docs/huggingface_hub/quick-start\"\
          >HuggingFace CLI</a> to login, it will ask you for a token there. Generate\
          \ a token <a href=\"https://huggingface.co/settings/tokens\">in your settings</a>.\
          \ After that, your downloads should start working. </p>\n"
        raw: '@sudhir2016 you can use the [HuggingFace CLI](https://huggingface.co/docs/huggingface_hub/quick-start)
          to login, it will ask you for a token there. Generate a token [in your settings](https://huggingface.co/settings/tokens).
          After that, your downloads should start working. '
        updatedAt: '2023-08-09T07:16:45.149Z'
      numEdits: 0
      reactions: []
    id: 64d33d5ddafee18fafb14d79
    type: comment
  author: mendhak
  content: '@sudhir2016 you can use the [HuggingFace CLI](https://huggingface.co/docs/huggingface_hub/quick-start)
    to login, it will ask you for a token there. Generate a token [in your settings](https://huggingface.co/settings/tokens).
    After that, your downloads should start working. '
  created_at: 2023-08-09 06:16:45+00:00
  edited: false
  hidden: false
  id: 64d33d5ddafee18fafb14d79
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/68ac927959a8e2e406cb44e999b9be2e.svg
      fullname: John Doe
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PartyParrot
      type: user
    createdAt: '2023-08-09T07:42:07.000Z'
    data:
      edited: true
      editors:
      - PartyParrot
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5277407169342041
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/68ac927959a8e2e406cb44e999b9be2e.svg
          fullname: John Doe
          isHf: false
          isPro: false
          name: PartyParrot
          type: user
        html: "<blockquote>\n<p>Thanks, came here to post this but where do you put\
          \ this exactly?</p>\n</blockquote>\n<p>You have to add the parameter <code>return_token_type_ids=False</code>\
          \ to the <code>tokenizer(...)</code> function.</p>\n<pre><code class=\"\
          language-python\">inputs = tokenizer(\n    <span class=\"hljs-string\">\"\
          ###Instruction\\nGenerate a python function to find number of CPU cores###Response\\\
          n\"</span>,\n    return_tensors=<span class=\"hljs-string\">\"pt\"</span>,\n\
          \    return_token_type_ids=<span class=\"hljs-literal\">False</span>, <span\
          \ class=\"hljs-comment\"># &lt;------------- put this here</span>\n).to(<span\
          \ class=\"hljs-string\">\"cuda\"</span>)\n</code></pre>\n"
        raw: "> Thanks, came here to post this but where do you put this exactly?\n\
          \nYou have to add the parameter `return_token_type_ids=False` to the `tokenizer(...)`\
          \ function.\n\n```python\ninputs = tokenizer(\n    \"###Instruction\\nGenerate\
          \ a python function to find number of CPU cores###Response\\n\",\n    return_tensors=\"\
          pt\",\n    return_token_type_ids=False, # <------------- put this here\n\
          ).to(\"cuda\")\n```"
        updatedAt: '2023-08-09T07:42:23.331Z'
      numEdits: 1
      reactions: []
    id: 64d3434f89a89bedda2d95fe
    type: comment
  author: PartyParrot
  content: "> Thanks, came here to post this but where do you put this exactly?\n\n\
    You have to add the parameter `return_token_type_ids=False` to the `tokenizer(...)`\
    \ function.\n\n```python\ninputs = tokenizer(\n    \"###Instruction\\nGenerate\
    \ a python function to find number of CPU cores###Response\\n\",\n    return_tensors=\"\
    pt\",\n    return_token_type_ids=False, # <------------- put this here\n).to(\"\
    cuda\")\n```"
  created_at: 2023-08-09 06:42:07+00:00
  edited: true
  hidden: false
  id: 64d3434f89a89bedda2d95fe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d062c319ee0654d3194490e7ee240b72.svg
      fullname: haojing
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: boxter007
      type: user
    createdAt: '2023-08-09T15:08:54.000Z'
    data:
      edited: false
      editors:
      - boxter007
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8293498158454895
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d062c319ee0654d3194490e7ee240b72.svg
          fullname: haojing
          isHf: false
          isPro: false
          name: boxter007
          type: user
        html: '<p>Even example code is wrong !!! faint</p>

          '
        raw: Even example code is wrong !!! faint
        updatedAt: '2023-08-09T15:08:54.867Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F614"
        users:
        - eskayML
    id: 64d3ac06c4c5f16a0b50eebb
    type: comment
  author: boxter007
  content: Even example code is wrong !!! faint
  created_at: 2023-08-09 14:08:54+00:00
  edited: false
  hidden: false
  id: 64d3ac06c4c5f16a0b50eebb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9c3b817a7b558e0667652ead31747967.svg
      fullname: Sudhir Gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sudhir2016
      type: user
    createdAt: '2023-08-11T05:20:47.000Z'
    data:
      edited: false
      editors:
      - sudhir2016
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7879618406295776
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9c3b817a7b558e0667652ead31747967.svg
          fullname: Sudhir Gupta
          isHf: false
          isPro: false
          name: sudhir2016
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;mendhak&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/mendhak\">@<span class=\"\
          underline\">mendhak</span></a></span>\n\n\t</span></span>  I did what you\
          \ suggested. I am using colab. I logged in successfully using login(). Then\
          \ tried download like this 'hf_hub_download(repo_id=\"stabilityai/stablecode-instruct-alpha-3b\"\
          , filename=\"config.json\"). Still getting this error. Cannot access gated\
          \ repo for url <a href=\"https://huggingface.co/stabilityai/stablecode-instruct-alpha-3b/resolve/main/config.json\"\
          >https://huggingface.co/stabilityai/stablecode-instruct-alpha-3b/resolve/main/config.json</a>.<br>Access\
          \ to model stabilityai/stablecode-instruct-alpha-3b is restricted and you\
          \ are not in the authorized list.</p>\n"
        raw: '@mendhak  I did what you suggested. I am using colab. I logged in successfully
          using login(). Then tried download like this ''hf_hub_download(repo_id="stabilityai/stablecode-instruct-alpha-3b",
          filename="config.json"). Still getting this error. Cannot access gated repo
          for url https://huggingface.co/stabilityai/stablecode-instruct-alpha-3b/resolve/main/config.json.

          Access to model stabilityai/stablecode-instruct-alpha-3b is restricted and
          you are not in the authorized list.'
        updatedAt: '2023-08-11T05:20:47.209Z'
      numEdits: 0
      reactions: []
    id: 64d5c52f6682b2e845f2ba94
    type: comment
  author: sudhir2016
  content: '@mendhak  I did what you suggested. I am using colab. I logged in successfully
    using login(). Then tried download like this ''hf_hub_download(repo_id="stabilityai/stablecode-instruct-alpha-3b",
    filename="config.json"). Still getting this error. Cannot access gated repo for
    url https://huggingface.co/stabilityai/stablecode-instruct-alpha-3b/resolve/main/config.json.

    Access to model stabilityai/stablecode-instruct-alpha-3b is restricted and you
    are not in the authorized list.'
  created_at: 2023-08-11 04:20:47+00:00
  edited: false
  hidden: false
  id: 64d5c52f6682b2e845f2ba94
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e306316db70422f864ca887351b89fce.svg
      fullname: san
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kephalian
      type: user
    createdAt: '2023-08-16T14:11:28.000Z'
    data:
      edited: false
      editors:
      - kephalian
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8527244925498962
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e306316db70422f864ca887351b89fce.svg
          fullname: san
          isHf: false
          isPro: false
          name: kephalian
          type: user
        html: '<p>After changing as per the above mentioned code, I am getting </p>

          <p>OutOfMemoryError: CUDA out of memory. Tried to allocate 38.00 MiB (GPU
          0; 14.75 GiB total capacity; 14.51 GiB already allocated; 16.81 MiB free;
          14.63 GiB reserved in total by PyTorch) If reserved memory is &gt;&gt; allocated
          memory try setting max_split_size_mb to avoid fragmentation. </p>

          '
        raw: "After changing as per the above mentioned code, I am getting \n\nOutOfMemoryError:\
          \ CUDA out of memory. Tried to allocate 38.00 MiB (GPU 0; 14.75 GiB total\
          \ capacity; 14.51 GiB already allocated; 16.81 MiB free; 14.63 GiB reserved\
          \ in total by PyTorch) If reserved memory is >> allocated memory try setting\
          \ max_split_size_mb to avoid fragmentation. "
        updatedAt: '2023-08-16T14:11:28.894Z'
      numEdits: 0
      reactions: []
    id: 64dcd910bf679073bbb3e5ce
    type: comment
  author: kephalian
  content: "After changing as per the above mentioned code, I am getting \n\nOutOfMemoryError:\
    \ CUDA out of memory. Tried to allocate 38.00 MiB (GPU 0; 14.75 GiB total capacity;\
    \ 14.51 GiB already allocated; 16.81 MiB free; 14.63 GiB reserved in total by\
    \ PyTorch) If reserved memory is >> allocated memory try setting max_split_size_mb\
    \ to avoid fragmentation. "
  created_at: 2023-08-16 13:11:28+00:00
  edited: false
  hidden: false
  id: 64dcd910bf679073bbb3e5ce
  type: comment
is_pull_request: true
merge_commit_oid: null
num: 2
repo_id: stabilityai/stablecode-instruct-alpha-3b
repo_type: model
status: open
target_branch: refs/heads/main
title: Fix code sample to resolve ValueError
