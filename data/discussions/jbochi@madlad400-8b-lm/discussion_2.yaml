!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dinhanhx
conflicting_files: null
created_at: 2023-12-02 13:08:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658288030734-624567459dc26c59bae6310f.jpeg?w=200&h=200&f=face
      fullname: dinhanhx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dinhanhx
      type: user
    createdAt: '2023-12-02T13:08:05.000Z'
    data:
      edited: true
      editors:
      - dinhanhx
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7704441547393799
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658288030734-624567459dc26c59bae6310f.jpeg?w=200&h=200&f=face
          fullname: dinhanhx
          isHf: false
          isPro: false
          name: dinhanhx
          type: user
        html: '<p>I notice that in <a href="https://huggingface.co/jbochi/madlad400-8b-lm/blob/25d8903d38d643b4507a04ee35d1466eef40a2a0/config.json#L33"><code>config.json</code></a>,
          the vocab size of the model is 256512. However, the vocab size of the tokenizer
          is 256000.</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/624567459dc26c59bae6310f/aY9iJjw8RmEuCcjLMI_42.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/624567459dc26c59bae6310f/aY9iJjw8RmEuCcjLMI_42.png"></a></p>

          '
        raw: 'I notice that in [`config.json`](https://huggingface.co/jbochi/madlad400-8b-lm/blob/25d8903d38d643b4507a04ee35d1466eef40a2a0/config.json#L33),
          the vocab size of the model is 256512. However, the vocab size of the tokenizer
          is 256000.


          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/624567459dc26c59bae6310f/aY9iJjw8RmEuCcjLMI_42.png)'
        updatedAt: '2023-12-02T13:11:06.516Z'
      numEdits: 3
      reactions: []
    id: 656b2c358a37acfa3fc4e35f
    type: comment
  author: dinhanhx
  content: 'I notice that in [`config.json`](https://huggingface.co/jbochi/madlad400-8b-lm/blob/25d8903d38d643b4507a04ee35d1466eef40a2a0/config.json#L33),
    the vocab size of the model is 256512. However, the vocab size of the tokenizer
    is 256000.


    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/624567459dc26c59bae6310f/aY9iJjw8RmEuCcjLMI_42.png)'
  created_at: 2023-12-02 13:08:05+00:00
  edited: true
  hidden: false
  id: 656b2c358a37acfa3fc4e35f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658288030734-624567459dc26c59bae6310f.jpeg?w=200&h=200&f=face
      fullname: dinhanhx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dinhanhx
      type: user
    createdAt: '2023-12-02T13:13:23.000Z'
    data:
      from: Vocab size is 256512 or 25600?
      to: Vocab size of tokenizer is not equal to vocab size of the model
    id: 656b2d73903e16e62babdb0f
    type: title-change
  author: dinhanhx
  created_at: 2023-12-02 13:13:23+00:00
  id: 656b2d73903e16e62babdb0f
  new_title: Vocab size of tokenizer is not equal to vocab size of the model
  old_title: Vocab size is 256512 or 25600?
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1018b29e2da89f5920a58482e17a1948.svg
      fullname: J Bochi
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: jbochi
      type: user
    createdAt: '2023-12-04T13:24:54.000Z'
    data:
      edited: false
      editors:
      - jbochi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9075440764427185
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1018b29e2da89f5920a58482e17a1948.svg
          fullname: J Bochi
          isHf: false
          isPro: false
          name: jbochi
          type: user
        html: '<p>The vocab size is set to 256512 in the original <a rel="nofollow"
          href="https://storage.googleapis.com/madlad-400-checkpoints/checkpoints/8b-lm/8b-lm.gin">gin
          file</a>. That matches the dimensions of the weights.</p>

          <p>I believe the difference is due to <code>EXTRA_IDS = 512</code>, also
          from the gin file. You can fine-tune those for your own needs.</p>

          '
        raw: 'The vocab size is set to 256512 in the original [gin file](https://storage.googleapis.com/madlad-400-checkpoints/checkpoints/8b-lm/8b-lm.gin).
          That matches the dimensions of the weights.


          I believe the difference is due to `EXTRA_IDS = 512`, also from the gin
          file. You can fine-tune those for your own needs.'
        updatedAt: '2023-12-04T13:24:54.910Z'
      numEdits: 0
      reactions: []
      relatedEventId: 656dd3269c8778992fe2b596
    id: 656dd3269c8778992fe2b594
    type: comment
  author: jbochi
  content: 'The vocab size is set to 256512 in the original [gin file](https://storage.googleapis.com/madlad-400-checkpoints/checkpoints/8b-lm/8b-lm.gin).
    That matches the dimensions of the weights.


    I believe the difference is due to `EXTRA_IDS = 512`, also from the gin file.
    You can fine-tune those for your own needs.'
  created_at: 2023-12-04 13:24:54+00:00
  edited: false
  hidden: false
  id: 656dd3269c8778992fe2b594
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/1018b29e2da89f5920a58482e17a1948.svg
      fullname: J Bochi
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: jbochi
      type: user
    createdAt: '2023-12-04T13:24:54.000Z'
    data:
      status: closed
    id: 656dd3269c8778992fe2b596
    type: status-change
  author: jbochi
  created_at: 2023-12-04 13:24:54+00:00
  id: 656dd3269c8778992fe2b596
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658288030734-624567459dc26c59bae6310f.jpeg?w=200&h=200&f=face
      fullname: dinhanhx
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dinhanhx
      type: user
    createdAt: '2023-12-04T23:54:15.000Z'
    data:
      edited: false
      editors:
      - dinhanhx
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9424468874931335
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1658288030734-624567459dc26c59bae6310f.jpeg?w=200&h=200&f=face
          fullname: dinhanhx
          isHf: false
          isPro: false
          name: dinhanhx
          type: user
        html: '<p>Ah I see thanks for clarifying </p>

          '
        raw: 'Ah I see thanks for clarifying '
        updatedAt: '2023-12-04T23:54:15.183Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - jbochi
    id: 656e66a7299c8a5b9b0b2e85
    type: comment
  author: dinhanhx
  content: 'Ah I see thanks for clarifying '
  created_at: 2023-12-04 23:54:15+00:00
  edited: false
  hidden: false
  id: 656e66a7299c8a5b9b0b2e85
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: jbochi/madlad400-8b-lm
repo_type: model
status: closed
target_branch: null
title: Vocab size of tokenizer is not equal to vocab size of the model
