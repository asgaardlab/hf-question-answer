!!python/object:huggingface_hub.community.DiscussionWithDetails
author: AlexGoodwin
conflicting_files: null
created_at: 2023-10-28 16:39:47+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
      fullname: Alex Goodwin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlexGoodwin
      type: user
    createdAt: '2023-10-28T17:39:47.000Z'
    data:
      edited: false
      editors:
      - AlexGoodwin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7843124270439148
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
          fullname: Alex Goodwin
          isHf: false
          isPro: false
          name: AlexGoodwin
          type: user
        html: '<p>Hi, ModelSpec <a rel="nofollow" href="https://github.com/Stability-AI/ModelSpec">https://github.com/Stability-AI/ModelSpec</a>
          is used to easily identify key data about singlefile models, and is missing
          from your SSD-1B.safetensors model - this means that, keywise, it will be
          assumed by parsers to be an SDXL 0.9 Preview model (as it matches the SDXL
          keys, but lacks the SDXL 1.0 ModelSpec metadata nor its own metadata).</p>

          <p>For example, here''s how SSD-1B looks next to the SDXL 1.0 models in
          StableSwarmUI''s model browser:</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64c12d35cac5f9ba52b68720/qXeurYA19CWjBVn2igv2z.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/64c12d35cac5f9ba52b68720/qXeurYA19CWjBVn2igv2z.png"></a></p>

          <p>So I''m requesting that you add ModelSpec metadata. Probably the ''modelspec.architecture''
          key should be ''segmind-stable-diffusion-1b''.</p>

          <p>I''m happy to provide more information if needed.</p>

          '
        raw: "Hi, ModelSpec https://github.com/Stability-AI/ModelSpec is used to easily\
          \ identify key data about singlefile models, and is missing from your SSD-1B.safetensors\
          \ model - this means that, keywise, it will be assumed by parsers to be\
          \ an SDXL 0.9 Preview model (as it matches the SDXL keys, but lacks the\
          \ SDXL 1.0 ModelSpec metadata nor its own metadata).\r\n\r\nFor example,\
          \ here's how SSD-1B looks next to the SDXL 1.0 models in StableSwarmUI's\
          \ model browser:\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64c12d35cac5f9ba52b68720/qXeurYA19CWjBVn2igv2z.png)\r\
          \n\r\n\r\nSo I'm requesting that you add ModelSpec metadata. Probably the\
          \ 'modelspec.architecture' key should be 'segmind-stable-diffusion-1b'.\r\
          \n\r\nI'm happy to provide more information if needed."
        updatedAt: '2023-10-28T17:39:47.394Z'
      numEdits: 0
      reactions: []
    id: 653d476389b0d6172945dcd6
    type: comment
  author: AlexGoodwin
  content: "Hi, ModelSpec https://github.com/Stability-AI/ModelSpec is used to easily\
    \ identify key data about singlefile models, and is missing from your SSD-1B.safetensors\
    \ model - this means that, keywise, it will be assumed by parsers to be an SDXL\
    \ 0.9 Preview model (as it matches the SDXL keys, but lacks the SDXL 1.0 ModelSpec\
    \ metadata nor its own metadata).\r\n\r\nFor example, here's how SSD-1B looks\
    \ next to the SDXL 1.0 models in StableSwarmUI's model browser:\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64c12d35cac5f9ba52b68720/qXeurYA19CWjBVn2igv2z.png)\r\
    \n\r\n\r\nSo I'm requesting that you add ModelSpec metadata. Probably the 'modelspec.architecture'\
    \ key should be 'segmind-stable-diffusion-1b'.\r\n\r\nI'm happy to provide more\
    \ information if needed."
  created_at: 2023-10-28 16:39:47+00:00
  edited: false
  hidden: false
  id: 653d476389b0d6172945dcd6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-10-28T18:11:28.000Z'
    data:
      edited: false
      editors:
      - Warlord-K
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8196526169776917
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
          fullname: Yatharth Gupta
          isHf: false
          isPro: false
          name: Warlord-K
          type: user
        html: '<p>Hi, The Singlefile has been generated via <a rel="nofollow" href="https://github.com/Warlord-K/diffusers/blob/main/scripts/convert_diffusers_to_original_sdxl.py">this
          script</a>. Could you provide me with the way to proceed to generate the
          ModelSpec? An example would be very helpful!</p>

          '
        raw: Hi, The Singlefile has been generated via [this script](https://github.com/Warlord-K/diffusers/blob/main/scripts/convert_diffusers_to_original_sdxl.py).
          Could you provide me with the way to proceed to generate the ModelSpec?
          An example would be very helpful!
        updatedAt: '2023-10-28T18:11:28.936Z'
      numEdits: 0
      reactions: []
    id: 653d4ed09c7bf38da298f871
    type: comment
  author: Warlord-K
  content: Hi, The Singlefile has been generated via [this script](https://github.com/Warlord-K/diffusers/blob/main/scripts/convert_diffusers_to_original_sdxl.py).
    Could you provide me with the way to proceed to generate the ModelSpec? An example
    would be very helpful!
  created_at: 2023-10-28 17:11:28+00:00
  edited: false
  hidden: false
  id: 653d4ed09c7bf38da298f871
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
      fullname: Alex Goodwin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlexGoodwin
      type: user
    createdAt: '2023-10-28T18:25:23.000Z'
    data:
      edited: false
      editors:
      - AlexGoodwin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8177416920661926
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
          fullname: Alex Goodwin
          isHf: false
          isPro: false
          name: AlexGoodwin
          type: user
        html: "<p>There's sample code to add it with the HF Safetensors code here:\
          \ <a rel=\"nofollow\" href=\"https://github.com/Stability-AI/ModelSpec/blob/master/examples/python/example_hf_safetensors.py\"\
          >https://github.com/Stability-AI/ModelSpec/blob/master/examples/python/example_hf_safetensors.py</a>\
          \ that you can call before the save_file at the end of that script. You\
          \ can ignore most of that file, as the actual part that matters is just\
          \ the <code>metadata</code> input to the <code>save_file</code> call --\
          \ you have <code>save_file(state_dict, args.checkpoint_path)</code>, just\
          \ change that to <code>save_file(state_dict, args.checkpoint_path, metadata=metadata)</code></p>\n\
          <p>Where metadata is defined something like so:</p>\n<pre><code>metadata\
          \ = {\n    # === Must ===\n    \"modelspec.sai_model_spec\": \"1.0.0\",\
          \ # Required version ID for the spec\n    \"modelspec.architecture\": \"\
          segmind-stable-diffusion-1b\", # Architecture, reference the ID of the original\
          \ model of the arch to match the ID\n    \"modelspec.implementation\": \"\
          https://github.com/segmind/SSD-1B\",\n    \"modelspec.title\": \"Segmind\
          \ Stable Diffusion 1B (SSD-1B)\", # Clean, human-readable title. May use\
          \ your own phrasing/language/etc\n    # === Should ===\n    \"modelspec.author\"\
          : \"Segmind\", # Your name or company name\n    \"modelspec.description\"\
          : \"The Segmind Stable Diffusion Model (SSD-1B) is a distilled 50% smaller\
          \ version of the Stable Diffusion XL (SDXL), offering a 60% speedup while\
          \ maintaining high-quality text-to-image generation capabilities. It has\
          \ been trained on diverse datasets, including Grit and Midjourney scrape\
          \ data, to enhance its ability to create a wide range of visual content\
          \ based on textual prompts. This model employs a knowledge distillation\
          \ strategy, where it leverages the teachings of several expert models in\
          \ succession, including SDXL, ZavyChromaXL, and JuggernautXL, to combine\
          \ their strengths and produce impressive visual outputs.\", # Describe the\
          \ model in your own words/language/etc. Focus on what users need to know\n\
          \    \"modelspec.date\": \"2023-10-24\", # ISO-8601 compliant date of when\
          \ the model was created\n    # === Can ===\n    \"modelspec.license\": \"\
          Apache 2.0\" # eg CreativeML Open RAIL, etc.\n}\n</code></pre>\n"
        raw: "There's sample code to add it with the HF Safetensors code here: https://github.com/Stability-AI/ModelSpec/blob/master/examples/python/example_hf_safetensors.py\
          \ that you can call before the save_file at the end of that script. You\
          \ can ignore most of that file, as the actual part that matters is just\
          \ the `metadata` input to the `save_file` call -- you have `save_file(state_dict,\
          \ args.checkpoint_path)`, just change that to `save_file(state_dict, args.checkpoint_path,\
          \ metadata=metadata)`\n\nWhere metadata is defined something like so:\n\
          ```\nmetadata = {\n    # === Must ===\n    \"modelspec.sai_model_spec\"\
          : \"1.0.0\", # Required version ID for the spec\n    \"modelspec.architecture\"\
          : \"segmind-stable-diffusion-1b\", # Architecture, reference the ID of the\
          \ original model of the arch to match the ID\n    \"modelspec.implementation\"\
          : \"https://github.com/segmind/SSD-1B\",\n    \"modelspec.title\": \"Segmind\
          \ Stable Diffusion 1B (SSD-1B)\", # Clean, human-readable title. May use\
          \ your own phrasing/language/etc\n    # === Should ===\n    \"modelspec.author\"\
          : \"Segmind\", # Your name or company name\n    \"modelspec.description\"\
          : \"The Segmind Stable Diffusion Model (SSD-1B) is a distilled 50% smaller\
          \ version of the Stable Diffusion XL (SDXL), offering a 60% speedup while\
          \ maintaining high-quality text-to-image generation capabilities. It has\
          \ been trained on diverse datasets, including Grit and Midjourney scrape\
          \ data, to enhance its ability to create a wide range of visual content\
          \ based on textual prompts. This model employs a knowledge distillation\
          \ strategy, where it leverages the teachings of several expert models in\
          \ succession, including SDXL, ZavyChromaXL, and JuggernautXL, to combine\
          \ their strengths and produce impressive visual outputs.\", # Describe the\
          \ model in your own words/language/etc. Focus on what users need to know\n\
          \    \"modelspec.date\": \"2023-10-24\", # ISO-8601 compliant date of when\
          \ the model was created\n    # === Can ===\n    \"modelspec.license\": \"\
          Apache 2.0\" # eg CreativeML Open RAIL, etc.\n}\n```\n"
        updatedAt: '2023-10-28T18:25:23.359Z'
      numEdits: 0
      reactions: []
    id: 653d52139107029eb0158924
    type: comment
  author: AlexGoodwin
  content: "There's sample code to add it with the HF Safetensors code here: https://github.com/Stability-AI/ModelSpec/blob/master/examples/python/example_hf_safetensors.py\
    \ that you can call before the save_file at the end of that script. You can ignore\
    \ most of that file, as the actual part that matters is just the `metadata` input\
    \ to the `save_file` call -- you have `save_file(state_dict, args.checkpoint_path)`,\
    \ just change that to `save_file(state_dict, args.checkpoint_path, metadata=metadata)`\n\
    \nWhere metadata is defined something like so:\n```\nmetadata = {\n    # === Must\
    \ ===\n    \"modelspec.sai_model_spec\": \"1.0.0\", # Required version ID for\
    \ the spec\n    \"modelspec.architecture\": \"segmind-stable-diffusion-1b\", #\
    \ Architecture, reference the ID of the original model of the arch to match the\
    \ ID\n    \"modelspec.implementation\": \"https://github.com/segmind/SSD-1B\"\
    ,\n    \"modelspec.title\": \"Segmind Stable Diffusion 1B (SSD-1B)\", # Clean,\
    \ human-readable title. May use your own phrasing/language/etc\n    # === Should\
    \ ===\n    \"modelspec.author\": \"Segmind\", # Your name or company name\n  \
    \  \"modelspec.description\": \"The Segmind Stable Diffusion Model (SSD-1B) is\
    \ a distilled 50% smaller version of the Stable Diffusion XL (SDXL), offering\
    \ a 60% speedup while maintaining high-quality text-to-image generation capabilities.\
    \ It has been trained on diverse datasets, including Grit and Midjourney scrape\
    \ data, to enhance its ability to create a wide range of visual content based\
    \ on textual prompts. This model employs a knowledge distillation strategy, where\
    \ it leverages the teachings of several expert models in succession, including\
    \ SDXL, ZavyChromaXL, and JuggernautXL, to combine their strengths and produce\
    \ impressive visual outputs.\", # Describe the model in your own words/language/etc.\
    \ Focus on what users need to know\n    \"modelspec.date\": \"2023-10-24\", #\
    \ ISO-8601 compliant date of when the model was created\n    # === Can ===\n \
    \   \"modelspec.license\": \"Apache 2.0\" # eg CreativeML Open RAIL, etc.\n}\n\
    ```\n"
  created_at: 2023-10-28 17:25:23+00:00
  edited: false
  hidden: false
  id: 653d52139107029eb0158924
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-10-28T18:30:20.000Z'
    data:
      edited: false
      editors:
      - Warlord-K
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8993892073631287
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
          fullname: Yatharth Gupta
          isHf: false
          isPro: false
          name: Warlord-K
          type: user
        html: '<p>Thanks for the information! I will add it.</p>

          '
        raw: Thanks for the information! I will add it.
        updatedAt: '2023-10-28T18:30:20.907Z'
      numEdits: 0
      reactions: []
    id: 653d533c6426f79e295b5e70
    type: comment
  author: Warlord-K
  content: Thanks for the information! I will add it.
  created_at: 2023-10-28 17:30:20+00:00
  edited: false
  hidden: false
  id: 653d533c6426f79e295b5e70
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-10-28T19:42:16.000Z'
    data:
      edited: false
      editors:
      - Warlord-K
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.725663959980011
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
          fullname: Yatharth Gupta
          isHf: false
          isPro: false
          name: Warlord-K
          type: user
        html: '<p>I have added it <a href="https://huggingface.co/segmind/SSD-1B/blob/main/SSD-1B-modelspec.safetensors">here</a>
          please let me know if any changes are required.</p>

          '
        raw: I have added it [here](https://huggingface.co/segmind/SSD-1B/blob/main/SSD-1B-modelspec.safetensors)
          please let me know if any changes are required.
        updatedAt: '2023-10-28T19:42:16.265Z'
      numEdits: 0
      reactions: []
    id: 653d64184a52f10eaf485f10
    type: comment
  author: Warlord-K
  content: I have added it [here](https://huggingface.co/segmind/SSD-1B/blob/main/SSD-1B-modelspec.safetensors)
    please let me know if any changes are required.
  created_at: 2023-10-28 18:42:16+00:00
  edited: false
  hidden: false
  id: 653d64184a52f10eaf485f10
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
      fullname: Alex Goodwin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlexGoodwin
      type: user
    createdAt: '2023-10-28T20:50:37.000Z'
    data:
      edited: false
      editors:
      - AlexGoodwin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8715099692344666
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
          fullname: Alex Goodwin
          isHf: false
          isPro: false
          name: AlexGoodwin
          type: user
        html: '<p>That''s perfect! Awesome! Only thing left would be to remove the
          non-modelspec''d copy of the model to avoid confusion when downloading.</p>

          '
        raw: That's perfect! Awesome! Only thing left would be to remove the non-modelspec'd
          copy of the model to avoid confusion when downloading.
        updatedAt: '2023-10-28T20:50:37.612Z'
      numEdits: 0
      reactions: []
    id: 653d741d7117f6b877585e90
    type: comment
  author: AlexGoodwin
  content: That's perfect! Awesome! Only thing left would be to remove the non-modelspec'd
    copy of the model to avoid confusion when downloading.
  created_at: 2023-10-28 19:50:37+00:00
  edited: false
  hidden: false
  id: 653d741d7117f6b877585e90
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-10-29T06:33:02.000Z'
    data:
      edited: false
      editors:
      - Warlord-K
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9403050541877747
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
          fullname: Yatharth Gupta
          isHf: false
          isPro: false
          name: Warlord-K
          type: user
        html: '<p>Would the ModelSpec version work with all the other frameworks such
          as Comfy and A11?</p>

          '
        raw: Would the ModelSpec version work with all the other frameworks such as
          Comfy and A11?
        updatedAt: '2023-10-29T06:33:02.304Z'
      numEdits: 0
      reactions: []
    id: 653dfc9ece2f3daaf4dfeeb7
    type: comment
  author: Warlord-K
  content: Would the ModelSpec version work with all the other frameworks such as
    Comfy and A11?
  created_at: 2023-10-29 05:33:02+00:00
  edited: false
  hidden: false
  id: 653dfc9ece2f3daaf4dfeeb7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
      fullname: Alex Goodwin
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: AlexGoodwin
      type: user
    createdAt: '2023-10-30T23:07:32.000Z'
    data:
      edited: true
      editors:
      - AlexGoodwin
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9749747514724731
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d0c2709aa77c98b4401f0ae4bda68e04.svg
          fullname: Alex Goodwin
          isHf: false
          isPro: false
          name: AlexGoodwin
          type: user
        html: '<p>Yes, ModelSpec is explicitly designed to always be compatible, even
          with tools that aren''t aware of ModelSpec (as it''s all stored in the metadata)</p>

          <p>(Also both ComfyUI and AutoWebUI are explicitly aware of ModelSpec, albeit
          not necessarily making full use of it in the way Swarm does)</p>

          '
        raw: 'Yes, ModelSpec is explicitly designed to always be compatible, even
          with tools that aren''t aware of ModelSpec (as it''s all stored in the metadata)


          (Also both ComfyUI and AutoWebUI are explicitly aware of ModelSpec, albeit
          not necessarily making full use of it in the way Swarm does)'
        updatedAt: '2023-10-30T23:08:46.192Z'
      numEdits: 1
      reactions: []
    id: 6540373472d9237eeae4d2df
    type: comment
  author: AlexGoodwin
  content: 'Yes, ModelSpec is explicitly designed to always be compatible, even with
    tools that aren''t aware of ModelSpec (as it''s all stored in the metadata)


    (Also both ComfyUI and AutoWebUI are explicitly aware of ModelSpec, albeit not
    necessarily making full use of it in the way Swarm does)'
  created_at: 2023-10-30 22:07:32+00:00
  edited: true
  hidden: false
  id: 6540373472d9237eeae4d2df
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 19
repo_id: segmind/SSD-1B
repo_type: model
status: open
target_branch: null
title: Request for ModelSpec
