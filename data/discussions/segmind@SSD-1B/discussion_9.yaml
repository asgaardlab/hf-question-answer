!!python/object:huggingface_hub.community.DiscussionWithDetails
author: CyberTimon
conflicting_files: null
created_at: 2023-10-25 15:15:26+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6391f799f112e7097aea0b8d/TYUzVrosZd6s04jQ8IG-U.jpeg?w=200&h=200&f=face
      fullname: "Timon K\xE4ch"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: CyberTimon
      type: user
    createdAt: '2023-10-25T16:15:26.000Z'
    data:
      edited: false
      editors:
      - CyberTimon
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5174973011016846
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6391f799f112e7097aea0b8d/TYUzVrosZd6s04jQ8IG-U.jpeg?w=200&h=200&f=face
          fullname: "Timon K\xE4ch"
          isHf: false
          isPro: false
          name: CyberTimon
          type: user
        html: "<p>Hello</p>\n<p>When I'm trying to load SSD-1B with the safetensors\
          \ file in python using following code, I get this error.</p>\n<p>Traceback:</p>\n\
          <pre><code>Traceback (most recent call last):\n  File \"/home/cybertimon/Repositories/AiModels/DiffusionModels/test.py\"\
          , line 4, in &lt;module&gt;\n    pipeline = StableDiffusionXLPipeline.from_single_file(\"\
          XL_SSD-1B.safetensors\")\n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/loaders.py\"\
          , line 1924, in from_single_file\n    pipe = download_from_original_stable_diffusion_ckpt(\n\
          \  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/pipelines/stable_diffusion/convert_from_ckpt.py\"\
          , line 1360, in download_from_original_stable_diffusion_ckpt\n    converted_unet_checkpoint\
          \ = convert_ldm_unet_checkpoint(\n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/pipelines/stable_diffusion/convert_from_ckpt.py\"\
          , line 505, in convert_ldm_unet_checkpoint\n    attentions = middle_blocks[1]\n\
          KeyError: 1\n</code></pre>\n<p>Code:</p>\n<pre><code>from diffusers import\
          \ StableDiffusionXLPipeline\nimport torch\n\npipeline = StableDiffusionXLPipeline.from_single_file(\"\
          XL_SSD-1B.safetensors\")\n\npipe.enable_xformers_memory_efficient_attention()\n\
          prompt = \"An astronaut riding a green horse\" # Your prompt here\nneg_prompt\
          \ = \"ugly, blurry, poor quality\" # Negative prompt here\nimage = pipe(prompt=prompt,\
          \ negative_prompt=neg_prompt).images[0]\nimage.save(\"output.png\")\n</code></pre>\n"
        raw: "Hello\r\n\r\nWhen I'm trying to load SSD-1B with the safetensors file\
          \ in python using following code, I get this error.\r\n\r\nTraceback:\r\n\
          ```\r\nTraceback (most recent call last):\r\n  File \"/home/cybertimon/Repositories/AiModels/DiffusionModels/test.py\"\
          , line 4, in <module>\r\n    pipeline = StableDiffusionXLPipeline.from_single_file(\"\
          XL_SSD-1B.safetensors\")\r\n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/loaders.py\"\
          , line 1924, in from_single_file\r\n    pipe = download_from_original_stable_diffusion_ckpt(\r\
          \n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/pipelines/stable_diffusion/convert_from_ckpt.py\"\
          , line 1360, in download_from_original_stable_diffusion_ckpt\r\n    converted_unet_checkpoint\
          \ = convert_ldm_unet_checkpoint(\r\n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/pipelines/stable_diffusion/convert_from_ckpt.py\"\
          , line 505, in convert_ldm_unet_checkpoint\r\n    attentions = middle_blocks[1]\r\
          \nKeyError: 1\r\n```\r\n\r\nCode:\r\n```\r\nfrom diffusers import StableDiffusionXLPipeline\r\
          \nimport torch\r\n\r\npipeline = StableDiffusionXLPipeline.from_single_file(\"\
          XL_SSD-1B.safetensors\")\r\n\r\npipe.enable_xformers_memory_efficient_attention()\r\
          \nprompt = \"An astronaut riding a green horse\" # Your prompt here\r\n\
          neg_prompt = \"ugly, blurry, poor quality\" # Negative prompt here\r\nimage\
          \ = pipe(prompt=prompt, negative_prompt=neg_prompt).images[0]\r\nimage.save(\"\
          output.png\")\r\n```"
        updatedAt: '2023-10-25T16:15:26.420Z'
      numEdits: 0
      reactions: []
    id: 65393f1e2ddab2beff1a050f
    type: comment
  author: CyberTimon
  content: "Hello\r\n\r\nWhen I'm trying to load SSD-1B with the safetensors file\
    \ in python using following code, I get this error.\r\n\r\nTraceback:\r\n```\r\
    \nTraceback (most recent call last):\r\n  File \"/home/cybertimon/Repositories/AiModels/DiffusionModels/test.py\"\
    , line 4, in <module>\r\n    pipeline = StableDiffusionXLPipeline.from_single_file(\"\
    XL_SSD-1B.safetensors\")\r\n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/loaders.py\"\
    , line 1924, in from_single_file\r\n    pipe = download_from_original_stable_diffusion_ckpt(\r\
    \n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/pipelines/stable_diffusion/convert_from_ckpt.py\"\
    , line 1360, in download_from_original_stable_diffusion_ckpt\r\n    converted_unet_checkpoint\
    \ = convert_ldm_unet_checkpoint(\r\n  File \"/home/cybertimon/.local/lib/python3.10/site-packages/diffusers/pipelines/stable_diffusion/convert_from_ckpt.py\"\
    , line 505, in convert_ldm_unet_checkpoint\r\n    attentions = middle_blocks[1]\r\
    \nKeyError: 1\r\n```\r\n\r\nCode:\r\n```\r\nfrom diffusers import StableDiffusionXLPipeline\r\
    \nimport torch\r\n\r\npipeline = StableDiffusionXLPipeline.from_single_file(\"\
    XL_SSD-1B.safetensors\")\r\n\r\npipe.enable_xformers_memory_efficient_attention()\r\
    \nprompt = \"An astronaut riding a green horse\" # Your prompt here\r\nneg_prompt\
    \ = \"ugly, blurry, poor quality\" # Negative prompt here\r\nimage = pipe(prompt=prompt,\
    \ negative_prompt=neg_prompt).images[0]\r\nimage.save(\"output.png\")\r\n```"
  created_at: 2023-10-25 15:15:26+00:00
  edited: false
  hidden: false
  id: 65393f1e2ddab2beff1a050f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e869979d907f388526ed6273bb3ba150.svg
      fullname: Harish Prabhala
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: harishp
      type: user
    createdAt: '2023-10-25T17:09:36.000Z'
    data:
      edited: false
      editors:
      - harishp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8660415410995483
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e869979d907f388526ed6273bb3ba150.svg
          fullname: Harish Prabhala
          isHf: false
          isPro: false
          name: harishp
          type: user
        html: '<p>Did you try the below?</p>

          <p>pip install git+<a rel="nofollow" href="https://github.com/huggingface/diffusers">https://github.com/huggingface/diffusers</a></p>

          '
        raw: 'Did you try the below?


          pip install git+https://github.com/huggingface/diffusers

          '
        updatedAt: '2023-10-25T17:09:36.298Z'
      numEdits: 0
      reactions: []
    id: 65394bd05325fd76ef00b817
    type: comment
  author: harishp
  content: 'Did you try the below?


    pip install git+https://github.com/huggingface/diffusers

    '
  created_at: 2023-10-25 16:09:36+00:00
  edited: false
  hidden: false
  id: 65394bd05325fd76ef00b817
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6391f799f112e7097aea0b8d/TYUzVrosZd6s04jQ8IG-U.jpeg?w=200&h=200&f=face
      fullname: "Timon K\xE4ch"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: CyberTimon
      type: user
    createdAt: '2023-10-25T17:33:10.000Z'
    data:
      edited: false
      editors:
      - CyberTimon
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9355309009552002
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6391f799f112e7097aea0b8d/TYUzVrosZd6s04jQ8IG-U.jpeg?w=200&h=200&f=face
          fullname: "Timon K\xE4ch"
          isHf: false
          isPro: false
          name: CyberTimon
          type: user
        html: '<p>Yes just execute this and it upgraded diffusers. I even --force-reinstall
          ed it. Same error. Does from_single_file work for you?</p>

          '
        raw: Yes just execute this and it upgraded diffusers. I even --force-reinstall
          ed it. Same error. Does from_single_file work for you?
        updatedAt: '2023-10-25T17:33:10.316Z'
      numEdits: 0
      reactions: []
    id: 653951560dfecb4b26c28b02
    type: comment
  author: CyberTimon
  content: Yes just execute this and it upgraded diffusers. I even --force-reinstall
    ed it. Same error. Does from_single_file work for you?
  created_at: 2023-10-25 16:33:10+00:00
  edited: false
  hidden: false
  id: 653951560dfecb4b26c28b02
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64a9fab8bab1855ff03279a9/r0paWL_ruSsIMbYKNTvNS.png?w=200&h=200&f=face
      fullname: Tanvir
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: TanvirOnHF
      type: user
    createdAt: '2023-10-25T19:47:57.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64a9fab8bab1855ff03279a9/r0paWL_ruSsIMbYKNTvNS.png?w=200&h=200&f=face
          fullname: Tanvir
          isHf: false
          isPro: false
          name: TanvirOnHF
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2023-10-25T19:48:27.944Z'
      numEdits: 0
      reactions: []
    id: 653970ed5c8e4863e1a3ced3
    type: comment
  author: TanvirOnHF
  content: This comment has been hidden
  created_at: 2023-10-25 18:47:57+00:00
  edited: true
  hidden: true
  id: 653970ed5c8e4863e1a3ced3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e869979d907f388526ed6273bb3ba150.svg
      fullname: Harish Prabhala
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: harishp
      type: user
    createdAt: '2023-10-26T04:58:47.000Z'
    data:
      edited: false
      editors:
      - harishp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9296278357505798
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e869979d907f388526ed6273bb3ba150.svg
          fullname: Harish Prabhala
          isHf: false
          isPro: false
          name: harishp
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Icar&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Icar\">@<span class=\"\
          underline\">Icar</span></a></span>\n\n\t</span></span> can you pls help.</p>\n"
        raw: '@Icar can you pls help.'
        updatedAt: '2023-10-26T04:58:47.571Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - CyberTimon
    id: 6539f207f2ef6c21231ceaf0
    type: comment
  author: harishp
  content: '@Icar can you pls help.'
  created_at: 2023-10-26 03:58:47+00:00
  edited: false
  hidden: false
  id: 6539f207f2ef6c21231ceaf0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/639362039694ec0d025f194d/jmQetjDK3ISH_IQb7SBGC.png?w=200&h=200&f=face
      fullname: Vishnu V Jaddipal
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Icar
      type: user
    createdAt: '2023-10-26T13:40:51.000Z'
    data:
      edited: false
      editors:
      - Icar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9865140914916992
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/639362039694ec0d025f194d/jmQetjDK3ISH_IQb7SBGC.png?w=200&h=200&f=face
          fullname: Vishnu V Jaddipal
          isHf: false
          isPro: false
          name: Icar
          type: user
        html: '<p>Seems like you''re trying to load in attentions from the middle
          block into your model. SSD does not have attentions in its middle block.  </p>

          '
        raw: 'Seems like you''re trying to load in attentions from the middle block
          into your model. SSD does not have attentions in its middle block.  '
        updatedAt: '2023-10-26T13:40:51.824Z'
      numEdits: 0
      reactions: []
    id: 653a6c63dfce99b57b348cbe
    type: comment
  author: Icar
  content: 'Seems like you''re trying to load in attentions from the middle block
    into your model. SSD does not have attentions in its middle block.  '
  created_at: 2023-10-26 12:40:51+00:00
  edited: false
  hidden: false
  id: 653a6c63dfce99b57b348cbe
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6391f799f112e7097aea0b8d/TYUzVrosZd6s04jQ8IG-U.jpeg?w=200&h=200&f=face
      fullname: "Timon K\xE4ch"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: CyberTimon
      type: user
    createdAt: '2023-10-26T15:13:09.000Z'
    data:
      edited: false
      editors:
      - CyberTimon
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9765654802322388
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6391f799f112e7097aea0b8d/TYUzVrosZd6s04jQ8IG-U.jpeg?w=200&h=200&f=face
          fullname: "Timon K\xE4ch"
          isHf: false
          isPro: false
          name: CyberTimon
          type: user
        html: '<p>I don''t really know. I''m just want to use the model using the
          sample code in the readme. Just modified 1 line to accept the .safetensors
          as shown above. What should I do now? Can''t I use the model as .safetensors?</p>

          '
        raw: I don't really know. I'm just want to use the model using the sample
          code in the readme. Just modified 1 line to accept the .safetensors as shown
          above. What should I do now? Can't I use the model as .safetensors?
        updatedAt: '2023-10-26T15:13:09.208Z'
      numEdits: 0
      reactions: []
    id: 653a8205eacd31a26d675abc
    type: comment
  author: CyberTimon
  content: I don't really know. I'm just want to use the model using the sample code
    in the readme. Just modified 1 line to accept the .safetensors as shown above.
    What should I do now? Can't I use the model as .safetensors?
  created_at: 2023-10-26 14:13:09+00:00
  edited: false
  hidden: false
  id: 653a8205eacd31a26d675abc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-10-26T16:54:59.000Z'
    data:
      edited: false
      editors:
      - Warlord-K
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7071918249130249
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
          fullname: Yatharth Gupta
          isHf: false
          isPro: false
          name: Warlord-K
          type: user
        html: '<p>Just use the from_pretrained() function, from_single_file is not
          supported yet</p>

          '
        raw: Just use the from_pretrained() function, from_single_file is not supported
          yet
        updatedAt: '2023-10-26T16:54:59.109Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - CyberTimon
    id: 653a99e354ae916932333210
    type: comment
  author: Warlord-K
  content: Just use the from_pretrained() function, from_single_file is not supported
    yet
  created_at: 2023-10-26 15:54:59+00:00
  edited: false
  hidden: false
  id: 653a99e354ae916932333210
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-11-06T04:20:54.000Z'
    data:
      edited: false
      editors:
      - Warlord-K
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8398886919021606
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
          fullname: Yatharth Gupta
          isHf: false
          isPro: false
          name: Warlord-K
          type: user
        html: '<p>Closing this discussion, feel free to reopen if the error still
          persists.</p>

          '
        raw: Closing this discussion, feel free to reopen if the error still persists.
        updatedAt: '2023-11-06T04:20:54.077Z'
      numEdits: 0
      reactions: []
      relatedEventId: 654869a6407bb19ff5b7c581
    id: 654869a6407bb19ff5b7c580
    type: comment
  author: Warlord-K
  content: Closing this discussion, feel free to reopen if the error still persists.
  created_at: 2023-11-06 04:20:54+00:00
  edited: false
  hidden: false
  id: 654869a6407bb19ff5b7c580
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/62f8ca074588fe31f4361dae/F2k343TPD7KVfW3P26IRs.jpeg?w=200&h=200&f=face
      fullname: Yatharth Gupta
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Warlord-K
      type: user
    createdAt: '2023-11-06T04:20:54.000Z'
    data:
      status: closed
    id: 654869a6407bb19ff5b7c581
    type: status-change
  author: Warlord-K
  created_at: 2023-11-06 04:20:54+00:00
  id: 654869a6407bb19ff5b7c581
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 9
repo_id: segmind/SSD-1B
repo_type: model
status: closed
target_branch: null
title: Error when using .safetensors file
