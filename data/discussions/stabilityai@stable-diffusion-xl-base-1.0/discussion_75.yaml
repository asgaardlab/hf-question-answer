!!python/object:huggingface_hub.community.DiscussionWithDetails
author: shaybc
conflicting_files: null
created_at: 2023-08-23 16:48:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/5l_zcsisBimF2oRVAeVkU.jpeg?w=200&h=200&f=face
      fullname: shay bc
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shaybc
      type: user
    createdAt: '2023-08-23T17:48:57.000Z'
    data:
      edited: false
      editors:
      - shaybc
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.508728563785553
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/5l_zcsisBimF2oRVAeVkU.jpeg?w=200&h=200&f=face
          fullname: shay bc
          isHf: false
          isPro: false
          name: shaybc
          type: user
        html: "<p>when i use the width &amp; height parameters with values other then\
          \ 1024 the generated image doesn't make sense,<br>i also tried the target_size\
          \ parameter and that didn't help,</p>\n<p>i use it while calling the pipeline\
          \ :</p>\n<pre><code># create a pipeline\ngenerator_pipe: StableDiffusionXLPipeline\
          \  = DiffusionPipeline.from_pretrained(\n    \"stabilityai/stable-diffusion-xl-base-1.0\"\
          ,\n    torch_dtype=torch.float16,\n    use_safetensors=True,\n    variant=\"\
          fp16\",\n)\n\n# move the pipeline to the GPU\ngenerator_pipe.to(\"cuda\"\
          )\n\n# generate the image\ngenerated_image = generator_pipe(\n        prompt=\"\
          Rick sanchez floating in space, 8k\",\n        negative_prompt=\"low res,\
          \ blurry, extra fingers, extra limbs, duplicate\",\n        height=256,\n\
          \        width=256,\n        num_images_per_prompt=1,\n        guidance_scale=7,\n\
          \        num_inference_steps=25\n    ).images[0]\n</code></pre>\n<p>here\
          \ are some examples of what i got while generating 128x128, 256x256, or\
          \ 512x512 images:</p>\n<p>128x128:</p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9XDCFzMPFyGredtAD-Ej7.png\"\
          ><img alt=\"20230822_005654_sanchez_space_0.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9XDCFzMPFyGredtAD-Ej7.png\"\
          ></a></p>\n<p>256x256:</p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9U2mJulidwOmmvhpWWna3.png\"\
          ><img alt=\"20230822_010853_sanchez_space_0.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9U2mJulidwOmmvhpWWna3.png\"\
          ></a></p>\n<p>512x512:</p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/_G2-L0839pvY61RJ-Hk7d.png\"\
          ><img alt=\"20230822_012621_sanchez_space_0.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/_G2-L0839pvY61RJ-Hk7d.png\"\
          ></a></p>\n<p>Any ideas ?</p>\n"
        raw: "when i use the width & height parameters with values other then 1024\
          \ the generated image doesn't make sense,\r\ni also tried the target_size\
          \ parameter and that didn't help,\r\n\r\ni use it while calling the pipeline\
          \ :\r\n\r\n```\r\n# create a pipeline\r\ngenerator_pipe: StableDiffusionXLPipeline\
          \  = DiffusionPipeline.from_pretrained(\r\n    \"stabilityai/stable-diffusion-xl-base-1.0\"\
          ,\r\n    torch_dtype=torch.float16,\r\n    use_safetensors=True,\r\n   \
          \ variant=\"fp16\",\r\n)\r\n\r\n# move the pipeline to the GPU\r\ngenerator_pipe.to(\"\
          cuda\")\r\n\r\n# generate the image\r\ngenerated_image = generator_pipe(\r\
          \n        prompt=\"Rick sanchez floating in space, 8k\",\r\n        negative_prompt=\"\
          low res, blurry, extra fingers, extra limbs, duplicate\",\r\n        height=256,\r\
          \n        width=256,\r\n        num_images_per_prompt=1,\r\n        guidance_scale=7,\r\
          \n        num_inference_steps=25\r\n    ).images[0]\r\n```\r\n\r\nhere are\
          \ some examples of what i got while generating 128x128, 256x256, or 512x512\
          \ images:\r\n\r\n128x128:\r\n\r\n![20230822_005654_sanchez_space_0.png](https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9XDCFzMPFyGredtAD-Ej7.png)\r\
          \n\r\n\r\n256x256:\r\n\r\n![20230822_010853_sanchez_space_0.png](https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9U2mJulidwOmmvhpWWna3.png)\r\
          \n\r\n\r\n512x512:\r\n\r\n![20230822_012621_sanchez_space_0.png](https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/_G2-L0839pvY61RJ-Hk7d.png)\r\
          \n\r\n\r\nAny ideas ?"
        updatedAt: '2023-08-23T17:48:57.124Z'
      numEdits: 0
      reactions: []
    id: 64e646899ff426725da5a32c
    type: comment
  author: shaybc
  content: "when i use the width & height parameters with values other then 1024 the\
    \ generated image doesn't make sense,\r\ni also tried the target_size parameter\
    \ and that didn't help,\r\n\r\ni use it while calling the pipeline :\r\n\r\n```\r\
    \n# create a pipeline\r\ngenerator_pipe: StableDiffusionXLPipeline  = DiffusionPipeline.from_pretrained(\r\
    \n    \"stabilityai/stable-diffusion-xl-base-1.0\",\r\n    torch_dtype=torch.float16,\r\
    \n    use_safetensors=True,\r\n    variant=\"fp16\",\r\n)\r\n\r\n# move the pipeline\
    \ to the GPU\r\ngenerator_pipe.to(\"cuda\")\r\n\r\n# generate the image\r\ngenerated_image\
    \ = generator_pipe(\r\n        prompt=\"Rick sanchez floating in space, 8k\",\r\
    \n        negative_prompt=\"low res, blurry, extra fingers, extra limbs, duplicate\"\
    ,\r\n        height=256,\r\n        width=256,\r\n        num_images_per_prompt=1,\r\
    \n        guidance_scale=7,\r\n        num_inference_steps=25\r\n    ).images[0]\r\
    \n```\r\n\r\nhere are some examples of what i got while generating 128x128, 256x256,\
    \ or 512x512 images:\r\n\r\n128x128:\r\n\r\n![20230822_005654_sanchez_space_0.png](https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9XDCFzMPFyGredtAD-Ej7.png)\r\
    \n\r\n\r\n256x256:\r\n\r\n![20230822_010853_sanchez_space_0.png](https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/9U2mJulidwOmmvhpWWna3.png)\r\
    \n\r\n\r\n512x512:\r\n\r\n![20230822_012621_sanchez_space_0.png](https://cdn-uploads.huggingface.co/production/uploads/646c029e628e5b50b2e12ef0/_G2-L0839pvY61RJ-Hk7d.png)\r\
    \n\r\n\r\nAny ideas ?"
  created_at: 2023-08-23 16:48:57+00:00
  edited: false
  hidden: false
  id: 64e646899ff426725da5a32c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4c7f9d749e2de405ef8eef20a35d216b.svg
      fullname: cheng
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: babyta
      type: user
    createdAt: '2023-08-26T09:58:31.000Z'
    data:
      edited: false
      editors:
      - babyta
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.863833487033844
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4c7f9d749e2de405ef8eef20a35d216b.svg
          fullname: cheng
          isHf: false
          isPro: false
          name: babyta
          type: user
        html: '<p>I encountered the same problem, if the width and height are not
          1024, the result is worse</p>

          '
        raw: I encountered the same problem, if the width and height are not 1024,
          the result is worse
        updatedAt: '2023-08-26T09:58:31.948Z'
      numEdits: 0
      reactions: []
    id: 64e9ccc74f3f7b0b84994c9e
    type: comment
  author: babyta
  content: I encountered the same problem, if the width and height are not 1024, the
    result is worse
  created_at: 2023-08-26 08:58:31+00:00
  edited: false
  hidden: false
  id: 64e9ccc74f3f7b0b84994c9e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/5l_zcsisBimF2oRVAeVkU.jpeg?w=200&h=200&f=face
      fullname: shay bc
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: shaybc
      type: user
    createdAt: '2023-08-29T16:46:25.000Z'
    data:
      edited: false
      editors:
      - shaybc
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8532971143722534
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/5l_zcsisBimF2oRVAeVkU.jpeg?w=200&h=200&f=face
          fullname: shay bc
          isHf: false
          isPro: false
          name: shaybc
          type: user
        html: '<p>The only solution i found is to generate 1024x1024 and using scale
          up or down to get the correct image resolution</p>

          '
        raw: The only solution i found is to generate 1024x1024 and using scale up
          or down to get the correct image resolution
        updatedAt: '2023-08-29T16:46:25.491Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - abdelilah6
    id: 64ee20e1adf6fb17c956a24f
    type: comment
  author: shaybc
  content: The only solution i found is to generate 1024x1024 and using scale up or
    down to get the correct image resolution
  created_at: 2023-08-29 15:46:25+00:00
  edited: false
  hidden: false
  id: 64ee20e1adf6fb17c956a24f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/202312f4d082a2ecdba0720acf8bf5c2.svg
      fullname: ' ahaded'
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: abdelilah6
      type: user
    createdAt: '2023-12-27T21:09:02.000Z'
    data:
      edited: false
      editors:
      - abdelilah6
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8633596897125244
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/202312f4d082a2ecdba0720acf8bf5c2.svg
          fullname: ' ahaded'
          isHf: false
          isPro: false
          name: abdelilah6
          type: user
        html: '<blockquote>

          <p>The only solution i found is to generate 1024x1024 and using scale up
          or down to get the correct image resolution</p>

          </blockquote>

          <p>and me</p>

          '
        raw: '> The only solution i found is to generate 1024x1024 and using scale
          up or down to get the correct image resolution


          and me

          '
        updatedAt: '2023-12-27T21:09:02.364Z'
      numEdits: 0
      reactions: []
    id: 658c926ebc95ccc56252ab6f
    type: comment
  author: abdelilah6
  content: '> The only solution i found is to generate 1024x1024 and using scale up
    or down to get the correct image resolution


    and me

    '
  created_at: 2023-12-27 21:09:02+00:00
  edited: false
  hidden: false
  id: 658c926ebc95ccc56252ab6f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 75
repo_id: stabilityai/stable-diffusion-xl-base-1.0
repo_type: model
status: open
target_branch: null
title: width & height parameters, prevent proper generation
