!!python/object:huggingface_hub.community.DiscussionWithDetails
author: pradeepmohans
conflicting_files: null
created_at: 2023-02-01 21:30:44+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
      fullname: Pradeep Mohan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: pradeepmohans
      type: user
    createdAt: '2023-02-01T21:30:44.000Z'
    data:
      edited: false
      editors:
      - pradeepmohans
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
          fullname: Pradeep Mohan
          isHf: false
          isPro: true
          name: pradeepmohans
          type: user
        html: '<p>I am running this code:</p>

          <p>from transformers import AutoTokenizer, KRISSBERT</p>

          <p>tokenizer = AutoTokenizer.from_pretrained("microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL")</p>

          <p>model = KRISSBERT.from_pretrained("microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL")</p>

          <p>But, I am getting this error:</p>

          <p>ImportError: cannot import name ''KRISSBERT'' from ''transformers'' (/usr/local/lib/python3.8/dist-packages/transformers/<strong>init</strong>.py)</p>

          '
        raw: "I am running this code:\r\n\r\nfrom transformers import AutoTokenizer,\
          \ KRISSBERT\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(\"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
          )\r\n\r\nmodel = KRISSBERT.from_pretrained(\"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
          )\r\n\r\nBut, I am getting this error:\r\n\r\nImportError: cannot import\
          \ name 'KRISSBERT' from 'transformers' (/usr/local/lib/python3.8/dist-packages/transformers/__init__.py)\r\
          \n"
        updatedAt: '2023-02-01T21:30:44.628Z'
      numEdits: 0
      reactions: []
    id: 63dada049f2687298a0f9048
    type: comment
  author: pradeepmohans
  content: "I am running this code:\r\n\r\nfrom transformers import AutoTokenizer,\
    \ KRISSBERT\r\n\r\ntokenizer = AutoTokenizer.from_pretrained(\"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
    )\r\n\r\nmodel = KRISSBERT.from_pretrained(\"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
    )\r\n\r\nBut, I am getting this error:\r\n\r\nImportError: cannot import name\
    \ 'KRISSBERT' from 'transformers' (/usr/local/lib/python3.8/dist-packages/transformers/__init__.py)\r\
    \n"
  created_at: 2023-02-01 21:30:44+00:00
  edited: false
  hidden: false
  id: 63dada049f2687298a0f9048
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648966381588-6064e095abd8d3692e3e2ed6.jpeg?w=200&h=200&f=face
      fullname: "Radam\xE9s Ajna"
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: radames
      type: user
    createdAt: '2023-02-01T21:56:53.000Z'
    data:
      edited: false
      editors:
      - radames
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648966381588-6064e095abd8d3692e3e2ed6.jpeg?w=200&h=200&f=face
          fullname: "Radam\xE9s Ajna"
          isHf: true
          isPro: false
          name: radames
          type: user
        html: "<p>hi <span data-props=\"{&quot;user&quot;:&quot;pradeepmohans&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/pradeepmohans\"\
          >@<span class=\"underline\">pradeepmohans</span></a></span>\n\n\t</span></span>\
          \ , I think the model repo comes with an example folder.<br><a href=\"https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/tree/main/usage\"\
          >https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/tree/main/usage</a></p>\n"
        raw: 'hi @pradeepmohans , I think the model repo comes with an example folder.

          https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/tree/main/usage'
        updatedAt: '2023-02-01T21:56:53.449Z'
      numEdits: 0
      reactions: []
    id: 63dae025ca02a16f041f0b08
    type: comment
  author: radames
  content: 'hi @pradeepmohans , I think the model repo comes with an example folder.

    https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/tree/main/usage'
  created_at: 2023-02-01 21:56:53+00:00
  edited: false
  hidden: false
  id: 63dae025ca02a16f041f0b08
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
      fullname: Pradeep Mohan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: pradeepmohans
      type: user
    createdAt: '2023-02-01T22:02:35.000Z'
    data:
      edited: false
      editors:
      - pradeepmohans
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
          fullname: Pradeep Mohan
          isHf: false
          isPro: true
          name: pradeepmohans
          type: user
        html: '<p>The examples folder does doesn''t show how to import KRISSBERT and
          use the embeddings as in here :<br>model = KRISSBERT.from_pretrained("microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL")</p>

          <p>Some more information is needed.</p>

          '
        raw: "The examples folder does doesn't show how to import KRISSBERT and use\
          \ the embeddings as in here : \nmodel = KRISSBERT.from_pretrained(\"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
          )\n\nSome more information is needed."
        updatedAt: '2023-02-01T22:02:35.240Z'
      numEdits: 0
      reactions: []
    id: 63dae17b26ae589b765b1e24
    type: comment
  author: pradeepmohans
  content: "The examples folder does doesn't show how to import KRISSBERT and use\
    \ the embeddings as in here : \nmodel = KRISSBERT.from_pretrained(\"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
    )\n\nSome more information is needed."
  created_at: 2023-02-01 22:02:35+00:00
  edited: false
  hidden: false
  id: 63dae17b26ae589b765b1e24
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
      fullname: Pradeep Mohan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: pradeepmohans
      type: user
    createdAt: '2023-02-01T22:10:56.000Z'
    data:
      edited: false
      editors:
      - pradeepmohans
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
          fullname: Pradeep Mohan
          isHf: false
          isPro: true
          name: pradeepmohans
          type: user
        html: '<p>I am particularly looking to call model.encode() to encode my sentence
          and get the embeddings.</p>

          '
        raw: I am particularly looking to call model.encode() to encode my sentence
          and get the embeddings.
        updatedAt: '2023-02-01T22:10:56.677Z'
      numEdits: 0
      reactions: []
    id: 63dae370ca02a16f04210702
    type: comment
  author: pradeepmohans
  content: I am particularly looking to call model.encode() to encode my sentence
    and get the embeddings.
  created_at: 2023-02-01 22:10:56+00:00
  edited: false
  hidden: false
  id: 63dae370ca02a16f04210702
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3ca569596f9c7134e8d4b560a06ee1e7.svg
      fullname: Sheng Zhang
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: shengz
      type: user
    createdAt: '2023-02-01T23:01:05.000Z'
    data:
      edited: false
      editors:
      - shengz
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3ca569596f9c7134e8d4b560a06ee1e7.svg
          fullname: Sheng Zhang
          isHf: false
          isPro: false
          name: shengz
          type: user
        html: '<p>Have you checked out this code snippet? <a href="https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/blob/main/usage/run_entity_linking.py#L368">https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/blob/main/usage/run_entity_linking.py#L368</a></p>

          '
        raw: Have you checked out this code snippet? https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/blob/main/usage/run_entity_linking.py#L368
        updatedAt: '2023-02-01T23:01:05.758Z'
      numEdits: 0
      reactions: []
    id: 63daef3154fa80c534995a02
    type: comment
  author: shengz
  content: Have you checked out this code snippet? https://huggingface.co/microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL/blob/main/usage/run_entity_linking.py#L368
  created_at: 2023-02-01 23:01:05+00:00
  edited: false
  hidden: false
  id: 63daef3154fa80c534995a02
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
      fullname: Pradeep Mohan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: pradeepmohans
      type: user
    createdAt: '2023-02-01T23:43:06.000Z'
    data:
      edited: false
      editors:
      - pradeepmohans
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
          fullname: Pradeep Mohan
          isHf: false
          isPro: true
          name: pradeepmohans
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;shengz&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/shengz\">@<span class=\"\
          underline\">shengz</span></a></span>\n\n\t</span></span>  Let me try this\
          \ can you confirm whether the model and path name is correct:     </p>\n\
          <p>tokenizer = AutoTokenizer.from_pretrained(<br>        \"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
          ,<br>        use_fast=True,<br>    )<br>    encoder = AutoModel.from_pretrained(<br>\
          \        \"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"<br>    )</p>\n\
          <p>and i will be importing this :</p>\n<p>from transformers import (<br>\
          \    set_seed,<br>    AutoConfig,<br>    AutoTokenizer,<br>    AutoModel,<br>\
          \    PreTrainedTokenizer,<br>)</p>\n<p>correct ?</p>\n"
        raw: "@shengz  Let me try this can you confirm whether the model and path\
          \ name is correct:     \n\ntokenizer = AutoTokenizer.from_pretrained(\n\
          \        \"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\",\n        use_fast=True,\n\
          \    )\n    encoder = AutoModel.from_pretrained(\n        \"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
          \n    )\n\nand i will be importing this :\n\nfrom transformers import (\n\
          \    set_seed,\n    AutoConfig,\n    AutoTokenizer,\n    AutoModel,\n  \
          \  PreTrainedTokenizer,\n)\n\ncorrect ?"
        updatedAt: '2023-02-01T23:43:06.105Z'
      numEdits: 0
      reactions: []
    id: 63daf90a54fa80c5349f8f31
    type: comment
  author: pradeepmohans
  content: "@shengz  Let me try this can you confirm whether the model and path name\
    \ is correct:     \n\ntokenizer = AutoTokenizer.from_pretrained(\n        \"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\
    ,\n        use_fast=True,\n    )\n    encoder = AutoModel.from_pretrained(\n \
    \       \"microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL\"\n    )\n\nand i will\
    \ be importing this :\n\nfrom transformers import (\n    set_seed,\n    AutoConfig,\n\
    \    AutoTokenizer,\n    AutoModel,\n    PreTrainedTokenizer,\n)\n\ncorrect ?"
  created_at: 2023-02-01 23:43:06+00:00
  edited: false
  hidden: false
  id: 63daf90a54fa80c5349f8f31
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
      fullname: Pradeep Mohan
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: pradeepmohans
      type: user
    createdAt: '2023-02-02T04:54:22.000Z'
    data:
      edited: false
      editors:
      - pradeepmohans
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4f374c6d747cfc3a1d6eda8b9247fb64.svg
          fullname: Pradeep Mohan
          isHf: false
          isPro: true
          name: pradeepmohans
          type: user
        html: '<p>I was able to launch the model. However, when I try to run:</p>

          <p>v2_embeddings = encoder.generate(v2_input_ids,max_length=127)</p>

          <p>I get the following error:<br>AttributeError                            Traceback
          (most recent call last)<br> in <br>----&gt; 1 v2_embeddings = encoder.generate(v2_input_ids,max_length=127)</p>

          <p>2 frames<br>/usr/local/lib/python3.8/dist-packages/transformers/generation_utils.py
          in greedy_search(self, input_ids, logits_processor, stopping_criteria, max_length,
          pad_token_id, eos_token_id, output_attentions, output_hidden_states, output_scores,
          return_dict_in_generate, synced_gpus, **model_kwargs)<br>   1539                 continue  #
          don''t waste resources running the code we don''t need<br>   1540<br>-&gt;
          1541             next_token_logits = outputs.logits[:, -1, :]<br>   1542<br>   1543             #
          Store scores, attentions and hidden_states when required</p>

          <p>AttributeError: ''BaseModelOutputWithPoolingAndCrossAttentions'' object
          has no attribute ''logits''</p>

          '
        raw: "I was able to launch the model. However, when I try to run:\n\nv2_embeddings\
          \ = encoder.generate(v2_input_ids,max_length=127)\n\nI get the following\
          \ error:\nAttributeError                            Traceback (most recent\
          \ call last)\n<ipython-input-23-88b3f7dcda8e> in <module>\n----> 1 v2_embeddings\
          \ = encoder.generate(v2_input_ids,max_length=127)\n\n2 frames\n/usr/local/lib/python3.8/dist-packages/transformers/generation_utils.py\
          \ in greedy_search(self, input_ids, logits_processor, stopping_criteria,\
          \ max_length, pad_token_id, eos_token_id, output_attentions, output_hidden_states,\
          \ output_scores, return_dict_in_generate, synced_gpus, **model_kwargs)\n\
          \   1539                 continue  # don't waste resources running the code\
          \ we don't need\n   1540 \n-> 1541             next_token_logits = outputs.logits[:,\
          \ -1, :]\n   1542 \n   1543             # Store scores, attentions and hidden_states\
          \ when required\n\nAttributeError: 'BaseModelOutputWithPoolingAndCrossAttentions'\
          \ object has no attribute 'logits'"
        updatedAt: '2023-02-02T04:54:22.160Z'
      numEdits: 0
      reactions: []
    id: 63db41fea175b8d7f2bb9a11
    type: comment
  author: pradeepmohans
  content: "I was able to launch the model. However, when I try to run:\n\nv2_embeddings\
    \ = encoder.generate(v2_input_ids,max_length=127)\n\nI get the following error:\n\
    AttributeError                            Traceback (most recent call last)\n\
    <ipython-input-23-88b3f7dcda8e> in <module>\n----> 1 v2_embeddings = encoder.generate(v2_input_ids,max_length=127)\n\
    \n2 frames\n/usr/local/lib/python3.8/dist-packages/transformers/generation_utils.py\
    \ in greedy_search(self, input_ids, logits_processor, stopping_criteria, max_length,\
    \ pad_token_id, eos_token_id, output_attentions, output_hidden_states, output_scores,\
    \ return_dict_in_generate, synced_gpus, **model_kwargs)\n   1539             \
    \    continue  # don't waste resources running the code we don't need\n   1540\
    \ \n-> 1541             next_token_logits = outputs.logits[:, -1, :]\n   1542\
    \ \n   1543             # Store scores, attentions and hidden_states when required\n\
    \nAttributeError: 'BaseModelOutputWithPoolingAndCrossAttentions' object has no\
    \ attribute 'logits'"
  created_at: 2023-02-02 04:54:22+00:00
  edited: false
  hidden: false
  id: 63db41fea175b8d7f2bb9a11
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: microsoft/BiomedNLP-KRISSBERT-PubMed-UMLS-EL
repo_type: model
status: open
target_branch: null
title: getting error while importing KRISSBERT
