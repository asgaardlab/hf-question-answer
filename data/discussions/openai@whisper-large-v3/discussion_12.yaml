!!python/object:huggingface_hub.community.DiscussionWithDetails
author: souvik0306
conflicting_files: null
created_at: 2023-11-10 11:56:07+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
      fullname: Souvik Datta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: souvik0306
      type: user
    createdAt: '2023-11-10T11:56:07.000Z'
    data:
      edited: false
      editors:
      - souvik0306
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4148917496204376
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
          fullname: Souvik Datta
          isHf: false
          isPro: false
          name: souvik0306
          type: user
        html: '<p>result = pipe(sample, return_timestamps="word")<br>print(result["chunks"])</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/FSqSc1iegfWv4U7OPq11W.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/FSqSc1iegfWv4U7OPq11W.png"></a></p>

          '
        raw: "result = pipe(sample, return_timestamps=\"word\")\r\nprint(result[\"\
          chunks\"])\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/FSqSc1iegfWv4U7OPq11W.png)\r\
          \n"
        updatedAt: '2023-11-10T11:56:07.448Z'
      numEdits: 0
      reactions: []
    id: 654e1a5781b4be3df252bdfb
    type: comment
  author: souvik0306
  content: "result = pipe(sample, return_timestamps=\"word\")\r\nprint(result[\"chunks\"\
    ])\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/FSqSc1iegfWv4U7OPq11W.png)\r\
    \n"
  created_at: 2023-11-10 11:56:07+00:00
  edited: false
  hidden: false
  id: 654e1a5781b4be3df252bdfb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b3b68e054d0bf156cbf27028c1e80a1d.svg
      fullname: Ritu Gahir
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ritu
      type: user
    createdAt: '2023-11-10T13:11:00.000Z'
    data:
      edited: false
      editors:
      - ritu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9251050353050232
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b3b68e054d0bf156cbf27028c1e80a1d.svg
          fullname: Ritu Gahir
          isHf: false
          isPro: false
          name: ritu
          type: user
        html: '<p>This helped in my case by changing stride[0] to stride[0][0] : <a
          rel="nofollow" href="https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466">https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466</a><br>However,
          i could not run this on device = ''mps'' , but works fine on device = ''cpu''</p>

          '
        raw: 'This helped in my case by changing stride[0] to stride[0][0] : https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466

          However, i could not run this on device = ''mps'' , but works fine on device
          = ''cpu'''
        updatedAt: '2023-11-10T13:11:00.110Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - adilJ
    id: 654e2be421b741c555e22155
    type: comment
  author: ritu
  content: 'This helped in my case by changing stride[0] to stride[0][0] : https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466

    However, i could not run this on device = ''mps'' , but works fine on device =
    ''cpu'''
  created_at: 2023-11-10 13:11:00+00:00
  edited: false
  hidden: false
  id: 654e2be421b741c555e22155
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
      fullname: Souvik Datta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: souvik0306
      type: user
    createdAt: '2023-11-10T14:43:39.000Z'
    data:
      edited: false
      editors:
      - souvik0306
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9681259989738464
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
          fullname: Souvik Datta
          isHf: false
          isPro: false
          name: souvik0306
          type: user
        html: '<p>Where did you make the change for stride? Did it work on GPU?</p>

          '
        raw: Where did you make the change for stride? Did it work on GPU?
        updatedAt: '2023-11-10T14:43:39.194Z'
      numEdits: 0
      reactions: []
    id: 654e419b54d044f09ed7144e
    type: comment
  author: souvik0306
  content: Where did you make the change for stride? Did it work on GPU?
  created_at: 2023-11-10 14:43:39+00:00
  edited: false
  hidden: false
  id: 654e419b54d044f09ed7144e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/e4ca1ce24e024f0503ea20c3ca3cbaea.svg
      fullname: Dheshan Mohandass
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dheshan
      type: user
    createdAt: '2023-11-10T14:50:13.000Z'
    data:
      edited: false
      editors:
      - dheshan
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.938605785369873
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/e4ca1ce24e024f0503ea20c3ca3cbaea.svg
          fullname: Dheshan Mohandass
          isHf: false
          isPro: false
          name: dheshan
          type: user
        html: '<blockquote>

          <p>This helped in my case by changing stride[0] to stride[0][0] : <a rel="nofollow"
          href="https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466">https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466</a><br>However,
          i could not run this on device = ''mps'' , but works fine on device = ''cpu''</p>

          </blockquote>

          <p>I just checked it for GPU with device = ''cuda:0'', this works, but you
          will need to disable ''Flash Attention'' if you are using that. Otherwise
          works as intended.</p>

          '
        raw: '> This helped in my case by changing stride[0] to stride[0][0] : https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466

          > However, i could not run this on device = ''mps'' , but works fine on
          device = ''cpu''


          I just checked it for GPU with device = ''cuda:0'', this works, but you
          will need to disable ''Flash Attention'' if you are using that. Otherwise
          works as intended.'
        updatedAt: '2023-11-10T14:50:13.929Z'
      numEdits: 0
      reactions: []
    id: 654e4325e28302548b5a8c3a
    type: comment
  author: dheshan
  content: '> This helped in my case by changing stride[0] to stride[0][0] : https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466

    > However, i could not run this on device = ''mps'' , but works fine on device
    = ''cpu''


    I just checked it for GPU with device = ''cuda:0'', this works, but you will need
    to disable ''Flash Attention'' if you are using that. Otherwise works as intended.'
  created_at: 2023-11-10 14:50:13+00:00
  edited: false
  hidden: false
  id: 654e4325e28302548b5a8c3a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
      fullname: Souvik Datta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: souvik0306
      type: user
    createdAt: '2023-11-10T14:51:20.000Z'
    data:
      edited: false
      editors:
      - souvik0306
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9402845501899719
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
          fullname: Souvik Datta
          isHf: false
          isPro: false
          name: souvik0306
          type: user
        html: '<blockquote>

          <blockquote>

          <p>This helped in my case by changing stride[0] to stride[0][0] : <a rel="nofollow"
          href="https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466">https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466</a><br>However,
          i could not run this on device = ''mps'' , but works fine on device = ''cpu''</p>

          </blockquote>

          <p>I just checked it for GPU with device = ''cuda:0'', this works, but you
          will need to disable ''Flash Attention'' if you are using that. Otherwise
          works as intended.</p>

          </blockquote>

          <p>Actually I got the error with GPU, the pipeline code remains the same
          as model card</p>

          '
        raw: "> > This helped in my case by changing stride[0] to stride[0][0] : https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466\n\
          > > However, i could not run this on device = 'mps' , but works fine on\
          \ device = 'cpu'\n> \n> I just checked it for GPU with device = 'cuda:0',\
          \ this works, but you will need to disable 'Flash Attention' if you are\
          \ using that. Otherwise works as intended.\n\nActually I got the error with\
          \ GPU, the pipeline code remains the same as model card"
        updatedAt: '2023-11-10T14:51:20.971Z'
      numEdits: 0
      reactions: []
    id: 654e4368067126f0325e4878
    type: comment
  author: souvik0306
  content: "> > This helped in my case by changing stride[0] to stride[0][0] : https://github.com/huggingface/transformers/issues/26253#issuecomment-1804255466\n\
    > > However, i could not run this on device = 'mps' , but works fine on device\
    \ = 'cpu'\n> \n> I just checked it for GPU with device = 'cuda:0', this works,\
    \ but you will need to disable 'Flash Attention' if you are using that. Otherwise\
    \ works as intended.\n\nActually I got the error with GPU, the pipeline code remains\
    \ the same as model card"
  created_at: 2023-11-10 14:51:20+00:00
  edited: false
  hidden: false
  id: 654e4368067126f0325e4878
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
      fullname: Souvik Datta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: souvik0306
      type: user
    createdAt: '2023-11-11T03:28:34.000Z'
    data:
      edited: false
      editors:
      - souvik0306
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8354858160018921
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
          fullname: Souvik Datta
          isHf: false
          isPro: false
          name: souvik0306
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;sanchit-gandhi&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/sanchit-gandhi\"\
          >@<span class=\"underline\">sanchit-gandhi</span></a></span>\n\n\t</span></span>\
          \ Can you check this out once?</p>\n"
        raw: '@sanchit-gandhi Can you check this out once?'
        updatedAt: '2023-11-11T03:28:34.939Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - YannisTevissen
        - Oscaarjs
    id: 654ef4e229c6708615e08467
    type: comment
  author: souvik0306
  content: '@sanchit-gandhi Can you check this out once?'
  created_at: 2023-11-11 03:28:34+00:00
  edited: false
  hidden: false
  id: 654ef4e229c6708615e08467
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c26e3cdad82be6d6459cfd4c6ea7dfd9.svg
      fullname: Adil Jouahri
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: adilJ
      type: user
    createdAt: '2023-11-11T17:12:20.000Z'
    data:
      edited: false
      editors:
      - adilJ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7233547568321228
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c26e3cdad82be6d6459cfd4c6ea7dfd9.svg
          fullname: Adil Jouahri
          isHf: false
          isPro: false
          name: adilJ
          type: user
        html: '<p>Setting the batch size to 1 works for me.<br>pipe = pipeline(<br>    batch_size=1,<br>)<br>result
          = pipe(sample, return_timestamps="word")</p>

          '
        raw: "Setting the batch size to 1 works for me.\npipe = pipeline(\n    batch_size=1,\n\
          )\nresult = pipe(sample, return_timestamps=\"word\")"
        updatedAt: '2023-11-11T17:12:20.282Z'
      numEdits: 0
      reactions: []
    id: 654fb5f4c0e106160e544cc1
    type: comment
  author: adilJ
  content: "Setting the batch size to 1 works for me.\npipe = pipeline(\n    batch_size=1,\n\
    )\nresult = pipe(sample, return_timestamps=\"word\")"
  created_at: 2023-11-11 17:12:20+00:00
  edited: false
  hidden: false
  id: 654fb5f4c0e106160e544cc1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
      fullname: Souvik Datta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: souvik0306
      type: user
    createdAt: '2023-11-13T06:30:34.000Z'
    data:
      edited: false
      editors:
      - souvik0306
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7404561042785645
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/63ba46aa0a9866b28cb19a14/5LilSOacmZeRRIIfimi7s.png?w=200&h=200&f=face
          fullname: Souvik Datta
          isHf: false
          isPro: false
          name: souvik0306
          type: user
        html: '<blockquote>

          <p>Setting the batch size to 1 works for me.<br>pipe = pipeline(<br>    batch_size=1,<br>)<br>result
          = pipe(sample, return_timestamps="word")</p>

          </blockquote>

          <p>So it only works when batch_size set to 1?</p>

          '
        raw: '> Setting the batch size to 1 works for me.

          > pipe = pipeline(

          >     batch_size=1,

          > )

          > result = pipe(sample, return_timestamps="word")


          So it only works when batch_size set to 1?'
        updatedAt: '2023-11-13T06:30:34.689Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - YannisTevissen
        - liutian-sunshine
    id: 6551c28a0c8ecb1daed760a0
    type: comment
  author: souvik0306
  content: '> Setting the batch size to 1 works for me.

    > pipe = pipeline(

    >     batch_size=1,

    > )

    > result = pipe(sample, return_timestamps="word")


    So it only works when batch_size set to 1?'
  created_at: 2023-11-13 06:30:34+00:00
  edited: false
  hidden: false
  id: 6551c28a0c8ecb1daed760a0
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 12
repo_id: openai/whisper-large-v3
repo_type: model
status: open
target_branch: null
title: Error with word level timestamps
