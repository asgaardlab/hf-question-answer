!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Boxp
conflicting_files: null
created_at: 2023-11-14 09:13:53+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
      fullname: Boxp
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Boxp
      type: user
    createdAt: '2023-11-14T09:13:53.000Z'
    data:
      edited: false
      editors:
      - Boxp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5824580192565918
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
          fullname: Boxp
          isHf: false
          isPro: false
          name: Boxp
          type: user
        html: '<p>When I used openai whisper:<br>    import whisper<br>    transcription
          = model.transcribe(data_path, language=''cantonese'')[''text'']<br>It worked.</p>

          <p>But when I used transformers:<br>    predicted_ids = model.generate(input_features,
          language=''cantonese'')<br>It resulted in an error.</p>

          '
        raw: "When I used openai whisper:\r\n    import whisper\r\n    transcription\
          \ = model.transcribe(data_path, language='cantonese')['text']\r\nIt worked.\r\
          \n\r\nBut when I used transformers:\r\n    predicted_ids = model.generate(input_features,\
          \ language='cantonese')\r\nIt resulted in an error."
        updatedAt: '2023-11-14T09:13:53.246Z'
      numEdits: 0
      reactions: []
    id: 65533a511d1a7cefd8f566cb
    type: comment
  author: Boxp
  content: "When I used openai whisper:\r\n    import whisper\r\n    transcription\
    \ = model.transcribe(data_path, language='cantonese')['text']\r\nIt worked.\r\n\
    \r\nBut when I used transformers:\r\n    predicted_ids = model.generate(input_features,\
    \ language='cantonese')\r\nIt resulted in an error."
  created_at: 2023-11-14 09:13:53+00:00
  edited: false
  hidden: false
  id: 65533a511d1a7cefd8f566cb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/20c292d6d29a8e36f0dcf7785afe2ad5.svg
      fullname: ma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chenchi
      type: user
    createdAt: '2023-11-15T08:53:06.000Z'
    data:
      edited: false
      editors:
      - chenchi
      hidden: false
      identifiedLanguage:
        language: ceb
        probability: 0.4374237358570099
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/20c292d6d29a8e36f0dcf7785afe2ad5.svg
          fullname: ma
          isHf: false
          isPro: false
          name: chenchi
          type: user
        html: '<p>=''yue''</p>

          '
        raw: ='yue'
        updatedAt: '2023-11-15T08:53:06.315Z'
      numEdits: 0
      reactions: []
    id: 655486f23d8030de354c54e7
    type: comment
  author: chenchi
  content: ='yue'
  created_at: 2023-11-15 08:53:06+00:00
  edited: false
  hidden: false
  id: 655486f23d8030de354c54e7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
      fullname: Boxp
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Boxp
      type: user
    createdAt: '2023-11-15T09:06:35.000Z'
    data:
      edited: false
      editors:
      - Boxp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6630373597145081
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
          fullname: Boxp
          isHf: false
          isPro: false
          name: Boxp
          type: user
        html: '<blockquote>

          <p>=''yue''</p>

          </blockquote>

          <p>Didn''t work.<br>predicted_ids = model.generate(input_features, language=''yue'')<br>"ValueError:
          Unsupported language: yue"<br>transformers==4.35.0</p>

          '
        raw: "> ='yue'\n\nDidn't work. \npredicted_ids = model.generate(input_features,\
          \ language='yue')\n\"ValueError: Unsupported language: yue\"\ntransformers==4.35.0"
        updatedAt: '2023-11-15T09:06:35.350Z'
      numEdits: 0
      reactions: []
    id: 65548a1b3d8030de354cf44a
    type: comment
  author: Boxp
  content: "> ='yue'\n\nDidn't work. \npredicted_ids = model.generate(input_features,\
    \ language='yue')\n\"ValueError: Unsupported language: yue\"\ntransformers==4.35.0"
  created_at: 2023-11-15 09:06:35+00:00
  edited: false
  hidden: false
  id: 65548a1b3d8030de354cf44a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: false
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2023-11-16T00:33:21.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8699840307235718
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;Boxp&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/Boxp\">@<span class=\"\
          underline\">Boxp</span></a></span>\n\n\t</span></span>,</p>\n<p>I think\
          \ you need to upgrade your transformers version to current main:</p>\n<pre><code>pip\
          \ install git+https://github.com/huggingface/transformers\n</code></pre>\n\
          <p>Then you should be able to run the following:</p>\n<pre><code class=\"\
          language-py\">...\npredicted_ids = model.generate(input_features, language=<span\
          \ class=\"hljs-string\">'cantonese'</span>)\n</code></pre>\n<p>Could you\
          \ give it a try?</p>\n"
        raw: 'Hey @Boxp,


          I think you need to upgrade your transformers version to current main:


          ```

          pip install git+https://github.com/huggingface/transformers

          ```


          Then you should be able to run the following:

          ```py

          ...

          predicted_ids = model.generate(input_features, language=''cantonese'')

          ```


          Could you give it a try?'
        updatedAt: '2023-11-16T00:33:21.809Z'
      numEdits: 0
      reactions: []
    id: 6555635165204c6fd15e0f20
    type: comment
  author: patrickvonplaten
  content: 'Hey @Boxp,


    I think you need to upgrade your transformers version to current main:


    ```

    pip install git+https://github.com/huggingface/transformers

    ```


    Then you should be able to run the following:

    ```py

    ...

    predicted_ids = model.generate(input_features, language=''cantonese'')

    ```


    Could you give it a try?'
  created_at: 2023-11-16 00:33:21+00:00
  edited: false
  hidden: false
  id: 6555635165204c6fd15e0f20
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/20c292d6d29a8e36f0dcf7785afe2ad5.svg
      fullname: ma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chenchi
      type: user
    createdAt: '2023-11-16T03:12:35.000Z'
    data:
      edited: false
      editors:
      - chenchi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6040656566619873
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/20c292d6d29a8e36f0dcf7785afe2ad5.svg
          fullname: ma
          isHf: false
          isPro: false
          name: chenchi
          type: user
        html: '<p><a rel="nofollow" href="https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110">https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110</a><br>you
          can find <code>yue</code> in this source code file.<br>Or you should update
          your whisper repo to the latest version.</p>

          '
        raw: 'https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110

          you can find `yue` in this source code file.

          Or you should update your whisper repo to the latest version.'
        updatedAt: '2023-11-16T03:12:35.648Z'
      numEdits: 0
      reactions: []
    id: 655588a320dfec9e26c0448f
    type: comment
  author: chenchi
  content: 'https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110

    you can find `yue` in this source code file.

    Or you should update your whisper repo to the latest version.'
  created_at: 2023-11-16 03:12:35+00:00
  edited: false
  hidden: false
  id: 655588a320dfec9e26c0448f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
      fullname: Boxp
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Boxp
      type: user
    createdAt: '2023-11-16T03:48:35.000Z'
    data:
      edited: false
      editors:
      - Boxp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7663435339927673
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
          fullname: Boxp
          isHf: false
          isPro: false
          name: Boxp
          type: user
        html: '<blockquote>

          <p><a rel="nofollow" href="https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110">https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110</a><br>you
          can find <code>yue</code> in this source code file.<br>Or you should update
          your whisper repo to the latest version.</p>

          </blockquote>

          <p>yes, openai whisper is fine, but the error occurred when using the transformers
          whisper, I solved it by upgrading transformers.</p>

          '
        raw: '> https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110

          > you can find `yue` in this source code file.

          > Or you should update your whisper repo to the latest version.


          yes, openai whisper is fine, but the error occurred when using the transformers
          whisper, I solved it by upgrading transformers.'
        updatedAt: '2023-11-16T03:48:35.423Z'
      numEdits: 0
      reactions: []
    id: 655591138094dce8236e5adc
    type: comment
  author: Boxp
  content: '> https://github.com/openai/whisper/blob/1cea4357687b676b293cb5473e1ade25f5b1cef7/whisper/tokenizer.py#L110

    > you can find `yue` in this source code file.

    > Or you should update your whisper repo to the latest version.


    yes, openai whisper is fine, but the error occurred when using the transformers
    whisper, I solved it by upgrading transformers.'
  created_at: 2023-11-16 03:48:35+00:00
  edited: false
  hidden: false
  id: 655591138094dce8236e5adc
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
      fullname: Boxp
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Boxp
      type: user
    createdAt: '2023-11-16T03:50:55.000Z'
    data:
      edited: true
      editors:
      - Boxp
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.830345094203949
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2df18b2b124bb2e7a61c91974f349ee6.svg
          fullname: Boxp
          isHf: false
          isPro: false
          name: Boxp
          type: user
        html: "<blockquote>\n<p>Hey <span data-props=\"{&quot;user&quot;:&quot;Boxp&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Boxp\"\
          >@<span class=\"underline\">Boxp</span></a></span>\n\n\t</span></span>,</p>\n\
          <p>I think you need to upgrade your transformers version to current main:</p>\n\
          <pre><code>pip install git+https://github.com/huggingface/transformers\n\
          </code></pre>\n<p>Then you should be able to run the following:</p>\n<pre><code\
          \ class=\"language-py\">...\npredicted_ids = model.generate(input_features,\
          \ language=<span class=\"hljs-string\">'cantonese'</span>)\n</code></pre>\n\
          <p>Could you give it a try?</p>\n</blockquote>\n<p>Thanks! It works now,\
          \ transformers == 4.36.0.dev0</p>\n"
        raw: "> Hey @Boxp,\n> \n> I think you need to upgrade your transformers version\
          \ to current main:\n> \n> ```\n> pip install git+https://github.com/huggingface/transformers\n\
          > ```\n> \n> Then you should be able to run the following:\n> ```py\n> ...\n\
          > predicted_ids = model.generate(input_features, language='cantonese')\n\
          > ```\n> \n> Could you give it a try?\n\nThanks! It works now, transformers\
          \ == 4.36.0.dev0"
        updatedAt: '2023-11-16T03:51:14.009Z'
      numEdits: 1
      reactions: []
    id: 6555919f5a9ec4267f9a86d5
    type: comment
  author: Boxp
  content: "> Hey @Boxp,\n> \n> I think you need to upgrade your transformers version\
    \ to current main:\n> \n> ```\n> pip install git+https://github.com/huggingface/transformers\n\
    > ```\n> \n> Then you should be able to run the following:\n> ```py\n> ...\n>\
    \ predicted_ids = model.generate(input_features, language='cantonese')\n> ```\n\
    > \n> Could you give it a try?\n\nThanks! It works now, transformers == 4.36.0.dev0"
  created_at: 2023-11-16 03:50:55+00:00
  edited: true
  hidden: false
  id: 6555919f5a9ec4267f9a86d5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 21
repo_id: openai/whisper-large-v3
repo_type: model
status: open
target_branch: null
title: language='cantonese' error
