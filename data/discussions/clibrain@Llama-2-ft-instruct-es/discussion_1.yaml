!!python/object:huggingface_hub.community.DiscussionWithDetails
author: eduiqe
conflicting_files: null
created_at: 2023-07-24 19:11:17+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c2e700e8d9fb811b74a502f78abba81d.svg
      fullname: Eduardo Quintanilla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: eduiqe
      type: user
    createdAt: '2023-07-24T20:11:17.000Z'
    data:
      edited: false
      editors:
      - eduiqe
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8280986547470093
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c2e700e8d9fb811b74a502f78abba81d.svg
          fullname: Eduardo Quintanilla
          isHf: false
          isPro: false
          name: eduiqe
          type: user
        html: '<p>I tried to use your code snippet with transformers library version==4.31.0,
          but all the model generates is this character "\x0f". </p>

          <p>I was wondering if I should be using another version of transformers.</p>

          <p>Is there any fix to this problem?</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/63a50bc12254559408004933/pVyh2JRZR9xKNKf6PdrMq.png"><img
          alt="inference_llama_2.PNG" src="https://cdn-uploads.huggingface.co/production/uploads/63a50bc12254559408004933/pVyh2JRZR9xKNKf6PdrMq.png"></a></p>

          '
        raw: "I tried to use your code snippet with transformers library version==4.31.0,\
          \ but all the model generates is this character \"\\x0f\". \r\n\r\nI was\
          \ wondering if I should be using another version of transformers.\r\n\r\n\
          Is there any fix to this problem?\r\n\r\n![inference_llama_2.PNG](https://cdn-uploads.huggingface.co/production/uploads/63a50bc12254559408004933/pVyh2JRZR9xKNKf6PdrMq.png)"
        updatedAt: '2023-07-24T20:11:17.656Z'
      numEdits: 0
      reactions: []
    id: 64bedae5c733e8552f02d7ac
    type: comment
  author: eduiqe
  content: "I tried to use your code snippet with transformers library version==4.31.0,\
    \ but all the model generates is this character \"\\x0f\". \r\n\r\nI was wondering\
    \ if I should be using another version of transformers.\r\n\r\nIs there any fix\
    \ to this problem?\r\n\r\n![inference_llama_2.PNG](https://cdn-uploads.huggingface.co/production/uploads/63a50bc12254559408004933/pVyh2JRZR9xKNKf6PdrMq.png)"
  created_at: 2023-07-24 19:11:17+00:00
  edited: false
  hidden: false
  id: 64bedae5c733e8552f02d7ac
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
      fullname: Manuel Romero
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: mrm8488
      type: user
    createdAt: '2023-07-26T12:05:16.000Z'
    data:
      edited: false
      editors:
      - mrm8488
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9258692860603333
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
          fullname: Manuel Romero
          isHf: false
          isPro: true
          name: mrm8488
          type: user
        html: "<p>Hi, <span data-props=\"{&quot;user&quot;:&quot;eduiqe&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/eduiqe\">@<span class=\"\
          underline\">eduiqe</span></a></span>\n\n\t</span></span>. Have  you tried\
          \ to upgrade <code>bitsandbytes</code> to the highest version?</p>\n"
        raw: Hi, @eduiqe. Have  you tried to upgrade `bitsandbytes` to the highest
          version?
        updatedAt: '2023-07-26T12:05:16.050Z'
      numEdits: 0
      reactions: []
    id: 64c10bfc32dd2d752e7b5f61
    type: comment
  author: mrm8488
  content: Hi, @eduiqe. Have  you tried to upgrade `bitsandbytes` to the highest version?
  created_at: 2023-07-26 11:05:16+00:00
  edited: false
  hidden: false
  id: 64c10bfc32dd2d752e7b5f61
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c2e700e8d9fb811b74a502f78abba81d.svg
      fullname: Eduardo Quintanilla
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: eduiqe
      type: user
    createdAt: '2023-07-28T00:11:50.000Z'
    data:
      edited: true
      editors:
      - eduiqe
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8944817185401917
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c2e700e8d9fb811b74a502f78abba81d.svg
          fullname: Eduardo Quintanilla
          isHf: false
          isPro: false
          name: eduiqe
          type: user
        html: "<p>Hi, thanks for the response.<br>I\xB4m using this versions of libraries:<br>torch\
          \ == 1.11.0 and 2.0.0<br>transformers == 4.31.0<br>bitsandbytes == 0.41.0\
          \ (latest)<br>and I am running this code with cpu instead of cuda, which\
          \ shouldn\xB4t affect the result (?)</p>\n<p>Is there anything else I can\
          \ try to make the completion work?<br>Thanks again!</p>\n"
        raw: "Hi, thanks for the response.\nI\xB4m using this versions of libraries:\n\
          torch == 1.11.0 and 2.0.0\ntransformers == 4.31.0\nbitsandbytes == 0.41.0\
          \ (latest)\nand I am running this code with cpu instead of cuda, which shouldn\xB4\
          t affect the result (?)\n\nIs there anything else I can try to make the\
          \ completion work?\nThanks again!"
        updatedAt: '2023-07-28T00:16:02.274Z'
      numEdits: 2
      reactions: []
    id: 64c307c61ddb3892734a52fd
    type: comment
  author: eduiqe
  content: "Hi, thanks for the response.\nI\xB4m using this versions of libraries:\n\
    torch == 1.11.0 and 2.0.0\ntransformers == 4.31.0\nbitsandbytes == 0.41.0 (latest)\n\
    and I am running this code with cpu instead of cuda, which shouldn\xB4t affect\
    \ the result (?)\n\nIs there anything else I can try to make the completion work?\n\
    Thanks again!"
  created_at: 2023-07-27 23:11:50+00:00
  edited: true
  hidden: false
  id: 64c307c61ddb3892734a52fd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ece6fc18b7f713d76aa6d6672f036aee.svg
      fullname: Enric Rovira
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: enric1296
      type: user
    createdAt: '2023-08-01T19:32:41.000Z'
    data:
      edited: false
      editors:
      - enric1296
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3273250460624695
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ece6fc18b7f713d76aa6d6672f036aee.svg
          fullname: Enric Rovira
          isHf: false
          isPro: false
          name: enric1296
          type: user
        html: '<p>same error here</p>

          '
        raw: same error here
        updatedAt: '2023-08-01T19:32:41.807Z'
      numEdits: 0
      reactions: []
    id: 64c95dd9f723215b6de11743
    type: comment
  author: enric1296
  content: same error here
  created_at: 2023-08-01 18:32:41+00:00
  edited: false
  hidden: false
  id: 64c95dd9f723215b6de11743
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ca72e1167c8d5bc5581f06acc0f84a2a.svg
      fullname: Pau Fernandez Pujol
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: PauFp20
      type: user
    createdAt: '2023-08-06T09:34:12.000Z'
    data:
      edited: false
      editors:
      - PauFp20
      hidden: false
      identifiedLanguage:
        language: es
        probability: 0.1530763953924179
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ca72e1167c8d5bc5581f06acc0f84a2a.svg
          fullname: Pau Fernandez Pujol
          isHf: false
          isPro: false
          name: PauFp20
          type: user
        html: '<p>Same</p>

          '
        raw: Same
        updatedAt: '2023-08-06T09:34:12.136Z'
      numEdits: 0
      reactions: []
    id: 64cf6914a785f2043b7986fa
    type: comment
  author: PauFp20
  content: Same
  created_at: 2023-08-06 08:34:12+00:00
  edited: false
  hidden: false
  id: 64cf6914a785f2043b7986fa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
      fullname: Manuel Romero
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: mrm8488
      type: user
    createdAt: '2023-08-06T10:12:06.000Z'
    data:
      edited: false
      editors:
      - mrm8488
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9148744344711304
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
          fullname: Manuel Romero
          isHf: false
          isPro: true
          name: mrm8488
          type: user
        html: '<p>Thanks for your feedback. Working on fixing it</p>

          '
        raw: Thanks for your feedback. Working on fixing it
        updatedAt: '2023-08-06T10:12:06.956Z'
      numEdits: 0
      reactions: []
    id: 64cf71f631c655ff8a58aff8
    type: comment
  author: mrm8488
  content: Thanks for your feedback. Working on fixing it
  created_at: 2023-08-06 09:12:06+00:00
  edited: false
  hidden: false
  id: 64cf71f631c655ff8a58aff8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64ccaa0d71a7bbb60c4cb2fb/tBGSUAFyU8-hMlY_EuTxt.png?w=200&h=200&f=face
      fullname: "Naam\xE1n Huerga"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Napuh
      type: user
    createdAt: '2023-08-07T10:19:14.000Z'
    data:
      edited: false
      editors:
      - Napuh
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5496313571929932
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/64ccaa0d71a7bbb60c4cb2fb/tBGSUAFyU8-hMlY_EuTxt.png?w=200&h=200&f=face
          fullname: "Naam\xE1n Huerga"
          isHf: false
          isPro: false
          name: Napuh
          type: user
        html: '<p>Same error here. Using load_in_8bit and with <code>auto</code> device
          map:<br><code>model = AutoModelForCausalLM.from_pretrained(model_id, trust_remote_code=True,
          load_in_8bit = True, device_map=''auto'')</code> </p>

          <p>Response to all inputs is:<br><code>ed 10c30c30c30c300c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30-slash.</code></p>

          '
        raw: "Same error here. Using load_in_8bit and with `auto` device map:\n```model\
          \ = AutoModelForCausalLM.from_pretrained(model_id, trust_remote_code=True,\
          \ load_in_8bit = True, device_map='auto')``` \n\nResponse to all inputs\
          \ is:\n```ed 10c30c30c30c300c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30-slash.```"
        updatedAt: '2023-08-07T10:19:14.534Z'
      numEdits: 0
      reactions: []
    id: 64d0c5227a7305c589517b75
    type: comment
  author: Napuh
  content: "Same error here. Using load_in_8bit and with `auto` device map:\n```model\
    \ = AutoModelForCausalLM.from_pretrained(model_id, trust_remote_code=True, load_in_8bit\
    \ = True, device_map='auto')``` \n\nResponse to all inputs is:\n```ed 10c30c30c30c300c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30c30-slash.```"
  created_at: 2023-08-07 09:19:14+00:00
  edited: false
  hidden: false
  id: 64d0c5227a7305c589517b75
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
      fullname: Manuel Romero
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: mrm8488
      type: user
    createdAt: '2023-08-09T13:59:51.000Z'
    data:
      edited: false
      editors:
      - mrm8488
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.49312731623649597
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
          fullname: Manuel Romero
          isHf: false
          isPro: true
          name: mrm8488
          type: user
        html: '<p>Hi, guys!<br>Problem solved here: <a href="https://huggingface.co/clibrain/Llama-2-7b-ft-instruct-es">https://huggingface.co/clibrain/Llama-2-7b-ft-instruct-es</a></p>

          '
        raw: 'Hi, guys!

          Problem solved here: https://huggingface.co/clibrain/Llama-2-7b-ft-instruct-es'
        updatedAt: '2023-08-09T13:59:51.012Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - ivenzor
      relatedEventId: 64d39bd76345a50badee1ef9
    id: 64d39bd76345a50badee1ef7
    type: comment
  author: mrm8488
  content: 'Hi, guys!

    Problem solved here: https://huggingface.co/clibrain/Llama-2-7b-ft-instruct-es'
  created_at: 2023-08-09 12:59:51+00:00
  edited: false
  hidden: false
  id: 64d39bd76345a50badee1ef7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/5e4318d616b09a31220980d6/24rMJ_vPh3gW9ZEmj64xr.png?w=200&h=200&f=face
      fullname: Manuel Romero
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: true
      name: mrm8488
      type: user
    createdAt: '2023-08-09T13:59:51.000Z'
    data:
      status: closed
    id: 64d39bd76345a50badee1ef9
    type: status-change
  author: mrm8488
  created_at: 2023-08-09 12:59:51+00:00
  id: 64d39bd76345a50badee1ef9
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: clibrain/Llama-2-ft-instruct-es
repo_type: model
status: closed
target_branch: null
title: Inference Error
