!!python/object:huggingface_hub.community.DiscussionWithDetails
author: silvacarl
conflicting_files: null
created_at: 2023-12-05 20:06:05+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
      fullname: Carl Silva
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: silvacarl
      type: user
    createdAt: '2023-12-05T20:06:05.000Z'
    data:
      edited: false
      editors:
      - silvacarl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8973851203918457
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
          fullname: Carl Silva
          isHf: false
          isPro: true
          name: silvacarl
          type: user
        html: '<p>This model is awesome.  But for some reason we are getting extremely
          variable response time for inference, anywhere between 0.40 seconds and
          15 sewconds on an A40.</p>

          <p>Could this be cauae by the prompt format or otehr inference parameters?</p>

          '
        raw: "This model is awesome.  But for some reason we are getting extremely\
          \ variable response time for inference, anywhere between 0.40 seconds and\
          \ 15 sewconds on an A40.\r\n\r\nCould this be cauae by the prompt format\
          \ or otehr inference parameters?"
        updatedAt: '2023-12-05T20:06:05.152Z'
      numEdits: 0
      reactions: []
    id: 656f82ad1b048a9b25d1be94
    type: comment
  author: silvacarl
  content: "This model is awesome.  But for some reason we are getting extremely variable\
    \ response time for inference, anywhere between 0.40 seconds and 15 sewconds on\
    \ an A40.\r\n\r\nCould this be cauae by the prompt format or otehr inference parameters?"
  created_at: 2023-12-05 20:06:05+00:00
  edited: false
  hidden: false
  id: 656f82ad1b048a9b25d1be94
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/128ceae78490110ae41202851e84d58e.svg
      fullname: Banghua Zhu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: banghua
      type: user
    createdAt: '2023-12-05T21:31:44.000Z'
    data:
      edited: false
      editors:
      - banghua
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9189569354057312
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/128ceae78490110ae41202851e84d58e.svg
          fullname: Banghua Zhu
          isHf: false
          isPro: false
          name: banghua
          type: user
        html: '<p>That''s interesting.. Actually I never experienced this before.
          What kind of inference package are you using? TGI, vLLM or other stuff?</p>

          '
        raw: That's interesting.. Actually I never experienced this before. What kind
          of inference package are you using? TGI, vLLM or other stuff?
        updatedAt: '2023-12-05T21:31:44.301Z'
      numEdits: 0
      reactions: []
    id: 656f96c0b4ebaeb855c89bc2
    type: comment
  author: banghua
  content: That's interesting.. Actually I never experienced this before. What kind
    of inference package are you using? TGI, vLLM or other stuff?
  created_at: 2023-12-05 21:31:44+00:00
  edited: false
  hidden: false
  id: 656f96c0b4ebaeb855c89bc2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
      fullname: Carl Silva
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: silvacarl
      type: user
    createdAt: '2023-12-05T21:35:35.000Z'
    data:
      edited: false
      editors:
      - silvacarl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.967298686504364
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
          fullname: Carl Silva
          isHf: false
          isPro: true
          name: silvacarl
          type: user
        html: '<p>just something we have had to test other models for quite a while.  we
          are checking to see if somehow it is doing something weird.  just thought
          it would be good to post here to check.</p>

          <p>BUT: I CANTELL YOU SO FAR ITS INSANELY AWESOME.  8-)</p>

          <p>Like crazy accurate.</p>

          '
        raw: 'just something we have had to test other models for quite a while.  we
          are checking to see if somehow it is doing something weird.  just thought
          it would be good to post here to check.


          BUT: I CANTELL YOU SO FAR ITS INSANELY AWESOME.  8-)


          Like crazy accurate.'
        updatedAt: '2023-12-05T21:35:35.422Z'
      numEdits: 0
      reactions: []
    id: 656f97a7e542334e13611744
    type: comment
  author: silvacarl
  content: 'just something we have had to test other models for quite a while.  we
    are checking to see if somehow it is doing something weird.  just thought it would
    be good to post here to check.


    BUT: I CANTELL YOU SO FAR ITS INSANELY AWESOME.  8-)


    Like crazy accurate.'
  created_at: 2023-12-05 21:35:35+00:00
  edited: false
  hidden: false
  id: 656f97a7e542334e13611744
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/128ceae78490110ae41202851e84d58e.svg
      fullname: Banghua Zhu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: banghua
      type: user
    createdAt: '2023-12-05T23:16:36.000Z'
    data:
      edited: false
      editors:
      - banghua
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9629146456718445
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/128ceae78490110ae41202851e84d58e.svg
          fullname: Banghua Zhu
          isHf: false
          isPro: false
          name: banghua
          type: user
        html: '<p>Haha thank you! I''m glad you like it! It''s also likely due to
          mistral structure itself? Not sure if mistral base / instruct will have
          the same issue.</p>

          '
        raw: Haha thank you! I'm glad you like it! It's also likely due to mistral
          structure itself? Not sure if mistral base / instruct will have the same
          issue.
        updatedAt: '2023-12-05T23:16:36.296Z'
      numEdits: 0
      reactions: []
    id: 656faf54e2c3369baa46e710
    type: comment
  author: banghua
  content: Haha thank you! I'm glad you like it! It's also likely due to mistral structure
    itself? Not sure if mistral base / instruct will have the same issue.
  created_at: 2023-12-05 23:16:36+00:00
  edited: false
  hidden: false
  id: 656faf54e2c3369baa46e710
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
      fullname: Carl Silva
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: silvacarl
      type: user
    createdAt: '2023-12-05T23:18:13.000Z'
    data:
      edited: false
      editors:
      - silvacarl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.995360255241394
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
          fullname: Carl Silva
          isHf: false
          isPro: true
          name: silvacarl
          type: user
        html: '<p>yes, it could be that as well.  we will check that, running additional
          tests now.</p>

          '
        raw: yes, it could be that as well.  we will check that, running additional
          tests now.
        updatedAt: '2023-12-05T23:18:13.177Z'
      numEdits: 0
      reactions: []
    id: 656fafb524baa8755047bf61
    type: comment
  author: silvacarl
  content: yes, it could be that as well.  we will check that, running additional
    tests now.
  created_at: 2023-12-05 23:18:13+00:00
  edited: false
  hidden: false
  id: 656fafb524baa8755047bf61
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
      fullname: Carl Silva
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: silvacarl
      type: user
    createdAt: '2023-12-08T23:58:15.000Z'
    data:
      edited: true
      editors:
      - silvacarl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.962440013885498
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
          fullname: Carl Silva
          isHf: false
          isPro: true
          name: silvacarl
          type: user
        html: '<p>its kind of interesting.  it flies then for some reason it will
          sit on one inference for about 15 seconds.  then it flies again.</p>

          <p>just in case, what is the prompt format?  Can you post an example?</p>

          '
        raw: 'its kind of interesting.  it flies then for some reason it will sit
          on one inference for about 15 seconds.  then it flies again.


          just in case, what is the prompt format?  Can you post an example?'
        updatedAt: '2023-12-09T00:36:40.979Z'
      numEdits: 1
      reactions: []
    id: 6573ad9730b73319790d889e
    type: comment
  author: silvacarl
  content: 'its kind of interesting.  it flies then for some reason it will sit on
    one inference for about 15 seconds.  then it flies again.


    just in case, what is the prompt format?  Can you post an example?'
  created_at: 2023-12-08 23:58:15+00:00
  edited: true
  hidden: false
  id: 6573ad9730b73319790d889e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/128ceae78490110ae41202851e84d58e.svg
      fullname: Banghua Zhu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: banghua
      type: user
    createdAt: '2023-12-09T01:30:30.000Z'
    data:
      edited: false
      editors:
      - banghua
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9120874404907227
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/128ceae78490110ae41202851e84d58e.svg
          fullname: Banghua Zhu
          isHf: false
          isPro: false
          name: banghua
          type: user
        html: '<p>The prompt format is listed in the model card. FYI is</p>

          <p>GPT4 Correct User: Hello&lt;|end_of_turn|&gt;GPT4 Correct Assistant:
          Hi&lt;|end_of_turn|&gt;GPT4 Correct User: How are you today?&lt;|end_of_turn|&gt;GPT4
          Correct Assistant:</p>

          <p>But I don''t think prompt format will change inference speed. Is it only
          happening for starling but not other mistral-based model? That is very mysteriours..</p>

          '
        raw: 'The prompt format is listed in the model card. FYI is


          GPT4 Correct User: Hello<|end_of_turn|>GPT4 Correct Assistant: Hi<|end_of_turn|>GPT4
          Correct User: How are you today?<|end_of_turn|>GPT4 Correct Assistant:


          But I don''t think prompt format will change inference speed. Is it only
          happening for starling but not other mistral-based model? That is very mysteriours..'
        updatedAt: '2023-12-09T01:30:30.464Z'
      numEdits: 0
      reactions: []
    id: 6573c336015c459f1b6849df
    type: comment
  author: banghua
  content: 'The prompt format is listed in the model card. FYI is


    GPT4 Correct User: Hello<|end_of_turn|>GPT4 Correct Assistant: Hi<|end_of_turn|>GPT4
    Correct User: How are you today?<|end_of_turn|>GPT4 Correct Assistant:


    But I don''t think prompt format will change inference speed. Is it only happening
    for starling but not other mistral-based model? That is very mysteriours..'
  created_at: 2023-12-09 01:30:30+00:00
  edited: false
  hidden: false
  id: 6573c336015c459f1b6849df
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
      fullname: Carl Silva
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: silvacarl
      type: user
    createdAt: '2023-12-09T01:31:32.000Z'
    data:
      edited: false
      editors:
      - silvacarl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9772920608520508
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1660775548920-628d998a2b60ec0f336cc1eb.png?w=200&h=200&f=face
          fullname: Carl Silva
          isHf: false
          isPro: true
          name: silvacarl
          type: user
        html: '<p>yeah tracing the code to see what''s up, its reallt weird.</p>

          '
        raw: yeah tracing the code to see what's up, its reallt weird.
        updatedAt: '2023-12-09T01:31:32.712Z'
      numEdits: 0
      reactions: []
    id: 6573c37406fdcd4ca9185661
    type: comment
  author: silvacarl
  content: yeah tracing the code to see what's up, its reallt weird.
  created_at: 2023-12-09 01:31:32+00:00
  edited: false
  hidden: false
  id: 6573c37406fdcd4ca9185661
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/fda886ef64db0a0519b1c7841ae26bc7.svg
      fullname: Beeno Tung
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: beenotung
      type: user
    createdAt: '2023-12-09T06:12:45.000Z'
    data:
      edited: false
      editors:
      - beenotung
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8696582317352295
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/fda886ef64db0a0519b1c7841ae26bc7.svg
          fullname: Beeno Tung
          isHf: false
          isPro: false
          name: beenotung
          type: user
        html: '<p>Is it slow for the same prompt consistently?</p>

          '
        raw: Is it slow for the same prompt consistently?
        updatedAt: '2023-12-09T06:12:45.664Z'
      numEdits: 0
      reactions: []
    id: 6574055dc311c842f4a1b8c5
    type: comment
  author: beenotung
  content: Is it slow for the same prompt consistently?
  created_at: 2023-12-09 06:12:45+00:00
  edited: false
  hidden: false
  id: 6574055dc311c842f4a1b8c5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1b6da20d55bd6ba745d73fc00e7bd42b.svg
      fullname: Sujan Neupane
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Sujan42024
      type: user
    createdAt: '2023-12-09T06:39:05.000Z'
    data:
      edited: false
      editors:
      - Sujan42024
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9593164920806885
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1b6da20d55bd6ba745d73fc00e7bd42b.svg
          fullname: Sujan Neupane
          isHf: false
          isPro: false
          name: Sujan42024
          type: user
        html: '<p>The model is just too slow actually. I have been testing this model
          on an AWS instance with NVIDIA Tesla T4 GPU and it takes 2-3 minutes for
          each response. Once, it took about 9 minutes to generate a simple response.
          IDK what is going on and my internet is good too.</p>

          '
        raw: The model is just too slow actually. I have been testing this model on
          an AWS instance with NVIDIA Tesla T4 GPU and it takes 2-3 minutes for each
          response. Once, it took about 9 minutes to generate a simple response. IDK
          what is going on and my internet is good too.
        updatedAt: '2023-12-09T06:39:05.199Z'
      numEdits: 0
      reactions: []
    id: 65740b8954d1749612b5af44
    type: comment
  author: Sujan42024
  content: The model is just too slow actually. I have been testing this model on
    an AWS instance with NVIDIA Tesla T4 GPU and it takes 2-3 minutes for each response.
    Once, it took about 9 minutes to generate a simple response. IDK what is going
    on and my internet is good too.
  created_at: 2023-12-09 06:39:05+00:00
  edited: false
  hidden: false
  id: 65740b8954d1749612b5af44
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 21
repo_id: berkeley-nest/Starling-LM-7B-alpha
repo_type: model
status: open
target_branch: null
title: extremely variable response time for inference?
