!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Stephanehk
conflicting_files: null
created_at: 2023-05-01 21:45:36+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ee85cfe51e23753f55260377e14ec9c1.svg
      fullname: Stephane Hatgis-Kessell
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Stephanehk
      type: user
    createdAt: '2023-05-01T22:45:36.000Z'
    data:
      edited: false
      editors:
      - Stephanehk
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ee85cfe51e23753f55260377e14ec9c1.svg
          fullname: Stephane Hatgis-Kessell
          isHf: false
          isPro: false
          name: Stephanehk
          type: user
        html: "<p>Hello,</p>\n<p>I am attempting to use the ppo-Walker2d-v3.zip model,\
          \ but am unable to get near the reported mean return of 3571. Instead, I\
          \ consistently get a return of ~1 for episodes of 1000 steps. The snippet\
          \ below illustrates how I am setting up the environment, perhaps the issue\
          \ is here?</p>\n<pre><code>from sb3_contrib.common.wrappers import TimeFeatureWrapper\n\
          from gym.wrappers import NormalizeObservation\nfrom stable_baselines3 import\
          \ PPO\nfrom huggingface_sb3 import load_from_hub\nimport gym\n\ncheckpoint\
          \ = load_from_hub(\n    repo_id=\"sb3/ppo-Walker2d-v3\",\n    filename=\"\
          ppo-Walker2d-v3.zip\",\n)\ncustom_objects = {\n    \"learning_rate\": 0.0,\n\
          \    \"lr_schedule\": lambda _: 0.0,\n    \"clip_range\": lambda _: 0.0,\n\
          }\nexpert_model = PPO.load(checkpoint,custom_objects=custom_objects)\n\n\
          env_name = \"Walker2d-v3\"\nvenv = gym.make(env_name)\nvenv = NormalizeObservation(venv)\n\
          venv = TimeFeatureWrapper(venv)\n</code></pre>\n"
        raw: "Hello,\r\n\r\nI am attempting to use the ppo-Walker2d-v3.zip model,\
          \ but am unable to get near the reported mean return of 3571. Instead, I\
          \ consistently get a return of ~1 for episodes of 1000 steps. The snippet\
          \ below illustrates how I am setting up the environment, perhaps the issue\
          \ is here?\r\n\r\n```\r\nfrom sb3_contrib.common.wrappers import TimeFeatureWrapper\r\
          \nfrom gym.wrappers import NormalizeObservation\r\nfrom stable_baselines3\
          \ import PPO\r\nfrom huggingface_sb3 import load_from_hub\r\nimport gym\r\
          \n\r\ncheckpoint = load_from_hub(\r\n\trepo_id=\"sb3/ppo-Walker2d-v3\",\r\
          \n\tfilename=\"ppo-Walker2d-v3.zip\",\r\n)\r\ncustom_objects = {\r\n   \
          \ \"learning_rate\": 0.0,\r\n    \"lr_schedule\": lambda _: 0.0,\r\n   \
          \ \"clip_range\": lambda _: 0.0,\r\n}\r\nexpert_model = PPO.load(checkpoint,custom_objects=custom_objects)\r\
          \n\r\nenv_name = \"Walker2d-v3\"\r\nvenv = gym.make(env_name)\r\nvenv =\
          \ NormalizeObservation(venv)\r\nvenv = TimeFeatureWrapper(venv)\r\n```"
        updatedAt: '2023-05-01T22:45:36.109Z'
      numEdits: 0
      reactions: []
    id: 64504110ccf704d60ffe5e3c
    type: comment
  author: Stephanehk
  content: "Hello,\r\n\r\nI am attempting to use the ppo-Walker2d-v3.zip model, but\
    \ am unable to get near the reported mean return of 3571. Instead, I consistently\
    \ get a return of ~1 for episodes of 1000 steps. The snippet below illustrates\
    \ how I am setting up the environment, perhaps the issue is here?\r\n\r\n```\r\
    \nfrom sb3_contrib.common.wrappers import TimeFeatureWrapper\r\nfrom gym.wrappers\
    \ import NormalizeObservation\r\nfrom stable_baselines3 import PPO\r\nfrom huggingface_sb3\
    \ import load_from_hub\r\nimport gym\r\n\r\ncheckpoint = load_from_hub(\r\n\t\
    repo_id=\"sb3/ppo-Walker2d-v3\",\r\n\tfilename=\"ppo-Walker2d-v3.zip\",\r\n)\r\
    \ncustom_objects = {\r\n    \"learning_rate\": 0.0,\r\n    \"lr_schedule\": lambda\
    \ _: 0.0,\r\n    \"clip_range\": lambda _: 0.0,\r\n}\r\nexpert_model = PPO.load(checkpoint,custom_objects=custom_objects)\r\
    \n\r\nenv_name = \"Walker2d-v3\"\r\nvenv = gym.make(env_name)\r\nvenv = NormalizeObservation(venv)\r\
    \nvenv = TimeFeatureWrapper(venv)\r\n```"
  created_at: 2023-05-01 21:45:36+00:00
  edited: false
  hidden: false
  id: 64504110ccf704d60ffe5e3c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1637077380920-noauth.jpeg?w=200&h=200&f=face
      fullname: Antonin Raffin
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: araffin
      type: user
    createdAt: '2023-05-02T07:45:44.000Z'
    data:
      edited: false
      editors:
      - araffin
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1637077380920-noauth.jpeg?w=200&h=200&f=face
          fullname: Antonin Raffin
          isHf: false
          isPro: false
          name: araffin
          type: user
        html: '<p>Hello,<br>Please follow the instructions and use the RL Zoo. You
          are not loading the normalizing statistics.</p>

          '
        raw: 'Hello,

          Please follow the instructions and use the RL Zoo. You are not loading the
          normalizing statistics.'
        updatedAt: '2023-05-02T07:45:44.793Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Stephanehk
    id: 6450bfa8e4827192b35219b5
    type: comment
  author: araffin
  content: 'Hello,

    Please follow the instructions and use the RL Zoo. You are not loading the normalizing
    statistics.'
  created_at: 2023-05-02 06:45:44+00:00
  edited: false
  hidden: false
  id: 6450bfa8e4827192b35219b5
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/ee85cfe51e23753f55260377e14ec9c1.svg
      fullname: Stephane Hatgis-Kessell
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Stephanehk
      type: user
    createdAt: '2023-05-02T21:25:18.000Z'
    data:
      status: closed
    id: 64517fbeb3f75261a7debdda
    type: status-change
  author: Stephanehk
  created_at: 2023-05-02 20:25:18+00:00
  id: 64517fbeb3f75261a7debdda
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: sb3/ppo-Walker2d-v3
repo_type: model
status: closed
target_branch: null
title: Trouble reproducing results
