!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bhperry
conflicting_files: null
created_at: 2023-09-27 21:39:29+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c9f54e1831230262c08636ee3ec8bba3.svg
      fullname: Ben Perry
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bhperry
      type: user
    createdAt: '2023-09-27T22:39:29.000Z'
    data:
      edited: false
      editors:
      - bhperry
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.82862788438797
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c9f54e1831230262c08636ee3ec8bba3.svg
          fullname: Ben Perry
          isHf: false
          isPro: false
          name: bhperry
          type: user
        html: "<p>Get these warnings every time I load a vicuna v1.5 model</p>\n<pre><code>/opt/saturncloud/envs/saturn/lib/python3.9/site-packages/transformers/generation/configuration_utils.py:362:\
          \ UserWarning: `do_sample` is set to `False`. However, `temperature` is\
          \ set to `0.9` -- this flag is only used in sample-based generation modes.\
          \ You should set `do_sample=True` or unset `temperature`. This was detected\
          \ when initializing the generation config instance, which means the corresponding\
          \ file may hold incorrect parameterization and should be fixed.\n  warnings.warn(\n\
          /opt/saturncloud/envs/saturn/lib/python3.9/site-packages/transformers/generation/configuration_utils.py:367:\
          \ UserWarning: `do_sample` is set to `False`. However, `top_p` is set to\
          \ `0.6` -- this flag is only used in sample-based generation modes. You\
          \ should set `do_sample=True` or unset `top_p`. This was detected when initializing\
          \ the generation config instance, which means the corresponding file may\
          \ hold incorrect parameterization and should be fixed.\n  warnings.warn(\n\
          </code></pre>\n<p>Not sure if it makes more sense to remove the offending\
          \ params from <code>generation_config.json</code> or set <code>do_sample=True</code>,\
          \ but it would be nice to not have these warnings pop up every time the\
          \ model gets loaded.</p>\n"
        raw: "Get these warnings every time I load a vicuna v1.5 model\r\n```\r\n\
          /opt/saturncloud/envs/saturn/lib/python3.9/site-packages/transformers/generation/configuration_utils.py:362:\
          \ UserWarning: `do_sample` is set to `False`. However, `temperature` is\
          \ set to `0.9` -- this flag is only used in sample-based generation modes.\
          \ You should set `do_sample=True` or unset `temperature`. This was detected\
          \ when initializing the generation config instance, which means the corresponding\
          \ file may hold incorrect parameterization and should be fixed.\r\n  warnings.warn(\r\
          \n/opt/saturncloud/envs/saturn/lib/python3.9/site-packages/transformers/generation/configuration_utils.py:367:\
          \ UserWarning: `do_sample` is set to `False`. However, `top_p` is set to\
          \ `0.6` -- this flag is only used in sample-based generation modes. You\
          \ should set `do_sample=True` or unset `top_p`. This was detected when initializing\
          \ the generation config instance, which means the corresponding file may\
          \ hold incorrect parameterization and should be fixed.\r\n  warnings.warn(\r\
          \n```\r\n\r\nNot sure if it makes more sense to remove the offending params\
          \ from `generation_config.json` or set `do_sample=True`, but it would be\
          \ nice to not have these warnings pop up every time the model gets loaded.\r\
          \n"
        updatedAt: '2023-09-27T22:39:29.745Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - exuviae1
    id: 6514af218a54b060b665f1f8
    type: comment
  author: bhperry
  content: "Get these warnings every time I load a vicuna v1.5 model\r\n```\r\n/opt/saturncloud/envs/saturn/lib/python3.9/site-packages/transformers/generation/configuration_utils.py:362:\
    \ UserWarning: `do_sample` is set to `False`. However, `temperature` is set to\
    \ `0.9` -- this flag is only used in sample-based generation modes. You should\
    \ set `do_sample=True` or unset `temperature`. This was detected when initializing\
    \ the generation config instance, which means the corresponding file may hold\
    \ incorrect parameterization and should be fixed.\r\n  warnings.warn(\r\n/opt/saturncloud/envs/saturn/lib/python3.9/site-packages/transformers/generation/configuration_utils.py:367:\
    \ UserWarning: `do_sample` is set to `False`. However, `top_p` is set to `0.6`\
    \ -- this flag is only used in sample-based generation modes. You should set `do_sample=True`\
    \ or unset `top_p`. This was detected when initializing the generation config\
    \ instance, which means the corresponding file may hold incorrect parameterization\
    \ and should be fixed.\r\n  warnings.warn(\r\n```\r\n\r\nNot sure if it makes\
    \ more sense to remove the offending params from `generation_config.json` or set\
    \ `do_sample=True`, but it would be nice to not have these warnings pop up every\
    \ time the model gets loaded.\r\n"
  created_at: 2023-09-27 21:39:29+00:00
  edited: false
  hidden: false
  id: 6514af218a54b060b665f1f8
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: lmsys/vicuna-7b-v1.5
repo_type: model
status: open
target_branch: null
title: Huggingface warnings about temp and top_p
