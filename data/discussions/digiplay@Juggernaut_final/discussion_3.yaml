!!python/object:huggingface_hub.community.DiscussionWithDetails
author: samiam
conflicting_files: null
created_at: 2023-07-15 16:31:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0163caf9936c17afb66c3e290cadeadd.svg
      fullname: SH
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: samiam
      type: user
    createdAt: '2023-07-15T17:31:52.000Z'
    data:
      edited: false
      editors:
      - samiam
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6931213736534119
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0163caf9936c17afb66c3e290cadeadd.svg
          fullname: SH
          isHf: false
          isPro: false
          name: samiam
          type: user
        html: '<p>I''ve gotten numerous other models to work just fine, but for whatever
          reason when I try to initialize this model I get:</p>

          <p>ValueError: Cannot load &lt;class ''diffusers.models.autoencoder_kl.AutoencoderKL''&gt;
          from digiplay/Juggernaut_final because the following keys are missing:<br>
          decoder.mid_block.attentions.0.value.bias, decoder.mid_block.attentions.0.proj_attn.bias,
          decoder.mid_block.attentions.0.value.weight, encoder.mid_block.attentions.0.query.weight,
          decoder.mid_block.attentions.0.query.bias, encoder.mid_block.attentions.0.value.bias,
          encoder.mid_block.attentions.0.key.weight, decoder.mid_block.attentions.0.key.weight,
          decoder.mid_block.attentions.0.proj_attn.weight, decoder.mid_block.attentions.0.query.weight,
          decoder.mid_block.attentions.0.key.bias, encoder.mid_block.attentions.0.value.weight,
          encoder.mid_block.attentions.0.proj_attn.bias, encoder.mid_block.attentions.0.key.bias,
          encoder.mid_block.attentions.0.query.bias, encoder.mid_block.attentions.0.proj_attn.weight.</p>

          <p>Note that I am using huggingface diffusers dreambooth to finetune this
          model</p>

          '
        raw: "I've gotten numerous other models to work just fine, but for whatever\
          \ reason when I try to initialize this model I get:\r\n\r\nValueError: Cannot\
          \ load <class 'diffusers.models.autoencoder_kl.AutoencoderKL'> from digiplay/Juggernaut_final\
          \ because the following keys are missing: \r\n decoder.mid_block.attentions.0.value.bias,\
          \ decoder.mid_block.attentions.0.proj_attn.bias, decoder.mid_block.attentions.0.value.weight,\
          \ encoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.query.bias,\
          \ encoder.mid_block.attentions.0.value.bias, encoder.mid_block.attentions.0.key.weight,\
          \ decoder.mid_block.attentions.0.key.weight, decoder.mid_block.attentions.0.proj_attn.weight,\
          \ decoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.key.bias,\
          \ encoder.mid_block.attentions.0.value.weight, encoder.mid_block.attentions.0.proj_attn.bias,\
          \ encoder.mid_block.attentions.0.key.bias, encoder.mid_block.attentions.0.query.bias,\
          \ encoder.mid_block.attentions.0.proj_attn.weight.\r\n\r\nNote that I am\
          \ using huggingface diffusers dreambooth to finetune this model"
        updatedAt: '2023-07-15T17:31:52.629Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F91D"
        users:
        - digiplay
    id: 64b2d80828fd98e7ccef6ec7
    type: comment
  author: samiam
  content: "I've gotten numerous other models to work just fine, but for whatever\
    \ reason when I try to initialize this model I get:\r\n\r\nValueError: Cannot\
    \ load <class 'diffusers.models.autoencoder_kl.AutoencoderKL'> from digiplay/Juggernaut_final\
    \ because the following keys are missing: \r\n decoder.mid_block.attentions.0.value.bias,\
    \ decoder.mid_block.attentions.0.proj_attn.bias, decoder.mid_block.attentions.0.value.weight,\
    \ encoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.query.bias,\
    \ encoder.mid_block.attentions.0.value.bias, encoder.mid_block.attentions.0.key.weight,\
    \ decoder.mid_block.attentions.0.key.weight, decoder.mid_block.attentions.0.proj_attn.weight,\
    \ decoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.key.bias,\
    \ encoder.mid_block.attentions.0.value.weight, encoder.mid_block.attentions.0.proj_attn.bias,\
    \ encoder.mid_block.attentions.0.key.bias, encoder.mid_block.attentions.0.query.bias,\
    \ encoder.mid_block.attentions.0.proj_attn.weight.\r\n\r\nNote that I am using\
    \ huggingface diffusers dreambooth to finetune this model"
  created_at: 2023-07-15 16:31:52+00:00
  edited: false
  hidden: false
  id: 64b2d80828fd98e7ccef6ec7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/b5Act86SZ7zuUXmLOIqYj.png?w=200&h=200&f=face
      fullname: digiplay
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: digiplay
      type: user
    createdAt: '2023-07-16T06:22:01.000Z'
    data:
      edited: true
      editors:
      - digiplay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5665090680122375
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/b5Act86SZ7zuUXmLOIqYj.png?w=200&h=200&f=face
          fullname: digiplay
          isHf: false
          isPro: false
          name: digiplay
          type: user
        html: "<p>Hi ,<br>I remember after May 25th, my google colab + diffusers code\
          \ also suddenly show many errors message, but still can work \U0001F602\
          \ I guess there is some problem in pipeline code, now I test again, I guess\
          \ there is some problem in \"torch. float16 \" something, you may use codes\
          \ below, it would be Okay.</p>\n<p>(if worked, pls reply me?)</p>\n<pre><code>!pip\
          \ install diffusers==0.11.1\n!pip install transformers scipy ftfy accelerate\n\
          \n\nimport torch\nfrom diffusers import DiffusionPipeline\n\nmodelid=\"\
          digiplay/Juggernaut_final\"\n#pipe = DiffusionPipeline.from_pretrained(modelid,torch_dtype=torch.float16)\n\
          \nfrom diffusers.models import AutoencoderKL\n\n#560001\nvae = AutoencoderKL.from_pretrained(\"\
          stabilityai/sd-vae-ft-ema\")\n#840001 \n#vae = AutoencoderKL.from_pretrained(\"\
          stabilityai/sd-vae-ft-mse\")\n\npipe = DiffusionPipeline.from_pretrained(modelid,vae=vae\
          \  )\npipe = pipe.to(\"cuda\")\n\n\npipe.safety_checker = lambda images,\
          \ clip_input: (images, False)\n\nneg = \"(worst quality, low quality:1.4)_or\
          \ your prompt \"\npro = \"your_prompt\"\n\neditstep=19\nimage = pipe(pro,\n\
          \             negative_prompt=neg,\n             num_inference_steps=editstep,guidance_scale=7,height=512,\
          \ width=512).images[0]\nimage\n</code></pre>\n<p><a rel=\"nofollow\" href=\"\
          https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/xbhwgFUMPHqgKPE1aECJL.jpeg\"\
          ><img alt=\"Screenshot_20230716_141842_Vivaldi Browser Snapshot.jpg\" src=\"\
          https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/xbhwgFUMPHqgKPE1aECJL.jpeg\"\
          ></a><br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/ZSLzrUf1GI_QRdgqrVebQ.jpeg\"\
          ><img alt=\"Screenshot_20230716_141855_Vivaldi Browser Snapshot.jpg\" src=\"\
          https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/ZSLzrUf1GI_QRdgqrVebQ.jpeg\"\
          ></a></p>\n"
        raw: "Hi , \nI remember after May 25th, my google colab + diffusers code also\
          \ suddenly show many errors message, but still can work \U0001F602 I guess\
          \ there is some problem in pipeline code, now I test again, I guess there\
          \ is some problem in \"torch. float16 \" something, you may use codes below,\
          \ it would be Okay.\n\n(if worked, pls reply me?)\n\n\n\n```\n!pip install\
          \ diffusers==0.11.1\n!pip install transformers scipy ftfy accelerate\n\n\
          \nimport torch\nfrom diffusers import DiffusionPipeline\n\nmodelid=\"digiplay/Juggernaut_final\"\
          \n#pipe = DiffusionPipeline.from_pretrained(modelid,torch_dtype=torch.float16)\n\
          \nfrom diffusers.models import AutoencoderKL\n\n#560001\nvae = AutoencoderKL.from_pretrained(\"\
          stabilityai/sd-vae-ft-ema\")\n#840001 \n#vae = AutoencoderKL.from_pretrained(\"\
          stabilityai/sd-vae-ft-mse\")\n\npipe = DiffusionPipeline.from_pretrained(modelid,vae=vae\
          \  )\npipe = pipe.to(\"cuda\")\n\n\npipe.safety_checker = lambda images,\
          \ clip_input: (images, False)\n\nneg = \"(worst quality, low quality:1.4)_or\
          \ your prompt \"\npro = \"your_prompt\"\n\neditstep=19\nimage = pipe(pro,\n\
          \             negative_prompt=neg,\n             num_inference_steps=editstep,guidance_scale=7,height=512,\
          \ width=512).images[0]\nimage\n\n```\n\n \n![Screenshot_20230716_141842_Vivaldi\
          \ Browser Snapshot.jpg](https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/xbhwgFUMPHqgKPE1aECJL.jpeg)\n\
          ![Screenshot_20230716_141855_Vivaldi Browser Snapshot.jpg](https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/ZSLzrUf1GI_QRdgqrVebQ.jpeg)\n\
          \n"
        updatedAt: '2023-07-16T06:23:47.243Z'
      numEdits: 1
      reactions: []
    id: 64b38c890eb87fa9908174fd
    type: comment
  author: digiplay
  content: "Hi , \nI remember after May 25th, my google colab + diffusers code also\
    \ suddenly show many errors message, but still can work \U0001F602 I guess there\
    \ is some problem in pipeline code, now I test again, I guess there is some problem\
    \ in \"torch. float16 \" something, you may use codes below, it would be Okay.\n\
    \n(if worked, pls reply me?)\n\n\n\n```\n!pip install diffusers==0.11.1\n!pip\
    \ install transformers scipy ftfy accelerate\n\n\nimport torch\nfrom diffusers\
    \ import DiffusionPipeline\n\nmodelid=\"digiplay/Juggernaut_final\"\n#pipe = DiffusionPipeline.from_pretrained(modelid,torch_dtype=torch.float16)\n\
    \nfrom diffusers.models import AutoencoderKL\n\n#560001\nvae = AutoencoderKL.from_pretrained(\"\
    stabilityai/sd-vae-ft-ema\")\n#840001 \n#vae = AutoencoderKL.from_pretrained(\"\
    stabilityai/sd-vae-ft-mse\")\n\npipe = DiffusionPipeline.from_pretrained(modelid,vae=vae\
    \  )\npipe = pipe.to(\"cuda\")\n\n\npipe.safety_checker = lambda images, clip_input:\
    \ (images, False)\n\nneg = \"(worst quality, low quality:1.4)_or your prompt \"\
    \npro = \"your_prompt\"\n\neditstep=19\nimage = pipe(pro,\n             negative_prompt=neg,\n\
    \             num_inference_steps=editstep,guidance_scale=7,height=512, width=512).images[0]\n\
    image\n\n```\n\n \n![Screenshot_20230716_141842_Vivaldi Browser Snapshot.jpg](https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/xbhwgFUMPHqgKPE1aECJL.jpeg)\n\
    ![Screenshot_20230716_141855_Vivaldi Browser Snapshot.jpg](https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/ZSLzrUf1GI_QRdgqrVebQ.jpeg)\n\
    \n"
  created_at: 2023-07-16 05:22:01+00:00
  edited: true
  hidden: false
  id: 64b38c890eb87fa9908174fd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/b5Act86SZ7zuUXmLOIqYj.png?w=200&h=200&f=face
      fullname: digiplay
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: digiplay
      type: user
    createdAt: '2023-07-16T06:30:57.000Z'
    data:
      edited: false
      editors:
      - digiplay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4148988127708435
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/b5Act86SZ7zuUXmLOIqYj.png?w=200&h=200&f=face
          fullname: digiplay
          isHf: false
          isPro: false
          name: digiplay
          type: user
        html: '<p>Note: you can choose your VAE you like, remove/add " # " in the
          code section</p>

          <p>#560001<br>vae = AutoencoderKL.from_pretrained("stabilityai/sd-vae-ft-ema")<br>#840001<br>#vae
          = AutoencoderKL.from_pretrained("stabilityai/sd-vae-ft-mse")</p>

          '
        raw: "Note: you can choose your VAE you like, remove/add \" # \" in the code\
          \ section\n\n#560001\nvae = AutoencoderKL.from_pretrained(\"stabilityai/sd-vae-ft-ema\"\
          )\n#840001 \n#vae = AutoencoderKL.from_pretrained(\"stabilityai/sd-vae-ft-mse\"\
          )\n\n"
        updatedAt: '2023-07-16T06:30:57.898Z'
      numEdits: 0
      reactions: []
    id: 64b38ea15e1230a79fa49539
    type: comment
  author: digiplay
  content: "Note: you can choose your VAE you like, remove/add \" # \" in the code\
    \ section\n\n#560001\nvae = AutoencoderKL.from_pretrained(\"stabilityai/sd-vae-ft-ema\"\
    )\n#840001 \n#vae = AutoencoderKL.from_pretrained(\"stabilityai/sd-vae-ft-mse\"\
    )\n\n"
  created_at: 2023-07-16 05:30:57+00:00
  edited: false
  hidden: false
  id: 64b38ea15e1230a79fa49539
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/b5Act86SZ7zuUXmLOIqYj.png?w=200&h=200&f=face
      fullname: digiplay
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: digiplay
      type: user
    createdAt: '2023-07-18T09:34:41.000Z'
    data:
      edited: false
      editors:
      - digiplay
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7020682096481323
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/646c83c871d0c8a6e4455854/b5Act86SZ7zuUXmLOIqYj.png?w=200&h=200&f=face
          fullname: digiplay
          isHf: false
          isPro: false
          name: digiplay
          type: user
        html: "<blockquote>\n<p>I've gotten numerous other models to work just fine,\
          \ but for whatever reason when I try to initialize this model I get:</p>\n\
          <p>ValueError: Cannot load &lt;class 'diffusers.models.autoencoder_kl.AutoencoderKL'&gt;\
          \ from digiplay/Juggernaut_final because the following keys are missing:<br>\
          \ decoder.mid_block.attentions.0.value.bias, decoder.mid_block.attentions.0.proj_attn.bias,\
          \ decoder.mid_block.attentions.0.value.weight, encoder.mid_block.attentions.0.query.weight,\
          \ decoder.mid_block.attentions.0.query.bias, encoder.mid_block.attentions.0.value.bias,\
          \ encoder.mid_block.attentions.0.key.weight, decoder.mid_block.attentions.0.key.weight,\
          \ decoder.mid_block.attentions.0.proj_attn.weight, decoder.mid_block.attentions.0.query.weight,\
          \ decoder.mid_block.attentions.0.key.bias, encoder.mid_block.attentions.0.value.weight,\
          \ encoder.mid_block.attentions.0.proj_attn.bias, encoder.mid_block.attentions.0.key.bias,\
          \ encoder.mid_block.attentions.0.query.bias, encoder.mid_block.attentions.0.proj_attn.weight.</p>\n\
          <p>Note that I am using huggingface diffusers dreambooth to finetune this\
          \ model</p>\n</blockquote>\n<p>hi~ is okay now? \U0001F917</p>\n"
        raw: "> I've gotten numerous other models to work just fine, but for whatever\
          \ reason when I try to initialize this model I get:\n> \n> ValueError: Cannot\
          \ load <class 'diffusers.models.autoencoder_kl.AutoencoderKL'> from digiplay/Juggernaut_final\
          \ because the following keys are missing: \n>  decoder.mid_block.attentions.0.value.bias,\
          \ decoder.mid_block.attentions.0.proj_attn.bias, decoder.mid_block.attentions.0.value.weight,\
          \ encoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.query.bias,\
          \ encoder.mid_block.attentions.0.value.bias, encoder.mid_block.attentions.0.key.weight,\
          \ decoder.mid_block.attentions.0.key.weight, decoder.mid_block.attentions.0.proj_attn.weight,\
          \ decoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.key.bias,\
          \ encoder.mid_block.attentions.0.value.weight, encoder.mid_block.attentions.0.proj_attn.bias,\
          \ encoder.mid_block.attentions.0.key.bias, encoder.mid_block.attentions.0.query.bias,\
          \ encoder.mid_block.attentions.0.proj_attn.weight.\n> \n> Note that I am\
          \ using huggingface diffusers dreambooth to finetune this model\n\nhi~ is\
          \ okay now? \U0001F917"
        updatedAt: '2023-07-18T09:34:41.963Z'
      numEdits: 0
      reactions: []
    id: 64b65cb179fc1d4d9e38ce60
    type: comment
  author: digiplay
  content: "> I've gotten numerous other models to work just fine, but for whatever\
    \ reason when I try to initialize this model I get:\n> \n> ValueError: Cannot\
    \ load <class 'diffusers.models.autoencoder_kl.AutoencoderKL'> from digiplay/Juggernaut_final\
    \ because the following keys are missing: \n>  decoder.mid_block.attentions.0.value.bias,\
    \ decoder.mid_block.attentions.0.proj_attn.bias, decoder.mid_block.attentions.0.value.weight,\
    \ encoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.query.bias,\
    \ encoder.mid_block.attentions.0.value.bias, encoder.mid_block.attentions.0.key.weight,\
    \ decoder.mid_block.attentions.0.key.weight, decoder.mid_block.attentions.0.proj_attn.weight,\
    \ decoder.mid_block.attentions.0.query.weight, decoder.mid_block.attentions.0.key.bias,\
    \ encoder.mid_block.attentions.0.value.weight, encoder.mid_block.attentions.0.proj_attn.bias,\
    \ encoder.mid_block.attentions.0.key.bias, encoder.mid_block.attentions.0.query.bias,\
    \ encoder.mid_block.attentions.0.proj_attn.weight.\n> \n> Note that I am using\
    \ huggingface diffusers dreambooth to finetune this model\n\nhi~ is okay now?\
    \ \U0001F917"
  created_at: 2023-07-18 08:34:41+00:00
  edited: false
  hidden: false
  id: 64b65cb179fc1d4d9e38ce60
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0163caf9936c17afb66c3e290cadeadd.svg
      fullname: SH
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: samiam
      type: user
    createdAt: '2023-07-27T19:27:32.000Z'
    data:
      edited: false
      editors:
      - samiam
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9620192050933838
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0163caf9936c17afb66c3e290cadeadd.svg
          fullname: SH
          isHf: false
          isPro: false
          name: samiam
          type: user
        html: '<p>Hi! Yes thanks it is working now, for whatever reason only Juggernaut
          didn''t work with my version of diffusers so I updated to the latest version
          (which actually gave me a different error with something else later on LOL)</p>

          '
        raw: Hi! Yes thanks it is working now, for whatever reason only Juggernaut
          didn't work with my version of diffusers so I updated to the latest version
          (which actually gave me a different error with something else later on LOL)
        updatedAt: '2023-07-27T19:27:32.586Z'
      numEdits: 0
      reactions: []
    id: 64c2c524e2c5b263eb2bdcaf
    type: comment
  author: samiam
  content: Hi! Yes thanks it is working now, for whatever reason only Juggernaut didn't
    work with my version of diffusers so I updated to the latest version (which actually
    gave me a different error with something else later on LOL)
  created_at: 2023-07-27 18:27:32+00:00
  edited: false
  hidden: false
  id: 64c2c524e2c5b263eb2bdcaf
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: digiplay/Juggernaut_final
repo_type: model
status: open
target_branch: null
title: Baked VAE? Cannot load <class 'diffusers.models.autoencoder_kl.AutoencoderKL'>
