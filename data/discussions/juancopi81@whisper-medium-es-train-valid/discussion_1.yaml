!!python/object:huggingface_hub.community.DiscussionWithDetails
author: deepdml
conflicting_files: null
created_at: 2022-12-12 14:57:06+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
      fullname: D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepdml
      type: user
    createdAt: '2022-12-12T14:57:06.000Z'
    data:
      edited: false
      editors:
      - deepdml
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
          fullname: D
          isHf: false
          isPro: false
          name: deepdml
          type: user
        html: '<p>Amazing work!</p>

          <p>Do you have any idea why WER on fleurs data is worse than on original
          paper?</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1670857010700-605a62a8935268bc086131b2.png"><img
          alt="imagen.png" src="https://cdn-uploads.huggingface.co/production/uploads/1670857010700-605a62a8935268bc086131b2.png"></a></p>

          '
        raw: "Amazing work!\r\n\r\nDo you have any idea why WER on fleurs data is\
          \ worse than on original paper?\r\n\r\n![imagen.png](https://cdn-uploads.huggingface.co/production/uploads/1670857010700-605a62a8935268bc086131b2.png)\r\
          \n"
        updatedAt: '2022-12-12T14:57:06.362Z'
      numEdits: 0
      reactions: []
    id: 63974142b2e1ced6e8c6414f
    type: comment
  author: deepdml
  content: "Amazing work!\r\n\r\nDo you have any idea why WER on fleurs data is worse\
    \ than on original paper?\r\n\r\n![imagen.png](https://cdn-uploads.huggingface.co/production/uploads/1670857010700-605a62a8935268bc086131b2.png)\r\
    \n"
  created_at: 2022-12-12 14:57:06+00:00
  edited: false
  hidden: false
  id: 63974142b2e1ced6e8c6414f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T15:00:16.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: "<p>Thank you very much! I am still trying to measure that, the evaluation\
          \ script takes too long and the one that I reported is not accurate (I was\
          \ using only a few steps to do the evaluation, so I\xBFll change that) :S.\
          \ I think that I am having better results in this model: juancopi81/whisper-medium-es.\
          \ But my idea is that we are overfitting the common-voice-11 so it is worse\
          \ in fleurs. What do you think?</p>\n"
        raw: "Thank you very much! I am still trying to measure that, the evaluation\
          \ script takes too long and the one that I reported is not accurate (I was\
          \ using only a few steps to do the evaluation, so I\xBFll change that) :S.\
          \ I think that I am having better results in this model: juancopi81/whisper-medium-es.\
          \ But my idea is that we are overfitting the common-voice-11 so it is worse\
          \ in fleurs. What do you think?"
        updatedAt: '2022-12-12T15:00:16.595Z'
      numEdits: 0
      reactions: []
    id: 63974200d9d71fb9218542ea
    type: comment
  author: juancopi81
  content: "Thank you very much! I am still trying to measure that, the evaluation\
    \ script takes too long and the one that I reported is not accurate (I was using\
    \ only a few steps to do the evaluation, so I\xBFll change that) :S. I think that\
    \ I am having better results in this model: juancopi81/whisper-medium-es. But\
    \ my idea is that we are overfitting the common-voice-11 so it is worse in fleurs.\
    \ What do you think?"
  created_at: 2022-12-12 15:00:16+00:00
  edited: false
  hidden: false
  id: 63974200d9d71fb9218542ea
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
      fullname: D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepdml
      type: user
    createdAt: '2022-12-12T15:11:46.000Z'
    data:
      edited: true
      editors:
      - deepdml
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
          fullname: D
          isHf: false
          isPro: false
          name: deepdml
          type: user
        html: '<p>Yes, I think so.</p>

          <p>For example, I''ve trained <a href="https://huggingface.co/deepdml/whisper-medium-mix-es">whisper-medium
          spanish model</a> over common-voice-11, voxpopuli, multilingual_librispeech
          and fleurs. And the WER on common-voice is worse than yours, but better
          on fleurs:</p>

          <ul>

          <li>common-voice-11: 6.3465 %</li>

          <li>google/fleurs: 4.03 %</li>

          <li>facebook/voxpopuli: Calculating...</li>

          <li>facebook/multilingual_librispeech: Calculating...</li>

          </ul>

          <p>PD: Using the script provided in the Whisper Sprint (Dec. 2022) to get
          google/fleurs, facebook/voxpopuli and facebook/multilingual_librispeech
          WERs.</p>

          '
        raw: 'Yes, I think so.


          For example, I''ve trained [whisper-medium spanish model](https://huggingface.co/deepdml/whisper-medium-mix-es)
          over common-voice-11, voxpopuli, multilingual_librispeech and fleurs. And
          the WER on common-voice is worse than yours, but better on fleurs:


          - common-voice-11: 6.3465 %

          - google/fleurs: 4.03 %

          - facebook/voxpopuli: Calculating...

          - facebook/multilingual_librispeech: Calculating...


          PD: Using the script provided in the Whisper Sprint (Dec. 2022) to get google/fleurs,
          facebook/voxpopuli and facebook/multilingual_librispeech WERs.'
        updatedAt: '2022-12-12T15:12:54.887Z'
      numEdits: 2
      reactions: []
    id: 639744b24d02e1e04f2e7dc0
    type: comment
  author: deepdml
  content: 'Yes, I think so.


    For example, I''ve trained [whisper-medium spanish model](https://huggingface.co/deepdml/whisper-medium-mix-es)
    over common-voice-11, voxpopuli, multilingual_librispeech and fleurs. And the
    WER on common-voice is worse than yours, but better on fleurs:


    - common-voice-11: 6.3465 %

    - google/fleurs: 4.03 %

    - facebook/voxpopuli: Calculating...

    - facebook/multilingual_librispeech: Calculating...


    PD: Using the script provided in the Whisper Sprint (Dec. 2022) to get google/fleurs,
    facebook/voxpopuli and facebook/multilingual_librispeech WERs.'
  created_at: 2022-12-12 15:11:46+00:00
  edited: true
  hidden: false
  id: 639744b24d02e1e04f2e7dc0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T15:13:55.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Let me calculate again on Fleurs removing the -max_eval_samples=16
          and see if I can get a more accurate WER. Are you using a --max_eval_samples=16?</p>

          '
        raw: Let me calculate again on Fleurs removing the -max_eval_samples=16 and
          see if I can get a more accurate WER. Are you using a --max_eval_samples=16?
        updatedAt: '2022-12-12T15:13:55.929Z'
      numEdits: 0
      reactions: []
    id: 639745334d02e1e04f2e94ee
    type: comment
  author: juancopi81
  content: Let me calculate again on Fleurs removing the -max_eval_samples=16 and
    see if I can get a more accurate WER. Are you using a --max_eval_samples=16?
  created_at: 2022-12-12 15:13:55+00:00
  edited: false
  hidden: false
  id: 639745334d02e1e04f2e94ee
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T15:14:37.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Oh I just read your readme file, I notice you removed the max_eval_samples</p>

          '
        raw: Oh I just read your readme file, I notice you removed the max_eval_samples
        updatedAt: '2022-12-12T15:14:37.216Z'
      numEdits: 0
      reactions: []
    id: 6397455df74f697677e2f70d
    type: comment
  author: juancopi81
  content: Oh I just read your readme file, I notice you removed the max_eval_samples
  created_at: 2022-12-12 15:14:37+00:00
  edited: false
  hidden: false
  id: 6397455df74f697677e2f70d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
      fullname: D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepdml
      type: user
    createdAt: '2022-12-12T15:17:41.000Z'
    data:
      edited: false
      editors:
      - deepdml
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
          fullname: D
          isHf: false
          isPro: false
          name: deepdml
          type: user
        html: '<p>Yes, I''ve removed it and running on Google Colab takes about 1h15min..</p>

          <pre><code class="language-python">python run_eval_whisper_streaming.py
          --model_id=<span class="hljs-string">"deepdml/whisper-medium-mix-es"</span>
          --dataset=<span class="hljs-string">"google/fleurs"</span> --config=<span
          class="hljs-string">"es_419"</span> --device=<span class="hljs-number">0</span>
          --language=<span class="hljs-string">"es"</span>

          </code></pre>

          '
        raw: 'Yes, I''ve removed it and running on Google Colab takes about 1h15min..


          ```python

          python run_eval_whisper_streaming.py --model_id="deepdml/whisper-medium-mix-es"
          --dataset="google/fleurs" --config="es_419" --device=0 --language="es"

          ```'
        updatedAt: '2022-12-12T15:17:41.427Z'
      numEdits: 0
      reactions: []
    id: 63974615d9d71fb92185fa52
    type: comment
  author: deepdml
  content: 'Yes, I''ve removed it and running on Google Colab takes about 1h15min..


    ```python

    python run_eval_whisper_streaming.py --model_id="deepdml/whisper-medium-mix-es"
    --dataset="google/fleurs" --config="es_419" --device=0 --language="es"

    ```'
  created_at: 2022-12-12 15:17:41+00:00
  edited: false
  hidden: false
  id: 63974615d9d71fb92185fa52
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T15:28:50.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Thank you very much! I''m running it again removing that in Colab.
          I''ll report the results :) But yes, I think I am mainly overfitting the
          common-voice I''ll try now interleaving the datasets.</p>

          '
        raw: Thank you very much! I'm running it again removing that in Colab. I'll
          report the results :) But yes, I think I am mainly overfitting the common-voice
          I'll try now interleaving the datasets.
        updatedAt: '2022-12-12T15:28:50.487Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - deepdml
    id: 639748b24d02e1e04f2f30fa
    type: comment
  author: juancopi81
  content: Thank you very much! I'm running it again removing that in Colab. I'll
    report the results :) But yes, I think I am mainly overfitting the common-voice
    I'll try now interleaving the datasets.
  created_at: 2022-12-12 15:28:50+00:00
  edited: false
  hidden: false
  id: 639748b24d02e1e04f2f30fa
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T15:37:23.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Hmmm I just notice that you trained it also using Fleurs and your
          model is showing a  WER on fleurs worse than the one from OpenAI, so even
          mixing the datasets affects the results on Fleurs?</p>

          '
        raw: Hmmm I just notice that you trained it also using Fleurs and your model
          is showing a  WER on fleurs worse than the one from OpenAI, so even mixing
          the datasets affects the results on Fleurs?
        updatedAt: '2022-12-12T15:37:23.248Z'
      numEdits: 0
      reactions: []
    id: 63974ab360352dfc7c984f38
    type: comment
  author: juancopi81
  content: Hmmm I just notice that you trained it also using Fleurs and your model
    is showing a  WER on fleurs worse than the one from OpenAI, so even mixing the
    datasets affects the results on Fleurs?
  created_at: 2022-12-12 15:37:23+00:00
  edited: false
  hidden: false
  id: 63974ab360352dfc7c984f38
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
      fullname: D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepdml
      type: user
    createdAt: '2022-12-12T15:40:46.000Z'
    data:
      edited: false
      editors:
      - deepdml
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
          fullname: D
          isHf: false
          isPro: false
          name: deepdml
          type: user
        html: '<p>It''s seems that. I''m analyzing the predictions on fleurs dataset
          with my model to compare with original OpenAI model.<br>I''ll let you know
          my conclusions too.</p>

          '
        raw: 'It''s seems that. I''m analyzing the predictions on fleurs dataset with
          my model to compare with original OpenAI model.

          I''ll let you know my conclusions too.'
        updatedAt: '2022-12-12T15:40:46.495Z'
      numEdits: 0
      reactions: []
    id: 63974b7e60352dfc7c98701f
    type: comment
  author: deepdml
  content: 'It''s seems that. I''m analyzing the predictions on fleurs dataset with
    my model to compare with original OpenAI model.

    I''ll let you know my conclusions too.'
  created_at: 2022-12-12 15:40:46+00:00
  edited: false
  hidden: false
  id: 63974b7e60352dfc7c98701f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T15:42:51.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Thank you!!</p>

          '
        raw: Thank you!!
        updatedAt: '2022-12-12T15:42:51.199Z'
      numEdits: 0
      reactions: []
    id: 63974bfb60352dfc7c98845e
    type: comment
  author: juancopi81
  content: Thank you!!
  created_at: 2022-12-12 15:42:51+00:00
  edited: false
  hidden: false
  id: 63974bfb60352dfc7c98845e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-12T16:35:26.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>oh I just run it again in this model juancopi81/whisper-medium-es
          removing the max_eval_samples and it gave me a better WER score on fleurs
          of 5.88, I''ll try with the other models and see what happens.</p>

          '
        raw: oh I just run it again in this model juancopi81/whisper-medium-es removing
          the max_eval_samples and it gave me a better WER score on fleurs of 5.88,
          I'll try with the other models and see what happens.
        updatedAt: '2022-12-12T16:35:26.629Z'
      numEdits: 0
      reactions: []
    id: 6397584e998a6125722159b8
    type: comment
  author: juancopi81
  content: oh I just run it again in this model juancopi81/whisper-medium-es removing
    the max_eval_samples and it gave me a better WER score on fleurs of 5.88, I'll
    try with the other models and see what happens.
  created_at: 2022-12-12 16:35:26+00:00
  edited: false
  hidden: false
  id: 6397584e998a6125722159b8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
      fullname: D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepdml
      type: user
    createdAt: '2022-12-16T09:53:44.000Z'
    data:
      edited: false
      editors:
      - deepdml
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
          fullname: D
          isHf: false
          isPro: false
          name: deepdml
          type: user
        html: "<p>Ok, after checking fleurs test predictions I discover that the reference\
          \ transcriptions are not 100% accurate... Some examples:</p>\n<p>The correct\
          \ sentece is \"fue tanta la gente que se concentr\xF3 que no todos pudieron\
          \ acceder al funeral en la plaza san pedro\" like the prediction.<br><a\
          \ rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/1671184137058-605a62a8935268bc086131b2.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/1671184137058-605a62a8935268bc086131b2.png\"\
          ></a></p>\n<p>The correct sentence is \"los autobuses parten de la estaci\xF3\
          n entre distritos al otro lado del r\xEDo durante todo el d\xEDa aunque\
          \ la mayor\xEDa en especial los que viajan al este y a jakar tambi\xE9n\
          \ llamada bumthang salen entre las 6 30 y las 7 h\"<br><a rel=\"nofollow\"\
          \ href=\"https://cdn-uploads.huggingface.co/production/uploads/1671184279951-605a62a8935268bc086131b2.png\"\
          ><img alt=\"image.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/1671184279951-605a62a8935268bc086131b2.png\"\
          ></a></p>\n<p>Another problem is related with numbers, maybe we need to\
          \ set a normalization because in some cases the model predicts the digit\
          \ version and in other cases write it.</p>\n<p>So for the above reasons\
          \ we have a high WER on google/fleurs dataset.</p>\n"
        raw: "Ok, after checking fleurs test predictions I discover that the reference\
          \ transcriptions are not 100% accurate... Some examples:\n\nThe correct\
          \ sentece is \"fue tanta la gente que se concentr\xF3 que no todos pudieron\
          \ acceder al funeral en la plaza san pedro\" like the prediction.\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1671184137058-605a62a8935268bc086131b2.png)\n\
          \nThe correct sentence is \"los autobuses parten de la estaci\xF3n entre\
          \ distritos al otro lado del r\xEDo durante todo el d\xEDa aunque la mayor\xED\
          a en especial los que viajan al este y a jakar tambi\xE9n llamada bumthang\
          \ salen entre las 6 30 y las 7 h\"\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1671184279951-605a62a8935268bc086131b2.png)\n\
          \nAnother problem is related with numbers, maybe we need to set a normalization\
          \ because in some cases the model predicts the digit version and in other\
          \ cases write it.\n\nSo for the above reasons we have a high WER on google/fleurs\
          \ dataset."
        updatedAt: '2022-12-16T09:53:44.826Z'
      numEdits: 0
      reactions: []
    id: 639c40287432f2f5d16bf8d0
    type: comment
  author: deepdml
  content: "Ok, after checking fleurs test predictions I discover that the reference\
    \ transcriptions are not 100% accurate... Some examples:\n\nThe correct sentece\
    \ is \"fue tanta la gente que se concentr\xF3 que no todos pudieron acceder al\
    \ funeral en la plaza san pedro\" like the prediction.\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1671184137058-605a62a8935268bc086131b2.png)\n\
    \nThe correct sentence is \"los autobuses parten de la estaci\xF3n entre distritos\
    \ al otro lado del r\xEDo durante todo el d\xEDa aunque la mayor\xEDa en especial\
    \ los que viajan al este y a jakar tambi\xE9n llamada bumthang salen entre las\
    \ 6 30 y las 7 h\"\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/1671184279951-605a62a8935268bc086131b2.png)\n\
    \nAnother problem is related with numbers, maybe we need to set a normalization\
    \ because in some cases the model predicts the digit version and in other cases\
    \ write it.\n\nSo for the above reasons we have a high WER on google/fleurs dataset."
  created_at: 2022-12-16 09:53:44+00:00
  edited: false
  hidden: false
  id: 639c40287432f2f5d16bf8d0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-16T12:19:21.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Ah ok, so I am understanding our WER on google/fleurs is better
          than the one reported by the script right? That''s important! Also, the
          model is already very good at Spanish, I think that''s why is difficult
          to improve it without overfitting, but for that we should have a way to
          measure it''s performance but it seems that fleurs dataset has some problems.</p>

          '
        raw: Ah ok, so I am understanding our WER on google/fleurs is better than
          the one reported by the script right? That's important! Also, the model
          is already very good at Spanish, I think that's why is difficult to improve
          it without overfitting, but for that we should have a way to measure it's
          performance but it seems that fleurs dataset has some problems.
        updatedAt: '2022-12-16T12:19:21.609Z'
      numEdits: 0
      reactions: []
    id: 639c62498a34ed9a404b2dd6
    type: comment
  author: juancopi81
  content: Ah ok, so I am understanding our WER on google/fleurs is better than the
    one reported by the script right? That's important! Also, the model is already
    very good at Spanish, I think that's why is difficult to improve it without overfitting,
    but for that we should have a way to measure it's performance but it seems that
    fleurs dataset has some problems.
  created_at: 2022-12-16 12:19:21+00:00
  edited: false
  hidden: false
  id: 639c62498a34ed9a404b2dd6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
      fullname: D
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: deepdml
      type: user
    createdAt: '2022-12-16T12:23:55.000Z'
    data:
      edited: true
      editors:
      - deepdml
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1670942308961-605a62a8935268bc086131b2.jpeg?w=200&h=200&f=face
          fullname: D
          isHf: false
          isPro: false
          name: deepdml
          type: user
        html: '<p>Ah ok, so I am understanding our WER on google/fleurs is better
          than the one reported by the script right? &gt; Yeah</p>

          <p>I''ve been comparing also your best medium spanish model on the leaderboard,
          <a href="https://huggingface.co/juancopi81/whisper-medium-es">whisper-medium-es</a>,
          and it looks like having done fine tuning only with common-voice-11 produces
          an overfitting. My model, <a href="https://huggingface.co/deepdml/whisper-medium-mix-es">whisper-medium-mix-es</a>,
          was trained with cv11+fleurs+voxpouli+mls and it seems more robuts:<br><a
          rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/1671193428602-605a62a8935268bc086131b2.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/1671193428602-605a62a8935268bc086131b2.png"></a></p>

          '
        raw: 'Ah ok, so I am understanding our WER on google/fleurs is better than
          the one reported by the script right? > Yeah


          I''ve been comparing also your best medium spanish model on the leaderboard,
          [whisper-medium-es](https://huggingface.co/juancopi81/whisper-medium-es),
          and it looks like having done fine tuning only with common-voice-11 produces
          an overfitting. My model, [whisper-medium-mix-es](https://huggingface.co/deepdml/whisper-medium-mix-es),
          was trained with cv11+fleurs+voxpouli+mls and it seems more robuts:

          ![image.png](https://cdn-uploads.huggingface.co/production/uploads/1671193428602-605a62a8935268bc086131b2.png)'
        updatedAt: '2022-12-16T12:25:54.800Z'
      numEdits: 1
      reactions: []
    id: 639c635b1c597f893b6b16f9
    type: comment
  author: deepdml
  content: 'Ah ok, so I am understanding our WER on google/fleurs is better than the
    one reported by the script right? > Yeah


    I''ve been comparing also your best medium spanish model on the leaderboard, [whisper-medium-es](https://huggingface.co/juancopi81/whisper-medium-es),
    and it looks like having done fine tuning only with common-voice-11 produces an
    overfitting. My model, [whisper-medium-mix-es](https://huggingface.co/deepdml/whisper-medium-mix-es),
    was trained with cv11+fleurs+voxpouli+mls and it seems more robuts:

    ![image.png](https://cdn-uploads.huggingface.co/production/uploads/1671193428602-605a62a8935268bc086131b2.png)'
  created_at: 2022-12-16 12:23:55+00:00
  edited: true
  hidden: false
  id: 639c635b1c597f893b6b16f9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-16T12:44:27.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>Oh yes, I think that model is very specialized in CV-11. I also
          fine-tuned other with CV+fleurs: <a href="https://huggingface.co/juancopi81/whisper-medium-es-common-fleurs">juancopi81/whisper-medium-es-common-fleurs</a>.
          It has better results in fleurs (I think 4,44) but a little worse in CV
          (6,07). I am unsure about the results in the other datasets, I haven''t
          run the script. Also, since the other datasets had a different structure
          (uncased, punctuation), I did not add them, so it learns case and punctuation.
          How did you handle that?</p>

          '
        raw: 'Oh yes, I think that model is very specialized in CV-11. I also fine-tuned
          other with CV+fleurs: [juancopi81/whisper-medium-es-common-fleurs](https://huggingface.co/juancopi81/whisper-medium-es-common-fleurs).
          It has better results in fleurs (I think 4,44) but a little worse in CV
          (6,07). I am unsure about the results in the other datasets, I haven''t
          run the script. Also, since the other datasets had a different structure
          (uncased, punctuation), I did not add them, so it learns case and punctuation.
          How did you handle that?'
        updatedAt: '2022-12-16T12:44:27.628Z'
      numEdits: 0
      reactions: []
    id: 639c682b8a34ed9a404bc616
    type: comment
  author: juancopi81
  content: 'Oh yes, I think that model is very specialized in CV-11. I also fine-tuned
    other with CV+fleurs: [juancopi81/whisper-medium-es-common-fleurs](https://huggingface.co/juancopi81/whisper-medium-es-common-fleurs).
    It has better results in fleurs (I think 4,44) but a little worse in CV (6,07).
    I am unsure about the results in the other datasets, I haven''t run the script.
    Also, since the other datasets had a different structure (uncased, punctuation),
    I did not add them, so it learns case and punctuation. How did you handle that?'
  created_at: 2022-12-16 12:44:27+00:00
  edited: false
  hidden: false
  id: 639c682b8a34ed9a404bc616
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
      fullname: "Juan Carlos Pi\xF1eros"
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: juancopi81
      type: user
    createdAt: '2022-12-16T13:25:16.000Z'
    data:
      edited: false
      editors:
      - juancopi81
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1644587669520-61e17815f28a6640312005db.png?w=200&h=200&f=face
          fullname: "Juan Carlos Pi\xF1eros"
          isHf: false
          isPro: false
          name: juancopi81
          type: user
        html: '<p>I also notice that the script is using the transcription column
          and not the raw_string. I wanted the model to learnt case and punctuation,
          so I trained it using raw_string from fleurs plus CV. So I do not know if
          this is also that could affect the evaluation results in other datasets.</p>

          '
        raw: I also notice that the script is using the transcription column and not
          the raw_string. I wanted the model to learnt case and punctuation, so I
          trained it using raw_string from fleurs plus CV. So I do not know if this
          is also that could affect the evaluation results in other datasets.
        updatedAt: '2022-12-16T13:25:16.949Z'
      numEdits: 0
      reactions: []
    id: 639c71bc1c597f893b6c8df7
    type: comment
  author: juancopi81
  content: I also notice that the script is using the transcription column and not
    the raw_string. I wanted the model to learnt case and punctuation, so I trained
    it using raw_string from fleurs plus CV. So I do not know if this is also that
    could affect the evaluation results in other datasets.
  created_at: 2022-12-16 13:25:16+00:00
  edited: false
  hidden: false
  id: 639c71bc1c597f893b6c8df7
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: juancopi81/whisper-medium-es-train-valid
repo_type: model
status: open
target_branch: null
title: Higher WER on fleurs dataset
