!!python/object:huggingface_hub.community.DiscussionWithDetails
author: iwiwi
conflicting_files: []
created_at: 2023-11-13 07:45:20+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T06:02:54.000Z'
    data:
      oid: 4bc99b18f12d1aca844e39a37303f21ba834549e
      parents: []
      subject: initial commit
    id: 6541ea0e0000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 05:02:54+00:00
  id: 6541ea0e0000000000000000
  oid: 4bc99b18f12d1aca844e39a37303f21ba834549e
  summary: initial commit
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T06:31:02.000Z'
    data:
      oid: b0f9a00c946712eb5bc695c47db67c270f026314
      parents:
      - 4bc99b18f12d1aca844e39a37303f21ba834549e
      subject: Update README.md
    id: 6541f0a60000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 05:31:02+00:00
  id: 6541f0a60000000000000000
  oid: b0f9a00c946712eb5bc695c47db67c270f026314
  summary: Update README.md
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T06:36:22.000Z'
    data:
      oid: 24f40c3ed38386550755b04eecde707120e22506
      parents:
      - b0f9a00c946712eb5bc695c47db67c270f026314
      subject: Update README.md
    id: 6541f1e60000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 05:36:22+00:00
  id: 6541f1e60000000000000000
  oid: 24f40c3ed38386550755b04eecde707120e22506
  summary: Update README.md
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T06:47:04.000Z'
    data:
      oid: 33e0f37ed44db4339115308d71b3720f7d25ec77
      parents:
      - 24f40c3ed38386550755b04eecde707120e22506
      subject: Update README.md
    id: 6541f4680000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 05:47:04+00:00
  id: 6541f4680000000000000000
  oid: 33e0f37ed44db4339115308d71b3720f7d25ec77
  summary: Update README.md
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T12:09:21.000Z'
    data:
      oid: 316c9832f987a7b4c5963ee7c08a29683fcf0fd2
      parents:
      - 33e0f37ed44db4339115308d71b3720f7d25ec77
      subject: Upload folder using huggingface_hub
    id: 65423ff10000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 11:09:21+00:00
  id: 65423ff10000000000000000
  oid: 316c9832f987a7b4c5963ee7c08a29683fcf0fd2
  summary: Upload folder using huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T23:56:36.000Z'
    data:
      oid: c992003873b8c6fbf9209a1c837520c3e8370553
      parents:
      - 316c9832f987a7b4c5963ee7c08a29683fcf0fd2
      subject: Upload README.md with huggingface_hub
    id: 6542e5b40000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 22:56:36+00:00
  id: 6542e5b40000000000000000
  oid: c992003873b8c6fbf9209a1c837520c3e8370553
  summary: Upload README.md with huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T23:56:48.000Z'
    data:
      oid: 9967d55db58abee780a851b92bda084582cfd2be
      parents:
      - c992003873b8c6fbf9209a1c837520c3e8370553
      subject: Upload README.md with huggingface_hub
    id: 6542e5c00000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 22:56:48+00:00
  id: 6542e5c00000000000000000
  oid: 9967d55db58abee780a851b92bda084582cfd2be
  summary: Upload README.md with huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T23:57:16.000Z'
    data:
      oid: d5a660ea9e2a929f5a6b9c678068744f86fcd7b5
      parents:
      - 9967d55db58abee780a851b92bda084582cfd2be
      subject: Upload README.md with huggingface_hub
    id: 6542e5dc0000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 22:57:16+00:00
  id: 6542e5dc0000000000000000
  oid: d5a660ea9e2a929f5a6b9c678068744f86fcd7b5
  summary: Upload README.md with huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T23:58:04.000Z'
    data:
      oid: 4e2535bbc71424cb2006d04c4f9d3f835bfa8cbd
      parents:
      - d5a660ea9e2a929f5a6b9c678068744f86fcd7b5
      subject: Upload README.md with huggingface_hub
    id: 6542e60c0000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 22:58:04+00:00
  id: 6542e60c0000000000000000
  oid: 4e2535bbc71424cb2006d04c4f9d3f835bfa8cbd
  summary: Upload README.md with huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T23:58:15.000Z'
    data:
      oid: 6ddc2a2abe0a65f04a07e6b665423a018ee28b39
      parents:
      - 4e2535bbc71424cb2006d04c4f9d3f835bfa8cbd
      subject: Upload README.md with huggingface_hub
    id: 6542e6170000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 22:58:15+00:00
  id: 6542e6170000000000000000
  oid: 6ddc2a2abe0a65f04a07e6b665423a018ee28b39
  summary: Upload README.md with huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-01T23:59:48.000Z'
    data:
      oid: fdeff8c1d1373d28c339c39ea9f7c815ff5d4a47
      parents:
      - 6ddc2a2abe0a65f04a07e6b665423a018ee28b39
      subject: initial commit
    id: 6542e6740000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-01 22:59:48+00:00
  id: 6542e6740000000000000000
  oid: fdeff8c1d1373d28c339c39ea9f7c815ff5d4a47
  summary: initial commit
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-06T00:10:04.000Z'
    data:
      oid: 29806e1a148dd073a9a6fc2f36864b115f30d3a1
      parents:
      - fdeff8c1d1373d28c339c39ea9f7c815ff5d4a47
      subject: Upload folder using huggingface_hub
    id: 65482edc0000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-06 00:10:04+00:00
  id: 65482edc0000000000000000
  oid: 29806e1a148dd073a9a6fc2f36864b115f30d3a1
  summary: Upload folder using huggingface_hub
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-13T05:52:45.000Z'
    data:
      oid: 2f8b047d7af8a538e5592180cec55807d315f823
      parents:
      - 29806e1a148dd073a9a6fc2f36864b115f30d3a1
      subject: Update LICENSE
    id: 6551b9ad0000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-13 05:52:45+00:00
  id: 6551b9ad0000000000000000
  oid: 2f8b047d7af8a538e5592180cec55807d315f823
  summary: Update LICENSE
  type: commit
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-13T05:53:47.000Z'
    data:
      oid: 815a716c60dd0cf36a5256e6546f35e33077545b
      parents:
      - 2f8b047d7af8a538e5592180cec55807d315f823
      subject: Update README.md
    id: 6551b9eb0000000000000000
    type: commit
  author: mkshing
  created_at: 2023-11-13 05:53:47+00:00
  id: 6551b9eb0000000000000000
  oid: 815a716c60dd0cf36a5256e6546f35e33077545b
  summary: Update README.md
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6482810dba6c556892f6f257/c7-wiVKenXiRtwnRpnjZN.jpeg?w=200&h=200&f=face
      fullname: Takuya Akiba
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: iwiwi
      type: user
    createdAt: '2023-11-13T07:45:20.000Z'
    data:
      edited: false
      editors:
      - iwiwi
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3817935287952423
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6482810dba6c556892f6f257/c7-wiVKenXiRtwnRpnjZN.jpeg?w=200&h=200&f=face
          fullname: Takuya Akiba
          isHf: false
          isPro: false
          name: iwiwi
          type: user
        html: "<p>Without this fix, we encounter the following errors on GPU environments:</p>\n\
          <pre><code>\u276F python3 example.py \nDownloading (\u2026)rocessor_config.json:\
          \ 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588| 477/477 [00:00&lt;00:00, 73.9kB/s]\nTraceback (most\
          \ recent call last):\n  File \"example.py\", line 67, in &lt;module&gt;\n\
          \    image_features = model.get_image_features(**image)\n  File \".../.cache/huggingface/modules/transformers_modules/stabilityai/japanese-stable-clip-vit-l-16/815a716c60dd0cf36a5256e6546f35e33077545b/modeling_japanese_stable_clip.py\"\
          , line 154, in get_image_features\n    vision_outputs = self.vision_model(\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
          , line 573, in forward\n    embedding_output = self.embeddings(\n  File\
          \ \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
          , line 122, in forward\n    embeddings = self.patch_embeddings(pixel_values,\
          \ interpolate_pos_encoding=interpolate_pos_encoding)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
          , line 181, in forward\n    embeddings = self.projection(pixel_values).flatten(2).transpose(1,\
          \ 2)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\"\
          , line 460, in forward\n    return self._conv_forward(input, self.weight,\
          \ self.bias)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\"\
          , line 456, in _conv_forward\n    return F.conv2d(input, weight, bias, self.stride,\n\
          RuntimeError: Input type (torch.cuda.FloatTensor) and weight type (torch.FloatTensor)\
          \ should be the same\n</code></pre>\n"
        raw: "Without this fix, we encounter the following errors on GPU environments:\n\
          \n```\n\u276F python3 example.py \nDownloading (\u2026)rocessor_config.json:\
          \ 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
          \u2588\u2588\u2588| 477/477 [00:00<00:00, 73.9kB/s]\nTraceback (most recent\
          \ call last):\n  File \"example.py\", line 67, in <module>\n    image_features\
          \ = model.get_image_features(**image)\n  File \".../.cache/huggingface/modules/transformers_modules/stabilityai/japanese-stable-clip-vit-l-16/815a716c60dd0cf36a5256e6546f35e33077545b/modeling_japanese_stable_clip.py\"\
          , line 154, in get_image_features\n    vision_outputs = self.vision_model(\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
          , line 573, in forward\n    embedding_output = self.embeddings(\n  File\
          \ \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
          , line 122, in forward\n    embeddings = self.patch_embeddings(pixel_values,\
          \ interpolate_pos_encoding=interpolate_pos_encoding)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
          , line 181, in forward\n    embeddings = self.projection(pixel_values).flatten(2).transpose(1,\
          \ 2)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
          \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
          , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n \
          \ File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\"\
          , line 460, in forward\n    return self._conv_forward(input, self.weight,\
          \ self.bias)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\"\
          , line 456, in _conv_forward\n    return F.conv2d(input, weight, bias, self.stride,\n\
          RuntimeError: Input type (torch.cuda.FloatTensor) and weight type (torch.FloatTensor)\
          \ should be the same\n```"
        updatedAt: '2023-11-13T07:45:20.423Z'
      numEdits: 0
      reactions: []
    id: 6551d4108cc59d5b496680b6
    type: comment
  author: iwiwi
  content: "Without this fix, we encounter the following errors on GPU environments:\n\
    \n```\n\u276F python3 example.py \nDownloading (\u2026)rocessor_config.json: 100%|\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\
    \u2588\u2588\u2588\u2588\u2588\u2588| 477/477 [00:00<00:00, 73.9kB/s]\nTraceback\
    \ (most recent call last):\n  File \"example.py\", line 67, in <module>\n    image_features\
    \ = model.get_image_features(**image)\n  File \".../.cache/huggingface/modules/transformers_modules/stabilityai/japanese-stable-clip-vit-l-16/815a716c60dd0cf36a5256e6546f35e33077545b/modeling_japanese_stable_clip.py\"\
    , line 154, in get_image_features\n    vision_outputs = self.vision_model(\n \
    \ File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
    \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n  File \"\
    /.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
    , line 573, in forward\n    embedding_output = self.embeddings(\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
    \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n  File \"\
    /.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
    , line 122, in forward\n    embeddings = self.patch_embeddings(pixel_values, interpolate_pos_encoding=interpolate_pos_encoding)\n\
    \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
    \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n  File \"\
    /.../.local/lib/python3.8/site-packages/transformers/models/vit/modeling_vit.py\"\
    , line 181, in forward\n    embeddings = self.projection(pixel_values).flatten(2).transpose(1,\
    \ 2)\n  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1518, in _wrapped_call_impl\n    return self._call_impl(*args, **kwargs)\n\
    \  File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/module.py\"\
    , line 1527, in _call_impl\n    return forward_call(*args, **kwargs)\n  File \"\
    /.../.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line 460,\
    \ in forward\n    return self._conv_forward(input, self.weight, self.bias)\n \
    \ File \"/.../.local/lib/python3.8/site-packages/torch/nn/modules/conv.py\", line\
    \ 456, in _conv_forward\n    return F.conv2d(input, weight, bias, self.stride,\n\
    RuntimeError: Input type (torch.cuda.FloatTensor) and weight type (torch.FloatTensor)\
    \ should be the same\n```"
  created_at: 2023-11-13 07:45:20+00:00
  edited: false
  hidden: false
  id: 6551d4108cc59d5b496680b6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionCommit
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6482810dba6c556892f6f257/c7-wiVKenXiRtwnRpnjZN.jpeg?w=200&h=200&f=face
      fullname: Takuya Akiba
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: iwiwi
      type: user
    createdAt: '2023-11-13T07:45:21.000Z'
    data:
      oid: a693c110777304a266d5cf090aa973753c5f0e69
      parents:
      - 815a716c60dd0cf36a5256e6546f35e33077545b
      subject: Fix device errors on GPU environments
    id: 6551d4110000000000000000
    type: commit
  author: iwiwi
  created_at: 2023-11-13 07:45:21+00:00
  id: 6551d4110000000000000000
  oid: a693c110777304a266d5cf090aa973753c5f0e69
  summary: Fix device errors on GPU environments
  type: commit
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-13T07:57:46.000Z'
    data:
      edited: false
      editors:
      - mkshing
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6782536506652832
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
          fullname: Makoto Shing
          isHf: false
          isPro: false
          name: mkshing
          type: user
        html: '<p>Super helpful! Thank you!</p>

          '
        raw: Super helpful! Thank you!
        updatedAt: '2023-11-13T07:57:46.178Z'
      numEdits: 0
      reactions: []
      relatedEventId: 6551d6faf3c79cdaf3d1acc2
    id: 6551d6faf3c79cdaf3d1acbd
    type: comment
  author: mkshing
  content: Super helpful! Thank you!
  created_at: 2023-11-13 07:57:46+00:00
  edited: false
  hidden: false
  id: 6551d6faf3c79cdaf3d1acbd
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/60c2e7747a42b2edc5d2ccf7/5GdUBW1HYEy17orItOqfV.png?w=200&h=200&f=face
      fullname: Makoto Shing
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: mkshing
      type: user
    createdAt: '2023-11-13T07:57:46.000Z'
    data:
      status: merged
    id: 6551d6faf3c79cdaf3d1acc2
    type: status-change
  author: mkshing
  created_at: 2023-11-13 07:57:46+00:00
  id: 6551d6faf3c79cdaf3d1acc2
  new_status: merged
  type: status-change
is_pull_request: true
merge_commit_oid: cb0f1f727e16d4acd8e4e14fb274b6f2671e01e7
num: 1
repo_id: stabilityai/japanese-stable-clip-vit-l-16
repo_type: model
status: merged
target_branch: refs/heads/main
title: Fix device errors on GPU environments
