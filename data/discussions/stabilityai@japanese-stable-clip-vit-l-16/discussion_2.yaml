!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Kohsaku
conflicting_files: null
created_at: 2024-01-12 14:20:37+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/88e7cb6e8e25da7b99f3b616f12adc9a.svg
      fullname: Kohsaku Nishida
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Kohsaku
      type: user
    createdAt: '2024-01-12T14:20:37.000Z'
    data:
      edited: false
      editors:
      - Kohsaku
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7254272699356079
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/88e7cb6e8e25da7b99f3b616f12adc9a.svg
          fullname: Kohsaku Nishida
          isHf: false
          isPro: false
          name: Kohsaku
          type: user
        html: "<p>Thank you for releasing this wonderful module. I am currently attempting\
          \ to fine-tune it on Japanese data in a Colab Pro+ environment, but I encounter\
          \ the following error during training. Upon inspecting the code, I notice\
          \ that the argument logit_scale is being passed to CLIPOutput, but it seems\
          \ that this argument does not exist. I am using version 4.36.2 of the transformers\
          \ library. Any guidance or suggestions to resolve this issue would be greatly\
          \ appreciated.</p>\n<pre><code>~/.cache/huggingface/modules/transformers_modules/stabilityai/japanese-stable-clip-vit-l-16/e08c46e8c46311b5bc8d90928558ae130ca732d7/modeling_japanese_stable_clip.py\
          \ in forward(self, input_ids, pixel_values, attention_mask, position_ids,\
          \ return_loss, output_attentions, output_hidden_states, return_dict)\n \
          \   238             return ((loss,) + output) if loss is not None else output\n\
          \    239 \n--&gt; 240         return CLIPOutput(\n    241             loss=loss,\n\
          \    242             logits_per_image=logits_per_image,\n\nTypeError: CLIPOutput.__init__()\
          \ got an unexpected keyword argument 'logit_scale'\n</code></pre>\n"
        raw: "Thank you for releasing this wonderful module. I am currently attempting\
          \ to fine-tune it on Japanese data in a Colab Pro+ environment, but I encounter\
          \ the following error during training. Upon inspecting the code, I notice\
          \ that the argument logit_scale is being passed to CLIPOutput, but it seems\
          \ that this argument does not exist. I am using version 4.36.2 of the transformers\
          \ library. Any guidance or suggestions to resolve this issue would be greatly\
          \ appreciated.\r\n\r\n```\r\n~/.cache/huggingface/modules/transformers_modules/stabilityai/japanese-stable-clip-vit-l-16/e08c46e8c46311b5bc8d90928558ae130ca732d7/modeling_japanese_stable_clip.py\
          \ in forward(self, input_ids, pixel_values, attention_mask, position_ids,\
          \ return_loss, output_attentions, output_hidden_states, return_dict)\r\n\
          \    238             return ((loss,) + output) if loss is not None else\
          \ output\r\n    239 \r\n--> 240         return CLIPOutput(\r\n    241  \
          \           loss=loss,\r\n    242             logits_per_image=logits_per_image,\r\
          \n\r\nTypeError: CLIPOutput.__init__() got an unexpected keyword argument\
          \ 'logit_scale'\r\n```"
        updatedAt: '2024-01-12T14:20:37.395Z'
      numEdits: 0
      reactions: []
    id: 65a14ab5fb5b6ee1bc039212
    type: comment
  author: Kohsaku
  content: "Thank you for releasing this wonderful module. I am currently attempting\
    \ to fine-tune it on Japanese data in a Colab Pro+ environment, but I encounter\
    \ the following error during training. Upon inspecting the code, I notice that\
    \ the argument logit_scale is being passed to CLIPOutput, but it seems that this\
    \ argument does not exist. I am using version 4.36.2 of the transformers library.\
    \ Any guidance or suggestions to resolve this issue would be greatly appreciated.\r\
    \n\r\n```\r\n~/.cache/huggingface/modules/transformers_modules/stabilityai/japanese-stable-clip-vit-l-16/e08c46e8c46311b5bc8d90928558ae130ca732d7/modeling_japanese_stable_clip.py\
    \ in forward(self, input_ids, pixel_values, attention_mask, position_ids, return_loss,\
    \ output_attentions, output_hidden_states, return_dict)\r\n    238           \
    \  return ((loss,) + output) if loss is not None else output\r\n    239 \r\n-->\
    \ 240         return CLIPOutput(\r\n    241             loss=loss,\r\n    242\
    \             logits_per_image=logits_per_image,\r\n\r\nTypeError: CLIPOutput.__init__()\
    \ got an unexpected keyword argument 'logit_scale'\r\n```"
  created_at: 2024-01-12 14:20:37+00:00
  edited: false
  hidden: false
  id: 65a14ab5fb5b6ee1bc039212
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: stabilityai/japanese-stable-clip-vit-l-16
repo_type: model
status: open
target_branch: null
title: Issue with Fine-Tuning on Colab Pro+ for Japanese Data using Japanese Stable
  CLIP.
