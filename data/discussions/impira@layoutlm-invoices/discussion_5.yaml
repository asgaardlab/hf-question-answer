!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Jack-cpu
conflicting_files: null
created_at: 2023-05-12 13:46:50+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a3ebee34fb27a6133edc0734488b08b6.svg
      fullname: Jack Wick
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Jack-cpu
      type: user
    createdAt: '2023-05-12T14:46:50.000Z'
    data:
      edited: false
      editors:
      - Jack-cpu
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a3ebee34fb27a6133edc0734488b08b6.svg
          fullname: Jack Wick
          isHf: false
          isPro: false
          name: Jack-cpu
          type: user
        html: "<p>Hello,</p>\n<p>I\u2019ve tried to implement docquery with different\
          \ models like impira/layoutlm-invoices but I always have the same error\
          \ (on collab notebook or pycharm, windows or ubuntu always the same):</p>\n\
          <p>Code :<br>from docquery import document, pipeline</p>\n<p>p = pipeline(task=\u2018\
          document-question-answering\u2019, model = \u201Cimpira/layoutlm-invoices\u201D\
          )<br>doc = document.load_document(file)<br>s = p(question=\u201CWhat is\
          \ the invoice number?\u201D, **doc.context)</p>\n<p>Error :</p>\n<p>Exception\
          \ Traceback (most recent call last)</p>\n<p>File ~\\Documents\\GitHub\\\
          Llama\\venv\\lib\\site-packages\\transformers\\pipelines\\pt_utils.py:291,\
          \ in PipelinePackIterator.next(self)<br>289 else:<br>290 item = processed<br>\u2192\
          \ 291 is_last = item.pop(\u201Cis_last\u201D)<br>292 accumulator.append(item)<br>293\
          \ return accumulator</p>\n<p>File ~\\Documents\\GitHub\\Llama\\venv\\lib\\\
          site-packages\\transformers\\utils\\generic.py:310, in ModelOutput.pop(self,\
          \ *args, **kwargs)<br>309 def pop(self, *args, **kwargs):<br>\u2192 310\
          \ raise Exception(f\"You cannot use pop on a {self.class.name} instance.\"\
          )</p>\n<p>Exception: You cannot use pop on a ModelOutput instance.</p>\n\
          <p>Thank you for your help.</p>\n"
        raw: "Hello,\r\n\r\nI\u2019ve tried to implement docquery with different models\
          \ like impira/layoutlm-invoices but I always have the same error (on collab\
          \ notebook or pycharm, windows or ubuntu always the same):\r\n\r\nCode :\r\
          \nfrom docquery import document, pipeline\r\n\r\np = pipeline(task=\u2018\
          document-question-answering\u2019, model = \u201Cimpira/layoutlm-invoices\u201D\
          )\r\ndoc = document.load_document(file)\r\ns = p(question=\u201CWhat is\
          \ the invoice number?\u201D, **doc.context)\r\n\r\nError :\r\n\r\nException\
          \ Traceback (most recent call last)\r\n\r\nFile ~\\Documents\\GitHub\\Llama\\\
          venv\\lib\\site-packages\\transformers\\pipelines\\pt_utils.py:291, in PipelinePackIterator.next(self)\r\
          \n289 else:\r\n290 item = processed\r\n\u2192 291 is_last = item.pop(\u201C\
          is_last\u201D)\r\n292 accumulator.append(item)\r\n293 return accumulator\r\
          \n\r\nFile ~\\Documents\\GitHub\\Llama\\venv\\lib\\site-packages\\transformers\\\
          utils\\generic.py:310, in ModelOutput.pop(self, *args, **kwargs)\r\n309\
          \ def pop(self, *args, **kwargs):\r\n\u2192 310 raise Exception(f\"You cannot\
          \ use pop on a {self.class.name} instance.\")\r\n\r\nException: You cannot\
          \ use pop on a ModelOutput instance.\r\n\r\nThank you for your help."
        updatedAt: '2023-05-12T14:46:50.157Z'
      numEdits: 0
      reactions: []
    id: 645e515a3b6d85c65e8afa10
    type: comment
  author: Jack-cpu
  content: "Hello,\r\n\r\nI\u2019ve tried to implement docquery with different models\
    \ like impira/layoutlm-invoices but I always have the same error (on collab notebook\
    \ or pycharm, windows or ubuntu always the same):\r\n\r\nCode :\r\nfrom docquery\
    \ import document, pipeline\r\n\r\np = pipeline(task=\u2018document-question-answering\u2019\
    , model = \u201Cimpira/layoutlm-invoices\u201D)\r\ndoc = document.load_document(file)\r\
    \ns = p(question=\u201CWhat is the invoice number?\u201D, **doc.context)\r\n\r\
    \nError :\r\n\r\nException Traceback (most recent call last)\r\n\r\nFile ~\\Documents\\\
    GitHub\\Llama\\venv\\lib\\site-packages\\transformers\\pipelines\\pt_utils.py:291,\
    \ in PipelinePackIterator.next(self)\r\n289 else:\r\n290 item = processed\r\n\u2192\
    \ 291 is_last = item.pop(\u201Cis_last\u201D)\r\n292 accumulator.append(item)\r\
    \n293 return accumulator\r\n\r\nFile ~\\Documents\\GitHub\\Llama\\venv\\lib\\\
    site-packages\\transformers\\utils\\generic.py:310, in ModelOutput.pop(self, *args,\
    \ **kwargs)\r\n309 def pop(self, *args, **kwargs):\r\n\u2192 310 raise Exception(f\"\
    You cannot use pop on a {self.class.name} instance.\")\r\n\r\nException: You cannot\
    \ use pop on a ModelOutput instance.\r\n\r\nThank you for your help."
  created_at: 2023-05-12 13:46:50+00:00
  edited: false
  hidden: false
  id: 645e515a3b6d85c65e8afa10
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/a3ebee34fb27a6133edc0734488b08b6.svg
      fullname: Jack Wick
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Jack-cpu
      type: user
    createdAt: '2023-07-23T13:33:00.000Z'
    data:
      status: closed
    id: 64bd2c0c86e7fb5b8a5f428d
    type: status-change
  author: Jack-cpu
  created_at: 2023-07-23 12:33:00+00:00
  id: 64bd2c0c86e7fb5b8a5f428d
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 5
repo_id: impira/layoutlm-invoices
repo_type: model
status: closed
target_branch: null
title: 'Error on pipeline with docquery '
