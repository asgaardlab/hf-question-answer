!!python/object:huggingface_hub.community.DiscussionWithDetails
author: coldpumpkinn
conflicting_files: null
created_at: 2023-07-27 12:02:15+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d0d6afae6ebfda1bd3888c6b928e657.svg
      fullname: ChanhoPark
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: coldpumpkinn
      type: user
    createdAt: '2023-07-27T13:02:15.000Z'
    data:
      edited: false
      editors:
      - coldpumpkinn
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9186739921569824
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d0d6afae6ebfda1bd3888c6b928e657.svg
          fullname: ChanhoPark
          isHf: false
          isPro: false
          name: coldpumpkinn
          type: user
        html: "<p>Hello, I am a college student who is conducting a voice classification\
          \ study. I am currently working on fin-tuning of the ast model. But there's\
          \ a problem, and the dataset I have is not learning properly. The problem\
          \ is trainer.train(), but I wonder what the shape of the dataset of train_dataset\
          \ in trainer.train() is when fine tuning. Could you please share some things\
          \ that I can help you with, such as sharing or advice? I beg you. Thank\
          \ you.<br><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/G2eeR4BfMrvaZvNHE0ADE.png\"\
          ><img alt=\"\u1109\u1173\u110F\u1173\u1105\u1175\u11AB\u1109\u1163\u11BA\
          \ 2023-07-27 \u110B\u1169\u1112\u116E 9.58.05.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/G2eeR4BfMrvaZvNHE0ADE.png\"\
          ></a></p>\n"
        raw: "Hello, I am a college student who is conducting a voice classification\
          \ study. I am currently working on fin-tuning of the ast model. But there's\
          \ a problem, and the dataset I have is not learning properly. The problem\
          \ is trainer.train(), but I wonder what the shape of the dataset of train_dataset\
          \ in trainer.train() is when fine tuning. Could you please share some things\
          \ that I can help you with, such as sharing or advice? I beg you. Thank\
          \ you.\r\n![\u1109\u1173\u110F\u1173\u1105\u1175\u11AB\u1109\u1163\u11BA\
          \ 2023-07-27 \u110B\u1169\u1112\u116E 9.58.05.png](https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/G2eeR4BfMrvaZvNHE0ADE.png)\r\
          \n"
        updatedAt: '2023-07-27T13:02:15.428Z'
      numEdits: 0
      reactions: []
    id: 64c26ad7cb3d48f66cf9c17a
    type: comment
  author: coldpumpkinn
  content: "Hello, I am a college student who is conducting a voice classification\
    \ study. I am currently working on fin-tuning of the ast model. But there's a\
    \ problem, and the dataset I have is not learning properly. The problem is trainer.train(),\
    \ but I wonder what the shape of the dataset of train_dataset in trainer.train()\
    \ is when fine tuning. Could you please share some things that I can help you\
    \ with, such as sharing or advice? I beg you. Thank you.\r\n![\u1109\u1173\u110F\
    \u1173\u1105\u1175\u11AB\u1109\u1163\u11BA 2023-07-27 \u110B\u1169\u1112\u116E\
    \ 9.58.05.png](https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/G2eeR4BfMrvaZvNHE0ADE.png)\r\
    \n"
  created_at: 2023-07-27 12:02:15+00:00
  edited: false
  hidden: false
  id: 64c26ad7cb3d48f66cf9c17a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/01570ba0402a1613ecbcea1d1089c20a.svg
      fullname: Laura Pouget
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: laura63
      type: user
    createdAt: '2023-07-27T16:58:28.000Z'
    data:
      edited: false
      editors:
      - laura63
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9045460820198059
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/01570ba0402a1613ecbcea1d1089c20a.svg
          fullname: Laura Pouget
          isHf: false
          isPro: false
          name: laura63
          type: user
        html: '<p>Hi,<br>I''d be glad to help you but I''ll need more details...<br>In
          the example I provided my train set was quite small (5868 audios files)
          but in Google Colab (pro) , i''ve still had to used a small batch size (1)
          to avoid OOM error.<br>What do you mean by not leraning properly ? Do you
          have any message error or it is just your metrics that is not improving
          ?<br>My trainer is quite the same as yours. This is my paramis if it can
          help : </p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/KcBtEBl0FmetzOvaL51o5.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/KcBtEBl0FmetzOvaL51o5.png"></a></p>

          '
        raw: "Hi,\nI'd be glad to help you but I'll need more details...\nIn the example\
          \ I provided my train set was quite small (5868 audios files) but in Google\
          \ Colab (pro) , i've still had to used a small batch size (1) to avoid OOM\
          \ error.\nWhat do you mean by not leraning properly ? Do you have any message\
          \ error or it is just your metrics that is not improving ?\nMy trainer is\
          \ quite the same as yours. This is my paramis if it can help : \n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/KcBtEBl0FmetzOvaL51o5.png)\n\
          \n"
        updatedAt: '2023-07-27T16:58:28.143Z'
      numEdits: 0
      reactions: []
    id: 64c2a234049ced9b88dbff4f
    type: comment
  author: laura63
  content: "Hi,\nI'd be glad to help you but I'll need more details...\nIn the example\
    \ I provided my train set was quite small (5868 audios files) but in Google Colab\
    \ (pro) , i've still had to used a small batch size (1) to avoid OOM error.\n\
    What do you mean by not leraning properly ? Do you have any message error or it\
    \ is just your metrics that is not improving ?\nMy trainer is quite the same as\
    \ yours. This is my paramis if it can help : \n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/KcBtEBl0FmetzOvaL51o5.png)\n\
    \n"
  created_at: 2023-07-27 15:58:28+00:00
  edited: false
  hidden: false
  id: 64c2a234049ced9b88dbff4f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d0d6afae6ebfda1bd3888c6b928e657.svg
      fullname: ChanhoPark
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: coldpumpkinn
      type: user
    createdAt: '2023-07-28T06:42:45.000Z'
    data:
      edited: true
      editors:
      - coldpumpkinn
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8260973691940308
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d0d6afae6ebfda1bd3888c6b928e657.svg
          fullname: ChanhoPark
          isHf: false
          isPro: false
          name: coldpumpkinn
          type: user
        html: '<p>There is a message error that you did not learn properly. RuntimeError:
          expected scalar type Long but found Int.</p>

          <p>The first screenshot is the dataset I have. The second capture screen
          is the capture screen that creates encoded_dataset after feature_extractor.
          After that, it''s the same. What I''m curious about is what type of train_dataset
          is. How the labels are organized and arranged</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/t0T7Cmxoqd7dyvm1ih039.png"><img
          alt="1.png" src="https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/t0T7Cmxoqd7dyvm1ih039.png"></a><br><a
          rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/Wc1KUOz7zhcHqIuz7qVZH.png"><img
          alt="2.png" src="https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/Wc1KUOz7zhcHqIuz7qVZH.png"></a></p>

          '
        raw: 'There is a message error that you did not learn properly. RuntimeError:
          expected scalar type Long but found Int.


          The first screenshot is the dataset I have. The second capture screen is
          the capture screen that creates encoded_dataset after feature_extractor.
          After that, it''s the same. What I''m curious about is what type of train_dataset
          is. How the labels are organized and arranged


          ![1.png](https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/t0T7Cmxoqd7dyvm1ih039.png)

          ![2.png](https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/Wc1KUOz7zhcHqIuz7qVZH.png)

          '
        updatedAt: '2023-07-28T06:42:58.734Z'
      numEdits: 1
      reactions: []
    id: 64c363655570719ae2201c6c
    type: comment
  author: coldpumpkinn
  content: 'There is a message error that you did not learn properly. RuntimeError:
    expected scalar type Long but found Int.


    The first screenshot is the dataset I have. The second capture screen is the capture
    screen that creates encoded_dataset after feature_extractor. After that, it''s
    the same. What I''m curious about is what type of train_dataset is. How the labels
    are organized and arranged


    ![1.png](https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/t0T7Cmxoqd7dyvm1ih039.png)

    ![2.png](https://cdn-uploads.huggingface.co/production/uploads/64ae8ccb60ecf778883cafc5/Wc1KUOz7zhcHqIuz7qVZH.png)

    '
  created_at: 2023-07-28 05:42:45+00:00
  edited: true
  hidden: false
  id: 64c363655570719ae2201c6c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/01570ba0402a1613ecbcea1d1089c20a.svg
      fullname: Laura Pouget
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: laura63
      type: user
    createdAt: '2023-07-28T08:43:35.000Z'
    data:
      edited: false
      editors:
      - laura63
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8077935576438904
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/01570ba0402a1613ecbcea1d1089c20a.svg
          fullname: Laura Pouget
          isHf: false
          isPro: false
          name: laura63
          type: user
        html: '<p>well it might be the cause of your problem. I don''t exactly know
          the format of the encoded train dataset. The feature extractor works as
          a transformer to transofrmer the audio file in the format expected by the
          AST but it doesn''t modify the target. Did you encode it previously with
          a ID2label dictionnary ?<br>For instance : </p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/iZ-tQn6ilHhg3XoihiLmV.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/iZ-tQn6ilHhg3XoihiLmV.png"></a></p>

          <p>Also are you sure that you use the feature extractor pretrained for AST
          ?</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/nKAp7H8bbvNwGuK8QPxYM.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/nKAp7H8bbvNwGuK8QPxYM.png"></a></p>

          '
        raw: "well it might be the cause of your problem. I don't exactly know the\
          \ format of the encoded train dataset. The feature extractor works as a\
          \ transformer to transofrmer the audio file in the format expected by the\
          \ AST but it doesn't modify the target. Did you encode it previously with\
          \ a ID2label dictionnary ? \nFor instance : \n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/iZ-tQn6ilHhg3XoihiLmV.png)\n\
          \n\n\nAlso are you sure that you use the feature extractor pretrained for\
          \ AST ?\n\n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/nKAp7H8bbvNwGuK8QPxYM.png)\n\
          \n"
        updatedAt: '2023-07-28T08:43:35.277Z'
      numEdits: 0
      reactions: []
    id: 64c37fb73395771ecbc4808b
    type: comment
  author: laura63
  content: "well it might be the cause of your problem. I don't exactly know the format\
    \ of the encoded train dataset. The feature extractor works as a transformer to\
    \ transofrmer the audio file in the format expected by the AST but it doesn't\
    \ modify the target. Did you encode it previously with a ID2label dictionnary\
    \ ? \nFor instance : \n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/iZ-tQn6ilHhg3XoihiLmV.png)\n\
    \n\n\nAlso are you sure that you use the feature extractor pretrained for AST\
    \ ?\n\n\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/643fdb33388f31f64ccb8302/nKAp7H8bbvNwGuK8QPxYM.png)\n\
    \n"
  created_at: 2023-07-28 07:43:35+00:00
  edited: false
  hidden: false
  id: 64c37fb73395771ecbc4808b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/6d0d6afae6ebfda1bd3888c6b928e657.svg
      fullname: ChanhoPark
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: coldpumpkinn
      type: user
    createdAt: '2023-07-29T11:42:37.000Z'
    data:
      edited: true
      editors:
      - coldpumpkinn
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7155928015708923
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/6d0d6afae6ebfda1bd3888c6b928e657.svg
          fullname: ChanhoPark
          isHf: false
          isPro: false
          name: coldpumpkinn
          type: user
        html: '<p>Yes, I encoded it with id2label.<br>Convert the progressed file
          to google colab and upload it. Can I check it out?</p>

          <p><a rel="nofollow" href="https://drive.google.com/file/d/1vHYEIlXl3X2QCPS0eLSD0NX8kg3E6IFu/view?usp=sharing">https://drive.google.com/file/d/1vHYEIlXl3X2QCPS0eLSD0NX8kg3E6IFu/view?usp=sharing</a></p>

          '
        raw: 'Yes, I encoded it with id2label.

          Convert the progressed file to google colab and upload it. Can I check it
          out?


          https://drive.google.com/file/d/1vHYEIlXl3X2QCPS0eLSD0NX8kg3E6IFu/view?usp=sharing'
        updatedAt: '2023-07-29T11:42:52.711Z'
      numEdits: 1
      reactions: []
    id: 64c4fb2d4c9bebfa6aac2025
    type: comment
  author: coldpumpkinn
  content: 'Yes, I encoded it with id2label.

    Convert the progressed file to google colab and upload it. Can I check it out?


    https://drive.google.com/file/d/1vHYEIlXl3X2QCPS0eLSD0NX8kg3E6IFu/view?usp=sharing'
  created_at: 2023-07-29 10:42:37+00:00
  edited: true
  hidden: false
  id: 64c4fb2d4c9bebfa6aac2025
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: laura63/ast-finetuned-audioset-10-10-0.4593-finetuned-AST
repo_type: model
status: open
target_branch: null
title: plz, help me
