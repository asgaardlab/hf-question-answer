!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dafen
conflicting_files: null
created_at: 2024-01-24 03:32:52+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5d3e8c861245d0e48324a4bcb7921158.svg
      fullname: fenjun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dafen
      type: user
    createdAt: '2024-01-24T03:32:52.000Z'
    data:
      edited: true
      editors:
      - dafen
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9548150300979614
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5d3e8c861245d0e48324a4bcb7921158.svg
          fullname: fenjun
          isHf: false
          isPro: false
          name: dafen
          type: user
        html: "<p>\u6211\u63D0\u4E86\u4E00\u4E2A\u95EE\u9898\uFF0C\u53D1\u73B0\u5728\
          \u540E\u9762\u52A0\u4E0A\\nAssistant:\u6548\u679C\u4F1A\u597D\u5F88\u591A\
          \uFF0C\u53EF\u4EE5\u5E2E\u5FD9\u770B\u4E0B\u5417</p>\n<p>query=\"\"\"\u5C0F\
          \u660E\u7684\u7238\u7238\u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\u5C0F\u660E\
          1992\u5E74\u51FA\u751F\uFF0C\u5927\u513F\u5B50\u53EB\u5927\u6BDB\uFF0C\u4E8C\
          \u513F\u5B50\u53EB\u4E8C\u6BDB\uFF0C\u4ECA\u5E74\u662F2023\u5E74\uFF0C\u8BF7\
          \u95EE\u4E09\u513F\u5B50\u4ECA\u5E74\u591A\u5927\u4E86\"\"\"</p>\n<p>response,\
          \ history = model.chat(tokenizer,f'''{query}\\nAssistant:'''<br>       \
          \             , history=[], temperature=0.01,top_p =0.01,repetition_penalty\
          \ = 1.0,max_new_tokens=1024,do_sample =False)<br>print(response)</p>\n<p>response,\
          \ history = model.chat(tokenizer,query<br>                    , history=[],\
          \ temperature=0.01,top_p =0.01,repetition_penalty = 1.0,max_new_tokens=1024,do_sample\
          \ =False)<br>print(response)</p>\n<p>\u6839\u636E\u9898\u76EE\u63CF\u8FF0\
          \uFF0C\u5C0F\u660E\u7684\u7238\u7238\u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\
          \u5206\u522B\u662F\uFF1A</p>\n<ol>\n<li>\u5927\u513F\u5B50\uFF1A\u5927\u6BDB\
          </li>\n<li>\u4E8C\u513F\u5B50\uFF1A\u4E8C\u6BDB</li>\n<li>\u4E09\u513F\u5B50\
          \uFF1A\u5C0F\u660E</li>\n</ol>\n<p>\u5C0F\u660E\u51FA\u751F\u4E8E1992\u5E74\
          \uFF0C\u4ECA\u5E74\u662F2023\u5E74\uFF0C\u6240\u4EE5\u5C0F\u660E\u4ECA\u5E74\
          \u662F2023 - 1992 = 31\u5C81\u3002</p>\n<p>\u56E0\u6B64\uFF0C\u4E09\u513F\
          \u5B50\u4ECA\u5E7431\u5C81\u3002<br>\u6839\u636E\u9898\u76EE\u63CF\u8FF0\
          \uFF0C\u5C0F\u660E\u7684\u7238\u7238\u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\
          \u5206\u522B\u662F\u8001\u5927\u3001\u8001\u4E8C\u3001\u8001\u4E09\u3002\
          \u5DF2\u77E5\u5C0F\u660E\u51FA\u751F\u4E8E1992\u5E74\uFF0C\u4ECA\u5E74\u662F\
          2023\u5E74\uFF0C\u90A3\u4E48\u5C0F\u660E\u4ECA\u5E74\u662F2023-1992=31\u5C81\
          \u3002</p>\n<p>\u7531\u4E8E\u9898\u76EE\u4E2D\u6CA1\u6709\u7ED9\u51FA\u5927\
          \u6BDB\u548C\u4E8C\u6BDB\u7684\u51FA\u751F\u5E74\u4EFD\uFF0C\u56E0\u6B64\
          \u65E0\u6CD5\u76F4\u63A5\u8BA1\u7B97\u51FA\u4ED6\u4EEC\u7684\u5E74\u9F84\
          \u3002\u4F46\u662F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6839\u636E\u9898\u76EE\
          \u4E2D\u7684\u4FE1\u606F\u63A8\u65AD\u51FA\u4E00\u4E9B\u6709\u7528\u7684\
          \u4FE1\u606F\uFF1A</p>\n<ol>\n<li>\u5927\u6BDB\u662F\u8001\u5927\uFF0C\u6240\
          \u4EE5\u4ED6\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u5C0F\u660E\u5927\u3002\
          </li>\n<li>\u4E8C\u6BDB\u662F\u8001\u4E8C\uFF0C\u6240\u4EE5\u4ED6\u7684\u5E74\
          \u9F84\u5E94\u8BE5\u6BD4\u5927\u6BDB\u5C0F\uFF0C\u4F46\u6BD4\u5C0F\u660E\
          \u5927\u3002</li>\n<li>\u8001\u4E09\u662F\u4E09\u513F\u5B50\uFF0C\u6240\u4EE5\
          \u4ED6\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u4E8C\u6BDB\u5C0F\uFF0C\u4F46\
          \u6BD4\u5C0F\u660E\u5927\u3002</li>\n</ol>\n<p>\u6839\u636E\u4EE5\u4E0A\u4FE1\
          \u606F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA\
          \uFF1A</p>\n<ul>\n<li>\u8001\u4E09\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u5C0F\
          \u660E\u5927\uFF0C\u6240\u4EE5\u8001\u4E09\u7684\u5E74\u9F84\u81F3\u5C11\
          \u662F32\u5C81\u3002</li>\n<li>\u8001\u4E09\u7684\u5E74\u9F84\u5E94\u8BE5\
          \u6BD4\u4E8C\u6BDB\u5C0F\uFF0C\u6240\u4EE5\u8001\u4E09\u7684\u5E74\u9F84\
          \u6700\u5927\u53EF\u80FD\u662F32\u5C81\u3002</li>\n</ul>\n<p>\u56E0\u6B64\
          \uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F97\u51FA\u7ED3\u8BBA\uFF1A\u8001\u4E09\
          \u4ECA\u5E74\u5E94\u8BE5\u662F32\u5C81\u3002</p>\n"
        raw: "\u6211\u63D0\u4E86\u4E00\u4E2A\u95EE\u9898\uFF0C\u53D1\u73B0\u5728\u540E\
          \u9762\u52A0\u4E0A\\nAssistant:\u6548\u679C\u4F1A\u597D\u5F88\u591A\uFF0C\
          \u53EF\u4EE5\u5E2E\u5FD9\u770B\u4E0B\u5417\n\n\nquery=\"\"\"\u5C0F\u660E\
          \u7684\u7238\u7238\u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\u5C0F\u660E1992\u5E74\
          \u51FA\u751F\uFF0C\u5927\u513F\u5B50\u53EB\u5927\u6BDB\uFF0C\u4E8C\u513F\
          \u5B50\u53EB\u4E8C\u6BDB\uFF0C\u4ECA\u5E74\u662F2023\u5E74\uFF0C\u8BF7\u95EE\
          \u4E09\u513F\u5B50\u4ECA\u5E74\u591A\u5927\u4E86\"\"\"\n  \nresponse, history\
          \ = model.chat(tokenizer,f'''{query}\\nAssistant:'''\n                 \
          \   , history=[], temperature=0.01,top_p =0.01,repetition_penalty = 1.0,max_new_tokens=1024,do_sample\
          \ =False)\nprint(response)\n\nresponse, history = model.chat(tokenizer,query\n\
          \                    , history=[], temperature=0.01,top_p =0.01,repetition_penalty\
          \ = 1.0,max_new_tokens=1024,do_sample =False)\nprint(response)\n\n\n\n\u6839\
          \u636E\u9898\u76EE\u63CF\u8FF0\uFF0C\u5C0F\u660E\u7684\u7238\u7238\u6709\
          \u4E09\u4E2A\u513F\u5B50\uFF0C\u5206\u522B\u662F\uFF1A\n\n1. \u5927\u513F\
          \u5B50\uFF1A\u5927\u6BDB\n2. \u4E8C\u513F\u5B50\uFF1A\u4E8C\u6BDB\n3. \u4E09\
          \u513F\u5B50\uFF1A\u5C0F\u660E\n\n\u5C0F\u660E\u51FA\u751F\u4E8E1992\u5E74\
          \uFF0C\u4ECA\u5E74\u662F2023\u5E74\uFF0C\u6240\u4EE5\u5C0F\u660E\u4ECA\u5E74\
          \u662F2023 - 1992 = 31\u5C81\u3002\n\n\u56E0\u6B64\uFF0C\u4E09\u513F\u5B50\
          \u4ECA\u5E7431\u5C81\u3002\n\u6839\u636E\u9898\u76EE\u63CF\u8FF0\uFF0C\u5C0F\
          \u660E\u7684\u7238\u7238\u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\u5206\u522B\
          \u662F\u8001\u5927\u3001\u8001\u4E8C\u3001\u8001\u4E09\u3002\u5DF2\u77E5\
          \u5C0F\u660E\u51FA\u751F\u4E8E1992\u5E74\uFF0C\u4ECA\u5E74\u662F2023\u5E74\
          \uFF0C\u90A3\u4E48\u5C0F\u660E\u4ECA\u5E74\u662F2023-1992=31\u5C81\u3002\
          \n\n\n\n\n\u7531\u4E8E\u9898\u76EE\u4E2D\u6CA1\u6709\u7ED9\u51FA\u5927\u6BDB\
          \u548C\u4E8C\u6BDB\u7684\u51FA\u751F\u5E74\u4EFD\uFF0C\u56E0\u6B64\u65E0\
          \u6CD5\u76F4\u63A5\u8BA1\u7B97\u51FA\u4ED6\u4EEC\u7684\u5E74\u9F84\u3002\
          \u4F46\u662F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6839\u636E\u9898\u76EE\u4E2D\
          \u7684\u4FE1\u606F\u63A8\u65AD\u51FA\u4E00\u4E9B\u6709\u7528\u7684\u4FE1\
          \u606F\uFF1A\n\n1. \u5927\u6BDB\u662F\u8001\u5927\uFF0C\u6240\u4EE5\u4ED6\
          \u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u5C0F\u660E\u5927\u3002\n2. \u4E8C\u6BDB\
          \u662F\u8001\u4E8C\uFF0C\u6240\u4EE5\u4ED6\u7684\u5E74\u9F84\u5E94\u8BE5\
          \u6BD4\u5927\u6BDB\u5C0F\uFF0C\u4F46\u6BD4\u5C0F\u660E\u5927\u3002\n3. \u8001\
          \u4E09\u662F\u4E09\u513F\u5B50\uFF0C\u6240\u4EE5\u4ED6\u7684\u5E74\u9F84\
          \u5E94\u8BE5\u6BD4\u4E8C\u6BDB\u5C0F\uFF0C\u4F46\u6BD4\u5C0F\u660E\u5927\
          \u3002\n\n\u6839\u636E\u4EE5\u4E0A\u4FE1\u606F\uFF0C\u6211\u4EEC\u53EF\u4EE5\
          \u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA\uFF1A\n\n- \u8001\u4E09\u7684\u5E74\
          \u9F84\u5E94\u8BE5\u6BD4\u5C0F\u660E\u5927\uFF0C\u6240\u4EE5\u8001\u4E09\
          \u7684\u5E74\u9F84\u81F3\u5C11\u662F32\u5C81\u3002\n- \u8001\u4E09\u7684\
          \u5E74\u9F84\u5E94\u8BE5\u6BD4\u4E8C\u6BDB\u5C0F\uFF0C\u6240\u4EE5\u8001\
          \u4E09\u7684\u5E74\u9F84\u6700\u5927\u53EF\u80FD\u662F32\u5C81\u3002\n\n\
          \u56E0\u6B64\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F97\u51FA\u7ED3\u8BBA\uFF1A\
          \u8001\u4E09\u4ECA\u5E74\u5E94\u8BE5\u662F32\u5C81\u3002"
        updatedAt: '2024-01-24T03:33:38.312Z'
      numEdits: 1
      reactions: []
    id: 65b084e40eef9221e4e1edd1
    type: comment
  author: dafen
  content: "\u6211\u63D0\u4E86\u4E00\u4E2A\u95EE\u9898\uFF0C\u53D1\u73B0\u5728\u540E\
    \u9762\u52A0\u4E0A\\nAssistant:\u6548\u679C\u4F1A\u597D\u5F88\u591A\uFF0C\u53EF\
    \u4EE5\u5E2E\u5FD9\u770B\u4E0B\u5417\n\n\nquery=\"\"\"\u5C0F\u660E\u7684\u7238\
    \u7238\u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\u5C0F\u660E1992\u5E74\u51FA\u751F\uFF0C\
    \u5927\u513F\u5B50\u53EB\u5927\u6BDB\uFF0C\u4E8C\u513F\u5B50\u53EB\u4E8C\u6BDB\
    \uFF0C\u4ECA\u5E74\u662F2023\u5E74\uFF0C\u8BF7\u95EE\u4E09\u513F\u5B50\u4ECA\u5E74\
    \u591A\u5927\u4E86\"\"\"\n  \nresponse, history = model.chat(tokenizer,f'''{query}\\\
    nAssistant:'''\n                    , history=[], temperature=0.01,top_p =0.01,repetition_penalty\
    \ = 1.0,max_new_tokens=1024,do_sample =False)\nprint(response)\n\nresponse, history\
    \ = model.chat(tokenizer,query\n                    , history=[], temperature=0.01,top_p\
    \ =0.01,repetition_penalty = 1.0,max_new_tokens=1024,do_sample =False)\nprint(response)\n\
    \n\n\n\u6839\u636E\u9898\u76EE\u63CF\u8FF0\uFF0C\u5C0F\u660E\u7684\u7238\u7238\
    \u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\u5206\u522B\u662F\uFF1A\n\n1. \u5927\u513F\
    \u5B50\uFF1A\u5927\u6BDB\n2. \u4E8C\u513F\u5B50\uFF1A\u4E8C\u6BDB\n3. \u4E09\u513F\
    \u5B50\uFF1A\u5C0F\u660E\n\n\u5C0F\u660E\u51FA\u751F\u4E8E1992\u5E74\uFF0C\u4ECA\
    \u5E74\u662F2023\u5E74\uFF0C\u6240\u4EE5\u5C0F\u660E\u4ECA\u5E74\u662F2023 - 1992\
    \ = 31\u5C81\u3002\n\n\u56E0\u6B64\uFF0C\u4E09\u513F\u5B50\u4ECA\u5E7431\u5C81\
    \u3002\n\u6839\u636E\u9898\u76EE\u63CF\u8FF0\uFF0C\u5C0F\u660E\u7684\u7238\u7238\
    \u6709\u4E09\u4E2A\u513F\u5B50\uFF0C\u5206\u522B\u662F\u8001\u5927\u3001\u8001\
    \u4E8C\u3001\u8001\u4E09\u3002\u5DF2\u77E5\u5C0F\u660E\u51FA\u751F\u4E8E1992\u5E74\
    \uFF0C\u4ECA\u5E74\u662F2023\u5E74\uFF0C\u90A3\u4E48\u5C0F\u660E\u4ECA\u5E74\u662F\
    2023-1992=31\u5C81\u3002\n\n\n\n\n\u7531\u4E8E\u9898\u76EE\u4E2D\u6CA1\u6709\u7ED9\
    \u51FA\u5927\u6BDB\u548C\u4E8C\u6BDB\u7684\u51FA\u751F\u5E74\u4EFD\uFF0C\u56E0\
    \u6B64\u65E0\u6CD5\u76F4\u63A5\u8BA1\u7B97\u51FA\u4ED6\u4EEC\u7684\u5E74\u9F84\
    \u3002\u4F46\u662F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6839\u636E\u9898\u76EE\u4E2D\
    \u7684\u4FE1\u606F\u63A8\u65AD\u51FA\u4E00\u4E9B\u6709\u7528\u7684\u4FE1\u606F\
    \uFF1A\n\n1. \u5927\u6BDB\u662F\u8001\u5927\uFF0C\u6240\u4EE5\u4ED6\u7684\u5E74\
    \u9F84\u5E94\u8BE5\u6BD4\u5C0F\u660E\u5927\u3002\n2. \u4E8C\u6BDB\u662F\u8001\u4E8C\
    \uFF0C\u6240\u4EE5\u4ED6\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u5927\u6BDB\u5C0F\
    \uFF0C\u4F46\u6BD4\u5C0F\u660E\u5927\u3002\n3. \u8001\u4E09\u662F\u4E09\u513F\u5B50\
    \uFF0C\u6240\u4EE5\u4ED6\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u4E8C\u6BDB\u5C0F\
    \uFF0C\u4F46\u6BD4\u5C0F\u660E\u5927\u3002\n\n\u6839\u636E\u4EE5\u4E0A\u4FE1\u606F\
    \uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F97\u51FA\u4EE5\u4E0B\u7ED3\u8BBA\uFF1A\n\n-\
    \ \u8001\u4E09\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u5C0F\u660E\u5927\uFF0C\u6240\
    \u4EE5\u8001\u4E09\u7684\u5E74\u9F84\u81F3\u5C11\u662F32\u5C81\u3002\n- \u8001\
    \u4E09\u7684\u5E74\u9F84\u5E94\u8BE5\u6BD4\u4E8C\u6BDB\u5C0F\uFF0C\u6240\u4EE5\
    \u8001\u4E09\u7684\u5E74\u9F84\u6700\u5927\u53EF\u80FD\u662F32\u5C81\u3002\n\n\
    \u56E0\u6B64\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5F97\u51FA\u7ED3\u8BBA\uFF1A\u8001\
    \u4E09\u4ECA\u5E74\u5E94\u8BE5\u662F32\u5C81\u3002"
  created_at: 2024-01-24 03:32:52+00:00
  edited: true
  hidden: false
  id: 65b084e40eef9221e4e1edd1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/8UgGWAAYJgn3SJE4DxmWb.jpeg?w=200&h=200&f=face
      fullname: RangiLyu
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: RangiLyu
      type: user
    createdAt: '2024-01-24T06:46:24.000Z'
    data:
      edited: true
      editors:
      - RangiLyu
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.5541083216667175
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/8UgGWAAYJgn3SJE4DxmWb.jpeg?w=200&h=200&f=face
          fullname: RangiLyu
          isHf: false
          isPro: false
          name: RangiLyu
          type: user
        html: "<p><a href=\"https://huggingface.co/internlm/internlm2-chat-20b/blob/main/modeling_internlm2.py#L1144\"\
          >https://huggingface.co/internlm/internlm2-chat-20b/blob/main/modeling_internlm2.py#L1144</a></p>\n\
          <p>\u5982\u679C\u8C03\u7528model.chat\u63A5\u53E3\uFF0C\u4E0A\u9762\u8FD9\
          \u6BB5\u4EE3\u7801\u662F\u4F1A\u81EA\u52A8\u7ED9query\u6DFB\u52A0chatml\u5BF9\
          \u8BDD\u6A21\u677F\u7684assistant\u524D\u7F00\u7684\uFF0C\u4E0D\u9700\u8981\
          \u518D\u624B\u52A8\u6DFB\u52A0assistant\u3002</p>\n"
        raw: "https://huggingface.co/internlm/internlm2-chat-20b/blob/main/modeling_internlm2.py#L1144\n\
          \n\u5982\u679C\u8C03\u7528model.chat\u63A5\u53E3\uFF0C\u4E0A\u9762\u8FD9\
          \u6BB5\u4EE3\u7801\u662F\u4F1A\u81EA\u52A8\u7ED9query\u6DFB\u52A0chatml\u5BF9\
          \u8BDD\u6A21\u677F\u7684assistant\u524D\u7F00\u7684\uFF0C\u4E0D\u9700\u8981\
          \u518D\u624B\u52A8\u6DFB\u52A0assistant\u3002"
        updatedAt: '2024-01-24T06:46:48.356Z'
      numEdits: 2
      reactions: []
    id: 65b0b240a4953b36be47af8a
    type: comment
  author: RangiLyu
  content: "https://huggingface.co/internlm/internlm2-chat-20b/blob/main/modeling_internlm2.py#L1144\n\
    \n\u5982\u679C\u8C03\u7528model.chat\u63A5\u53E3\uFF0C\u4E0A\u9762\u8FD9\u6BB5\
    \u4EE3\u7801\u662F\u4F1A\u81EA\u52A8\u7ED9query\u6DFB\u52A0chatml\u5BF9\u8BDD\u6A21\
    \u677F\u7684assistant\u524D\u7F00\u7684\uFF0C\u4E0D\u9700\u8981\u518D\u624B\u52A8\
    \u6DFB\u52A0assistant\u3002"
  created_at: 2024-01-24 06:46:24+00:00
  edited: true
  hidden: false
  id: 65b0b240a4953b36be47af8a
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 6
repo_id: internlm/internlm2-chat-20b
repo_type: model
status: open
target_branch: null
title: "prompt\u597D\u50CF\u8FD8\u6709\u4E9B\u95EE\u9898"
