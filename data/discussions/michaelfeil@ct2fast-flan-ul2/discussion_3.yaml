!!python/object:huggingface_hub.community.DiscussionWithDetails
author: aastha6
conflicting_files: null
created_at: 2023-07-25 08:13:49+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3d7bed3416c80738e001edd1baf9e218.svg
      fullname: Aastha Varma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: aastha6
      type: user
    createdAt: '2023-07-25T09:13:49.000Z'
    data:
      edited: false
      editors:
      - aastha6
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6176134347915649
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3d7bed3416c80738e001edd1baf9e218.svg
          fullname: Aastha Varma
          isHf: false
          isPro: false
          name: aastha6
          type: user
        html: "<p>Hi,</p>\n<p>I am trying to deploy the model in Sagemaker . Used\
          \ the code as it is from Deploy -&gt; Amazon Sagemaker</p>\n<pre><code class=\"\
          language-code\">import sagemaker\nimport boto3\nfrom sagemaker.huggingface\
          \ import HuggingFaceModel\n\ntry:\n    role = sagemaker.get_execution_role()\n\
          except ValueError:\n    iam = boto3.client('iam')\n    role = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\n\
          \n# Hub Model configuration. https://huggingface.co/models\nhub = {\n  \
          \  'HF_MODEL_ID':'michaelfeil/ct2fast-flan-ul2',\n    'HF_TASK':'undefined'\n\
          }\n\n# create Hugging Face Model Class\nhuggingface_model = HuggingFaceModel(\n\
          \    transformers_version='4.26.0',\n    pytorch_version='1.13.1',\n   \
          \ py_version='py39',\n    env=hub,\n    role=role, \n)\n\n# deploy model\
          \ to SageMaker Inference\npredictor = huggingface_model.deploy(\n    initial_instance_count=1,\
          \ # number of instances\n    instance_type='ml.m5.xlarge' # ec2 instance\
          \ type\n)\n</code></pre>\n<p>I get this error - Should have a <code>model_type</code>\
          \ key in its config.json, or contain one of the following strings in its\
          \ name.</p>\n<p>Any suggestions to fix will be appreciated.<br>Thanks !</p>\n"
        raw: "Hi,\r\n\r\nI am trying to deploy the model in Sagemaker . Used the code\
          \ as it is from Deploy -> Amazon Sagemaker\r\n\r\n```code\r\nimport sagemaker\r\
          \nimport boto3\r\nfrom sagemaker.huggingface import HuggingFaceModel\r\n\
          \r\ntry:\r\n\trole = sagemaker.get_execution_role()\r\nexcept ValueError:\r\
          \n\tiam = boto3.client('iam')\r\n\trole = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\r\
          \n\r\n# Hub Model configuration. https://huggingface.co/models\r\nhub =\
          \ {\r\n\t'HF_MODEL_ID':'michaelfeil/ct2fast-flan-ul2',\r\n\t'HF_TASK':'undefined'\r\
          \n}\r\n\r\n# create Hugging Face Model Class\r\nhuggingface_model = HuggingFaceModel(\r\
          \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\t\
          py_version='py39',\r\n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\n# deploy model\
          \ to SageMaker Inference\r\npredictor = huggingface_model.deploy(\r\n\t\
          initial_instance_count=1, # number of instances\r\n\tinstance_type='ml.m5.xlarge'\
          \ # ec2 instance type\r\n)\r\n```\r\nI get this error - Should have a `model_type`\
          \ key in its config.json, or contain one of the following strings in its\
          \ name.\r\n\r\nAny suggestions to fix will be appreciated.\r\nThanks !\r\
          \n"
        updatedAt: '2023-07-25T09:13:49.110Z'
      numEdits: 0
      reactions: []
    id: 64bf924da0e54710669161db
    type: comment
  author: aastha6
  content: "Hi,\r\n\r\nI am trying to deploy the model in Sagemaker . Used the code\
    \ as it is from Deploy -> Amazon Sagemaker\r\n\r\n```code\r\nimport sagemaker\r\
    \nimport boto3\r\nfrom sagemaker.huggingface import HuggingFaceModel\r\n\r\ntry:\r\
    \n\trole = sagemaker.get_execution_role()\r\nexcept ValueError:\r\n\tiam = boto3.client('iam')\r\
    \n\trole = iam.get_role(RoleName='sagemaker_execution_role')['Role']['Arn']\r\n\
    \r\n# Hub Model configuration. https://huggingface.co/models\r\nhub = {\r\n\t\
    'HF_MODEL_ID':'michaelfeil/ct2fast-flan-ul2',\r\n\t'HF_TASK':'undefined'\r\n}\r\
    \n\r\n# create Hugging Face Model Class\r\nhuggingface_model = HuggingFaceModel(\r\
    \n\ttransformers_version='4.26.0',\r\n\tpytorch_version='1.13.1',\r\n\tpy_version='py39',\r\
    \n\tenv=hub,\r\n\trole=role, \r\n)\r\n\r\n# deploy model to SageMaker Inference\r\
    \npredictor = huggingface_model.deploy(\r\n\tinitial_instance_count=1, # number\
    \ of instances\r\n\tinstance_type='ml.m5.xlarge' # ec2 instance type\r\n)\r\n\
    ```\r\nI get this error - Should have a `model_type` key in its config.json, or\
    \ contain one of the following strings in its name.\r\n\r\nAny suggestions to\
    \ fix will be appreciated.\r\nThanks !\r\n"
  created_at: 2023-07-25 08:13:49+00:00
  edited: false
  hidden: false
  id: 64bf924da0e54710669161db
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/644fac0ce1d7a97f3b653ab1/fottSAPFrJdKeMW2UJv_l.jpeg?w=200&h=200&f=face
      fullname: Michael
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: michaelfeil
      type: user
    createdAt: '2023-07-25T12:27:12.000Z'
    data:
      edited: false
      editors:
      - michaelfeil
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7788591384887695
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/644fac0ce1d7a97f3b653ab1/fottSAPFrJdKeMW2UJv_l.jpeg?w=200&h=200&f=face
          fullname: Michael
          isHf: false
          isPro: false
          name: michaelfeil
          type: user
        html: '<p>This model is not compatible with the transformers Libary. </p>

          <p>Here is an example how to do that with huggingface inference endpoint:
          <a href="https://huggingface.co/anttip/ct2fast-e5-small-v2-hfie">https://huggingface.co/anttip/ct2fast-e5-small-v2-hfie</a></p>

          '
        raw: "This model is not compatible with the transformers Libary. \n\nHere\
          \ is an example how to do that with huggingface inference endpoint: https://huggingface.co/anttip/ct2fast-e5-small-v2-hfie"
        updatedAt: '2023-07-25T12:27:12.303Z'
      numEdits: 0
      reactions: []
    id: 64bfbfa0ee8065ca891daa14
    type: comment
  author: michaelfeil
  content: "This model is not compatible with the transformers Libary. \n\nHere is\
    \ an example how to do that with huggingface inference endpoint: https://huggingface.co/anttip/ct2fast-e5-small-v2-hfie"
  created_at: 2023-07-25 11:27:12+00:00
  edited: false
  hidden: false
  id: 64bfbfa0ee8065ca891daa14
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/3d7bed3416c80738e001edd1baf9e218.svg
      fullname: Aastha Varma
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: aastha6
      type: user
    createdAt: '2023-07-26T08:59:30.000Z'
    data:
      edited: false
      editors:
      - aastha6
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6640762090682983
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/3d7bed3416c80738e001edd1baf9e218.svg
          fullname: Aastha Varma
          isHf: false
          isPro: false
          name: aastha6
          type: user
        html: '<p>Okay, Thanks !</p>

          '
        raw: Okay, Thanks !
        updatedAt: '2023-07-26T08:59:30.263Z'
      numEdits: 0
      reactions: []
    id: 64c0e072bf550559c61484d5
    type: comment
  author: aastha6
  content: Okay, Thanks !
  created_at: 2023-07-26 07:59:30+00:00
  edited: false
  hidden: false
  id: 64c0e072bf550559c61484d5
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: michaelfeil/ct2fast-flan-ul2
repo_type: model
status: open
target_branch: null
title: Not able to deploy in Sagemaker
