!!python/object:huggingface_hub.community.DiscussionWithDetails
author: moumouliu
conflicting_files: null
created_at: 2023-06-27 08:23:09+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/48389b24e854a6d0624fc1f1cb27df06.svg
      fullname: "\u5218\u67D0\u67D0"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: moumouliu
      type: user
    createdAt: '2023-06-27T09:23:09.000Z'
    data:
      edited: false
      editors:
      - moumouliu
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.49069881439208984
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/48389b24e854a6d0624fc1f1cb27df06.svg
          fullname: "\u5218\u67D0\u67D0"
          isHf: false
          isPro: false
          name: moumouliu
          type: user
        html: "<p>\u4F7F\u7528ptuning\u65B9\u6CD5\u5BF9chatglm2-6b\u6A21\u578B\u8FDB\
          \u884C\u5FAE\u8C03\u65F6\u5019\u5FAE\u8C03\u62A5\u9519'ChatGLMModel' object\
          \ has no attribute 'prefix_encoder'\u3002</p>\n"
        raw: "\u4F7F\u7528ptuning\u65B9\u6CD5\u5BF9chatglm2-6b\u6A21\u578B\u8FDB\u884C\
          \u5FAE\u8C03\u65F6\u5019\u5FAE\u8C03\u62A5\u9519'ChatGLMModel' object has\
          \ no attribute 'prefix_encoder'\u3002\r\n"
        updatedAt: '2023-06-27T09:23:09.759Z'
      numEdits: 0
      reactions: []
    id: 649aaa7d8bfa0a6c6107450a
    type: comment
  author: moumouliu
  content: "\u4F7F\u7528ptuning\u65B9\u6CD5\u5BF9chatglm2-6b\u6A21\u578B\u8FDB\u884C\
    \u5FAE\u8C03\u65F6\u5019\u5FAE\u8C03\u62A5\u9519'ChatGLMModel' object has no attribute\
    \ 'prefix_encoder'\u3002\r\n"
  created_at: 2023-06-27 08:23:09+00:00
  edited: false
  hidden: false
  id: 649aaa7d8bfa0a6c6107450a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b8ab48ae6d6d06ab1bd4889170e65785.svg
      fullname: minghui sun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: sunmh207
      type: user
    createdAt: '2023-06-29T16:30:14.000Z'
    data:
      edited: false
      editors:
      - sunmh207
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9947632551193237
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b8ab48ae6d6d06ab1bd4889170e65785.svg
          fullname: minghui sun
          isHf: false
          isPro: false
          name: sunmh207
          type: user
        html: "<p>\u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898</p>\n"
        raw: "\u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898"
        updatedAt: '2023-06-29T16:30:14.718Z'
      numEdits: 0
      reactions: []
    id: 649db1967f1db942f2458b02
    type: comment
  author: sunmh207
  content: "\u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898"
  created_at: 2023-06-29 15:30:14+00:00
  edited: false
  hidden: false
  id: 649db1967f1db942f2458b02
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/48389b24e854a6d0624fc1f1cb27df06.svg
      fullname: "\u5218\u67D0\u67D0"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: moumouliu
      type: user
    createdAt: '2023-06-30T03:23:49.000Z'
    data:
      edited: false
      editors:
      - moumouliu
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4843180477619171
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/48389b24e854a6d0624fc1f1cb27df06.svg
          fullname: "\u5218\u67D0\u67D0"
          isHf: false
          isPro: false
          name: moumouliu
          type: user
        html: "<blockquote>\n<p>\u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\
          \u9898</p>\n</blockquote>\n<p>\u6628\u665A\u6A21\u578B\u66F4\u65B0\u4E86\
          \  \u53EF\u4EE5\u8DDF\u65B0\u6A21\u578B\u4EE3\u7801\u548C\u9879\u76EE\u4EE3\
          \u7801  \u91CD\u65B0\u8BD5\u8BD5 \u4E0D\u8FC7\u53C8\u51FA\u4E86\u65B0\u7684\
          \u62A5\u9519<br>[WARNING|modeling_utils.py:3034] 2023-06-30 10:38:17,622\
          \ &gt;&gt; Some weights of ChatGLMForConditionalGeneration were not initialized\
          \ from the model checkpoint at THUDM/chatglm2-6b and are newly initialized:\
          \ ['transformer.prefix_encoder.embedding.weight']<br>You should probably\
          \ TRAIN this model on a down-stream task to be able to use it for predictions\
          \ and inference.<br>[INFO|modeling_utils.py:2690] 2023-06-30 10:38:17,916\
          \ &gt;&gt; Generation config file not found, using a generation config created\
          \ from the model config.<br>Quantized to 4 bit<br>Traceback (most recent\
          \ call last):<br>  File \"main.py\", line 430, in <br>    main()<br>  File\
          \ \"main.py\", line 248, in main<br>    train_dataset = train_dataset.map(<br>\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 578, in wrapper<br>    out: Union[\"Dataset\",\
          \ \"DatasetDict\"] = func(self, *args, **kwargs)<br>  File \"E:\\ProgramData\\\
          anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\"\
          , line 543, in wrapper<br>    out: Union[\"Dataset\", \"DatasetDict\"] =\
          \ func(self, *args, **kwargs)<br>  File \"E:\\ProgramData\\anaconda3\\envs\\\
          glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\", line 3073, in map<br>\
          \    for rank, done, content in Dataset._map_single(**dataset_kwargs):<br>\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 3449, in _map_single<br>    batch = apply_function_on_filtered_inputs(<br>\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 3330, in apply_function_on_filtered_inputs<br>\
          \    processed_inputs = function(*fn_args, *additional_args, **fn_kwargs)<br>\
          \  File \"main.py\", line 219, in preprocess_function_train<br>    context_length\
          \ = input_ids.index(tokenizer.bos_token_id)<br>ValueError: None is not in\
          \ list</p>\n"
        raw: "> \u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898\n\n\u6628\
          \u665A\u6A21\u578B\u66F4\u65B0\u4E86  \u53EF\u4EE5\u8DDF\u65B0\u6A21\u578B\
          \u4EE3\u7801\u548C\u9879\u76EE\u4EE3\u7801  \u91CD\u65B0\u8BD5\u8BD5 \u4E0D\
          \u8FC7\u53C8\u51FA\u4E86\u65B0\u7684\u62A5\u9519\n[WARNING|modeling_utils.py:3034]\
          \ 2023-06-30 10:38:17,622 >> Some weights of ChatGLMForConditionalGeneration\
          \ were not initialized from the model checkpoint at THUDM/chatglm2-6b and\
          \ are newly initialized: ['transformer.prefix_encoder.embedding.weight']\n\
          You should probably TRAIN this model on a down-stream task to be able to\
          \ use it for predictions and inference.\n[INFO|modeling_utils.py:2690] 2023-06-30\
          \ 10:38:17,916 >> Generation config file not found, using a generation config\
          \ created from the model config.\nQuantized to 4 bit\nTraceback (most recent\
          \ call last):\n  File \"main.py\", line 430, in <module>\n    main()\n \
          \ File \"main.py\", line 248, in main\n    train_dataset = train_dataset.map(\n\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 578, in wrapper\n    out: Union[\"Dataset\", \"\
          DatasetDict\"] = func(self, *args, **kwargs)\n  File \"E:\\ProgramData\\\
          anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\"\
          , line 543, in wrapper\n    out: Union[\"Dataset\", \"DatasetDict\"] = func(self,\
          \ *args, **kwargs)\n  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\\
          site-packages\\datasets\\arrow_dataset.py\", line 3073, in map\n    for\
          \ rank, done, content in Dataset._map_single(**dataset_kwargs):\n  File\
          \ \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 3449, in _map_single\n    batch = apply_function_on_filtered_inputs(\n\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 3330, in apply_function_on_filtered_inputs\n  \
          \  processed_inputs = function(*fn_args, *additional_args, **fn_kwargs)\n\
          \  File \"main.py\", line 219, in preprocess_function_train\n    context_length\
          \ = input_ids.index(tokenizer.bos_token_id)\nValueError: None is not in\
          \ list\n"
        updatedAt: '2023-06-30T03:23:49.883Z'
      numEdits: 0
      reactions: []
    id: 649e4ac5c341068cd9637e37
    type: comment
  author: moumouliu
  content: "> \u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898\n\n\u6628\
    \u665A\u6A21\u578B\u66F4\u65B0\u4E86  \u53EF\u4EE5\u8DDF\u65B0\u6A21\u578B\u4EE3\
    \u7801\u548C\u9879\u76EE\u4EE3\u7801  \u91CD\u65B0\u8BD5\u8BD5 \u4E0D\u8FC7\u53C8\
    \u51FA\u4E86\u65B0\u7684\u62A5\u9519\n[WARNING|modeling_utils.py:3034] 2023-06-30\
    \ 10:38:17,622 >> Some weights of ChatGLMForConditionalGeneration were not initialized\
    \ from the model checkpoint at THUDM/chatglm2-6b and are newly initialized: ['transformer.prefix_encoder.embedding.weight']\n\
    You should probably TRAIN this model on a down-stream task to be able to use it\
    \ for predictions and inference.\n[INFO|modeling_utils.py:2690] 2023-06-30 10:38:17,916\
    \ >> Generation config file not found, using a generation config created from\
    \ the model config.\nQuantized to 4 bit\nTraceback (most recent call last):\n\
    \  File \"main.py\", line 430, in <module>\n    main()\n  File \"main.py\", line\
    \ 248, in main\n    train_dataset = train_dataset.map(\n  File \"E:\\ProgramData\\\
    anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\", line\
    \ 578, in wrapper\n    out: Union[\"Dataset\", \"DatasetDict\"] = func(self, *args,\
    \ **kwargs)\n  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\\
    datasets\\arrow_dataset.py\", line 543, in wrapper\n    out: Union[\"Dataset\"\
    , \"DatasetDict\"] = func(self, *args, **kwargs)\n  File \"E:\\ProgramData\\anaconda3\\\
    envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\", line 3073, in map\n\
    \    for rank, done, content in Dataset._map_single(**dataset_kwargs):\n  File\
    \ \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\"\
    , line 3449, in _map_single\n    batch = apply_function_on_filtered_inputs(\n\
    \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
    arrow_dataset.py\", line 3330, in apply_function_on_filtered_inputs\n    processed_inputs\
    \ = function(*fn_args, *additional_args, **fn_kwargs)\n  File \"main.py\", line\
    \ 219, in preprocess_function_train\n    context_length = input_ids.index(tokenizer.bos_token_id)\n\
    ValueError: None is not in list\n"
  created_at: 2023-06-30 02:23:49+00:00
  edited: false
  hidden: false
  id: 649e4ac5c341068cd9637e37
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/75ee555ea0e1b420ee06cc94979664fc.svg
      fullname: Leekinxun
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: LeeKinXUn
      type: user
    createdAt: '2023-07-06T02:17:01.000Z'
    data:
      edited: false
      editors:
      - LeeKinXUn
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4408125579357147
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/75ee555ea0e1b420ee06cc94979664fc.svg
          fullname: Leekinxun
          isHf: false
          isPro: false
          name: LeeKinXUn
          type: user
        html: "<blockquote>\n<blockquote>\n<p>\u6211\u4E5F\u9047\u5230\u4E86\u540C\
          \u6837\u7684\u95EE\u9898</p>\n</blockquote>\n<p>\u6628\u665A\u6A21\u578B\
          \u66F4\u65B0\u4E86  \u53EF\u4EE5\u8DDF\u65B0\u6A21\u578B\u4EE3\u7801\u548C\
          \u9879\u76EE\u4EE3\u7801  \u91CD\u65B0\u8BD5\u8BD5 \u4E0D\u8FC7\u53C8\u51FA\
          \u4E86\u65B0\u7684\u62A5\u9519<br>[WARNING|modeling_utils.py:3034] 2023-06-30\
          \ 10:38:17,622 &gt;&gt; Some weights of ChatGLMForConditionalGeneration\
          \ were not initialized from the model checkpoint at THUDM/chatglm2-6b and\
          \ are newly initialized: ['transformer.prefix_encoder.embedding.weight']<br>You\
          \ should probably TRAIN this model on a down-stream task to be able to use\
          \ it for predictions and inference.<br>[INFO|modeling_utils.py:2690] 2023-06-30\
          \ 10:38:17,916 &gt;&gt; Generation config file not found, using a generation\
          \ config created from the model config.<br>Quantized to 4 bit<br>Traceback\
          \ (most recent call last):<br>  File \"main.py\", line 430, in <br>    main()<br>\
          \  File \"main.py\", line 248, in main<br>    train_dataset = train_dataset.map(<br>\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 578, in wrapper<br>    out: Union[\"Dataset\",\
          \ \"DatasetDict\"] = func(self, *args, **kwargs)<br>  File \"E:\\ProgramData\\\
          anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\"\
          , line 543, in wrapper<br>    out: Union[\"Dataset\", \"DatasetDict\"] =\
          \ func(self, *args, **kwargs)<br>  File \"E:\\ProgramData\\anaconda3\\envs\\\
          glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\", line 3073, in map<br>\
          \    for rank, done, content in Dataset._map_single(**dataset_kwargs):<br>\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 3449, in _map_single<br>    batch = apply_function_on_filtered_inputs(<br>\
          \  File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
          arrow_dataset.py\", line 3330, in apply_function_on_filtered_inputs<br>\
          \    processed_inputs = function(*fn_args, *additional_args, **fn_kwargs)<br>\
          \  File \"main.py\", line 219, in preprocess_function_train<br>    context_length\
          \ = input_ids.index(tokenizer.bos_token_id)<br>ValueError: None is not in\
          \ list</p>\n</blockquote>\n<p>SPTokenizer \u91CC\u9762\u7684 eos_token_id\
          \ \u662FNone ,\u9700\u8981\u624B\u52A8\u6DFB\u52A0\u62102\uFF0C\u6216\u8005\
          \u76F4\u63A5\u6362\u6210GLMtokenizer\u91CC\u7684eos_id.<br>\u4E0D\u8FC7\u540E\
          \u9762\u53C8\u62A5\u4E86\u65B0\u9519 \uFF1A\u201Cpiece id is out of range.\"\
          \ ,\u68C0\u67E5\u53D1\u73B0\u5E76\u6CA1\u6709\u8D85\u51FA\u8BCD\u6C47\u8868\
          \u7684\u8303\u56F4\uFF0C\u671B\u5927\u795E\u770B\u5230\u540E\u89E3\u7B54\
          </p>\n"
        raw: "> > \u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898\n>\
          \ \n> \u6628\u665A\u6A21\u578B\u66F4\u65B0\u4E86  \u53EF\u4EE5\u8DDF\u65B0\
          \u6A21\u578B\u4EE3\u7801\u548C\u9879\u76EE\u4EE3\u7801  \u91CD\u65B0\u8BD5\
          \u8BD5 \u4E0D\u8FC7\u53C8\u51FA\u4E86\u65B0\u7684\u62A5\u9519\n> [WARNING|modeling_utils.py:3034]\
          \ 2023-06-30 10:38:17,622 >> Some weights of ChatGLMForConditionalGeneration\
          \ were not initialized from the model checkpoint at THUDM/chatglm2-6b and\
          \ are newly initialized: ['transformer.prefix_encoder.embedding.weight']\n\
          > You should probably TRAIN this model on a down-stream task to be able\
          \ to use it for predictions and inference.\n> [INFO|modeling_utils.py:2690]\
          \ 2023-06-30 10:38:17,916 >> Generation config file not found, using a generation\
          \ config created from the model config.\n> Quantized to 4 bit\n> Traceback\
          \ (most recent call last):\n>   File \"main.py\", line 430, in <module>\n\
          >     main()\n>   File \"main.py\", line 248, in main\n>     train_dataset\
          \ = train_dataset.map(\n>   File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\\
          lib\\site-packages\\datasets\\arrow_dataset.py\", line 578, in wrapper\n\
          >     out: Union[\"Dataset\", \"DatasetDict\"] = func(self, *args, **kwargs)\n\
          >   File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\\
          datasets\\arrow_dataset.py\", line 543, in wrapper\n>     out: Union[\"\
          Dataset\", \"DatasetDict\"] = func(self, *args, **kwargs)\n>   File \"E:\\\
          ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\"\
          , line 3073, in map\n>     for rank, done, content in Dataset._map_single(**dataset_kwargs):\n\
          >   File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\\
          datasets\\arrow_dataset.py\", line 3449, in _map_single\n>     batch = apply_function_on_filtered_inputs(\n\
          >   File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\\
          datasets\\arrow_dataset.py\", line 3330, in apply_function_on_filtered_inputs\n\
          >     processed_inputs = function(*fn_args, *additional_args, **fn_kwargs)\n\
          >   File \"main.py\", line 219, in preprocess_function_train\n>     context_length\
          \ = input_ids.index(tokenizer.bos_token_id)\n> ValueError: None is not in\
          \ list\n\nSPTokenizer \u91CC\u9762\u7684 eos_token_id \u662FNone ,\u9700\
          \u8981\u624B\u52A8\u6DFB\u52A0\u62102\uFF0C\u6216\u8005\u76F4\u63A5\u6362\
          \u6210GLMtokenizer\u91CC\u7684eos_id.\n\u4E0D\u8FC7\u540E\u9762\u53C8\u62A5\
          \u4E86\u65B0\u9519 \uFF1A\u201Cpiece id is out of range.\" ,\u68C0\u67E5\
          \u53D1\u73B0\u5E76\u6CA1\u6709\u8D85\u51FA\u8BCD\u6C47\u8868\u7684\u8303\
          \u56F4\uFF0C\u671B\u5927\u795E\u770B\u5230\u540E\u89E3\u7B54"
        updatedAt: '2023-07-06T02:17:01.448Z'
      numEdits: 0
      reactions: []
    id: 64a6241d321a3a7a3bbae6ff
    type: comment
  author: LeeKinXUn
  content: "> > \u6211\u4E5F\u9047\u5230\u4E86\u540C\u6837\u7684\u95EE\u9898\n> \n\
    > \u6628\u665A\u6A21\u578B\u66F4\u65B0\u4E86  \u53EF\u4EE5\u8DDF\u65B0\u6A21\u578B\
    \u4EE3\u7801\u548C\u9879\u76EE\u4EE3\u7801  \u91CD\u65B0\u8BD5\u8BD5 \u4E0D\u8FC7\
    \u53C8\u51FA\u4E86\u65B0\u7684\u62A5\u9519\n> [WARNING|modeling_utils.py:3034]\
    \ 2023-06-30 10:38:17,622 >> Some weights of ChatGLMForConditionalGeneration were\
    \ not initialized from the model checkpoint at THUDM/chatglm2-6b and are newly\
    \ initialized: ['transformer.prefix_encoder.embedding.weight']\n> You should probably\
    \ TRAIN this model on a down-stream task to be able to use it for predictions\
    \ and inference.\n> [INFO|modeling_utils.py:2690] 2023-06-30 10:38:17,916 >> Generation\
    \ config file not found, using a generation config created from the model config.\n\
    > Quantized to 4 bit\n> Traceback (most recent call last):\n>   File \"main.py\"\
    , line 430, in <module>\n>     main()\n>   File \"main.py\", line 248, in main\n\
    >     train_dataset = train_dataset.map(\n>   File \"E:\\ProgramData\\anaconda3\\\
    envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\", line 578, in wrapper\n\
    >     out: Union[\"Dataset\", \"DatasetDict\"] = func(self, *args, **kwargs)\n\
    >   File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
    arrow_dataset.py\", line 543, in wrapper\n>     out: Union[\"Dataset\", \"DatasetDict\"\
    ] = func(self, *args, **kwargs)\n>   File \"E:\\ProgramData\\anaconda3\\envs\\\
    glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\", line 3073, in map\n> \
    \    for rank, done, content in Dataset._map_single(**dataset_kwargs):\n>   File\
    \ \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\arrow_dataset.py\"\
    , line 3449, in _map_single\n>     batch = apply_function_on_filtered_inputs(\n\
    >   File \"E:\\ProgramData\\anaconda3\\envs\\glm2\\lib\\site-packages\\datasets\\\
    arrow_dataset.py\", line 3330, in apply_function_on_filtered_inputs\n>     processed_inputs\
    \ = function(*fn_args, *additional_args, **fn_kwargs)\n>   File \"main.py\", line\
    \ 219, in preprocess_function_train\n>     context_length = input_ids.index(tokenizer.bos_token_id)\n\
    > ValueError: None is not in list\n\nSPTokenizer \u91CC\u9762\u7684 eos_token_id\
    \ \u662FNone ,\u9700\u8981\u624B\u52A8\u6DFB\u52A0\u62102\uFF0C\u6216\u8005\u76F4\
    \u63A5\u6362\u6210GLMtokenizer\u91CC\u7684eos_id.\n\u4E0D\u8FC7\u540E\u9762\u53C8\
    \u62A5\u4E86\u65B0\u9519 \uFF1A\u201Cpiece id is out of range.\" ,\u68C0\u67E5\
    \u53D1\u73B0\u5E76\u6CA1\u6709\u8D85\u51FA\u8BCD\u6C47\u8868\u7684\u8303\u56F4\
    \uFF0C\u671B\u5927\u795E\u770B\u5230\u540E\u89E3\u7B54"
  created_at: 2023-07-06 01:17:01+00:00
  edited: false
  hidden: false
  id: 64a6241d321a3a7a3bbae6ff
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 19
repo_id: THUDM/chatglm2-6b
repo_type: model
status: open
target_branch: null
title: "ptuning\u5FAE\u8C03\u62A5\u9519'ChatGLMModel' object has no attribute 'prefix_encoder'"
