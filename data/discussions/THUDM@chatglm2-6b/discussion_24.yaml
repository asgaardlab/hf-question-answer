!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lizongran
conflicting_files: null
created_at: 2023-06-28 06:52:41+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
      fullname: lizongran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lizongran
      type: user
    createdAt: '2023-06-28T07:52:41.000Z'
    data:
      edited: false
      editors:
      - lizongran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7063889503479004
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
          fullname: lizongran
          isHf: false
          isPro: false
          name: lizongran
          type: user
        html: '<p>The above error occurred when I used the local model path</p>

          '
        raw: The above error occurred when I used the local model path
        updatedAt: '2023-06-28T07:52:41.881Z'
      numEdits: 0
      reactions: []
    id: 649be6c9aacbf5cb41698bcf
    type: comment
  author: lizongran
  content: The above error occurred when I used the local model path
  created_at: 2023-06-28 06:52:41+00:00
  edited: false
  hidden: false
  id: 649be6c9aacbf5cb41698bcf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
      fullname: lizongran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lizongran
      type: user
    createdAt: '2023-06-29T03:08:20.000Z'
    data:
      edited: false
      editors:
      - lizongran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3390198051929474
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
          fullname: lizongran
          isHf: false
          isPro: false
          name: lizongran
          type: user
        html: '<p>error:<br>Traceback (most recent call last):<br>File "cli_demo.py",
          line 11, in<br>tokenizer = AutoTokenizer.from_pretrained("/home/admin/chatglm2-6b",
          trust_remote_code=True)<br>File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/models/auto/tokenization_auto.py",
          line 678, in from_pretrained<br>return tokenizer_class.from_pretrained(pretrained_model_name_or_path,
          *inputs, **kwargs)<br>File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/tokenization_utils_base.py",
          line 1825, in from_pretrained<br>return cls._from_pretrained(<br>File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/tokenization_utils_base.py",
          line 1988, in _from_pretrained<br>tokenizer = cls(*init_inputs, **init_kwargs)<br>File
          "/home/admin/.cache/huggingface/modules/transformers_modules/chatglm2-6b/tokenization_chatglm.py",
          line 73, in init<br>self.tokenizer = SPTokenizer(vocab_file)<br>File "/home/admin/.cache/huggingface/modules/transformers_modules/chatglm2-6b/tokenization_chatglm.py",
          line 13, in init<br>assert os.path.isfile(model_path), model_path<br>File
          "/home/admin/anaconda3/envs/glm2/lib/python3.8/genericpath.py", line 30,
          in isfile<br>st = os.stat(path)<br>TypeError: stat: path should be string,
          bytes, os.PathLike or integer, not NoneType</p>

          '
        raw: 'error:

          Traceback (most recent call last):

          File "cli_demo.py", line 11, in

          tokenizer = AutoTokenizer.from_pretrained("/home/admin/chatglm2-6b", trust_remote_code=True)

          File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/models/auto/tokenization_auto.py",
          line 678, in from_pretrained

          return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs,
          **kwargs)

          File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/tokenization_utils_base.py",
          line 1825, in from_pretrained

          return cls._from_pretrained(

          File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/tokenization_utils_base.py",
          line 1988, in _from_pretrained

          tokenizer = cls(*init_inputs, **init_kwargs)

          File "/home/admin/.cache/huggingface/modules/transformers_modules/chatglm2-6b/tokenization_chatglm.py",
          line 73, in init

          self.tokenizer = SPTokenizer(vocab_file)

          File "/home/admin/.cache/huggingface/modules/transformers_modules/chatglm2-6b/tokenization_chatglm.py",
          line 13, in init

          assert os.path.isfile(model_path), model_path

          File "/home/admin/anaconda3/envs/glm2/lib/python3.8/genericpath.py", line
          30, in isfile

          st = os.stat(path)

          TypeError: stat: path should be string, bytes, os.PathLike or integer, not
          NoneType'
        updatedAt: '2023-06-29T03:08:20.184Z'
      numEdits: 0
      reactions: []
    id: 649cf5a4b602cd0e46e69e52
    type: comment
  author: lizongran
  content: 'error:

    Traceback (most recent call last):

    File "cli_demo.py", line 11, in

    tokenizer = AutoTokenizer.from_pretrained("/home/admin/chatglm2-6b", trust_remote_code=True)

    File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/models/auto/tokenization_auto.py",
    line 678, in from_pretrained

    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs,
    **kwargs)

    File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/tokenization_utils_base.py",
    line 1825, in from_pretrained

    return cls._from_pretrained(

    File "/home/admin/anaconda3/envs/glm2/lib/python3.8/site-packages/transformers/tokenization_utils_base.py",
    line 1988, in _from_pretrained

    tokenizer = cls(*init_inputs, **init_kwargs)

    File "/home/admin/.cache/huggingface/modules/transformers_modules/chatglm2-6b/tokenization_chatglm.py",
    line 73, in init

    self.tokenizer = SPTokenizer(vocab_file)

    File "/home/admin/.cache/huggingface/modules/transformers_modules/chatglm2-6b/tokenization_chatglm.py",
    line 13, in init

    assert os.path.isfile(model_path), model_path

    File "/home/admin/anaconda3/envs/glm2/lib/python3.8/genericpath.py", line 30,
    in isfile

    st = os.stat(path)

    TypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType'
  created_at: 2023-06-29 02:08:20+00:00
  edited: false
  hidden: false
  id: 649cf5a4b602cd0e46e69e52
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bea997c87150331da3f0f866f3722cc0.svg
      fullname: Apc
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Apccc
      type: user
    createdAt: '2023-06-29T07:25:00.000Z'
    data:
      edited: false
      editors:
      - Apccc
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8872388601303101
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bea997c87150331da3f0f866f3722cc0.svg
          fullname: Apc
          isHf: false
          isPro: false
          name: Apccc
          type: user
        html: '<p>I have the same problem. And i find in my model_dir the tokenizer.model
          is missing. You can try copy it to this dir.</p>

          '
        raw: I have the same problem. And i find in my model_dir the tokenizer.model
          is missing. You can try copy it to this dir.
        updatedAt: '2023-06-29T07:25:00.795Z'
      numEdits: 0
      reactions: []
    id: 649d31cc1ce85c6d39151973
    type: comment
  author: Apccc
  content: I have the same problem. And i find in my model_dir the tokenizer.model
    is missing. You can try copy it to this dir.
  created_at: 2023-06-29 06:25:00+00:00
  edited: false
  hidden: false
  id: 649d31cc1ce85c6d39151973
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
      fullname: lizongran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lizongran
      type: user
    createdAt: '2023-06-29T12:09:06.000Z'
    data:
      edited: false
      editors:
      - lizongran
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9550948143005371
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
          fullname: lizongran
          isHf: false
          isPro: false
          name: lizongran
          type: user
        html: '<blockquote>

          <p>I have the same problem. And i find in my model_dir the tokenizer.model
          is missing. You can try copy it to this dir.<br>I checked and found that
          this file is indeed missing. Thank you very much!</p>

          </blockquote>

          '
        raw: '> I have the same problem. And i find in my model_dir the tokenizer.model
          is missing. You can try copy it to this dir.

          I checked and found that this file is indeed missing. Thank you very much!

          '
        updatedAt: '2023-06-29T12:09:06.537Z'
      numEdits: 0
      reactions:
      - count: 3
        reaction: "\U0001F44D"
        users:
        - wyx11
        - JunkRoy
        - zhandroid
    id: 649d7462708f8f1f35cb4f68
    type: comment
  author: lizongran
  content: '> I have the same problem. And i find in my model_dir the tokenizer.model
    is missing. You can try copy it to this dir.

    I checked and found that this file is indeed missing. Thank you very much!

    '
  created_at: 2023-06-29 11:09:06+00:00
  edited: false
  hidden: false
  id: 649d7462708f8f1f35cb4f68
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec85579d5194129b523a8ec7251347ef.svg
      fullname: liushihao
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: liushihao
      type: user
    createdAt: '2023-07-20T07:53:18.000Z'
    data:
      edited: true
      editors:
      - liushihao
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9358935356140137
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec85579d5194129b523a8ec7251347ef.svg
          fullname: liushihao
          isHf: false
          isPro: false
          name: liushihao
          type: user
        html: '<p>same issue</p>

          '
        raw: same issue
        updatedAt: '2023-07-20T07:54:52.026Z'
      numEdits: 1
      reactions: []
    id: 64b8e7eef8bf823a61ed30ae
    type: comment
  author: liushihao
  content: same issue
  created_at: 2023-07-20 06:53:18+00:00
  edited: true
  hidden: false
  id: 64b8e7eef8bf823a61ed30ae
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/bbd75d0a89cd280947ffe0f4489a8c9a.svg
      fullname: huodon
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: huodon
      type: user
    createdAt: '2023-10-30T01:44:19.000Z'
    data:
      edited: false
      editors:
      - huodon
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7247631549835205
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/bbd75d0a89cd280947ffe0f4489a8c9a.svg
          fullname: huodon
          isHf: false
          isPro: false
          name: huodon
          type: user
        html: '<p>chatglm3-6b have the same problem, Did the chatglm developers never
          load the model from local?</p>

          '
        raw: chatglm3-6b have the same problem, Did the chatglm developers never load
          the model from local?
        updatedAt: '2023-10-30T01:44:19.015Z'
      numEdits: 0
      reactions: []
    id: 653f0a739c7bf38da2cef5a8
    type: comment
  author: huodon
  content: chatglm3-6b have the same problem, Did the chatglm developers never load
    the model from local?
  created_at: 2023-10-30 00:44:19+00:00
  edited: false
  hidden: false
  id: 653f0a739c7bf38da2cef5a8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/b769f020690841ac97d9f142a19f263b.svg
      fullname: lizongran
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lizongran
      type: user
    createdAt: '2023-11-09T09:06:53.000Z'
    data:
      status: closed
    id: 654ca12d97f41c6d5fa59534
    type: status-change
  author: lizongran
  created_at: 2023-11-09 09:06:53+00:00
  id: 654ca12d97f41c6d5fa59534
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a881c15ef9bcc563e7abd6d216780461.svg
      fullname: RoyShen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: JunkRoy
      type: user
    createdAt: '2023-11-21T09:42:16.000Z'
    data:
      edited: false
      editors:
      - JunkRoy
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.870175838470459
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a881c15ef9bcc563e7abd6d216780461.svg
          fullname: RoyShen
          isHf: false
          isPro: false
          name: JunkRoy
          type: user
        html: '<blockquote>

          <p>chatglm3-6b have the same problem, Did the chatglm developers never load
          the model from local?</p>

          </blockquote>

          <p>check your local fold, maybe you miss the file called "tokenzie.model"</p>

          '
        raw: '> chatglm3-6b have the same problem, Did the chatglm developers never
          load the model from local?


          check your local fold, maybe you miss the file called "tokenzie.model"'
        updatedAt: '2023-11-21T09:42:16.542Z'
      numEdits: 0
      reactions: []
    id: 655c7b7899c64cb090c75cdd
    type: comment
  author: JunkRoy
  content: '> chatglm3-6b have the same problem, Did the chatglm developers never
    load the model from local?


    check your local fold, maybe you miss the file called "tokenzie.model"'
  created_at: 2023-11-21 09:42:16+00:00
  edited: false
  hidden: false
  id: 655c7b7899c64cb090c75cdd
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 24
repo_id: THUDM/chatglm2-6b
repo_type: model
status: closed
target_branch: null
title: 'TypeError: stat: path should be string, bytes, os.PathLike or integer, not
  NoneType'
