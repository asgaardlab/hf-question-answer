!!python/object:huggingface_hub.community.DiscussionWithDetails
author: satyajitghana
conflicting_files: null
created_at: 2023-12-14 06:03:26+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a751114eeeb1092ea83c6b97b3a8e807.svg
      fullname: Satyajit Ghana
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: satyajitghana
      type: user
    createdAt: '2023-12-14T06:03:26.000Z'
    data:
      edited: true
      editors:
      - satyajitghana
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7822553515434265
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a751114eeeb1092ea83c6b97b3a8e807.svg
          fullname: Satyajit Ghana
          isHf: false
          isPro: false
          name: satyajitghana
          type: user
        html: '<p>I am trying to build a chat like interface</p>

          <p>how do i pass in multiple images?</p>

          <pre><code>image = Image.open(requests.get(url, stream=True).raw)

          prompt = "USER: &lt;image&gt;\nWhat does the label 15 represent? (1) lava
          (2) core (3) tunnel (4) ash cloud\nASSISTANT: lava\n&lt;image&gt;\nWhat
          do you see in this image"

          </code></pre>

          <p>here i need to pass in two images</p>

          <p>As per the model card</p>

          <pre><code>First, make sure to have transformers &gt;= 4.35.3. The model
          supports multi-image and multi-prompt generation. Meaning that you can pass
          multiple images in your prompt. Make sure also to follow the correct prompt
          template (USER: xxx\nASSISTANT:) and add the token &lt;image&gt; to the
          location where you want to query images

          </code></pre>

          <p>so do i simply pass in the list of images? and it fills the embeddings
          in sequentially as the <code>&lt;image&gt;</code> tag is in the prompt?</p>

          '
        raw: 'I am trying to build a chat like interface


          how do i pass in multiple images?


          ```

          image = Image.open(requests.get(url, stream=True).raw)

          prompt = "USER: <image>\nWhat does the label 15 represent? (1) lava (2)
          core (3) tunnel (4) ash cloud\nASSISTANT: lava\n<image>\nWhat do you see
          in this image"

          ```


          here i need to pass in two images



          As per the model card


          ```

          First, make sure to have transformers >= 4.35.3. The model supports multi-image
          and multi-prompt generation. Meaning that you can pass multiple images in
          your prompt. Make sure also to follow the correct prompt template (USER:
          xxx\nASSISTANT:) and add the token <image> to the location where you want
          to query images

          ```


          so do i simply pass in the list of images? and it fills the embeddings in
          sequentially as the `<image>` tag is in the prompt?'
        updatedAt: '2023-12-14T06:06:16.091Z'
      numEdits: 3
      reactions: []
    id: 657a9aae270ef0b785ede6b0
    type: comment
  author: satyajitghana
  content: 'I am trying to build a chat like interface


    how do i pass in multiple images?


    ```

    image = Image.open(requests.get(url, stream=True).raw)

    prompt = "USER: <image>\nWhat does the label 15 represent? (1) lava (2) core (3)
    tunnel (4) ash cloud\nASSISTANT: lava\n<image>\nWhat do you see in this image"

    ```


    here i need to pass in two images



    As per the model card


    ```

    First, make sure to have transformers >= 4.35.3. The model supports multi-image
    and multi-prompt generation. Meaning that you can pass multiple images in your
    prompt. Make sure also to follow the correct prompt template (USER: xxx\nASSISTANT:)
    and add the token <image> to the location where you want to query images

    ```


    so do i simply pass in the list of images? and it fills the embeddings in sequentially
    as the `<image>` tag is in the prompt?'
  created_at: 2023-12-14 06:03:26+00:00
  edited: true
  hidden: false
  id: 657a9aae270ef0b785ede6b0
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a751114eeeb1092ea83c6b97b3a8e807.svg
      fullname: Satyajit Ghana
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: satyajitghana
      type: user
    createdAt: '2023-12-14T06:49:47.000Z'
    data:
      edited: false
      editors:
      - satyajitghana
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9304071068763733
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a751114eeeb1092ea83c6b97b3a8e807.svg
          fullname: Satyajit Ghana
          isHf: false
          isPro: false
          name: satyajitghana
          type: user
        html: '<p>Yup</p>

          <p>this works</p>

          <pre><code>prompt = """

          USER: &lt;image&gt;

          Describe the image

          ASSISTANT:

          The image features two cats lying on a couch, both appearing to be quite
          relaxed. One cat is located towards the left side of the couch, while the
          other cat is situated more towards the right side. They are both close to
          each other, possibly enjoying each other''s company.


          There are two remote controls in the scene, one placed near the left cat
          and the other one positioned closer to the right cat. This suggests that
          the cats'' owner might have been watching TV or using some electronic device
          while the cats were resting on the couch.

          USER: &lt;image&gt;

          Okay what about this image?

          ASSISTANT

          """

          </code></pre>

          <pre><code>inputs = processor(prompt,  [raw_image, img2], return_tensors=''pt'').to(device,
          dtype)


          output = model.generate(**inputs, max_new_tokens=200, do_sample=False)

          </code></pre>

          '
        raw: 'Yup


          this works


          ```

          prompt = """

          USER: <image>

          Describe the image

          ASSISTANT:

          The image features two cats lying on a couch, both appearing to be quite
          relaxed. One cat is located towards the left side of the couch, while the
          other cat is situated more towards the right side. They are both close to
          each other, possibly enjoying each other''s company.


          There are two remote controls in the scene, one placed near the left cat
          and the other one positioned closer to the right cat. This suggests that
          the cats'' owner might have been watching TV or using some electronic device
          while the cats were resting on the couch.

          USER: <image>

          Okay what about this image?

          ASSISTANT

          """

          ```


          ```

          inputs = processor(prompt,  [raw_image, img2], return_tensors=''pt'').to(device,
          dtype)


          output = model.generate(**inputs, max_new_tokens=200, do_sample=False)

          ```'
        updatedAt: '2023-12-14T06:49:47.448Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - ArthurZ
      relatedEventId: 657aa58bd3e458405ba2af5f
    id: 657aa58bd3e458405ba2af5a
    type: comment
  author: satyajitghana
  content: 'Yup


    this works


    ```

    prompt = """

    USER: <image>

    Describe the image

    ASSISTANT:

    The image features two cats lying on a couch, both appearing to be quite relaxed.
    One cat is located towards the left side of the couch, while the other cat is
    situated more towards the right side. They are both close to each other, possibly
    enjoying each other''s company.


    There are two remote controls in the scene, one placed near the left cat and the
    other one positioned closer to the right cat. This suggests that the cats'' owner
    might have been watching TV or using some electronic device while the cats were
    resting on the couch.

    USER: <image>

    Okay what about this image?

    ASSISTANT

    """

    ```


    ```

    inputs = processor(prompt,  [raw_image, img2], return_tensors=''pt'').to(device,
    dtype)


    output = model.generate(**inputs, max_new_tokens=200, do_sample=False)

    ```'
  created_at: 2023-12-14 06:49:47+00:00
  edited: false
  hidden: false
  id: 657aa58bd3e458405ba2af5a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/a751114eeeb1092ea83c6b97b3a8e807.svg
      fullname: Satyajit Ghana
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: satyajitghana
      type: user
    createdAt: '2023-12-14T06:49:47.000Z'
    data:
      status: closed
    id: 657aa58bd3e458405ba2af5f
    type: status-change
  author: satyajitghana
  created_at: 2023-12-14 06:49:47+00:00
  id: 657aa58bd3e458405ba2af5f
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
      fullname: Arthur Zucker
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ArthurZ
      type: user
    createdAt: '2023-12-18T19:46:04.000Z'
    data:
      edited: true
      editors:
      - ArthurZ
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5685234665870667
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1674683851722-62441cb7456803e95009a08f.jpeg?w=200&h=200&f=face
          fullname: Arthur Zucker
          isHf: true
          isPro: false
          name: ArthurZ
          type: user
        html: "<p>Thanks <span data-props=\"{&quot;user&quot;:&quot;satyajitghana&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/satyajitghana\"\
          >@<span class=\"underline\">satyajitghana</span></a></span>\n\n\t</span></span>\
          \ for answering ans sharing the answer! </p>\n"
        raw: 'Thanks @satyajitghana for answering ans sharing the answer! '
        updatedAt: '2023-12-18T19:46:16.890Z'
      numEdits: 1
      reactions: []
    id: 6580a17c419afba19a67cf15
    type: comment
  author: ArthurZ
  content: 'Thanks @satyajitghana for answering ans sharing the answer! '
  created_at: 2023-12-18 19:46:04+00:00
  edited: true
  hidden: false
  id: 6580a17c419afba19a67cf15
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: llava-hf/bakLlava-v1-hf
repo_type: model
status: closed
target_branch: null
title: How do i pass in multiple images to the model
