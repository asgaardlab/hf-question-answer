!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lckr
conflicting_files: null
created_at: 2023-07-31 05:04:38+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/d8bbd863fc29d3ff4f1b9620efddf991.svg
      fullname: Lucas
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lckr
      type: user
    createdAt: '2023-07-31T06:04:38.000Z'
    data:
      edited: false
      editors:
      - lckr
      hidden: false
      identifiedLanguage:
        language: de
        probability: 0.9870572090148926
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/d8bbd863fc29d3ff4f1b9620efddf991.svg
          fullname: Lucas
          isHf: false
          isPro: false
          name: lckr
          type: user
        html: "<p>Hi Jan,</p>\n<p>Can you give an example of the prompt template that\
          \ was used for extractive QA (i.e. for the German Squad dataset) during\
          \ training?</p>\n<p>And am I correct in my assumption that you used the\
          \ following prompt for your evaluation example?</p>\n<pre><code>&lt;s&gt;[INST]\
          \ &lt;&lt;SYS&gt;&gt;\nYou are a helpful, respectful and honest assistant.\
          \ Always answer as helpfully as possible, while being safe. Your answers\
          \ should not include any harmful, unethical, racist, sexist, toxic, dangerous,\
          \ or illegal content. Please ensure that your responses are socially unbiased\
          \ and positive in nature.\n\nIf a question does not make any sense, or is\
          \ not factually coherent, explain why instead of answering something not\
          \ correct. If you don't know the answer to a question, please don't share\
          \ false information. Please answer in the same language as the user.\n&lt;&lt;/SYS&gt;&gt;\n\
          \n\n\nWarum ist die Mongolische Volksrepublik nicht dem Warschauer Pakt\
          \ beigetreten?\n\nKontext zur Beantwortung der Frage: Warschauer_Pakt\n\n\
          === Bilaterale Vertr\xE4ge \xFCber Freundschaft, Zusammenarbeit und gegenseitigen\
          \ Beistand === Mit den bilateralen B\xFCndnisvertr\xE4gen wurde die Verpflichtung\
          \ zur gegenseitigen Hilfeleistung unterzeichnet, um alle gewaltsamen milit\xE4\
          rischen Handlungen, die sich gegen die territoriale Integrit\xE4t und Souver\xE4\
          nit\xE4t einer Vertragspartei richteten, zu verhindern. Den ersten dieser\
          \ Freundschaftsvertr\xE4ge hatte die Sowjetunion schon w\xE4hrend des Krieges\
          \ am 12. Dezember 1943 mit der tschechoslowakischen Exilregierung abgeschlossen,\
          \ der am 27. November 1963 f\xFCr die Tschechoslowakei verl\xE4ngert wurde.\
          \ Von 1943 bis 1949 gab es bereits 23 bilaterale Vertr\xE4ge \xFCber Freundschaft,\
          \ Zusammenarbeit und gegenseitigen Beistand (VFZ) der ersten Generation\
          \ in Osteuropa. Neben diesem Vertragssystem bestanden ab 1956/57 auch weitere\
          \ Abkommen: * Truppenstationierungsabkommen der Sowjetunion mit der DDR\
          \ (12. M\xE4rz 1957), * Truppenstationierungsabkommen der Sowjetunion mit\
          \ der Volksrepublik Polen (17. Dezember 1956), * Truppenstationierungsabkommen\
          \ der Sowjetunion mit Rum\xE4nien (15. April 1957) und * Truppenstationierungsabkommen\
          \ der Sowjetunion mit Ungarn (27. Mai 1957) jeweils mit einer Laufzeit von\
          \ 20 Jahren. Aber bereits der Vertrag \xFCber die Beziehungen zwischen der\
          \ DDR und der Sowjetunion vom 20. September 1950 zur Grenzregelung enthielt\
          \ eine Vereinbarung zur Stationierung von sowjetischen Truppen auf dem Gebiet\
          \ der DDR. Im Juli 1963 bat auch die Mongolische Volksrepublik, dem Warschauer\
          \ Pakt nach Artikel 9 des Warschauer Vertrages beizutreten. Dazu h\xE4tte\
          \ ein Sonderprotokoll gefasst werden m\xFCssen, da der Vertragstext nach\
          \ Artikel 4 sich nur auf Europa bezog. Aufgrund des aufkommenden Chinesisch-sowjetischen\
          \ Zerw\xFCrfnisses gab es keinen Beitritt, sondern es blieb bei einem Beobachterstatus.\
          \ Stattdessen wurden ab 1966 sowjetische Truppenstationierungen vereinbart.\
          \ Nachdem die Sowjetunion mit der DDR am 12. Juni 1964 einen Vertrag \xFC\
          ber Freundschaft, Zusammenarbeit und gegenseitigen Beistand schloss, der\
          \ die volle Einbeziehung der DDR in das bilaterale B\xFCndnissystem vorsah,\
          \ wurden in der Zeit von 1964 bis 1972 insgesamt 20 B\xFCndnisvertr\xE4\
          ge der zweiten Generation unterzeichnet: Die Hegemonie der Sowjetunion wurde\
          \ durch die bilateralen B\xFCndnisvertr\xE4ge noch verst\xE4rkt, da diese\
          \ eine unmittelbare Beistandsverpflichtung bei einem bewaffneten Angriff\
          \ vorsahen, die auch in den meisten Vertr\xE4gen sich nicht nur auf Europa\
          \ beschr\xE4nkte. In der dritten Generation der Vertr\xE4ge \xFCber Freundschaft,\
          \ Zusammenarbeit und gegenseitigen Beistand erfolgte nach der Unterzeichnung\
          \ der Schlussakte von Helsinki der Konferenz \xFCber Sicherheit und Zusammenarbeit\
          \ in Europa (KSZE) im August 1975 die Einbeziehung der Breschnew-Doktrin\
          \ und der \xF6konomischen Integration. Zudem wurde die Laufzeit der Vertr\xE4\
          ge auf 25 Jahre festgelegt. Die DDR unterzeichnete am 7. Oktober 1975 mit\
          \ der Sowjetunion diesen neuen Vertrag sowie sp\xE4ter weitere mit Ungarn\
          \ (24. M\xE4rz 1977), Polen (29. Mai 1977), Bulgarien (14. September 1977)\
          \ und der Tschechoslowakei (3. Oktober 1977).\n\nBitte beantworte die Frage\
          \ mit einem kurzen, w\xF6rtlichen Zitat aus dem Kontext. Sollte der Kontext\
          \ keine Antwort auf die Frage enthalten, bitte antworte dass die Frage mit\
          \ den gegebenen Informationen nicht zu beantworten ist.\n[/INST] \n</code></pre>\n\
          <p>Best, Lucas</p>\n"
        raw: "Hi Jan,\r\n\r\nCan you give an example of the prompt template that was\
          \ used for extractive QA (i.e. for the German Squad dataset) during training?\r\
          \n\r\nAnd am I correct in my assumption that you used the following prompt\
          \ for your evaluation example?\r\n```\r\n<s>[INST] <<SYS>>\r\nYou are a\
          \ helpful, respectful and honest assistant. Always answer as helpfully as\
          \ possible, while being safe. Your answers should not include any harmful,\
          \ unethical, racist, sexist, toxic, dangerous, or illegal content. Please\
          \ ensure that your responses are socially unbiased and positive in nature.\r\
          \n\r\nIf a question does not make any sense, or is not factually coherent,\
          \ explain why instead of answering something not correct. If you don't know\
          \ the answer to a question, please don't share false information. Please\
          \ answer in the same language as the user.\r\n<</SYS>>\r\n\r\n\r\n\r\nWarum\
          \ ist die Mongolische Volksrepublik nicht dem Warschauer Pakt beigetreten?\r\
          \n\r\nKontext zur Beantwortung der Frage: Warschauer_Pakt\r\n\r\n=== Bilaterale\
          \ Vertr\xE4ge \xFCber Freundschaft, Zusammenarbeit und gegenseitigen Beistand\
          \ === Mit den bilateralen B\xFCndnisvertr\xE4gen wurde die Verpflichtung\
          \ zur gegenseitigen Hilfeleistung unterzeichnet, um alle gewaltsamen milit\xE4\
          rischen Handlungen, die sich gegen die territoriale Integrit\xE4t und Souver\xE4\
          nit\xE4t einer Vertragspartei richteten, zu verhindern. Den ersten dieser\
          \ Freundschaftsvertr\xE4ge hatte die Sowjetunion schon w\xE4hrend des Krieges\
          \ am 12. Dezember 1943 mit der tschechoslowakischen Exilregierung abgeschlossen,\
          \ der am 27. November 1963 f\xFCr die Tschechoslowakei verl\xE4ngert wurde.\
          \ Von 1943 bis 1949 gab es bereits 23 bilaterale Vertr\xE4ge \xFCber Freundschaft,\
          \ Zusammenarbeit und gegenseitigen Beistand (VFZ) der ersten Generation\
          \ in Osteuropa. Neben diesem Vertragssystem bestanden ab 1956/57 auch weitere\
          \ Abkommen: * Truppenstationierungsabkommen der Sowjetunion mit der DDR\
          \ (12. M\xE4rz 1957), * Truppenstationierungsabkommen der Sowjetunion mit\
          \ der Volksrepublik Polen (17. Dezember 1956), * Truppenstationierungsabkommen\
          \ der Sowjetunion mit Rum\xE4nien (15. April 1957) und * Truppenstationierungsabkommen\
          \ der Sowjetunion mit Ungarn (27. Mai 1957) jeweils mit einer Laufzeit von\
          \ 20 Jahren. Aber bereits der Vertrag \xFCber die Beziehungen zwischen der\
          \ DDR und der Sowjetunion vom 20. September 1950 zur Grenzregelung enthielt\
          \ eine Vereinbarung zur Stationierung von sowjetischen Truppen auf dem Gebiet\
          \ der DDR. Im Juli 1963 bat auch die Mongolische Volksrepublik, dem Warschauer\
          \ Pakt nach Artikel 9 des Warschauer Vertrages beizutreten. Dazu h\xE4tte\
          \ ein Sonderprotokoll gefasst werden m\xFCssen, da der Vertragstext nach\
          \ Artikel 4 sich nur auf Europa bezog. Aufgrund des aufkommenden Chinesisch-sowjetischen\
          \ Zerw\xFCrfnisses gab es keinen Beitritt, sondern es blieb bei einem Beobachterstatus.\
          \ Stattdessen wurden ab 1966 sowjetische Truppenstationierungen vereinbart.\
          \ Nachdem die Sowjetunion mit der DDR am 12. Juni 1964 einen Vertrag \xFC\
          ber Freundschaft, Zusammenarbeit und gegenseitigen Beistand schloss, der\
          \ die volle Einbeziehung der DDR in das bilaterale B\xFCndnissystem vorsah,\
          \ wurden in der Zeit von 1964 bis 1972 insgesamt 20 B\xFCndnisvertr\xE4\
          ge der zweiten Generation unterzeichnet: Die Hegemonie der Sowjetunion wurde\
          \ durch die bilateralen B\xFCndnisvertr\xE4ge noch verst\xE4rkt, da diese\
          \ eine unmittelbare Beistandsverpflichtung bei einem bewaffneten Angriff\
          \ vorsahen, die auch in den meisten Vertr\xE4gen sich nicht nur auf Europa\
          \ beschr\xE4nkte. In der dritten Generation der Vertr\xE4ge \xFCber Freundschaft,\
          \ Zusammenarbeit und gegenseitigen Beistand erfolgte nach der Unterzeichnung\
          \ der Schlussakte von Helsinki der Konferenz \xFCber Sicherheit und Zusammenarbeit\
          \ in Europa (KSZE) im August 1975 die Einbeziehung der Breschnew-Doktrin\
          \ und der \xF6konomischen Integration. Zudem wurde die Laufzeit der Vertr\xE4\
          ge auf 25 Jahre festgelegt. Die DDR unterzeichnete am 7. Oktober 1975 mit\
          \ der Sowjetunion diesen neuen Vertrag sowie sp\xE4ter weitere mit Ungarn\
          \ (24. M\xE4rz 1977), Polen (29. Mai 1977), Bulgarien (14. September 1977)\
          \ und der Tschechoslowakei (3. Oktober 1977).\r\n\r\nBitte beantworte die\
          \ Frage mit einem kurzen, w\xF6rtlichen Zitat aus dem Kontext. Sollte der\
          \ Kontext keine Antwort auf die Frage enthalten, bitte antworte dass die\
          \ Frage mit den gegebenen Informationen nicht zu beantworten ist.\r\n[/INST]\
          \ \r\n```\r\n\r\nBest, Lucas\r\n"
        updatedAt: '2023-07-31T06:04:38.453Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - shalakasatheesh
    id: 64c74ef64399efa2fdcccb8f
    type: comment
  author: lckr
  content: "Hi Jan,\r\n\r\nCan you give an example of the prompt template that was\
    \ used for extractive QA (i.e. for the German Squad dataset) during training?\r\
    \n\r\nAnd am I correct in my assumption that you used the following prompt for\
    \ your evaluation example?\r\n```\r\n<s>[INST] <<SYS>>\r\nYou are a helpful, respectful\
    \ and honest assistant. Always answer as helpfully as possible, while being safe.\
    \ Your answers should not include any harmful, unethical, racist, sexist, toxic,\
    \ dangerous, or illegal content. Please ensure that your responses are socially\
    \ unbiased and positive in nature.\r\n\r\nIf a question does not make any sense,\
    \ or is not factually coherent, explain why instead of answering something not\
    \ correct. If you don't know the answer to a question, please don't share false\
    \ information. Please answer in the same language as the user.\r\n<</SYS>>\r\n\
    \r\n\r\n\r\nWarum ist die Mongolische Volksrepublik nicht dem Warschauer Pakt\
    \ beigetreten?\r\n\r\nKontext zur Beantwortung der Frage: Warschauer_Pakt\r\n\r\
    \n=== Bilaterale Vertr\xE4ge \xFCber Freundschaft, Zusammenarbeit und gegenseitigen\
    \ Beistand === Mit den bilateralen B\xFCndnisvertr\xE4gen wurde die Verpflichtung\
    \ zur gegenseitigen Hilfeleistung unterzeichnet, um alle gewaltsamen milit\xE4\
    rischen Handlungen, die sich gegen die territoriale Integrit\xE4t und Souver\xE4\
    nit\xE4t einer Vertragspartei richteten, zu verhindern. Den ersten dieser Freundschaftsvertr\xE4\
    ge hatte die Sowjetunion schon w\xE4hrend des Krieges am 12. Dezember 1943 mit\
    \ der tschechoslowakischen Exilregierung abgeschlossen, der am 27. November 1963\
    \ f\xFCr die Tschechoslowakei verl\xE4ngert wurde. Von 1943 bis 1949 gab es bereits\
    \ 23 bilaterale Vertr\xE4ge \xFCber Freundschaft, Zusammenarbeit und gegenseitigen\
    \ Beistand (VFZ) der ersten Generation in Osteuropa. Neben diesem Vertragssystem\
    \ bestanden ab 1956/57 auch weitere Abkommen: * Truppenstationierungsabkommen\
    \ der Sowjetunion mit der DDR (12. M\xE4rz 1957), * Truppenstationierungsabkommen\
    \ der Sowjetunion mit der Volksrepublik Polen (17. Dezember 1956), * Truppenstationierungsabkommen\
    \ der Sowjetunion mit Rum\xE4nien (15. April 1957) und * Truppenstationierungsabkommen\
    \ der Sowjetunion mit Ungarn (27. Mai 1957) jeweils mit einer Laufzeit von 20\
    \ Jahren. Aber bereits der Vertrag \xFCber die Beziehungen zwischen der DDR und\
    \ der Sowjetunion vom 20. September 1950 zur Grenzregelung enthielt eine Vereinbarung\
    \ zur Stationierung von sowjetischen Truppen auf dem Gebiet der DDR. Im Juli 1963\
    \ bat auch die Mongolische Volksrepublik, dem Warschauer Pakt nach Artikel 9 des\
    \ Warschauer Vertrages beizutreten. Dazu h\xE4tte ein Sonderprotokoll gefasst\
    \ werden m\xFCssen, da der Vertragstext nach Artikel 4 sich nur auf Europa bezog.\
    \ Aufgrund des aufkommenden Chinesisch-sowjetischen Zerw\xFCrfnisses gab es keinen\
    \ Beitritt, sondern es blieb bei einem Beobachterstatus. Stattdessen wurden ab\
    \ 1966 sowjetische Truppenstationierungen vereinbart. Nachdem die Sowjetunion\
    \ mit der DDR am 12. Juni 1964 einen Vertrag \xFCber Freundschaft, Zusammenarbeit\
    \ und gegenseitigen Beistand schloss, der die volle Einbeziehung der DDR in das\
    \ bilaterale B\xFCndnissystem vorsah, wurden in der Zeit von 1964 bis 1972 insgesamt\
    \ 20 B\xFCndnisvertr\xE4ge der zweiten Generation unterzeichnet: Die Hegemonie\
    \ der Sowjetunion wurde durch die bilateralen B\xFCndnisvertr\xE4ge noch verst\xE4\
    rkt, da diese eine unmittelbare Beistandsverpflichtung bei einem bewaffneten Angriff\
    \ vorsahen, die auch in den meisten Vertr\xE4gen sich nicht nur auf Europa beschr\xE4\
    nkte. In der dritten Generation der Vertr\xE4ge \xFCber Freundschaft, Zusammenarbeit\
    \ und gegenseitigen Beistand erfolgte nach der Unterzeichnung der Schlussakte\
    \ von Helsinki der Konferenz \xFCber Sicherheit und Zusammenarbeit in Europa (KSZE)\
    \ im August 1975 die Einbeziehung der Breschnew-Doktrin und der \xF6konomischen\
    \ Integration. Zudem wurde die Laufzeit der Vertr\xE4ge auf 25 Jahre festgelegt.\
    \ Die DDR unterzeichnete am 7. Oktober 1975 mit der Sowjetunion diesen neuen Vertrag\
    \ sowie sp\xE4ter weitere mit Ungarn (24. M\xE4rz 1977), Polen (29. Mai 1977),\
    \ Bulgarien (14. September 1977) und der Tschechoslowakei (3. Oktober 1977).\r\
    \n\r\nBitte beantworte die Frage mit einem kurzen, w\xF6rtlichen Zitat aus dem\
    \ Kontext. Sollte der Kontext keine Antwort auf die Frage enthalten, bitte antworte\
    \ dass die Frage mit den gegebenen Informationen nicht zu beantworten ist.\r\n\
    [/INST] \r\n```\r\n\r\nBest, Lucas\r\n"
  created_at: 2023-07-31 05:04:38+00:00
  edited: false
  hidden: false
  id: 64c74ef64399efa2fdcccb8f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/1gCpz_Og6-LyCBXDmuOd1.jpeg?w=200&h=200&f=face
      fullname: Jan Philipp Harries
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: jphme
      type: user
    createdAt: '2023-07-31T08:24:42.000Z'
    data:
      edited: false
      editors:
      - jphme
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5858043432235718
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/1gCpz_Og6-LyCBXDmuOd1.jpeg?w=200&h=200&f=face
          fullname: Jan Philipp Harries
          isHf: false
          isPro: false
          name: jphme
          type: user
        html: "<p>Hi Lucas,<br>no actually the system prompt for this specific example\
          \ was:<br><code>Du bist ein KI-Assistent, der fachliche Fragen beantwortet.\
          \ Der Nutzer wird dir eine Frage stellen und dazu Kontext bereitstellen.\
          \ Bitte beantworte die Frage ausschlie\xDFlich mit einem kurzen, w\xF6rtlichen\
          \ Zitat aus dem Kontext. Sollte der Kontext keine Antwort auf die Frage\
          \ enthalten, antworte dass die Frage mit den gegebenen Informationen nicht\
          \ zu beantworten ist.</code><br>(the second sentence was then repeated in\
          \ the user prompt.)</p>\n<p>I varied the system prompt slightly during finetuning\
          \ but did not evaluate the difference between the system prompts systematically.\
          \ For the evaluation examples (which were created with a GGML Q4_0 version\
          \ btw) I used the exact same prompts for both vesions. Reason for repeating\
          \ the instruction in system and user prompt was that this improved results\
          \ with GPT3.5 for these kind of prompts in my experiments; but as I said\
          \ I didn't test other system prompts in a systematic way.</p>\n<p>For this\
          \ finetune, the extractive QA part was more or less a small experiment (~1/10th\
          \ of total finetuning data) but works quite well. Would be interested in\
          \ your results and/or feedback/suggestions for your usecase if you try it\
          \ out!</p>\n<p>best,jp</p>\n"
        raw: "Hi Lucas,\nno actually the system prompt for this specific example was:\n\
          ```Du bist ein KI-Assistent, der fachliche Fragen beantwortet. Der Nutzer\
          \ wird dir eine Frage stellen und dazu Kontext bereitstellen. Bitte beantworte\
          \ die Frage ausschlie\xDFlich mit einem kurzen, w\xF6rtlichen Zitat aus\
          \ dem Kontext. Sollte der Kontext keine Antwort auf die Frage enthalten,\
          \ antworte dass die Frage mit den gegebenen Informationen nicht zu beantworten\
          \ ist.```\n(the second sentence was then repeated in the user prompt.)\n\
          \nI varied the system prompt slightly during finetuning but did not evaluate\
          \ the difference between the system prompts systematically. For the evaluation\
          \ examples (which were created with a GGML Q4_0 version btw) I used the\
          \ exact same prompts for both vesions. Reason for repeating the instruction\
          \ in system and user prompt was that this improved results with GPT3.5 for\
          \ these kind of prompts in my experiments; but as I said I didn't test other\
          \ system prompts in a systematic way.\n\nFor this finetune, the extractive\
          \ QA part was more or less a small experiment (~1/10th of total finetuning\
          \ data) but works quite well. Would be interested in your results and/or\
          \ feedback/suggestions for your usecase if you try it out!\n\nbest,jp\n\n"
        updatedAt: '2023-07-31T08:24:42.615Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - WANGYIWEI
    id: 64c76fca57e5b2cd8a142bc4
    type: comment
  author: jphme
  content: "Hi Lucas,\nno actually the system prompt for this specific example was:\n\
    ```Du bist ein KI-Assistent, der fachliche Fragen beantwortet. Der Nutzer wird\
    \ dir eine Frage stellen und dazu Kontext bereitstellen. Bitte beantworte die\
    \ Frage ausschlie\xDFlich mit einem kurzen, w\xF6rtlichen Zitat aus dem Kontext.\
    \ Sollte der Kontext keine Antwort auf die Frage enthalten, antworte dass die\
    \ Frage mit den gegebenen Informationen nicht zu beantworten ist.```\n(the second\
    \ sentence was then repeated in the user prompt.)\n\nI varied the system prompt\
    \ slightly during finetuning but did not evaluate the difference between the system\
    \ prompts systematically. For the evaluation examples (which were created with\
    \ a GGML Q4_0 version btw) I used the exact same prompts for both vesions. Reason\
    \ for repeating the instruction in system and user prompt was that this improved\
    \ results with GPT3.5 for these kind of prompts in my experiments; but as I said\
    \ I didn't test other system prompts in a systematic way.\n\nFor this finetune,\
    \ the extractive QA part was more or less a small experiment (~1/10th of total\
    \ finetuning data) but works quite well. Would be interested in your results and/or\
    \ feedback/suggestions for your usecase if you try it out!\n\nbest,jp\n\n"
  created_at: 2023-07-31 07:24:42+00:00
  edited: false
  hidden: false
  id: 64c76fca57e5b2cd8a142bc4
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 2
repo_id: jphme/Llama-2-13b-chat-german
repo_type: model
status: open
target_branch: null
title: Extractive QA Template
