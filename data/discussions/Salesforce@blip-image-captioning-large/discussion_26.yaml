!!python/object:huggingface_hub.community.DiscussionWithDetails
author: kulathilake
conflicting_files: null
created_at: 2023-11-22 16:19:57+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9f9cb71e5b20cf65470917d04c896b43.svg
      fullname: Shehan Kulathilake
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kulathilake
      type: user
    createdAt: '2023-11-22T16:19:57.000Z'
    data:
      edited: false
      editors:
      - kulathilake
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7404610514640808
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9f9cb71e5b20cf65470917d04c896b43.svg
          fullname: Shehan Kulathilake
          isHf: false
          isPro: false
          name: kulathilake
          type: user
        html: '<p>I''ve deployed a serverless inference endpoint on sagemaker as follows.<br><a
          rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/v6ZC_f_-TB-o9YUCg7EBE.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/v6ZC_f_-TB-o9YUCg7EBE.png"></a></p>

          <p>I''m trying to invoke the same point as follows.<br><a rel="nofollow"
          href="https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/Nv_wckKVjkG9zT-fTYHtH.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/Nv_wckKVjkG9zT-fTYHtH.png"></a></p>

          <p>But I keep getting the following error.</p>

          <p><code>botocore.errorfactory.ModelError: An error occurred (ModelError)
          when calling the InvokeEndpoint operation: Received client error (400) from
          model with message "{   "code": 400,   "type": "InternalServerException",   "message":
          "Incorrect format used for image. Should be an url linking to an image,
          a local path, or a PIL image." }</code></p>

          <p>Is the input format in the Body correct? if not what could be causing
          this. the image url i''m using works fine and resolves to an image.</p>

          '
        raw: "I've deployed a serverless inference endpoint on sagemaker as follows.\r\
          \n![image.png](https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/v6ZC_f_-TB-o9YUCg7EBE.png)\r\
          \n\r\nI'm trying to invoke the same point as follows.\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/Nv_wckKVjkG9zT-fTYHtH.png)\r\
          \n\r\nBut I keep getting the following error.\r\n\r\n`botocore.errorfactory.ModelError:\
          \ An error occurred (ModelError) when calling the InvokeEndpoint operation:\
          \ Received client error (400) from model with message \"{\r\n  \"code\"\
          : 400,\r\n  \"type\": \"InternalServerException\",\r\n  \"message\": \"\
          Incorrect format used for image. Should be an url linking to an image, a\
          \ local path, or a PIL image.\"\r\n}`\r\n\r\nIs the input format in the\
          \ Body correct? if not what could be causing this. the image url i'm using\
          \ works fine and resolves to an image."
        updatedAt: '2023-11-22T16:19:57.945Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - bugslife
        - afromobile
    id: 655e2a2d4471bd95709ef062
    type: comment
  author: kulathilake
  content: "I've deployed a serverless inference endpoint on sagemaker as follows.\r\
    \n![image.png](https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/v6ZC_f_-TB-o9YUCg7EBE.png)\r\
    \n\r\nI'm trying to invoke the same point as follows.\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/6549e96aa80a87cccca11c2d/Nv_wckKVjkG9zT-fTYHtH.png)\r\
    \n\r\nBut I keep getting the following error.\r\n\r\n`botocore.errorfactory.ModelError:\
    \ An error occurred (ModelError) when calling the InvokeEndpoint operation: Received\
    \ client error (400) from model with message \"{\r\n  \"code\": 400,\r\n  \"type\"\
    : \"InternalServerException\",\r\n  \"message\": \"Incorrect format used for image.\
    \ Should be an url linking to an image, a local path, or a PIL image.\"\r\n}`\r\
    \n\r\nIs the input format in the Body correct? if not what could be causing this.\
    \ the image url i'm using works fine and resolves to an image."
  created_at: 2023-11-22 16:19:57+00:00
  edited: false
  hidden: false
  id: 655e2a2d4471bd95709ef062
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/04236af0fb464529341d9abb76645da0.svg
      fullname: Gil Amsalem
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gilamsalem
      type: user
    createdAt: '2023-12-03T21:35:42.000Z'
    data:
      edited: false
      editors:
      - gilamsalem
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9936039447784424
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/04236af0fb464529341d9abb76645da0.svg
          fullname: Gil Amsalem
          isHf: false
          isPro: false
          name: gilamsalem
          type: user
        html: '<p>I am also struggling with that. Any idea?</p>

          '
        raw: I am also struggling with that. Any idea?
        updatedAt: '2023-12-03T21:35:42.559Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - bugslife
    id: 656cf4ae7069c2390a56659a
    type: comment
  author: gilamsalem
  content: I am also struggling with that. Any idea?
  created_at: 2023-12-03 21:35:42+00:00
  edited: false
  hidden: false
  id: 656cf4ae7069c2390a56659a
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/628e8ba279548d9fc5e94cbb51198ed1.svg
      fullname: Ty Augustine
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: afromobile
      type: user
    createdAt: '2023-12-12T14:44:14.000Z'
    data:
      edited: false
      editors:
      - afromobile
      hidden: false
      identifiedLanguage:
        language: it
        probability: 0.9861560463905334
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/628e8ba279548d9fc5e94cbb51198ed1.svg
          fullname: Ty Augustine
          isHf: false
          isPro: false
          name: afromobile
          type: user
        html: '<p>+1</p>

          '
        raw: '+1'
        updatedAt: '2023-12-12T14:44:14.838Z'
      numEdits: 0
      reactions: []
    id: 657871bed54197901f6673d3
    type: comment
  author: afromobile
  content: '+1'
  created_at: 2023-12-12 14:44:14+00:00
  edited: false
  hidden: false
  id: 657871bed54197901f6673d3
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 26
repo_id: Salesforce/blip-image-captioning-large
repo_type: model
status: open
target_branch: null
title: Incorrect format used for Image, error when trying to invoke sagemaker endpoint.
