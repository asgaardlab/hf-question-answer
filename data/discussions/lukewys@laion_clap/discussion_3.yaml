!!python/object:huggingface_hub.community.DiscussionWithDetails
author: thibcastells
conflicting_files: null
created_at: 2023-05-31 08:58:10+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/8hZF_LZQ6ejoS_u_knXFV.png?w=200&h=200&f=face
      fullname: Thibault Castells
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: thibcastells
      type: user
    createdAt: '2023-05-31T09:58:10.000Z'
    data:
      edited: false
      editors:
      - thibcastells
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/8hZF_LZQ6ejoS_u_knXFV.png?w=200&h=200&f=face
          fullname: Thibault Castells
          isHf: false
          isPro: false
          name: thibcastells
          type: user
        html: '<p>Hello,<br>I would like to use your most recent checkpoints with
          transformers.ClapAudioModelWithProjection class.<br>I tried to load the
          state dict but the keys name are different, and the number of keys as well.</p>

          <p>If my understanding is correct, you already did this work for the previous
          checkpoints (<a href="https://huggingface.co/laion/clap-htsat-unfused">https://huggingface.co/laion/clap-htsat-unfused</a>),
          so it must be possible. Could you give me some hints on how to proceed?
          Thank you!</p>

          '
        raw: "Hello, \r\nI would like to use your most recent checkpoints with transformers.ClapAudioModelWithProjection\
          \ class.\r\nI tried to load the state dict but the keys name are different,\
          \ and the number of keys as well.\r\n\r\nIf my understanding is correct,\
          \ you already did this work for the previous checkpoints (https://huggingface.co/laion/clap-htsat-unfused),\
          \ so it must be possible. Could you give me some hints on how to proceed?\
          \ Thank you!"
        updatedAt: '2023-05-31T09:58:10.186Z'
      numEdits: 0
      reactions: []
    id: 64771a32d7cf39f2e93806fd
    type: comment
  author: thibcastells
  content: "Hello, \r\nI would like to use your most recent checkpoints with transformers.ClapAudioModelWithProjection\
    \ class.\r\nI tried to load the state dict but the keys name are different, and\
    \ the number of keys as well.\r\n\r\nIf my understanding is correct, you already\
    \ did this work for the previous checkpoints (https://huggingface.co/laion/clap-htsat-unfused),\
    \ so it must be possible. Could you give me some hints on how to proceed? Thank\
    \ you!"
  created_at: 2023-05-31 08:58:10+00:00
  edited: false
  hidden: false
  id: 64771a32d7cf39f2e93806fd
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: lukewys/laion_clap
repo_type: model
status: open
target_branch: null
title: Use new checkpoints with HuggingFace Transformer
