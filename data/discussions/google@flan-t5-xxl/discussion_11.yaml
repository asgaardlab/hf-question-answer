!!python/object:huggingface_hub.community.DiscussionWithDetails
author: michaelroyzen
conflicting_files: null
created_at: 2022-11-16 01:13:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
      fullname: Michael Royzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: michaelroyzen
      type: user
    createdAt: '2022-11-16T01:13:59.000Z'
    data:
      edited: false
      editors:
      - michaelroyzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
          fullname: Michael Royzen
          isHf: false
          isPro: true
          name: michaelroyzen
          type: user
        html: '<p>The config.json says that the activation function is ''gelu'' and
          yet ''is_gated_act'' is set to true. Shouldn''t the activation function
          be ''gated-gelu'' like the rest of T5v1.1-style models? Or if that''s not
          the case, shouldn''t ''is_gated_act'' be set to false?</p>

          '
        raw: The config.json says that the activation function is 'gelu' and yet 'is_gated_act'
          is set to true. Shouldn't the activation function be 'gated-gelu' like the
          rest of T5v1.1-style models? Or if that's not the case, shouldn't 'is_gated_act'
          be set to false?
        updatedAt: '2022-11-16T01:13:59.437Z'
      numEdits: 0
      reactions: []
    id: 637439577da0b794a5822aa3
    type: comment
  author: michaelroyzen
  content: The config.json says that the activation function is 'gelu' and yet 'is_gated_act'
    is set to true. Shouldn't the activation function be 'gated-gelu' like the rest
    of T5v1.1-style models? Or if that's not the case, shouldn't 'is_gated_act' be
    set to false?
  created_at: 2022-11-16 01:13:59+00:00
  edited: false
  hidden: false
  id: 637439577da0b794a5822aa3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
      fullname: Michael Royzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: michaelroyzen
      type: user
    createdAt: '2022-11-16T01:15:13.000Z'
    data:
      edited: false
      editors:
      - michaelroyzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
          fullname: Michael Royzen
          isHf: false
          isPro: true
          name: michaelroyzen
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;ybelkada&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/ybelkada\">@<span class=\"\
          underline\">ybelkada</span></a></span>\n\n\t</span></span></p>\n"
        raw: '@ybelkada'
        updatedAt: '2022-11-16T01:15:13.761Z'
      numEdits: 0
      reactions: []
    id: 637439a12d4eccfa6f968924
    type: comment
  author: michaelroyzen
  content: '@ybelkada'
  created_at: 2022-11-16 01:15:13+00:00
  edited: false
  hidden: false
  id: 637439a12d4eccfa6f968924
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
      fullname: Michael Royzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: michaelroyzen
      type: user
    createdAt: '2022-11-16T01:23:44.000Z'
    data:
      edited: false
      editors:
      - michaelroyzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
          fullname: Michael Royzen
          isHf: false
          isPro: true
          name: michaelroyzen
          type: user
        html: '<p>Given that this model is T5v1.1-initialized (as per <a rel="nofollow"
          href="https://github.com/google-research/t5x/blob/main/docs/models.md#t5-11-lm-adapted-checkpoints">https://github.com/google-research/t5x/blob/main/docs/models.md#t5-11-lm-adapted-checkpoints</a>),
          shouldn''t the config reflect that the activation is ''gated-gelu''?</p>

          '
        raw: Given that this model is T5v1.1-initialized (as per https://github.com/google-research/t5x/blob/main/docs/models.md#t5-11-lm-adapted-checkpoints),
          shouldn't the config reflect that the activation is 'gated-gelu'?
        updatedAt: '2022-11-16T01:23:44.008Z'
      numEdits: 0
      reactions: []
    id: 63743ba0250cf1379bc29754
    type: comment
  author: michaelroyzen
  content: Given that this model is T5v1.1-initialized (as per https://github.com/google-research/t5x/blob/main/docs/models.md#t5-11-lm-adapted-checkpoints),
    shouldn't the config reflect that the activation is 'gated-gelu'?
  created_at: 2022-11-16 01:23:44+00:00
  edited: false
  hidden: false
  id: 63743ba0250cf1379bc29754
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
      fullname: Michael Royzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: michaelroyzen
      type: user
    createdAt: '2022-11-16T03:07:24.000Z'
    data:
      edited: false
      editors:
      - michaelroyzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
          fullname: Michael Royzen
          isHf: false
          isPro: true
          name: michaelroyzen
          type: user
        html: "<p>Opened <a rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/issues/20250\"\
          >https://github.com/huggingface/transformers/issues/20250</a> <span data-props=\"\
          {&quot;user&quot;:&quot;ybelkada&quot;}\" data-target=\"UserMention\" class=\"\
          SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"inline-block\"><span\
          \ class=\"contents\"><a href=\"/ybelkada\">@<span class=\"underline\">ybelkada</span></a></span>\n\
          \n\t</span></span> <span data-props=\"{&quot;user&quot;:&quot;ArthurZ&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/ArthurZ\"\
          >@<span class=\"underline\">ArthurZ</span></a></span>\n\n\t</span></span></p>\n"
        raw: Opened https://github.com/huggingface/transformers/issues/20250 @ybelkada
          @ArthurZ
        updatedAt: '2022-11-16T03:07:24.987Z'
      numEdits: 0
      reactions: []
    id: 637453ecb2484d1af70561f7
    type: comment
  author: michaelroyzen
  content: Opened https://github.com/huggingface/transformers/issues/20250 @ybelkada
    @ArthurZ
  created_at: 2022-11-16 03:07:24+00:00
  edited: false
  hidden: false
  id: 637453ecb2484d1af70561f7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
      fullname: Michael Royzen
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: true
      name: michaelroyzen
      type: user
    createdAt: '2022-11-16T03:08:19.000Z'
    data:
      edited: false
      editors:
      - michaelroyzen
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1624223414317-noauth.jpeg?w=200&h=200&f=face
          fullname: Michael Royzen
          isHf: false
          isPro: true
          name: michaelroyzen
          type: user
        html: '<p>The solution is simple: "feed_forward_proj" should be "gated-gelu"
          and "dense_act_fn" is redundant and should be removed entirely from the
          config.</p>

          '
        raw: 'The solution is simple: "feed_forward_proj" should be "gated-gelu" and
          "dense_act_fn" is redundant and should be removed entirely from the config.'
        updatedAt: '2022-11-16T03:08:19.087Z'
      numEdits: 0
      reactions: []
    id: 637454233e75422985bee556
    type: comment
  author: michaelroyzen
  content: 'The solution is simple: "feed_forward_proj" should be "gated-gelu" and
    "dense_act_fn" is redundant and should be removed entirely from the config.'
  created_at: 2022-11-16 03:08:19+00:00
  edited: false
  hidden: false
  id: 637454233e75422985bee556
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2022-11-16T13:19:53.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: "<p>hi <span data-props=\"{&quot;user&quot;:&quot;michaelroyzen&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/michaelroyzen\"\
          >@<span class=\"underline\">michaelroyzen</span></a></span>\n\n\t</span></span><br>thanks\
          \ for raising this. Let me get back to you asap</p>\n"
        raw: "hi @michaelroyzen \nthanks for raising this. Let me get back to you\
          \ asap"
        updatedAt: '2022-11-16T13:19:53.536Z'
      numEdits: 0
      reactions: []
    id: 6374e3796ea8da14f8ffc848
    type: comment
  author: ybelkada
  content: "hi @michaelroyzen \nthanks for raising this. Let me get back to you asap"
  created_at: 2022-11-16 13:19:53+00:00
  edited: false
  hidden: false
  id: 6374e3796ea8da14f8ffc848
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2022-11-16T15:17:15.000Z'
    data:
      edited: false
      editors:
      - ybelkada
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
          fullname: Younes Belkada
          isHf: true
          isPro: false
          name: ybelkada
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;michaelroyzen&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/michaelroyzen\"\
          >@<span class=\"underline\">michaelroyzen</span></a></span>\n\n\t</span></span><br>We\
          \ have updated the config files accordingly. Thanks for raising the issue</p>\n"
        raw: "Hi @michaelroyzen \nWe have updated the config files accordingly. Thanks\
          \ for raising the issue"
        updatedAt: '2022-11-16T15:17:15.305Z'
      numEdits: 0
      reactions: []
    id: 6374fefb6e0d6f1f3c0b427f
    type: comment
  author: ybelkada
  content: "Hi @michaelroyzen \nWe have updated the config files accordingly. Thanks\
    \ for raising the issue"
  created_at: 2022-11-16 15:17:15+00:00
  edited: false
  hidden: false
  id: 6374fefb6e0d6f1f3c0b427f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1648631057413-noauth.png?w=200&h=200&f=face
      fullname: Younes Belkada
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: ybelkada
      type: user
    createdAt: '2022-11-17T15:15:51.000Z'
    data:
      status: closed
    id: 63765027ace6a1bbf3341a40
    type: status-change
  author: ybelkada
  created_at: 2022-11-17 15:15:51+00:00
  id: 63765027ace6a1bbf3341a40
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 11
repo_id: google/flan-t5-xxl
repo_type: model
status: closed
target_branch: null
title: Activation function config inconsistent
