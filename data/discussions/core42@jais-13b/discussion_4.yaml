!!python/object:huggingface_hub.community.DiscussionWithDetails
author: msalhab96
conflicting_files: null
created_at: 2023-09-04 06:51:18+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
      fullname: Mahmoud Salhab
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: msalhab96
      type: user
    createdAt: '2023-09-04T07:51:18.000Z'
    data:
      edited: false
      editors:
      - msalhab96
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9711524248123169
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
          fullname: Mahmoud Salhab
          isHf: false
          isPro: false
          name: msalhab96
          type: user
        html: '<p>I''m trying to replicate the results of lm-eval using lm-harness
          as mentioned in the paper under zero shot-setting, but it seems the values
          in the paper does not match the values I get for the foundation model, is
          it the same model that has been benchmarked in the paper? </p>

          '
        raw: "I'm trying to replicate the results of lm-eval using lm-harness as mentioned\
          \ in the paper under zero shot-setting, but it seems the values in the paper\
          \ does not match the values I get for the foundation model, is it the same\
          \ model that has been benchmarked in the paper? \r\n"
        updatedAt: '2023-09-04T07:51:18.876Z'
      numEdits: 0
      reactions: []
    id: 64f58c760d5769ee7159daf8
    type: comment
  author: msalhab96
  content: "I'm trying to replicate the results of lm-eval using lm-harness as mentioned\
    \ in the paper under zero shot-setting, but it seems the values in the paper does\
    \ not match the values I get for the foundation model, is it the same model that\
    \ has been benchmarked in the paper? \r\n"
  created_at: 2023-09-04 06:51:18+00:00
  edited: false
  hidden: false
  id: 64f58c760d5769ee7159daf8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9b3b2d12ad3e1959aacfefbb931986dd.svg
      fullname: samta kamboj
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: samta-kamboj
      type: user
    createdAt: '2023-09-04T11:40:28.000Z'
    data:
      edited: true
      editors:
      - samta-kamboj
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9832881093025208
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9b3b2d12ad3e1959aacfefbb931986dd.svg
          fullname: samta kamboj
          isHf: false
          isPro: false
          name: samta-kamboj
          type: user
        html: '<p>Yes, its the same model. Please share the results that you got and
          the metric you are trying to compare.</p>

          '
        raw: Yes, its the same model. Please share the results that you got and the
          metric you are trying to compare.
        updatedAt: '2023-09-04T11:44:25.328Z'
      numEdits: 1
      reactions: []
    id: 64f5c22c5e2a868aa39ab2de
    type: comment
  author: samta-kamboj
  content: Yes, its the same model. Please share the results that you got and the
    metric you are trying to compare.
  created_at: 2023-09-04 10:40:28+00:00
  edited: true
  hidden: false
  id: 64f5c22c5e2a868aa39ab2de
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
      fullname: Mahmoud Salhab
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: msalhab96
      type: user
    createdAt: '2023-09-04T11:55:44.000Z'
    data:
      edited: true
      editors:
      - msalhab96
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8443949222564697
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
          fullname: Mahmoud Salhab
          isHf: false
          isPro: false
          name: msalhab96
          type: user
        html: '<p>I tried HellaSwag, arc challenge, MMLU, zero-shot as in the paper
          </p>

          <p>using <a rel="nofollow" href="https://github.com/EleutherAI/lm-evaluation-harness">https://github.com/EleutherAI/lm-evaluation-harness</a>
          </p>

          <p>for arc_challange here how my command looks like </p>

          <pre><code>python main.py --model hf-causal --model_args pretrained=inception-mbzuai/jais-13b,trust_remote_code=True
          --tasks arc_challenge --num_fewshot 0

          </code></pre>

          '
        raw: "I tried HellaSwag, arc challenge, MMLU, zero-shot as in the paper \n\
          \nusing https://github.com/EleutherAI/lm-evaluation-harness \n\nfor arc_challange\
          \ here how my command looks like \n```\npython main.py --model hf-causal\
          \ --model_args pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\
          \ --tasks arc_challenge --num_fewshot 0\n```"
        updatedAt: '2023-09-04T12:02:45.806Z'
      numEdits: 2
      reactions: []
    id: 64f5c5c0abc51e6b0f8eae56
    type: comment
  author: msalhab96
  content: "I tried HellaSwag, arc challenge, MMLU, zero-shot as in the paper \n\n\
    using https://github.com/EleutherAI/lm-evaluation-harness \n\nfor arc_challange\
    \ here how my command looks like \n```\npython main.py --model hf-causal --model_args\
    \ pretrained=inception-mbzuai/jais-13b,trust_remote_code=True --tasks arc_challenge\
    \ --num_fewshot 0\n```"
  created_at: 2023-09-04 10:55:44+00:00
  edited: true
  hidden: false
  id: 64f5c5c0abc51e6b0f8eae56
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9b3b2d12ad3e1959aacfefbb931986dd.svg
      fullname: samta kamboj
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: samta-kamboj
      type: user
    createdAt: '2023-09-04T12:06:23.000Z'
    data:
      edited: false
      editors:
      - samta-kamboj
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9580468535423279
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/9b3b2d12ad3e1959aacfefbb931986dd.svg
          fullname: samta kamboj
          isHf: false
          isPro: false
          name: samta-kamboj
          type: user
        html: '<p>Thanks, Could you please share the results (actual numbers that
          you got) and also what metric are you looking at "acc" or "acc_norm"?</p>

          '
        raw: Thanks, Could you please share the results (actual numbers that you got)
          and also what metric are you looking at "acc" or "acc_norm"?
        updatedAt: '2023-09-04T12:06:23.363Z'
      numEdits: 0
      reactions: []
    id: 64f5c83f6a89a9fc0dcbd9bf
    type: comment
  author: samta-kamboj
  content: Thanks, Could you please share the results (actual numbers that you got)
    and also what metric are you looking at "acc" or "acc_norm"?
  created_at: 2023-09-04 11:06:23+00:00
  edited: false
  hidden: false
  id: 64f5c83f6a89a9fc0dcbd9bf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
      fullname: Mahmoud Salhab
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: msalhab96
      type: user
    createdAt: '2023-09-04T12:13:31.000Z'
    data:
      edited: false
      editors:
      - msalhab96
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.44986268877983093
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
          fullname: Mahmoud Salhab
          isHf: false
          isPro: false
          name: msalhab96
          type: user
        html: "<p>Here is the results for hellaswag, the reported number in the paper\
          \ is 71.8 while the acc_norm is 43.75</p>\n<pre><code>{\n  \"results\":\
          \ {\n    \"hellaswag\": {\n      \"acc\": 0.37134037044413465,\n      \"\
          acc_stderr\": 0.0048217577341567374,\n      \"acc_norm\": 0.43756223859788884,\n\
          \      \"acc_norm_stderr\": 0.004950723480149755\n    }\n  },\n  \"versions\"\
          : {\n    \"hellaswag\": 0\n  },\n  \"config\": {\n    \"model\": \"hf-causal\"\
          ,\n    \"model_args\": \"pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\"\
          ,\n    \"num_fewshot\": 0,\n    \"batch_size\": null,\n    \"batch_sizes\"\
          : [],\n    \"device\": null,\n    \"no_cache\": false,\n    \"limit\": null,\n\
          \    \"bootstrap_iters\": 100000,\n    \"description_dict\": {}\n  }\n}\n\
          </code></pre>\n<p>The command used </p>\n<pre><code>python main.py --model\
          \ hf-causal --model_args pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\
          \ --tasks hellaswag --num_fewshot 0\n</code></pre>\n"
        raw: "Here is the results for hellaswag, the reported number in the paper\
          \ is 71.8 while the acc_norm is 43.75\n\n```\n{\n  \"results\": {\n    \"\
          hellaswag\": {\n      \"acc\": 0.37134037044413465,\n      \"acc_stderr\"\
          : 0.0048217577341567374,\n      \"acc_norm\": 0.43756223859788884,\n   \
          \   \"acc_norm_stderr\": 0.004950723480149755\n    }\n  },\n  \"versions\"\
          : {\n    \"hellaswag\": 0\n  },\n  \"config\": {\n    \"model\": \"hf-causal\"\
          ,\n    \"model_args\": \"pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\"\
          ,\n    \"num_fewshot\": 0,\n    \"batch_size\": null,\n    \"batch_sizes\"\
          : [],\n    \"device\": null,\n    \"no_cache\": false,\n    \"limit\": null,\n\
          \    \"bootstrap_iters\": 100000,\n    \"description_dict\": {}\n  }\n}\n\
          \n```\n\nThe command used \n\n```\npython main.py --model hf-causal --model_args\
          \ pretrained=inception-mbzuai/jais-13b,trust_remote_code=True --tasks hellaswag\
          \ --num_fewshot 0\n```"
        updatedAt: '2023-09-04T12:13:31.679Z'
      numEdits: 0
      reactions: []
    id: 64f5c9eb9b5793eb2f4da3f8
    type: comment
  author: msalhab96
  content: "Here is the results for hellaswag, the reported number in the paper is\
    \ 71.8 while the acc_norm is 43.75\n\n```\n{\n  \"results\": {\n    \"hellaswag\"\
    : {\n      \"acc\": 0.37134037044413465,\n      \"acc_stderr\": 0.0048217577341567374,\n\
    \      \"acc_norm\": 0.43756223859788884,\n      \"acc_norm_stderr\": 0.004950723480149755\n\
    \    }\n  },\n  \"versions\": {\n    \"hellaswag\": 0\n  },\n  \"config\": {\n\
    \    \"model\": \"hf-causal\",\n    \"model_args\": \"pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\"\
    ,\n    \"num_fewshot\": 0,\n    \"batch_size\": null,\n    \"batch_sizes\": [],\n\
    \    \"device\": null,\n    \"no_cache\": false,\n    \"limit\": null,\n    \"\
    bootstrap_iters\": 100000,\n    \"description_dict\": {}\n  }\n}\n\n```\n\nThe\
    \ command used \n\n```\npython main.py --model hf-causal --model_args pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\
    \ --tasks hellaswag --num_fewshot 0\n```"
  created_at: 2023-09-04 11:13:31+00:00
  edited: false
  hidden: false
  id: 64f5c9eb9b5793eb2f4da3f8
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7ecbafc435c7779769dfb1857300cbeb.svg
      fullname: Onkar Pandit
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: onkarpandit-g42
      type: user
    createdAt: '2023-09-07T10:35:53.000Z'
    data:
      edited: false
      editors:
      - onkarpandit-g42
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8416623473167419
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7ecbafc435c7779769dfb1857300cbeb.svg
          fullname: Onkar Pandit
          isHf: false
          isPro: false
          name: onkarpandit-g42
          type: user
        html: '<p>Thank you for  the message!</p>

          <p>We have verified results for the above mentioned tasks and we have got
          same numbers as we reported in our paper. The reported results are reproducible
          when we load the model in original precision i.e. float32.<br>However, when
          we load the model in float16 we got the results which you noted above. Therefore,
          the lower precision seems to be lowering the performance of the model.</p>

          <p>We suggest you to load the model in original float32 precision to reproduce
          the results.<br>You can do this by reserving enough GPU/CPU memory (either
          with single gpu or multiple gpus) around 60 GB . The following command can
          be used to run the evaluations </p>

          <p><code>python main.py --model hf-causal-experimental --model_args use_accelerate=True,pretrained=inception-mbzuai/jais-13b,trust_remote_code=True
          --tasks hellaswag --num_fewshot 0</code></p>

          <p> The flag <code>use_accelerate=True</code> will load model over multiple
          GPUs in efficient manner.</p>

          '
        raw: "Thank you for  the message!\n\nWe have verified results for the above\
          \ mentioned tasks and we have got same numbers as we reported in our paper.\
          \ The reported results are reproducible when we load the model in original\
          \ precision i.e. float32.\nHowever, when we load the model in float16 we\
          \ got the results which you noted above. Therefore, the lower precision\
          \ seems to be lowering the performance of the model.\n\nWe suggest you to\
          \ load the model in original float32 precision to reproduce the results.\n\
          You can do this by reserving enough GPU/CPU memory (either with single gpu\
          \ or multiple gpus) around 60 GB . The following command can be used to\
          \ run the evaluations \n\n```python main.py --model hf-causal-experimental\
          \ --model_args use_accelerate=True,pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\
          \ --tasks hellaswag --num_fewshot 0```\n\n The flag ```use_accelerate=True```\
          \ will load model over multiple GPUs in efficient manner."
        updatedAt: '2023-09-07T10:35:53.804Z'
      numEdits: 0
      reactions: []
    id: 64f9a789383bbd73ddd9065c
    type: comment
  author: onkarpandit-g42
  content: "Thank you for  the message!\n\nWe have verified results for the above\
    \ mentioned tasks and we have got same numbers as we reported in our paper. The\
    \ reported results are reproducible when we load the model in original precision\
    \ i.e. float32.\nHowever, when we load the model in float16 we got the results\
    \ which you noted above. Therefore, the lower precision seems to be lowering the\
    \ performance of the model.\n\nWe suggest you to load the model in original float32\
    \ precision to reproduce the results.\nYou can do this by reserving enough GPU/CPU\
    \ memory (either with single gpu or multiple gpus) around 60 GB . The following\
    \ command can be used to run the evaluations \n\n```python main.py --model hf-causal-experimental\
    \ --model_args use_accelerate=True,pretrained=inception-mbzuai/jais-13b,trust_remote_code=True\
    \ --tasks hellaswag --num_fewshot 0```\n\n The flag ```use_accelerate=True```\
    \ will load model over multiple GPUs in efficient manner."
  created_at: 2023-09-07 09:35:53+00:00
  edited: false
  hidden: false
  id: 64f9a789383bbd73ddd9065c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/5f75bc2f6d6bee2ef64e7eea89c54bad.svg
      fullname: Mahmoud Salhab
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: msalhab96
      type: user
    createdAt: '2023-09-10T06:32:50.000Z'
    data:
      status: closed
    id: 64fd631252e82dd432aa42c5
    type: status-change
  author: msalhab96
  created_at: 2023-09-10 05:32:50+00:00
  id: 64fd631252e82dd432aa42c5
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: core42/jais-13b
repo_type: model
status: closed
target_branch: null
title: 'English Benchmarking '
