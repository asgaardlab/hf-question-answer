!!python/object:huggingface_hub.community.DiscussionWithDetails
author: FK7
conflicting_files: null
created_at: 2023-11-05 10:45:09+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/42ea8cd38ebc8b72b599c705e179e899.svg
      fullname: Fahad
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FK7
      type: user
    createdAt: '2023-11-05T10:45:09.000Z'
    data:
      edited: false
      editors:
      - FK7
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7280665040016174
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/42ea8cd38ebc8b72b599c705e179e899.svg
          fullname: Fahad
          isHf: false
          isPro: false
          name: FK7
          type: user
        html: '<p>Hello Team,</p>

          <p>I encountered an error when executing the sample code and would appreciate
          your assistance in resolving it.</p>

          <p>The error trace is as follows:</p>

          <ul>

          <li>The error originates in the file "", line 1, within a module.</li>

          <li>It traces back to a function called <code>get_response_test</code> in
          the same file, line 5.</li>

          <li>The issue seems to stem from the <code>/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/torch/utils/_contextlib.py</code>
          file, specifically line 115, in the <code>decorate_context</code> function.</li>

          <li>Further, in the <code>generate</code> function of <code>/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py</code>
          at line 1210, there''s a validation process for the model class.</li>

          <li>The actual error is identified in line 1089 of the same file, in the
          <code>_validate_model_class</code> function. It throws a <code>TypeError</code>,
          indicating that the current model class (<code>JAISModel</code>) is incompatible
          with the <code>.generate()</code> function, as it lacks a language model
          head.</li>

          </ul>

          <p><code>Traceback (most recent call last):</code><br>  <code>File "&lt;stdin&gt;",
          line 1, in &lt;module&gt;</code><br>  <code>File "&lt;stdin&gt;", line 5,
          in get_response_test</code><br> <code> File "/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/torch/utils/_contextlib.py",
          line 115, in decorate_context</code><br>    <code>return func(*args, **kwargs)</code><br>  <code>File
          "/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py",
          line 1210, in generate</code><br>    <code>self._validate_model_class()</code><br>  <code>File
          "/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py",
          line 1089, in _validate_model_class</code><br>    <code>raise TypeError(exception_message)</code><br><code>TypeError:
          The current model class (JAISModel) is not compatible with </code>.generate()<code>,
          as it doesn''t have a language model head.</code><br><code>&gt;&gt;&gt;</code></p>

          <p>Looking forward to your guidance to fix this issue.</p>

          <p>Thanks,</p>

          '
        raw: "Hello Team,\r\n\r\nI encountered an error when executing the sample\
          \ code and would appreciate your assistance in resolving it.\r\n\r\nThe\
          \ error trace is as follows:\r\n\r\n- The error originates in the file \"\
          <stdin>\", line 1, within a module.\r\n- It traces back to a function called\
          \ `get_response_test` in the same file, line 5.\r\n- The issue seems to\
          \ stem from the `/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/torch/utils/_contextlib.py`\
          \ file, specifically line 115, in the `decorate_context` function.\r\n-\
          \ Further, in the `generate` function of `/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py`\
          \ at line 1210, there's a validation process for the model class.\r\n- The\
          \ actual error is identified in line 1089 of the same file, in the `_validate_model_class`\
          \ function. It throws a `TypeError`, indicating that the current model class\
          \ (`JAISModel`) is incompatible with the `.generate()` function, as it lacks\
          \ a language model head.\r\n\r\n`Traceback (most recent call last):`\r\n\
          \  `File \"<stdin>\", line 1, in <module>`\r\n  `File \"<stdin>\", line\
          \ 5, in get_response_test`\r\n ` File \"/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/torch/utils/_contextlib.py\"\
          , line 115, in decorate_context`\r\n    `return func(*args, **kwargs)`\r\
          \n  `File \"/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py\"\
          , line 1210, in generate`\r\n    `self._validate_model_class()`\r\n  `File\
          \ \"/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py\"\
          , line 1089, in _validate_model_class`\r\n    `raise TypeError(exception_message)`\r\
          \n`TypeError: The current model class (JAISModel) is not compatible with\
          \ `.generate()`, as it doesn't have a language model head.`\r\n`>>>`\r\n\
          \r\nLooking forward to your guidance to fix this issue.\r\n\r\nThanks,"
        updatedAt: '2023-11-05T10:45:09.041Z'
      numEdits: 0
      reactions: []
    id: 65477235565e3985e8a79d16
    type: comment
  author: FK7
  content: "Hello Team,\r\n\r\nI encountered an error when executing the sample code\
    \ and would appreciate your assistance in resolving it.\r\n\r\nThe error trace\
    \ is as follows:\r\n\r\n- The error originates in the file \"<stdin>\", line 1,\
    \ within a module.\r\n- It traces back to a function called `get_response_test`\
    \ in the same file, line 5.\r\n- The issue seems to stem from the `/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/torch/utils/_contextlib.py`\
    \ file, specifically line 115, in the `decorate_context` function.\r\n- Further,\
    \ in the `generate` function of `/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py`\
    \ at line 1210, there's a validation process for the model class.\r\n- The actual\
    \ error is identified in line 1089 of the same file, in the `_validate_model_class`\
    \ function. It throws a `TypeError`, indicating that the current model class (`JAISModel`)\
    \ is incompatible with the `.generate()` function, as it lacks a language model\
    \ head.\r\n\r\n`Traceback (most recent call last):`\r\n  `File \"<stdin>\", line\
    \ 1, in <module>`\r\n  `File \"<stdin>\", line 5, in get_response_test`\r\n `\
    \ File \"/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/torch/utils/_contextlib.py\"\
    , line 115, in decorate_context`\r\n    `return func(*args, **kwargs)`\r\n  `File\
    \ \"/LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py\"\
    , line 1210, in generate`\r\n    `self._validate_model_class()`\r\n  `File \"\
    /LLM/miniconda3/envs/jais-13b/lib/python3.10/site-packages/transformers/generation/utils.py\"\
    , line 1089, in _validate_model_class`\r\n    `raise TypeError(exception_message)`\r\
    \n`TypeError: The current model class (JAISModel) is not compatible with `.generate()`,\
    \ as it doesn't have a language model head.`\r\n`>>>`\r\n\r\nLooking forward to\
    \ your guidance to fix this issue.\r\n\r\nThanks,"
  created_at: 2023-11-05 10:45:09+00:00
  edited: false
  hidden: false
  id: 65477235565e3985e8a79d16
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 8
repo_id: core42/jais-13b
repo_type: model
status: open
target_branch: null
title: The current model class (JAISModel) is not compatible with `.generate()`, as
  it doesn't have a language model head.
