!!python/object:huggingface_hub.community.DiscussionWithDetails
author: m02ph3u5
conflicting_files: null
created_at: 2022-09-01 19:59:45+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661697073376-630b7bffe67c604e9b7c5efe.png?w=200&h=200&f=face
      fullname: Ronald
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: m02ph3u5
      type: user
    createdAt: '2022-09-01T20:59:45.000Z'
    data:
      edited: false
      editors:
      - m02ph3u5
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661697073376-630b7bffe67c604e9b7c5efe.png?w=200&h=200&f=face
          fullname: Ronald
          isHf: false
          isPro: false
          name: m02ph3u5
          type: user
        html: '<p>Is there a way to generate like a sneak preview with a low number
          of inference steps and then plug the image back in again for some more inference?
          Or to make it spit out previews every so many steps?</p>

          <p>Right now I engineer the prompt with like ten steps to find a good idea,
          grab the seed and then run 80 steps, a hundred steps etc. to find something
          that really shines. But it''s a real waste of time and electric power to
          run the full 100 steps when you just ran 80 of them. It''d be great to pick
          up where you left off.</p>

          '
        raw: "Is there a way to generate like a sneak preview with a low number of\
          \ inference steps and then plug the image back in again for some more inference?\
          \ Or to make it spit out previews every so many steps?\r\n\r\nRight now\
          \ I engineer the prompt with like ten steps to find a good idea, grab the\
          \ seed and then run 80 steps, a hundred steps etc. to find something that\
          \ really shines. But it's a real waste of time and electric power to run\
          \ the full 100 steps when you just ran 80 of them. It'd be great to pick\
          \ up where you left off."
        updatedAt: '2022-09-01T20:59:45.486Z'
      numEdits: 0
      reactions: []
    id: 63111d4188942700629f6ba6
    type: comment
  author: m02ph3u5
  content: "Is there a way to generate like a sneak preview with a low number of inference\
    \ steps and then plug the image back in again for some more inference? Or to make\
    \ it spit out previews every so many steps?\r\n\r\nRight now I engineer the prompt\
    \ with like ten steps to find a good idea, grab the seed and then run 80 steps,\
    \ a hundred steps etc. to find something that really shines. But it's a real waste\
    \ of time and electric power to run the full 100 steps when you just ran 80 of\
    \ them. It'd be great to pick up where you left off."
  created_at: 2022-09-01 19:59:45+00:00
  edited: false
  hidden: false
  id: 63111d4188942700629f6ba6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
      fullname: Patrick von Platen
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: patrickvonplaten
      type: user
    createdAt: '2022-09-01T21:23:15.000Z'
    data:
      edited: false
      editors:
      - patrickvonplaten
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1584435275418-5dfcb1aada6d0311fd3d5448.jpeg?w=200&h=200&f=face
          fullname: Patrick von Platen
          isHf: true
          isPro: false
          name: patrickvonplaten
          type: user
        html: "<p>Hey <span data-props=\"{&quot;user&quot;:&quot;m02ph3u5&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/m02ph3u5\"\
          >@<span class=\"underline\">m02ph3u5</span></a></span>\n\n\t</span></span>,</p>\n\
          <p>I understand your use case! It's a bit specific IMo but it's totally\
          \ possible to do exactly this with diffusers! </p>\n<p>You should simply\
          \ write out the loop of the Stable Diffusion Pipeline as is done here:<br><a\
          \ href=\"https://huggingface.co/blog/stable_diffusion#writing-your-own-inference-pipeline\"\
          >https://huggingface.co/blog/stable_diffusion#writing-your-own-inference-pipeline</a></p>\n\
          <p>And then make sure to set a breakpoint after 20 steps or some interactive\
          \ code logic so that you can decide to either continue the loop or stop\
          \ it</p>\n"
        raw: "Hey @m02ph3u5,\n\nI understand your use case! It's a bit specific IMo\
          \ but it's totally possible to do exactly this with diffusers! \n\nYou should\
          \ simply write out the loop of the Stable Diffusion Pipeline as is done\
          \ here:\nhttps://huggingface.co/blog/stable_diffusion#writing-your-own-inference-pipeline\n\
          \nAnd then make sure to set a breakpoint after 20 steps or some interactive\
          \ code logic so that you can decide to either continue the loop or stop\
          \ it"
        updatedAt: '2022-09-01T21:23:15.025Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - m02ph3u5
    id: 631122c388942700629fa257
    type: comment
  author: patrickvonplaten
  content: "Hey @m02ph3u5,\n\nI understand your use case! It's a bit specific IMo\
    \ but it's totally possible to do exactly this with diffusers! \n\nYou should\
    \ simply write out the loop of the Stable Diffusion Pipeline as is done here:\n\
    https://huggingface.co/blog/stable_diffusion#writing-your-own-inference-pipeline\n\
    \nAnd then make sure to set a breakpoint after 20 steps or some interactive code\
    \ logic so that you can decide to either continue the loop or stop it"
  created_at: 2022-09-01 20:23:15+00:00
  edited: false
  hidden: false
  id: 631122c388942700629fa257
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0ae9421c953e42655df328f4af0c8fa2.svg
      fullname: Alex
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xalex
      type: user
    createdAt: '2022-09-01T22:28:59.000Z'
    data:
      edited: false
      editors:
      - xalex
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0ae9421c953e42655df328f4af0c8fa2.svg
          fullname: Alex
          isHf: false
          isPro: false
          name: xalex
          type: user
        html: '<p>Have a look at <code>torch.get_rng_state</code> and torch.set_rng_state`.
          When you load the state of the initialization vector and load the rng state
          before the loop you should be able to skip the first 20 iterations.</p>

          '
        raw: Have a look at `torch.get_rng_state` and torch.set_rng_state`. When you
          load the state of the initialization vector and load the rng state before
          the loop you should be able to skip the first 20 iterations.
        updatedAt: '2022-09-01T22:28:59.735Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - patrickvonplaten
    id: 6311322b631a69165c0a255e
    type: comment
  author: xalex
  content: Have a look at `torch.get_rng_state` and torch.set_rng_state`. When you
    load the state of the initialization vector and load the rng state before the
    loop you should be able to skip the first 20 iterations.
  created_at: 2022-09-01 21:28:59+00:00
  edited: false
  hidden: false
  id: 6311322b631a69165c0a255e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661697073376-630b7bffe67c604e9b7c5efe.png?w=200&h=200&f=face
      fullname: Ronald
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: m02ph3u5
      type: user
    createdAt: '2022-09-01T23:24:58.000Z'
    data:
      edited: false
      editors:
      - m02ph3u5
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661697073376-630b7bffe67c604e9b7c5efe.png?w=200&h=200&f=face
          fullname: Ronald
          isHf: false
          isPro: false
          name: m02ph3u5
          type: user
        html: '<p>Thanks for the quick replies. I''ll give it a spin and report back
          once I got to it.</p>

          '
        raw: Thanks for the quick replies. I'll give it a spin and report back once
          I got to it.
        updatedAt: '2022-09-01T23:24:58.962Z'
      numEdits: 0
      reactions: []
    id: 63113f4ad43c55e811fad68e
    type: comment
  author: m02ph3u5
  content: Thanks for the quick replies. I'll give it a spin and report back once
    I got to it.
  created_at: 2022-09-01 22:24:58+00:00
  edited: false
  hidden: false
  id: 63113f4ad43c55e811fad68e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0ae9421c953e42655df328f4af0c8fa2.svg
      fullname: Alex
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: xalex
      type: user
    createdAt: '2022-09-02T14:27:16.000Z'
    data:
      edited: false
      editors:
      - xalex
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0ae9421c953e42655df328f4af0c8fa2.svg
          fullname: Alex
          isHf: false
          isPro: false
          name: xalex
          type: user
        html: '<p>Sorry, but it will probably NOT work like this.</p>

          <p>When you run it with 20 Steps, then 0-100% are stretched over 20 steps.
          When you would diffuse for 20 of 100 steps, then you would get a noisy image
          (that could then be improved by running another 80 steps).<br>You may have
          success using the image2image pipeline, but it will probably change your
          image more than running the pipeline again.</p>

          '
        raw: 'Sorry, but it will probably NOT work like this.


          When you run it with 20 Steps, then 0-100% are stretched over 20 steps.
          When you would diffuse for 20 of 100 steps, then you would get a noisy image
          (that could then be improved by running another 80 steps).

          You may have success using the image2image pipeline, but it will probably
          change your image more than running the pipeline again.'
        updatedAt: '2022-09-02T14:27:16.254Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F614"
        users:
        - m02ph3u5
    id: 631212c4d5a165db5d214dca
    type: comment
  author: xalex
  content: 'Sorry, but it will probably NOT work like this.


    When you run it with 20 Steps, then 0-100% are stretched over 20 steps. When you
    would diffuse for 20 of 100 steps, then you would get a noisy image (that could
    then be improved by running another 80 steps).

    You may have success using the image2image pipeline, but it will probably change
    your image more than running the pipeline again.'
  created_at: 2022-09-02 13:27:16+00:00
  edited: false
  hidden: false
  id: 631212c4d5a165db5d214dca
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661697073376-630b7bffe67c604e9b7c5efe.png?w=200&h=200&f=face
      fullname: Ronald
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: m02ph3u5
      type: user
    createdAt: '2022-09-02T20:54:48.000Z'
    data:
      edited: false
      editors:
      - m02ph3u5
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1661697073376-630b7bffe67c604e9b7c5efe.png?w=200&h=200&f=face
          fullname: Ronald
          isHf: false
          isPro: false
          name: m02ph3u5
          type: user
        html: '<p>Thanks xalex, that''s what I''d imagined. I''ll play around with
          the pipeline anyway.</p>

          '
        raw: Thanks xalex, that's what I'd imagined. I'll play around with the pipeline
          anyway.
        updatedAt: '2022-09-02T20:54:48.473Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - patrickvonplaten
    id: 63126d9840ce582c9567948c
    type: comment
  author: m02ph3u5
  content: Thanks xalex, that's what I'd imagined. I'll play around with the pipeline
    anyway.
  created_at: 2022-09-02 19:54:48+00:00
  edited: false
  hidden: false
  id: 63126d9840ce582c9567948c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 34
repo_id: CompVis/stable-diffusion-v1-4
repo_type: model
status: open
target_branch: null
title: Generate quick result with low number of steps, peek, then run for longer
