!!python/object:huggingface_hub.community.DiscussionWithDetails
author: cmmalana
conflicting_files: null
created_at: 2023-01-29 08:46:09+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7f9980a11b5e228289c244984dba3630.svg
      fullname: Christian Alulod
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: cmmalana
      type: user
    createdAt: '2023-01-29T08:46:09.000Z'
    data:
      edited: true
      editors:
      - cmmalana
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7f9980a11b5e228289c244984dba3630.svg
          fullname: Christian Alulod
          isHf: false
          isPro: false
          name: cmmalana
          type: user
        html: '<p>Newbie here. I am interested in stable diffusion and wanted to practice
          and see how it performs. I came across this site and <a rel="nofollow" href="https://github.com/huggingface/diffusers/tree/main#new--stable-diffusion-is-now-fully-compatible-with-diffusers">https://github.com/huggingface/diffusers/tree/main#new--stable-diffusion-is-now-fully-compatible-with-diffusers</a>
          which I followed the code:</p>

          <p>import torch<br>from diffusers import StableDiffusionPipeline</p>

          <p>pipe = StableDiffusionPipeline.from_pretrained("CompVis/stable-diffusion-v1-4",
          revision="fp16", torch_dtype=torch.float16, safety_checker=None)<br>pipe
          = pipe.to("cuda")</p>

          <p>prompt = "a photo of an astronaut riding a horse on mars"<br>image =
          pipe(prompt).images[0]  </p>

          <p>image.save("astronaut_rides_horse.png")</p>

          <p>My issue is I am having this error in terminal and the file "astronaut_rides_horse.png"
          is only a black image:<br>Python\Python310\lib\site-packages\diffusers\pipelines\pipeline_utils.py:818:
          RuntimeWarning: invalid value encountered in cast<br>  images = (images
          * 255).round().astype("uint8")</p>

          '
        raw: "Newbie here. I am interested in stable diffusion and wanted to practice\
          \ and see how it performs. I came across this site and https://github.com/huggingface/diffusers/tree/main#new--stable-diffusion-is-now-fully-compatible-with-diffusers\
          \ which I followed the code:\n\nimport torch\nfrom diffusers import StableDiffusionPipeline\n\
          \npipe = StableDiffusionPipeline.from_pretrained(\"CompVis/stable-diffusion-v1-4\"\
          , revision=\"fp16\", torch_dtype=torch.float16, safety_checker=None)\npipe\
          \ = pipe.to(\"cuda\")\n\nprompt = \"a photo of an astronaut riding a horse\
          \ on mars\"\nimage = pipe(prompt).images[0]  \n    \nimage.save(\"astronaut_rides_horse.png\"\
          )\n\nMy issue is I am having this error in terminal and the file \"astronaut_rides_horse.png\"\
          \ is only a black image:\nPython\\Python310\\lib\\site-packages\\diffusers\\\
          pipelines\\pipeline_utils.py:818: RuntimeWarning: invalid value encountered\
          \ in cast\n  images = (images * 255).round().astype(\"uint8\")"
        updatedAt: '2023-01-29T08:48:23.092Z'
      numEdits: 1
      reactions: []
    id: 63d6325144f1d8fbe5832fed
    type: comment
  author: cmmalana
  content: "Newbie here. I am interested in stable diffusion and wanted to practice\
    \ and see how it performs. I came across this site and https://github.com/huggingface/diffusers/tree/main#new--stable-diffusion-is-now-fully-compatible-with-diffusers\
    \ which I followed the code:\n\nimport torch\nfrom diffusers import StableDiffusionPipeline\n\
    \npipe = StableDiffusionPipeline.from_pretrained(\"CompVis/stable-diffusion-v1-4\"\
    , revision=\"fp16\", torch_dtype=torch.float16, safety_checker=None)\npipe = pipe.to(\"\
    cuda\")\n\nprompt = \"a photo of an astronaut riding a horse on mars\"\nimage\
    \ = pipe(prompt).images[0]  \n    \nimage.save(\"astronaut_rides_horse.png\")\n\
    \nMy issue is I am having this error in terminal and the file \"astronaut_rides_horse.png\"\
    \ is only a black image:\nPython\\Python310\\lib\\site-packages\\diffusers\\pipelines\\\
    pipeline_utils.py:818: RuntimeWarning: invalid value encountered in cast\n  images\
    \ = (images * 255).round().astype(\"uint8\")"
  created_at: 2023-01-29 08:46:09+00:00
  edited: true
  hidden: false
  id: 63d6325144f1d8fbe5832fed
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-01-29T12:34:26.000Z'
    data:
      edited: false
      editors:
      - pcuenq
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
          fullname: Pedro Cuenca
          isHf: true
          isPro: false
          name: pcuenq
          type: user
        html: '<p>Closing as the issue is being handled here: <a rel="nofollow" href="https://github.com/huggingface/diffusers/issues/2153">https://github.com/huggingface/diffusers/issues/2153</a></p>

          '
        raw: 'Closing as the issue is being handled here: https://github.com/huggingface/diffusers/issues/2153'
        updatedAt: '2023-01-29T12:34:26.042Z'
      numEdits: 0
      reactions: []
      relatedEventId: 63d667d2e51de1e02c694fa3
    id: 63d667d2e51de1e02c694fa2
    type: comment
  author: pcuenq
  content: 'Closing as the issue is being handled here: https://github.com/huggingface/diffusers/issues/2153'
  created_at: 2023-01-29 12:34:26+00:00
  edited: false
  hidden: false
  id: 63d667d2e51de1e02c694fa2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1617264212503-603d25b75f9d390ab190b777.jpeg?w=200&h=200&f=face
      fullname: Pedro Cuenca
      isHf: true
      isOrgMember: true
      isOwner: false
      isPro: false
      name: pcuenq
      type: user
    createdAt: '2023-01-29T12:34:26.000Z'
    data:
      status: closed
    id: 63d667d2e51de1e02c694fa3
    type: status-change
  author: pcuenq
  created_at: 2023-01-29 12:34:26+00:00
  id: 63d667d2e51de1e02c694fa3
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 185
repo_id: CompVis/stable-diffusion-v1-4
repo_type: model
status: closed
target_branch: null
title: Error
