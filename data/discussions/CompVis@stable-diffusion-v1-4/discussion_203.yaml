!!python/object:huggingface_hub.community.DiscussionWithDetails
author: vedalken
conflicting_files: null
created_at: 2023-04-02 09:08:59+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/MJG6wUCuBuTJWcZNfQbDq.jpeg?w=200&h=200&f=face
      fullname: Matteo Mazzola
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: vedalken
      type: user
    createdAt: '2023-04-02T10:08:59.000Z'
    data:
      edited: false
      editors:
      - vedalken
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/MJG6wUCuBuTJWcZNfQbDq.jpeg?w=200&h=200&f=face
          fullname: Matteo Mazzola
          isHf: false
          isPro: false
          name: vedalken
          type: user
        html: '<p>Hi, i''m trying to finetune stable-diffusion-v1-4 on a custom dataset
          (vedalken/mtg-pauper-blip-captions), and i''m following this <a href="https://huggingface.co/docs/diffusers/training/text2image">guide</a>.
          I''m using the FLAX/JAX finetuning method (train_text_to_image_flax.py)
          but i''m receiving the following error: </p>

          <p><em>OSError: CompVis/stable-diffusion-v1-4 does not appear to have a
          file named flax_model.msgpack or pytorch_model.bin.</em></p>

          <p>Does anyone has any clue to resolve this? It would be much appreciated!
          </p>

          <p><strong>Code for reference:</strong></p>

          <p>!pip install git+<a rel="nofollow" href="https://github.com/huggingface/diffusers.git">https://github.com/huggingface/diffusers.git</a><br>!pip
          install dataset<br>!pip install git+<a rel="nofollow" href="https://github.com/huggingface/transformers">https://github.com/huggingface/transformers</a><br>!git
          clone <a rel="nofollow" href="https://github.com/huggingface/diffusers">https://github.com/huggingface/diffusers</a></p>

          <p>!python diffusers/examples/text_to_image/train_text_to_image_flax.py
          <br>  --pretrained_model_name_or_path="CompVis/stable-diffusion-v1-4" <br>  --dataset_name="vedalken/mtg-pauper-blip-captions"
          <br>  --resolution=512 --center_crop --random_flip <br>  --train_batch_size=1
          <br>  --max_train_steps=15000 <br>  --learning_rate=1e-05 <br>  --max_grad_norm=1
          <br>  --caption_column="caption"<br>  --output_dir="sd-pauper-model"</p>

          '
        raw: "Hi, i'm trying to finetune stable-diffusion-v1-4 on a custom dataset\
          \ (vedalken/mtg-pauper-blip-captions), and i'm following this [guide](https://huggingface.co/docs/diffusers/training/text2image).\
          \ I'm using the FLAX/JAX finetuning method (train_text_to_image_flax.py)\
          \ but i'm receiving the following error: \r\n\r\n_OSError: CompVis/stable-diffusion-v1-4\
          \ does not appear to have a file named flax_model.msgpack or pytorch_model.bin._\r\
          \n\r\n\r\nDoes anyone has any clue to resolve this? It would be much appreciated!\
          \ \r\n\r\n**Code for reference:**\r\n\r\n!pip install git+https://github.com/huggingface/diffusers.git\r\
          \n!pip install dataset\r\n!pip install git+https://github.com/huggingface/transformers\r\
          \n!git clone https://github.com/huggingface/diffusers\r\n\r\n!python diffusers/examples/text_to_image/train_text_to_image_flax.py\
          \ \\\r\n  --pretrained_model_name_or_path=\"CompVis/stable-diffusion-v1-4\"\
          \ \\\r\n  --dataset_name=\"vedalken/mtg-pauper-blip-captions\" \\\r\n  --resolution=512\
          \ --center_crop --random_flip \\\r\n  --train_batch_size=1 \\\r\n  --max_train_steps=15000\
          \ \\\r\n  --learning_rate=1e-05 \\\r\n  --max_grad_norm=1 \\\r\n  --caption_column=\"\
          caption\"\\\r\n  --output_dir=\"sd-pauper-model\""
        updatedAt: '2023-04-02T10:08:59.313Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - vedalken
    id: 6429543b16d4d8293c94e010
    type: comment
  author: vedalken
  content: "Hi, i'm trying to finetune stable-diffusion-v1-4 on a custom dataset (vedalken/mtg-pauper-blip-captions),\
    \ and i'm following this [guide](https://huggingface.co/docs/diffusers/training/text2image).\
    \ I'm using the FLAX/JAX finetuning method (train_text_to_image_flax.py) but i'm\
    \ receiving the following error: \r\n\r\n_OSError: CompVis/stable-diffusion-v1-4\
    \ does not appear to have a file named flax_model.msgpack or pytorch_model.bin._\r\
    \n\r\n\r\nDoes anyone has any clue to resolve this? It would be much appreciated!\
    \ \r\n\r\n**Code for reference:**\r\n\r\n!pip install git+https://github.com/huggingface/diffusers.git\r\
    \n!pip install dataset\r\n!pip install git+https://github.com/huggingface/transformers\r\
    \n!git clone https://github.com/huggingface/diffusers\r\n\r\n!python diffusers/examples/text_to_image/train_text_to_image_flax.py\
    \ \\\r\n  --pretrained_model_name_or_path=\"CompVis/stable-diffusion-v1-4\" \\\
    \r\n  --dataset_name=\"vedalken/mtg-pauper-blip-captions\" \\\r\n  --resolution=512\
    \ --center_crop --random_flip \\\r\n  --train_batch_size=1 \\\r\n  --max_train_steps=15000\
    \ \\\r\n  --learning_rate=1e-05 \\\r\n  --max_grad_norm=1 \\\r\n  --caption_column=\"\
    caption\"\\\r\n  --output_dir=\"sd-pauper-model\""
  created_at: 2023-04-02 09:08:59+00:00
  edited: false
  hidden: false
  id: 6429543b16d4d8293c94e010
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/MJG6wUCuBuTJWcZNfQbDq.jpeg?w=200&h=200&f=face
      fullname: Matteo Mazzola
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: vedalken
      type: user
    createdAt: '2023-04-03T09:16:11.000Z'
    data:
      edited: false
      editors:
      - vedalken
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/MJG6wUCuBuTJWcZNfQbDq.jpeg?w=200&h=200&f=face
          fullname: Matteo Mazzola
          isHf: false
          isPro: false
          name: vedalken
          type: user
        html: '<p>I did find out that specific model doesn''t have compatible file
          for JAX, so i changed the code to:</p>

          <p>!python diffusers/examples/text_to_image/train_text_to_image.py <br>  --pretrained_model_name_or_path="CompVis/stable-diffusion-v1-4"
          <br>  --dataset_name="vedalken/mtg-pauper-blip-captions" <br>  --resolution=512
          --center_crop --random_flip <br>  --train_batch_size=1 <br>  --max_train_steps=15000
          <br>  --learning_rate=1e-05 <br>  --max_grad_norm=1 <br>  --caption_column="caption"<br>  --output_dir="sd-pauper-model"<br>  --gpus=0</p>

          <p>Posting in case someone will stumble across this :)</p>

          <p>Happy coding!</p>

          '
        raw: "I did find out that specific model doesn't have compatible file for\
          \ JAX, so i changed the code to:\n\n!python diffusers/examples/text_to_image/train_text_to_image.py\
          \ \\\n  --pretrained_model_name_or_path=\"CompVis/stable-diffusion-v1-4\"\
          \ \\\n  --dataset_name=\"vedalken/mtg-pauper-blip-captions\" \\\n  --resolution=512\
          \ --center_crop --random_flip \\\n  --train_batch_size=1 \\\n  --max_train_steps=15000\
          \ \\\n  --learning_rate=1e-05 \\\n  --max_grad_norm=1 \\\n  --caption_column=\"\
          caption\"\\\n  --output_dir=\"sd-pauper-model\"\\\n  --gpus=0\n\nPosting\
          \ in case someone will stumble across this :)\n\nHappy coding!"
        updatedAt: '2023-04-03T09:16:11.479Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - vedalken
      relatedEventId: 642a995bfe4a12faa42665f7
    id: 642a995bfe4a12faa42665f6
    type: comment
  author: vedalken
  content: "I did find out that specific model doesn't have compatible file for JAX,\
    \ so i changed the code to:\n\n!python diffusers/examples/text_to_image/train_text_to_image.py\
    \ \\\n  --pretrained_model_name_or_path=\"CompVis/stable-diffusion-v1-4\" \\\n\
    \  --dataset_name=\"vedalken/mtg-pauper-blip-captions\" \\\n  --resolution=512\
    \ --center_crop --random_flip \\\n  --train_batch_size=1 \\\n  --max_train_steps=15000\
    \ \\\n  --learning_rate=1e-05 \\\n  --max_grad_norm=1 \\\n  --caption_column=\"\
    caption\"\\\n  --output_dir=\"sd-pauper-model\"\\\n  --gpus=0\n\nPosting in case\
    \ someone will stumble across this :)\n\nHappy coding!"
  created_at: 2023-04-03 08:16:11+00:00
  edited: false
  hidden: false
  id: 642a995bfe4a12faa42665f6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/MJG6wUCuBuTJWcZNfQbDq.jpeg?w=200&h=200&f=face
      fullname: Matteo Mazzola
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: vedalken
      type: user
    createdAt: '2023-04-03T09:16:11.000Z'
    data:
      status: closed
    id: 642a995bfe4a12faa42665f7
    type: status-change
  author: vedalken
  created_at: 2023-04-03 08:16:11+00:00
  id: 642a995bfe4a12faa42665f7
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 203
repo_id: CompVis/stable-diffusion-v1-4
repo_type: model
status: closed
target_branch: null
title: 'OSError: CompVis/stable-diffusion-v1-4 does not appear to have a file named
  flax_model.msgpack or pytorch_model.bin.'
