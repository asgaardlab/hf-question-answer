!!python/object:huggingface_hub.community.DiscussionWithDetails
author: bryanbblewis11
conflicting_files: null
created_at: 2023-01-15 21:38:53+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/351186077a820b853bd53b16fff6f7b0.svg
      fullname: Bryan Lewis
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bryanbblewis11
      type: user
    createdAt: '2023-01-15T21:38:53.000Z'
    data:
      edited: true
      editors:
      - bryanbblewis11
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/351186077a820b853bd53b16fff6f7b0.svg
          fullname: Bryan Lewis
          isHf: false
          isPro: false
          name: bryanbblewis11
          type: user
        html: '<p>I was previously using the HassanBlend1.4 model and training via
          DreamBooth using the <a rel="nofollow" href="https://colab.research.google.com/github/TheLastBen/fast-stable-diffusion/blob/main/fast-DreamBooth.ipynb">TheLastBen''s
          DreamBooth</a> Google Colab.  This was working amazing!  I''ve been trying
          to use the new HassanBlend1.5.1.2, taking the exact same steps using that
          Google Colab, but am noticing that all of the outputs from the trained .ckpt
          model, after DreamBooth completes, have a severe blurry-ness and out-of-focus
          quality to them.  It definitely seems like something is "wrong" with the
          outputs.</p>

          <p>I am curious if there was any guidance for using the new HassanBlend1.5.1.2
          with DreamBooth, or if this issue might be isolated to the linked Google
          Colab above?  I tried providing that Google Colab with the direct path to
          the <code>HassanBlend1.5.1.2.ckpt</code> file, and also tried just providing
          it the <code>hassanblend/HassanBlend1.5.1.2</code> as the <code>Path_to_HuggingFace</code>
          value, both of which indicate this issue.</p>

          <p>Not sure if you''ve tried DreamBooth using that Google Colab, but curious
          if you might know a reason why I''m seeing this abnormal behavior?</p>

          '
        raw: 'I was previously using the HassanBlend1.4 model and training via DreamBooth
          using the [TheLastBen''s DreamBooth](https://colab.research.google.com/github/TheLastBen/fast-stable-diffusion/blob/main/fast-DreamBooth.ipynb)
          Google Colab.  This was working amazing!  I''ve been trying to use the new
          HassanBlend1.5.1.2, taking the exact same steps using that Google Colab,
          but am noticing that all of the outputs from the trained .ckpt model, after
          DreamBooth completes, have a severe blurry-ness and out-of-focus quality
          to them.  It definitely seems like something is "wrong" with the outputs.


          I am curious if there was any guidance for using the new HassanBlend1.5.1.2
          with DreamBooth, or if this issue might be isolated to the linked Google
          Colab above?  I tried providing that Google Colab with the direct path to
          the `HassanBlend1.5.1.2.ckpt` file, and also tried just providing it the
          `hassanblend/HassanBlend1.5.1.2` as the `Path_to_HuggingFace` value, both
          of which indicate this issue.


          Not sure if you''ve tried DreamBooth using that Google Colab, but curious
          if you might know a reason why I''m seeing this abnormal behavior?'
        updatedAt: '2023-01-15T21:51:58.309Z'
      numEdits: 1
      reactions: []
    id: 63c4726d8d95a5c77069947f
    type: comment
  author: bryanbblewis11
  content: 'I was previously using the HassanBlend1.4 model and training via DreamBooth
    using the [TheLastBen''s DreamBooth](https://colab.research.google.com/github/TheLastBen/fast-stable-diffusion/blob/main/fast-DreamBooth.ipynb)
    Google Colab.  This was working amazing!  I''ve been trying to use the new HassanBlend1.5.1.2,
    taking the exact same steps using that Google Colab, but am noticing that all
    of the outputs from the trained .ckpt model, after DreamBooth completes, have
    a severe blurry-ness and out-of-focus quality to them.  It definitely seems like
    something is "wrong" with the outputs.


    I am curious if there was any guidance for using the new HassanBlend1.5.1.2 with
    DreamBooth, or if this issue might be isolated to the linked Google Colab above?  I
    tried providing that Google Colab with the direct path to the `HassanBlend1.5.1.2.ckpt`
    file, and also tried just providing it the `hassanblend/HassanBlend1.5.1.2` as
    the `Path_to_HuggingFace` value, both of which indicate this issue.


    Not sure if you''ve tried DreamBooth using that Google Colab, but curious if you
    might know a reason why I''m seeing this abnormal behavior?'
  created_at: 2023-01-15 21:38:53+00:00
  edited: true
  hidden: false
  id: 63c4726d8d95a5c77069947f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4542a4244eb0b552488b3b4bd7f8e7d1.svg
      fullname: Greg Hunkins
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ghunkins
      type: user
    createdAt: '2023-01-15T23:07:52.000Z'
    data:
      edited: false
      editors:
      - ghunkins
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4542a4244eb0b552488b3b4bd7f8e7d1.svg
          fullname: Greg Hunkins
          isHf: false
          isPro: false
          name: ghunkins
          type: user
        html: "<p>There is an issue with the upload where no VAE is included for the\
          \ model. You can fix the output by explicitly adding the VAE back-in via\
          \ the below.</p>\n<pre><code class=\"language-python\"><span class=\"hljs-keyword\"\
          >import</span> torch\n<span class=\"hljs-keyword\">import</span> diffusers\n\
          \nvae = diffusers.AutoencoderKL.from_pretrained(<span class=\"hljs-string\"\
          >\"stabilityai/sd-vae-ft-mse\"</span>, torch_dtype=torch.float16)\npipe\
          \ = diffusers.StableDiffusionPipeline.from_pretrained(\n    <span class=\"\
          hljs-string\">\"hassanblend/HassanBlend1.5.1.2\"</span>,\n    torch_dtype=torch.float16,\n\
          \    vae=vae,\n)\npipe = pipe.to(<span class=\"hljs-string\">\"cuda\"</span>)\n\
          </code></pre>\n"
        raw: "There is an issue with the upload where no VAE is included for the model.\
          \ You can fix the output by explicitly adding the VAE back-in via the below.\n\
          \n```python\nimport torch\nimport diffusers\n\nvae = diffusers.AutoencoderKL.from_pretrained(\"\
          stabilityai/sd-vae-ft-mse\", torch_dtype=torch.float16)\npipe = diffusers.StableDiffusionPipeline.from_pretrained(\n\
          \    \"hassanblend/HassanBlend1.5.1.2\",\n    torch_dtype=torch.float16,\n\
          \    vae=vae,\n)\npipe = pipe.to(\"cuda\")\n```"
        updatedAt: '2023-01-15T23:07:52.807Z'
      numEdits: 0
      reactions: []
    id: 63c48748bfd39d7373a54e98
    type: comment
  author: ghunkins
  content: "There is an issue with the upload where no VAE is included for the model.\
    \ You can fix the output by explicitly adding the VAE back-in via the below.\n\
    \n```python\nimport torch\nimport diffusers\n\nvae = diffusers.AutoencoderKL.from_pretrained(\"\
    stabilityai/sd-vae-ft-mse\", torch_dtype=torch.float16)\npipe = diffusers.StableDiffusionPipeline.from_pretrained(\n\
    \    \"hassanblend/HassanBlend1.5.1.2\",\n    torch_dtype=torch.float16,\n   \
    \ vae=vae,\n)\npipe = pipe.to(\"cuda\")\n```"
  created_at: 2023-01-15 23:07:52+00:00
  edited: false
  hidden: false
  id: 63c48748bfd39d7373a54e98
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/351186077a820b853bd53b16fff6f7b0.svg
      fullname: Bryan Lewis
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: bryanbblewis11
      type: user
    createdAt: '2023-01-15T23:53:11.000Z'
    data:
      edited: true
      editors:
      - bryanbblewis11
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/351186077a820b853bd53b16fff6f7b0.svg
          fullname: Bryan Lewis
          isHf: false
          isPro: false
          name: bryanbblewis11
          type: user
        html: '<p>Thanks for the reply!  Just for clarity, would I be adding this
          in the DreamBooth training step, or would I be adding this after DreamBooth
          training, when trying to generate an image from the trained model?  I''m
          a little confused also, because I do see a <a href="https://huggingface.co/hassanblend/HassanBlend1.5.1.2/tree/main/vae">VAE
          folder</a> in the model''s files; is that not the VAE I should expect?</p>

          '
        raw: Thanks for the reply!  Just for clarity, would I be adding this in the
          DreamBooth training step, or would I be adding this after DreamBooth training,
          when trying to generate an image from the trained model?  I'm a little confused
          also, because I do see a [VAE folder](https://huggingface.co/hassanblend/HassanBlend1.5.1.2/tree/main/vae)
          in the model's files; is that not the VAE I should expect?
        updatedAt: '2023-01-15T23:54:05.979Z'
      numEdits: 1
      reactions: []
    id: 63c491e7bfd39d7373a61b93
    type: comment
  author: bryanbblewis11
  content: Thanks for the reply!  Just for clarity, would I be adding this in the
    DreamBooth training step, or would I be adding this after DreamBooth training,
    when trying to generate an image from the trained model?  I'm a little confused
    also, because I do see a [VAE folder](https://huggingface.co/hassanblend/HassanBlend1.5.1.2/tree/main/vae)
    in the model's files; is that not the VAE I should expect?
  created_at: 2023-01-15 23:53:11+00:00
  edited: true
  hidden: false
  id: 63c491e7bfd39d7373a61b93
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7873604168b36010a5ccf864b8f3997d.svg
      fullname: Leonardo Medeiros
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: leonardofmed
      type: user
    createdAt: '2023-02-10T09:47:18.000Z'
    data:
      edited: false
      editors:
      - leonardofmed
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7873604168b36010a5ccf864b8f3997d.svg
          fullname: Leonardo Medeiros
          isHf: false
          isPro: false
          name: leonardofmed
          type: user
        html: '<blockquote>

          <p>Thanks for the reply!  Just for clarity, would I be adding this in the
          DreamBooth training step, or would I be adding this after DreamBooth training,
          when trying to generate an image from the trained model?  I''m a little
          confused also, because I do see a <a href="https://huggingface.co/hassanblend/HassanBlend1.5.1.2/tree/main/vae">VAE
          folder</a> in the model''s files; is that not the VAE I should expect?</p>

          </blockquote>

          <p>Did you manage to solve this?</p>

          '
        raw: '> Thanks for the reply!  Just for clarity, would I be adding this in
          the DreamBooth training step, or would I be adding this after DreamBooth
          training, when trying to generate an image from the trained model?  I''m
          a little confused also, because I do see a [VAE folder](https://huggingface.co/hassanblend/HassanBlend1.5.1.2/tree/main/vae)
          in the model''s files; is that not the VAE I should expect?


          Did you manage to solve this?'
        updatedAt: '2023-02-10T09:47:18.763Z'
      numEdits: 0
      reactions: []
    id: 63e612a663037c7d9602f05f
    type: comment
  author: leonardofmed
  content: '> Thanks for the reply!  Just for clarity, would I be adding this in the
    DreamBooth training step, or would I be adding this after DreamBooth training,
    when trying to generate an image from the trained model?  I''m a little confused
    also, because I do see a [VAE folder](https://huggingface.co/hassanblend/HassanBlend1.5.1.2/tree/main/vae)
    in the model''s files; is that not the VAE I should expect?


    Did you manage to solve this?'
  created_at: 2023-02-10 09:47:18+00:00
  edited: false
  hidden: false
  id: 63e612a663037c7d9602f05f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec69c5e92fcc925b670794cfb8d97a93.svg
      fullname: David N
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: djn93
      type: user
    createdAt: '2023-03-07T19:54:33.000Z'
    data:
      edited: false
      editors:
      - djn93
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec69c5e92fcc925b670794cfb8d97a93.svg
          fullname: David N
          isHf: false
          isPro: false
          name: djn93
          type: user
        html: '<p>Using the Dreambooth space here on HuggingFace. Any insight on how
          to roll the VAE into the outputted ckpt file?  I''m ultimately using DiffusionBee
          which doens''t let me mate a model with a VAE after the fact.  When training
          a model on 1.5.1.2, I get the fuzzy/artifact image issue due to what I believe
          is the missing VAE.</p>

          '
        raw: Using the Dreambooth space here on HuggingFace. Any insight on how to
          roll the VAE into the outputted ckpt file?  I'm ultimately using DiffusionBee
          which doens't let me mate a model with a VAE after the fact.  When training
          a model on 1.5.1.2, I get the fuzzy/artifact image issue due to what I believe
          is the missing VAE.
        updatedAt: '2023-03-07T19:54:33.226Z'
      numEdits: 0
      reactions: []
    id: 64079679f76886dec024c762
    type: comment
  author: djn93
  content: Using the Dreambooth space here on HuggingFace. Any insight on how to roll
    the VAE into the outputted ckpt file?  I'm ultimately using DiffusionBee which
    doens't let me mate a model with a VAE after the fact.  When training a model
    on 1.5.1.2, I get the fuzzy/artifact image issue due to what I believe is the
    missing VAE.
  created_at: 2023-03-07 19:54:33+00:00
  edited: false
  hidden: false
  id: 64079679f76886dec024c762
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/4542a4244eb0b552488b3b4bd7f8e7d1.svg
      fullname: Greg Hunkins
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: ghunkins
      type: user
    createdAt: '2023-03-13T15:49:24.000Z'
    data:
      edited: false
      editors:
      - ghunkins
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/4542a4244eb0b552488b3b4bd7f8e7d1.svg
          fullname: Greg Hunkins
          isHf: false
          isPro: false
          name: ghunkins
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;djn93&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/djn93\">@<span class=\"\
          underline\">djn93</span></a></span>\n\n\t</span></span> You can use my code\
          \ to add the VAE to the model. You can then use the below code to save the\
          \ model.</p>\n<pre><code class=\"language-python\">pipe.save_pretrained(<span\
          \ class=\"hljs-string\">\"model-with-vae\"</span>, safe_serialization=<span\
          \ class=\"hljs-literal\">True</span>)\n</code></pre>\n<p>You can then use\
          \ that saved model, which will have the new VAE baked-in.</p>\n"
        raw: '@djn93 You can use my code to add the VAE to the model. You can then
          use the below code to save the model.


          ```python

          pipe.save_pretrained("model-with-vae", safe_serialization=True)

          ```


          You can then use that saved model, which will have the new VAE baked-in.'
        updatedAt: '2023-03-13T15:49:24.348Z'
      numEdits: 0
      reactions: []
    id: 640f46043282336aadbc0691
    type: comment
  author: ghunkins
  content: '@djn93 You can use my code to add the VAE to the model. You can then use
    the below code to save the model.


    ```python

    pipe.save_pretrained("model-with-vae", safe_serialization=True)

    ```


    You can then use that saved model, which will have the new VAE baked-in.'
  created_at: 2023-03-13 14:49:24+00:00
  edited: false
  hidden: false
  id: 640f46043282336aadbc0691
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/1d5c7b292e9be9e31ba2e45dfdd7e7b7.svg
      fullname: Hassan
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: hassanblend
      type: user
    createdAt: '2023-03-15T16:42:37.000Z'
    data:
      edited: false
      editors:
      - hassanblend
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/1d5c7b292e9be9e31ba2e45dfdd7e7b7.svg
          fullname: Hassan
          isHf: false
          isPro: false
          name: hassanblend
          type: user
        html: '<p>There''s already a version of the model here with the vae baked
          in, uploaded 8 days ago <a href="https://huggingface.co/hassanblend/HassanBlend1.5.1.2/blob/main/HassanBlend1.5.1.2-withVae.ckpt">https://huggingface.co/hassanblend/HassanBlend1.5.1.2/blob/main/HassanBlend1.5.1.2-withVae.ckpt</a></p>

          '
        raw: There's already a version of the model here with the vae baked in, uploaded
          8 days ago https://huggingface.co/hassanblend/HassanBlend1.5.1.2/blob/main/HassanBlend1.5.1.2-withVae.ckpt
        updatedAt: '2023-03-15T16:42:37.519Z'
      numEdits: 0
      reactions: []
    id: 6411f57df1a8832626d8d3dd
    type: comment
  author: hassanblend
  content: There's already a version of the model here with the vae baked in, uploaded
    8 days ago https://huggingface.co/hassanblend/HassanBlend1.5.1.2/blob/main/HassanBlend1.5.1.2-withVae.ckpt
  created_at: 2023-03-15 15:42:37+00:00
  edited: false
  hidden: false
  id: 6411f57df1a8832626d8d3dd
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: hassanblend/HassanBlend1.5.1.2
repo_type: model
status: open
target_branch: null
title: Difficulty training with DreamBooth
