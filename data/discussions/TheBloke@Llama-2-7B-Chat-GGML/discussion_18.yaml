!!python/object:huggingface_hub.community.DiscussionWithDetails
author: kiran2405
conflicting_files: null
created_at: 2023-08-10 11:25:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5e1ea4e4747052d5d3673151069e9905.svg
      fullname: KIRAN BASIL PAUL
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kiran2405
      type: user
    createdAt: '2023-08-10T12:25:03.000Z'
    data:
      edited: true
      editors:
      - kiran2405
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.941292405128479
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5e1ea4e4747052d5d3673151069e9905.svg
          fullname: KIRAN BASIL PAUL
          isHf: false
          isPro: false
          name: kiran2405
          type: user
        html: "<p>I was trying to use this model for document question answering along\
          \ with langchain. Here I am storing documents in a vector store. For a question\
          \ asked, a single passage from the entire vector store is retrieved using\
          \ a similarity searched. Then the passage along with a prompt containing\
          \ the question is passed to the model to get the generated response.</p>\n\
          <p>Here is my prompt:</p>\n<p>[INST]&lt;&gt;Read the following text extracts\
          \ given to you. Answer question that follows using the information provided\
          \ in the text extracts. If the required information is not provided in the\
          \ text extracts say that you cannot answer the question. Keep in mind that\
          \ the extracts may contain irrelevant details and extra whitespaces. Avoid\
          \ these whitespaces and irrelevant details and answer precisely to the question\
          \ in a concise manner.&lt;&gt; 51) TERMINATION OPTION. Tenant shall have\
          \ a one-time option to terminate the Lease for the entire 43,750 SF Premises\
          \ and any additional space that may be leased hereunder or pursuant to this\
          \ Lease, effective at midnight (CST) February 28, 2018 (the \u201CTermination\
          \ Date\u201D). In order for this one-time option to be effective, Tenant\
          \ must give written notice of its intention to terminate the Lease to Landlord\
          \ prior to September 1, 2017 and, together with such written notice, provide\
          \ to Landlord a termination payment equal to the unamortized cost of Tenant\
          \ Improvements and Commissions at eight percent (8%) amortization rate equaling\
          \ the amount of $95,100.89 plus five (5) additional months of Basic Monthly\
          \ and Additional Rental; such Additional Rental to be reasonably approximated\
          \ if not known for certain. How does the process of terminating a commercial\
          \ lease agreement work?[/INST]</p>\n<p>The passage is from a publicly available\
          \ lease document.</p>\n<p>I am getting the following response:</p>\n<p>According\
          \ to the text extract provided, the process of terminating a commercial\
          \ lease agreement through the one-time option provided in the lease is as\
          \ follows:\\n\\n1. The tenant must give written notice of their intention\
          \ to terminate the lease to the landlord prior to September 1, 2017.\\n2.\
          \ Along with the written notice, the tenant must provide a termination payment\
          \ equal to the unamortized cost of tenant improvements and commissions at\
          \ an eight percent (8%) amortization rate, which is calculated as follows:\
          \ $95,100.89 + five (5) additional months of basic monthly and additional\
          \ rental, with the additional rental to be reasonably approximated if not\
          \ known for certain.\\n\\nIn conclusion, based on the provided text extract,\
          \ the process of the process of which outlined in order to terminate a commercial\
          \ lease tenants must provide written notice must provide the process of\
          \ terminating a commercial lease the process of the process of the process\
          \ of the process of the process of the process of the process of the process\
          \ of terminating a commercial lease, the process of terminating a tenants\
          \ must give written notice to terminate a</p>\n<p>I tried different prompts\
          \ and even the model parameters to see if the response gets fixed, but had\
          \ no luck.</p>\n<p>I've also tried the same prompt and passage on 4 bit,\
          \ 6 bit and 8 bit versions and also on the 4 bit version of llama 2 13b\
          \ chat ggml. But the response was similar.</p>\n<p>The same prompt and passage\
          \ provided an accurate and precise response on the unquantized 7b model\
          \ and also on the gptq version of this same model.</p>\n<p>Does anybody\
          \ know if this is an issue with the quantization format(ggml,gptq)?<br>Any\
          \ help in fixing this issue is much appreciated.</p>\n"
        raw: "I was trying to use this model for document question answering along\
          \ with langchain. Here I am storing documents in a vector store. For a question\
          \ asked, a single passage from the entire vector store is retrieved using\
          \ a similarity searched. Then the passage along with a prompt containing\
          \ the question is passed to the model to get the generated response.\n\n\
          Here is my prompt:\n\n[INST]<<SYS>>Read the following text extracts given\
          \ to you. Answer question that follows using the information provided in\
          \ the text extracts. If the required information is not provided in the\
          \ text extracts say that you cannot answer the question. Keep in mind that\
          \ the extracts may contain irrelevant details and extra whitespaces. Avoid\
          \ these whitespaces and irrelevant details and answer precisely to the question\
          \ in a concise manner.<</SYS>> 51) TERMINATION OPTION. Tenant shall have\
          \ a one-time option to terminate the Lease for the entire 43,750 SF Premises\
          \ and any additional space that may be leased hereunder or pursuant to this\
          \ Lease, effective at midnight (CST) February 28, 2018 (the \u201CTermination\
          \ Date\u201D). In order for this one-time option to be effective, Tenant\
          \ must give written notice of its intention to terminate the Lease to Landlord\
          \ prior to September 1, 2017 and, together with such written notice, provide\
          \ to Landlord a termination payment equal to the unamortized cost of Tenant\
          \ Improvements and Commissions at eight percent (8%) amortization rate equaling\
          \ the amount of $95,100.89 plus five (5) additional months of Basic Monthly\
          \ and Additional Rental; such Additional Rental to be reasonably approximated\
          \ if not known for certain. How does the process of terminating a commercial\
          \ lease agreement work?[/INST]\n\nThe passage is from a publicly available\
          \ lease document.\n\nI am getting the following response:\n\nAccording to\
          \ the text extract provided, the process of terminating a commercial lease\
          \ agreement through the one-time option provided in the lease is as follows:\\\
          n\\n1. The tenant must give written notice of their intention to terminate\
          \ the lease to the landlord prior to September 1, 2017.\\n2. Along with\
          \ the written notice, the tenant must provide a termination payment equal\
          \ to the unamortized cost of tenant improvements and commissions at an eight\
          \ percent (8%) amortization rate, which is calculated as follows: $95,100.89\
          \ + five (5) additional months of basic monthly and additional rental, with\
          \ the additional rental to be reasonably approximated if not known for certain.\\\
          n\\nIn conclusion, based on the provided text extract, the process of the\
          \ process of which outlined in order to terminate a commercial lease tenants\
          \ must provide written notice must provide the process of terminating a\
          \ commercial lease the process of the process of the process of the process\
          \ of the process of the process of the process of the process of terminating\
          \ a commercial lease, the process of terminating a tenants must give written\
          \ notice to terminate a\n\nI tried different prompts and even the model\
          \ parameters to see if the response gets fixed, but had no luck.\n\nI've\
          \ also tried the same prompt and passage on 4 bit, 6 bit and 8 bit versions\
          \ and also on the 4 bit version of llama 2 13b chat ggml. But the response\
          \ was similar.\n\nThe same prompt and passage provided an accurate and precise\
          \ response on the unquantized 7b model and also on the gptq version of this\
          \ same model.\n\nDoes anybody know if this is an issue with the quantization\
          \ format(ggml,gptq)?\nAny help in fixing this issue is much appreciated."
        updatedAt: '2023-08-10T12:31:24.825Z'
      numEdits: 3
      reactions: []
    id: 64d4d71fbadf1110f768b120
    type: comment
  author: kiran2405
  content: "I was trying to use this model for document question answering along with\
    \ langchain. Here I am storing documents in a vector store. For a question asked,\
    \ a single passage from the entire vector store is retrieved using a similarity\
    \ searched. Then the passage along with a prompt containing the question is passed\
    \ to the model to get the generated response.\n\nHere is my prompt:\n\n[INST]<<SYS>>Read\
    \ the following text extracts given to you. Answer question that follows using\
    \ the information provided in the text extracts. If the required information is\
    \ not provided in the text extracts say that you cannot answer the question. Keep\
    \ in mind that the extracts may contain irrelevant details and extra whitespaces.\
    \ Avoid these whitespaces and irrelevant details and answer precisely to the question\
    \ in a concise manner.<</SYS>> 51) TERMINATION OPTION. Tenant shall have a one-time\
    \ option to terminate the Lease for the entire 43,750 SF Premises and any additional\
    \ space that may be leased hereunder or pursuant to this Lease, effective at midnight\
    \ (CST) February 28, 2018 (the \u201CTermination Date\u201D). In order for this\
    \ one-time option to be effective, Tenant must give written notice of its intention\
    \ to terminate the Lease to Landlord prior to September 1, 2017 and, together\
    \ with such written notice, provide to Landlord a termination payment equal to\
    \ the unamortized cost of Tenant Improvements and Commissions at eight percent\
    \ (8%) amortization rate equaling the amount of $95,100.89 plus five (5) additional\
    \ months of Basic Monthly and Additional Rental; such Additional Rental to be\
    \ reasonably approximated if not known for certain. How does the process of terminating\
    \ a commercial lease agreement work?[/INST]\n\nThe passage is from a publicly\
    \ available lease document.\n\nI am getting the following response:\n\nAccording\
    \ to the text extract provided, the process of terminating a commercial lease\
    \ agreement through the one-time option provided in the lease is as follows:\\\
    n\\n1. The tenant must give written notice of their intention to terminate the\
    \ lease to the landlord prior to September 1, 2017.\\n2. Along with the written\
    \ notice, the tenant must provide a termination payment equal to the unamortized\
    \ cost of tenant improvements and commissions at an eight percent (8%) amortization\
    \ rate, which is calculated as follows: $95,100.89 + five (5) additional months\
    \ of basic monthly and additional rental, with the additional rental to be reasonably\
    \ approximated if not known for certain.\\n\\nIn conclusion, based on the provided\
    \ text extract, the process of the process of which outlined in order to terminate\
    \ a commercial lease tenants must provide written notice must provide the process\
    \ of terminating a commercial lease the process of the process of the process\
    \ of the process of the process of the process of the process of the process of\
    \ terminating a commercial lease, the process of terminating a tenants must give\
    \ written notice to terminate a\n\nI tried different prompts and even the model\
    \ parameters to see if the response gets fixed, but had no luck.\n\nI've also\
    \ tried the same prompt and passage on 4 bit, 6 bit and 8 bit versions and also\
    \ on the 4 bit version of llama 2 13b chat ggml. But the response was similar.\n\
    \nThe same prompt and passage provided an accurate and precise response on the\
    \ unquantized 7b model and also on the gptq version of this same model.\n\nDoes\
    \ anybody know if this is an issue with the quantization format(ggml,gptq)?\n\
    Any help in fixing this issue is much appreciated."
  created_at: 2023-08-10 11:25:03+00:00
  edited: true
  hidden: false
  id: 64d4d71fbadf1110f768b120
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6489402cef2989c5dfef00de/I-BGvPYgg_Jj9-N1LXSec.jpeg?w=200&h=200&f=face
      fullname: Sarkar
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 0xSarkar
      type: user
    createdAt: '2023-09-04T04:04:25.000Z'
    data:
      edited: false
      editors:
      - 0xSarkar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9289878010749817
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6489402cef2989c5dfef00de/I-BGvPYgg_Jj9-N1LXSec.jpeg?w=200&h=200&f=face
          fullname: Sarkar
          isHf: false
          isPro: false
          name: 0xSarkar
          type: user
        html: '<p>Facing this same issue. It does generate response but not always
          relevant to the input query.</p>

          '
        raw: Facing this same issue. It does generate response but not always relevant
          to the input query.
        updatedAt: '2023-09-04T04:04:25.257Z'
      numEdits: 0
      reactions: []
    id: 64f557497a72b5ebfaa6ff13
    type: comment
  author: 0xSarkar
  content: Facing this same issue. It does generate response but not always relevant
    to the input query.
  created_at: 2023-09-04 03:04:25+00:00
  edited: false
  hidden: false
  id: 64f557497a72b5ebfaa6ff13
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/5e1ea4e4747052d5d3673151069e9905.svg
      fullname: KIRAN BASIL PAUL
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kiran2405
      type: user
    createdAt: '2023-09-06T09:47:03.000Z'
    data:
      edited: false
      editors:
      - kiran2405
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9105874300003052
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/5e1ea4e4747052d5d3673151069e9905.svg
          fullname: KIRAN BASIL PAUL
          isHf: false
          isPro: false
          name: kiran2405
          type: user
        html: '<p>Try the unquantized model or the gptq quantized version. It did
          not give any such response.</p>

          '
        raw: Try the unquantized model or the gptq quantized version. It did not give
          any such response.
        updatedAt: '2023-09-06T09:47:03.541Z'
      numEdits: 0
      reactions: []
    id: 64f84a971435cc7faa44cfd4
    type: comment
  author: kiran2405
  content: Try the unquantized model or the gptq quantized version. It did not give
    any such response.
  created_at: 2023-09-06 08:47:03+00:00
  edited: false
  hidden: false
  id: 64f84a971435cc7faa44cfd4
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6489402cef2989c5dfef00de/I-BGvPYgg_Jj9-N1LXSec.jpeg?w=200&h=200&f=face
      fullname: Sarkar
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: 0xSarkar
      type: user
    createdAt: '2023-09-07T08:56:34.000Z'
    data:
      edited: false
      editors:
      - 0xSarkar
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7948340177536011
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6489402cef2989c5dfef00de/I-BGvPYgg_Jj9-N1LXSec.jpeg?w=200&h=200&f=face
          fullname: Sarkar
          isHf: false
          isPro: false
          name: 0xSarkar
          type: user
        html: '<p>I figured out the problem. I wan''t using the prompt template properly.
          Now, I''m using:</p>

          <pre><code>sys_prompt = "You are an AI bot. Don''t greet or apologize to
          user. Give straight-forward response to what the user says."

          final_prompt = f"""&lt;s&gt;[INST] &lt;&lt;SYS&gt;&gt;\n{sys_prompt}\n&lt;&lt;/SYS&gt;&gt;\n\n{user_msg}
          [/INST]"""

          </code></pre>

          <p>I''m getting expected response using this prompt template.</p>

          '
        raw: 'I figured out the problem. I wan''t using the prompt template properly.
          Now, I''m using:


          ```

          sys_prompt = "You are an AI bot. Don''t greet or apologize to user. Give
          straight-forward response to what the user says."

          final_prompt = f"""<s>[INST] <<SYS>>\n{sys_prompt}\n<</SYS>>\n\n{user_msg}
          [/INST]"""

          ```


          I''m getting expected response using this prompt template.'
        updatedAt: '2023-09-07T08:56:34.728Z'
      numEdits: 0
      reactions: []
    id: 64f99042062b1b401b757f6e
    type: comment
  author: 0xSarkar
  content: 'I figured out the problem. I wan''t using the prompt template properly.
    Now, I''m using:


    ```

    sys_prompt = "You are an AI bot. Don''t greet or apologize to user. Give straight-forward
    response to what the user says."

    final_prompt = f"""<s>[INST] <<SYS>>\n{sys_prompt}\n<</SYS>>\n\n{user_msg} [/INST]"""

    ```


    I''m getting expected response using this prompt template.'
  created_at: 2023-09-07 07:56:34+00:00
  edited: false
  hidden: false
  id: 64f99042062b1b401b757f6e
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 18
repo_id: TheBloke/Llama-2-7B-Chat-GGML
repo_type: model
status: open
target_branch: null
title: Model giving out weird responses
