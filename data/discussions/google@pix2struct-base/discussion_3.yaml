!!python/object:huggingface_hub.community.DiscussionWithDetails
author: gbarello
conflicting_files: null
created_at: 2023-05-02 14:08:07+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/QNwgiX_9AYYrbuZvfqo59.png?w=200&h=200&f=face
      fullname: Gabriel Barello
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: gbarello
      type: user
    createdAt: '2023-05-02T15:08:07.000Z'
    data:
      edited: false
      editors:
      - gbarello
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/noauth/QNwgiX_9AYYrbuZvfqo59.png?w=200&h=200&f=face
          fullname: Gabriel Barello
          isHf: false
          isPro: false
          name: gbarello
          type: user
        html: '<p>Hi! As per this issue: <a rel="nofollow" href="https://github.com/huggingface/transformers/issues/22903">https://github.com/huggingface/transformers/issues/22903</a>  I
          believe the default config for the pix2struct decoder model is incorrect
          and needs to be fixed. Its easy enough to do but it would be great if these
          models could be updated so that they just work! This applies to all the
          <code>google/pix2struct-XYZ</code> models.</p>

          <p>The fix is straightforward, I believe you just need to do the following
          and then upload the new model (with new config) in place of the current
          one:</p>

          <pre><code>model = Pix2StructForConditionalGeneration.from_pretrained("google/pix2struct-{model_version}")

          model.decoder.config.is_decoder = True

          </code></pre>

          '
        raw: "Hi! As per this issue: https://github.com/huggingface/transformers/issues/22903\
          \  I believe the default config for the pix2struct decoder model is incorrect\
          \ and needs to be fixed. Its easy enough to do but it would be great if\
          \ these models could be updated so that they just work! This applies to\
          \ all the `google/pix2struct-XYZ` models.\r\n\r\nThe fix is straightforward,\
          \ I believe you just need to do the following and then upload the new model\
          \ (with new config) in place of the current one:\r\n\r\n```\r\nmodel = Pix2StructForConditionalGeneration.from_pretrained(\"\
          google/pix2struct-{model_version}\")\r\nmodel.decoder.config.is_decoder\
          \ = True\r\n```"
        updatedAt: '2023-05-02T15:08:07.207Z'
      numEdits: 0
      reactions: []
    id: 64512757f800611f94f1a995
    type: comment
  author: gbarello
  content: "Hi! As per this issue: https://github.com/huggingface/transformers/issues/22903\
    \  I believe the default config for the pix2struct decoder model is incorrect\
    \ and needs to be fixed. Its easy enough to do but it would be great if these\
    \ models could be updated so that they just work! This applies to all the `google/pix2struct-XYZ`\
    \ models.\r\n\r\nThe fix is straightforward, I believe you just need to do the\
    \ following and then upload the new model (with new config) in place of the current\
    \ one:\r\n\r\n```\r\nmodel = Pix2StructForConditionalGeneration.from_pretrained(\"\
    google/pix2struct-{model_version}\")\r\nmodel.decoder.config.is_decoder = True\r\
    \n```"
  created_at: 2023-05-02 14:08:07+00:00
  edited: false
  hidden: false
  id: 64512757f800611f94f1a995
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 3
repo_id: google/pix2struct-base
repo_type: model
status: open
target_branch: null
title: Configuration fix to allow fine-tuning
