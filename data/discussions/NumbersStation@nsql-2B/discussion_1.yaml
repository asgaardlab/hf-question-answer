!!python/object:huggingface_hub.community.DiscussionWithDetails
author: Lei0701
conflicting_files: null
created_at: 2023-07-18 05:33:08+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/a4e6eb21fe295f8dfadaa9557877b173.svg
      fullname: Sun Lei
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Lei0701
      type: user
    createdAt: '2023-07-18T06:33:08.000Z'
    data:
      edited: false
      editors:
      - Lei0701
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4750393033027649
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/a4e6eb21fe295f8dfadaa9557877b173.svg
          fullname: Sun Lei
          isHf: false
          isPro: false
          name: Lei0701
          type: user
        html: '<p>my code as follow:<br>from transformers import AutoTokenizer, AutoModelForCausalLM,AutoModel<br>tokenizer
          = AutoTokenizer.from_pretrained("./nsql-2B")<br>model = AutoModelForCausalLM.from_pretrained("./nsql-2B",trust_remote_code=True).cuda()</p>

          <p>text = """CREATE TABLE stadium (<br>    stadium_id number,<br>    location
          text,<br>    name text,<br>    capacity number,<br>    highest number,<br>    lowest
          number,<br>    average number<br>)</p>

          <p>CREATE TABLE singer (<br>    singer_id number,<br>    name text,<br>    country
          text,<br>    song_name text,<br>    song_release_year text,<br>    age number,<br>    is_male
          others<br>)</p>

          <p>CREATE TABLE concert (<br>    concert_id number,<br>    concert_name
          text,<br>    theme text,<br>    stadium_id text,<br>    year text<br>)</p>

          <p>CREATE TABLE singer_in_concert (<br>    concert_id number,<br>    singer_id
          text<br>)</p>

          <p>-- Using valid SQLite, answer the following questions for the tables
          provided above.<br>-- What is the maximum, the average, and the minimum
          capacity of stadiums ?</p>

          <p>But I got the error:<br>RuntimeError: Expected all tensors to be on the
          same device, but found at least two devices, cuda:0 and cpu! (when checking
          argument for argument index in method wrapper_CUDA__index_select)</p>

          '
        raw: "my code as follow:\r\nfrom transformers import AutoTokenizer, AutoModelForCausalLM,AutoModel\r\
          \ntokenizer = AutoTokenizer.from_pretrained(\"./nsql-2B\")\r\nmodel = AutoModelForCausalLM.from_pretrained(\"\
          ./nsql-2B\",trust_remote_code=True).cuda()\r\n\r\ntext = \"\"\"CREATE TABLE\
          \ stadium (\r\n    stadium_id number,\r\n    location text,\r\n    name\
          \ text,\r\n    capacity number,\r\n    highest number,\r\n    lowest number,\r\
          \n    average number\r\n)\r\n\r\nCREATE TABLE singer (\r\n    singer_id\
          \ number,\r\n    name text,\r\n    country text,\r\n    song_name text,\r\
          \n    song_release_year text,\r\n    age number,\r\n    is_male others\r\
          \n)\r\n\r\nCREATE TABLE concert (\r\n    concert_id number,\r\n    concert_name\
          \ text,\r\n    theme text,\r\n    stadium_id text,\r\n    year text\r\n\
          )\r\n\r\nCREATE TABLE singer_in_concert (\r\n    concert_id number,\r\n\
          \    singer_id text\r\n)\r\n\r\n-- Using valid SQLite, answer the following\
          \ questions for the tables provided above.\r\n-- What is the maximum, the\
          \ average, and the minimum capacity of stadiums ?\r\n\r\nBut I got the error:\r\
          \nRuntimeError: Expected all tensors to be on the same device, but found\
          \ at least two devices, cuda:0 and cpu! (when checking argument for argument\
          \ index in method wrapper_CUDA__index_select)"
        updatedAt: '2023-07-18T06:33:08.076Z'
      numEdits: 0
      reactions: []
    id: 64b63224d2a61d0b6ae3643b
    type: comment
  author: Lei0701
  content: "my code as follow:\r\nfrom transformers import AutoTokenizer, AutoModelForCausalLM,AutoModel\r\
    \ntokenizer = AutoTokenizer.from_pretrained(\"./nsql-2B\")\r\nmodel = AutoModelForCausalLM.from_pretrained(\"\
    ./nsql-2B\",trust_remote_code=True).cuda()\r\n\r\ntext = \"\"\"CREATE TABLE stadium\
    \ (\r\n    stadium_id number,\r\n    location text,\r\n    name text,\r\n    capacity\
    \ number,\r\n    highest number,\r\n    lowest number,\r\n    average number\r\
    \n)\r\n\r\nCREATE TABLE singer (\r\n    singer_id number,\r\n    name text,\r\n\
    \    country text,\r\n    song_name text,\r\n    song_release_year text,\r\n \
    \   age number,\r\n    is_male others\r\n)\r\n\r\nCREATE TABLE concert (\r\n \
    \   concert_id number,\r\n    concert_name text,\r\n    theme text,\r\n    stadium_id\
    \ text,\r\n    year text\r\n)\r\n\r\nCREATE TABLE singer_in_concert (\r\n    concert_id\
    \ number,\r\n    singer_id text\r\n)\r\n\r\n-- Using valid SQLite, answer the\
    \ following questions for the tables provided above.\r\n-- What is the maximum,\
    \ the average, and the minimum capacity of stadiums ?\r\n\r\nBut I got the error:\r\
    \nRuntimeError: Expected all tensors to be on the same device, but found at least\
    \ two devices, cuda:0 and cpu! (when checking argument for argument index in method\
    \ wrapper_CUDA__index_select)"
  created_at: 2023-07-18 05:33:08+00:00
  edited: false
  hidden: false
  id: 64b63224d2a61d0b6ae3643b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: /avatars/a4e6eb21fe295f8dfadaa9557877b173.svg
      fullname: Sun Lei
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: Lei0701
      type: user
    createdAt: '2023-07-18T06:48:45.000Z'
    data:
      status: closed
    id: 64b635cd68d745f5cb33a921
    type: status-change
  author: Lei0701
  created_at: 2023-07-18 05:48:45+00:00
  id: 64b635cd68d745f5cb33a921
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: NumbersStation/nsql-2B
repo_type: model
status: closed
target_branch: null
title: Why can not i use gpu?
