!!python/object:huggingface_hub.community.DiscussionWithDetails
author: tingkart
conflicting_files: null
created_at: 2023-10-16 17:51:48+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7c8dba3526157d77ee30451642c72992.svg
      fullname: Bing
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tingkart
      type: user
    createdAt: '2023-10-16T18:51:48.000Z'
    data:
      edited: false
      editors:
      - tingkart
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.736607015132904
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7c8dba3526157d77ee30451642c72992.svg
          fullname: Bing
          isHf: false
          isPro: false
          name: tingkart
          type: user
        html: "<p>Thanks for this model, standard Whisper is not the greatest in Norwegian.</p>\n\
          <p>Trying the sample om the model card with the included file, but the model\
          \ just returns the first 4 seconds of the file. </p>\n<pre><code>from transformers\
          \ import pipeline\n\nasr = pipeline(\n    \"automatic-speech-recognition\"\
          ,\n    \"NbAiLab/nb-whisper-large-beta\"\n)\n\nx = asr(\n    \"konge.mp3\"\
          ,\n    generate_kwargs={'task': 'transcribe', 'language': 'no'},\n    #return_timestamps=True\n\
          )\nprint(x)\n</code></pre>\n<p>returns<br>{'text': ' Konged\xF8mmet eller\
          \ republikk... Styringsforma.'} </p>\n<p>for the file<br><audio src=\"https://cdn-uploads.huggingface.co/production/uploads/63c9a9cdbedad7e2bf18d495/gg3HXD_MoKUo_tO226V-b.mpga\"\
          \ controls=\"\"></audio></p>\n<p>Tried a couple of other mp3 files but it\
          \ seems to truncate the transcription and different sampling rates and file\
          \ lengths. </p>\n<p>Are there some limitations for the file length for this\
          \ model? Not seeing anything in the model card. </p>\n<p>Thanks again, keep\
          \ up the good work</p>\n<ul>\n<li>Thomas</li>\n</ul>\n"
        raw: "Thanks for this model, standard Whisper is not the greatest in Norwegian.\r\
          \n\r\nTrying the sample om the model card with the included file, but the\
          \ model just returns the first 4 seconds of the file. \r\n\r\n```\r\nfrom\
          \ transformers import pipeline\r\n\r\nasr = pipeline(\r\n    \"automatic-speech-recognition\"\
          ,\r\n    \"NbAiLab/nb-whisper-large-beta\"\r\n)\r\n\r\nx = asr(\r\n    \"\
          konge.mp3\",\r\n    generate_kwargs={'task': 'transcribe', 'language': 'no'},\r\
          \n    #return_timestamps=True\r\n)\r\nprint(x)\r\n```\r\n\r\nreturns\r\n\
          {'text': ' Konged\xF8mmet eller republikk... Styringsforma.'} \r\n\r\nfor\
          \ the file\r\n<audio controls src=\"https://cdn-uploads.huggingface.co/production/uploads/63c9a9cdbedad7e2bf18d495/gg3HXD_MoKUo_tO226V-b.mpga\"\
          ></audio>\r\n\r\nTried a couple of other mp3 files but it seems to truncate\
          \ the transcription and different sampling rates and file lengths. \r\n\r\
          \nAre there some limitations for the file length for this model? Not seeing\
          \ anything in the model card. \r\n\r\nThanks again, keep up the good work\r\
          \n- Thomas"
        updatedAt: '2023-10-16T18:51:48.387Z'
      numEdits: 0
      reactions: []
    id: 652d8644c3424254ba664b7f
    type: comment
  author: tingkart
  content: "Thanks for this model, standard Whisper is not the greatest in Norwegian.\r\
    \n\r\nTrying the sample om the model card with the included file, but the model\
    \ just returns the first 4 seconds of the file. \r\n\r\n```\r\nfrom transformers\
    \ import pipeline\r\n\r\nasr = pipeline(\r\n    \"automatic-speech-recognition\"\
    ,\r\n    \"NbAiLab/nb-whisper-large-beta\"\r\n)\r\n\r\nx = asr(\r\n    \"konge.mp3\"\
    ,\r\n    generate_kwargs={'task': 'transcribe', 'language': 'no'},\r\n    #return_timestamps=True\r\
    \n)\r\nprint(x)\r\n```\r\n\r\nreturns\r\n{'text': ' Konged\xF8mmet eller republikk...\
    \ Styringsforma.'} \r\n\r\nfor the file\r\n<audio controls src=\"https://cdn-uploads.huggingface.co/production/uploads/63c9a9cdbedad7e2bf18d495/gg3HXD_MoKUo_tO226V-b.mpga\"\
    ></audio>\r\n\r\nTried a couple of other mp3 files but it seems to truncate the\
    \ transcription and different sampling rates and file lengths. \r\n\r\nAre there\
    \ some limitations for the file length for this model? Not seeing anything in\
    \ the model card. \r\n\r\nThanks again, keep up the good work\r\n- Thomas"
  created_at: 2023-10-16 17:51:48+00:00
  edited: false
  hidden: false
  id: 652d8644c3424254ba664b7f
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1593016943046-noauth.jpeg?w=200&h=200&f=face
      fullname: Javier de la Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: versae
      type: user
    createdAt: '2023-10-18T07:35:06.000Z'
    data:
      edited: true
      editors:
      - versae
      hidden: false
      identifiedLanguage:
        language: 'no'
        probability: 0.888372540473938
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1593016943046-noauth.jpeg?w=200&h=200&f=face
          fullname: Javier de la Rosa
          isHf: false
          isPro: false
          name: versae
          type: user
        html: "<p>Hi Thomas,</p>\n<p>You might need to pass in a few extra parameters,\
          \ like <code>chunk_length_s</code> so the audio is split in parts. Take\
          \ a look at <a href=\"https://huggingface.co/openai/whisper-large-v2#long-form-transcription\"\
          >https://huggingface.co/openai/whisper-large-v2#long-form-transcription</a></p>\n\
          <p>I also run your audio file using our <a rel=\"nofollow\" href=\"https://ai.nb.no/demo/nb-whisper/\"\
          >public demo</a> and got good results:</p>\n<blockquote>\n<p>Konged\xF8\
          mme eller republikk. Styringsformer. Kongeriket Norge er et fritt, selvstendig,\
          \ udelelig og uavhendelig rike. Dets regjeringsformer innskrenket og arvelig\
          \ monarkisk. Slik lyder paragraf 1 i den norske grunnlova, som ble vedtatt\
          \ 17. mai 1814. Siden den gang har det v\xE6rt liten diskusjon om den norske\
          \ styringsforma. I 1905, etter unionsoppl\xF8sningen med Sverige, ble det\
          \ folkeavstemning om Norge fremdeles skulle v\xE6re monarki. Resultatet\
          \ den gangen var at 78,9 % svarte ja til monarkiet. Figur 1 viser at i Oslofjord-omr\xE5\
          det, det s\xF8rlige Hedmark, Oppland og Buskerud, var oppslutningen om monarkiet\
          \ i gjennomsnitt godt over 80 %. Sterkest motstand mot monarkiet var det\
          \ i deler av Telemark, Agderfylka, det s\xF8rlige Vestlandet, Nord-\xD8\
          sterdalen, Tr\xF8ndelag og Troms. Figur 1. Kartet viser prosentrepublikanske\
          \ stemmer i norske kommuner ved folkeavstemningen om republikk eller konged\xF8\
          mmet i 1905. Den rollen kong Haakon spilte under 2. verdenskrig, styrket\
          \ monarkiet i landet. Det samme gjorde populariteten til konger og ekteskapet\
          \ mellom kronprins Haakon og Mette Marit Jessem H\xF8iby har diskusjonen\
          \ om styringsformen \xF8kt i styrke. Ei gransking publisert i Dagbladet\
          \ 4. april 2001 viste at 23 % av folk i Norge \xF8nska at det norske skoleelever\
          \ sp\xF8rsm\xE5l om \xE5 gi uttrykk for sine holdninger til kongehuset.\
          \ Sp\xF8rsm\xE5let de skulle svare p\xE5, finner du i miniunders\xF8kelser.\
          \ Miniunders\xF8kelse viser at flere av Norges elever fikk inntrykk av at\
          \ kongehuset hadde rett til \xE5 innf\xF8re en ny folkeavstemning. Vi kan\
          \ se det i bl.a. kongens nasjonaldag. Mini-unders\xF8kelse. 2. Jeg synes\
          \ det er i orden at Norge har et kongehus, men jeg er ikke opptatt av det.\
          \ 3. Personlig vil jeg helst se at konged\xF8mmet i Norge ble avviklet.\
          \ 4. Vet ikke. Kryss av for det standpunktet som h\xF8ver deg best. Klikk\
          \ p\xE5 knappen for \xE5 lese hva du selv og andre har stemt.</p>\n</blockquote>\n"
        raw: "Hi Thomas,\n\nYou might need to pass in a few extra parameters, like\
          \ `chunk_length_s` so the audio is split in parts. Take a look at https://huggingface.co/openai/whisper-large-v2#long-form-transcription\n\
          \nI also run your audio file using our [public demo](https://ai.nb.no/demo/nb-whisper/)\
          \ and got good results:\n\n> Konged\xF8mme eller republikk. Styringsformer.\
          \ Kongeriket Norge er et fritt, selvstendig, udelelig og uavhendelig rike.\
          \ Dets regjeringsformer innskrenket og arvelig monarkisk. Slik lyder paragraf\
          \ 1 i den norske grunnlova, som ble vedtatt 17. mai 1814. Siden den gang\
          \ har det v\xE6rt liten diskusjon om den norske styringsforma. I 1905, etter\
          \ unionsoppl\xF8sningen med Sverige, ble det folkeavstemning om Norge fremdeles\
          \ skulle v\xE6re monarki. Resultatet den gangen var at 78,9 % svarte ja\
          \ til monarkiet. Figur 1 viser at i Oslofjord-omr\xE5det, det s\xF8rlige\
          \ Hedmark, Oppland og Buskerud, var oppslutningen om monarkiet i gjennomsnitt\
          \ godt over 80 %. Sterkest motstand mot monarkiet var det i deler av Telemark,\
          \ Agderfylka, det s\xF8rlige Vestlandet, Nord-\xD8sterdalen, Tr\xF8ndelag\
          \ og Troms. Figur 1. Kartet viser prosentrepublikanske stemmer i norske\
          \ kommuner ved folkeavstemningen om republikk eller konged\xF8mmet i 1905.\
          \ Den rollen kong Haakon spilte under 2. verdenskrig, styrket monarkiet\
          \ i landet. Det samme gjorde populariteten til konger og ekteskapet mellom\
          \ kronprins Haakon og Mette Marit Jessem H\xF8iby har diskusjonen om styringsformen\
          \ \xF8kt i styrke. Ei gransking publisert i Dagbladet 4. april 2001 viste\
          \ at 23 % av folk i Norge \xF8nska at det norske skoleelever sp\xF8rsm\xE5\
          l om \xE5 gi uttrykk for sine holdninger til kongehuset. Sp\xF8rsm\xE5let\
          \ de skulle svare p\xE5, finner du i miniunders\xF8kelser. Miniunders\xF8\
          kelse viser at flere av Norges elever fikk inntrykk av at kongehuset hadde\
          \ rett til \xE5 innf\xF8re en ny folkeavstemning. Vi kan se det i bl.a.\
          \ kongens nasjonaldag. Mini-unders\xF8kelse. 2. Jeg synes det er i orden\
          \ at Norge har et kongehus, men jeg er ikke opptatt av det. 3. Personlig\
          \ vil jeg helst se at konged\xF8mmet i Norge ble avviklet. 4. Vet ikke.\
          \ Kryss av for det standpunktet som h\xF8ver deg best. Klikk p\xE5 knappen\
          \ for \xE5 lese hva du selv og andre har stemt."
        updatedAt: '2023-10-18T07:36:20.796Z'
      numEdits: 2
      reactions: []
    id: 652f8aaa329f988fe2f2a58f
    type: comment
  author: versae
  content: "Hi Thomas,\n\nYou might need to pass in a few extra parameters, like `chunk_length_s`\
    \ so the audio is split in parts. Take a look at https://huggingface.co/openai/whisper-large-v2#long-form-transcription\n\
    \nI also run your audio file using our [public demo](https://ai.nb.no/demo/nb-whisper/)\
    \ and got good results:\n\n> Konged\xF8mme eller republikk. Styringsformer. Kongeriket\
    \ Norge er et fritt, selvstendig, udelelig og uavhendelig rike. Dets regjeringsformer\
    \ innskrenket og arvelig monarkisk. Slik lyder paragraf 1 i den norske grunnlova,\
    \ som ble vedtatt 17. mai 1814. Siden den gang har det v\xE6rt liten diskusjon\
    \ om den norske styringsforma. I 1905, etter unionsoppl\xF8sningen med Sverige,\
    \ ble det folkeavstemning om Norge fremdeles skulle v\xE6re monarki. Resultatet\
    \ den gangen var at 78,9 % svarte ja til monarkiet. Figur 1 viser at i Oslofjord-omr\xE5\
    det, det s\xF8rlige Hedmark, Oppland og Buskerud, var oppslutningen om monarkiet\
    \ i gjennomsnitt godt over 80 %. Sterkest motstand mot monarkiet var det i deler\
    \ av Telemark, Agderfylka, det s\xF8rlige Vestlandet, Nord-\xD8sterdalen, Tr\xF8\
    ndelag og Troms. Figur 1. Kartet viser prosentrepublikanske stemmer i norske kommuner\
    \ ved folkeavstemningen om republikk eller konged\xF8mmet i 1905. Den rollen kong\
    \ Haakon spilte under 2. verdenskrig, styrket monarkiet i landet. Det samme gjorde\
    \ populariteten til konger og ekteskapet mellom kronprins Haakon og Mette Marit\
    \ Jessem H\xF8iby har diskusjonen om styringsformen \xF8kt i styrke. Ei gransking\
    \ publisert i Dagbladet 4. april 2001 viste at 23 % av folk i Norge \xF8nska at\
    \ det norske skoleelever sp\xF8rsm\xE5l om \xE5 gi uttrykk for sine holdninger\
    \ til kongehuset. Sp\xF8rsm\xE5let de skulle svare p\xE5, finner du i miniunders\xF8\
    kelser. Miniunders\xF8kelse viser at flere av Norges elever fikk inntrykk av at\
    \ kongehuset hadde rett til \xE5 innf\xF8re en ny folkeavstemning. Vi kan se det\
    \ i bl.a. kongens nasjonaldag. Mini-unders\xF8kelse. 2. Jeg synes det er i orden\
    \ at Norge har et kongehus, men jeg er ikke opptatt av det. 3. Personlig vil jeg\
    \ helst se at konged\xF8mmet i Norge ble avviklet. 4. Vet ikke. Kryss av for det\
    \ standpunktet som h\xF8ver deg best. Klikk p\xE5 knappen for \xE5 lese hva du\
    \ selv og andre har stemt."
  created_at: 2023-10-18 06:35:06+00:00
  edited: true
  hidden: false
  id: 652f8aaa329f988fe2f2a58f
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: NbAiLab/nb-whisper-large-beta
repo_type: model
status: open
target_branch: null
title: Model truncating transcriptions?
