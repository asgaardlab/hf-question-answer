!!python/object:huggingface_hub.community.DiscussionWithDetails
author: wolfram
conflicting_files: null
created_at: 2023-12-29 19:17:22+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/JZqLjXZVGWXJdWUNI99db.jpeg?w=200&h=200&f=face
      fullname: Wolfram Ravenwolf
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wolfram
      type: user
    createdAt: '2023-12-29T19:17:22.000Z'
    data:
      edited: true
      editors:
      - wolfram
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9181076288223267
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/JZqLjXZVGWXJdWUNI99db.jpeg?w=200&h=200&f=face
          fullname: Wolfram Ravenwolf
          isHf: false
          isPro: false
          name: wolfram
          type: user
        html: "<p>Hi <span data-props=\"{&quot;user&quot;:&quot;ehartford&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/ehartford\"\
          >@<span class=\"underline\">ehartford</span></a></span>\n\n\t</span></span>,</p>\n\
          <p>when trying to load this model with ooba's Transformers loader, it only\
          \ produces this traceback:</p>\n<p><a rel=\"nofollow\" href=\"https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/sjLLe1xcaLc8qSoSI8OV_.png\"\
          ><img alt=\"2023-12-29 20_05_30-Text generation web UI.png\" src=\"https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/sjLLe1xcaLc8qSoSI8OV_.png\"\
          ></a></p>\n<p>I've redownloaded the model to make sure it didn't get corrupted\
          \ during the download. I've also reinstalled ooba and made sure it's fully\
          \ updated. Even manually updated the Transformers library. Still always\
          \ the same problem.</p>\n<p>Any idea what could be the cause and how to\
          \ solve it?</p>\n"
        raw: 'Hi @ehartford,


          when trying to load this model with ooba''s Transformers loader, it only
          produces this traceback:


          ![2023-12-29 20_05_30-Text generation web UI.png](https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/sjLLe1xcaLc8qSoSI8OV_.png)


          I''ve redownloaded the model to make sure it didn''t get corrupted during
          the download. I''ve also reinstalled ooba and made sure it''s fully updated.
          Even manually updated the Transformers library. Still always the same problem.


          Any idea what could be the cause and how to solve it?'
        updatedAt: '2023-12-29T19:18:24.334Z'
      numEdits: 1
      reactions: []
    id: 658f1b4289145cbc7c92dbe9
    type: comment
  author: wolfram
  content: 'Hi @ehartford,


    when trying to load this model with ooba''s Transformers loader, it only produces
    this traceback:


    ![2023-12-29 20_05_30-Text generation web UI.png](https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/sjLLe1xcaLc8qSoSI8OV_.png)


    I''ve redownloaded the model to make sure it didn''t get corrupted during the
    download. I''ve also reinstalled ooba and made sure it''s fully updated. Even
    manually updated the Transformers library. Still always the same problem.


    Any idea what could be the cause and how to solve it?'
  created_at: 2023-12-29 19:17:22+00:00
  edited: true
  hidden: false
  id: 658f1b4289145cbc7c92dbe9
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/632a0b93cf7d40df9b3cf674/mxRiCbPXNzTCu4cEIJO5X.png?w=200&h=200&f=face
      fullname: FPHam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FPHam
      type: user
    createdAt: '2023-12-29T20:49:32.000Z'
    data:
      edited: false
      editors:
      - FPHam
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.761027991771698
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/632a0b93cf7d40df9b3cf674/mxRiCbPXNzTCu4cEIJO5X.png?w=200&h=200&f=face
          fullname: FPHam
          isHf: false
          isPro: false
          name: FPHam
          type: user
        html: '<p>it''s the vocab section in the tokenizer_config.json</p>

          '
        raw: it's the vocab section in the tokenizer_config.json
        updatedAt: '2023-12-29T20:49:32.344Z'
      numEdits: 0
      reactions: []
    id: 658f30dc0c99312905eee288
    type: comment
  author: FPHam
  content: it's the vocab section in the tokenizer_config.json
  created_at: 2023-12-29 20:49:32+00:00
  edited: false
  hidden: false
  id: 658f30dc0c99312905eee288
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/JZqLjXZVGWXJdWUNI99db.jpeg?w=200&h=200&f=face
      fullname: Wolfram Ravenwolf
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wolfram
      type: user
    createdAt: '2023-12-29T21:06:16.000Z'
    data:
      edited: false
      editors:
      - wolfram
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8813176155090332
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/JZqLjXZVGWXJdWUNI99db.jpeg?w=200&h=200&f=face
          fullname: Wolfram Ravenwolf
          isHf: false
          isPro: false
          name: wolfram
          type: user
        html: '<p>So there seems to be something in there that causes problems on
          Windows. Until this gets fixed in the file, here''s a workaround that was
          mentioned on Reddit (<a rel="nofollow" href="https://www.reddit.com/r/LocalLLaMA/comments/18tiin9/dolphin_26_mistral_7b/kfgn6kv/">https://www.reddit.com/r/LocalLLaMA/comments/18tiin9/dolphin_26_mistral_7b/kfgn6kv/</a>):</p>

          <p>Within the Control Panel, navigate to the [Clock and Region] section
          and click on [Region]. In the [Region] window that appears, locate and select
          the [Administration] tab. On the [Administration] tab, locate and enable
          the option labelled "Beta: Use Unicode UTF-8 in worldwide languages" within
          the "Change system locale" section. Reboot not required, just restart ooba.</p>

          <p>This should probably be only a temporary workaround as there might be
          side effects (<a rel="nofollow" href="https://stackoverflow.com/questions/56419639/what-does-beta-use-unicode-utf-8-for-worldwide-language-support-actually-do">https://stackoverflow.com/questions/56419639/what-does-beta-use-unicode-utf-8-for-worldwide-language-support-actually-do</a>).</p>

          '
        raw: 'So there seems to be something in there that causes problems on Windows.
          Until this gets fixed in the file, here''s a workaround that was mentioned
          on Reddit (https://www.reddit.com/r/LocalLLaMA/comments/18tiin9/dolphin_26_mistral_7b/kfgn6kv/):


          Within the Control Panel, navigate to the [Clock and Region] section and
          click on [Region]. In the [Region] window that appears, locate and select
          the [Administration] tab. On the [Administration] tab, locate and enable
          the option labelled "Beta: Use Unicode UTF-8 in worldwide languages" within
          the "Change system locale" section. Reboot not required, just restart ooba.


          This should probably be only a temporary workaround as there might be side
          effects (https://stackoverflow.com/questions/56419639/what-does-beta-use-unicode-utf-8-for-worldwide-language-support-actually-do).'
        updatedAt: '2023-12-29T21:06:16.587Z'
      numEdits: 0
      reactions: []
    id: 658f34c8dfca9fad61293023
    type: comment
  author: wolfram
  content: 'So there seems to be something in there that causes problems on Windows.
    Until this gets fixed in the file, here''s a workaround that was mentioned on
    Reddit (https://www.reddit.com/r/LocalLLaMA/comments/18tiin9/dolphin_26_mistral_7b/kfgn6kv/):


    Within the Control Panel, navigate to the [Clock and Region] section and click
    on [Region]. In the [Region] window that appears, locate and select the [Administration]
    tab. On the [Administration] tab, locate and enable the option labelled "Beta:
    Use Unicode UTF-8 in worldwide languages" within the "Change system locale" section.
    Reboot not required, just restart ooba.


    This should probably be only a temporary workaround as there might be side effects
    (https://stackoverflow.com/questions/56419639/what-does-beta-use-unicode-utf-8-for-worldwide-language-support-actually-do).'
  created_at: 2023-12-29 21:06:16+00:00
  edited: false
  hidden: false
  id: 658f34c8dfca9fad61293023
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/632a0b93cf7d40df9b3cf674/mxRiCbPXNzTCu4cEIJO5X.png?w=200&h=200&f=face
      fullname: FPHam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FPHam
      type: user
    createdAt: '2023-12-29T22:35:39.000Z'
    data:
      edited: false
      editors:
      - FPHam
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9074657559394836
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/632a0b93cf7d40df9b3cf674/mxRiCbPXNzTCu4cEIJO5X.png?w=200&h=200&f=face
          fullname: FPHam
          isHf: false
          isPro: false
          name: FPHam
          type: user
        html: '<p>Can we just resave the json as unicode?</p>

          '
        raw: Can we just resave the json as unicode?
        updatedAt: '2023-12-29T22:35:39.749Z'
      numEdits: 0
      reactions: []
    id: 658f49bbe7b4143ec8a3e4b3
    type: comment
  author: FPHam
  content: Can we just resave the json as unicode?
  created_at: 2023-12-29 22:35:39+00:00
  edited: false
  hidden: false
  id: 658f49bbe7b4143ec8a3e4b3
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/JZqLjXZVGWXJdWUNI99db.jpeg?w=200&h=200&f=face
      fullname: Wolfram Ravenwolf
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wolfram
      type: user
    createdAt: '2023-12-30T12:32:39.000Z'
    data:
      edited: false
      editors:
      - wolfram
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9621180295944214
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6303ca537373aacccd85d8a7/JZqLjXZVGWXJdWUNI99db.jpeg?w=200&h=200&f=face
          fullname: Wolfram Ravenwolf
          isHf: false
          isPro: false
          name: wolfram
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;FPHam&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/FPHam\">@<span class=\"\
          underline\">FPHam</span></a></span>\n\n\t</span></span> That was the first\
          \ thing I tried - resaving tokenizer_config.json (which VSCode recognized\
          \ as UTF-8) as UTF-8 with BOM, UTF-16 LE, and Western (Windows 1252) since\
          \ the decoding error appears in cp1252.py. Nothing except the aforementioned\
          \ workaround worked for me.</p>\n<p>What exactly is at position 2149 that's\
          \ causing such an issue? (And why the hell does Windows 11 still have to\
          \ deal with native code pages like cp1252 instead of being all-Unicode by\
          \ now?!)</p>\n"
        raw: '@FPHam That was the first thing I tried - resaving tokenizer_config.json
          (which VSCode recognized as UTF-8) as UTF-8 with BOM, UTF-16 LE, and Western
          (Windows 1252) since the decoding error appears in cp1252.py. Nothing except
          the aforementioned workaround worked for me.


          What exactly is at position 2149 that''s causing such an issue? (And why
          the hell does Windows 11 still have to deal with native code pages like
          cp1252 instead of being all-Unicode by now?!)'
        updatedAt: '2023-12-30T12:32:39.318Z'
      numEdits: 0
      reactions: []
    id: 65900de716227c7a2d2167bb
    type: comment
  author: wolfram
  content: '@FPHam That was the first thing I tried - resaving tokenizer_config.json
    (which VSCode recognized as UTF-8) as UTF-8 with BOM, UTF-16 LE, and Western (Windows
    1252) since the decoding error appears in cp1252.py. Nothing except the aforementioned
    workaround worked for me.


    What exactly is at position 2149 that''s causing such an issue? (And why the hell
    does Windows 11 still have to deal with native code pages like cp1252 instead
    of being all-Unicode by now?!)'
  created_at: 2023-12-30 12:32:39+00:00
  edited: false
  hidden: false
  id: 65900de716227c7a2d2167bb
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/632a0b93cf7d40df9b3cf674/mxRiCbPXNzTCu4cEIJO5X.png?w=200&h=200&f=face
      fullname: FPHam
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: FPHam
      type: user
    createdAt: '2024-01-05T21:45:28.000Z'
    data:
      edited: false
      editors:
      - FPHam
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9963809847831726
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/632a0b93cf7d40df9b3cf674/mxRiCbPXNzTCu4cEIJO5X.png?w=200&h=200&f=face
          fullname: FPHam
          isHf: false
          isPro: false
          name: FPHam
          type: user
        html: '<p>I think it was some weird '' as I remember... yes, it''s always
          mess with this in windoze - 20 years, still mess</p>

          '
        raw: I think it was some weird ' as I remember... yes, it's always mess with
          this in windoze - 20 years, still mess
        updatedAt: '2024-01-05T21:45:28.743Z'
      numEdits: 0
      reactions: []
    id: 659878784d58d86c3ed95f53
    type: comment
  author: FPHam
  content: I think it was some weird ' as I remember... yes, it's always mess with
    this in windoze - 20 years, still mess
  created_at: 2024-01-05 21:45:28+00:00
  edited: false
  hidden: false
  id: 659878784d58d86c3ed95f53
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 4
repo_id: cognitivecomputations/dolphin-2.6-mistral-7b
repo_type: model
status: open
target_branch: null
title: UnicodeDecodeError with ooba's Transformers loader
