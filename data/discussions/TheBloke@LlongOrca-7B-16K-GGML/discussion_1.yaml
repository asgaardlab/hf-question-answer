!!python/object:huggingface_hub.community.DiscussionWithDetails
author: eraldohug
conflicting_files: null
created_at: 2023-08-12 23:09:56+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8a6c195ce9bb2441fbeb436b679ce08e.svg
      fullname: ERALDO MACHADO RANGEL JUNIOR
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: eraldohug
      type: user
    createdAt: '2023-08-13T00:09:56.000Z'
    data:
      edited: false
      editors:
      - eraldohug
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9936642050743103
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8a6c195ce9bb2441fbeb436b679ce08e.svg
          fullname: ERALDO MACHADO RANGEL JUNIOR
          isHf: false
          isPro: false
          name: eraldohug
          type: user
        html: '<p>Running the model on oobabooga/text-generation-webui<br>using q4_K_M
          and q5. the results are always constant repetitions after just three or
          four words.  Even in chat or notebook .<br>Example:<br><b>text context input
          :</b><br>In photosynthetic bacteria, the proteins that gather light for
          photosynthesis are embedded in cell membranes. In its simplest form, this
          involves the membrane surrounding the cell itself.[19]<br> However, the
          membrane may be tightly folded into cylindrical sheets called thylakoids,[20]
          or bunched up into round vesicles called intracytoplasmic membranes.[21]<br><b>model
          output : </b><br>  In photosynthetic bacteria, the proteins that are involved
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in in in in in in in in
          in in in in in in in in in in in in in in in in in</p>

          '
        raw: "Running the model on oobabooga/text-generation-webui\r\nusing q4_K_M\
          \ and q5. the results are always constant repetitions after just three or\
          \ four words.  Even in chat or notebook .\r\nExample:\r\n<b>text context\
          \ input :</b>\r\nIn photosynthetic bacteria, the proteins that gather light\
          \ for photosynthesis are embedded in cell membranes. In its simplest form,\
          \ this involves the membrane surrounding the cell itself.[19]\r\n However,\
          \ the membrane may be tightly folded into cylindrical sheets called thylakoids,[20]\
          \ or bunched up into round vesicles called intracytoplasmic membranes.[21]\r\
          \n<b>model output : </b>\r\n  In photosynthetic bacteria, the proteins that\
          \ are involved in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in in in\
          \ in in in in in in in in in in in in in in in in in in in in in in"
        updatedAt: '2023-08-13T00:09:56.263Z'
      numEdits: 0
      reactions: []
    id: 64d81f549a6a7ae9843a4851
    type: comment
  author: eraldohug
  content: "Running the model on oobabooga/text-generation-webui\r\nusing q4_K_M and\
    \ q5. the results are always constant repetitions after just three or four words.\
    \  Even in chat or notebook .\r\nExample:\r\n<b>text context input :</b>\r\nIn\
    \ photosynthetic bacteria, the proteins that gather light for photosynthesis are\
    \ embedded in cell membranes. In its simplest form, this involves the membrane\
    \ surrounding the cell itself.[19]\r\n However, the membrane may be tightly folded\
    \ into cylindrical sheets called thylakoids,[20] or bunched up into round vesicles\
    \ called intracytoplasmic membranes.[21]\r\n<b>model output : </b>\r\n  In photosynthetic\
    \ bacteria, the proteins that are involved in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in in in in in in in in in in\
    \ in in in in in in in in in in in in in in in in in"
  created_at: 2023-08-12 23:09:56+00:00
  edited: false
  hidden: false
  id: 64d81f549a6a7ae9843a4851
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8796019821146893ce5150cec2573a12.svg
      fullname: ko
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mirek190
      type: user
    createdAt: '2023-08-13T09:43:21.000Z'
    data:
      edited: true
      editors:
      - mirek190
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7401896119117737
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8796019821146893ce5150cec2573a12.svg
          fullname: ko
          isHf: false
          isPro: false
          name: mirek190
          type: user
        html: '<p>you have to use a starting parameters --rope-freq-scale 0.25 and
          -c 16384</p>

          <p>-c 16384 as it is llama2 has 4096 as default -c 4096<br>--rope-freq-scale
          0.25 as it has x4 context </p>

          '
        raw: 'you have to use a starting parameters --rope-freq-scale 0.25 and -c
          16384


          -c 16384 as it is llama2 has 4096 as default -c 4096

          --rope-freq-scale 0.25 as it has x4 context '
        updatedAt: '2023-08-13T09:58:21.163Z'
      numEdits: 6
      reactions: []
    id: 64d8a5b9a3c9b92761bbdb2e
    type: comment
  author: mirek190
  content: 'you have to use a starting parameters --rope-freq-scale 0.25 and -c 16384


    -c 16384 as it is llama2 has 4096 as default -c 4096

    --rope-freq-scale 0.25 as it has x4 context '
  created_at: 2023-08-13 08:43:21+00:00
  edited: true
  hidden: false
  id: 64d8a5b9a3c9b92761bbdb2e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
      fullname: Tom Jobbins
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: true
      name: TheBloke
      type: user
    createdAt: '2023-08-13T09:49:40.000Z'
    data:
      edited: true
      editors:
      - TheBloke
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8967218399047852
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6426d3f3a7723d62b53c259b/tvPikpAzKTKGN5wrpadOJ.jpeg?w=200&h=200&f=face
          fullname: Tom Jobbins
          isHf: false
          isPro: true
          name: TheBloke
          type: user
        html: '<p>Yeah this repeating word thing is when rope frequency scale is set
          wrong.  I mentioned this in the README under the llama.cpp command, but
          I guess it needs to be clearer.</p>

          <p>I haven''t checked text-generation-webui''s llama.cpp loader recently
          - presumably it has parameters for that</p>

          <p>But you set -c to the desired context I believe? So -c 16384 to make
          use of the full 16K</p>

          '
        raw: 'Yeah this repeating word thing is when rope frequency scale is set wrong.  I
          mentioned this in the README under the llama.cpp command, but I guess it
          needs to be clearer.


          I haven''t checked text-generation-webui''s llama.cpp loader recently -
          presumably it has parameters for that


          But you set -c to the desired context I believe? So -c 16384 to make use
          of the full 16K'
        updatedAt: '2023-08-13T09:50:22.829Z'
      numEdits: 1
      reactions: []
    id: 64d8a7343be3c57959ec7fe6
    type: comment
  author: TheBloke
  content: 'Yeah this repeating word thing is when rope frequency scale is set wrong.  I
    mentioned this in the README under the llama.cpp command, but I guess it needs
    to be clearer.


    I haven''t checked text-generation-webui''s llama.cpp loader recently - presumably
    it has parameters for that


    But you set -c to the desired context I believe? So -c 16384 to make use of the
    full 16K'
  created_at: 2023-08-13 08:49:40+00:00
  edited: true
  hidden: false
  id: 64d8a7343be3c57959ec7fe6
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8796019821146893ce5150cec2573a12.svg
      fullname: ko
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: mirek190
      type: user
    createdAt: '2023-08-13T09:57:09.000Z'
    data:
      edited: false
      editors:
      - mirek190
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9240967035293579
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8796019821146893ce5150cec2573a12.svg
          fullname: ko
          isHf: false
          isPro: false
          name: mirek190
          type: user
        html: '<p>ups ... you are right ... corrected ;D</p>

          '
        raw: ups ... you are right ... corrected ;D
        updatedAt: '2023-08-13T09:57:09.534Z'
      numEdits: 0
      reactions: []
    id: 64d8a8f5050438e3b98e3b73
    type: comment
  author: mirek190
  content: ups ... you are right ... corrected ;D
  created_at: 2023-08-13 08:57:09+00:00
  edited: false
  hidden: false
  id: 64d8a8f5050438e3b98e3b73
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8a6c195ce9bb2441fbeb436b679ce08e.svg
      fullname: ERALDO MACHADO RANGEL JUNIOR
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: eraldohug
      type: user
    createdAt: '2023-08-13T15:43:51.000Z'
    data:
      edited: false
      editors:
      - eraldohug
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.2714872360229492
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8a6c195ce9bb2441fbeb436b679ce08e.svg
          fullname: ERALDO MACHADO RANGEL JUNIOR
          isHf: false
          isPro: false
          name: eraldohug
          type: user
        html: '<p>Works now.<br> in oobabooga/text-generation-webui , the parameter
          <b>compress_pos_emb</b> must be set to 8.</p>

          '
        raw: "Works now.\n in oobabooga/text-generation-webui , the parameter <b>compress_pos_emb</b>\
          \ must be set to 8."
        updatedAt: '2023-08-13T15:43:51.617Z'
      numEdits: 0
      reactions: []
    id: 64d8fa37050438e3b9967557
    type: comment
  author: eraldohug
  content: "Works now.\n in oobabooga/text-generation-webui , the parameter <b>compress_pos_emb</b>\
    \ must be set to 8."
  created_at: 2023-08-13 14:43:51+00:00
  edited: false
  hidden: false
  id: 64d8fa37050438e3b9967557
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: TheBloke/LlongOrca-7B-16K-GGML
repo_type: model
status: open
target_branch: null
title: repeats the same word in the output
