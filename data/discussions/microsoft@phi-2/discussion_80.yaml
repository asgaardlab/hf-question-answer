!!python/object:huggingface_hub.community.DiscussionWithDetails
author: lyliiiii
conflicting_files: null
created_at: 2024-01-12 08:18:07+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0f91f598ff17ab2cc96de59eaf4359b.svg
      fullname: yyw
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lyliiiii
      type: user
    createdAt: '2024-01-12T08:18:07.000Z'
    data:
      edited: false
      editors:
      - lyliiiii
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8156920671463013
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0f91f598ff17ab2cc96de59eaf4359b.svg
          fullname: yyw
          isHf: false
          isPro: false
          name: lyliiiii
          type: user
        html: '<p>when i am loading the following code:model = PhiForSequenceClassificationModified(basemodel.config),<br>there''s
          an error: AttributeError: ''PhiForCausalLM'' object has no attribute ''transformer''.<br>I
          successfully run this code before, but for this time there''s an error.<br>Thanks
          for anyone who can help!!</p>

          '
        raw: "when i am loading the following code:model = PhiForSequenceClassificationModified(basemodel.config),\r\
          \nthere's an error: AttributeError: 'PhiForCausalLM' object has no attribute\
          \ 'transformer'.\r\nI successfully run this code before, but for this time\
          \ there's an error.\r\nThanks for anyone who can help!!"
        updatedAt: '2024-01-12T08:18:07.674Z'
      numEdits: 0
      reactions: []
    id: 65a0f5bf19665f75497bbb31
    type: comment
  author: lyliiiii
  content: "when i am loading the following code:model = PhiForSequenceClassificationModified(basemodel.config),\r\
    \nthere's an error: AttributeError: 'PhiForCausalLM' object has no attribute 'transformer'.\r\
    \nI successfully run this code before, but for this time there's an error.\r\n\
    Thanks for anyone who can help!!"
  created_at: 2024-01-12 08:18:07+00:00
  edited: false
  hidden: false
  id: 65a0f5bf19665f75497bbb31
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2024-01-12T13:09:25.000Z'
    data:
      edited: false
      editors:
      - gugarosa
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5135737061500549
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
          fullname: Gustavo de Rosa
          isHf: false
          isPro: false
          name: gugarosa
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;lyliiiii&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/lyliiiii\"\
          >@<span class=\"underline\">lyliiiii</span></a></span>\n\n\t</span></span>!</p>\n\
          <p>You are using a custom implemented class of <code>PhiForSequenceClassificationModified</code>.\
          \ Please check <a rel=\"nofollow\" href=\"https://github.com/huggingface/transformers/blob/main/src/transformers/models/phi/modeling_phi.py\"\
          >https://github.com/huggingface/transformers/blob/main/src/transformers/models/phi/modeling_phi.py</a>\
          \ for updating your modeling file.</p>\n<p>Also, ensure to use use <code>trust_remote_code=True</code>\
          \ if below <code>transformers==4.37.0</code>.</p>\n<p>Regards,<br>Gustavo.</p>\n"
        raw: 'Hello @lyliiiii!


          You are using a custom implemented class of `PhiForSequenceClassificationModified`.
          Please check https://github.com/huggingface/transformers/blob/main/src/transformers/models/phi/modeling_phi.py
          for updating your modeling file.


          Also, ensure to use use `trust_remote_code=True` if below `transformers==4.37.0`.


          Regards,

          Gustavo.'
        updatedAt: '2024-01-12T13:09:25.700Z'
      numEdits: 0
      reactions: []
      relatedEventId: 65a13a057326ec30b65b43f4
    id: 65a13a057326ec30b65b43ef
    type: comment
  author: gugarosa
  content: 'Hello @lyliiiii!


    You are using a custom implemented class of `PhiForSequenceClassificationModified`.
    Please check https://github.com/huggingface/transformers/blob/main/src/transformers/models/phi/modeling_phi.py
    for updating your modeling file.


    Also, ensure to use use `trust_remote_code=True` if below `transformers==4.37.0`.


    Regards,

    Gustavo.'
  created_at: 2024-01-12 13:09:25+00:00
  edited: false
  hidden: false
  id: 65a13a057326ec30b65b43ef
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2024-01-12T13:09:25.000Z'
    data:
      status: closed
    id: 65a13a057326ec30b65b43f4
    type: status-change
  author: gugarosa
  created_at: 2024-01-12 13:09:25+00:00
  id: 65a13a057326ec30b65b43f4
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/c0f91f598ff17ab2cc96de59eaf4359b.svg
      fullname: yyw
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: lyliiiii
      type: user
    createdAt: '2024-01-15T10:50:34.000Z'
    data:
      edited: false
      editors:
      - lyliiiii
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6882146596908569
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/c0f91f598ff17ab2cc96de59eaf4359b.svg
          fullname: yyw
          isHf: false
          isPro: false
          name: lyliiiii
          type: user
        html: '<p>Thanks gugarosa.<br>I checked for the trust_remote_code=True, and
          my version of transformer can only updated with the latest 4.36.2<br>(ERROR:
          No matching distribution found for transformers==4.37.0)<br>And i am fine-tuning
          using colab. How can i fix this?<br>Thank you!</p>

          '
        raw: 'Thanks gugarosa.

          I checked for the trust_remote_code=True, and my version of transformer
          can only updated with the latest 4.36.2

          (ERROR: No matching distribution found for transformers==4.37.0)

          And i am fine-tuning using colab. How can i fix this?

          Thank you!

          '
        updatedAt: '2024-01-15T10:50:34.699Z'
      numEdits: 0
      reactions: []
    id: 65a50dfac4034f4ed7b56e7c
    type: comment
  author: lyliiiii
  content: 'Thanks gugarosa.

    I checked for the trust_remote_code=True, and my version of transformer can only
    updated with the latest 4.36.2

    (ERROR: No matching distribution found for transformers==4.37.0)

    And i am fine-tuning using colab. How can i fix this?

    Thank you!

    '
  created_at: 2024-01-15 10:50:34+00:00
  edited: false
  hidden: false
  id: 65a50dfac4034f4ed7b56e7c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/8ebb26cb94891d2a7fd5885801ecd8e0.svg
      fullname: igorwang
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: igorwang
      type: user
    createdAt: '2024-01-21T04:17:02.000Z'
    data:
      edited: false
      editors:
      - igorwang
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9340522289276123
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/8ebb26cb94891d2a7fd5885801ecd8e0.svg
          fullname: igorwang
          isHf: false
          isPro: false
          name: igorwang
          type: user
        html: '<p>same issue,<br>if use self.model = basemodel.model  will cause error:<br>RuntimeError:
          A view was created in no_grad mode and is being modified inplace with grad
          mode enabled. This view was created inside a custom Function (or because
          an input was returned as-is) and the autograd logic to handle view+inplace
          would override the custom backward associated with the custom Function,
          leading to incorrect gradients. This behavior is forbidden. You can fix
          this by cloning the output of the custom Function.</p>

          '
        raw: 'same issue,

          if use self.model = basemodel.model  will cause error:

          RuntimeError: A view was created in no_grad mode and is being modified inplace
          with grad mode enabled. This view was created inside a custom Function (or
          because an input was returned as-is) and the autograd logic to handle view+inplace
          would override the custom backward associated with the custom Function,
          leading to incorrect gradients. This behavior is forbidden. You can fix
          this by cloning the output of the custom Function.'
        updatedAt: '2024-01-21T04:17:02.510Z'
      numEdits: 0
      reactions: []
    id: 65ac9abe1f4b7b68fdc9f1b9
    type: comment
  author: igorwang
  content: 'same issue,

    if use self.model = basemodel.model  will cause error:

    RuntimeError: A view was created in no_grad mode and is being modified inplace
    with grad mode enabled. This view was created inside a custom Function (or because
    an input was returned as-is) and the autograd logic to handle view+inplace would
    override the custom backward associated with the custom Function, leading to incorrect
    gradients. This behavior is forbidden. You can fix this by cloning the output
    of the custom Function.'
  created_at: 2024-01-21 04:17:02+00:00
  edited: false
  hidden: false
  id: 65ac9abe1f4b7b68fdc9f1b9
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 80
repo_id: microsoft/phi-2
repo_type: model
status: closed
target_branch: null
title: Cannot load the model  PhiForSequenceClassificationModified(basemodel.config)
