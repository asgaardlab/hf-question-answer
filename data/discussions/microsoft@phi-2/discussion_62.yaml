!!python/object:huggingface_hub.community.DiscussionWithDetails
author: J22
conflicting_files: null
created_at: 2024-01-04 09:31:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-04T09:31:03.000Z'
    data:
      edited: false
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.5483838319778442
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: '<p>Use <a rel="nofollow" href="https://github.com/foldl/chatllm.cpp">ChatLLM.cpp</a>
          to run Phi-2 on you CPU now.</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/630ef64700a70e9d192fc4d3/s81OuFsAdVPn4Cmadm16s.png"><img
          alt="phi2.png" src="https://cdn-uploads.huggingface.co/production/uploads/630ef64700a70e9d192fc4d3/s81OuFsAdVPn4Cmadm16s.png"></a></p>

          '
        raw: "Use [ChatLLM.cpp](https://github.com/foldl/chatllm.cpp) to run Phi-2\
          \ on you CPU now.\r\n\r\n![phi2.png](https://cdn-uploads.huggingface.co/production/uploads/630ef64700a70e9d192fc4d3/s81OuFsAdVPn4Cmadm16s.png)"
        updatedAt: '2024-01-04T09:31:03.065Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\U0001F44D"
        users:
        - Susant-Achary
        - FrankFacundo
    id: 65967ad7aa677adc97f1f047
    type: comment
  author: J22
  content: "Use [ChatLLM.cpp](https://github.com/foldl/chatllm.cpp) to run Phi-2 on\
    \ you CPU now.\r\n\r\n![phi2.png](https://cdn-uploads.huggingface.co/production/uploads/630ef64700a70e9d192fc4d3/s81OuFsAdVPn4Cmadm16s.png)"
  created_at: 2024-01-04 09:31:03+00:00
  edited: false
  hidden: false
  id: 65967ad7aa677adc97f1f047
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/27143177ba641779a9ddc9c1eeb05b04.svg
      fullname: Jerry Luo
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: linkai-dl
      type: user
    createdAt: '2024-01-07T14:11:15.000Z'
    data:
      edited: false
      editors:
      - linkai-dl
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9306365847587585
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/27143177ba641779a9ddc9c1eeb05b04.svg
          fullname: Jerry Luo
          isHf: false
          isPro: false
          name: linkai-dl
          type: user
        html: '<p>how about inference speed?</p>

          '
        raw: how about inference speed?
        updatedAt: '2024-01-07T14:11:15.594Z'
      numEdits: 0
      reactions: []
    id: 659ab1032ca1fbfe1cc4fc90
    type: comment
  author: linkai-dl
  content: how about inference speed?
  created_at: 2024-01-07 14:11:15+00:00
  edited: false
  hidden: false
  id: 659ab1032ca1fbfe1cc4fc90
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-08T10:48:27.000Z'
    data:
      edited: false
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9892825484275818
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: '<p>It is faster then larger models, just as expected.</p>

          '
        raw: It is faster then larger models, just as expected.
        updatedAt: '2024-01-08T10:48:27.779Z'
      numEdits: 0
      reactions: []
    id: 659bd2fbe6df49a09d701158
    type: comment
  author: J22
  content: It is faster then larger models, just as expected.
  created_at: 2024-01-08 10:48:27+00:00
  edited: false
  hidden: false
  id: 659bd2fbe6df49a09d701158
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b0883ec5e1dd4eba7a07acd25599d128.svg
      fullname: "Gon\xE7alo Valad\xE3o"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: olacnog
      type: user
    createdAt: '2024-01-08T22:45:44.000Z'
    data:
      edited: false
      editors:
      - olacnog
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7265638113021851
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b0883ec5e1dd4eba7a07acd25599d128.svg
          fullname: "Gon\xE7alo Valad\xE3o"
          isHf: false
          isPro: false
          name: olacnog
          type: user
        html: '<p>Hi J22,</p>

          <p>Thank you for your work.</p>

          <p>I visited ChatLLM.cpp to try it out. To generate the quantized models
          in chatLLM.cpp I did the following: </p>

          <p>python3 convert.py -i ~/.cache/huggingface/hub/models--microsoft--phi-2
          -t q8_0 -o quantized.bin</p>

          <p>But it didn''t work.</p>

          <p>I got this:</p>

          <p>Traceback (most recent call last):<br>  File "convert.py", line 345,
          in <br>    class TikTokenizerVocab:<br>  File "convert.py", line 354, in
          TikTokenizerVocab<br>    def bpe(mergeable_ranks: dict[bytes, int], token:
          bytes, max_rank: Optional[int] = None) -&gt; list[bytes]:<br>TypeError:
          ''type'' object is not subscriptable</p>

          <p>Can you please help?</p>

          <p>Thank you!</p>

          <p>G</p>

          '
        raw: "Hi J22,\n\nThank you for your work.\n\nI visited ChatLLM.cpp to try\
          \ it out. To generate the quantized models in chatLLM.cpp I did the following:\
          \ \n\npython3 convert.py -i ~/.cache/huggingface/hub/models--microsoft--phi-2\
          \ -t q8_0 -o quantized.bin\n\nBut it didn't work.\n\nI got this:\n\nTraceback\
          \ (most recent call last):\n  File \"convert.py\", line 345, in <module>\n\
          \    class TikTokenizerVocab:\n  File \"convert.py\", line 354, in TikTokenizerVocab\n\
          \    def bpe(mergeable_ranks: dict[bytes, int], token: bytes, max_rank:\
          \ Optional[int] = None) -> list[bytes]:\nTypeError: 'type' object is not\
          \ subscriptable\n\n\n\nCan you please help?\n\nThank you!\n\nG\n\n"
        updatedAt: '2024-01-08T22:45:44.045Z'
      numEdits: 0
      reactions: []
    id: 659c7b1896d8c1e3dbe300c2
    type: comment
  author: olacnog
  content: "Hi J22,\n\nThank you for your work.\n\nI visited ChatLLM.cpp to try it\
    \ out. To generate the quantized models in chatLLM.cpp I did the following: \n\
    \npython3 convert.py -i ~/.cache/huggingface/hub/models--microsoft--phi-2 -t q8_0\
    \ -o quantized.bin\n\nBut it didn't work.\n\nI got this:\n\nTraceback (most recent\
    \ call last):\n  File \"convert.py\", line 345, in <module>\n    class TikTokenizerVocab:\n\
    \  File \"convert.py\", line 354, in TikTokenizerVocab\n    def bpe(mergeable_ranks:\
    \ dict[bytes, int], token: bytes, max_rank: Optional[int] = None) -> list[bytes]:\n\
    TypeError: 'type' object is not subscriptable\n\n\n\nCan you please help?\n\n\
    Thank you!\n\nG\n\n"
  created_at: 2024-01-08 22:45:44+00:00
  edited: false
  hidden: false
  id: 659c7b1896d8c1e3dbe300c2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-09T02:04:57.000Z'
    data:
      edited: false
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8208112120628357
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: '<p>That''s weird. TikTokenizerVocab is invoked when <code>qwen.tiktoken</code>
          is found. </p>

          <p>I suggest you to check which files are in <code>~/.cache/huggingface/hub/models--microsoft--phi-2</code>.  You
          can download all files from <a href="https://huggingface.co/microsoft/phi-2/tree/main">here</a>
          except *.md, and try again.</p>

          '
        raw: "That's weird. TikTokenizerVocab is invoked when `qwen.tiktoken` is found.\
          \ \n\nI suggest you to check which files are in `~/.cache/huggingface/hub/models--microsoft--phi-2`.\
          \  You can download all files from [here](https://huggingface.co/microsoft/phi-2/tree/main)\
          \ except *.md, and try again."
        updatedAt: '2024-01-09T02:04:57.253Z'
      numEdits: 0
      reactions: []
    id: 659ca9c9bc65f1e59df97211
    type: comment
  author: J22
  content: "That's weird. TikTokenizerVocab is invoked when `qwen.tiktoken` is found.\
    \ \n\nI suggest you to check which files are in `~/.cache/huggingface/hub/models--microsoft--phi-2`.\
    \  You can download all files from [here](https://huggingface.co/microsoft/phi-2/tree/main)\
    \ except *.md, and try again."
  created_at: 2024-01-09 02:04:57+00:00
  edited: false
  hidden: false
  id: 659ca9c9bc65f1e59df97211
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/b0883ec5e1dd4eba7a07acd25599d128.svg
      fullname: "Gon\xE7alo Valad\xE3o"
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: olacnog
      type: user
    createdAt: '2024-01-09T11:46:00.000Z'
    data:
      edited: false
      editors:
      - olacnog
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9049780964851379
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/b0883ec5e1dd4eba7a07acd25599d128.svg
          fullname: "Gon\xE7alo Valad\xE3o"
          isHf: false
          isPro: false
          name: olacnog
          type: user
        html: '<p>Thank you for your reply but I''ve tried to do what you suggested
          without success. Could you please tell me specifically which phi-2 file
          or files from <a href="https://huggingface.co/microsoft/phi-2/tree/main">https://huggingface.co/microsoft/phi-2/tree/main</a>
          should I give to the script convert.py?</p>

          <p>Were you able to convert (quantize) the model in <a href="https://huggingface.co/microsoft/phi-2/tree/main">https://huggingface.co/microsoft/phi-2/tree/main</a>?
          How did you do?</p>

          <p>Thank you in advance!</p>

          '
        raw: 'Thank you for your reply but I''ve tried to do what you suggested without
          success. Could you please tell me specifically which phi-2 file or files
          from https://huggingface.co/microsoft/phi-2/tree/main should I give to the
          script convert.py?


          Were you able to convert (quantize) the model in https://huggingface.co/microsoft/phi-2/tree/main?
          How did you do?


          Thank you in advance!


          '
        updatedAt: '2024-01-09T11:46:00.242Z'
      numEdits: 0
      reactions: []
    id: 659d31f820cf0b934bbfdfe1
    type: comment
  author: olacnog
  content: 'Thank you for your reply but I''ve tried to do what you suggested without
    success. Could you please tell me specifically which phi-2 file or files from
    https://huggingface.co/microsoft/phi-2/tree/main should I give to the script convert.py?


    Were you able to convert (quantize) the model in https://huggingface.co/microsoft/phi-2/tree/main?
    How did you do?


    Thank you in advance!


    '
  created_at: 2024-01-09 11:46:00+00:00
  edited: false
  hidden: false
  id: 659d31f820cf0b934bbfdfe1
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-10T02:12:59.000Z'
    data:
      edited: true
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6026577353477478
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: '<ol>

          <li>download all files from <a href="https://huggingface.co/microsoft/phi-2/tree/main">here</a>
          ( *.md files are not needed).</li>

          <li>Let''s say the files are located in path /path/to/phi2/files. Run convert.py
          like this:</li>

          </ol>

          <pre><code class="language-shell">python convert.py -i /path/to/phi2/files
          -o phi2.bin

          </code></pre>

          '
        raw: '1. download all files from [here](https://huggingface.co/microsoft/phi-2/tree/main)
          ( *.md files are not needed).

          2. Let''s say the files are located in path /path/to/phi2/files. Run convert.py
          like this:


          ```shell

          python convert.py -i /path/to/phi2/files -o phi2.bin

          ```'
        updatedAt: '2024-01-10T02:15:54.123Z'
      numEdits: 1
      reactions: []
    id: 659dfd2bb03a0f0e4f4fa81e
    type: comment
  author: J22
  content: '1. download all files from [here](https://huggingface.co/microsoft/phi-2/tree/main)
    ( *.md files are not needed).

    2. Let''s say the files are located in path /path/to/phi2/files. Run convert.py
    like this:


    ```shell

    python convert.py -i /path/to/phi2/files -o phi2.bin

    ```'
  created_at: 2024-01-10 02:12:59+00:00
  edited: true
  hidden: false
  id: 659dfd2bb03a0f0e4f4fa81e
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/0abd6820dae000dd378296ed27aaebde.svg
      fullname: Kirill Igumenshchev
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: kirilligum
      type: user
    createdAt: '2024-01-11T22:25:31.000Z'
    data:
      edited: false
      editors:
      - kirilligum
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.16990432143211365
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/0abd6820dae000dd378296ed27aaebde.svg
          fullname: Kirill Igumenshchev
          isHf: false
          isPro: false
          name: kirilligum
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;J22&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/J22\">@<span class=\"\
          underline\">J22</span></a></span>\n\n\t</span></span> </p>\n<p>i have an\
          \ error with <code>gelu_new</code></p>\n<pre><code>ubuntu@ip-172-31-7-92\
          \ ~/t/chatllm.cpp (master)&gt; ls -lhtr phi-2/\ntotal 5.2G\n-rw-rw-r-- 1\
          \ ubuntu ubuntu   74 Jan 11 22:13 generation_config.json\n-rw-rw-r-- 1 ubuntu\
          \ ubuntu 9.1K Jan 11 22:13 configuration_phi.py\n-rw-rw-r-- 1 ubuntu ubuntu\
          \  866 Jan 11 22:13 config.json\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jan 11\
          \ 22:13 added_tokens.json\n-rw-rw-r-- 1 ubuntu ubuntu 2.6K Jan 11 22:13\
          \ SECURITY.md\n-rw-rw-r-- 1 ubuntu ubuntu 7.3K Jan 11 22:13 README.md\n\
          -rw-rw-r-- 1 ubuntu ubuntu 1.8K Jan 11 22:13 NOTICE.md\n-rw-rw-r-- 1 ubuntu\
          \ ubuntu 1.1K Jan 11 22:13 LICENSE\n-rw-rw-r-- 1 ubuntu ubuntu  444 Jan\
          \ 11 22:13 CODE_OF_CONDUCT.md\n-rw-rw-r-- 1 ubuntu ubuntu 446K Jan 11 22:13\
          \ merges.txt\n-rw-rw-r-- 1 ubuntu ubuntu   99 Jan 11 22:13 special_tokens_map.json\n\
          -rw-rw-r-- 1 ubuntu ubuntu  62K Jan 11 22:13 modeling_phi.py\n-rw-rw-r--\
          \ 1 ubuntu ubuntu  35K Jan 11 22:13 model.safetensors.index.json\n-rw-rw-r--\
          \ 1 ubuntu ubuntu 7.2K Jan 11 22:13 tokenizer_config.json\n-rw-rw-r-- 1\
          \ ubuntu ubuntu 2.1M Jan 11 22:13 tokenizer.json\n-rw-rw-r-- 1 ubuntu ubuntu\
          \ 780K Jan 11 22:13 vocab.json\n-rw-rw-r-- 1 ubuntu ubuntu 538M Jan 11 22:13\
          \ model-00002-of-00002.safetensors\n-rw-rw-r-- 1 ubuntu ubuntu 4.7G Jan\
          \ 11 22:14 model-00001-of-00002.safetensors\nubuntu@ip-172-31-7-92 ~/t/chatllm.cpp\
          \ (master)&gt; python3 convert.py -i phi-2 -o phi2.bin\nLoading vocab file\
          \ phi-2\nvocab_size  50295\nTraceback (most recent call last):\n  File \"\
          /home/ubuntu/tmp/chatllm.cpp/convert.py\", line 1516, in &lt;module&gt;\n\
          \    main()\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\", line 1422,\
          \ in main\n    Phi2Converter.convert(config, model_files, vocab, ggml_type,\
          \ args.save_path)\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\", line\
          \ 459, in convert\n    cls.dump_config(f, config, ggml_type)\n  File \"\
          /home/ubuntu/tmp/chatllm.cpp/convert.py\", line 1161, in dump_config\n \
          \   assert config.activation_function == 'gelu_new', \"activation_function\
          \ must be gelu_new\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
          AssertionError: activation_function must be gelu_new\n</code></pre>\n"
        raw: "@J22 \n\ni have an error with `gelu_new`\n\n```\nubuntu@ip-172-31-7-92\
          \ ~/t/chatllm.cpp (master)> ls -lhtr phi-2/\ntotal 5.2G\n-rw-rw-r-- 1 ubuntu\
          \ ubuntu   74 Jan 11 22:13 generation_config.json\n-rw-rw-r-- 1 ubuntu ubuntu\
          \ 9.1K Jan 11 22:13 configuration_phi.py\n-rw-rw-r-- 1 ubuntu ubuntu  866\
          \ Jan 11 22:13 config.json\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jan 11 22:13\
          \ added_tokens.json\n-rw-rw-r-- 1 ubuntu ubuntu 2.6K Jan 11 22:13 SECURITY.md\n\
          -rw-rw-r-- 1 ubuntu ubuntu 7.3K Jan 11 22:13 README.md\n-rw-rw-r-- 1 ubuntu\
          \ ubuntu 1.8K Jan 11 22:13 NOTICE.md\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jan\
          \ 11 22:13 LICENSE\n-rw-rw-r-- 1 ubuntu ubuntu  444 Jan 11 22:13 CODE_OF_CONDUCT.md\n\
          -rw-rw-r-- 1 ubuntu ubuntu 446K Jan 11 22:13 merges.txt\n-rw-rw-r-- 1 ubuntu\
          \ ubuntu   99 Jan 11 22:13 special_tokens_map.json\n-rw-rw-r-- 1 ubuntu\
          \ ubuntu  62K Jan 11 22:13 modeling_phi.py\n-rw-rw-r-- 1 ubuntu ubuntu \
          \ 35K Jan 11 22:13 model.safetensors.index.json\n-rw-rw-r-- 1 ubuntu ubuntu\
          \ 7.2K Jan 11 22:13 tokenizer_config.json\n-rw-rw-r-- 1 ubuntu ubuntu 2.1M\
          \ Jan 11 22:13 tokenizer.json\n-rw-rw-r-- 1 ubuntu ubuntu 780K Jan 11 22:13\
          \ vocab.json\n-rw-rw-r-- 1 ubuntu ubuntu 538M Jan 11 22:13 model-00002-of-00002.safetensors\n\
          -rw-rw-r-- 1 ubuntu ubuntu 4.7G Jan 11 22:14 model-00001-of-00002.safetensors\n\
          ubuntu@ip-172-31-7-92 ~/t/chatllm.cpp (master)> python3 convert.py -i phi-2\
          \ -o phi2.bin\nLoading vocab file phi-2\nvocab_size  50295\nTraceback (most\
          \ recent call last):\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\"\
          , line 1516, in <module>\n    main()\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\"\
          , line 1422, in main\n    Phi2Converter.convert(config, model_files, vocab,\
          \ ggml_type, args.save_path)\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\"\
          , line 459, in convert\n    cls.dump_config(f, config, ggml_type)\n  File\
          \ \"/home/ubuntu/tmp/chatllm.cpp/convert.py\", line 1161, in dump_config\n\
          \    assert config.activation_function == 'gelu_new', \"activation_function\
          \ must be gelu_new\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
          AssertionError: activation_function must be gelu_new\n```"
        updatedAt: '2024-01-11T22:25:31.411Z'
      numEdits: 0
      reactions: []
    id: 65a06adb19665f75494cca3d
    type: comment
  author: kirilligum
  content: "@J22 \n\ni have an error with `gelu_new`\n\n```\nubuntu@ip-172-31-7-92\
    \ ~/t/chatllm.cpp (master)> ls -lhtr phi-2/\ntotal 5.2G\n-rw-rw-r-- 1 ubuntu ubuntu\
    \   74 Jan 11 22:13 generation_config.json\n-rw-rw-r-- 1 ubuntu ubuntu 9.1K Jan\
    \ 11 22:13 configuration_phi.py\n-rw-rw-r-- 1 ubuntu ubuntu  866 Jan 11 22:13\
    \ config.json\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jan 11 22:13 added_tokens.json\n\
    -rw-rw-r-- 1 ubuntu ubuntu 2.6K Jan 11 22:13 SECURITY.md\n-rw-rw-r-- 1 ubuntu\
    \ ubuntu 7.3K Jan 11 22:13 README.md\n-rw-rw-r-- 1 ubuntu ubuntu 1.8K Jan 11 22:13\
    \ NOTICE.md\n-rw-rw-r-- 1 ubuntu ubuntu 1.1K Jan 11 22:13 LICENSE\n-rw-rw-r--\
    \ 1 ubuntu ubuntu  444 Jan 11 22:13 CODE_OF_CONDUCT.md\n-rw-rw-r-- 1 ubuntu ubuntu\
    \ 446K Jan 11 22:13 merges.txt\n-rw-rw-r-- 1 ubuntu ubuntu   99 Jan 11 22:13 special_tokens_map.json\n\
    -rw-rw-r-- 1 ubuntu ubuntu  62K Jan 11 22:13 modeling_phi.py\n-rw-rw-r-- 1 ubuntu\
    \ ubuntu  35K Jan 11 22:13 model.safetensors.index.json\n-rw-rw-r-- 1 ubuntu ubuntu\
    \ 7.2K Jan 11 22:13 tokenizer_config.json\n-rw-rw-r-- 1 ubuntu ubuntu 2.1M Jan\
    \ 11 22:13 tokenizer.json\n-rw-rw-r-- 1 ubuntu ubuntu 780K Jan 11 22:13 vocab.json\n\
    -rw-rw-r-- 1 ubuntu ubuntu 538M Jan 11 22:13 model-00002-of-00002.safetensors\n\
    -rw-rw-r-- 1 ubuntu ubuntu 4.7G Jan 11 22:14 model-00001-of-00002.safetensors\n\
    ubuntu@ip-172-31-7-92 ~/t/chatllm.cpp (master)> python3 convert.py -i phi-2 -o\
    \ phi2.bin\nLoading vocab file phi-2\nvocab_size  50295\nTraceback (most recent\
    \ call last):\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\", line 1516,\
    \ in <module>\n    main()\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\"\
    , line 1422, in main\n    Phi2Converter.convert(config, model_files, vocab, ggml_type,\
    \ args.save_path)\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\", line 459,\
    \ in convert\n    cls.dump_config(f, config, ggml_type)\n  File \"/home/ubuntu/tmp/chatllm.cpp/convert.py\"\
    , line 1161, in dump_config\n    assert config.activation_function == 'gelu_new',\
    \ \"activation_function must be gelu_new\"\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\
    AssertionError: activation_function must be gelu_new\n```"
  created_at: 2024-01-11 22:25:31+00:00
  edited: false
  hidden: false
  id: 65a06adb19665f75494cca3d
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-12T06:34:05.000Z'
    data:
      edited: false
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7584912776947021
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: '<p>Oh, they made so many updates.</p>

          <p><a href="https://huggingface.co/microsoft/phi-2/commit/cb2f4533604d8b67de604e7df03bfe6f3ca22869">https://huggingface.co/microsoft/phi-2/commit/cb2f4533604d8b67de604e7df03bfe6f3ca22869</a></p>

          <p>I will update ChatLLM.cpp accordingly (hopefully next week). Or, you
          can download an elder revision.</p>

          '
        raw: 'Oh, they made so many updates.


          https://huggingface.co/microsoft/phi-2/commit/cb2f4533604d8b67de604e7df03bfe6f3ca22869


          I will update ChatLLM.cpp accordingly (hopefully next week). Or, you can
          download an elder revision.'
        updatedAt: '2024-01-12T06:34:05.196Z'
      numEdits: 0
      reactions: []
    id: 65a0dd5db430dfb7e0e65574
    type: comment
  author: J22
  content: 'Oh, they made so many updates.


    https://huggingface.co/microsoft/phi-2/commit/cb2f4533604d8b67de604e7df03bfe6f3ca22869


    I will update ChatLLM.cpp accordingly (hopefully next week). Or, you can download
    an elder revision.'
  created_at: 2024-01-12 06:34:05+00:00
  edited: false
  hidden: false
  id: 65a0dd5db430dfb7e0e65574
  type: comment
- !!python/object:huggingface_hub.community.DiscussionTitleChange
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-12T06:34:18.000Z'
    data:
      from: run Phi-2 on you CPU
      to: run Phi-2 on your CPU
    id: 65a0dd6aff65c2d46db885b4
    type: title-change
  author: J22
  created_at: 2024-01-12 06:34:18+00:00
  id: 65a0dd6aff65c2d46db885b4
  new_title: run Phi-2 on your CPU
  old_title: run Phi-2 on you CPU
  type: title-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-12T09:44:38.000Z'
    data:
      edited: false
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7882341742515564
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;kirilligum&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/kirilligum\">@<span class=\"\
          underline\">kirilligum</span></a></span>\n\n\t</span></span>  ChatLLM.cpp\
          \ now supports the latest review of Phi-2. You can pull the latest code\
          \ of ChatLLM.cpp and try to convert it again.</p>\n"
        raw: '@kirilligum  ChatLLM.cpp now supports the latest review of Phi-2. You
          can pull the latest code of ChatLLM.cpp and try to convert it again.'
        updatedAt: '2024-01-12T09:44:38.591Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - kirilligum
    id: 65a10a0626d1e9df4f0a34ac
    type: comment
  author: J22
  content: '@kirilligum  ChatLLM.cpp now supports the latest review of Phi-2. You
    can pull the latest code of ChatLLM.cpp and try to convert it again.'
  created_at: 2024-01-12 09:44:38+00:00
  edited: false
  hidden: false
  id: 65a10a0626d1e9df4f0a34ac
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/9557aabfd34e1c73d158143394e82cc5.svg
      fullname: tim lock
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: tim1900
      type: user
    createdAt: '2024-01-13T16:03:33.000Z'
    data:
      edited: true
      editors: []
      hidden: true
      hiddenBy: ''
      latest:
        author:
          avatarUrl: /avatars/9557aabfd34e1c73d158143394e82cc5.svg
          fullname: tim lock
          isHf: false
          isPro: false
          name: tim1900
          type: user
        html: This comment has been hidden
        raw: This comment has been hidden
        updatedAt: '2024-01-14T07:01:52.902Z'
      numEdits: 0
      reactions: []
    id: 65a2b455af89bf3f13ead967
    type: comment
  author: tim1900
  content: This comment has been hidden
  created_at: 2024-01-13 16:03:33+00:00
  edited: true
  hidden: true
  id: 65a2b455af89bf3f13ead967
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/31d4082e716a7d67fc936ff67ab944d7.svg
      fullname: Tal Baumel
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: talbaumel
      type: user
    createdAt: '2024-01-16T08:46:28.000Z'
    data:
      edited: false
      editors:
      - talbaumel
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9032365083694458
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/31d4082e716a7d67fc936ff67ab944d7.svg
          fullname: Tal Baumel
          isHf: false
          isPro: false
          name: talbaumel
          type: user
        html: '<p>Thanks for the reference :)<br>Does the repo support loading a LoRA
          head I trained?</p>

          '
        raw: 'Thanks for the reference :)

          Does the repo support loading a LoRA head I trained?'
        updatedAt: '2024-01-16T08:46:28.771Z'
      numEdits: 0
      reactions: []
    id: 65a64264b26c0f0134189f76
    type: comment
  author: talbaumel
  content: 'Thanks for the reference :)

    Does the repo support loading a LoRA head I trained?'
  created_at: 2024-01-16 08:46:28+00:00
  edited: false
  hidden: false
  id: 65a64264b26c0f0134189f76
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
      fullname: JJ
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: J22
      type: user
    createdAt: '2024-01-17T03:20:56.000Z'
    data:
      edited: false
      editors:
      - J22
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9395648241043091
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7eb63bcc4e16db8fa046118c9c008a7f.svg
          fullname: JJ
          isHf: false
          isPro: false
          name: J22
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;talbaumel&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/talbaumel\">@<span class=\"\
          underline\">talbaumel</span></a></span>\n\n\t</span></span> Sorry, it does\
          \ not support LoRA at present.</p>\n"
        raw: '@talbaumel Sorry, it does not support LoRA at present.'
        updatedAt: '2024-01-17T03:20:56.227Z'
      numEdits: 0
      reactions: []
    id: 65a74798293926cc078a8afc
    type: comment
  author: J22
  content: '@talbaumel Sorry, it does not support LoRA at present.'
  created_at: 2024-01-17 03:20:56+00:00
  edited: false
  hidden: false
  id: 65a74798293926cc078a8afc
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 62
repo_id: microsoft/phi-2
repo_type: model
status: open
target_branch: null
title: run Phi-2 on your CPU
