!!python/object:huggingface_hub.community.DiscussionWithDetails
author: wassname
conflicting_files: null
created_at: 2023-12-14 08:25:56+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7e313aebaddb3ec752ec48b619464f2c.svg
      fullname: wassname
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wassname
      type: user
    createdAt: '2023-12-14T08:25:56.000Z'
    data:
      edited: false
      editors:
      - wassname
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.6826186180114746
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7e313aebaddb3ec752ec48b619464f2c.svg
          fullname: wassname
          isHf: false
          isPro: false
          name: wassname
          type: user
        html: '<p>Phi overrides the pretrained transformer but does not extend it''s
          capability for returning hidden states</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64033d43dbfbea2a053a6743/ujfi3LoZAhs7ZaZj7-ytR.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/64033d43dbfbea2a053a6743/ujfi3LoZAhs7ZaZj7-ytR.png"></a></p>

          '
        raw: "Phi overrides the pretrained transformer but does not extend it's capability\
          \ for returning hidden states\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64033d43dbfbea2a053a6743/ujfi3LoZAhs7ZaZj7-ytR.png)\r\
          \n"
        updatedAt: '2023-12-14T08:25:56.679Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - Sagar3745
      - count: 1
        reaction: "\u2764\uFE0F"
        users:
        - edmond
    id: 657abc148b9601d838019946
    type: comment
  author: wassname
  content: "Phi overrides the pretrained transformer but does not extend it's capability\
    \ for returning hidden states\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64033d43dbfbea2a053a6743/ujfi3LoZAhs7ZaZj7-ytR.png)\r\
    \n"
  created_at: 2023-12-14 08:25:56+00:00
  edited: false
  hidden: false
  id: 657abc148b9601d838019946
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7e313aebaddb3ec752ec48b619464f2c.svg
      fullname: wassname
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wassname
      type: user
    createdAt: '2023-12-15T23:38:17.000Z'
    data:
      edited: true
      editors:
      - wassname
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.49492332339286804
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7e313aebaddb3ec752ec48b619464f2c.svg
          fullname: wassname
          isHf: false
          isPro: false
          name: wassname
          type: user
        html: '<p>here''s a modified version that returns attention and hidden states
          <a href="https://huggingface.co/wassname/phi-2-GPTQ_w_hidden_states/commit/685c0577cc3e018d3975fded32282294195eb2ef">https://huggingface.co/wassname/phi-2-GPTQ_w_hidden_states/blob/main/configuration_phi.py</a></p>

          '
        raw: 'here''s a modified version that returns attention and hidden states
          [https://huggingface.co/wassname/phi-2-GPTQ_w_hidden_states/blob/main/configuration_phi.py](https://huggingface.co/wassname/phi-2-GPTQ_w_hidden_states/commit/685c0577cc3e018d3975fded32282294195eb2ef)

          '
        updatedAt: '2023-12-15T23:43:40.285Z'
      numEdits: 1
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - edmond
    id: 657ce3691e3e9c41a468a980
    type: comment
  author: wassname
  content: 'here''s a modified version that returns attention and hidden states [https://huggingface.co/wassname/phi-2-GPTQ_w_hidden_states/blob/main/configuration_phi.py](https://huggingface.co/wassname/phi-2-GPTQ_w_hidden_states/commit/685c0577cc3e018d3975fded32282294195eb2ef)

    '
  created_at: 2023-12-15 23:38:17+00:00
  edited: true
  hidden: false
  id: 657ce3691e3e9c41a468a980
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2bdb4a26fde4cbe5b4673e53e0d44540.svg
      fullname: Edmond Jacoupeau
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: edmond
      type: user
    createdAt: '2023-12-17T15:20:57.000Z'
    data:
      edited: false
      editors:
      - edmond
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.8489667177200317
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2bdb4a26fde4cbe5b4673e53e0d44540.svg
          fullname: Edmond Jacoupeau
          isHf: false
          isPro: false
          name: edmond
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;wassname&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/wassname\">@<span class=\"\
          underline\">wassname</span></a></span>\n\n\t</span></span> is there any\
          \ plan to really change phi-2 ?<br>Because the following warning remains\
          \ on the main page :<br>\"Remark: In the generation function, our model\
          \ currently does not support beam search (num_beams &gt; 1). Furthermore,\
          \ in the forward pass of the model, we currently do not support outputting\
          \ hidden states or attention values, or using custom input embeddings.\"\
          <br>I personally use a lot custom input embeddings and this makes phi unusable\
          \ for many usecases in my opinion.</p>\n"
        raw: '@wassname is there any plan to really change phi-2 ?

          Because the following warning remains on the main page :

          "Remark: In the generation function, our model currently does not support
          beam search (num_beams > 1). Furthermore, in the forward pass of the model,
          we currently do not support outputting hidden states or attention values,
          or using custom input embeddings."

          I personally use a lot custom input embeddings and this makes phi unusable
          for many usecases in my opinion.'
        updatedAt: '2023-12-17T15:20:57.494Z'
      numEdits: 0
      reactions:
      - count: 1
        reaction: "\U0001F44D"
        users:
        - wassname
    id: 657f11d9f010d76b6e4e623c
    type: comment
  author: edmond
  content: '@wassname is there any plan to really change phi-2 ?

    Because the following warning remains on the main page :

    "Remark: In the generation function, our model currently does not support beam
    search (num_beams > 1). Furthermore, in the forward pass of the model, we currently
    do not support outputting hidden states or attention values, or using custom input
    embeddings."

    I personally use a lot custom input embeddings and this makes phi unusable for
    many usecases in my opinion.'
  created_at: 2023-12-17 15:20:57+00:00
  edited: false
  hidden: false
  id: 657f11d9f010d76b6e4e623c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-12-20T12:50:55.000Z'
    data:
      edited: false
      editors:
      - gugarosa
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.7278561592102051
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
          fullname: Gustavo de Rosa
          isHf: false
          isPro: false
          name: gugarosa
          type: user
        html: "<p>Hello <span data-props=\"{&quot;user&quot;:&quot;edmond&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/edmond\"\
          >@<span class=\"underline\">edmond</span></a></span>\n\n\t</span></span>\
          \ and <span data-props=\"{&quot;user&quot;:&quot;wassname&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/wassname\">@<span class=\"\
          underline\">wassname</span></a></span>\n\n\t</span></span>!</p>\n<p>This\
          \ will be updated once we integrate with the Phi implementation in HF.</p>\n\
          <p>Best regards,<br>Gustavo.</p>\n"
        raw: 'Hello @edmond and @wassname!


          This will be updated once we integrate with the Phi implementation in HF.


          Best regards,

          Gustavo.'
        updatedAt: '2023-12-20T12:50:55.326Z'
      numEdits: 0
      reactions:
      - count: 2
        reaction: "\u2764\uFE0F"
        users:
        - wassname
        - edmond
      relatedEventId: 6582e32fec5946d1d2f01ca9
    id: 6582e32fec5946d1d2f01ca7
    type: comment
  author: gugarosa
  content: 'Hello @edmond and @wassname!


    This will be updated once we integrate with the Phi implementation in HF.


    Best regards,

    Gustavo.'
  created_at: 2023-12-20 12:50:55+00:00
  edited: false
  hidden: false
  id: 6582e32fec5946d1d2f01ca7
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1666203761402-6157454831624da88210e627.jpeg?w=200&h=200&f=face
      fullname: Gustavo de Rosa
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: gugarosa
      type: user
    createdAt: '2023-12-20T12:50:55.000Z'
    data:
      status: closed
    id: 6582e32fec5946d1d2f01ca9
    type: status-change
  author: gugarosa
  created_at: 2023-12-20 12:50:55+00:00
  id: 6582e32fec5946d1d2f01ca9
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/7e313aebaddb3ec752ec48b619464f2c.svg
      fullname: wassname
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: wassname
      type: user
    createdAt: '2023-12-21T00:45:43.000Z'
    data:
      edited: false
      editors:
      - wassname
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.939342737197876
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/7e313aebaddb3ec752ec48b619464f2c.svg
          fullname: wassname
          isHf: false
          isPro: false
          name: wassname
          type: user
        html: '<p>Thanks Gustov, much appreciated. Phi -2 is an awesome model for
          research as it fits on consumer gpu''s even when doing strange experiments
          (VAE, Adaptors, Probing).</p>

          '
        raw: Thanks Gustov, much appreciated. Phi -2 is an awesome model for research
          as it fits on consumer gpu's even when doing strange experiments (VAE, Adaptors,
          Probing).
        updatedAt: '2023-12-21T00:45:43.059Z'
      numEdits: 0
      reactions: []
    id: 65838ab764188479684b89ec
    type: comment
  author: wassname
  content: Thanks Gustov, much appreciated. Phi -2 is an awesome model for research
    as it fits on consumer gpu's even when doing strange experiments (VAE, Adaptors,
    Probing).
  created_at: 2023-12-21 00:45:43+00:00
  edited: false
  hidden: false
  id: 65838ab764188479684b89ec
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2bdb4a26fde4cbe5b4673e53e0d44540.svg
      fullname: Edmond Jacoupeau
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: edmond
      type: user
    createdAt: '2023-12-25T09:06:01.000Z'
    data:
      edited: false
      editors:
      - edmond
      hidden: false
      identifiedLanguage:
        language: de
        probability: 0.43383121490478516
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2bdb4a26fde4cbe5b4673e53e0d44540.svg
          fullname: Edmond Jacoupeau
          isHf: false
          isPro: false
          name: edmond
          type: user
        html: '<p>Amazing ! Im impatient </p>

          '
        raw: 'Amazing ! Im impatient '
        updatedAt: '2023-12-25T09:06:01.165Z'
      numEdits: 0
      reactions: []
    id: 658945f999ed106ac8a24526
    type: comment
  author: edmond
  content: 'Amazing ! Im impatient '
  created_at: 2023-12-25 09:06:01+00:00
  edited: false
  hidden: false
  id: 658945f999ed106ac8a24526
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/2bdb4a26fde4cbe5b4673e53e0d44540.svg
      fullname: Edmond Jacoupeau
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: edmond
      type: user
    createdAt: '2024-01-17T13:15:40.000Z'
    data:
      edited: false
      editors:
      - edmond
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9794076085090637
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/2bdb4a26fde4cbe5b4673e53e0d44540.svg
          fullname: Edmond Jacoupeau
          isHf: false
          isPro: false
          name: edmond
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;wassname&quot;}\" data-target=\"\
          UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\">\n\n<span class=\"\
          inline-block\"><span class=\"contents\"><a href=\"/wassname\">@<span class=\"\
          underline\">wassname</span></a></span>\n\n\t</span></span> Do you know if\
          \ the last commits include the changes we were hoping for ? Its hard for\
          \ me to know without reading their code</p>\n"
        raw: '@wassname Do you know if the last commits include the changes we were
          hoping for ? Its hard for me to know without reading their code'
        updatedAt: '2024-01-17T13:15:40.544Z'
      numEdits: 0
      reactions: []
    id: 65a7d2fc8581aad8c9005b2c
    type: comment
  author: edmond
  content: '@wassname Do you know if the last commits include the changes we were
    hoping for ? Its hard for me to know without reading their code'
  created_at: 2024-01-17 13:15:40+00:00
  edited: false
  hidden: false
  id: 65a7d2fc8581aad8c9005b2c
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 15
repo_id: microsoft/phi-2
repo_type: model
status: closed
target_branch: null
title: does not return hidden states
