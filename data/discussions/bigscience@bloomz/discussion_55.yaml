!!python/object:huggingface_hub.community.DiscussionWithDetails
author: dsbyprateekg
conflicting_files: null
created_at: 2024-01-23 11:32:03+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cef0b7dbffbfe183d744fe92833b0678.svg
      fullname: prateek gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dsbyprateekg
      type: user
    createdAt: '2024-01-23T11:32:03.000Z'
    data:
      edited: false
      editors:
      - dsbyprateekg
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.3695935010910034
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cef0b7dbffbfe183d744fe92833b0678.svg
          fullname: prateek gupta
          isHf: false
          isPro: false
          name: dsbyprateekg
          type: user
        html: '<p>Code-<br><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/-5m8TES2Sxag7PRU7UPL-.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/-5m8TES2Sxag7PRU7UPL-.png"></a></p>

          <p>Error-</p>

          <p><a rel="nofollow" href="https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/XdOkfx37pKmUKrRmK_8lx.png"><img
          alt="image.png" src="https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/XdOkfx37pKmUKrRmK_8lx.png"></a></p>

          <p>Environment-<br>Colab T4 GPU</p>

          '
        raw: "Code-\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/-5m8TES2Sxag7PRU7UPL-.png)\r\
          \n\r\nError-\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/XdOkfx37pKmUKrRmK_8lx.png)\r\
          \n\r\nEnvironment-\r\nColab T4 GPU"
        updatedAt: '2024-01-23T11:32:03.078Z'
      numEdits: 0
      reactions: []
    id: 65afa3b3637e10fba96a9d3b
    type: comment
  author: dsbyprateekg
  content: "Code-\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/-5m8TES2Sxag7PRU7UPL-.png)\r\
    \n\r\nError-\r\n\r\n![image.png](https://cdn-uploads.huggingface.co/production/uploads/64018c408ba76abe4b74f4de/XdOkfx37pKmUKrRmK_8lx.png)\r\
    \n\r\nEnvironment-\r\nColab T4 GPU"
  created_at: 2024-01-23 11:32:03+00:00
  edited: false
  hidden: false
  id: 65afa3b3637e10fba96a9d3b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
      fullname: Niklas Muennighoff
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Muennighoff
      type: user
    createdAt: '2024-01-23T14:44:50.000Z'
    data:
      edited: true
      editors:
      - Muennighoff
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9206559658050537
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
          fullname: Niklas Muennighoff
          isHf: false
          isPro: false
          name: Muennighoff
          type: user
        html: '<p>ur trying to load mt0 with the bloom model; u need to load it w/
          the mt0 model (i.e. t5 i think) - the script is in its modelcard</p>

          '
        raw: ur trying to load mt0 with the bloom model; u need to load it w/ the
          mt0 model (i.e. t5 i think) - the script is in its modelcard
        updatedAt: '2024-01-23T14:45:13.689Z'
      numEdits: 1
      reactions: []
    id: 65afd0e2091a8ca32b1c93f2
    type: comment
  author: Muennighoff
  content: ur trying to load mt0 with the bloom model; u need to load it w/ the mt0
    model (i.e. t5 i think) - the script is in its modelcard
  created_at: 2024-01-23 14:44:50+00:00
  edited: true
  hidden: false
  id: 65afd0e2091a8ca32b1c93f2
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1646492542174-5e70f6048ce3c604d78fe133.jpeg?w=200&h=200&f=face
      fullname: Christopher Akiki
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: cakiki
      type: user
    createdAt: '2024-01-23T19:43:31.000Z'
    data:
      status: closed
    id: 65b016e3b758a7b93928fc12
    type: status-change
  author: cakiki
  created_at: 2024-01-23 19:43:31+00:00
  id: 65b016e3b758a7b93928fc12
  new_status: closed
  type: status-change
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cef0b7dbffbfe183d744fe92833b0678.svg
      fullname: prateek gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dsbyprateekg
      type: user
    createdAt: '2024-01-24T04:03:39.000Z'
    data:
      edited: false
      editors:
      - dsbyprateekg
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9126284122467041
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cef0b7dbffbfe183d744fe92833b0678.svg
          fullname: prateek gupta
          isHf: false
          isPro: false
          name: dsbyprateekg
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Muennighoff&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Muennighoff\"\
          >@<span class=\"underline\">Muennighoff</span></a></span>\n\n\t</span></span>\
          \ can you please share the code snippet how to do that?</p>\n"
        raw: '@Muennighoff can you please share the code snippet how to do that?'
        updatedAt: '2024-01-24T04:03:39.060Z'
      numEdits: 0
      reactions: []
    id: 65b08c1b1dbd85fd0c16244b
    type: comment
  author: dsbyprateekg
  content: '@Muennighoff can you please share the code snippet how to do that?'
  created_at: 2024-01-24 04:03:39+00:00
  edited: false
  hidden: false
  id: 65b08c1b1dbd85fd0c16244b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
      fullname: Niklas Muennighoff
      isHf: false
      isOrgMember: true
      isOwner: false
      isPro: false
      name: Muennighoff
      type: user
    createdAt: '2024-01-24T09:29:00.000Z'
    data:
      edited: false
      editors:
      - Muennighoff
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.420850932598114
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1659799717718-5f1eb362eec0ad2a071ad6e2.jpeg?w=200&h=200&f=face
          fullname: Niklas Muennighoff
          isHf: false
          isPro: false
          name: Muennighoff
          type: user
        html: "<p>From <a href=\"https://huggingface.co/bigscience/mt0-small\">https://huggingface.co/bigscience/mt0-small</a></p>\n\
          <pre><code class=\"language-python\"><span class=\"hljs-comment\"># pip\
          \ install -q transformers accelerate</span>\n<span class=\"hljs-keyword\"\
          >from</span> transformers <span class=\"hljs-keyword\">import</span> AutoModelForSeq2SeqLM,\
          \ AutoTokenizer\n\ncheckpoint = <span class=\"hljs-string\">\"bigscience/mt0-small\"\
          </span>\n\ntokenizer = AutoTokenizer.from_pretrained(checkpoint)\nmodel\
          \ = AutoModelForSeq2SeqLM.from_pretrained(checkpoint, torch_dtype=<span\
          \ class=\"hljs-string\">\"auto\"</span>, device_map=<span class=\"hljs-string\"\
          >\"auto\"</span>)\n\ninputs = tokenizer.encode(<span class=\"hljs-string\"\
          >\"Translate to English: Je t\u2019aime.\"</span>, return_tensors=<span\
          \ class=\"hljs-string\">\"pt\"</span>).to(<span class=\"hljs-string\">\"\
          cuda\"</span>)\noutputs = model.generate(inputs)\n<span class=\"hljs-built_in\"\
          >print</span>(tokenizer.decode(outputs[<span class=\"hljs-number\">0</span>]))\n\
          </code></pre>\n"
        raw: "From https://huggingface.co/bigscience/mt0-small\n```python\n# pip install\
          \ -q transformers accelerate\nfrom transformers import AutoModelForSeq2SeqLM,\
          \ AutoTokenizer\n\ncheckpoint = \"bigscience/mt0-small\"\n\ntokenizer =\
          \ AutoTokenizer.from_pretrained(checkpoint)\nmodel = AutoModelForSeq2SeqLM.from_pretrained(checkpoint,\
          \ torch_dtype=\"auto\", device_map=\"auto\")\n\ninputs = tokenizer.encode(\"\
          Translate to English: Je t\u2019aime.\", return_tensors=\"pt\").to(\"cuda\"\
          )\noutputs = model.generate(inputs)\nprint(tokenizer.decode(outputs[0]))\n\
          \n```"
        updatedAt: '2024-01-24T09:29:00.492Z'
      numEdits: 0
      reactions: []
    id: 65b0d85c3d8a48439ce2d824
    type: comment
  author: Muennighoff
  content: "From https://huggingface.co/bigscience/mt0-small\n```python\n# pip install\
    \ -q transformers accelerate\nfrom transformers import AutoModelForSeq2SeqLM,\
    \ AutoTokenizer\n\ncheckpoint = \"bigscience/mt0-small\"\n\ntokenizer = AutoTokenizer.from_pretrained(checkpoint)\n\
    model = AutoModelForSeq2SeqLM.from_pretrained(checkpoint, torch_dtype=\"auto\"\
    , device_map=\"auto\")\n\ninputs = tokenizer.encode(\"Translate to English: Je\
    \ t\u2019aime.\", return_tensors=\"pt\").to(\"cuda\")\noutputs = model.generate(inputs)\n\
    print(tokenizer.decode(outputs[0]))\n\n```"
  created_at: 2024-01-24 09:29:00+00:00
  edited: false
  hidden: false
  id: 65b0d85c3d8a48439ce2d824
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/cef0b7dbffbfe183d744fe92833b0678.svg
      fullname: prateek gupta
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: dsbyprateekg
      type: user
    createdAt: '2024-01-24T09:38:39.000Z'
    data:
      edited: false
      editors:
      - dsbyprateekg
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.9644355773925781
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/cef0b7dbffbfe183d744fe92833b0678.svg
          fullname: prateek gupta
          isHf: false
          isPro: false
          name: dsbyprateekg
          type: user
        html: "<p><span data-props=\"{&quot;user&quot;:&quot;Muennighoff&quot;}\"\
          \ data-target=\"UserMention\" class=\"SVELTE_PARTIAL_HYDRATER contents\"\
          >\n\n<span class=\"inline-block\"><span class=\"contents\"><a href=\"/Muennighoff\"\
          >@<span class=\"underline\">Muennighoff</span></a></span>\n\n\t</span></span>\
          \ Thanks!<br>It's working now.</p>\n"
        raw: '@Muennighoff Thanks!

          It''s working now.'
        updatedAt: '2024-01-24T09:38:39.239Z'
      numEdits: 0
      reactions: []
    id: 65b0da9fafe15cbbf5d50dad
    type: comment
  author: dsbyprateekg
  content: '@Muennighoff Thanks!

    It''s working now.'
  created_at: 2024-01-24 09:38:39+00:00
  edited: false
  hidden: false
  id: 65b0da9fafe15cbbf5d50dad
  type: comment
is_pull_request: false
merge_commit_oid: null
num: 55
repo_id: bigscience/bloomz
repo_type: model
status: closed
target_branch: null
title: 'ValueError: The state dictionary of the model you are trying to load is corrupted.'
