!!python/object:huggingface_hub.community.DiscussionWithDetails
author: zongkui
conflicting_files: null
created_at: 2023-12-14 14:30:36+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec53d7fead30b92edc9c040833187a39.svg
      fullname: zkzhu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zongkui
      type: user
    createdAt: '2023-12-14T14:30:36.000Z'
    data:
      edited: true
      editors:
      - zongkui
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.9939902424812317
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec53d7fead30b92edc9c040833187a39.svg
          fullname: zkzhu
          isHf: false
          isPro: false
          name: zongkui
          type: user
        html: "<p>1\u3001LongBench\u6D4B\u8BD5\u7ED3\u679C\uFF0C\u5176\u4ED64\u4F4D\
          \u662Fzero-shot\u5427\uFF1F\u8FD9\u4E2A\u6A21\u578B\u662F\u505A\u4E86sft\u7684\
          \uFF0C\u5BF9\u6BD4\u662F\u4E0D\u662F\u6709\u70B9\u4E0D\u516C\u5E73\uFF0C\
          \u5E94\u8BE5\u62FF\u7B2C2\u6B65\u9884\u8BAD\u7EC3\u540E\u7684\u6A21\u578B\
          \u5BF9\u6BD4\u5427\uFF1F<br>2\u3001\u53EF\u4EE5\u57FA\u4E8E\u8FD9\u4E2A\u6A21\
          \u578B\uFF0C\u7EE7\u7EED\u505Alora\u8BAD\u7EC3\u5417\uFF1F<br>3\u3001\u7B2C\
          3\u6B65\u5FAE\u8C03\u540E\u7684\u6743\u91CD\u80FD\u5355\u72EC\u62CE\u51FA\
          \u6765\u5417\uFF0C\u5373\u7B2C2\u6B65\u9884\u8BAD\u7EC3\u7684\u6A21\u578B\
          +\u5FAE\u8C03\u6743\u91CD</p>\n"
        raw: "1\u3001LongBench\u6D4B\u8BD5\u7ED3\u679C\uFF0C\u5176\u4ED64\u4F4D\u662F\
          zero-shot\u5427\uFF1F\u8FD9\u4E2A\u6A21\u578B\u662F\u505A\u4E86sft\u7684\
          \uFF0C\u5BF9\u6BD4\u662F\u4E0D\u662F\u6709\u70B9\u4E0D\u516C\u5E73\uFF0C\
          \u5E94\u8BE5\u62FF\u7B2C2\u6B65\u9884\u8BAD\u7EC3\u540E\u7684\u6A21\u578B\
          \u5BF9\u6BD4\u5427\uFF1F\n2\u3001\u53EF\u4EE5\u57FA\u4E8E\u8FD9\u4E2A\u6A21\
          \u578B\uFF0C\u7EE7\u7EED\u505Alora\u8BAD\u7EC3\u5417\uFF1F\n3\u3001\u7B2C\
          3\u6B65\u5FAE\u8C03\u540E\u7684\u6743\u91CD\u80FD\u5355\u72EC\u62CE\u51FA\
          \u6765\u5417\uFF0C\u5373\u7B2C2\u6B65\u9884\u8BAD\u7EC3\u7684\u6A21\u578B\
          +\u5FAE\u8C03\u6743\u91CD"
        updatedAt: '2023-12-14T14:34:02.769Z'
      numEdits: 1
      reactions: []
    id: 657b118cb8d76880f8784b33
    type: comment
  author: zongkui
  content: "1\u3001LongBench\u6D4B\u8BD5\u7ED3\u679C\uFF0C\u5176\u4ED64\u4F4D\u662F\
    zero-shot\u5427\uFF1F\u8FD9\u4E2A\u6A21\u578B\u662F\u505A\u4E86sft\u7684\uFF0C\
    \u5BF9\u6BD4\u662F\u4E0D\u662F\u6709\u70B9\u4E0D\u516C\u5E73\uFF0C\u5E94\u8BE5\
    \u62FF\u7B2C2\u6B65\u9884\u8BAD\u7EC3\u540E\u7684\u6A21\u578B\u5BF9\u6BD4\u5427\
    \uFF1F\n2\u3001\u53EF\u4EE5\u57FA\u4E8E\u8FD9\u4E2A\u6A21\u578B\uFF0C\u7EE7\u7EED\
    \u505Alora\u8BAD\u7EC3\u5417\uFF1F\n3\u3001\u7B2C3\u6B65\u5FAE\u8C03\u540E\u7684\
    \u6743\u91CD\u80FD\u5355\u72EC\u62CE\u51FA\u6765\u5417\uFF0C\u5373\u7B2C2\u6B65\
    \u9884\u8BAD\u7EC3\u7684\u6A21\u578B+\u5FAE\u8C03\u6743\u91CD"
  created_at: 2023-12-14 14:30:36+00:00
  edited: true
  hidden: false
  id: 657b118cb8d76880f8784b33
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6374c494958cd71fa7ea0a9d/2YCKv6tXCZXtsIOFIIXjs.png?w=200&h=200&f=face
      fullname: yuyijiong
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: yuyijiong
      type: user
    createdAt: '2023-12-14T14:39:05.000Z'
    data:
      edited: false
      editors:
      - yuyijiong
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.985866367816925
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6374c494958cd71fa7ea0a9d/2YCKv6tXCZXtsIOFIIXjs.png?w=200&h=200&f=face
          fullname: yuyijiong
          isHf: false
          isPro: false
          name: yuyijiong
          type: user
        html: "<p>1.\u53C2\u4E0E\u5BF9\u6BD4\u7684\u6240\u6709\u6A21\u578B\u90FD\u662F\
          \u7ECF\u8FC7sft\u7684chat\u6A21\u578B\uFF0C\u4E14\u6D4B\u8BD5\u6837\u672C\
          \u5927\u90E8\u5206\u90FD\u4E0D\u5927\u4E8E\u5176\u4E0A\u4E0B\u6587\u957F\
          \u5EA6\u3002<br>2.\u53EF\u4EE5\u7EE7\u7EEDlora<br>3.\u6709\u5355\u72EC\u7684\
          \u6743\u91CD\uFF0C\u4F46\u662F\u76EE\u524D\u7248\u672C\u9884\u8BAD\u7EC3\
          \u5176\u5B9E\u5E76\u4E0D\u5145\u5206\uFF0C\u51E0\u4E4E\u548C\u539F\u7248\
          Qwen-14b\u6548\u679C\u4E00\u6837\u3002\u6307\u4EE4\u5FAE\u8C03\u66F4\u91CD\
          \u8981\u3002</p>\n"
        raw: "1.\u53C2\u4E0E\u5BF9\u6BD4\u7684\u6240\u6709\u6A21\u578B\u90FD\u662F\
          \u7ECF\u8FC7sft\u7684chat\u6A21\u578B\uFF0C\u4E14\u6D4B\u8BD5\u6837\u672C\
          \u5927\u90E8\u5206\u90FD\u4E0D\u5927\u4E8E\u5176\u4E0A\u4E0B\u6587\u957F\
          \u5EA6\u3002\n2.\u53EF\u4EE5\u7EE7\u7EEDlora\n3.\u6709\u5355\u72EC\u7684\
          \u6743\u91CD\uFF0C\u4F46\u662F\u76EE\u524D\u7248\u672C\u9884\u8BAD\u7EC3\
          \u5176\u5B9E\u5E76\u4E0D\u5145\u5206\uFF0C\u51E0\u4E4E\u548C\u539F\u7248\
          Qwen-14b\u6548\u679C\u4E00\u6837\u3002\u6307\u4EE4\u5FAE\u8C03\u66F4\u91CD\
          \u8981\u3002"
        updatedAt: '2023-12-14T14:39:05.523Z'
      numEdits: 0
      reactions: []
    id: 657b1389de028a439e9bddbf
    type: comment
  author: yuyijiong
  content: "1.\u53C2\u4E0E\u5BF9\u6BD4\u7684\u6240\u6709\u6A21\u578B\u90FD\u662F\u7ECF\
    \u8FC7sft\u7684chat\u6A21\u578B\uFF0C\u4E14\u6D4B\u8BD5\u6837\u672C\u5927\u90E8\
    \u5206\u90FD\u4E0D\u5927\u4E8E\u5176\u4E0A\u4E0B\u6587\u957F\u5EA6\u3002\n2.\u53EF\
    \u4EE5\u7EE7\u7EEDlora\n3.\u6709\u5355\u72EC\u7684\u6743\u91CD\uFF0C\u4F46\u662F\
    \u76EE\u524D\u7248\u672C\u9884\u8BAD\u7EC3\u5176\u5B9E\u5E76\u4E0D\u5145\u5206\
    \uFF0C\u51E0\u4E4E\u548C\u539F\u7248Qwen-14b\u6548\u679C\u4E00\u6837\u3002\u6307\
    \u4EE4\u5FAE\u8C03\u66F4\u91CD\u8981\u3002"
  created_at: 2023-12-14 14:39:05+00:00
  edited: false
  hidden: false
  id: 657b1389de028a439e9bddbf
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec53d7fead30b92edc9c040833187a39.svg
      fullname: zkzhu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zongkui
      type: user
    createdAt: '2023-12-14T15:17:46.000Z'
    data:
      edited: false
      editors:
      - zongkui
      hidden: false
      identifiedLanguage:
        language: en
        probability: 0.4485456943511963
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec53d7fead30b92edc9c040833187a39.svg
          fullname: zkzhu
          isHf: false
          isPro: false
          name: zongkui
          type: user
        html: "<p>\u611F\u8C22\u5927\u4F6C\u56DE\u590D\u3002<br>\u6211\u662F\u7528\
          swift\u3010<a rel=\"nofollow\" href=\"https://github.com/modelscope/swift%E3%80%91%E5%BE%AE%E8%B0%83%E7%9A%84%EF%BC%8C%E6%8A%A5%E4%B8%8B%E9%9D%A2%E8%BF%99%E4%B8%AA%E9%94%99%E8%AF%AF%EF%BC%8C%E8%83%BD%E5%B8%AE%E5%BF%99%E7%9C%8B%E4%B8%8B%E5%90%97\"\
          >https://github.com/modelscope/swift\u3011\u5FAE\u8C03\u7684\uFF0C\u62A5\
          \u4E0B\u9762\u8FD9\u4E2A\u9519\u8BEF\uFF0C\u80FD\u5E2E\u5FD9\u770B\u4E0B\
          \u5417</a></p>\n<p>  0%|          | 0/2160 [00:00&lt;?, ?it/s]<code>use_cache=True</code>\
          \ is incompatible with gradient checkpointing. Setting <code>use_cache=False</code>...<br>Traceback\
          \ (most recent call last):<br>  File \"/mnt/zkzhu/zzk/llm_sft/zzk_swift_llm/llm_sft.py\"\
          , line 10, in <br>    output = sft_main()<br>  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/utils/run_utils.py\"\
          , line 27, in x_main<br>    return llm_x(args, **kwargs)<br>  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/llm/sft.py\"\
          , line 304, in llm_sft<br>    trainer.train(training_args.resume_from_checkpoint)<br>\
          \  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
          , line 1555, in train<br>    return inner_training_loop(<br>  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
          , line 1860, in _inner_training_loop<br>    tr_loss_step = self.training_step(model,\
          \ inputs)<br>  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/trainers/trainers.py\"\
          , line 48, in training_step<br>    training_output = super().training_step(*args,\
          \ **kwargs)<br>  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
          , line 2725, in training_step<br>    loss = self.compute_loss(model, inputs)<br>\
          \  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/trainers/trainers.py\"\
          , line 185, in compute_loss<br>    preds = outputs.logits.argmax(dim=2)[...,\
          \ :-1]<br>AttributeError: 'NoneType' object has no attribute 'argmax'</p>\n\
          <p>  0%|          | 0/2160 [00:01&lt;?, ?it/s]</p>\n"
        raw: "\u611F\u8C22\u5927\u4F6C\u56DE\u590D\u3002\n\u6211\u662F\u7528swift\u3010\
          https://github.com/modelscope/swift\u3011\u5FAE\u8C03\u7684\uFF0C\u62A5\u4E0B\
          \u9762\u8FD9\u4E2A\u9519\u8BEF\uFF0C\u80FD\u5E2E\u5FD9\u770B\u4E0B\u5417\
          \n\n  0%|          | 0/2160 [00:00<?, ?it/s]`use_cache=True` is incompatible\
          \ with gradient checkpointing. Setting `use_cache=False`...\nTraceback (most\
          \ recent call last):\n  File \"/mnt/zkzhu/zzk/llm_sft/zzk_swift_llm/llm_sft.py\"\
          , line 10, in <module>\n    output = sft_main()\n  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/utils/run_utils.py\"\
          , line 27, in x_main\n    return llm_x(args, **kwargs)\n  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/llm/sft.py\"\
          , line 304, in llm_sft\n    trainer.train(training_args.resume_from_checkpoint)\n\
          \  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
          , line 1555, in train\n    return inner_training_loop(\n  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
          , line 1860, in _inner_training_loop\n    tr_loss_step = self.training_step(model,\
          \ inputs)\n  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/trainers/trainers.py\"\
          , line 48, in training_step\n    training_output = super().training_step(*args,\
          \ **kwargs)\n  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
          , line 2725, in training_step\n    loss = self.compute_loss(model, inputs)\n\
          \  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/trainers/trainers.py\"\
          , line 185, in compute_loss\n    preds = outputs.logits.argmax(dim=2)[...,\
          \ :-1]\nAttributeError: 'NoneType' object has no attribute 'argmax'\n\n\
          \  0%|          | 0/2160 [00:01<?, ?it/s]"
        updatedAt: '2023-12-14T15:17:46.518Z'
      numEdits: 0
      reactions: []
    id: 657b1c9a3bc822bb7189ed2b
    type: comment
  author: zongkui
  content: "\u611F\u8C22\u5927\u4F6C\u56DE\u590D\u3002\n\u6211\u662F\u7528swift\u3010\
    https://github.com/modelscope/swift\u3011\u5FAE\u8C03\u7684\uFF0C\u62A5\u4E0B\u9762\
    \u8FD9\u4E2A\u9519\u8BEF\uFF0C\u80FD\u5E2E\u5FD9\u770B\u4E0B\u5417\n\n  0%|  \
    \        | 0/2160 [00:00<?, ?it/s]`use_cache=True` is incompatible with gradient\
    \ checkpointing. Setting `use_cache=False`...\nTraceback (most recent call last):\n\
    \  File \"/mnt/zkzhu/zzk/llm_sft/zzk_swift_llm/llm_sft.py\", line 10, in <module>\n\
    \    output = sft_main()\n  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/utils/run_utils.py\"\
    , line 27, in x_main\n    return llm_x(args, **kwargs)\n  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/llm/sft.py\"\
    , line 304, in llm_sft\n    trainer.train(training_args.resume_from_checkpoint)\n\
    \  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
    , line 1555, in train\n    return inner_training_loop(\n  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
    , line 1860, in _inner_training_loop\n    tr_loss_step = self.training_step(model,\
    \ inputs)\n  File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/trainers/trainers.py\"\
    , line 48, in training_step\n    training_output = super().training_step(*args,\
    \ **kwargs)\n  File \"/mnt/zkzhu/miniconda3/envs/pt2.0/lib/python3.9/site-packages/transformers/trainer.py\"\
    , line 2725, in training_step\n    loss = self.compute_loss(model, inputs)\n \
    \ File \"/mnt/zkzhu/zzk/llm_sft/swift-main/swift/trainers/trainers.py\", line\
    \ 185, in compute_loss\n    preds = outputs.logits.argmax(dim=2)[..., :-1]\nAttributeError:\
    \ 'NoneType' object has no attribute 'argmax'\n\n  0%|          | 0/2160 [00:01<?,\
    \ ?it/s]"
  created_at: 2023-12-14 15:17:46+00:00
  edited: false
  hidden: false
  id: 657b1c9a3bc822bb7189ed2b
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: /avatars/ec53d7fead30b92edc9c040833187a39.svg
      fullname: zkzhu
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: zongkui
      type: user
    createdAt: '2023-12-15T02:01:37.000Z'
    data:
      edited: true
      editors:
      - zongkui
      hidden: false
      identifiedLanguage:
        language: zh
        probability: 0.7636947631835938
      isReport: false
      latest:
        author:
          avatarUrl: /avatars/ec53d7fead30b92edc9c040833187a39.svg
          fullname: zkzhu
          isHf: false
          isPro: false
          name: zongkui
          type: user
        html: "<p>\u627E\u5230\u95EE\u9898\u4E86\uFF0C\u6E90\u7801\u4E2D<br>1159-1160\u884C\
          \u9700\u8981\u6CE8\u91CA\u6389\uFF1A<br>if self.training:<br>    lm_logits=None</p>\n"
        raw: "\u627E\u5230\u95EE\u9898\u4E86\uFF0C\u6E90\u7801\u4E2D\n1159-1160\u884C\
          \u9700\u8981\u6CE8\u91CA\u6389\uFF1A\nif self.training:\n    lm_logits=None"
        updatedAt: '2023-12-15T02:01:54.070Z'
      numEdits: 1
      reactions: []
    id: 657bb3819f62ed61a20fac7c
    type: comment
  author: zongkui
  content: "\u627E\u5230\u95EE\u9898\u4E86\uFF0C\u6E90\u7801\u4E2D\n1159-1160\u884C\
    \u9700\u8981\u6CE8\u91CA\u6389\uFF1A\nif self.training:\n    lm_logits=None"
  created_at: 2023-12-15 02:01:37+00:00
  edited: true
  hidden: false
  id: 657bb3819f62ed61a20fac7c
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/6374c494958cd71fa7ea0a9d/2YCKv6tXCZXtsIOFIIXjs.png?w=200&h=200&f=face
      fullname: yuyijiong
      isHf: false
      isOrgMember: false
      isOwner: true
      isPro: false
      name: yuyijiong
      type: user
    createdAt: '2023-12-15T04:50:27.000Z'
    data:
      status: closed
    id: 657bdb138c3aee7054744eb9
    type: status-change
  author: yuyijiong
  created_at: 2023-12-15 04:50:27+00:00
  id: 657bdb138c3aee7054744eb9
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: yuyijiong/Qwen-14b-chat-yarn-32k
repo_type: model
status: closed
target_branch: null
title: "\u51E0\u4E2A\u7591\u95EE"
