!!python/object:huggingface_hub.community.DiscussionWithDetails
author: chompk
conflicting_files: null
created_at: 2022-07-05 11:07:44+00:00
diff: null
endpoint: https://huggingface.co
events:
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618557184274-noauth.png?w=200&h=200&f=face
      fullname: Chompakorn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chompk
      type: user
    createdAt: '2022-07-05T12:07:44.000Z'
    data:
      edited: false
      editors:
      - chompk
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618557184274-noauth.png?w=200&h=200&f=face
          fullname: Chompakorn
          isHf: false
          isPro: false
          name: chompk
          type: user
        html: '<p>Hi,</p>

          <p>I''m trying to use this model for experiment with downstream task. I''m
          following <a href="https://huggingface.co/docs/transformers/main/en/model_doc/hubert#transformers.HubertModel">this
          tutorial</a> for using HuBERT model. Here''s my code snippet:</p>

          <pre><code class="language-python">processor = Wav2Vec2Processor.from_pretrained(<span
          class="hljs-string">"facebook/hubert-base-ls960"</span>)

          model = HubertForCTC.from_pretrained(<span class="hljs-string">"facebook/hubert-base-ls960"</span>)

          </code></pre>

          <p>However, the code raise the following error:</p>

          <pre><code>/path/to/python/site-packages/transformers/models/wav2vec2/processing_wav2vec2.py:58:
          FutureWarning: Loading a tokenizer inside Wav2Vec2Processor from a config
          that does not include a `tokenizer_class` attribute is deprecated and will
          be removed in v5. Please add `''tokenizer_class'': ''Wav2Vec2CTCTokenizer''`
          attribute to either your `config.json` or `tokenizer_config.json` file to
          suppress this warning:


          ...


          OSError: Can''t load tokenizer for ''facebook/hubert-base-ls960''. If you
          were trying to load it from ''https://huggingface.co/models'', make sure
          you don''t have a local directory with the same name. Otherwise, make sure
          ''facebook/hubert-base-ls960'' is the correct path to a directory containing
          all relevant files for a Wav2Vec2CTCTokenizer tokenizer.

          </code></pre>

          <p>However, when i retry this code with <code>facebook/hubert-large-ls960-ft</code>,
          there''s no error showed and the code run just fine. Does this means that
          <code>facebook/hubert-base-ls960</code> doesn''t have a preprocessor? If
          so, is there any necessary normalization steps required?</p>

          '
        raw: "Hi,\r\n\r\nI'm trying to use this model for experiment with downstream\
          \ task. I'm following [this tutorial](https://huggingface.co/docs/transformers/main/en/model_doc/hubert#transformers.HubertModel)\
          \ for using HuBERT model. Here's my code snippet:\r\n\r\n```python\r\nprocessor\
          \ = Wav2Vec2Processor.from_pretrained(\"facebook/hubert-base-ls960\")\r\n\
          model = HubertForCTC.from_pretrained(\"facebook/hubert-base-ls960\")\r\n\
          ```\r\n\r\nHowever, the code raise the following error:\r\n```\r\n/path/to/python/site-packages/transformers/models/wav2vec2/processing_wav2vec2.py:58:\
          \ FutureWarning: Loading a tokenizer inside Wav2Vec2Processor from a config\
          \ that does not include a `tokenizer_class` attribute is deprecated and\
          \ will be removed in v5. Please add `'tokenizer_class': 'Wav2Vec2CTCTokenizer'`\
          \ attribute to either your `config.json` or `tokenizer_config.json` file\
          \ to suppress this warning:\r\n\r\n...\r\n\r\nOSError: Can't load tokenizer\
          \ for 'facebook/hubert-base-ls960'. If you were trying to load it from 'https://huggingface.co/models',\
          \ make sure you don't have a local directory with the same name. Otherwise,\
          \ make sure 'facebook/hubert-base-ls960' is the correct path to a directory\
          \ containing all relevant files for a Wav2Vec2CTCTokenizer tokenizer.\r\n\
          ```\r\n\r\nHowever, when i retry this code with `facebook/hubert-large-ls960-ft`,\
          \ there's no error showed and the code run just fine. Does this means that\
          \ `facebook/hubert-base-ls960` doesn't have a preprocessor? If so, is there\
          \ any necessary normalization steps required?"
        updatedAt: '2022-07-05T12:07:44.613Z'
      numEdits: 0
      reactions: []
    id: 62c429906c9d6d7a2b0eaa10
    type: comment
  author: chompk
  content: "Hi,\r\n\r\nI'm trying to use this model for experiment with downstream\
    \ task. I'm following [this tutorial](https://huggingface.co/docs/transformers/main/en/model_doc/hubert#transformers.HubertModel)\
    \ for using HuBERT model. Here's my code snippet:\r\n\r\n```python\r\nprocessor\
    \ = Wav2Vec2Processor.from_pretrained(\"facebook/hubert-base-ls960\")\r\nmodel\
    \ = HubertForCTC.from_pretrained(\"facebook/hubert-base-ls960\")\r\n```\r\n\r\n\
    However, the code raise the following error:\r\n```\r\n/path/to/python/site-packages/transformers/models/wav2vec2/processing_wav2vec2.py:58:\
    \ FutureWarning: Loading a tokenizer inside Wav2Vec2Processor from a config that\
    \ does not include a `tokenizer_class` attribute is deprecated and will be removed\
    \ in v5. Please add `'tokenizer_class': 'Wav2Vec2CTCTokenizer'` attribute to either\
    \ your `config.json` or `tokenizer_config.json` file to suppress this warning:\r\
    \n\r\n...\r\n\r\nOSError: Can't load tokenizer for 'facebook/hubert-base-ls960'.\
    \ If you were trying to load it from 'https://huggingface.co/models', make sure\
    \ you don't have a local directory with the same name. Otherwise, make sure 'facebook/hubert-base-ls960'\
    \ is the correct path to a directory containing all relevant files for a Wav2Vec2CTCTokenizer\
    \ tokenizer.\r\n```\r\n\r\nHowever, when i retry this code with `facebook/hubert-large-ls960-ft`,\
    \ there's no error showed and the code run just fine. Does this means that `facebook/hubert-base-ls960`\
    \ doesn't have a preprocessor? If so, is there any necessary normalization steps\
    \ required?"
  created_at: 2022-07-05 11:07:44+00:00
  edited: false
  hidden: false
  id: 62c429906c9d6d7a2b0eaa10
  type: comment
- !!python/object:huggingface_hub.community.DiscussionComment
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618557184274-noauth.png?w=200&h=200&f=face
      fullname: Chompakorn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chompk
      type: user
    createdAt: '2022-07-14T14:24:23.000Z'
    data:
      edited: false
      editors:
      - chompk
      hidden: false
      isReport: false
      latest:
        author:
          avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618557184274-noauth.png?w=200&h=200&f=face
          fullname: Chompakorn
          isHf: false
          isPro: false
          name: chompk
          type: user
        html: '<p>Resolved, it seems that I need to declare the tokenizer and preprocessor
          as described in <a href="https://huggingface.co/blog/fine-tune-wav2vec2-english">here</a></p>

          '
        raw: Resolved, it seems that I need to declare the tokenizer and preprocessor
          as described in [here](https://huggingface.co/blog/fine-tune-wav2vec2-english)
        updatedAt: '2022-07-14T14:24:23.698Z'
      numEdits: 0
      reactions: []
    id: 62d02717485856cd710b4c21
    type: comment
  author: chompk
  content: Resolved, it seems that I need to declare the tokenizer and preprocessor
    as described in [here](https://huggingface.co/blog/fine-tune-wav2vec2-english)
  created_at: 2022-07-14 13:24:23+00:00
  edited: false
  hidden: false
  id: 62d02717485856cd710b4c21
  type: comment
- !!python/object:huggingface_hub.community.DiscussionStatusChange
  _event:
    author:
      avatarUrl: https://aeiljuispo.cloudimg.io/v7/https://cdn-uploads.huggingface.co/production/uploads/1618557184274-noauth.png?w=200&h=200&f=face
      fullname: Chompakorn
      isHf: false
      isOrgMember: false
      isOwner: false
      isPro: false
      name: chompk
      type: user
    createdAt: '2022-07-14T14:24:23.000Z'
    data:
      status: closed
    id: 62d02717485856cd710b4c22
    type: status-change
  author: chompk
  created_at: 2022-07-14 13:24:23+00:00
  id: 62d02717485856cd710b4c22
  new_status: closed
  type: status-change
is_pull_request: false
merge_commit_oid: null
num: 1
repo_id: facebook/hubert-base-ls960
repo_type: model
status: closed
target_branch: null
title: Preprocessor for `faceebook/hubert-base-ls960`
